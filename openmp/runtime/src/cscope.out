cscope 15 $HOME/openmp/runtime/src               0002391190
	@extractExternal.cpp

13 
	~<f¡»am
>

14 
	~<io¡»am
>

15 
	~<m­
>

16 
	~<£t
>

17 
	~<¡dlib.h
>

18 
	~<¡ršg
>

19 
	~<¡r¡»am
>

34 
usšg
 
Çme¥aû
 
	g¡d
;

36 
	$¡İ
(*
”rÜMsg
) {

37 
	`´štf
("%s\n", 
”rÜMsg
);

38 
	`ex™
(1);

39 
	}
}

42 şas 
	cSymbŞ
 {

43 
	mpublic
:

44 
__št64
 
Çme
;

45 
	mv®ue
;

46 
	m£ùiÚNum
, 
	mty³
;

47 
	m¡ÜageCÏss
, 
	mnAux
;

50 şas 
	c_r¡»am
 : 
public
 
i¡r¡»am
 {

51 
´iv©e
:

52 cÚ¡ *
buf
;

54 
	m´Ùeùed
:

55 
_r¡»am
(
·œ
<cÚ¡ *, 
¡»amsize
> 
p
)

56 : 
i¡r¡»am
(
p
.
fœ¡
,….
£cÚd
), 
	$buf
(
p
.
fœ¡
) {}

57 ~
	$_r¡»am
(è{ 
d–‘e
[] 
buf
; 
	}
}

63 şas 
	cr¡»am
 : 
public
 
_r¡»am
 {

64 
´iv©e
:

65 
‹m¶©e
 <
şass
 
T
> 
šlše
 
r¡»am
 &
	$doR—d
(
T
 &
x
) {

66 
	`»ad
((*)&
x
, (
T
));

67  *
this
;

69 
·œ
<cÚ¡ *, 
¡»amsize
> 
	$g‘Buf
(cÚ¡ *
feName
) {

70 
if¡»am
 
	`¿w
(
feName
, 
ios
::
bš¬y
 | ios::
š
);

71 ià(!
¿w
.
	`is_İ’
())

72 
	`¡İ
("rstream.getBuf: Error opening file");

73 
¿w
.
	`£ekg
(0, 
ios
::
’d
);

74 
¡»ampos
 
feSize
 = 
¿w
.
	`‹Îg
();

75 ià(
feSize
 < 0)

76 
	`¡İ
("rstream.getBuf: Error„eading file");

77 *
buf
 = 
Ãw
 [
feSize
];

78 
¿w
.
	`£ekg
(0, 
ios
::
beg
);

79 
¿w
.
	`»ad
(
buf
, 
feSize
);

80  
·œ
<cÚ¡ *, 
¡»amsize
>(
buf
, 
feSize
);

81 
	}
}

83 
	gpublic
:

85 
	$r¡»am
(cÚ¡ *
buf
, 
¡»amsize
 
size
)

86 : 
	`_r¡»am
(
·œ
<cÚ¡ *, 
¡»amsize
>(
buf
, 
size
)è{
	}
}

89 
	$r¡»am
(cÚ¡ *
feName
è: 
	`_r¡»am
(
	$g‘Buf
(
feName
)è{
	}
}

90 
r¡»am
 &
İ”©Ü
>>(&
x
è{  
doR—d
(x); }

91 
	gr¡»am
 &
	gİ”©Ü
>>(&
	gx
è{  
doR—d
(
x
); }

92 
	gr¡»am
 &
	gİ”©Ü
>>(&
	gx
è{  
doR—d
(
x
); }

93 
	gr¡»am
 &
	gİ”©Ü
>>(&
	gx
è{  
doR—d
(
x
); }

94 
	gr¡»am
 &
	gİ”©Ü
>>(
	gSymbŞ
 &
	ge
) {

95 
»ad
((*)&
e
, 18);

96  *
	gthis
;

101 şas 
	cSŒšgTabË
 {

102 
	m´iv©e
:

103 
m­
<
¡ršg
, > 
	mdœeùÜy
;

104 
size_t
 
	mËngth
;

105 *
	md©a
;

108 
	$makeDœeùÜy
() {

109 
i
 = 4;

110 
i
 < 
Ëngth
) {

111 
¡ršg
 
s
 = 
	`¡ršg
(
d©a
 + 
i
);

112 
dœeùÜy
.
	`š£¹
(
	`make_·œ
(
s
, 
i
));

113 
i
 +ğ
s
.
	`size
() + 1;

117 
	$š™
(cÚ¡ *
_d©a
) {

118 
_Ëngth
 = *(*)
_d©a
;

120 ià(
_Ëngth
 < (è|| _Ëngth !ğ*(*)
_d©a
)

121 
	`¡İ
("StringTable.init: Invalid symbolable");

122 ià(
_d©a
[
_Ëngth
 - 1]) {

124 
d©a
 = 
Ãw
 [
Ëngth
 = 
_Ëngth
 + 1];

125 
d©a
[
_Ëngth
] = 0;

127 
d©a
 = 
Ãw
 [
Ëngth
 = 
_Ëngth
];

129 *(*)
d©a
 = 
Ëngth
;

130 
	`KMP_MEMCPY
(
d©a
 + (), 
_d©a
 + (),

131 
Ëngth
 - ());

132 
	`makeDœeùÜy
();

133 
	}
}

135 
	gpublic
:

136 
	$SŒšgTabË
(
r¡»am
 &
f
) {

138 
¡»ampos
 
s
;

139 
¡rSize
;

140 *
¡rD©a
;

142 
s
 = 
f
.
	`‹Îg
();

143 
f
 >> 
¡rSize
;

144 ià(
¡rSize
 < ())

145 
	`¡İ
("StringTable: Invalid stringable");

146 
¡rD©a
 = 
Ãw
 [
¡rSize
];

147 *(*)
¡rD©a
 = 
¡rSize
;

149 
f
.
	`»ad
(
¡rD©a
 + (), 
¡rSize
 - ());

150 
s
 = 
f
.
	`‹Îg
() - s;

151 ià(
s
 < 
¡rSize
)

152 
	`¡İ
("StringTable: Unexpected EOF");

153 
	`š™
(
¡rD©a
);

154 
d–‘e
[] 
¡rD©a
;

155 
	}
}

156 
SŒšgTabË
(cÚ¡ 
£t
<
¡ršg
> &
¡ršgs
) {

158 *
	gp
;

159 
	g£t
<
	g¡ršg
>::
cÚ¡_™”©Ü
 
™
;

160 
size_t
 
	gs
;

163 
	gËngth
 = (), 
	g™
 = 
¡ršgs
.
begš
(); iˆ!ğ¡ršgs.
’d
();

164 ++
	g™
) {

165 
size_t
 
	gl
 = (*
™
).
size
();

167 ià(
	gl
 > ()0xFFFFFFFF)

168 
¡İ
("StringTable: Stringoo†ong");

169 ià(
	gl
 > 8) {

170 
	gËngth
 +ğ
l
 + 1;

171 ià(
	gËngth
 > ()0xFFFFFFFF)

172 
¡İ
("StringTable: Symbolableoo†ong");

175 
	gd©a
 = 
Ãw
 [
Ëngth
];

176 *(*)
	gd©a
 = 
Ëngth
;

178 
	gp
 = 
d©a
 + (), 
	g™
 = 
¡ršgs
.
begš
(); iˆ!ğ¡ršgs.
’d
();

179 ++
	g™
) {

180 cÚ¡ 
	g¡ršg
 &
	g¡r
 = *
™
;

181 
size_t
 
	gl
 = 
¡r
.
size
();

182 ià(
	gl
 > 8) {

183 
	gdœeùÜy
.
š£¹
(
make_·œ
(
¡r
, 
p
 - 
d©a
));

184 
KMP_MEMCPY
(
p
, 
¡r
.
c_¡r
(), 
l
);

185 
	gp
[
l
] = 0;

186 
	gp
 +ğ
l
 + 1;

190 ~
	$SŒšgTabË
(è{ 
d–‘e
[] 
d©a
; 
	}
}

194 
__št64
 
	$’code
(cÚ¡ 
¡ršg
 &
¡r
) {

195 
__št64
 
r
;

197 ià(
¡r
.
	`size
() <= 8) {

199 ((*)&
r
)[7] = 0;

200 
	`KMP_STRNCPY_S
((*)&
r
, Ô), 
¡r
.
	`c_¡r
(), 8);

201  
r
;

204 
m­
<
¡ršg
, >::
cÚ¡_™”©Ü
 
™
 = 
dœeùÜy
.
	`fšd
(
¡r
);

205 ià(
™
 =ğ
dœeùÜy
.
	`’d
())

206 
	`¡İ
("StringTable::encode: String‚ow found in stringable");

207 ((*)&
r
)[0] = 0;

208 ((*)&
r
)[1] = (*
™
).
£cÚd
;

209  
r
;

211 
	}
}

214 
¡ršg
 
	$decode
(
__št64
 
x
) const {

215 ià(*(*)&
x
 == 0) {

217 &
p
 = ((*)&
x
)[1];

218 ià(
p
 >ğ
Ëngth
)

219 
	`¡İ
("StringTable::decode: Invalid stringable†ookup");

220  
	`¡ršg
(
d©a
 + 
p
);

223 *
p
 = (*)&
x
;

224 
i
;

226 
i
 = 0; i < 8 && 
p
[i]; ++i)

228  
	`¡ršg
(
p
, 
i
);

230 
	}
}

231 
	$wr™e
(
o¡»am
 &
os
è{ os.
	`wr™e
(
d©a
, 
Ëngth
); 
	}
}

237 
compu‹Ex‹º®SymbŞs
(cÚ¡ *
feName
, 
£t
<
¡ršg
> *
defšed
,

238 
£t
<
¡ršg
> *
undefšed
) {

239 
¡»ampos
 
	gfeSize
;

240 
size_t
 
	g¡rTabS¹
;

241 
	gsymTabS¹
, 
	gsymNEÁr›s
;

242 
r¡»am
 
f
(
feName
);

244 
	gf
.
£ekg
(0, 
ios
::
’d
);

245 
	gfeSize
 = 
f
.
‹Îg
();

247 
	gf
.
£ekg
(8);

248 
	gf
 >> 
	gsymTabS¹
 >> 
	gsymNEÁr›s
;

250 
	gf
.
£ekg
(
¡rTabS¹
 = 
symTabS¹
 + 18 * (
size_t
)
symNEÁr›s
);

251 ià(
	gf
.
eof
()) {

252 
´štf
("computeExternalSymbols: fileName='%s', fileSize = %lu, symTabStart "

254 
feName
, ()
feSize
, 
symTabS¹
, 
symNEÁr›s
);

255 
¡İ
("computeExternalSymbols: Unexpected EOF 1");

257 
SŒšgTabË
 
¡ršgTabË
(
f
);

258 ià(
	gf
.
‹Îg
(è!ğ
feSize
)

259 
¡İ
("computeExternalSymbols: Unexpected data‡fter stringable");

261 
	gf
.
ş—r
();

262 
	gf
.
£ekg
(
symTabS¹
);

264 
	gdefšed
->
ş—r
();

265 
	gundefšed
->
ş—r
();

266 
	gi
 = 0; i < 
	gsymNEÁr›s
; ++i) {

268 
SymbŞ
 
	ge
;

270 ià(
	gf
.
eof
())

271 
¡İ
("computeExternalSymbols: Unexpected EOF 2");

272 
	gf
 >> 
	ge
;

273 ià(
	gf
.
ç
())

274 
¡İ
("computeExternalSymbols: File„eadƒrror");

275 ià(
	ge
.
	gnAux
) {

276 
	gf
.
£ekg
(
e
.
nAux
 * 18, 
ios
::
cur
);

277 
	gi
 +ğ
e
.
nAux
;

280 ià(
	ge
.
	g¡ÜageCÏss
 == 2)

281 ià(
e
.
£ùiÚNum
)

282 
defšed
->
š£¹
(
¡ršgTabË
.
decode
(
e
.
Çme
));

284 
	gundefšed
->
š£¹
(
¡ršgTabË
.
decode
(
e
.
Çme
));

291 
hideSymbŞs
(*
feName
, cÚ¡ 
£t
<
¡ršg
> &
hide
) {

292 cÚ¡ 
¡ršg
 
´efix
("__kmp_external_");

293 
	g£t
<
	g¡ršg
> 
	g¡ršgs
;

294 
¡»ampos
 
	gfeSize
;

295 
size_t
 
	g¡rTabS¹
;

296 
	gsymTabS¹
, 
	gsymNEÁr›s
;

297 
	gi
;

298 
r¡»am
 
š
(
feName
);

300 
	gš
.
£ekg
(0, 
ios
::
’d
);

301 
	gfeSize
 = 
š
.
‹Îg
();

303 
	gš
.
£ekg
(8);

304 
	gš
 >> 
	gsymTabS¹
 >> 
	gsymNEÁr›s
;

305 
	gš
.
£ekg
(
¡rTabS¹
 = 
symTabS¹
 + 18 * (
size_t
)
symNEÁr›s
);

306 ià(
	gš
.
eof
())

307 
¡İ
("hideSymbols: Unexpected EOF");

308 
SŒšgTabË
 
¡ršgTabËOld
(
š
);

310 ià(
	gš
.
‹Îg
(è!ğ
feSize
)

311 
¡İ
("hideSymbols: Unexpected data‡fter stringable");

314 
	gi
 = 0; i < 
	gsymNEÁr›s
; ++i) {

315 
SymbŞ
 
	ge
;

317 
	gš
.
£ekg
(
symTabS¹
 + 
i
 * 18);

318 ià(
	gš
.
eof
())

319 
¡İ
("hideSymbols: Unexpected EOF");

320 
	gš
 >> 
	ge
;

321 ià(
	gš
.
ç
())

322 
¡İ
("hideSymbols: File„eadƒrror");

323 ià(
	ge
.
	gnAux
)

324 
	gi
 +ğ
e
.
nAux
;

325 cÚ¡ 
	g¡ršg
 &
	gs
 = 
¡ršgTabËOld
.
decode
(
e
.
Çme
);

328 
	g¡ršgs
.
š£¹
(

329 (
e
.
¡ÜageCÏss
 =ğ2 && 
hide
.
fšd
(
s
è!ğhide.
’d
()è? 
´efix
 + s : s);

332 
of¡»am
 
out
(
feName
, 
ios
::
Œunc
 | ios::ouˆ| ios::
bš¬y
);

333 ià(!
	gout
.
is_İ’
())

334 
¡İ
("hideSymbols: Error opening output file");

337 
SŒšgTabË
 
	g¡ršgTabËNew
 = SŒšgTabË(
¡ršgs
);

340 
	gš
.
£ekg
(0);

341 *
	gbuf
 = 
Ãw
 [
symTabS¹
];

342 
	gš
.
»ad
(
buf
, 
symTabS¹
);

343 
	gout
.
wr™e
(
buf
, 
symTabS¹
);

344 
	gd–‘e
[] 
	gbuf
;

347 
	gi
 = 0; i < 
	gsymNEÁr›s
; ++i) {

348 
SymbŞ
 
	ge
;

350 
	gš
.
£ekg
(
symTabS¹
 + 
i
 * 18);

351 ià(
	gš
.
eof
())

352 
¡İ
("hideSymbols: Unexpected EOF");

353 
	gš
 >> 
	ge
;

354 ià(
	gš
.
ç
())

355 
¡İ
("hideSymbols: File„eadƒrror");

356 cÚ¡ 
	g¡ršg
 &
	gs
 = 
¡ršgTabËOld
.
decode
(
e
.
Çme
);

357 
	gout
.
£ekp
(
symTabS¹
 + 
i
 * 18);

358 
	ge
.
	gÇme
 = 
¡ršgTabËNew
.
’code
(

359 (
e
.
¡ÜageCÏss
 =ğ2 && 
hide
.
fšd
(
s
è!ğhide.
’d
()è? 
´efix
 + s : s);

360 
	gout
.
wr™e
((*)&
e
, 18);

361 ià(
	gout
.
ç
())

362 
¡İ
("hideSymbols: File writeƒrror");

363 ià(
	ge
.
	gnAux
) {

365 
	gnAux
 = 
e
.
nAux
;

366 
	gj
 = 1; j <ğ
nAux
; ++j) {

367 
	gš
 >> 
	ge
;

368 
	gout
.
£ekp
(
symTabS¹
 + (
i
 + 
j
) * 18);

369 
	gout
.
wr™e
((*)&
e
, 18);

371 
	gi
 +ğ
nAux
;

375 
	g¡ršgTabËNew
.
wr™e
(
out
);

379 
	g‹m¶©e
 <
şass
 
	gT
> 
boŞ
 
isDisjošt
(cÚ¡ 
£t
<
T
> &
a
, cÚ¡ s‘<T> &
b
) {

380 
	g£t
<
	gT
>::
cÚ¡_™”©Ü
 
™a
, 
	g™b
;

382 
	g™a
 = 
a
.
begš
(), 
	g™b
 = 
b
.begš(); i !ğa.
’d
(è&& 
™b
 != b.end();) {

383 cÚ¡ 
	gT
 &
	g
 = *
™a
, &
	gtb
 = *
™b
;

384 ià(
	g
 < 
	gtb
)

385 ++
	g™a
;

386 ià(
	gtb
 < 
	g
)

387 ++
	g™b
;

389  
	gçl£
;

391  
	gŒue
;

401 
	g£t
<> *
fšdRequœedEx‹º®
(
nEx‹º®
, 
nTÙ®
, 
£t
<
¡ršg
> *
defšed
,

402 
£t
<
¡ršg
> *
undefšed
) {

403 
	g£t
<> *
	g»quœed
 = 
Ãw
 
£t
<>;

404 
	g£t
<> 
	gäesh
[2];

405 
	gi
, 
	gcur
 = 0;

406 
boŞ
 
	gchªged
;

408 
	gi
 = 
nTÙ®
 - 1; i >ğ
nEx‹º®
; --i)

409 
	gäesh
[
cur
].
š£¹
(
i
);

411 
	gchªged
 = 
çl£
;

412 
	g£t
<>::
™”©Ü
 
™
 = 
äesh
[
cur
].
begš
(); 
	g™
 !ğäesh[cur].
’d
();

413 ++
	g™
) {

414 
	g£t
<
	g¡ršg
> &
	gs
 = 
undefšed
[*
™
];

416 
	gi
 = 0; i < 
	gnEx‹º®
; ++i) {

417 ià(
	g»quœed
->
fšd
(
i
è=ğ
»quœed
->
’d
()) {

418 ià(!
isDisjošt
(
defšed
[
i
], 
s
)) {

420 
»quœed
->
š£¹
(
i
);

421 
	gäesh
[1 - 
cur
].
š£¹
(
i
);

422 
	gchªged
 = 
Œue
;

427 
	gäesh
[
cur
].
ş—r
();

428 
	gcur
 = 1 - 
cur
;

429 } 
	gchªged
);

430  
	g»quœed
;

433 
	$maš
(
¬gc
, **
¬gv
) {

434 
nEx‹º®
, 
nIÁ”Çl
, 
i
;

435 
£t
<
¡ršg
> *
defšed
, *
undefšed
;

436 
£t
<>::
™”©Ü
 
™
;

438 ià(
¬gc
 < 3)

439 
	`¡İ
("Please specify‡…ositive integer followed by‡†ist of object "

441 
nEx‹º®
 = 
	`©oi
(
¬gv
[1]);

442 ià(
nEx‹º®
 <= 0)

443 
	`¡İ
("Please specify‡…ositive integer followed by‡†ist of object "

445 ià(
nEx‹º®
 + 2 > 
¬gc
)

446 
	`¡İ
("Too fewƒxternal objects");

447 
nIÁ”Çl
 = 
¬gc
 - 
nEx‹º®
 - 2;

448 
defšed
 = 
Ãw
 
£t
<
¡ršg
>[
¬gc
 - 2];

449 
undefšed
 = 
Ãw
 
£t
<
¡ršg
>[
¬gc
 - 2];

452 
i
 = 2; i < 
¬gc
; ++i)

453 
	`compu‹Ex‹º®SymbŞs
(
¬gv
[
i
], 
defšed
 + i - 2, 
undefšed
 + i - 2);

456 
£t
<> *
»quœedEx‹º®
 =

457 
	`fšdRequœedEx‹º®
(
nEx‹º®
, 
¬gc
 - 2, 
defšed
, 
undefšed
);

458 
£t
<
¡ršg
> 
hide
;

462 
™
 = 
»quœedEx‹º®
->
	`begš
(); iˆ!ğ»quœedEx‹º®->
	`’d
(); ++it) {

463 
idx
 = *
™
;

464 
£t
<
¡ršg
>::
™”©Ü
 
™2
;

468 
™2
 = 
defšed
[
idx
].
	`begš
(); it2 !ğdefšed[idx].
	`’d
(); ++it2)

469 
hide
.
	`š£¹
(*
™2
);

474 
i
 = 0; i < 
nEx‹º®
; ++i)

475 ià(
»quœedEx‹º®
->
	`fšd
(
i
è!ğ»quœedEx‹º®->
	`’d
())

476 
	`hideSymbŞs
(
¬gv
[2 + 
i
], 
hide
);

478 
	`»move
(
¬gv
[2 + 
i
]);

480 
i
 = 
nEx‹º®
 + 2; i < 
¬gc
; ++i)

481 
	`hideSymbŞs
(
¬gv
[
i
], 
hide
);

483 
	}
}

	@kmp.h

14 #iâdeà
KMP_H


15 
	#KMP_H


	)

17 
	~"kmp_cÚfig.h
"

27 #iâdeà
KMP_STATIC_STEAL_ENABLED


28 
	#KMP_STATIC_STEAL_ENABLED
 1

	)

31 
	#TASK_CURRENT_NOT_QUEUED
 0

	)

32 
	#TASK_CURRENT_QUEUED
 1

	)

34 #ifdeà
BUILD_TIED_TASK_STACK


35 
	#TASK_STACK_EMPTY
 0

36 
	#TASK_STACK_BLOCK_BITS
 5

38 
	#TASK_STACK_BLOCK_SIZE
 (1 << 
TASK_STACK_BLOCK_BITS
)

	)

40 
	#TASK_STACK_INDEX_MASK
 (
TASK_STACK_BLOCK_SIZE
 - 1)

	)

43 
	#TASK_NOT_PUSHED
 1

	)

44 
	#TASK_SUCCESSFULLY_PUSHED
 0

	)

45 
	#TASK_TIED
 1

	)

46 
	#TASK_UNTIED
 0

	)

47 
	#TASK_EXPLICIT
 1

	)

48 
	#TASK_IMPLICIT
 0

	)

49 
	#TASK_PROXY
 1

	)

50 
	#TASK_FULL
 0

	)

51 
	#TASK_DETACHABLE
 1

	)

52 
	#TASK_UNDETACHABLE
 0

	)

54 
	#KMP_CANCEL_THREADS


	)

55 
	#KMP_THREAD_ATTR


	)

59 #ià
defšed
(
__ANDROID__
)

60 #undeà
KMP_CANCEL_THREADS


63 
	~<sigÇl.h
>

64 
	~<¡d¬g.h
>

65 
	~<¡ddef.h
>

66 
	~<¡dio.h
>

67 
	~<¡dlib.h
>

68 
	~<¡ršg.h
>

71 #iâdeà
__ABSOFT_WIN


72 
	~<sys/ty³s.h
>

74 
	~<lim™s.h
>

75 
	~<time.h
>

77 
	~<”ºo.h
>

79 
	~"kmp_os.h
"

81 
	~"kmp_§ã_c_­i.h
"

83 #ià
KMP_STATS_ENABLED


84 
şass
 
	gkmp_¡©s_li¡
;

87 #ià
KMP_USE_HIER_SCHED


89 #undeà
KMP_USE_HIER_SCHED


90 
	#KMP_USE_HIER_SCHED
 
KMP_AFFINITY_SUPPORTED


	)

93 #ià
KMP_USE_HWLOC
 && 
KMP_AFFINITY_SUPPORTED


94 
	~"hwloc.h
"

95 #iâdeà
HWLOC_OBJ_NUMANODE


96 
	#HWLOC_OBJ_NUMANODE
 
HWLOC_OBJ_NODE


	)

98 #iâdeà
HWLOC_OBJ_PACKAGE


99 
	#HWLOC_OBJ_PACKAGE
 
HWLOC_OBJ_SOCKET


	)

101 #ià
HWLOC_API_VERSION
 >= 0x00020000

103 
	tkmp_hwloc_d•th_t
;

105 
	tkmp_hwloc_d•th_t
;

109 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


110 
	~<xmmšŒš.h
>

113 
	~"kmp_debug.h
"

114 
	~"kmp_lock.h
"

115 
	~"kmp_v”siÚ.h
"

116 #ià
USE_DEBUGGER


117 
	~"kmp_debugg”.h
"

119 
	~"kmp_i18n.h
"

121 
	#KMP_HANDLE_SIGNALS
 (
KMP_OS_UNIX
 || 
KMP_OS_WINDOWS
)

	)

123 
	~"kmp_w¿µ”_m®loc.h
"

124 #ià
KMP_OS_UNIX


125 
	~<uni¡d.h
>

126 #ià!
defšed
 
NSIG
 && defšed 
_NSIG


127 
	#NSIG
 
_NSIG


	)

131 #ià
KMP_OS_LINUX


132 #´agm¨
w—k
 
şock_g‘time


135 #ià
OMPT_SUPPORT


136 
	~"om±-š‹º®.h
"

140 
	~"kmp_¡r.h
"

145 #iâdeà
USE_FAST_MEMORY


146 
	#USE_FAST_MEMORY
 3

	)

149 #iâdeà
KMP_NESTED_HOT_TEAMS


150 
	#KMP_NESTED_HOT_TEAMS
 0

	)

151 
	#USE_NESTED_HOT_ARG
(
x
)

	)

153 #ià
KMP_NESTED_HOT_TEAMS


154 
	#USE_NESTED_HOT_ARG
(
x
è, 
	)
x

156 
	#USE_NESTED_HOT_ARG
(
x
)

	)

161 #iâdeà
USE_CMP_XCHG_FOR_BGET


162 
	#USE_CMP_XCHG_FOR_BGET
 1

	)

170 
	#KMP_NSEC_PER_SEC
 1000000000L

	)

171 
	#KMP_USEC_PER_SEC
 1000000L

	)

183 
	mKMP_IDENT_IMB
 = 0x01,

185 
	mKMP_IDENT_KMPC
 = 0x02,

188 
	mKMP_IDENT_AUTOPAR
 = 0x08,

190 
	mKMP_IDENT_ATOMIC_REDUCE
 = 0x10,

192 
	mKMP_IDENT_BARRIER_EXPL
 = 0x20,

194 
	mKMP_IDENT_BARRIER_IMPL
 = 0x0040,

195 
	mKMP_IDENT_BARRIER_IMPL_MASK
 = 0x01C0,

196 
	mKMP_IDENT_BARRIER_IMPL_FOR
 = 0x0040,

197 
	mKMP_IDENT_BARRIER_IMPL_SECTIONS
 = 0x00C0,

199 
	mKMP_IDENT_BARRIER_IMPL_SINGLE
 = 0x0140,

200 
	mKMP_IDENT_BARRIER_IMPL_WORKSHARE
 = 0x01C0,

203 
	mKMP_IDENT_WORK_LOOP
 = 0x200,

205 
	mKMP_IDENT_WORK_SECTIONS
 = 0x400,

207 
	mKMP_IDENT_WORK_DISTRIBUTE
 = 0x800,

212 
	mKMP_IDENT_ATOMIC_HINT_MASK
 = 0xFF0000,

213 
	mKMP_IDENT_ATOMIC_HINT_UNCONTENDED
 = 0x010000,

214 
	mKMP_IDENT_ATOMIC_HINT_CONTENDED
 = 0x020000,

215 
	mKMP_IDENT_ATOMIC_HINT_NONSPECULATIVE
 = 0x040000,

216 
	mKMP_IDENT_ATOMIC_HINT_SPECULATIVE
 = 0x080000,

222 
	sid’t
 {

223 
kmp_št32
 
	m»£rved_1
;

224 
kmp_št32
 
	mæags
;

226 
kmp_št32
 
	m»£rved_2
;

227 #ià
USE_ITT_BUILD


231 
kmp_št32
 
	m»£rved_3
;

232 cÚ¡ *
	mpsourû
;

236 } 
	tid’t_t
;

242 
kmp_‹am
 
	tkmp_‹am_t
;

243 
kmp_skd©a
 
	tkmp_skd©a_t
;

244 
kmp_sk_‹am
 
	tkmp_sk_‹am_t
;

245 
kmp_‹am
 
	tkmp_‹am_p
;

246 
kmp_šfo
 
	tkmp_šfo_p
;

247 
kmp_roÙ
 
	tkmp_roÙ_p
;

249 #ifdeà
__ılu¥lus


257 
	#KMP_PACK_64
(
HIGH_32
, 
LOW_32
) \

258 ((
kmp_št64
)((((
kmp_ušt64
)(
HIGH_32
)è<< 32è| (kmp_ušt64)(
LOW_32
)))

	)

261 
	#SKIP_WS
(
_x
) \

263 *(
_x
) == ' ' || *(_x) == '\t') \

264 (
_x
)++; \

265 }

	)

266 
	#SKIP_DIGITS
(
_x
) \

268 *(
_x
) >= '0' && *(_x) <= '9') \

269 (
_x
)++; \

270 }

	)

271 
	#SKIP_TOKEN
(
_x
) \

273 (*(
_x
) >= '0' && *(_x) <= '9') || (*(_x) >= 'a' && *(_x) <= 'z') || \

274 (*(
_x
) >= 'A' && *(_x) <= 'Z') || *(_x) == '_') \

275 (
_x
)++; \

276 }

	)

277 
	#SKIP_TO
(
_x
, 
_c
) \

279 *(
_x
è!ğ'\0' && *(_xè!ğ(
_c
)) \

280 (
_x
)++; \

281 }

	)

285 
	#KMP_MAX
(
x
, 
y
è((xè> (yè? (xè: (y))

	)

286 
	#KMP_MIN
(
x
, 
y
è((xè< (yè? (xè: (y))

	)

291 
	ekmp_¡©e_tim”
 {

292 
ts_¡İ
,

293 
ts_¡¬t
,

294 
ts_·u£
,

296 
ts_Ï¡_¡©e


299 
	edyÇmic_mode
 {

300 
dyÇmic_deçuÉ
,

301 #ifdeà
USE_LOAD_BALANCE


302 
dyÇmic_lßd_b®ªû
,

304 
dyÇmic_¿ndom
,

305 
dyÇmic_th»ad_lim™
,

306 
dyÇmic_max


311 #iâdeà
KMP_SCHED_TYPE_DEFINED


312 
	#KMP_SCHED_TYPE_DEFINED


	)

313 
	ekmp_sched
 {

314 
kmp_sched_low”
 = 0,

316 
kmp_sched_¡©ic
 = 1,

317 
kmp_sched_dyÇmic
 = 2,

318 
kmp_sched_guided
 = 3,

319 
kmp_sched_auto
 = 4,

320 
kmp_sched_uµ”_¡d
 = 5,

321 
kmp_sched_low”_ext
 = 100,

322 
kmp_sched_Œ­ezoid®
 = 101,

323 #ià
KMP_STATIC_STEAL_ENABLED


324 
kmp_sched_¡©ic_¡—l
 = 102,

326 
kmp_sched_uµ”
,

327 
kmp_sched_deçuÉ
 = 
kmp_sched_¡©ic
,

328 
kmp_sched_mÚÙÚic
 = 0x80000000

329 } 
	tkmp_sched_t
;

336 
sched_ty³
 : 
kmp_št32
 {

337 
kmp_sch_low”
 = 32,

338 
kmp_sch_¡©ic_chunked
 = 33,

339 
kmp_sch_¡©ic
 = 34,

340 
kmp_sch_dyÇmic_chunked
 = 35,

341 
kmp_sch_guided_chunked
 = 36,

342 
kmp_sch_ruÁime
 = 37,

343 
kmp_sch_auto
 = 38,

344 
kmp_sch_Œ­ezoid®
 = 39,

347 
kmp_sch_¡©ic_g»edy
 = 40,

348 
kmp_sch_¡©ic_b®ªûd
 = 41,

350 
kmp_sch_guided_™”©ive_chunked
 = 42,

351 
kmp_sch_guided_ª®ytiÿl_chunked
 = 43,

353 
kmp_sch_¡©ic_¡—l
 = 44,

356 
kmp_sch_¡©ic_b®ªûd_chunked
 = 45,

357 
kmp_sch_guided_simd
 = 46,

358 
kmp_sch_ruÁime_simd
 = 47,

361 
kmp_sch_uµ”
,

363 
kmp_Üd_low”
 = 64,

364 
kmp_Üd_¡©ic_chunked
 = 65,

365 
kmp_Üd_¡©ic
 = 66,

366 
kmp_Üd_dyÇmic_chunked
 = 67,

367 
kmp_Üd_guided_chunked
 = 68,

368 
kmp_Üd_ruÁime
 = 69,

369 
kmp_Üd_auto
 = 70,

370 
kmp_Üd_Œ­ezoid®
 = 71,

371 
kmp_Üd_uµ”
,

374 
kmp_di¡ribu‹_¡©ic_chunked
 = 91,

375 
kmp_di¡ribu‹_¡©ic
 = 92,

381 
kmp_nm_low”
 = 160,

383 
kmp_nm_¡©ic_chunked
 =

384 (
kmp_sch_¡©ic_chunked
 - 
kmp_sch_low”
 + 
kmp_nm_low”
),

385 
kmp_nm_¡©ic
 = 162,

386 
kmp_nm_dyÇmic_chunked
 = 163,

387 
kmp_nm_guided_chunked
 = 164,

388 
kmp_nm_ruÁime
 = 165,

389 
kmp_nm_auto
 = 166,

390 
kmp_nm_Œ­ezoid®
 = 167,

393 
kmp_nm_¡©ic_g»edy
 = 168,

394 
kmp_nm_¡©ic_b®ªûd
 = 169,

396 
kmp_nm_guided_™”©ive_chunked
 = 170,

397 
kmp_nm_guided_ª®ytiÿl_chunked
 = 171,

398 
kmp_nm_¡©ic_¡—l
 =

401 
kmp_nm_Üd_¡©ic_chunked
 = 193,

402 
kmp_nm_Üd_¡©ic
 = 194,

403 
kmp_nm_Üd_dyÇmic_chunked
 = 195,

404 
kmp_nm_Üd_guided_chunked
 = 196,

405 
kmp_nm_Üd_ruÁime
 = 197,

406 
kmp_nm_Üd_auto
 = 198,

407 
kmp_nm_Üd_Œ­ezoid®
 = 199,

408 
kmp_nm_uµ”
,

424 
kmp_sch_modif›r_mÚÙÚic
 =

426 
kmp_sch_modif›r_nÚmÚÙÚic
 =

429 
	#SCHEDULE_WITHOUT_MODIFIERS
(
s
) \

430 (
sched_ty³
)( \

431 (
s
è& ~(
kmp_sch_modif›r_nÚmÚÙÚic
 | 
kmp_sch_modif›r_mÚÙÚic
))

	)

432 
	#SCHEDULE_HAS_MONOTONIC
(
s
è(((s)&
kmp_sch_modif›r_mÚÙÚic
è!ğ0)

	)

433 
	#SCHEDULE_HAS_NONMONOTONIC
(
s
è(((s)&
kmp_sch_modif›r_nÚmÚÙÚic
è!ğ0)

	)

434 
	#SCHEDULE_HAS_NO_MODIFIERS
(
s
) \

435 (((
s
è& (
kmp_sch_modif›r_nÚmÚÙÚic
 | 
kmp_sch_modif›r_mÚÙÚic
)è=ğ0)

	)

436 
	#SCHEDULE_GET_MODIFIERS
(
s
) \

437 ((
sched_ty³
)( \

438 (
s
è& (
kmp_sch_modif›r_nÚmÚÙÚic
 | 
kmp_sch_modif›r_mÚÙÚic
)))

	)

439 
	#SCHEDULE_SET_MODIFIERS
(
s
, 
m
) \

440 (
s
 = (
sched_ty³
)((
kmp_št32
) | (kmp_št32)
m
))

	)

441 
	#SCHEDULE_NONMONOTONIC
 0

	)

442 
	#SCHEDULE_MONOTONIC
 1

	)

444 
kmp_sch_deçuÉ
 = 
kmp_sch_¡©ic


448 
šlše
 

449 
__kmp_sched_­¶y_mods_¡dkšd
(
kmp_sched_t
 *
kšd
,

450 
sched_ty³
 
š‹º®_kšd
) {

451 ià(
SCHEDULE_HAS_MONOTONIC
(
š‹º®_kšd
)) {

452 *
kšd
 = (
kmp_sched_t
)(()*kšd | ()
kmp_sched_mÚÙÚic
);

457 
šlše
 

458 
__kmp_sched_­¶y_mods_štkšd
(
kmp_sched_t
 
kšd
,

459 
sched_ty³
 *
š‹º®_kšd
) {

460 ià(()
kšd
 & ()
kmp_sched_mÚÙÚic
) {

461 *
š‹º®_kšd
 = (
sched_ty³
)(()*internal_kind |

462 ()
kmp_sch_modif›r_mÚÙÚic
);

467 
šlše
 
kmp_sched_t
 
__kmp_sched_w™hout_mods
(kmp_sched_ˆ
kšd
) {

468  (
kmp_sched_t
)(()
kšd
 & ~(()
kmp_sched_mÚÙÚic
));

472 
	ukmp_r_sched
 {

474 
sched_ty³
 
r_sched_ty³
;

475 
chunk
;

477 
kmp_št64
 
sched
;

478 } 
	tkmp_r_sched_t
;

480 
sched_ty³
 
__kmp_sch_m­
[];

483 
	elib¿ry_ty³
 {

484 
	glib¿ry_nÚe
,

485 
	glib¿ry_£rŸl
,

486 
	glib¿ry_tuº¬ound
,

487 
	glib¿ry_throughput


490 #ià
KMP_OS_LINUX


491 
	eşock_funùiÚ_ty³
 {

492 
	gşock_funùiÚ_g‘timeofday
,

493 
	gşock_funùiÚ_şock_g‘time


497 #ià
KMP_MIC_SUPPORTED


498 
	emic_ty³
 { 
	gnÚ_mic
, 
	gmic1
, 
	gmic2
, 
	gmic3
, 
	gdummy
 };

503 #undeà
KMP_FAST_REDUCTION_BARRIER


504 
	#KMP_FAST_REDUCTION_BARRIER
 1

	)

506 #undeà
KMP_FAST_REDUCTION_CORE_DUO


507 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


508 
	#KMP_FAST_REDUCTION_CORE_DUO
 1

	)

511 
	e_»duùiÚ_m‘hod
 {

512 
	g»duùiÚ_m‘hod_nÙ_defšed
 = 0,

513 
	gü™iÿl_»duû_block
 = (1 << 8),

514 
	g©omic_»duû_block
 = (2 << 8),

515 
	gŒ“_»duû_block
 = (3 << 8),

516 
	gem±y_»duû_block
 = (4 << 8)

531 #ià
KMP_FAST_REDUCTION_BARRIER


532 
	#PACK_REDUCTION_METHOD_AND_BARRIER
(
»duùiÚ_m‘hod
, 
b¬r›r_ty³
) \

533 ((
»duùiÚ_m‘hod
è| (
b¬r›r_ty³
))

	)

535 
	#UNPACK_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
) \

536 ((
_»duùiÚ_m‘hod
)((
·cked_»duùiÚ_m‘hod
è& (0x0000FF00)))

	)

538 
	#UNPACK_REDUCTION_BARRIER
(
·cked_»duùiÚ_m‘hod
) \

539 ((
b¬r›r_ty³
)((
·cked_»duùiÚ_m‘hod
è& (0x000000FF)))

	)

541 
	#PACK_REDUCTION_METHOD_AND_BARRIER
(
»duùiÚ_m‘hod
, 
b¬r›r_ty³
) \

542 (
»duùiÚ_m‘hod
)

	)

544 
	#UNPACK_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
) \

545 (
·cked_»duùiÚ_m‘hod
)

	)

547 
	#UNPACK_REDUCTION_BARRIER
(
·cked_»duùiÚ_m‘hod
è(
bs_¶aš_b¬r›r
)

	)

550 
	#TEST_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
, 
which_»duùiÚ_block
) \

551 ((
	`UNPACK_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
)) == \

552 (
which_»duùiÚ_block
))

	)

554 #ià
KMP_FAST_REDUCTION_BARRIER


555 
	#TREE_REDUCE_BLOCK_WITH_REDUCTION_BARRIER
 \

556 (
	`PACK_REDUCTION_METHOD_AND_BARRIER
(
Œ“_»duû_block
, 
bs_»duùiÚ_b¬r›r
))

	)

558 
	#TREE_REDUCE_BLOCK_WITH_PLAIN_BARRIER
 \

559 (
	`PACK_REDUCTION_METHOD_AND_BARRIER
(
Œ“_»duû_block
, 
bs_¶aš_b¬r›r
))

	)

562 
	tPACKED_REDUCTION_METHOD_T
;

566 #ià
KMP_OS_WINDOWS


567 
	#USE_CBLKDATA


	)

568 #ià
KMP_MSVC_COMPAT


569 #´agm¨
w¬nšg
(
push
)

570 #´agm¨
w¬nšg
(
di§bË
 : 271 310)

572 
	~<wšdows.h
>

573 #ià
KMP_MSVC_COMPAT


574 #´agm¨
w¬nšg
(
pİ
)

578 #ià
KMP_OS_UNIX


579 
	~<dlfú.h
>

580 
	~<±h»ad.h
>

584 #ià
KMP_AFFINITY_SUPPORTED


587 #ià
KMP_OS_WINDOWS


588 #ià
_MSC_VER
 < 1600 && 
KMP_MSVC_COMPAT


589 
	sGROUP_AFFINITY
 {

590 
KAFFINITY
 
	gMask
;

591 
WORD
 
	gGroup
;

592 
WORD
 
	gRe£rved
[3];

593 } 
	tGROUP_AFFINITY
;

595 #ià
KMP_GROUP_AFFINITY


596 
__kmp_num_´oc_groups
;

598 cÚ¡ 
	g__kmp_num_´oc_groups
 = 1;

600 
DWORD
 (*
	tkmp_G‘AùiveProûssÜCouÁ_t
)(
	tWORD
);

601 
kmp_G‘AùiveProûssÜCouÁ_t
 
__kmp_G‘AùiveProûssÜCouÁ
;

603 
WORD
 (*
	tkmp_G‘AùiveProûssÜGroupCouÁ_t
)();

604 
kmp_G‘AùiveProûssÜGroupCouÁ_t
 
__kmp_G‘AùiveProûssÜGroupCouÁ
;

606 
BOOL
 (*
	tkmp_G‘Th»adGroupAffš™y_t
)(
	tHANDLE
, 
	tGROUP_AFFINITY
 *);

607 
kmp_G‘Th»adGroupAffš™y_t
 
__kmp_G‘Th»adGroupAffš™y
;

609 
BOOL
 (*
	tkmp_S‘Th»adGroupAffš™y_t
)(
	tHANDLE
, cÚ¡ 
	tGROUP_AFFINITY
 *,

610 
	tGROUP_AFFINITY
 *);

611 
kmp_S‘Th»adGroupAffš™y_t
 
__kmp_S‘Th»adGroupAffš™y
;

614 #ià
KMP_USE_HWLOC


615 
hwloc_tİŞogy_t
 
__kmp_hwloc_tİŞogy
;

616 
__kmp_hwloc_”rÜ
;

617 
__kmp_numa_d‘eùed
;

618 
__kmp_te_d•th
;

621 
size_t
 
__kmp_affš_mask_size
;

622 
	#KMP_AFFINITY_CAPABLE
(è(
__kmp_affš_mask_size
 > 0)

	)

623 
	#KMP_AFFINITY_DISABLE
(è(
__kmp_affš_mask_size
 = 0)

	)

624 
	#KMP_AFFINITY_ENABLE
(
mask_size
è(
__kmp_affš_mask_size
 = mask_size)

	)

625 
	#KMP_CPU_SET_ITERATE
(
i
, 
mask
) \

626 
i
 = (
mask
)->
	`begš
(); ()˜!ğ(mask)->
	`’d
(); i = (mask)->
	`Ãxt
(i))

	)

627 
	#KMP_CPU_SET
(
i
, 
mask
è(mask)->
	`£t
(i)

	)

628 
	#KMP_CPU_ISSET
(
i
, 
mask
è(mask)->
	`is_£t
(i)

	)

629 
	#KMP_CPU_CLR
(
i
, 
mask
è(mask)->
	`ş—r
(i)

	)

630 
	#KMP_CPU_ZERO
(
mask
è(mask)->
	`z”o
()

	)

631 
	#KMP_CPU_COPY
(
de¡
, 
¤c
è(de¡)->
	`cİy
(¤c)

	)

632 
	#KMP_CPU_AND
(
de¡
, 
¤c
è(de¡)->
	`b™wi£_ªd
(¤c)

	)

633 
	#KMP_CPU_COMPLEMENT
(
max_b™_numb”
, 
mask
è(mask)->
	`b™wi£_nÙ
()

	)

634 
	#KMP_CPU_UNION
(
de¡
, 
¤c
è(de¡)->
	`b™wi£_Ü
(¤c)

	)

635 
	#KMP_CPU_ALLOC
(
±r
èÕŒ = 
__kmp_affš™y_di¥©ch
->
	`®loÿ‹_mask
())

	)

636 
	#KMP_CPU_FREE
(
±r
è
__kmp_affš™y_di¥©ch
->
	`d—Îoÿ‹_mask
ÕŒ)

	)

637 
	#KMP_CPU_ALLOC_ON_STACK
(
±r
è
	`KMP_CPU_ALLOC
ÕŒ)

	)

638 
	#KMP_CPU_FREE_FROM_STACK
(
±r
è
	`KMP_CPU_FREE
ÕŒ)

	)

639 
	#KMP_CPU_INTERNAL_ALLOC
(
±r
è
	`KMP_CPU_ALLOC
ÕŒ)

	)

640 
	#KMP_CPU_INTERNAL_FREE
(
±r
è
	`KMP_CPU_FREE
ÕŒ)

	)

641 
	#KMP_CPU_INDEX
(
¬r
, 
i
è
__kmp_affš™y_di¥©ch
->
	`šdex_mask_¬¿y
×¼, i)

	)

642 
	#KMP_CPU_ALLOC_ARRAY
(
¬r
, 
n
) \

643 (
¬r
 = 
__kmp_affš™y_di¥©ch
->
	`®loÿ‹_mask_¬¿y
(
n
))

	)

644 
	#KMP_CPU_FREE_ARRAY
(
¬r
, 
n
) \

645 
__kmp_affš™y_di¥©ch
->
	`d—Îoÿ‹_mask_¬¿y
(
¬r
)

	)

646 
	#KMP_CPU_INTERNAL_ALLOC_ARRAY
(
¬r
, 
n
è
	`KMP_CPU_ALLOC_ARRAY
×¼,‚)

	)

647 
	#KMP_CPU_INTERNAL_FREE_ARRAY
(
¬r
, 
n
è
	`KMP_CPU_FREE_ARRAY
×¼,‚)

	)

648 
	#__kmp_g‘_sy¡em_affš™y
(
mask
, 
abÜt_boŞ
) \

649 (
mask
)->
	`g‘_sy¡em_affš™y
(
abÜt_boŞ
)

	)

650 
	#__kmp_£t_sy¡em_affš™y
(
mask
, 
abÜt_boŞ
) \

651 (
mask
)->
	`£t_sy¡em_affš™y
(
abÜt_boŞ
)

	)

652 
	#__kmp_g‘_´oc_group
(
mask
è(mask)->
	`g‘_´oc_group
()

	)

654 şas 
	cKMPAffš™y
 {

655 
	gpublic
:

656 şas 
	cMask
 {

657 
public
:

658 *
İ”©Ü
 
Ãw
(
size_t
 
n
);

659 
İ”©Ü
 
d–‘e
(*
p
);

660 *
İ”©Ü
 
	gÃw
[](
size_t
 
	gn
);

661 
İ”©Ü
 
	gd–‘e
[](*
	gp
);

662 
	gvœtu®
 ~
Mask
() {}

664 
vœtu®
 
£t
(
i
) {}

666 
vœtu®
 
boŞ
 
is_£t
(
i
ècÚ¡ {  
	gçl£
; }

668 
vœtu®
 
ş—r
(
i
) {}

670 
vœtu®
 
z”o
() {}

672 
vœtu®
 
cİy
(cÚ¡ 
Mask
 *
¤c
) {}

674 
vœtu®
 
b™wi£_ªd
(cÚ¡ 
Mask
 *
rhs
) {}

676 
vœtu®
 
b™wi£_Ü
(cÚ¡ 
Mask
 *
rhs
) {}

678 
vœtu®
 
b™wi£_nÙ
() {}

681 
vœtu®
 
begš
() const {  0; }

682 
vœtu®
 
’d
() const {  0; }

683 
vœtu®
 
Ãxt
(
´evious
) const {  0; }

685 
vœtu®
 
£t_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
) const {  -1; }

687 
vœtu®
 
g‘_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
) {  -1; }

690 
vœtu®
 
g‘_´oc_group
() const {  -1; }

692 *
İ”©Ü
 
Ãw
(
size_t
 
n
);

693 
İ”©Ü
 
d–‘e
(*
p
);

695 
	gvœtu®
 ~
KMPAffš™y
() = ;

697 
vœtu®
 
d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
) {}

699 
vœtu®
 
bšd_th»ad
(
´oc
) {}

701 
vœtu®
 
Mask
 *
®loÿ‹_mask
(è{  
	gnuÎ±r
; }

702 
vœtu®
 
d—Îoÿ‹_mask
(
Mask
 *
m
) {}

703 
vœtu®
 
Mask
 *
®loÿ‹_mask_¬¿y
(
num
è{  
	gnuÎ±r
; }

704 
vœtu®
 
d—Îoÿ‹_mask_¬¿y
(
Mask
 *
m
) {}

705 
vœtu®
 
Mask
 *
šdex_mask_¬¿y
(Mask *
m
, 
šdex
è{  
	gnuÎ±r
; }

706 
pick_­i
();

707 
de¡roy_­i
();

708 
	e­i_ty³
 {

709 
	gNATIVE_OS


710 #ià
KMP_USE_HWLOC


712 
	gHWLOC


715 
vœtu®
 
­i_ty³
 
g‘_­i_ty³
() const {

716 
KMP_ASSERT
(0);

717  
	gNATIVE_OS
;

720 
	g´iv©e
:

721 
boŞ
 
picked_­i
;

724 
	gKMPAffš™y
::
	tMask
 
	tkmp_affš_mask_t
;

725 
KMPAffš™y
 *
__kmp_affš™y_di¥©ch
;

729 
	#KMP_AFFIN_MASK_PRINT_LEN
 1024

	)

731 
	eaffš™y_ty³
 {

732 
	gaffš™y_nÚe
 = 0,

733 
	gaffš™y_physiÿl
,

734 
	gaffš™y_logiÿl
,

735 
	gaffš™y_com·ù
,

736 
	gaffš™y_sÿ‰”
,

737 
	gaffš™y_ex¶ic™
,

738 
	gaffš™y_b®ªûd
,

739 
	gaffš™y_di§bËd
,

740 
	gaffš™y_deçuÉ


743 
	eaffš™y_g¿n
 {

744 
	gaffš™y_g¿n_fše
 = 0,

745 
	gaffš™y_g¿n_th»ad
,

746 
	gaffš™y_g¿n_cÜe
,

747 
	gaffš™y_g¿n_te
,

748 
	gaffš™y_g¿n_numa
,

749 
	gaffš™y_g¿n_·ckage
,

750 
	gaffš™y_g¿n_node
,

751 #ià
KMP_GROUP_AFFINITY


754 
	gaffš™y_g¿n_group
,

756 
	gaffš™y_g¿n_deçuÉ


759 
	eaffš™y_tİ_m‘hod
 {

760 
	gaffš™y_tİ_m‘hod_®l
 = 0,

761 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


762 
	gaffš™y_tİ_m‘hod_­icid
,

763 
	gaffš™y_tİ_m‘hod_x2­icid
,

765 
	gaffš™y_tİ_m‘hod_ıušfo
,

766 #ià
KMP_GROUP_AFFINITY


767 
	gaffš™y_tİ_m‘hod_group
,

769 
	gaffš™y_tİ_m‘hod_æ©
,

770 #ià
KMP_USE_HWLOC


771 
	gaffš™y_tİ_m‘hod_hwloc
,

773 
	gaffš™y_tİ_m‘hod_deçuÉ


776 
	#affš™y_»¥eù_mask_deçuÉ
 (-1)

	)

778 
affš™y_ty³
 
__kmp_affš™y_ty³
;

779 
affš™y_g¿n
 
__kmp_affš™y_g¿n
;

780 
__kmp_affš™y_g¿n_Ëv–s
;

781 
__kmp_affš™y_dups
;

782 
affš™y_tİ_m‘hod
 
__kmp_affš™y_tİ_m‘hod
;

783 
__kmp_affš™y_com·ù
;

784 
__kmp_affš™y_off£t
;

785 
__kmp_affš™y_v”bo£
;

786 
__kmp_affš™y_w¬nšgs
;

787 
__kmp_affš™y_»¥eù_mask
;

788 *
__kmp_affš™y_´oşi¡
;

789 
kmp_affš_mask_t
 *
__kmp_affš™y_masks
;

790 
__kmp_affš™y_num_masks
;

791 
__kmp_affš™y_bšd_th»ad
(
which
);

793 
kmp_affš_mask_t
 *
__kmp_affš_fuÎMask
;

794 *
__kmp_ıušfo_fe
;

799 
	ekmp_´oc_bšd_t
 {

800 
	g´oc_bšd_çl£
 = 0,

801 
	g´oc_bšd_Œue
,

802 
	g´oc_bšd_ma¡”
,

803 
	g´oc_bšd_şo£
,

804 
	g´oc_bšd_¥»ad
,

805 
	g´oc_bšd_š‹l
,

806 
	g´oc_bšd_deçuÉ


807 } 
	tkmp_´oc_bšd_t
;

809 
	skmp_Ã¡ed_´oc_bšd_t
 {

810 
kmp_´oc_bšd_t
 *
	gbšd_ty³s
;

811 
	gsize
;

812 
	gu£d
;

813 } 
	tkmp_Ã¡ed_´oc_bšd_t
;

815 
kmp_Ã¡ed_´oc_bšd_t
 
__kmp_Ã¡ed_´oc_bšd
;

817 
__kmp_di¥Ïy_affš™y
;

818 *
__kmp_affš™y_fÜm©
;

819 cÚ¡ 
size_t
 
	gKMP_AFFINITY_FORMAT_SIZE
 = 512;

821 #ià
KMP_AFFINITY_SUPPORTED


822 
	#KMP_PLACE_ALL
 (-1)

	)

823 
	#KMP_PLACE_UNDEFINED
 (-2)

	)

825 
	#KMP_AFFINITY_NON_PROC_BIND
 \

826 ((
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_çl£
 || \

827 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_š‹l
) && \

828 (
__kmp_affš™y_num_masks
 > 0 || 
__kmp_affš™y_ty³
 =ğ
affš™y_b®ªûd
))

	)

831 
__kmp_affš™y_num_¶aûs
;

833 
	ekmp_ÿnûl_kšd_t
 {

834 
	gÿnûl_nÜeq
 = 0,

835 
	gÿnûl_·¿Î–
 = 1,

836 
	gÿnûl_loİ
 = 2,

837 
	gÿnûl_£ùiÚs
 = 3,

838 
	gÿnûl_skgroup
 = 4

839 } 
	tkmp_ÿnûl_kšd_t
;

842 
	skmp_hws_™em
 {

843 
	gnum
;

844 
	goff£t
;

845 } 
	tkmp_hws_™em_t
;

847 
kmp_hws_™em_t
 
__kmp_hws_sock‘
;

848 
kmp_hws_™em_t
 
__kmp_hws_node
;

849 
kmp_hws_™em_t
 
__kmp_hws_te
;

850 
kmp_hws_™em_t
 
__kmp_hws_cÜe
;

851 
kmp_hws_™em_t
 
__kmp_hws_´oc
;

852 
__kmp_hws_»que¡ed
;

853 
__kmp_hws_abs_æag
;

857 
	#KMP_PAD
(
ty³
, 
sz
) \

858 ((
ty³
è+ (
sz
 - ((Ñy³è- 1è% (sz)è- 1))

	)

862 
	#KMP_GTID_DNE
 (-2è

	)

863 
	#KMP_GTID_SHUTDOWN
 (-3è

	)

864 
	#KMP_GTID_MONITOR
 (-4è

	)

865 
	#KMP_GTID_UNKNOWN
 (-5è

	)

866 
	#KMP_GTID_MIN
 (-6è

	)

870 #iâdeà
__OMP_H


872 
ušŒ_t
 
	tomp_ušŒ_t
;

875 
	gomp_©k_th»admod–
 = 1,

876 
	gomp_©k_®ignm’t
 = 2,

877 
	gomp_©k_acûss
 = 3,

878 
	gomp_©k_poŞ_size
 = 4,

879 
	gomp_©k_çÎback
 = 5,

880 
	gomp_©k_fb_d©a
 = 6,

881 
	gomp_©k_pšÃd
 = 7,

882 
	gomp_©k_·¹™iÚ
 = 8

883 } 
	tomp_®loù¿™_key_t
;

886 
	gomp_©v_çl£
 = 0,

887 
	gomp_©v_Œue
 = 1,

888 
	gomp_©v_deçuÉ
 = 2,

889 
	gomp_©v_cÚ‹nded
 = 3,

890 
	gomp_©v_uncÚ‹nded
 = 4,

891 
	gomp_©v_£qu’tŸl
 = 5,

892 
	gomp_©v_´iv©e
 = 6,

893 
	gomp_©v_®l
 = 7,

894 
	gomp_©v_th»ad
 = 8,

895 
	gomp_©v_±—m
 = 9,

896 
	gomp_©v_cgroup
 = 10,

897 
	gomp_©v_deçuÉ_mem_fb
 = 11,

898 
	gomp_©v_nuÎ_fb
 = 12,

899 
	gomp_©v_abÜt_fb
 = 13,

900 
	gomp_©v_®loÿtÜ_fb
 = 14,

901 
	gomp_©v_’vœÚm’t
 = 15,

902 
	gomp_©v_Ã¬e¡
 = 16,

903 
	gomp_©v_blocked
 = 17,

904 
	gomp_©v_š‹¾—ved
 = 18

905 } 
	tomp_®loù¿™_v®ue_t
;

907 *
	tomp_mem¥aû_hªdË_t
;

908 
omp_mem¥aû_hªdË_t
 cÚ¡ 
omp_deçuÉ_mem_¥aû
;

909 
omp_mem¥aû_hªdË_t
 cÚ¡ 
omp_Ïrge_ÿp_mem_¥aû
;

910 
omp_mem¥aû_hªdË_t
 cÚ¡ 
omp_cÚ¡_mem_¥aû
;

911 
omp_mem¥aû_hªdË_t
 cÚ¡ 
omp_high_bw_mem_¥aû
;

912 
omp_mem¥aû_hªdË_t
 cÚ¡ 
omp_low_Ït_mem_¥aû
;

915 
omp_®loù¿™_key_t
 
	gkey
;

916 
omp_ušŒ_t
 
	gv®ue
;

917 } 
	tomp_®loù¿™_t
;

919 *
	tomp_®loÿtÜ_hªdË_t
;

920 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_nuÎ_®loÿtÜ
;

921 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_deçuÉ_mem_®loc
;

922 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_Ïrge_ÿp_mem_®loc
;

923 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_cÚ¡_mem_®loc
;

924 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_high_bw_mem_®loc
;

925 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_low_Ït_mem_®loc
;

926 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_cgroup_mem_®loc
;

927 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_±—m_mem_®loc
;

928 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
omp_th»ad_mem_®loc
;

929 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
kmp_max_mem_®loc
;

930 
omp_®loÿtÜ_hªdË_t
 
__kmp_def_®loÿtÜ
;

935 
__kmp_memkšd_avaabË
;

937 
omp_mem¥aû_hªdË_t
 
	tkmp_mem¥aû_t
;

939 
	skmp_®loÿtÜ_t
 {

940 
omp_mem¥aû_hªdË_t
 
	gmem¥aû
;

941 **
	gmemkšd
;

942 
	g®ignm’t
;

943 
omp_®loù¿™_v®ue_t
 
	gfb
;

944 
kmp_®loÿtÜ_t
 *
	gfb_d©a
;

945 
kmp_ušt64
 
	gpoŞ_size
;

946 
kmp_ušt64
 
	gpoŞ_u£d
;

947 } 
	tkmp_®loÿtÜ_t
;

949 
omp_®loÿtÜ_hªdË_t
 
__kmpc_š™_®loÿtÜ
(
gtid
,

950 
omp_mem¥aû_hªdË_t
,

951 
Á¿™s
,

952 
omp_®loù¿™_t
 
Œa™s
[]);

953 
__kmpc_de¡roy_®loÿtÜ
(
gtid
, 
omp_®loÿtÜ_hªdË_t
 
®
);

954 
__kmpc_£t_deçuÉ_®loÿtÜ
(
gtid
, 
omp_®loÿtÜ_hªdË_t
 
®
);

955 
omp_®loÿtÜ_hªdË_t
 
__kmpc_g‘_deçuÉ_®loÿtÜ
(
gtid
);

956 *
__kmpc_®loc
(
gtid
, 
size_t
 
sz
, 
omp_®loÿtÜ_hªdË_t
 
®
);

957 
__kmpc_ä“
(
gtid
, *
±r
, 
omp_®loÿtÜ_hªdË_t
 
®
);

959 
__kmp_š™_memkšd
();

960 
__kmp_fši_memkšd
();

964 
	#KMP_UINT64_MAX
 \

965 (~((
kmp_ušt64
)1 << (((kmp_ušt64è* (1 << 3)è- 1)))

	)

967 
	#KMP_MIN_NTH
 1

	)

969 #iâdeà
KMP_MAX_NTH


970 #ià
defšed
(
PTHREAD_THREADS_MAX
è&& PTHREAD_THREADS_MAX < 
INT_MAX


971 
	#KMP_MAX_NTH
 
PTHREAD_THREADS_MAX


	)

973 
	#KMP_MAX_NTH
 
INT_MAX


	)

977 #ifdeà
PTHREAD_STACK_MIN


978 
	#KMP_MIN_STKSIZE
 
PTHREAD_STACK_MIN


	)

980 
	#KMP_MIN_STKSIZE
 ((
size_t
)(32 * 1024))

	)

983 
	#KMP_MAX_STKSIZE
 (~((
size_t
)1 << (((size_tè* (1 << 3)è- 1)))

	)

985 #ià
KMP_ARCH_X86


986 
	#KMP_DEFAULT_STKSIZE
 ((
size_t
)(2 * 1024 * 1024))

	)

987 #–ià
KMP_ARCH_X86_64


988 
	#KMP_DEFAULT_STKSIZE
 ((
size_t
)(4 * 1024 * 1024))

	)

989 
	#KMP_BACKUP_STKSIZE
 ((
size_t
)(2 * 1024 * 1024))

	)

991 
	#KMP_DEFAULT_STKSIZE
 ((
size_t
)(1024 * 1024))

	)

994 
	#KMP_DEFAULT_MALLOC_POOL_INCR
 ((
size_t
)(1024 * 1024))

	)

995 
	#KMP_MIN_MALLOC_POOL_INCR
 ((
size_t
)(4 * 1024))

	)

996 
	#KMP_MAX_MALLOC_POOL_INCR
 \

997 (~((
size_t
)1 << (((size_tè* (1 << 3)è- 1)))

	)

999 
	#KMP_MIN_STKOFFSET
 (0)

	)

1000 
	#KMP_MAX_STKOFFSET
 
KMP_MAX_STKSIZE


	)

1001 #ià
KMP_OS_DARWIN


1002 
	#KMP_DEFAULT_STKOFFSET
 
KMP_MIN_STKOFFSET


	)

1004 
	#KMP_DEFAULT_STKOFFSET
 
CACHE_LINE


	)

1007 
	#KMP_MIN_STKPADDING
 (0)

	)

1008 
	#KMP_MAX_STKPADDING
 (2 * 1024 * 1024)

	)

1010 
	#KMP_BLOCKTIME_MULTIPLIER
 \

1011 (1000è

	)

1012 
	#KMP_MIN_BLOCKTIME
 (0)

	)

1013 
	#KMP_MAX_BLOCKTIME
 \

1014 (
INT_MAX
è

	)

1015 
	#KMP_DEFAULT_BLOCKTIME
 (200è

	)

1017 #ià
KMP_USE_MONITOR


1018 
	#KMP_DEFAULT_MONITOR_STKSIZE
 ((
size_t
)(64 * 1024))

	)

1019 
	#KMP_MIN_MONITOR_WAKEUPS
 (1)

1020 
	#KMP_MAX_MONITOR_WAKEUPS
 (1000)

1021 

	)

1024 
	#KMP_WAKEUPS_FROM_BLOCKTIME
(
blocktime
, 
mÚ™Ü_wakeups
) \

1025 (((
blocktime
è=ğ
KMP_MAX_BLOCKTIME
) \

1026 ? (
mÚ™Ü_wakeups
) \

1027 : ((
blocktime
è=ğ
KMP_MIN_BLOCKTIME
) \

1028 ? 
KMP_MAX_MONITOR_WAKEUPS
 \

1029 : ((
mÚ™Ü_wakeups
è> (
KMP_BLOCKTIME_MULTIPLIER
 / (
blocktime
))) \

1030 ? (
mÚ™Ü_wakeups
) \

1031 : (
KMP_BLOCKTIME_MULTIPLIER
è/ (
blocktime
))

	)

1035 
	#KMP_INTERVALS_FROM_BLOCKTIME
(
blocktime
, 
mÚ™Ü_wakeups
) \

1036 (((
blocktime
è+ (
KMP_BLOCKTIME_MULTIPLIER
 / (
mÚ™Ü_wakeups
)) - 1) / \

1037 (
KMP_BLOCKTIME_MULTIPLIER
 / (
mÚ™Ü_wakeups
)))

	)

1039 
	#KMP_BLOCKTIME
(
‹am
, 
tid
) \

1040 (
	`g‘__bt_£t
(
‹am
, 
tid
è? 
	$g‘__blocktime
(
‹am
, 
tid
è: 
__kmp_dæt_blocktime
)

	)

1041 #ià
KMP_OS_UNIX
 && (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

1043 
kmp_ušt64
 
__kmp_ticks_³r_m£c
;

1044 #ià
KMP_COMPILER_ICC


1045 
	#KMP_NOW
(è((
kmp_ušt64
)
	$_rdtsc
())

	)

1047 
	#KMP_NOW
(è
	$__kmp_h¬dw¬e_time¡amp
()

	)

1049 
	#KMP_NOW_MSEC
(è(
	`KMP_NOW
(è/ 
__kmp_ticks_³r_m£c
)

	)

1050 
	#KMP_BLOCKTIME_INTERVAL
(
‹am
, 
tid
) \

1051 (
	`KMP_BLOCKTIME
(
‹am
, 
tid
è* 
__kmp_ticks_³r_m£c
)

	)

1052 
	#KMP_BLOCKING
(
gßl
, 
couÁ
è((gßlè> 
	$KMP_NOW
())

	)

1055 
kmp_ušt64
 
	`__kmp_now_n£c
();

1056 
	#KMP_NOW
(è
	$__kmp_now_n£c
()

	)

1057 
	#KMP_NOW_MSEC
(è(
	`KMP_NOW
(è/ 
KMP_USEC_PER_SEC
)

	)

1058 
	#KMP_BLOCKTIME_INTERVAL
(
‹am
, 
tid
) \

1059 (
	`KMP_BLOCKTIME
(
‹am
, 
tid
è* 
KMP_USEC_PER_SEC
)

	)

1060 
	#KMP_BLOCKING
(
gßl
, 
couÁ
è((couÁè% 1000 !ğ0 || (gßlè> 
	$KMP_NOW
())

	)

1064 
	#KMP_MIN_STATSCOLS
 40

	)

1065 
	#KMP_MAX_STATSCOLS
 4096

	)

1066 
	#KMP_DEFAULT_STATSCOLS
 80

	)

1068 
	#KMP_MIN_INTERVAL
 0

	)

1069 
	#KMP_MAX_INTERVAL
 (
INT_MAX
 - 1)

	)

1070 
	#KMP_DEFAULT_INTERVAL
 0

	)

1072 
	#KMP_MIN_CHUNK
 1

	)

1073 
	#KMP_MAX_CHUNK
 (
INT_MAX
 - 1)

	)

1074 
	#KMP_DEFAULT_CHUNK
 1

	)

1076 
	#KMP_DFLT_DISP_NUM_BUFF
 7

	)

1077 
	#KMP_MAX_ORDERED
 8

	)

1079 
	#KMP_MAX_FIELDS
 32

	)

1081 
	#KMP_MAX_BRANCH_BITS
 31

	)

1083 
	#KMP_MAX_ACTIVE_LEVELS_LIMIT
 
INT_MAX


	)

1085 
	#KMP_MAX_DEFAULT_DEVICE_LIMIT
 
INT_MAX


	)

1087 
	#KMP_MAX_TASK_PRIORITY_LIMIT
 
INT_MAX


	)

1092 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1093 
	#KMP_TLS_GTID_MIN
 5

	)

1095 
	#KMP_TLS_GTID_MIN
 
INT_MAX


	)

1098 
	#KMP_MASTER_TID
(
tid
è(Ñidè=ğ0)

	)

1099 
	#KMP_WORKER_TID
(
tid
è(Ñidè!ğ0)

	)

1101 
	#KMP_MASTER_GTID
(
gtid
è(
	`__kmp_tid_äom_gtid
((gtid)è=ğ0)

	)

1102 
	#KMP_WORKER_GTID
(
gtid
è(
	`__kmp_tid_äom_gtid
((gtid)è!ğ0)

	)

1103 
	#KMP_INITIAL_GTID
(
gtid
è((gtidè=ğ0)

	)

1105 #iâdeà
TRUE


1106 
	#FALSE
 0

	)

1107 
	#TRUE
 (!
FALSE
)

	)

1112 #ià
KMP_OS_WINDOWS


1113 
	#KMP_INIT_WAIT
 64U

	)

1114 
	#KMP_NEXT_WAIT
 32U

	)

1115 #–ià
KMP_OS_CNK


1116 
	#KMP_INIT_WAIT
 16U

	)

1117 
	#KMP_NEXT_WAIT
 8U

	)

1118 #–ià
KMP_OS_LINUX


1119 
	#KMP_INIT_WAIT
 1024U

	)

1120 
	#KMP_NEXT_WAIT
 512U

	)

1121 #–ià
KMP_OS_DARWIN


1123 
	#KMP_INIT_WAIT
 1024U

	)

1124 
	#KMP_NEXT_WAIT
 512U

	)

1125 #–ià
KMP_OS_DRAGONFLY


1127 
	#KMP_INIT_WAIT
 1024U

	)

1128 
	#KMP_NEXT_WAIT
 512U

	)

1129 #–ià
KMP_OS_FREEBSD


1131 
	#KMP_INIT_WAIT
 1024U

	)

1132 
	#KMP_NEXT_WAIT
 512U

	)

1133 #–ià
KMP_OS_NETBSD


1135 
	#KMP_INIT_WAIT
 1024U

	)

1136 
	#KMP_NEXT_WAIT
 512U

	)

1137 #–ià
KMP_OS_HURD


1139 
	#KMP_INIT_WAIT
 1024U

	)

1140 
	#KMP_NEXT_WAIT
 512U

	)

1141 #–ià
KMP_OS_OPENBSD


1143 
	#KMP_INIT_WAIT
 1024U

	)

1144 
	#KMP_NEXT_WAIT
 512U

	)

1147 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1148 
	skmp_ıuid
 {

1149 
kmp_ušt32
 
—x
;

1150 
kmp_ušt32
 
ebx
;

1151 
kmp_ušt32
 
ecx
;

1152 
kmp_ušt32
 
edx
;

1153 
	}
} 
	tkmp_ıuid_t
;

1155 
	skmp_ıušfo
 {

1156 
	gš™Ÿlized
;

1157 
	gsigÇtu»
;

1158 
	gçmy
;

1159 
	gmod–
;

1161 
	g¡•pšg
;

1162 
	gs£2
;

1163 
	g¹m
;

1164 
	gıu_¡ackoff£t
;

1165 
	g­ic_id
;

1166 
	gphysiÿl_id
;

1167 
	glogiÿl_id
;

1168 
kmp_ušt64
 
	gäequ’cy
;

1169 
	gÇme
[3 * (
kmp_ıuid_t
)];

1170 } 
	tkmp_ıušfo_t
;

1172 
__kmp_qu”y_ıuid
(
kmp_ıušfo_t
 *
p
);

1174 #ià
KMP_OS_UNIX


1177 
šlše
 
	$__kmp_x86_ıuid
(
Ëaf
, 
subËaf
, 
kmp_ıuid
 *
p
) {

1178 
__asm__
 
	`__vŞ©e__
("cpuid"

1179 : "÷"(
p
->
—x
), "=b"Õ->
ebx
), "=c"Õ->
ecx
), "=d"Õ->
edx
)

1180 : "a"(
Ëaf
), "c"(
subËaf
));

1181 
	}
}

1183 
šlše
 
	$__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(cÚ¡ 
kmp_št16
 *
p
) {

1184 
__asm__
 
	`__vŞ©e__
("ædcw %0" : : "m"(*
p
));

1185 
	}
}

1187 
šlše
 
	$__kmp_¡Üe_x87_åu_cÚŒŞ_wÜd
(
kmp_št16
 *
p
) {

1188 
__asm__
 
	`__vŞ©e__
("f¡cw %0" : "=m"(*
p
));

1189 
	}
}

1190 
šlše
 
	$__kmp_ş—r_x87_åu_¡©us_wÜd
() {

1191 #ià
KMP_MIC


1193 
	sx87_åu_¡©e
 {

1194 
cw
;

1195 
sw
;

1196 
tw
;

1197 
f
;

1198 
fs
;

1199 
fdp
;

1200 
fds
;

1202 
x87_åu_¡©e
 
åu_¡©e
 = {0, 0, 0, 0, 0, 0, 0};

1203 
__asm__
 
	`__vŞ©e__
("fstenv %0\n\t"

1206 : "+m"(
åu_¡©e
), "+m"(åu_¡©e.
sw
));

1208 
__asm__
 
	`__vŞ©e__
("fnclex");

1210 
	}
}

1211 #ià
__SSE__


1212 
šlše
 
	$__kmp_lßd_mxc¤
(cÚ¡ 
kmp_ušt32
 *
p
è{ 
	`_mm_£tc¤
(*p); 
	}
}

1213 
šlše
 
	$__kmp_¡Üe_mxc¤
(
kmp_ušt32
 *
p
è{ *°ğ
	`_mm_g‘c¤
(); 
	}
}

1215 
šlše
 
	$__kmp_lßd_mxc¤
(cÚ¡ 
kmp_ušt32
 *
p
è{
	}
}

1216 
šlše
 
	$__kmp_¡Üe_mxc¤
(
kmp_ušt32
 *
p
è{ *°ğ0; 
	}
}

1220 
__kmp_x86_ıuid
(
mode
, 
mode2
, 
kmp_ıuid
 *
p
);

1221 
__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(cÚ¡ 
kmp_št16
 *
p
);

1222 
__kmp_¡Üe_x87_åu_cÚŒŞ_wÜd
(
kmp_št16
 *
p
);

1223 
__kmp_ş—r_x87_åu_¡©us_wÜd
();

1224 
šlše
 
	$__kmp_lßd_mxc¤
(cÚ¡ 
kmp_ušt32
 *
p
è{ 
	`_mm_£tc¤
(*p); 
	}
}

1225 
šlše
 
	$__kmp_¡Üe_mxc¤
(
kmp_ušt32
 *
p
è{ *°ğ
	`_mm_g‘c¤
(); 
	}
}

1228 
	#KMP_X86_MXCSR_MASK
 0xffffffc0

	)

1230 #ià
KMP_ARCH_X86


1231 
__kmp_x86_·u£
();

1232 #–ià
KMP_MIC


1237 
šlše
 
	$__kmp_x86_·u£
(è{ 
	`_mm_d–ay_32
(300); 
	}
}

1239 
šlše
 
	$__kmp_x86_·u£
(è{ 
	`_mm_·u£
(); 
	}
}

1241 
	#KMP_CPU_PAUSE
(è
	$__kmp_x86_·u£
()

	)

1242 #–ià
KMP_ARCH_PPC64


1243 
	#KMP_PPC64_PRI_LOW
(è
__asm__
 vŞ©e("Ü 1, 1, 1")

	)

1244 
	#KMP_PPC64_PRI_MED
(è
__asm__
 vŞ©e("Ü 2, 2, 2")

	)

1245 
	#KMP_PPC64_PRI_LOC_MB
(è
__asm__
 vŞ©e("" : : : "memÜy")

	)

1246 
	#KMP_CPU_PAUSE
() \

1248 
	`KMP_PPC64_PRI_LOW
(); \

1249 
	`KMP_PPC64_PRI_MED
(); \

1250 
	`KMP_PPC64_PRI_LOC_MB
(); \

1251 
	}
} 0)

	)

1253 
	#KMP_CPU_PAUSE
(è

	)

1256 
	#KMP_INIT_YIELD
(
couÁ
) \

1257 { (
couÁ
èğ
__kmp_y›ld_š™
; 
	}

	)
}

1259 
	#KMP_OVERSUBSCRIBED
 \

1260 (
	`TCR_4
(
__kmp_Áh
è> (
__kmp_ava_´oc
 ? __kmp_ava_´oø: 
__kmp_x´oc
))

	)

1262 
	#KMP_TRY_YIELD
 \

1263 ((
__kmp_u£_y›ld
 =ğ1è|| (__kmp_u£_y›ld =ğ2 && (
KMP_OVERSUBSCRIBED
)))

	)

1265 
	#KMP_TRY_YIELD_OVERSUB
 \

1266 ((
__kmp_u£_y›ld
 =ğ1 || __kmp_u£_y›ld =ğ2è&& (
KMP_OVERSUBSCRIBED
))

	)

1268 
	#KMP_YIELD
(
cÚd
) \

1270 
	`KMP_CPU_PAUSE
(); \

1271 ià((
cÚd
è&& (
KMP_TRY_YIELD
)) \

1272 
	`__kmp_y›ld
(); \

1273 }

	)

1275 
	#KMP_YIELD_OVERSUB
() \

1277 
	`KMP_CPU_PAUSE
(); \

1278 ià((
KMP_TRY_YIELD_OVERSUB
)) \

1279 
	`__kmp_y›ld
(); \

1280 }

	)

1284 
	#KMP_YIELD_SPIN
(
couÁ
) \

1286 
	`KMP_CPU_PAUSE
(); \

1287 ià(
KMP_TRY_YIELD
) { \

1288 (
couÁ
) -= 2; \

1289 ià(!(
couÁ
)) { \

1290 
	`__kmp_y›ld
(); \

1291 (
couÁ
èğ
__kmp_y›ld_Ãxt
; \

1294 }

	)

1296 
	#KMP_YIELD_OVERSUB_ELSE_SPIN
(
couÁ
) \

1298 
	`KMP_CPU_PAUSE
(); \

1299 ià((
KMP_TRY_YIELD_OVERSUB
)) \

1300 
	`__kmp_y›ld
(); \

1301 ià(
__kmp_u£_y›ld
 == 1) { \

1302 (
couÁ
) -= 2; \

1303 ià(!(
couÁ
)) { \

1304 
	`__kmp_y›ld
(); \

1305 (
couÁ
èğ
__kmp_y›ld_Ãxt
; \

1308 }

	)

1314 
	ecÚs_ty³
 {

1315 
	gù_nÚe
,

1316 
	gù_·¿Î–
,

1317 
	gù_pdo
,

1318 
	gù_pdo_Üd”ed
,

1319 
	gù_p£ùiÚs
,

1320 
	gù_psšgË
,

1321 
	gù_ü™iÿl
,

1322 
	gù_Üd”ed_š_·¿Î–
,

1323 
	gù_Üd”ed_š_pdo
,

1324 
	gù_ma¡”
,

1325 
	gù_»duû
,

1326 
	gù_b¬r›r


1329 
	#IS_CONS_TYPE_ORDERED
(
ù
è((ùè=ğ
ù_pdo_Üd”ed
)

	)

1331 
	scÚs_d©a
 {

1332 
id’t_t
 cÚ¡ *
	gid’t
;

1333 
cÚs_ty³
 
	gty³
;

1334 
	g´ev
;

1335 
kmp_u£r_lock_p


1336 
	gÇme
;

1339 
	scÚs_h—d”
 {

1340 
	gp_tİ
, 
	gw_tİ
, 
	gs_tİ
;

1341 
	g¡ack_size
, 
	g¡ack_tİ
;

1342 
cÚs_d©a
 *
	g¡ack_d©a
;

1345 
	skmp_»giÚ_šfo
 {

1346 *
	g‹xt
;

1347 
	goff£t
[
KMP_MAX_FIELDS
];

1348 
	gËngth
[
KMP_MAX_FIELDS
];

1354 #ià
KMP_OS_WINDOWS


1355 
HANDLE
 
	tkmp_th»ad_t
;

1356 
DWORD
 
	tkmp_key_t
;

1359 #ià
KMP_OS_UNIX


1360 
±h»ad_t
 
	tkmp_th»ad_t
;

1361 
±h»ad_key_t
 
	tkmp_key_t
;

1364 
kmp_key_t
 
__kmp_gtid_th»ad´iv©e_key
;

1366 
	skmp_sys_šfo
 {

1367 
	gmaxrss
;

1368 
	gmšæt
;

1369 
	gmajæt
;

1370 
	gnsw­
;

1371 
	gšblock
;

1372 
	goublock
;

1373 
	gnvcsw
;

1374 
	gnivcsw
;

1375 } 
	tkmp_sys_šfo_t
;

1377 #ià
USE_ITT_BUILD


1380 
	tkmp_™t_m¬k_t
;

1381 
	#KMP_ITT_DEBUG
 0

	)

1384 
kmp_št32
 
	tkmp_ü™iÿl_Çme
[8];

1395 (*
	tkmpc_miüo
)(
	tkmp_št32
 *
	tglob®_tid
, kmp_št32 *
	tbound_tid
, ...);

1396 (*
	tkmpc_miüo_bound
)(
	tkmp_št32
 *
	tbound_tid
, kmp_št32 *
	tbound_Áh
,

1413 *(*
	tkmpc_ùÜ
)(*);

1419 (*
	tkmpc_dtÜ
)(

1426 *(*
	tkmpc_cùÜ
)(*, *);

1436 *(*
	tkmpc_ùÜ_vec
)(*, 
	tsize_t
);

1442 (*
	tkmpc_dtÜ_vec
)(*, 
	tsize_t
);

1448 *(*
	tkmpc_cùÜ_vec
)(*, *,

1449 
	tsize_t
);

1456 
	skmp_ÿched_addr
 {

1457 **
addr
;

1458 ***
comp”_ÿche
;

1459 *
d©a
;

1460 
kmp_ÿched_addr
 *
Ãxt
;

1461 
	}
} 
	tkmp_ÿched_addr_t
;

1463 
	s´iv©e_d©a
 {

1464 
´iv©e_d©a
 *
	gÃxt
;

1465 *
	gd©a
;

1466 
	gmÜe
;

1467 
size_t
 
	gsize
;

1470 
	s´iv©e_commÚ
 {

1471 
´iv©e_commÚ
 *
	gÃxt
;

1472 
´iv©e_commÚ
 *
	glšk
;

1473 *
	ggbl_addr
;

1474 *
	g·r_addr
;

1475 
size_t
 
	gcmn_size
;

1478 
	ssh¬ed_commÚ
 {

1479 
sh¬ed_commÚ
 *
	gÃxt
;

1480 
´iv©e_d©a
 *
	gpod_š™
;

1481 *
	gobj_š™
;

1482 *
	ggbl_addr
;

1484 
kmpc_ùÜ
 
	gùÜ
;

1485 
kmpc_ùÜ_vec
 
	gùÜv
;

1486 } 
	gù
;

1488 
kmpc_cùÜ
 
	gcùÜ
;

1489 
kmpc_cùÜ_vec
 
	gcùÜv
;

1490 } 
	gcù
;

1492 
kmpc_dtÜ
 
	gdtÜ
;

1493 
kmpc_dtÜ_vec
 
	gdtÜv
;

1494 } 
	gdt
;

1495 
size_t
 
	gvec_Ën
;

1496 
	gis_vec
;

1497 
size_t
 
	gcmn_size
;

1500 
	#KMP_HASH_TABLE_LOG2
 9

	)

1501 
	#KMP_HASH_TABLE_SIZE
 \

1502 (1 << 
KMP_HASH_TABLE_LOG2
è

	)

1503 
	#KMP_HASH_SHIFT
 3

	)

1504 
	#KMP_HASH
(
x
) \

1505 ((((
kmp_ušŒ_t
)
x
è>> 
KMP_HASH_SHIFT
è& (
KMP_HASH_TABLE_SIZE
 - 1))

	)

1507 
	scommÚ_bË
 {

1508 
´iv©e_commÚ
 *
	gd©a
[
KMP_HASH_TABLE_SIZE
];

1511 
	ssh¬ed_bË
 {

1512 
sh¬ed_commÚ
 *
	gd©a
[
KMP_HASH_TABLE_SIZE
];

1517 #ià
KMP_USE_HIER_SCHED


1520 
	skmp_h›r_´iv©e_bd©a_t
 {

1521 
kmp_št32
 
	gnum_aùive
;

1522 
kmp_ušt64
 
	gšdex
;

1523 
kmp_ušt64
 
	gwa™_v®
[2];

1524 } 
	tkmp_h›r_´iv©e_bd©a_t
;

1527 
	skmp_sched_æags
 {

1528 
	gÜd”ed
 : 1;

1529 
	gnom”ge
 : 1;

1530 
	gcÚšs_Ï¡
 : 1;

1531 #ià
KMP_USE_HIER_SCHED


1532 
	gu£_h›r
 : 1;

1533 
	gunu£d
 : 28;

1535 
	gunu£d
 : 29;

1537 } 
	tkmp_sched_æags_t
;

1539 
KMP_BUILD_ASSERT
((
kmp_sched_æags_t
) == 4);

1541 #ià
KMP_STATIC_STEAL_ENABLED


1542 
KMP_ALIGN_CACHE
 
	tdi¥©ch_´iv©e_šfo32
 {

1543 
kmp_št32
 
	gcouÁ
;

1544 
kmp_št32
 
	gub
;

1546 
kmp_št32
 
	glb
;

1547 
kmp_št32
 
	g¡
;

1548 
kmp_št32
 
	gtc
;

1549 
kmp_št32
 
	g¡©ic_¡—l_couÁ”
;

1558 
KMP_ALIGN
(32) {

1559 
kmp_št32
 
	g·rm1
;

1560 
kmp_št32
 
	g·rm2
;

1561 
kmp_št32
 
	g·rm3
;

1562 
kmp_št32
 
	g·rm4
;

1565 
kmp_ušt32
 
	gÜd”ed_low”
;

1566 
kmp_ušt32
 
	gÜd”ed_uµ”
;

1567 #ià
KMP_OS_WINDOWS


1571 
kmp_št32
 
	gÏ¡_uµ”
;

1573 } 
	tdi¥©ch_´iv©e_šfo32_t
;

1575 
KMP_ALIGN_CACHE
 
	tdi¥©ch_´iv©e_šfo64
 {

1576 
kmp_št64
 
	gcouÁ
;

1577 
kmp_št64
 
	gub
;

1579 
kmp_št64
 
	glb
;

1580 
kmp_št64
 
	g¡
;

1581 
kmp_št64
 
	gtc
;

1582 
kmp_št64
 
	g¡©ic_¡—l_couÁ”
;

1593 
KMP_ALIGN
(32) {

1594 
kmp_št64
 
	g·rm1
;

1595 
kmp_št64
 
	g·rm2
;

1596 
kmp_št64
 
	g·rm3
;

1597 
kmp_št64
 
	g·rm4
;

1600 
kmp_ušt64
 
	gÜd”ed_low”
;

1601 
kmp_ušt64
 
	gÜd”ed_uµ”
;

1602 #ià
KMP_OS_WINDOWS


1606 
kmp_št64
 
	gÏ¡_uµ”
;

1608 } 
	tdi¥©ch_´iv©e_šfo64_t
;

1610 
KMP_ALIGN_CACHE
 
	tdi¥©ch_´iv©e_šfo32
 {

1611 
kmp_št32
 
	glb
;

1612 
kmp_št32
 
	gub
;

1613 
kmp_št32
 
	g¡
;

1614 
kmp_št32
 
	gtc
;

1616 
kmp_št32
 
	g·rm1
;

1617 
kmp_št32
 
	g·rm2
;

1618 
kmp_št32
 
	g·rm3
;

1619 
kmp_št32
 
	g·rm4
;

1621 
kmp_št32
 
	gcouÁ
;

1623 
kmp_ušt32
 
	gÜd”ed_low”
;

1624 
kmp_ušt32
 
	gÜd”ed_uµ”
;

1625 #ià
KMP_OS_WINDOWS


1626 
kmp_št32
 
	gÏ¡_uµ”
;

1628 } 
	tdi¥©ch_´iv©e_šfo32_t
;

1630 
KMP_ALIGN_CACHE
 
	tdi¥©ch_´iv©e_šfo64
 {

1631 
kmp_št64
 
	glb
;

1632 
kmp_št64
 
	gub
;

1633 
kmp_št64
 
	g¡
;

1634 
kmp_št64
 
	gtc
;

1637 
kmp_št64
 
	g·rm1
;

1638 
kmp_št64
 
	g·rm2
;

1639 
kmp_št64
 
	g·rm3
;

1640 
kmp_št64
 
	g·rm4
;

1642 
kmp_št64
 
	gcouÁ
;

1644 
kmp_ušt64
 
	gÜd”ed_low”
;

1645 
kmp_ušt64
 
	gÜd”ed_uµ”
;

1646 #ià
KMP_OS_WINDOWS


1647 
kmp_št64
 
	gÏ¡_uµ”
;

1649 } 
	tdi¥©ch_´iv©e_šfo64_t
;

1652 
KMP_ALIGN_CACHE
 
	tdi¥©ch_´iv©e_šfo
 {

1653 
	u´iv©e_šfo
 {

1654 
di¥©ch_´iv©e_šfo32_t
 
	gp32
;

1655 
di¥©ch_´iv©e_šfo64_t
 
	gp64
;

1656 } 
	gu
;

1657 
sched_ty³
 
	gscheduË
;

1658 
kmp_sched_æags_t
 
	gæags
;

1659 
kmp_št32
 
	gÜd”ed_bum³d
;

1661 
kmp_št32
 
	gÜd”ed_dummy
[
KMP_MAX_ORDERED
 - 3];

1663 
di¥©ch_´iv©e_šfo
 *
	gÃxt
;

1664 
kmp_št32
 
	gty³_size
;

1665 #ià
KMP_USE_HIER_SCHED


1666 
kmp_št32
 
	gh›r_id
;

1667 *
	g·»Á
;

1669 
cÚs_ty³
 
	gpushed_ws
;

1670 } 
	tdi¥©ch_´iv©e_šfo_t
;

1672 
	sdi¥©ch_sh¬ed_šfo32
 {

1675 vŞ©
kmp_ušt32
 
	g™”©iÚ
;

1676 vŞ©
kmp_ušt32
 
	gnum_dÚe
;

1677 vŞ©
kmp_ušt32
 
	gÜd”ed_™”©iÚ
;

1679 
kmp_št32
 
	gÜd”ed_dummy
[
KMP_MAX_ORDERED
 - 1];

1680 } 
	tdi¥©ch_sh¬ed_šfo32_t
;

1682 
	sdi¥©ch_sh¬ed_šfo64
 {

1685 vŞ©
kmp_ušt64
 
	g™”©iÚ
;

1686 vŞ©
kmp_ušt64
 
	gnum_dÚe
;

1687 vŞ©
kmp_ušt64
 
	gÜd”ed_™”©iÚ
;

1689 
kmp_št64
 
	gÜd”ed_dummy
[
KMP_MAX_ORDERED
 - 3];

1690 } 
	tdi¥©ch_sh¬ed_šfo64_t
;

1692 
	sdi¥©ch_sh¬ed_šfo
 {

1693 
	ush¬ed_šfo
 {

1694 
di¥©ch_sh¬ed_šfo32_t
 
	gs32
;

1695 
di¥©ch_sh¬ed_šfo64_t
 
	gs64
;

1696 } 
	gu
;

1697 vŞ©
kmp_ušt32
 
	gbufãr_šdex
;

1698 vŞ©
kmp_št32
 
	gdßüoss_buf_idx
;

1699 vŞ©
kmp_ušt32
 *
	gdßüoss_æags
;

1700 
kmp_št32
 
	gdßüoss_num_dÚe
;

1701 #ià
KMP_USE_HIER_SCHED


1702 *
	gh›r
;

1704 #ià
KMP_USE_HWLOC


1708 
	g·ddšg
[64];

1710 } 
	tdi¥©ch_sh¬ed_šfo_t
;

1712 
	skmp_di¥
 {

1714 (*
	gth_deo_fú
)(*
	ggtid
, *
	gcid
, 
	gid’t_t
 *);

1716 (*
	gth_dxo_fú
)(*
	ggtid
, *
	gcid
, 
	gid’t_t
 *);

1718 
di¥©ch_sh¬ed_šfo_t
 *
	gth_di¥©ch_sh_cu¼’t
;

1719 
di¥©ch_´iv©e_šfo_t
 *
	gth_di¥©ch_´_cu¼’t
;

1721 
di¥©ch_´iv©e_šfo_t
 *
	gth_di¥_bufãr
;

1722 
kmp_št32
 
	gth_di¥_šdex
;

1723 
kmp_št32
 
	gth_dßüoss_buf_idx
;

1724 vŞ©
kmp_ušt32
 *
	gth_dßüoss_æags
;

1727 
kmp_št64
 *
	gth_dßüoss_šfo
;

1728 
kmp_lock_t
 *
	gth_¡—l_lock
;

1730 #ià
KMP_USE_INTERNODE_ALIGNMENT


1731 
	gmÜe_·ddšg
[
INTERNODE_CACHE_LINE
];

1733 } 
	tkmp_di¥_t
;

1739 
	#KMP_INIT_BARRIER_STATE
 0

	)

1740 
	#KMP_BARRIER_SLEEP_BIT
 0

	)

1741 
	#KMP_BARRIER_UNUSED_BIT
 1

1742 
	#KMP_BARRIER_BUMP_BIT
 2

	)

1744 
	#KMP_BARRIER_SLEEP_STATE
 (1 << 
KMP_BARRIER_SLEEP_BIT
)

	)

1745 
	#KMP_BARRIER_UNUSED_STATE
 (1 << 
KMP_BARRIER_UNUSED_BIT
)

	)

1746 
	#KMP_BARRIER_STATE_BUMP
 (1 << 
KMP_BARRIER_BUMP_BIT
)

	)

1748 #ià(
KMP_BARRIER_SLEEP_BIT
 >ğ
KMP_BARRIER_BUMP_BIT
)

1751 #ià(
KMP_BARRIER_UNUSED_BIT
 >ğ
KMP_BARRIER_BUMP_BIT
)

1756 
	#KMP_BARRIER_NOT_WAITING
 0

1757 
	#KMP_BARRIER_OWN_FLAG
 \

1759 
	#KMP_BARRIER_PARENT_FLAG
 \

1761 
	#KMP_BARRIER_SWITCH_TO_OWN_FLAG
 \

1763 
	#KMP_BARRIER_SWITCHING
 \

1765 

	)

1766 
	#KMP_NOT_SAFE_TO_REAP
 \

1768 
	#KMP_SAFE_TO_REAP
 1

1769 

	)

1770 
	eb¬r›r_ty³
 {

1771 
	gbs_¶aš_b¬r›r
 = 0,

1773 
	gbs_fÜkjoš_b¬r›r
,

1774 #ià
KMP_FAST_REDUCTION_BARRIER


1775 
	gbs_»duùiÚ_b¬r›r
,

1777 
	gbs_Ï¡_b¬r›r


1781 #ià!
KMP_FAST_REDUCTION_BARRIER


1782 
	#bs_»duùiÚ_b¬r›r
 
bs_¶aš_b¬r›r


	)

1785 
	ekmp_b¬_·t
 {

1786 
	gbp_lš—r_b¬
 =

1788 
	gbp_Œ“_b¬
 =

1790 
	gbp_hy³r_b¬
 =

1793 
	gbp_h›¿rchiÿl_b¬
 = 3,

1794 
	gbp_Ï¡_b¬


1795 } 
	tkmp_b¬_·t_e
;

1797 
	#KMP_BARRIER_ICV_PUSH
 1

	)

1800 
	skmp_š‹º®_cÚŒŞ
 {

1801 
	g£rŸl_Ã¡šg_Ëv–
;

1803 
kmp_št8
 
	gdyÇmic
;

1805 
kmp_št8


1806 
	gbt_£t
;

1807 
	gblocktime
;

1808 #ià
KMP_USE_MONITOR


1809 
	gbt_š‹rv®s
;

1811 
	gÅroc
;

1813 
	gth»ad_lim™
;

1814 
	gmax_aùive_Ëv–s
;

1815 
kmp_r_sched_t


1816 
	gsched
;

1817 
kmp_´oc_bšd_t
 
	g´oc_bšd
;

1818 
kmp_št32
 
	gdeçuÉ_deviû
;

1819 
kmp_š‹º®_cÚŒŞ
 *
	gÃxt
;

1820 } 
	tkmp_š‹º®_cÚŒŞ_t
;

1822 
šlše
 
	$cİy_icvs
(
kmp_š‹º®_cÚŒŞ_t
 *
d¡
,

1823 
kmp_š‹º®_cÚŒŞ_t
 *
¤c
) {

1824 *
d¡
 = *
¤c
;

1825 
	}
}

1828 
KMP_ALIGN_CACHE
 
	tkmp_b¡©e
 {

1833 
kmp_š‹º®_cÚŒŞ_t
 
	gth_fixed_icvs
;

1836 vŞ©
kmp_ušt64
 
	gb_go
;

1837 
KMP_ALIGN_CACHE
 vŞ©
kmp_ušt64


1838 
	gb_¬rived
;

1839 
kmp_ušt32
 *
	gsk_³r_Ëv–
;

1840 
kmp_ušt32
 
	gmy_Ëv–
;

1841 
kmp_št32
 
	g·»Á_tid
;

1842 
kmp_št32
 
	gŞd_tid
;

1843 
kmp_ušt32
 
	gd•th
;

1844 
kmp_b¡©e
 *
	g·»Á_b¬
;

1845 
kmp_‹am_t
 *
	g‹am
;

1846 
kmp_ušt64
 
	gËaf_¡©e
;

1847 
kmp_ušt32
 
	gÅroc
;

1848 
kmp_ušt8
 
	gba£_Ëaf_kids
;

1849 
kmp_ušt8
 
	gËaf_kids
;

1850 
kmp_ušt8
 
	goff£t
;

1851 
kmp_ušt8
 
	gwa™_æag
;

1852 
kmp_ušt8
 
	gu£_ÚcÜe_b¬r›r
;

1853 #ià
USE_DEBUGGER


1857 
KMP_ALIGN_CACHE
 
kmp_ušt
 
	gb_wÜk”_¬rived
;

1859 } 
	tkmp_b¡©e_t
;

1861 
KMP_ALIGN_CACHE
 
	gkmp_b¬r›r_uniÚ
 {

1862 
	gb_®ign
;

1863 
	gb_·d
[
KMP_PAD
(
kmp_b¡©e_t
, 
CACHE_LINE
)];

1864 
kmp_b¡©e_t
 
	gbb
;

1867 
kmp_b¬r›r_uniÚ
 
	tkmp_b®ign_t
;

1870 
KMP_ALIGN_CACHE
 
	gkmp_b¬r›r_‹am_uniÚ
 {

1871 
	gb_®ign
;

1872 
	gb_·d
[
CACHE_LINE
];

1874 
kmp_ušt64
 
	gb_¬rived
;

1875 #ià
USE_DEBUGGER


1880 
kmp_ušt
 
	gb_ma¡”_¬rived
;

1881 
kmp_ušt
 
	gb_‹am_¬rived
;

1886 
kmp_b¬r›r_‹am_uniÚ
 
	tkmp_b®ign_‹am_t
;

1892 #ià
KMP_OS_WINDOWS


1893 
	skmp_wš32_mu‹x
 {

1895 
CRITICAL_SECTION
 
	gcs
;

1896 } 
	tkmp_wš32_mu‹x_t
;

1898 
	skmp_wš32_cÚd
 {

1900 
	gwa™”s_couÁ_
;

1903 
kmp_wš32_mu‹x_t
 
	gwa™”s_couÁ_lock_
;

1906 
	g»Ëa£_couÁ_
;

1910 
	gwa™_g’”©iÚ_couÁ_
;

1913 
HANDLE
 
	gev’t_
;

1914 } 
	tkmp_wš32_cÚd_t
;

1917 #ià
KMP_OS_UNIX


1919 
KMP_ALIGN_CACHE
 
	gkmp_cÚd_uniÚ
 {

1920 
	gc_®ign
;

1921 
	gc_·d
[
CACHE_LINE
];

1922 
±h»ad_cÚd_t
 
	gc_cÚd
;

1925 
kmp_cÚd_uniÚ
 
	tkmp_cÚd_®ign_t
;

1927 
KMP_ALIGN_CACHE
 
	gkmp_mu‹x_uniÚ
 {

1928 
	gm_®ign
;

1929 
	gm_·d
[
CACHE_LINE
];

1930 
±h»ad_mu‹x_t
 
	gm_mu‹x
;

1933 
kmp_mu‹x_uniÚ
 
	tkmp_mu‹x_®ign_t
;

1937 
	skmp_desc_ba£
 {

1938 *
	gds_¡ackba£
;

1939 
size_t
 
	gds_¡acksize
;

1940 
	gds_¡ackgrow
;

1941 
kmp_th»ad_t
 
	gds_th»ad
;

1942 vŞ©
	gds_tid
;

1943 
	gds_gtid
;

1944 #ià
KMP_OS_WINDOWS


1945 vŞ©
	gds_®ive
;

1946 
DWORD
 
	gds_th»ad_id
;

1960 } 
	tkmp_desc_ba£_t
;

1962 
KMP_ALIGN_CACHE
 
	tkmp_desc
 {

1963 
	gds_®ign
;

1964 
	gds_·d
[
KMP_PAD
(
kmp_desc_ba£_t
, 
CACHE_LINE
)];

1965 
kmp_desc_ba£_t
 
	gds
;

1966 } 
	tkmp_desc_t
;

1968 
	skmp_loÿl
 {

1969 vŞ©
	gthis_cÚ¡ruù
;

1970 *
	g»duû_d©a
;

1971 #ià
KMP_USE_BGET


1972 *
	gbg‘_d©a
;

1973 *
	gbg‘_li¡
;

1974 #ià!
USE_CMP_XCHG_FOR_BGET


1975 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


1976 
kmp_lock_t
 
	gbg‘_lock
;

1978 
kmp_boÙ¡¿p_lock_t
 
	gbg‘_lock
;

1985 
PACKED_REDUCTION_METHOD_T


1986 
	g·cked_»duùiÚ_m‘hod
;

1989 } 
	tkmp_loÿl_t
;

1991 
	#KMP_CHECK_UPDATE
(
a
, 
b
) \

1992 ià((
a
è!ğ(
b
)) \

1993 (
a
èğ(
b
)

	)

1994 
	#KMP_CHECK_UPDATE_SYNC
(
a
, 
b
) \

1995 ià((
a
è!ğ(
b
)) \

1996 
	`TCW_SYNC_PTR
((
a
), (
b
))

	)

1998 
	#g‘__blocktime
(
x‹am
, 
xtid
) \

1999 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
blocktime
)

	)

2000 
	#g‘__bt_£t
(
x‹am
, 
xtid
) \

2001 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
bt_£t
)

	)

2002 #ià
KMP_USE_MONITOR


2003 
	#g‘__bt_š‹rv®s
(
x‹am
, 
xtid
) \

2004 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
bt_š‹rv®s
)

	)

2007 
	#g‘__dyÇmic_2
(
x‹am
, 
xtid
) \

2008 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
dyÇmic
)

	)

2009 
	#g‘__Åroc_2
(
x‹am
, 
xtid
) \

2010 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
)

	)

2011 
	#g‘__sched_2
(
x‹am
, 
xtid
) \

2012 ((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
)

	)

2014 
	#£t__blocktime_‹am
(
x‹am
, 
xtid
, 
xv®
) \

2015 (((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
blocktime
) = \

2016 (
xv®
))

	)

2018 #ià
KMP_USE_MONITOR


2019 
	#£t__bt_š‹rv®s_‹am
(
x‹am
, 
xtid
, 
xv®
) \

2020 (((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
bt_š‹rv®s
) = \

2021 (
xv®
))

	)

2024 
	#£t__bt_£t_‹am
(
x‹am
, 
xtid
, 
xv®
) \

2025 (((
x‹am
)->
t
.
t_th»ads
[(
xtid
)]->
th
.
th_cu¼’t_sk
->
td_icvs
.
bt_£t
èğ(
xv®
))

	)

2027 
	#£t__dyÇmic
(
xth»ad
, 
xv®
) \

2028 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
dyÇmic
èğ(
xv®
))

	)

2029 
	#g‘__dyÇmic
(
xth»ad
) \

2030 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
dyÇmic
è? (
FTN_TRUE
è: (
FTN_FALSE
))

	)

2032 
	#£t__Åroc
(
xth»ad
, 
xv®
) \

2033 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
èğ(
xv®
))

	)

2035 
	#£t__th»ad_lim™
(
xth»ad
, 
xv®
) \

2036 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
èğ(
xv®
))

	)

2038 
	#£t__max_aùive_Ëv–s
(
xth»ad
, 
xv®
) \

2039 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
èğ(
xv®
))

	)

2041 
	#g‘__max_aùive_Ëv–s
(
xth»ad
) \

2042 ((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
)

	)

2044 
	#£t__sched
(
xth»ad
, 
xv®
) \

2045 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
èğ(
xv®
))

	)

2047 
	#£t__´oc_bšd
(
xth»ad
, 
xv®
) \

2048 (((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
èğ(
xv®
))

	)

2049 
	#g‘__´oc_bšd
(
xth»ad
) \

2050 ((
xth»ad
)->
th
.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
)

	)

2054 
	ekmp_skšg_mode
 {

2055 
	gtskm_immedŸ‹_exec
 = 0,

2056 
	gtskm_exŒa_b¬r›r
 = 1,

2057 
	gtskm_sk_‹ams
 = 2,

2058 
	gtskm_max
 = 2

2059 } 
	tkmp_skšg_mode_t
;

2061 
kmp_skšg_mode_t


2062 
__kmp_skšg_mode
;

2063 
__kmp_sk_¡—lšg_cÚ¡¿št
;

2064 
__kmp_’abË_sk_thrÙšg
;

2065 
kmp_št32
 
__kmp_deçuÉ_deviû
;

2068 
kmp_št32
 
__kmp_max_sk_´iÜ™y
;

2070 
kmp_ušt64
 
__kmp_skloİ_mš_sks
;

2074 
	#KMP_TASK_TO_TASKDATA
(
sk
è(((
kmp_skd©a_t
 *éaskè- 1)

	)

2075 
	#KMP_TASKDATA_TO_TASK
(
skd©a
è(
kmp_sk_t
 *)Ñaskd©¨+ 1)

	)

2079 
	#KMP_TASKING_ENABLED
(
sk_‹am
) \

2080 (
	`TCR_SYNC_4
((
sk_‹am
)->
‰
.
‰_found_sks
è=ğ
TRUE
)

	)

2088 
	$kmp_št32
 (*
	tkmp_routše_’Œy_t
)(
	tkmp_št32
, *);

2090 
	ukmp_cm¶rd©a
 {

2091 
kmp_št32
 
´iÜ™y
;

2092 
kmp_routše_’Œy_t


2093 
de¡ruùÜs
;

2096 
	}
} 
	tkmp_cm¶rd©a_t
;

2101 
	skmp_sk
 {

2102 *
	gsh¬eds
;

2103 
kmp_routše_’Œy_t


2104 
	groutše
;

2105 
kmp_št32
 
	g·¹_id
;

2106 
kmp_cm¶rd©a_t


2107 
	gd©a1
;

2108 
kmp_cm¶rd©a_t
 
	gd©a2
;

2111 } 
	tkmp_sk_t
;

2117 
	skmp_skgroup
 {

2118 
	g¡d
::
©omic
<
kmp_št32
> 
couÁ
;

2119 
	g¡d
::
©omic
<
kmp_št32
>

2120 
ÿnûl_»que¡
;

2121 
kmp_skgroup
 *
	g·»Á
;

2123 *
	g»duû_d©a
;

2124 
kmp_št32
 
	g»duû_num_d©a
;

2125 } 
	tkmp_skgroup_t
;

2128 
kmp_d•node
 
	tkmp_d•node_t
;

2129 
kmp_d•node_li¡
 
	tkmp_d•node_li¡_t
;

2130 
kmp_d•hash_’Œy
 
	tkmp_d•hash_’Œy_t
;

2133 
	skmp_d•’d_šfo
 {

2134 
kmp_šŒ_t
 
	gba£_addr
;

2135 
size_t
 
	gËn
;

2137 
boŞ
 
	gš
 : 1;

2138 
boŞ
 
	gout
 : 1;

2139 
boŞ
 
	gmtx
 : 1;

2140 } 
	gæags
;

2141 } 
	tkmp_d•’d_šfo_t
;

2144 
	skmp_d•node_li¡
 {

2145 
kmp_d•node_t
 *
	gnode
;

2146 
kmp_d•node_li¡_t
 *
	gÃxt
;

2150 
	#MAX_MTX_DEPS
 4

	)

2152 
	skmp_ba£_d•node
 {

2153 
kmp_d•node_li¡_t
 *
	gsucûssÜs
;

2154 
kmp_sk_t
 *
	gsk
;

2155 
kmp_lock_t
 *
	gmtx_locks
[
MAX_MTX_DEPS
];

2156 
kmp_št32
 
	gmtx_num_locks
;

2157 
kmp_lock_t
 
	glock
;

2158 #ià
KMP_SUPPORT_GRAPH_OUTPUT


2159 
kmp_ušt32
 
	gid
;

2161 
	g¡d
::
©omic
<
kmp_št32
> 
Å»deûssÜs
;

2162 
	g¡d
::
©omic
<
kmp_št32
> 
Äefs
;

2163 } 
	tkmp_ba£_d•node_t
;

2165 
KMP_ALIGN_CACHE
 
	gkmp_d•node
 {

2166 
	gdn_®ign
;

2167 
	gdn_·d
[
KMP_PAD
(
kmp_ba£_d•node_t
, 
CACHE_LINE
)];

2168 
kmp_ba£_d•node_t
 
	gdn
;

2171 
	skmp_d•hash_’Œy
 {

2172 
kmp_šŒ_t
 
	gaddr
;

2173 
kmp_d•node_t
 *
	gÏ¡_out
;

2174 
kmp_d•node_li¡_t
 *
	gÏ¡_šs
;

2175 
kmp_d•node_li¡_t
 *
	gÏ¡_mtxs
;

2176 
kmp_št32
 
	gÏ¡_æag
;

2177 
kmp_lock_t
 *
	gmtx_lock
;

2178 
kmp_d•hash_’Œy_t
 *
	gÃxt_š_buck‘
;

2181 
	skmp_d•hash
 {

2182 
kmp_d•hash_’Œy_t
 **
	gbuck‘s
;

2183 
size_t
 
	gsize
;

2184 
size_t
 
	gg’”©iÚ
;

2185 
kmp_ušt32
 
	gÃËm’ts
;

2186 
kmp_ušt32
 
	gncÚæiùs
;

2187 } 
	tkmp_d•hash_t
;

2189 
	skmp_sk_affš™y_šfo
 {

2190 
kmp_šŒ_t
 
	gba£_addr
;

2191 
size_t
 
	gËn
;

2193 
boŞ
 
	gæag1
 : 1;

2194 
boŞ
 
	gæag2
 : 1;

2195 
kmp_št32
 
	g»£rved
 : 30;

2196 } 
	gæags
;

2197 } 
	tkmp_sk_affš™y_šfo_t
;

2199 
	ekmp_ev’t_ty³_t
 {

2200 
	gKMP_EVENT_UNINITIALIZED
 = 0,

2201 
	gKMP_EVENT_ALLOW_COMPLETION
 = 1

2202 } 
	tkmp_ev’t_ty³_t
;

2205 
kmp_ev’t_ty³_t
 
	gty³
;

2206 
kmp_s_lock_t
 
	glock
;

2208 
kmp_sk_t
 *
	gsk
;

2209 } 
	ged
;

2210 } 
	tkmp_ev’t_t
;

2212 #ifdeà
BUILD_TIED_TASK_STACK


2215 
	skmp_¡ack_block
 {

2216 
kmp_skd©a_t
 *
	gsb_block
[
TASK_STACK_BLOCK_SIZE
];

2217 
kmp_¡ack_block
 *
	gsb_Ãxt
;

2218 
kmp_¡ack_block
 *
	gsb_´ev
;

2219 } 
	tkmp_¡ack_block_t
;

2221 
	skmp_sk_¡ack
 {

2222 
kmp_¡ack_block_t
 
	gts_fœ¡_block
;

2223 
kmp_skd©a_t
 **
	gts_tİ
;

2224 
kmp_št32
 
	gts_’Œ›s
;

2225 } 
	tkmp_sk_¡ack_t
;

2229 
	skmp_skšg_æags
 {

2231 
	gt›dÃss
 : 1;

2232 
	gfš®
 : 1;

2233 
	gm”ged_if0
 : 1;

2235 
	gde¡ruùÜs_thunk
 : 1;

2237 
	g´oxy
 : 1;

2239 
	g´iÜ™y_¥ecif›d
 : 1;

2241 
	gd‘achabË
 : 1;

2242 
	g»£rved
 : 9;

2245 
	gskty³
 : 1;

2246 
	gsk_£rŸl
 : 1;

2247 
	gskšg_£r
 : 1;

2249 
	g‹am_£rŸl
 : 1;

2253 
	g¡¬‹d
 : 1;

2254 
	gexecutšg
 : 1;

2255 
	gcom¶‘e
 : 1;

2256 
	gä“d
 : 1;

2257 
	gÇtive
 : 1;

2258 
	g»£rved31
 : 7;

2260 } 
	tkmp_skšg_æags_t
;

2262 
	skmp_skd©a
 {

2263 
kmp_št32
 
	gtd_sk_id
;

2264 
kmp_skšg_æags_t
 
	gtd_æags
;

2265 
kmp_‹am_t
 *
	gtd_‹am
;

2266 
kmp_šfo_p
 *
	gtd_®loc_th»ad
;

2268 
kmp_skd©a_t
 *
	gtd_·»Á
;

2269 
kmp_št32
 
	gtd_Ëv–
;

2270 
	g¡d
::
©omic
<
kmp_št32
> 
td_uÁ›d_couÁ
;

2271 
id’t_t
 *
	gtd_id’t
;

2273 
id’t_t
 *
	gtd_skwa™_id’t
;

2274 
kmp_ušt32
 
	gtd_skwa™_couÁ”
;

2275 
kmp_št32
 
	gtd_skwa™_th»ad
;

2276 
KMP_ALIGN_CACHE
 
kmp_š‹º®_cÚŒŞ_t


2277 
	gtd_icvs
;

2278 
KMP_ALIGN_CACHE
 
	g¡d
::
©omic
<
kmp_št32
>

2279 
td_®loÿ‹d_chd_sks
;

2281 
	g¡d
::
©omic
<
kmp_št32
>

2282 
td_šcom¶‘e_chd_sks
;

2283 
kmp_skgroup_t


2284 *
	gtd_skgroup
;

2285 
kmp_d•hash_t


2286 *
	gtd_d•hash
;

2287 
kmp_d•node_t


2288 *
	gtd_d•node
;

2289 
kmp_sk_‹am_t
 *
	gtd_sk_‹am
;

2290 
kmp_št32
 
	gtd_size_®loc
;

2291 #ià
defšed
(
KMP_GOMP_COMPAT
)

2293 
kmp_št32
 
	gtd_size_loİ_bounds
;

2295 
kmp_skd©a_t
 *
	gtd_Ï¡_t›d
;

2296 #ià
defšed
(
KMP_GOMP_COMPAT
)

2298 (*
	gtd_cİy_func
)(*, *);

2300 
kmp_ev’t_t
 
	gtd_®low_com¶‘iÚ_ev’t
;

2301 #ià
OMPT_SUPPORT


2302 
om±_sk_šfo_t
 
	gom±_sk_šfo
;

2307 
KMP_BUILD_ASSERT
((
kmp_skd©a_t
) % (*) == 0);

2310 
	skmp_ba£_th»ad_d©a
 {

2311 
kmp_šfo_p
 *
	gtd_thr
;

2314 
kmp_boÙ¡¿p_lock_t
 
	gtd_deque_lock
;

2315 
kmp_skd©a_t
 *

2316 *
	gtd_deque
;

2317 
kmp_št32
 
	gtd_deque_size
;

2318 
kmp_ušt32
 
	gtd_deque_h—d
;

2319 
kmp_ušt32
 
	gtd_deque_
;

2320 
kmp_št32
 
	gtd_deque_Áasks
;

2322 
kmp_št32
 
	gtd_deque_Ï¡_¡Ş’
;

2323 #ifdeà
BUILD_TIED_TASK_STACK


2324 
kmp_sk_¡ack_t
 
	gtd_su¥_t›d_sks
;

2327 } 
	tkmp_ba£_th»ad_d©a_t
;

2329 
	#TASK_DEQUE_BITS
 8

2330 
	#INITIAL_TASK_DEQUE_SIZE
 (1 << 
TASK_DEQUE_BITS
)

	)

2332 
	#TASK_DEQUE_SIZE
(
td
è(Ñd).
td_deque_size
)

	)

2333 
	#TASK_DEQUE_MASK
(
td
è(Ñd).
td_deque_size
 - 1)

	)

2335 
KMP_ALIGN_CACHE
 
	tkmp_th»ad_d©a
 {

2336 
kmp_ba£_th»ad_d©a_t
 
	gtd
;

2337 
	gtd_®ign
;

2338 
	gtd_·d
[
KMP_PAD
(
kmp_ba£_th»ad_d©a_t
, 
CACHE_LINE
)];

2339 } 
	tkmp_th»ad_d©a_t
;

2342 
	skmp_ba£_sk_‹am
 {

2343 
kmp_boÙ¡¿p_lock_t


2344 
	g‰_th»ads_lock
;

2346 
kmp_sk_‹am_t
 *
	g‰_Ãxt
;

2347 
kmp_th»ad_d©a_t


2348 *
	g‰_th»ads_d©a
;

2350 
kmp_št32
 
	g‰_found_sks
;

2353 
kmp_št32
 
	g‰_Åroc
;

2354 
kmp_št32
 
	g‰_max_th»ads
;

2355 
kmp_št32
 
	g‰_found_´oxy_sks
;

2356 
kmp_št32
 
	g‰_uÁ›d_sk_’couÁ”ed
;

2358 
KMP_ALIGN_CACHE


2359 
	g¡d
::
©omic
<
kmp_št32
> 
‰_unfšished_th»ads
;

2361 
KMP_ALIGN_CACHE


2362 vŞ©
kmp_ušt32


2363 
	g‰_aùive
;

2364 } 
	tkmp_ba£_sk_‹am_t
;

2366 
KMP_ALIGN_CACHE
 
	gkmp_sk_‹am
 {

2367 
kmp_ba£_sk_‹am_t
 
	g‰
;

2368 
	g‰_®ign
;

2369 
	g‰_·d
[
KMP_PAD
(
kmp_ba£_sk_‹am_t
, 
CACHE_LINE
)];

2372 #ià(
USE_FAST_MEMORY
 == 3) || (USE_FAST_MEMORY == 5)

2375 
	skmp_ä“_li¡
 {

2376 *
	gth_ä“_li¡_£lf
;

2377 *
	gth_ä“_li¡_sync
;

2379 *
	gth_ä“_li¡_Ùh”
;

2381 } 
	tkmp_ä“_li¡_t
;

2383 #ià
KMP_NESTED_HOT_TEAMS


2386 
	skmp_hÙ_‹am_±r
 {

2387 
kmp_‹am_p
 *
	ghÙ_‹am
;

2388 
kmp_št32
 
	ghÙ_‹am_Áh
;

2389 } 
	tkmp_hÙ_‹am_±r_t
;

2391 
	skmp_‹ams_size
 {

2392 
kmp_št32
 
	gÁ—ms
;

2393 
kmp_št32
 
	gÁh
;

2394 } 
	tkmp_‹ams_size_t
;

2407 
	skmp_cg_roÙ
 {

2408 
kmp_šfo_p
 *
	gcg_roÙ
;

2411 
kmp_št32
 
	gcg_th»ad_lim™
;

2412 
kmp_št32
 
	gcg_Áh»ads
;

2413 
kmp_cg_roÙ
 *
	gup
;

2414 } 
	tkmp_cg_roÙ_t
;

2418 
KMP_ALIGN_CACHE
 
	tkmp_ba£_šfo
 {

2422 
kmp_desc_t
 
	gth_šfo
;

2423 
kmp_‹am_p
 *
	gth_‹am
;

2424 
kmp_roÙ_p
 *
	gth_roÙ
;

2425 
kmp_šfo_p
 *
	gth_Ãxt_poŞ
;

2426 
kmp_di¥_t
 *
	gth_di¥©ch
;

2427 
	gth_š_poŞ
;

2431 
	gth_‹am_Åroc
;

2432 
kmp_šfo_p
 *
	gth_‹am_ma¡”
;

2433 
	gth_‹am_£rŸlized
;

2434 
miüÙask_t
 
	gth_‹ams_miüÙask
;

2435 
	gth_‹ams_Ëv–
;

2442 #ià
KMP_USE_MONITOR


2443 
	gth_‹am_bt_š‹rv®s
;

2444 
	gth_‹am_bt_£t
;

2446 
kmp_ušt64
 
	gth_‹am_bt_š‹rv®s
;

2449 #ià
KMP_AFFINITY_SUPPORTED


2450 
kmp_affš_mask_t
 *
	gth_affš_mask
;

2452 
omp_®loÿtÜ_hªdË_t
 
	gth_def_®loÿtÜ
;

2454 
KMP_ALIGN_CACHE
 

2455 
	gth_£t_Åroc
;

2456 #ià
KMP_NESTED_HOT_TEAMS


2457 
kmp_hÙ_‹am_±r_t
 *
	gth_hÙ_‹ams
;

2459 
kmp_´oc_bšd_t


2460 
	gth_£t_´oc_bšd
;

2461 
kmp_‹ams_size_t


2462 
	gth_‹ams_size
;

2463 #ià
KMP_AFFINITY_SUPPORTED


2464 
	gth_cu¼’t_¶aû
;

2465 
	gth_Ãw_¶aû
;

2466 
	gth_fœ¡_¶aû
;

2467 
	gth_Ï¡_¶aû
;

2469 
	gth_´ev_Ëv–
;

2470 
	gth_´ev_num_th»ads
;

2471 #ià
USE_ITT_BUILD


2472 
kmp_ušt64
 
	gth_b¬_¬rive_time
;

2473 
kmp_ušt64
 
	gth_b¬_mš_time
;

2474 
kmp_ušt64
 
	gth_äame_time
;

2476 
kmp_loÿl_t
 
	gth_loÿl
;

2477 
´iv©e_commÚ
 *
	gth_´i_h—d
;

2482 
KMP_ALIGN_CACHE
 
kmp_‹am_p


2483 *
	gth_£rŸl_‹am
;

2485 #ià
OMPT_SUPPORT


2486 
om±_th»ad_šfo_t
 
	gom±_th»ad_šfo
;

2490 
commÚ_bË
 *
	gth_´i_commÚ
;

2492 vŞ©
kmp_ušt32
 
	gth_¥š_h”e
;

2495 vŞ©*
	gth_¦“p_loc
;

2497 
id’t_t
 *
	gth_id’t
;

2498 
	gth_x
;

2499 
	gth_a
;

2502 
kmp_sk_‹am_t
 *
	gth_sk_‹am
;

2503 
kmp_skd©a_t
 *
	gth_cu¼’t_sk
;

2504 
kmp_ušt8
 
	gth_sk_¡©e
;

2505 
kmp_ušt8
 *
	gth_sk_¡©e_memo_¡ack
;

2507 
kmp_ušt32
 
	gth_sk_¡©e_tİ
;

2508 
kmp_ušt32
 
	gth_sk_¡©e_¡ack_sz
;

2509 
kmp_ušt32
 
	gth_»­_¡©e
;

2514 
kmp_ušt8
 
	gth_aùive_š_poŞ
;

2515 
	gth_aùive
;

2516 
cÚs_h—d”
 *
	gth_cÚs
;

2517 #ià
KMP_USE_HIER_SCHED


2519 
kmp_h›r_´iv©e_bd©a_t
 *
	gth_h›r_b¬_d©a
;

2523 
KMP_ALIGN_CACHE
 
kmp_b®ign_t
 
	gth_b¬
[
bs_Ï¡_b¬r›r
];

2525 
KMP_ALIGN_CACHE
 vŞ©
kmp_št32


2526 
	gth_Ãxt_wa™šg
;

2528 #ià(
USE_FAST_MEMORY
 == 3) || (USE_FAST_MEMORY == 5)

2529 
	#NUM_LISTS
 4

	)

2530 
kmp_ä“_li¡_t
 
	gth_ä“_li¡s
[
NUM_LISTS
];

2534 #ià
KMP_OS_WINDOWS


2535 
kmp_wš32_cÚd_t
 
	gth_su¥’d_cv
;

2536 
kmp_wš32_mu‹x_t
 
	gth_su¥’d_mx
;

2537 
	g¡d
::
©omic
<> 
th_su¥’d_š™
;

2539 #ià
KMP_OS_UNIX


2540 
kmp_cÚd_®ign_t
 
	gth_su¥’d_cv
;

2541 
kmp_mu‹x_®ign_t
 
	gth_su¥’d_mx
;

2542 
	g¡d
::
©omic
<> 
th_su¥’d_š™_couÁ
;

2545 #ià
USE_ITT_BUILD


2546 
kmp_™t_m¬k_t
 
	gth_™t_m¬k_sšgË
;

2549 #ià
KMP_STATS_ENABLED


2550 
kmp_¡©s_li¡
 *
	gth_¡©s
;

2552 #ià
KMP_OS_UNIX


2553 
	g¡d
::
©omic
<
boŞ
> 
th_blockšg
;

2555 
kmp_cg_roÙ_t
 *
	gth_cg_roÙs
;

2556 } 
	tkmp_ba£_šfo_t
;

2558 
KMP_ALIGN_CACHE
 
	tkmp_šfo
 {

2559 
	gth_®ign
;

2560 
	gth_·d
[
KMP_PAD
(
kmp_ba£_šfo_t
, 
CACHE_LINE
)];

2561 
kmp_ba£_šfo_t
 
	gth
;

2562 } 
	tkmp_šfo_t
;

2566 
	skmp_ba£_d©a
 { vŞ©
kmp_ušt32
 
	gt_v®ue
; } 
	tkmp_ba£_d©a_t
;

2568 
KMP_ALIGN_CACHE
 
	tkmp_¦“p_‹am
 {

2569 
	gdt_®ign
;

2570 
	gdt_·d
[
KMP_PAD
(
kmp_ba£_d©a_t
, 
CACHE_LINE
)];

2571 
kmp_ba£_d©a_t
 
	gdt
;

2572 } 
	tkmp_¦“p_‹am_t
;

2574 
KMP_ALIGN_CACHE
 
	tkmp_Üd”ed_‹am
 {

2575 
	gdt_®ign
;

2576 
	gdt_·d
[
KMP_PAD
(
kmp_ba£_d©a_t
, 
CACHE_LINE
)];

2577 
kmp_ba£_d©a_t
 
	gdt
;

2578 } 
	tkmp_Üd”ed_‹am_t
;

2580 (*
	tÏunch_t
)(
	tgtid
);

2583 
	#KMP_MIN_MALLOC_ARGV_ENTRIES
 100

	)

2589 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2590 
	#KMP_INLINE_ARGV_BYTES
 \

2591 (4 * 
CACHE_LINE
 - \

2592 ((3 * 
KMP_PTR_SKIP
 + 2 * (è+ 2 * (
kmp_št8
) + \

2593 (
kmp_št16
è+ (
kmp_ušt32
)) % \

2594 
CACHE_LINE
))

	)

2596 
	#KMP_INLINE_ARGV_BYTES
 \

2597 (2 * 
CACHE_LINE
 - ((3 * 
KMP_PTR_SKIP
 + 2 * ()è% CACHE_LINE))

	)

2599 
	#KMP_INLINE_ARGV_ENTRIES
 ()(
KMP_INLINE_ARGV_BYTES
 / 
KMP_PTR_SKIP
)

	)

2601 
KMP_ALIGN_CACHE
 
	tkmp_ba£_‹am
 {

2604 
KMP_ALIGN_CACHE
 
kmp_Üd”ed_‹am_t
 
t_Üd”ed
;

2605 
kmp_b®ign_‹am_t
 
t_b¬
[
bs_Ï¡_b¬r›r
];

2606 
¡d
::
©omic
<> 
t_cÚ¡ruù
;

2607 
·d
[(
kmp_lock_t
)];

2610 
¡d
::
©omic
<*> 
t_tg_»duû_d©a
[2];

2611 
¡d
::
©omic
<> 
t_tg_fši_couÁ”
[2];

2615 
KMP_ALIGN_CACHE
 
t_ma¡”_tid
;

2616 
t_ma¡”_this_cÚs
;

2618 
id’t_t
 *
t_id’t
;

2620 
kmp_‹am_p
 *
t_·»Á
;

2621 
kmp_‹am_p
 *
t_Ãxt_poŞ
;

2622 
kmp_di¥_t
 *
t_di¥©ch
;

2623 
kmp_sk_‹am_t
 *
t_sk_‹am
[2];

2624 
kmp_´oc_bšd_t
 
t_´oc_bšd
;

2625 #ià
USE_ITT_BUILD


2626 
kmp_ušt64
 
t_»giÚ_time
;

2631 
KMP_ALIGN_CACHE
 **
t_¬gv
;

2632 
t_¬gc
;

2633 
t_Åroc
;

2634 
miüÙask_t
 
t_pkâ
;

2635 
Ïunch_t
 
t_švoke
;

2637 #ià
OMPT_SUPPORT


2638 
om±_‹am_šfo_t
 
om±_‹am_šfo
;

2639 
om±_lw_sk‹am_t
 *
om±_£rŸlized_‹am_šfo
;

2642 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2643 
kmp_št8
 
t_å_cÚŒŞ_§ved
;

2644 
kmp_št8
 
t_·d2b
;

2645 
kmp_št16
 
t_x87_åu_cÚŒŞ_wÜd
;

2646 
kmp_ušt32
 
t_mxc¤
;

2649 *
t_šlše_¬gv
[
KMP_INLINE_ARGV_ENTRIES
];

2651 
KMP_ALIGN_CACHE
 
kmp_šfo_t
 **
t_th»ads
;

2652 
kmp_skd©a_t


2653 *
t_im¶ic™_sk_skd©a
;

2654 
t_Ëv–
;

2656 
KMP_ALIGN_CACHE
 
t_max_¬gc
;

2657 
t_max_Åroc
;

2658 
t_£rŸlized
;

2659 
di¥©ch_sh¬ed_šfo_t
 *
t_di¥_bufãr
;

2660 
t_id
;

2661 
t_aùive_Ëv–
;

2662 
kmp_r_sched_t
 
t_sched
;

2663 #ià
KMP_AFFINITY_SUPPORTED


2664 
t_fœ¡_¶aû
;

2665 
t_Ï¡_¶aû
;

2667 
t_di¥Ïy_affš™y
;

2668 
t_size_chªged
;

2670 
omp_®loÿtÜ_hªdË_t
 
t_def_®loÿtÜ
;

2673 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

2678 
dummy_·ddšg
[1024];

2681 
KMP_ALIGN_CACHE
 
kmp_š‹º®_cÚŒŞ_t
 *
t_cÚŒŞ_¡ack_tİ
;

2684 
¡d
::
©omic
<
kmp_št32
> 
t_ÿnûl_»que¡
;

2685 
t_ma¡”_aùive
;

2686 *
t_cİy´iv_d©a
;

2687 #ià
KMP_OS_WINDOWS


2688 
¡d
::
©omic
<
kmp_ušt32
> 
t_cİyš_couÁ”
;

2690 #ià
USE_ITT_BUILD


2691 *
t_¡ack_id
;

2693 
	}
} 
	tkmp_ba£_‹am_t
;

2695 
KMP_ALIGN_CACHE
 
	gkmp_‹am
 {

2696 
kmp_ba£_‹am_t
 
	gt
;

2697 
	gt_®ign
;

2698 
	gt_·d
[
KMP_PAD
(
kmp_ba£_‹am_t
, 
CACHE_LINE
)];

2701 
KMP_ALIGN_CACHE
 
	tkmp_time_glob®
 {

2702 
	gdt_®ign
;

2703 
	gdt_·d
[
KMP_PAD
(
kmp_ba£_d©a_t
, 
CACHE_LINE
)];

2704 
kmp_ba£_d©a_t
 
	gdt
;

2705 } 
	tkmp_time_glob®_t
;

2707 
	skmp_ba£_glob®
 {

2709 
kmp_time_glob®_t
 
	gg_time
;

2712 vŞ©
	gg_abÜt
;

2713 vŞ©
	gg_dÚe
;

2715 
	gg_dyÇmic
;

2716 
dyÇmic_mode
 
	gg_dyÇmic_mode
;

2717 } 
	tkmp_ba£_glob®_t
;

2719 
KMP_ALIGN_CACHE
 
	tkmp_glob®
 {

2720 
kmp_ba£_glob®_t
 
	gg
;

2721 
	gg_®ign
;

2722 
	gg_·d
[
KMP_PAD
(
kmp_ba£_glob®_t
, 
CACHE_LINE
)];

2723 } 
	tkmp_glob®_t
;

2725 
	skmp_ba£_roÙ
 {

2730 vŞ©
	gr_aùive
;

2732 
	g¡d
::
©omic
<> 
r_š_·¿Î–
;

2734 
kmp_‹am_t
 *
	gr_roÙ_‹am
;

2735 
kmp_‹am_t
 *
	gr_hÙ_‹am
;

2736 
kmp_šfo_t
 *
	gr_ub”_th»ad
;

2737 
kmp_lock_t
 
	gr_begš_lock
;

2738 vŞ©
	gr_begš
;

2739 
	gr_blocktime
;

2740 } 
	tkmp_ba£_roÙ_t
;

2742 
KMP_ALIGN_CACHE
 
	tkmp_roÙ
 {

2743 
kmp_ba£_roÙ_t
 
	gr
;

2744 
	gr_®ign
;

2745 
	gr_·d
[
KMP_PAD
(
kmp_ba£_roÙ_t
, 
CACHE_LINE
)];

2746 } 
	tkmp_roÙ_t
;

2748 
	sfÜŒª_šx_šfo
 {

2749 
kmp_št32
 
	gd©a
;

2754 
__kmp_£‰šgs
;

2755 
__kmp_du¶iÿ‹_lib¿ry_ok
;

2756 #ià
USE_ITT_BUILD


2757 
__kmp_fÜkjoš_äames
;

2758 
__kmp_fÜkjoš_äames_mode
;

2760 
PACKED_REDUCTION_METHOD_T
 
__kmp_fÜû_»duùiÚ_m‘hod
;

2761 
__kmp_d‘”m_»d
;

2763 #ifdeà
KMP_DEBUG


2764 
kmp_a_debug
;

2765 
kmp_b_debug
;

2766 
kmp_c_debug
;

2767 
kmp_d_debug
;

2768 
kmp_e_debug
;

2769 
kmp_f_debug
;

2773 
	#KMP_DEBUG_BUF_LINES_INIT
 512

	)

2774 
	#KMP_DEBUG_BUF_LINES_MIN
 1

	)

2776 
	#KMP_DEBUG_BUF_CHARS_INIT
 128

	)

2777 
	#KMP_DEBUG_BUF_CHARS_MIN
 2

	)

2780 
__kmp_debug_buf
;

2781 
__kmp_debug_buf_lšes
;

2783 
__kmp_debug_buf_ch¬s
;

2784 
__kmp_debug_buf_©omic
;

2787 *
__kmp_debug_bufãr
;

2788 
¡d
::
©omic
<> 
__kmp_debug_couÁ
;

2790 
__kmp_debug_buf_w¬n_ch¬s
;

2794 #ifdeà
KMP_DEBUG


2795 
__kmp_·r_¿nge
;

2797 
	#KMP_PAR_RANGE_ROUTINE_LEN
 1024

	)

2798 
__kmp_·r_¿nge_routše
[
KMP_PAR_RANGE_ROUTINE_LEN
];

2799 
	#KMP_PAR_RANGE_FILENAME_LEN
 1024

	)

2800 
__kmp_·r_¿nge_f’ame
[
KMP_PAR_RANGE_FILENAME_LEN
];

2801 
__kmp_·r_¿nge_lb
;

2802 
__kmp_·r_¿nge_ub
;

2807 
__kmp_¡Üage_m­
;

2808 
__kmp_¡Üage_m­_v”bo£
;

2810 
__kmp_¡Üage_m­_v”bo£_¥ecif›d
;

2812 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2813 
kmp_ıušfo_t
 
__kmp_ıušfo
;

2816 vŞ©
__kmp_š™_£rŸl
;

2817 vŞ©
__kmp_š™_gtid
;

2818 vŞ©
__kmp_š™_commÚ
;

2819 vŞ©
__kmp_š™_middË
;

2820 vŞ©
__kmp_š™_·¿Î–
;

2821 #ià
KMP_USE_MONITOR


2822 vŞ©
__kmp_š™_mÚ™Ü
;

2824 vŞ©
__kmp_š™_u£r_locks
;

2825 
__kmp_š™_couÁ”
;

2826 
__kmp_roÙ_couÁ”
;

2827 
__kmp_v”siÚ
;

2830 
kmp_ÿched_addr_t
 *
__kmp_th»ad´iv_ÿche_li¡
;

2833 
kmp_ušt32
 
__kmp_b¬r›r_g©h”_bb_dæt
;

2834 
kmp_ušt32
 
__kmp_b¬r›r_»Ëa£_bb_dæt
;

2835 
kmp_b¬_·t_e
 
__kmp_b¬r›r_g©h”_·t_dæt
;

2836 
kmp_b¬_·t_e
 
__kmp_b¬r›r_»Ëa£_·t_dæt
;

2837 
kmp_ušt32
 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bs_Ï¡_b¬r›r
];

2838 
kmp_ušt32
 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bs_Ï¡_b¬r›r
];

2839 
kmp_b¬_·t_e
 
__kmp_b¬r›r_g©h”_·‰”n
[
bs_Ï¡_b¬r›r
];

2840 
kmp_b¬_·t_e
 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bs_Ï¡_b¬r›r
];

2841 cÚ¡ *
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
bs_Ï¡_b¬r›r
];

2842 cÚ¡ *
__kmp_b¬r›r_·‰”n_’v_Çme
[
bs_Ï¡_b¬r›r
];

2843 cÚ¡ *
__kmp_b¬r›r_ty³_Çme
[
bs_Ï¡_b¬r›r
];

2844 cÚ¡ *
__kmp_b¬r›r_·‰”n_Çme
[
bp_Ï¡_b¬
];

2847 
kmp_boÙ¡¿p_lock_t
 
__kmp_š™z_lock
;

2848 
kmp_boÙ¡¿p_lock_t
 
__kmp_fÜkjoš_lock
;

2849 
kmp_boÙ¡¿p_lock_t
 
__kmp_sk_‹am_lock
;

2850 
kmp_boÙ¡¿p_lock_t


2851 
__kmp_ex™_lock
;

2852 #ià
KMP_USE_MONITOR


2853 
kmp_boÙ¡¿p_lock_t


2854 
__kmp_mÚ™Ü_lock
;

2856 
kmp_boÙ¡¿p_lock_t


2857 
__kmp__ÿched_lock
;

2860 
kmp_lock_t
 
__kmp_glob®_lock
;

2861 
kmp_queušg_lock_t
 
__kmp_di¥©ch_lock
;

2862 
kmp_lock_t
 
__kmp_debug_lock
;

2864 
lib¿ry_ty³
 
__kmp_lib¿ry
;

2866 
sched_ty³
 
__kmp_sched
;

2867 
sched_ty³
 
__kmp_¡©ic
;

2868 
sched_ty³
 
__kmp_guided
;

2869 
sched_ty³
 
__kmp_auto
;

2870 
__kmp_chunk
;

2872 
size_t
 
__kmp_¡ksize
;

2873 #ià
KMP_USE_MONITOR


2874 
size_t
 
__kmp_mÚ™Ü_¡ksize
;

2876 
size_t
 
__kmp_¡koff£t
;

2877 
__kmp_¡k·ddšg
;

2879 
size_t


2880 
__kmp_m®loc_poŞ_šü
;

2881 
__kmp_’v_¡ksize
;

2882 
__kmp_’v_blocktime
;

2883 
__kmp_’v_checks
;

2884 
__kmp_’v_cÚsi¡’cy_check
;

2885 
__kmp_g’”©e_w¬nšgs
;

2886 
__kmp_»£rve_w¬n
;

2888 #ifdeà
DEBUG_SUSPEND


2889 
__kmp_su¥’d_couÁ
;

2892 
kmp_št32
 
__kmp_u£_y›ld
;

2893 
kmp_št32
 
__kmp_u£_y›ld_exp_£t
;

2894 
kmp_ušt32
 
__kmp_y›ld_š™
;

2895 
kmp_ušt32
 
__kmp_y›ld_Ãxt
;

2898 
__kmp_®lTh»adsS³cif›d
;

2900 
size_t
 
__kmp_®ign_®loc
;

2902 
__kmp_x´oc
;

2903 
__kmp_ava_´oc
;

2904 
size_t
 
__kmp_sys_mš_¡ksize
;

2905 
__kmp_sys_max_Áh
;

2907 
__kmp_max_Áh
;

2909 
__kmp_cg_max_Áh
;

2910 
__kmp_‹ams_max_Áh
;

2911 
__kmp_th»ads_ÿ·c™y
;

2913 
__kmp_dæt_‹am_Áh
;

2915 
__kmp_dæt_‹am_Áh_ub
;

2917 
__kmp__ÿ·c™y
;

2919 
__kmp__ÿched
;

2921 
__kmp_dæt_blocktime
;

2923 #ià
KMP_USE_MONITOR


2925 
__kmp_mÚ™Ü_wakeups
;

2926 
__kmp_bt_š‹rv®s
;

2929 #ifdeà
KMP_ADJUST_BLOCKTIME


2930 
__kmp_z”o_bt
;

2932 #ifdeà
KMP_DFLT_NTH_CORES


2933 
__kmp_ncÜes
;

2936 
__kmp_abÜt_d–ay
;

2938 
__kmp_Ãed_»gi¡”_©fÜk_¥ecif›d
;

2940 
__kmp_Ãed_»gi¡”_©fÜk
;

2942 
__kmp_gtid_mode
;

2950 
__kmp_adju¡_gtid_mode
;

2951 #ifdeà
KMP_TDATA_GTID


2952 
KMP_THREAD_LOCAL
 
__kmp_gtid
;

2954 
__kmp_s_gtid_mš
;

2955 
__kmp_fÜeign_
;

2956 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2957 
__kmp_šh”™_å_cÚŒŞ
;

2958 
kmp_št16
 
__kmp_š™_x87_åu_cÚŒŞ_wÜd
;

2959 
kmp_ušt32
 
__kmp_š™_mxc¤
;

2964 
__kmp_dæt_max_aùive_Ëv–s
;

2967 
boŞ
 
__kmp_dæt_max_aùive_Ëv–s_£t
;

2968 
__kmp_di¥©ch_num_bufãrs
;

2970 #ià
KMP_NESTED_HOT_TEAMS


2971 
__kmp_hÙ_‹ams_mode
;

2972 
__kmp_hÙ_‹ams_max_Ëv–
;

2975 #ià
KMP_OS_LINUX


2976 
şock_funùiÚ_ty³
 
__kmp_şock_funùiÚ
;

2977 
__kmp_şock_funùiÚ_·¿m
;

2980 #ià
KMP_MIC_SUPPORTED


2981 
mic_ty³
 
__kmp_mic_ty³
;

2984 #ifdeà
USE_LOAD_BALANCE


2985 
__kmp_lßd_b®ªû_š‹rv®
;

2989 
	skmp_Ã¡ed_Áh»ads_t
 {

2990 *
	gÁh
;

2991 
	gsize
;

2992 
	gu£d
;

2993 } 
	tkmp_Ã¡ed_Áh»ads_t
;

2995 
kmp_Ã¡ed_Áh»ads_t
 
__kmp_Ã¡ed_Áh
;

2997 #ià
KMP_USE_ADAPTIVE_LOCKS


3000 
	skmp_ad­tive_backoff_·¿ms_t
 {

3002 
kmp_ušt32
 
	gmax_soá_»Œ›s
;

3005 
kmp_ušt32
 
	gmax_badÃss
;

3008 
kmp_ad­tive_backoff_·¿ms_t
 
__kmp_ad­tive_backoff_·¿ms
;

3010 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


3011 cÚ¡ *
__kmp_¥ecuÏtive_¡©sfe
;

3016 
__kmp_di¥Ïy_’v
;

3017 
__kmp_di¥Ïy_’v_v”bo£
;

3018 
__kmp_omp_ÿnûÎ©iÚ
;

3024 
kmp_šfo_t
 **
__kmp_th»ads
;

3026 vŞ©
kmp_‹am_t
 *
__kmp_‹am_poŞ
;

3027 vŞ©
kmp_šfo_t
 *
__kmp_th»ad_poŞ
;

3028 
kmp_šfo_t
 *
__kmp_th»ad_poŞ_š£¹_±
;

3031 vŞ©
__kmp_Áh
;

3034 vŞ©
__kmp_®l_Áh
;

3035 
¡d
::
©omic
<> 
__kmp_th»ad_poŞ_aùive_Áh
;

3037 
kmp_roÙ_t
 **
__kmp_roÙ
;

3041 
	#__kmp_g‘_gtid
(è
	$__kmp_g‘_glob®_th»ad_id
()

	)

3042 
	#__kmp_’Œy_gtid
(è
	$__kmp_g‘_glob®_th»ad_id_»g
()

	)

3043 
	#__kmp_g‘_tid
(è(
	`__kmp_tid_äom_gtid
(
	$__kmp_g‘_gtid
()))

	)

3044 
	#__kmp_g‘_‹am
(è(
__kmp_th»ads
[(
	`__kmp_g‘_gtid
())]->
th
.
th_‹am
)

	)

3045 
	#__kmp_g‘_th»ad
(è(
	`__kmp_th»ad_äom_gtid
(
	$__kmp_g‘_gtid
()))

	)

3050 
	#__kmp_g‘_‹am_num_th»ads
(
gtid
) \

3051 (
__kmp_th»ads
[(
gtid
)]->
th
.
th_‹am
->
t
.
t_Åroc
)

	)

3053 
šlše
 
boŞ
 
	$KMP_UBER_GTID
(
gtid
) {

3054 
	`KMP_DEBUG_ASSERT
(
gtid
 >ğ
KMP_GTID_MIN
);

3055 
	`KMP_DEBUG_ASSERT
(
gtid
 < 
__kmp_th»ads_ÿ·c™y
);

3056  (
gtid
 >ğ0 && 
__kmp_roÙ
[gtid] && 
__kmp_th»ads
[gtid] &&

3057 
__kmp_th»ads
[
gtid
] =ğ
__kmp_roÙ
[gtid]->
r
.
r_ub”_th»ad
);

3058 
	}
}

3060 
šlše
 
	$__kmp_tid_äom_gtid
(
gtid
) {

3061 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

3062  
__kmp_th»ads
[
gtid
]->
th
.
th_šfo
.
ds
.
ds_tid
;

3063 
	}
}

3065 
šlše
 
	$__kmp_gtid_äom_tid
(
tid
, cÚ¡ 
kmp_‹am_t
 *
‹am
) {

3066 
	`KMP_DEBUG_ASSERT
(
tid
 >ğ0 && 
‹am
);

3067  
‹am
->
t
.
t_th»ads
[
tid
]->
th
.
th_šfo
.
ds
.
ds_gtid
;

3068 
	}
}

3070 
šlše
 
	$__kmp_gtid_äom_th»ad
(cÚ¡ 
kmp_šfo_t
 *
thr
) {

3071 
	`KMP_DEBUG_ASSERT
(
thr
);

3072  
thr
->
th
.
th_šfo
.
ds
.
ds_gtid
;

3073 
	}
}

3075 
šlše
 
kmp_šfo_t
 *
	$__kmp_th»ad_äom_gtid
(
gtid
) {

3076 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

3077  
__kmp_th»ads
[
gtid
];

3078 
	}
}

3080 
šlše
 
kmp_‹am_t
 *
	$__kmp_‹am_äom_gtid
(
gtid
) {

3081 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

3082  
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

3083 
	}
}

3087 
kmp_glob®_t
 
__kmp_glob®
;

3089 
kmp_šfo_t
 
__kmp_mÚ™Ü
;

3091 
¡d
::
©omic
<
kmp_št32
> 
__kmp_‹am_couÁ”
;

3093 
¡d
::
©omic
<
kmp_št32
> 
__kmp_sk_couÁ”
;

3095 #ià
USE_DEBUGGER


3096 
	#_KMP_GEN_ID
(
couÁ”
) \

3097 (
__kmp_debuggšg
 ? 
	`KMP_ATOMIC_INC
(&
couÁ”
è+ 1 : ~0)

	)

3099 
	#_KMP_GEN_ID
(
couÁ”
è(~0)

	)

3102 
	#KMP_GEN_TASK_ID
(è
	$_KMP_GEN_ID
(
__kmp_sk_couÁ”
)

	)

3103 
	#KMP_GEN_TEAM_ID
(è
	$_KMP_GEN_ID
(
__kmp_‹am_couÁ”
)

	)

3107 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, *
p1
, *
p2
,

3108 
size_t
 
size
, cÚ¡ *
fÜm©
, ...);

3110 
	`__kmp_£rŸl_š™Ÿlize
();

3111 
	`__kmp_middË_š™Ÿlize
();

3112 
	`__kmp_·¿Î–_š™Ÿlize
();

3114 
	`__kmp_š‹º®_begš
();

3115 
	`__kmp_š‹º®_’d_lib¿ry
(
gtid
);

3116 
	`__kmp_š‹º®_’d_th»ad
(
gtid
);

3117 
	`__kmp_š‹º®_’d_©ex™
();

3118 
	`__kmp_š‹º®_’d_dtÜ
();

3119 
	`__kmp_š‹º®_’d_de¡
(*);

3121 
	`__kmp_»gi¡”_roÙ
(
š™Ÿl_th»ad
);

3122 
	`__kmp_uÄegi¡”_roÙ
(
gtid
);

3124 
	`__kmp_ignÜe_mµbeg
();

3125 
	`__kmp_ignÜe_mµ’d
();

3127 
	`__kmp_’‹r_sšgË
(
gtid
, 
id’t_t
 *
id_»f
, 
push_ws
);

3128 
	`__kmp_ex™_sšgË
(
gtid
);

3130 
	`__kmp_·¿Î–_deo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
);

3131 
	`__kmp_·¿Î–_dxo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
);

3133 #ifdeà
USE_LOAD_BALANCE


3134 
	`__kmp_g‘_lßd_b®ªû
();

3137 
	`__kmp_g‘_glob®_th»ad_id
();

3138 
	`__kmp_g‘_glob®_th»ad_id_»g
();

3139 
	`__kmp_ex™_th»ad
(
ex™_¡©us
);

3140 
	`__kmp_abÜt
(cÚ¡ *
fÜm©
, ...);

3141 
	`__kmp_abÜt_th»ad
();

3142 
KMP_NORETURN
 
	`__kmp_abÜt_´oûss
();

3143 
	`__kmp_w¬n
(cÚ¡ *
fÜm©
, ...);

3145 
	`__kmp_£t_num_th»ads
(
Ãw_Áh
, 
gtid
);

3149 
šlše
 
kmp_šfo_t
 *
	$__kmp_’Œy_th»ad
() {

3150 
gtid
 = 
	`__kmp_’Œy_gtid
();

3152  
__kmp_th»ads
[
gtid
];

3153 
	}
}

3155 
__kmp_£t_max_aùive_Ëv–s
(
gtid
, 
Ãw_max_aùive_Ëv–s
);

3156 
__kmp_g‘_max_aùive_Ëv–s
(
gtid
);

3157 
__kmp_g‘_ªû¡Ü_th»ad_num
(
gtid
, 
Ëv–
);

3158 
__kmp_g‘_‹am_size
(
gtid
, 
Ëv–
);

3159 
__kmp_£t_scheduË
(
gtid
, 
kmp_sched_t
 
Ãw_sched
, 
chunk
);

3160 
__kmp_g‘_scheduË
(
gtid
, 
kmp_sched_t
 *
sched
, *
chunk
);

3162 
__kmp_g‘_¿ndom
(
kmp_šfo_t
 *
th»ad
);

3163 
__kmp_š™_¿ndom
(
kmp_šfo_t
 *
th»ad
);

3165 
kmp_r_sched_t
 
__kmp_g‘_scheduË_glob®
();

3166 
__kmp_adju¡_num_th»ads
(
Ãw_Åroc
);

3167 
__kmp_check_¡ksize
(
size_t
 *
v®
);

3169 *
___kmp_®loÿ‹
(
size_t
 
size
 
KMP_SRC_LOC_DECL
);

3170 *
___kmp_·ge_®loÿ‹
(
size_t
 
size
 
KMP_SRC_LOC_DECL
);

3171 
___kmp_ä“
(*
±r
 
KMP_SRC_LOC_DECL
);

3172 
	#__kmp_®loÿ‹
(
size
è
	`___kmp_®loÿ‹
((size)
KMP_SRC_LOC_CURR
)

	)

3173 
	#__kmp_·ge_®loÿ‹
(
size
è
	`___kmp_·ge_®loÿ‹
((size)
KMP_SRC_LOC_CURR
)

	)

3174 
	#__kmp_ä“
(
±r
è
	`___kmp_ä“
(ÕŒ)
KMP_SRC_LOC_CURR
)

	)

3176 #ià
USE_FAST_MEMORY


3177 *
___kmp_ç¡_®loÿ‹
(
kmp_šfo_t
 *
this_thr
,

3178 
size_t
 
size
 
KMP_SRC_LOC_DECL
);

3179 
___kmp_ç¡_ä“
(
kmp_šfo_t
 *
this_thr
, *
±r
 
KMP_SRC_LOC_DECL
);

3180 
__kmp_ä“_ç¡_memÜy
(
kmp_šfo_t
 *
this_thr
);

3181 
__kmp_š™Ÿlize_ç¡_memÜy
(
kmp_šfo_t
 *
this_thr
);

3182 
	#__kmp_ç¡_®loÿ‹
(
this_thr
, 
size
) \

3183 
	`___kmp_ç¡_®loÿ‹
((
this_thr
), (
size
)
KMP_SRC_LOC_CURR
)

	)

3184 
	#__kmp_ç¡_ä“
(
this_thr
, 
±r
) \

3185 
	`___kmp_ç¡_ä“
((
this_thr
), (
±r
)
KMP_SRC_LOC_CURR
)

	)

3188 *
___kmp_th»ad_m®loc
(
kmp_šfo_t
 *
th
, 
size_t
 
size
 
KMP_SRC_LOC_DECL
);

3189 *
___kmp_th»ad_ÿÎoc
(
kmp_šfo_t
 *
th
, 
size_t
 
ÃËm
,

3190 
size_t
 
–size
 
KMP_SRC_LOC_DECL
);

3191 *
___kmp_th»ad_»®loc
(
kmp_šfo_t
 *
th
, *
±r
,

3192 
size_t
 
size
 
KMP_SRC_LOC_DECL
);

3193 
___kmp_th»ad_ä“
(
kmp_šfo_t
 *
th
, *
±r
 
KMP_SRC_LOC_DECL
);

3194 
	#__kmp_th»ad_m®loc
(
th
, 
size
) \

3195 
	`___kmp_th»ad_m®loc
((
th
), (
size
)
KMP_SRC_LOC_CURR
)

	)

3196 
	#__kmp_th»ad_ÿÎoc
(
th
, 
ÃËm
, 
–size
) \

3197 
	`___kmp_th»ad_ÿÎoc
((
th
), (
ÃËm
), (
–size
)
KMP_SRC_LOC_CURR
)

	)

3198 
	#__kmp_th»ad_»®loc
(
th
, 
±r
, 
size
) \

3199 
	`___kmp_th»ad_»®loc
((
th
), (
±r
), (
size
)
KMP_SRC_LOC_CURR
)

	)

3200 
	#__kmp_th»ad_ä“
(
th
, 
±r
) \

3201 
	`___kmp_th»ad_ä“
((
th
), (
±r
)
KMP_SRC_LOC_CURR
)

	)

3203 
	#KMP_INTERNAL_MALLOC
(
sz
è
	$m®loc
(
sz
)

	)

3204 
	#KMP_INTERNAL_FREE
(
p
è
	$ä“
(
p
)

	)

3205 
	#KMP_INTERNAL_REALLOC
(
p
, 
sz
è
	`»®loc
(Õ), (sz))

	)

3206 
	#KMP_INTERNAL_CALLOC
(
n
, 
sz
è
	`ÿÎoc
(Ò), (sz))

	)

3208 
	`__kmp_push_num_th»ads
(
id’t_t
 *
loc
, 
gtid
, 
num_th»ads
);

3210 
	`__kmp_push_´oc_bšd
(
id’t_t
 *
loc
, 
gtid
,

3211 
kmp_´oc_bšd_t
 
´oc_bšd
);

3212 
	`__kmp_push_num_‹ams
(
id’t_t
 *
loc
, 
gtid
, 
num_‹ams
,

3213 
num_th»ads
);

3215 
	`__kmp_y›ld
();

3217 
	`__kmpc_di¥©ch_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3218 
sched_ty³
 
scheduË
, 
kmp_št32
 
lb
,

3219 
kmp_št32
 
ub
, kmp_št32 
¡
, kmp_št32 
chunk
);

3220 
	`__kmpc_di¥©ch_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3221 
sched_ty³
 
scheduË
, 
kmp_ušt32
 
lb
,

3222 
kmp_ušt32
 
ub
, 
kmp_št32
 
¡
,

3223 
kmp_št32
 
chunk
);

3224 
	`__kmpc_di¥©ch_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3225 
sched_ty³
 
scheduË
, 
kmp_št64
 
lb
,

3226 
kmp_št64
 
ub
, kmp_št64 
¡
, kmp_št64 
chunk
);

3227 
	`__kmpc_di¥©ch_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3228 
sched_ty³
 
scheduË
, 
kmp_ušt64
 
lb
,

3229 
kmp_ušt64
 
ub
, 
kmp_št64
 
¡
,

3230 
kmp_št64
 
chunk
);

3232 
	`__kmpc_di¥©ch_Ãxt_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3233 
kmp_št32
 *
p_Ï¡
, kmp_št32 *
p_lb
,

3234 
kmp_št32
 *
p_ub
, kmp_št32 *
p_¡
);

3235 
	`__kmpc_di¥©ch_Ãxt_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3236 
kmp_št32
 *
p_Ï¡
, 
kmp_ušt32
 *
p_lb
,

3237 
kmp_ušt32
 *
p_ub
, 
kmp_št32
 *
p_¡
);

3238 
	`__kmpc_di¥©ch_Ãxt_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3239 
kmp_št32
 *
p_Ï¡
, 
kmp_št64
 *
p_lb
,

3240 
kmp_št64
 *
p_ub
, kmp_št64 *
p_¡
);

3241 
	`__kmpc_di¥©ch_Ãxt_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3242 
kmp_št32
 *
p_Ï¡
, 
kmp_ušt64
 *
p_lb
,

3243 
kmp_ušt64
 *
p_ub
, 
kmp_št64
 *
p_¡
);

3245 
	`__kmpc_di¥©ch_fši_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3246 
	`__kmpc_di¥©ch_fši_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3247 
	`__kmpc_di¥©ch_fši_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3248 
	`__kmpc_di¥©ch_fši_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3250 #ifdeà
KMP_GOMP_COMPAT


3252 
	`__kmp_aux_di¥©ch_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3253 
sched_ty³
 
scheduË
, 
kmp_št32
 
lb
,

3254 
kmp_št32
 
ub
, kmp_št32 
¡
,

3255 
kmp_št32
 
chunk
, 
push_ws
);

3256 
	`__kmp_aux_di¥©ch_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3257 
sched_ty³
 
scheduË
, 
kmp_ušt32
 
lb
,

3258 
kmp_ušt32
 
ub
, 
kmp_št32
 
¡
,

3259 
kmp_št32
 
chunk
, 
push_ws
);

3260 
	`__kmp_aux_di¥©ch_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3261 
sched_ty³
 
scheduË
, 
kmp_št64
 
lb
,

3262 
kmp_št64
 
ub
, kmp_št64 
¡
,

3263 
kmp_št64
 
chunk
, 
push_ws
);

3264 
	`__kmp_aux_di¥©ch_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3265 
sched_ty³
 
scheduË
, 
kmp_ušt64
 
lb
,

3266 
kmp_ušt64
 
ub
, 
kmp_št64
 
¡
,

3267 
kmp_št64
 
chunk
, 
push_ws
);

3268 
	`__kmp_aux_di¥©ch_fši_chunk_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3269 
	`__kmp_aux_di¥©ch_fši_chunk_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3270 
	`__kmp_aux_di¥©ch_fši_chunk_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3271 
	`__kmp_aux_di¥©ch_fši_chunk_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3275 
kmp_ušt32
 
	`__kmp_eq_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
);

3276 
kmp_ušt32
 
	`__kmp_Ãq_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
);

3277 
kmp_ušt32
 
	`__kmp_É_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
);

3278 
kmp_ušt32
 
	`__kmp_ge_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
);

3279 
kmp_ušt32
 
	`__kmp_Ë_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
);

3280 
kmp_ušt32
 
	`__kmp_wa™_4
(kmp_ušt32 vŞ©*
¥šÃr
, kmp_ušt32 
check”
,

3281 
	$kmp_ušt32
 (*
´ed
)(
kmp_ušt32
, kmp_uint32),

3282 *
obj
);

3283 
	`__kmp_wa™_4_±r
(*
¥šÃr
, 
kmp_ušt32
 
check”
,

3284 
	$kmp_ušt32
 (*
´ed
)(*, 
kmp_ušt32
), *
obj
);

3286 
şass
 
kmp_æag_32
;

3287 
şass
 
kmp_æag_64
;

3288 
şass
 
kmp_æag_ÚcÜe
;

3289 
	`__kmp_wa™_64
(
kmp_šfo_t
 *
this_thr
, 
kmp_æag_64
 *
æag
,

3290 
fš®_¥š


3291 #ià
USE_ITT_BUILD


3293 *
™t_sync_obj


3296 
	`__kmp_»Ëa£_64
(
kmp_æag_64
 *
æag
);

3298 
	`__kmp_šfš™e_loİ
();

3300 
	`__kmp_ş—nup
();

3302 #ià
KMP_HANDLE_SIGNALS


3303 
__kmp_hªdË_sigÇls
;

3304 
	`__kmp_š¡®l_sigÇls
(
·¿Î–_š™
);

3305 
	`__kmp_»move_sigÇls
();

3308 
	`__kmp_ş—r_sy¡em_time
();

3309 
	`__kmp_»ad_sy¡em_time
(*
d–
);

3311 
	`__kmp_check_¡ack_ov”Ïp
(
kmp_šfo_t
 *
thr
);

3313 
	`__kmp_ex·nd_ho¡_Çme
(*
bufãr
, 
size_t
 
size
);

3314 
	`__kmp_ex·nd_fe_Çme
(*
»suÉ
, 
size_t
 
¾’
, *
·‰”n
);

3316 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


3318 
	`__kmp_š™Ÿlize_sy¡em_tick
();

3322 
	`__kmp_ruÁime_š™Ÿlize
();

3323 
	`__kmp_ruÁime_de¡roy
();

3325 #ià
KMP_AFFINITY_SUPPORTED


3326 *
	`__kmp_affš™y_´št_mask
(*
buf
, 
buf_Ën
,

3327 
kmp_affš_mask_t
 *
mask
);

3328 
kmp_¡r_buf_t
 *
	`__kmp_affš™y_¡r_buf_mask
(kmp_¡r_buf_ˆ*
buf
,

3329 
kmp_affš_mask_t
 *
mask
);

3330 
	`__kmp_affš™y_š™Ÿlize
();

3331 
	`__kmp_affš™y_unš™Ÿlize
();

3332 
	`__kmp_affš™y_£t_š™_mask
(

3333 
gtid
, 
i§_roÙ
);

3334 
	`__kmp_affš™y_£t_¶aû
(
gtid
);

3335 
	`__kmp_affš™y_d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
);

3336 
	`__kmp_aux_£t_affš™y
(**
mask
);

3337 
	`__kmp_aux_g‘_affš™y
(**
mask
);

3338 
	`__kmp_aux_g‘_affš™y_max_´oc
();

3339 
	`__kmp_aux_£t_affš™y_mask_´oc
(
´oc
, **
mask
);

3340 
	`__kmp_aux_un£t_affš™y_mask_´oc
(
´oc
, **
mask
);

3341 
	`__kmp_aux_g‘_affš™y_mask_´oc
(
´oc
, **
mask
);

3342 
	`__kmp_b®ªûd_affš™y
(
kmp_šfo_t
 *
th
, 
‹am_size
);

3343 #ià
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD


3344 
	`kmp_£t_th»ad_affš™y_mask_š™Ÿl
();

3350 
size_t
 
	`__kmp_aux_ÿ±u»_affš™y
(
gtid
, cÚ¡ *
fÜm©
,

3351 
kmp_¡r_buf_t
 *
bufãr
);

3352 
	`__kmp_aux_di¥Ïy_affš™y
(
gtid
, cÚ¡ *
fÜm©
);

3354 
	`__kmp_ş—nup_h›¿rchy
();

3355 
	`__kmp_g‘_h›¿rchy
(
kmp_ušt32
 
Åroc
, 
kmp_b¡©e_t
 *
thr_b¬
);

3357 #ià
KMP_USE_FUTEX


3359 
	`__kmp_fu‹x_d‘”mše_ÿ·bË
();

3363 
	`__kmp_gtid_£t_¥ecific
(
gtid
);

3364 
	`__kmp_gtid_g‘_¥ecific
();

3366 
	`__kmp_»ad_ıu_time
();

3368 
	`__kmp_»ad_sy¡em_šfo
(
kmp_sys_šfo
 *
šfo
);

3370 #ià
KMP_USE_MONITOR


3371 
	`__kmp_ü—‹_mÚ™Ü
(
kmp_šfo_t
 *
th
);

3374 *
	`__kmp_Ïunch_th»ad
(
kmp_šfo_t
 *
thr
);

3376 
	`__kmp_ü—‹_wÜk”
(
gtid
, 
kmp_šfo_t
 *
th
, 
size_t
 
¡ack_size
);

3378 #ià
KMP_OS_WINDOWS


3379 
	`__kmp_¡l_ruÂšg
(
kmp_šfo_t
 *
th
);

3380 
	`__kmp_is_th»ad_®ive
(
kmp_šfo_t
 *
th
, 
DWORD
 *
ex™_v®
);

3381 
	`__kmp_ä“_hªdË
(
kmp_th»ad_t
 
tHªdË
);

3384 #ià
KMP_USE_MONITOR


3385 
	`__kmp_»­_mÚ™Ü
(
kmp_šfo_t
 *
th
);

3387 
	`__kmp_»­_wÜk”
(
kmp_šfo_t
 *
th
);

3388 
	`__kmp_‹rmš©e_th»ad
(
gtid
);

3390 
	`__kmp_Œy_su¥’d_mx
(
kmp_šfo_t
 *
th
);

3391 
	`__kmp_lock_su¥’d_mx
(
kmp_šfo_t
 *
th
);

3392 
	`__kmp_uÆock_su¥’d_mx
(
kmp_šfo_t
 *
th
);

3394 
	`__kmp_su¥’d_32
(
th_gtid
, 
kmp_æag_32
 *
æag
);

3395 
	`__kmp_su¥’d_64
(
th_gtid
, 
kmp_æag_64
 *
æag
);

3396 
	`__kmp_su¥’d_ÚcÜe
(
th_gtid
, 
kmp_æag_ÚcÜe
 *
æag
);

3397 
	`__kmp_»sume_32
(
rg‘_gtid
, 
kmp_æag_32
 *
æag
);

3398 
	`__kmp_»sume_64
(
rg‘_gtid
, 
kmp_æag_64
 *
æag
);

3399 
	`__kmp_»sume_ÚcÜe
(
rg‘_gtid
, 
kmp_æag_ÚcÜe
 *
æag
);

3401 
	`__kmp_–­£d
(*);

3402 
	`__kmp_–­£d_tick
(*);

3404 
	`__kmp_’abË
(
Şd_¡©e
);

3405 
	`__kmp_di§bË
(*
Şd_¡©e
);

3407 
	`__kmp_th»ad_¦“p
(
mlis
);

3409 
	`__kmp_commÚ_š™Ÿlize
();

3410 
	`__kmp_commÚ_de¡roy
();

3411 
	`__kmp_commÚ_de¡roy_gtid
(
gtid
);

3413 #ià
KMP_OS_UNIX


3414 
	`__kmp_»gi¡”_©fÜk
();

3416 
	`__kmp_su¥’d_š™Ÿlize
();

3417 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
);

3418 
	`__kmp_su¥’d_unš™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
);

3420 
kmp_šfo_t
 *
	`__kmp_®loÿ‹_th»ad
(
kmp_roÙ_t
 *
roÙ
, 
kmp_‹am_t
 *
‹am
,

3421 
tid
);

3422 
kmp_‹am_t
 *

3423 
	`__kmp_®loÿ‹_‹am
(
kmp_roÙ_t
 *
roÙ
, 
Ãw_Åroc
, 
max_Åroc
,

3424 #ià
OMPT_SUPPORT


3425 
om±_d©a_t
 
om±_·¿Î–_d©a
,

3427 
kmp_´oc_bšd_t
 
´oc_bšd
, 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
,

3428 
¬gc
 
	`USE_NESTED_HOT_ARG
(
kmp_šfo_t
 *
thr
));

3429 
	`__kmp_ä“_th»ad
(
kmp_šfo_t
 *);

3430 
	`__kmp_ä“_‹am
(
kmp_roÙ_t
 *,

3431 
kmp_‹am_t
 *
	`USE_NESTED_HOT_ARG
(
kmp_šfo_t
 *));

3432 
kmp_‹am_t
 *
	`__kmp_»­_‹am
(kmp_team_t *);

3436 
	`__kmp_š™Ÿlize_bg‘
(
kmp_šfo_t
 *
th
);

3437 
	`__kmp_fš®ize_bg‘
(
kmp_šfo_t
 *
th
);

3439 
KMP_EXPORT
 *
	`kmpc_m®loc
(
size_t
 
size
);

3440 
KMP_EXPORT
 *
	`kmpc_®igÃd_m®loc
(
size_t
 
size
, size_ˆ
®ignm’t
);

3441 
KMP_EXPORT
 *
	`kmpc_ÿÎoc
(
size_t
 
ÃËm
, size_ˆ
–size
);

3442 
KMP_EXPORT
 *
	`kmpc_»®loc
(*
±r
, 
size_t
 
size
);

3443 
KMP_EXPORT
 
	`kmpc_ä“
(*
±r
);

3447 
	`__kmp_b¬r›r
(
b¬r›r_ty³
 
bt
, 
gtid
, 
is_¥l™
,

3448 
size_t
 
»duû_size
, *
»duû_d©a
,

3449 (*
»duû
)(*, *));

3450 
	`__kmp_’d_¥l™_b¬r›r
(
b¬r›r_ty³
 
bt
, 
gtid
);

3451 
	`__kmp_b¬r›r_gomp_ÿnûl
(
gtid
);

3457 
	efÜk_cÚ‹xt_e
 {

3458 
fÜk_cÚ‹xt_gnu
,

3460 
fÜk_cÚ‹xt_š‹l
,

3461 
fÜk_cÚ‹xt_Ï¡


3462 
	}
};

3463 
__kmp_fÜk_ÿÎ
(
id’t_t
 *
loc
, 
gtid
,

3464 
fÜk_cÚ‹xt_e
 
fÜk_cÚ‹xt
, 
kmp_št32
 
¬gc
,

3465 
miüÙask_t
 
miüÙask
, 
Ïunch_t
 
švok”
,

3467 #ià(
KMP_ARCH_ARM
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


3468 
va_li¡
 *
­


3470 
va_li¡
 
­


3474 
__kmp_još_ÿÎ
(
id’t_t
 *
loc
, 
gtid


3475 #ià
OMPT_SUPPORT


3477 
fÜk_cÚ‹xt_e
 
fÜk_cÚ‹xt


3480 
ex™_‹ams
 = 0);

3482 
__kmp_£rŸlized_·¿Î–
(
id’t_t
 *
id
, 
kmp_št32
 
gtid
);

3483 
__kmp_š‹º®_fÜk
(
id’t_t
 *
id
, 
gtid
, 
kmp_‹am_t
 *
‹am
);

3484 
__kmp_š‹º®_još
(
id’t_t
 *
id
, 
gtid
, 
kmp_‹am_t
 *
‹am
);

3485 
__kmp_švoke_sk_func
(
gtid
);

3486 
__kmp_run_befÜe_švoked_sk
(
gtid
, 
tid
,

3487 
kmp_šfo_t
 *
this_thr
,

3488 
kmp_‹am_t
 *
‹am
);

3489 
__kmp_run_aá”_švoked_sk
(
gtid
, 
tid
,

3490 
kmp_šfo_t
 *
this_thr
,

3491 
kmp_‹am_t
 *
‹am
);

3494 
KMP_EXPORT
 
__kmpc_švoke_sk_func
(
gtid
);

3495 
__kmp_švoke_‹ams_ma¡”
(
gtid
);

3496 
__kmp_‹ams_ma¡”
(
gtid
);

3497 
__kmp_aux_g‘_‹am_num
();

3498 
__kmp_aux_g‘_num_‹ams
();

3499 
__kmp_§ve_š‹º®_cÚŒŞs
(
kmp_šfo_t
 *
th»ad
);

3500 
__kmp_u£r_£t_lib¿ry
(
lib¿ry_ty³
 
¬g
);

3501 
__kmp_aux_£t_lib¿ry
(
lib¿ry_ty³
 
¬g
);

3502 
__kmp_aux_£t_¡acksize
(
size_t
 
¬g
);

3503 
__kmp_aux_£t_blocktime
(
¬g
, 
kmp_šfo_t
 *
th»ad
, 
tid
);

3504 
__kmp_aux_£t_deçuÉs
(cÚ¡ *
¡r
, 
Ën
);

3507 
kmpc_£t_blocktime
(
¬g
);

3508 
ompc_£t_Ã¡ed
(
æag
);

3509 
ompc_£t_dyÇmic
(
æag
);

3510 
ompc_£t_num_th»ads
(
¬g
);

3512 
__kmp_push_cu¼’t_sk_to_th»ad
(
kmp_šfo_t
 *
this_thr
,

3513 
kmp_‹am_t
 *
‹am
, 
tid
);

3514 
__kmp_pİ_cu¼’t_sk_äom_th»ad
(
kmp_šfo_t
 *
this_thr
);

3515 
kmp_sk_t
 *
__kmp_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3516 
kmp_skšg_æags_t
 *
æags
,

3517 
size_t
 
sizeof_kmp_sk_t
,

3518 
size_t
 
sizeof_sh¬eds
,

3519 
kmp_routše_’Œy_t
 
sk_’Œy
);

3520 
__kmp_š™_im¶ic™_sk
(
id’t_t
 *
loc_»f
, 
kmp_šfo_t
 *
this_thr
,

3521 
kmp_‹am_t
 *
‹am
, 
tid
,

3522 
£t_cu¼_sk
);

3523 
__kmp_fšish_im¶ic™_sk
(
kmp_šfo_t
 *
this_thr
);

3524 
__kmp_ä“_im¶ic™_sk
(
kmp_šfo_t
 *
this_thr
);

3526 
kmp_ev’t_t
 *
__kmpc_sk_®low_com¶‘iÚ_ev’t
(
id’t_t
 *
loc_»f
,

3527 
gtid
,

3528 
kmp_sk_t
 *
sk
);

3529 
__kmp_fulfl_ev’t
(
kmp_ev’t_t
 *
ev’t
);

3531 
__kmp_execu‹_sks_32
(
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
,

3532 
kmp_æag_32
 *
æag
, 
fš®_¥š
,

3533 *
th»ad_fšished
,

3534 #ià
USE_ITT_BUILD


3535 *
™t_sync_obj
,

3537 
kmp_št32
 
is_cÚ¡¿šed
);

3538 
__kmp_execu‹_sks_64
(
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
,

3539 
kmp_æag_64
 *
æag
, 
fš®_¥š
,

3540 *
th»ad_fšished
,

3541 #ià
USE_ITT_BUILD


3542 *
™t_sync_obj
,

3544 
kmp_št32
 
is_cÚ¡¿šed
);

3545 
__kmp_execu‹_sks_ÚcÜe
(
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
,

3546 
kmp_æag_ÚcÜe
 *
æag
, 
fš®_¥š
,

3547 *
th»ad_fšished
,

3548 #ià
USE_ITT_BUILD


3549 *
™t_sync_obj
,

3551 
kmp_št32
 
is_cÚ¡¿šed
);

3553 
__kmp_ä“_sk_‹am
(
kmp_šfo_t
 *
th»ad
,

3554 
kmp_sk_‹am_t
 *
sk_‹am
);

3555 
__kmp_»­_sk_‹ams
();

3556 
__kmp_wa™_to_uÄef_sk_‹ams
();

3557 
__kmp_sk_‹am_£tup
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
,

3558 
®ways
);

3559 
__kmp_sk_‹am_sync
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
);

3560 
__kmp_sk_‹am_wa™
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am


3561 #ià
USE_ITT_BUILD


3563 *
™t_sync_obj


3566 
wa™
 = 1);

3567 
__kmp_skšg_b¬r›r
(
kmp_‹am_t
 *
‹am
, 
kmp_šfo_t
 *
th»ad
,

3568 
gtid
);

3570 
__kmp_is_add»ss_m­³d
(*
addr
);

3571 
kmp_ušt64
 
__kmp_h¬dw¬e_time¡amp
();

3573 #ià
KMP_OS_UNIX


3574 
__kmp_»ad_äom_fe
(cÚ¡ *
·th
, cÚ¡ *
fÜm©
, ...);

3582 
__kmp_švoke_miüÙask
(
miüÙask_t
 
pkâ
, 
gtid
, 
År
, 
¬gc
,

3583 *
¬gv
[]

3584 #ià
OMPT_SUPPORT


3586 **
ex™_äame_±r


3592 
KMP_EXPORT
 
__kmpc_begš
(
id’t_t
 *, 
kmp_št32
 
æags
);

3593 
KMP_EXPORT
 
__kmpc_’d
(
id’t_t
 *);

3595 
KMP_EXPORT
 
__kmpc_th»ad´iv©e_»gi¡”_vec
(
id’t_t
 *, *
d©a
,

3596 
kmpc_ùÜ_vec
 
ùÜ
,

3597 
kmpc_cùÜ_vec
 
cùÜ
,

3598 
kmpc_dtÜ_vec
 
dtÜ
,

3599 
size_t
 
veùÜ_Ëngth
);

3600 
KMP_EXPORT
 
__kmpc_th»ad´iv©e_»gi¡”
(
id’t_t
 *, *
d©a
,

3601 
kmpc_ùÜ
 
ùÜ
, 
kmpc_cùÜ
 
cùÜ
,

3602 
kmpc_dtÜ
 
dtÜ
);

3603 
KMP_EXPORT
 *
__kmpc_th»ad´iv©e
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
,

3604 *
d©a
, 
size_t
 
size
);

3606 
KMP_EXPORT
 
kmp_št32
 
__kmpc_glob®_th»ad_num
(
id’t_t
 *);

3607 
KMP_EXPORT
 
kmp_št32
 
__kmpc_glob®_num_th»ads
(
id’t_t
 *);

3608 
KMP_EXPORT
 
kmp_št32
 
__kmpc_bound_th»ad_num
(
id’t_t
 *);

3609 
KMP_EXPORT
 
kmp_št32
 
__kmpc_bound_num_th»ads
(
id’t_t
 *);

3611 
KMP_EXPORT
 
kmp_št32
 
__kmpc_ok_to_fÜk
(
id’t_t
 *);

3612 
KMP_EXPORT
 
__kmpc_fÜk_ÿÎ
(
id’t_t
 *, 
kmp_št32
 
Çrgs
,

3613 
kmpc_miüo
 
miüÙask
, ...);

3615 
KMP_EXPORT
 
__kmpc_£rŸlized_·¿Î–
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3616 
KMP_EXPORT
 
__kmpc_’d_£rŸlized_·¿Î–
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3618 
KMP_EXPORT
 
__kmpc_æush
(
id’t_t
 *);

3619 
KMP_EXPORT
 
__kmpc_b¬r›r
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3620 
KMP_EXPORT
 
kmp_št32
 
__kmpc_ma¡”
(
id’t_t
 *, kmp_št32 
glob®_tid
);

3621 
KMP_EXPORT
 
__kmpc_’d_ma¡”
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3622 
KMP_EXPORT
 
__kmpc_Üd”ed
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3623 
KMP_EXPORT
 
__kmpc_’d_Üd”ed
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3624 
KMP_EXPORT
 
__kmpc_ü™iÿl
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
,

3625 
kmp_ü™iÿl_Çme
 *);

3626 
KMP_EXPORT
 
__kmpc_’d_ü™iÿl
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
,

3627 
kmp_ü™iÿl_Çme
 *);

3628 
KMP_EXPORT
 
__kmpc_ü™iÿl_w™h_hšt
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
,

3629 
kmp_ü™iÿl_Çme
 *, 
ušt32_t
 
hšt
);

3631 
KMP_EXPORT
 
kmp_št32
 
__kmpc_b¬r›r_ma¡”
(
id’t_t
 *, kmp_št32 
glob®_tid
);

3632 
KMP_EXPORT
 
__kmpc_’d_b¬r›r_ma¡”
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3634 
KMP_EXPORT
 
kmp_št32
 
__kmpc_b¬r›r_ma¡”_nowa™
(
id’t_t
 *,

3635 
kmp_št32
 
glob®_tid
);

3637 
KMP_EXPORT
 
kmp_št32
 
__kmpc_sšgË
(
id’t_t
 *, kmp_št32 
glob®_tid
);

3638 
KMP_EXPORT
 
__kmpc_’d_sšgË
(
id’t_t
 *, 
kmp_št32
 
glob®_tid
);

3640 
KMP_EXPORT
 
KMPC_FOR_STATIC_INIT
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3641 
kmp_št32
 
schedty³
, kmp_št32 *
¶a¡™”
,

3642 
kmp_št
 *
¶ow”
, kmp_šˆ*
puµ”
,

3643 
kmp_št
 *
p¡ride
, kmp_šˆ
šü
,

3644 
kmp_št
 
chunk
);

3646 
KMP_EXPORT
 
__kmpc_fÜ_¡©ic_fši
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
);

3648 
KMP_EXPORT
 
__kmpc_cİy´iv©e
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3649 
size_t
 
ıy_size
, *
ıy_d©a
,

3650 (*
ıy_func
)(*, *),

3651 
kmp_št32
 
did™
);

3653 
	`KMPC_SET_NUM_THREADS
(
¬g
);

3654 
	`KMPC_SET_DYNAMIC
(
æag
);

3655 
	`KMPC_SET_NESTED
(
æag
);

3658 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_sk
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
,

3659 
kmp_sk_t
 *
Ãw_sk
);

3660 
KMP_EXPORT
 
kmp_sk_t
 *
	`__kmpc_omp_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3661 
kmp_št32
 
æags
,

3662 
size_t
 
sizeof_kmp_sk_t
,

3663 
size_t
 
sizeof_sh¬eds
,

3664 
kmp_routše_’Œy_t
 
sk_’Œy
);

3665 
KMP_EXPORT
 
kmp_sk_t
 *
	`__kmpc_omp_rg‘_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3666 
kmp_št32
 
æags
,

3667 
size_t
 
sizeof_kmp_sk_t
,

3668 
size_t
 
sizeof_sh¬eds
,

3669 
kmp_routše_’Œy_t
 
sk_’Œy
,

3670 
kmp_št64
 
deviû_id
);

3671 
KMP_EXPORT
 
	`__kmpc_omp_sk_begš_if0
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3672 
kmp_sk_t
 *
sk
);

3673 
KMP_EXPORT
 
	`__kmpc_omp_sk_com¶‘e_if0
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3674 
kmp_sk_t
 *
sk
);

3675 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_sk_·¹s
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
,

3676 
kmp_sk_t
 *
Ãw_sk
);

3677 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_skwa™
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
);

3679 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_sky›ld
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
,

3680 
’d_·¹
);

3682 #ià
TASK_UNUSED


3683 
	`__kmpc_omp_sk_begš
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
);

3684 
	`__kmpc_omp_sk_com¶‘e
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3685 
kmp_sk_t
 *
sk
);

3690 
KMP_EXPORT
 
	`__kmpc_skgroup
(
id’t_t
 *
loc
, 
gtid
);

3691 
KMP_EXPORT
 
	`__kmpc_’d_skgroup
(
id’t_t
 *
loc
, 
gtid
);

3693 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_sk_w™h_d•s
(

3694 
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, 
kmp_sk_t
 *
Ãw_sk
, kmp_št32 
nd•s
,

3695 
kmp_d•’d_šfo_t
 *
d•_li¡
, 
kmp_št32
 
nd•s_nßlŸs
,

3696 
kmp_d•’d_šfo_t
 *
nßlŸs_d•_li¡
);

3697 
KMP_EXPORT
 
	`__kmpc_omp_wa™_d•s
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

3698 
kmp_št32
 
nd•s
,

3699 
kmp_d•’d_šfo_t
 *
d•_li¡
,

3700 
kmp_št32
 
nd•s_nßlŸs
,

3701 
kmp_d•’d_šfo_t
 *
nßlŸs_d•_li¡
);

3702 
kmp_št32
 
	`__kmp_omp_sk
(kmp_št32 
gtid
, 
kmp_sk_t
 *
Ãw_sk
,

3703 
boŞ
 
£rŸlize_immedŸ‹
);

3705 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_ÿnûl
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
,

3706 
kmp_št32
 
úş_kšd
);

3707 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_ÿnûÎ©iÚpošt
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
,

3708 
kmp_št32
 
úş_kšd
);

3709 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_ÿnûl_b¬r›r
(
id’t_t
 *
loc_»f
, kmp_št32 
gtid
);

3710 
KMP_EXPORT
 
	`__kmp_g‘_ÿnûÎ©iÚ_¡©us
(
ÿnûl_kšd
);

3712 
KMP_EXPORT
 
	`__kmpc_´oxy_sk_com¶‘ed
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
±ask
);

3713 
KMP_EXPORT
 
	`__kmpc_´oxy_sk_com¶‘ed_ooo
(
kmp_sk_t
 *
±ask
);

3714 
KMP_EXPORT
 
	`__kmpc_skloİ
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
,

3715 
kmp_št32
 
if_v®
, 
kmp_ušt64
 *
lb
,

3716 
kmp_ušt64
 *
ub
, 
kmp_št64
 
¡
, 
kmp_št32
 
nogroup
,

3717 
kmp_št32
 
sched
, 
kmp_ušt64
 
g¿šsize
,

3718 *
sk_dup
);

3719 
KMP_EXPORT
 *
	`__kmpc_sk_»duùiÚ_š™
(
gtid
, 
num_d©a
, *
d©a
);

3720 
KMP_EXPORT
 *
	`__kmpc_sk»d_š™
(
gtid
, 
num_d©a
, *
d©a
);

3721 
KMP_EXPORT
 *
	`__kmpc_sk_»duùiÚ_g‘_th_d©a
(
gtid
, *
tg
, *
d
);

3722 
KMP_EXPORT
 *
	`__kmpc_sk_»duùiÚ_modif›r_š™
(
id’t_t
 *
loc
, 
gtid
,

3723 
is_ws
, 
num
,

3724 *
d©a
);

3725 
KMP_EXPORT
 *
	`__kmpc_sk»d_modif›r_š™
(
id’t_t
 *
loc
, 
gtid
, 
is_ws
,

3726 
num
, *
d©a
);

3727 
KMP_EXPORT
 
	`__kmpc_sk_»duùiÚ_modif›r_fši
(
id’t_t
 *
loc
, 
gtid
,

3728 
is_ws
);

3729 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_omp_»g_sk_w™h_affš™y
(

3730 
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, 
kmp_sk_t
 *
Ãw_sk
, kmp_št32 
Çffšs
,

3731 
kmp_sk_affš™y_šfo_t
 *
affš_li¡
);

3734 
KMP_EXPORT
 
	`__kmpc_š™_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3735 **
u£r_lock
);

3736 
KMP_EXPORT
 
	`__kmpc_š™_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3737 **
u£r_lock
);

3738 
KMP_EXPORT
 
	`__kmpc_de¡roy_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3739 **
u£r_lock
);

3740 
KMP_EXPORT
 
	`__kmpc_de¡roy_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3741 **
u£r_lock
);

3742 
KMP_EXPORT
 
	`__kmpc_£t_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
);

3743 
KMP_EXPORT
 
	`__kmpc_£t_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3744 **
u£r_lock
);

3745 
KMP_EXPORT
 
	`__kmpc_un£t_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3746 **
u£r_lock
);

3747 
KMP_EXPORT
 
	`__kmpc_un£t_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3748 **
u£r_lock
);

3749 
KMP_EXPORT
 
	`__kmpc_‹¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
);

3750 
KMP_EXPORT
 
	`__kmpc_‹¡_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3751 **
u£r_lock
);

3753 
KMP_EXPORT
 
	`__kmpc_š™_lock_w™h_hšt
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3754 **
u£r_lock
, 
ušŒ_t
 
hšt
);

3755 
KMP_EXPORT
 
	`__kmpc_š™_Ã¡_lock_w™h_hšt
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3756 **
u£r_lock
,

3757 
ušŒ_t
 
hšt
);

3761 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_»duû_nowa™
(

3762 
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
, 
size_t
 
»duû_size
,

3763 *
»duû_d©a
, (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

3764 
kmp_ü™iÿl_Çme
 *
lck
);

3765 
KMP_EXPORT
 
	`__kmpc_’d_»duû_nowa™
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3766 
kmp_ü™iÿl_Çme
 *
lck
);

3767 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_»duû
(

3768 
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
, 
size_t
 
»duû_size
,

3769 *
»duû_d©a
, (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

3770 
kmp_ü™iÿl_Çme
 *
lck
);

3771 
KMP_EXPORT
 
	`__kmpc_’d_»duû
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3772 
kmp_ü™iÿl_Çme
 *
lck
);

3776 
PACKED_REDUCTION_METHOD_T
 
	`__kmp_d‘”mše_»duùiÚ_m‘hod
(

3777 
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
, 
size_t
 
»duû_size
,

3778 *
»duû_d©a
, (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

3779 
kmp_ü™iÿl_Çme
 *
lck
);

3782 
KMP_EXPORT
 
kmp_št32
 
	`__kmp_g‘_»duû_m‘hod
();

3784 
KMP_EXPORT
 
kmp_ušt64
 
	`__kmpc_g‘_skid
();

3785 
KMP_EXPORT
 
kmp_ušt64
 
	`__kmpc_g‘_·»Á_skid
();

3790 
KMP_EXPORT
 
kmp_št32
 
	`__kmpc_š_·¿Î–
(
id’t_t
 *
loc
);

3791 
KMP_EXPORT
 
	`__kmpc_pİ_num_th»ads
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
);

3792 
KMP_EXPORT
 
	`__kmpc_push_num_th»ads
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3793 
kmp_št32
 
num_th»ads
);

3795 
KMP_EXPORT
 
	`__kmpc_push_´oc_bšd
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3796 
´oc_bšd
);

3797 
KMP_EXPORT
 
	`__kmpc_push_num_‹ams
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3798 
kmp_št32
 
num_‹ams
,

3799 
kmp_št32
 
num_th»ads
);

3800 
KMP_EXPORT
 
	`__kmpc_fÜk_‹ams
(
id’t_t
 *
loc
, 
kmp_št32
 
¬gc
,

3801 
kmpc_miüo
 
miüÙask
, ...);

3802 
	skmp_dim
 {

3803 
kmp_št64
 
lo
;

3804 
kmp_št64
 
up
;

3805 
kmp_št64
 
¡
;

3806 
	}
};

3807 
KMP_EXPORT
 
__kmpc_dßüoss_š™
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3808 
kmp_št32
 
num_dims
,

3809 cÚ¡ 
kmp_dim
 *
dims
);

3810 
KMP_EXPORT
 
__kmpc_dßüoss_wa™
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3811 cÚ¡ 
kmp_št64
 *
vec
);

3812 
KMP_EXPORT
 
__kmpc_dßüoss_po¡
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

3813 cÚ¡ 
kmp_št64
 *
vec
);

3814 
KMP_EXPORT
 
__kmpc_dßüoss_fši
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
);

3816 
KMP_EXPORT
 *
__kmpc_th»ad´iv©e_ÿched
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3817 *
d©a
, 
size_t
 
size
,

3818 ***
ÿche
);

3821 
_You_mu¡_lšk_w™h_exaùly_Úe_O³nMP_lib¿ry
;

3822 
_You_mu¡_lšk_w™h_IÁ–_O³nMP_lib¿ry
;

3823 #ià
KMP_OS_WINDOWS
 && (
KMP_VERSION_MAJOR
 > 4)

3824 
_You_mu¡_lšk_w™h_Miüosoá_O³nMP_lib¿ry
;

3829 
kmp_th»ad´iv©e_š£¹_´iv©e_d©a
(
gtid
, *
pc_addr
,

3830 *
d©a_addr
, 
size_t
 
pc_size
);

3831 
´iv©e_commÚ
 *
kmp_th»ad´iv©e_š£¹
(
gtid
, *
pc_addr
,

3832 *
d©a_addr
,

3833 
size_t
 
pc_size
);

3834 
__kmp_th»ad´iv©e_»size_ÿche
(
ÃwC­ac™y
);

3835 
__kmp_ş—nup_th»ad´iv©e_ÿches
();

3838 #ià
KMP_OS_WINDOWS


3839 
	#KMPC_CONVENTION
 
__cdeş


	)

3841 
	#KMPC_CONVENTION


	)

3844 #iâdeà
__OMP_H


3845 
	eomp_sched_t
 {

3846 
	gomp_sched_¡©ic
 = 1,

3847 
	gomp_sched_dyÇmic
 = 2,

3848 
	gomp_sched_guided
 = 3,

3849 
	gomp_sched_auto
 = 4

3850 } 
	tomp_sched_t
;

3851 *
	tkmp_affš™y_mask_t
;

3854 
KMP_EXPORT
 
KMPC_CONVENTION
 
ompc_£t_max_aùive_Ëv–s
();

3855 
KMP_EXPORT
 
KMPC_CONVENTION
 
ompc_£t_scheduË
(
omp_sched_t
, );

3856 
KMP_EXPORT
 
KMPC_CONVENTION
 
ompc_g‘_ªû¡Ü_th»ad_num
();

3857 
KMP_EXPORT
 
KMPC_CONVENTION
 
ompc_g‘_‹am_size
();

3858 
KMP_EXPORT
 
KMPC_CONVENTION


3859 
kmpc_£t_affš™y_mask_´oc
(, 
kmp_affš™y_mask_t
 *);

3860 
KMP_EXPORT
 
KMPC_CONVENTION


3861 
kmpc_un£t_affš™y_mask_´oc
(, 
kmp_affš™y_mask_t
 *);

3862 
KMP_EXPORT
 
KMPC_CONVENTION


3863 
kmpc_g‘_affš™y_mask_´oc
(, 
kmp_affš™y_mask_t
 *);

3865 
KMP_EXPORT
 
KMPC_CONVENTION
 
kmpc_£t_¡acksize
();

3866 
KMP_EXPORT
 
KMPC_CONVENTION
 
kmpc_£t_¡acksize_s
(
size_t
);

3867 
KMP_EXPORT
 
KMPC_CONVENTION
 
kmpc_£t_lib¿ry
();

3868 
KMP_EXPORT
 
KMPC_CONVENTION
 
kmpc_£t_deçuÉs
(const *);

3869 
KMP_EXPORT
 
KMPC_CONVENTION
 
kmpc_£t_di¥_num_bufãrs
();

3871 
	ekmp_rg‘_ofæßd_kšd
 {

3872 
	gtgt_di§bËd
 = 0,

3873 
	gtgt_deçuÉ
 = 1,

3874 
	gtgt_mªd©Üy
 = 2

3876 
kmp_rg‘_ofæßd_kšd
 
	tkmp_rg‘_ofæßd_kšd_t
;

3878 
kmp_rg‘_ofæßd_kšd_t
 
__kmp_rg‘_ofæßd
;

3879 
__kmpc_g‘_rg‘_ofæßd
();

3882 
	#KMP_DEVICE_DEFAULT
 -1

3883 
	#KMP_HOST_DEVICE
 -10

3884 
	#KMP_DEVICE_ALL
 -11

3885 

	)

3890 
	ekmp_·u£_¡©us_t
 {

3891 
	gkmp_nÙ_·u£d
 = 0,

3892 
	gkmp_soá_·u£d
 = 1,

3893 
	gkmp_h¬d_·u£d
 = 2

3894 } 
	tkmp_·u£_¡©us_t
;

3897 
kmp_·u£_¡©us_t
 
__kmp_·u£_¡©us
;

3898 
__kmpc_·u£_»sourû
(
kmp_·u£_¡©us_t
 
Ëv–
);

3899 
__kmp_·u£_»sourû
(
kmp_·u£_¡©us_t
 
Ëv–
);

3901 
__kmp_»sume_if_soá_·u£d
();

3905 
šlše
 
	$__kmp_»sume_if_h¬d_·u£d
() {

3906 ià(
__kmp_·u£_¡©us
 =ğ
kmp_h¬d_·u£d
) {

3907 
__kmp_·u£_¡©us
 = 
kmp_nÙ_·u£d
;

3909 
	}
}

3911 
__kmp_omp_di¥Ïy_’v
(
v”bo£
);

3913 #ifdeà
__ılu¥lus


	@kmp_affinity.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 
	~"kmp_i18n.h
"

16 
	~"kmp_io.h
"

17 
	~"kmp_¡r.h
"

18 
	~"kmp_w¿µ”_g‘pid.h
"

19 #ià
KMP_USE_HIER_SCHED


20 
	~"kmp_di¥©ch_h›r.h
"

24 
h›¿rchy_šfo
 
	gmachše_h›¿rchy
;

26 
	$__kmp_ş—nup_h›¿rchy
(è{ 
machše_h›¿rchy
.
	`fši
(); 
	}
}

28 
	$__kmp_g‘_h›¿rchy
(
kmp_ušt32
 
Åroc
, 
kmp_b¡©e_t
 *
thr_b¬
) {

29 
kmp_ušt32
 
d•th
;

32 ià(
	`TCR_1
(
machše_h›¿rchy
.
unš™Ÿlized
))

33 
machše_h›¿rchy
.
	`š™
(
NULL
, 
Åroc
);

36 ià(
Åroc
 > 
machše_h›¿rchy
.
ba£_num_th»ads
)

37 
machše_h›¿rchy
.
	`»size
(
Åroc
);

39 
d•th
 = 
machše_h›¿rchy
.depth;

40 
	`KMP_DEBUG_ASSERT
(
d•th
 > 0);

42 
thr_b¬
->
d•th
 = depth;

43 
thr_b¬
->
ba£_Ëaf_kids
 = (
kmp_ušt8
)
machše_h›¿rchy
.
numP”Lev–
[0] - 1;

44 
thr_b¬
->
sk_³r_Ëv–
 = 
machše_h›¿rchy
.
skP”Lev–
;

45 
	}
}

47 #ià
KMP_AFFINITY_SUPPORTED


49 
boŞ
 
	gKMPAffš™y
::
picked_­i
 = 
çl£
;

51 *
	gKMPAffš™y
::
Mask
::
İ”©Ü
 
	$Ãw
(
size_t
 
n
è{  
	`__kmp_®loÿ‹
Ò); 
	}
}

52 *
	gKMPAffš™y
::
Mask
::
İ”©Ü
 
Ãw
[](
size_t
 
n
è{  
__kmp_®loÿ‹
(n); }

53 
	gKMPAffš™y
::
Mask
::
İ”©Ü
 
	$d–‘e
(*
p
è{ 
	`__kmp_ä“
Õ); 
	}
}

54 
	gKMPAffš™y
::
Mask
::
İ”©Ü
 
d–‘e
[](*
p
è{ 
__kmp_ä“
(p); }

55 *
	gKMPAffš™y
::
İ”©Ü
 
	$Ãw
(
size_t
 
n
è{  
	`__kmp_®loÿ‹
Ò); 
	}
}

56 
	gKMPAffš™y
::
İ”©Ü
 
	$d–‘e
(*
p
è{ 
	`__kmp_ä“
Õ); 
	}
}

58 
	gKMPAffš™y
::
	$pick_­i
() {

59 
KMPAffš™y
 *
affš™y_di¥©ch
;

60 ià(
picked_­i
)

62 #ià
KMP_USE_HWLOC


65 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_hwloc
 &&

66 
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
) {

67 
affš™y_di¥©ch
 = 
Ãw
 
	`KMPHwlocAffš™y
();

71 
affš™y_di¥©ch
 = 
Ãw
 
	`KMPN©iveAffš™y
();

73 
__kmp_affš™y_di¥©ch
 = 
affš™y_di¥©ch
;

74 
picked_­i
 = 
Œue
;

75 
	}
}

77 
	gKMPAffš™y
::
	$de¡roy_­i
() {

78 ià(
__kmp_affš™y_di¥©ch
 !ğ
NULL
) {

79 
d–‘e
 
__kmp_affš™y_di¥©ch
;

80 
__kmp_affš™y_di¥©ch
 = 
NULL
;

81 
picked_­i
 = 
çl£
;

83 
	}
}

85 
	#KMP_ADVANCE_SCAN
(
sÿn
) \

86 *
sÿn
 != '\0') { \

87 
sÿn
++; \

88 }

	)

94 *
	$__kmp_affš™y_´št_mask
(*
buf
, 
buf_Ën
,

95 
kmp_affš_mask_t
 *
mask
) {

96 
¡¬t
 = 0, 
fšish
 = 0, 
´evious
 = 0;

97 
boŞ
 
fœ¡_¿nge
;

98 
	`KMP_ASSERT
(
buf
);

99 
	`KMP_ASSERT
(
buf_Ën
 >= 40);

100 
	`KMP_ASSERT
(
mask
);

101 *
sÿn
 = 
buf
;

102 *
’d
 = 
buf
 + 
buf_Ën
 - 1;

105 ià(
mask
->
	`begš
(è=ğmask->
	`’d
()) {

106 
	`KMP_SNPRINTF
(
sÿn
, 
’d
 - scan + 1, "{<empty>}");

107 
	`KMP_ADVANCE_SCAN
(
sÿn
);

108 
	`KMP_ASSERT
(
sÿn
 <ğ
’d
);

109  
buf
;

112 
fœ¡_¿nge
 = 
Œue
;

113 
¡¬t
 = 
mask
->
	`begš
();

117 
fšish
 = 
mask
->
	`Ãxt
(
¡¬t
), 
´evious
 = start;

118 
fšish
 =ğ
´evious
 + 1 && fšish !ğ
mask
->
	`’d
();

119 
fšish
 = 
mask
->
	`Ãxt
(finish)) {

120 
´evious
 = 
fšish
;

125 ià(!
fœ¡_¿nge
) {

126 
	`KMP_SNPRINTF
(
sÿn
, 
’d
 - scan + 1, "%s", ",");

127 
	`KMP_ADVANCE_SCAN
(
sÿn
);

129 
fœ¡_¿nge
 = 
çl£
;

132 ià(
´evious
 - 
¡¬t
 > 1) {

133 
	`KMP_SNPRINTF
(
sÿn
, 
’d
 - sÿÀ+ 1, "%d-%d", 
¡©ic_ÿ¡
<>(
¡¬t
),

134 
¡©ic_ÿ¡
<>(
´evious
));

137 
	`KMP_SNPRINTF
(
sÿn
, 
’d
 - sÿÀ+ 1, "%d", 
¡©ic_ÿ¡
<>(
¡¬t
));

138 
	`KMP_ADVANCE_SCAN
(
sÿn
);

139 ià(
´evious
 - 
¡¬t
 > 0) {

140 
	`KMP_SNPRINTF
(
sÿn
, 
’d
 - sÿÀ+ 1, ",%d", 
¡©ic_ÿ¡
<>(
´evious
));

143 
	`KMP_ADVANCE_SCAN
(
sÿn
);

145 
¡¬t
 = 
fšish
;

146 ià(
¡¬t
 =ğ
mask
->
	`’d
())

149 ià(
’d
 - 
sÿn
 < 2)

154 
	`KMP_ASSERT
(
sÿn
 <ğ
’d
);

155  
buf
;

156 
	}
}

157 #undeà
KMP_ADVANCE_SCAN


163 
kmp_¡r_buf_t
 *
	$__kmp_affš™y_¡r_buf_mask
(
kmp_¡r_buf_t
 *
buf
,

164 
kmp_affš_mask_t
 *
mask
) {

165 
¡¬t
 = 0, 
fšish
 = 0, 
´evious
 = 0;

166 
boŞ
 
fœ¡_¿nge
;

167 
	`KMP_ASSERT
(
buf
);

168 
	`KMP_ASSERT
(
mask
);

170 
	`__kmp_¡r_buf_ş—r
(
buf
);

173 ià(
mask
->
	`begš
(è=ğmask->
	`’d
()) {

174 
	`__kmp_¡r_buf_´št
(
buf
, "%s", "{<empty>}");

175  
buf
;

178 
fœ¡_¿nge
 = 
Œue
;

179 
¡¬t
 = 
mask
->
	`begš
();

183 
fšish
 = 
mask
->
	`Ãxt
(
¡¬t
), 
´evious
 = start;

184 
fšish
 =ğ
´evious
 + 1 && fšish !ğ
mask
->
	`’d
();

185 
fšish
 = 
mask
->
	`Ãxt
(finish)) {

186 
´evious
 = 
fšish
;

191 ià(!
fœ¡_¿nge
) {

192 
	`__kmp_¡r_buf_´št
(
buf
, "%s", ",");

194 
fœ¡_¿nge
 = 
çl£
;

197 ià(
´evious
 - 
¡¬t
 > 1) {

198 
	`__kmp_¡r_buf_´št
(
buf
, "%d-%d", 
¡©ic_ÿ¡
<>(
¡¬t
),

199 
¡©ic_ÿ¡
<>(
´evious
));

202 
	`__kmp_¡r_buf_´št
(
buf
, "%d", 
¡©ic_ÿ¡
<>(
¡¬t
));

203 ià(
´evious
 - 
¡¬t
 > 0) {

204 
	`__kmp_¡r_buf_´št
(
buf
, ",%d", 
¡©ic_ÿ¡
<>(
´evious
));

208 
¡¬t
 = 
fšish
;

209 ià(
¡¬t
 =ğ
mask
->
	`’d
())

212  
buf
;

213 
	}
}

215 
	$__kmp_affš™y_’tœe_machše_mask
(
kmp_affš_mask_t
 *
mask
) {

216 
	`KMP_CPU_ZERO
(
mask
);

218 #ià
KMP_GROUP_AFFINITY


220 ià(
__kmp_num_´oc_groups
 > 1) {

221 
group
;

222 
	`KMP_DEBUG_ASSERT
(
__kmp_G‘AùiveProûssÜCouÁ
 !ğ
NULL
);

223 
group
 = 0; grou°< 
__kmp_num_´oc_groups
; group++) {

224 
i
;

225 
num
 = 
	`__kmp_G‘AùiveProûssÜCouÁ
(
group
);

226 
i
 = 0; i < 
num
; i++) {

227 
	`KMP_CPU_SET
(
i
 + 
group
 * (
CHAR_BIT
 * (
DWORD_PTR
)), 
mask
);

235 
´oc
;

236 
´oc
 = 0;…roø< 
__kmp_x´oc
;…roc++) {

237 
	`KMP_CPU_SET
(
´oc
, 
mask
);

240 
	}
}

253 
	$__kmp_affš™y_assign_chd_nums
(
AddrUnsPaœ
 *
add»ss2os
,

254 
numAddrs
) {

255 
	`KMP_DEBUG_ASSERT
(
numAddrs
 > 0);

256 
d•th
 = 
add»ss2os
->
fœ¡
.depth;

257 *
couÁs
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

258 *
Ï¡Lab–
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

259 
ÏbCt
;

260 
ÏbCt
 = 0;†abCˆ< 
d•th
;†abCt++) {

261 
add»ss2os
[0].
fœ¡
.
chdNums
[
ÏbCt
] = 
couÁs
[labCt] = 0;

262 
Ï¡Lab–
[
ÏbCt
] = 
add»ss2os
[0].
fœ¡
.
Ïb–s
[labCt];

264 
i
;

265 
i
 = 1; i < 
numAddrs
; i++) {

266 
ÏbCt
 = 0;†abCˆ< 
d•th
;†abCt++) {

267 ià(
add»ss2os
[
i
].
fœ¡
.
Ïb–s
[
ÏbCt
] !ğ
Ï¡Lab–
[labCt]) {

268 
ÏbCt2
;

269 
ÏbCt2
 = 
ÏbCt
 + 1;†abCt2 < 
d•th
;†abCt2++) {

270 
couÁs
[
ÏbCt2
] = 0;

271 
Ï¡Lab–
[
ÏbCt2
] = 
add»ss2os
[
i
].
fœ¡
.
Ïb–s
[labCt2];

273 
couÁs
[
ÏbCt
]++;

274 
Ï¡Lab–
[
ÏbCt
] = 
add»ss2os
[
i
].
fœ¡
.
Ïb–s
[labCt];

278 
ÏbCt
 = 0;†abCˆ< 
d•th
;†abCt++) {

279 
add»ss2os
[
i
].
fœ¡
.
chdNums
[
ÏbCt
] = 
couÁs
[labCt];

281 ; 
ÏbCt
 < ()
Add»ss
::
maxD•th
;†abCt++) {

282 
add»ss2os
[
i
].
fœ¡
.
chdNums
[
ÏbCt
] = 0;

285 
	`__kmp_ä“
(
Ï¡Lab–
);

286 
	`__kmp_ä“
(
couÁs
);

287 
	}
}

300 
kmp_affš_mask_t
 *
	g__kmp_affš_fuÎMask
 = 
NULL
;

302 
	gnCÜesP”Pkg
, 
	gnPackages
;

303 
	g__kmp_nTh»adsP”CÜe
;

304 #iâdeà
KMP_DFLT_NTH_CORES


305 
	g__kmp_ncÜes
;

307 *
	g__kmp_pu_os_idx
 = 
NULL
;

313 
šlše
 
boŞ
 
	$__kmp_affš™y_unifÜm_tİŞogy
() {

314  
__kmp_ava_´oc
 =ğ(
__kmp_nTh»adsP”CÜe
 * 
nCÜesP”Pkg
 * 
nPackages
);

315 
	}
}

319 
	$__kmp_affš™y_´št_tİŞogy
(
AddrUnsPaœ
 *
add»ss2os
, 
Ën
,

320 
d•th
, 
pkgLev–
,

321 
cÜeLev–
, 
th»adLev–
) {

322 
´oc
;

324 
	`KMP_INFORM
(
OSProcToPhysiÿlTh»adM­
, "KMP_AFFINITY");

325 
´oc
 = 0;…roø< 
Ën
;…roc++) {

326 
Ëv–
;

327 
kmp_¡r_buf_t
 
buf
;

328 
	`__kmp_¡r_buf_š™
(&
buf
);

329 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

330 ià(
Ëv–
 =ğ
th»adLev–
) {

331 
	`__kmp_¡r_buf_´št
(&
buf
, "% ", 
	`KMP_I18N_STR
(
Th»ad
));

332 } ià(
Ëv–
 =ğ
cÜeLev–
) {

333 
	`__kmp_¡r_buf_´št
(&
buf
, "% ", 
	`KMP_I18N_STR
(
CÜe
));

334 } ià(
Ëv–
 =ğ
pkgLev–
) {

335 
	`__kmp_¡r_buf_´št
(&
buf
, "% ", 
	`KMP_I18N_STR
(
Package
));

336 } ià(
Ëv–
 > 
pkgLev–
) {

337 
	`__kmp_¡r_buf_´št
(&
buf
, "%s_%d ", 
	`KMP_I18N_STR
(
Node
),

338 
Ëv–
 - 
pkgLev–
 - 1);

340 
	`__kmp_¡r_buf_´št
(&
buf
, "L%d ", 
Ëv–
);

342 
	`__kmp_¡r_buf_´št
(&
buf
, "%d ", 
add»ss2os
[
´oc
].
fœ¡
.
Ïb–s
[
Ëv–
]);

344 
	`KMP_INFORM
(
OSProcM­ToPack
, "KMP_AFFINITY", 
add»ss2os
[
´oc
].
£cÚd
,

345 
buf
.
¡r
);

346 
	`__kmp_¡r_buf_ä“
(&
buf
);

348 
	}
}

350 #ià
KMP_USE_HWLOC


352 
	$__kmp_affš™y_´št_hwloc_
(
AddrUnsPaœ
 *
addrP
, 
Ën
,

353 
d•th
, *
Ëv–s
) {

354 
´oc
;

355 
kmp_¡r_buf_t
 
buf
;

356 
	`__kmp_¡r_buf_š™
(&
buf
);

357 
	`KMP_INFORM
(
OSProcToPhysiÿlTh»adM­
, "KMP_AFFINITY");

358 
´oc
 = 0;…roø< 
Ën
;…roc++) {

359 
	`__kmp_¡r_buf_´št
(&
buf
, "% %d ", 
	`KMP_I18N_STR
(
Package
),

360 
addrP
[
´oc
].
fœ¡
.
Ïb–s
[0]);

361 ià(
d•th
 > 1) {

362 
Ëv–
 = 1;

363 
Ïb–
 = 1;

364 ià(
__kmp_numa_d‘eùed
)

366 ià(
Ëv–s
[
Ëv–
++] > 0)

367 
	`__kmp_¡r_buf_´št
(&
buf
, "% %d ", 
	`KMP_I18N_STR
(
Node
),

368 
addrP
[
´oc
].
fœ¡
.
Ïb–s
[
Ïb–
++]);

369 ià(
__kmp_te_d•th
 > 0)

371 ià(
Ëv–s
[
Ëv–
++] > 0)

372 
	`__kmp_¡r_buf_´št
(&
buf
, "% %d ", 
	`KMP_I18N_STR
(
Te
),

373 
addrP
[
´oc
].
fœ¡
.
Ïb–s
[
Ïb–
++]);

374 ià(
Ëv–s
[
Ëv–
++] > 0)

376 
	`__kmp_¡r_buf_´št
(&
buf
, "% %d ", 
	`KMP_I18N_STR
(
CÜe
),

377 
addrP
[
´oc
].
fœ¡
.
Ïb–s
[
Ïb–
++]);

378 ià(
Ëv–s
[
Ëv–
++] > 0)

380 
	`__kmp_¡r_buf_´št
(&
buf
, "% %d ", 
	`KMP_I18N_STR
(
Th»ad
),

381 
addrP
[
´oc
].
fœ¡
.
Ïb–s
[
Ïb–
++]);

382 
	`KMP_DEBUG_ASSERT
(
Ïb–
 =ğ
d•th
);

384 
	`KMP_INFORM
(
OSProcM­ToPack
, "KMP_AFFINITY", 
addrP
[
´oc
].
£cÚd
, 
buf
.
¡r
);

385 
	`__kmp_¡r_buf_ş—r
(&
buf
);

387 
	`__kmp_¡r_buf_ä“
(&
buf
);

388 
	}
}

390 
	gnNodeP”Pkg
, 
	gnTeP”Pkg
, 
	gnTeP”Node
, 
	gnCÜeP”Node
, 
	gnCÜeP”Te
;

397 
	$__kmp_affš™y_»move_¿dix_Úe_Ëv–s
(
AddrUnsPaœ
 *
addrP
, 
nTh
,

398 
d•th
, *
Ëv–s
) {

399 
Ëv–
;

400 
i
;

401 
¿dix1_d‘eùed
;

402 
Ãw_d•th
 = 
d•th
;

403 
Ëv–
 = 
d•th
 - 1;†evel > 0; --level) {

405 
¿dix1_d‘eùed
 = 1;

406 
i
 = 1; i < 
nTh
; ++i) {

407 ià(
addrP
[0].
fœ¡
.
Ïb–s
[
Ëv–
] !ğaddrP[
i
].first.labels[level]) {

409 
¿dix1_d‘eùed
 = 0;

413 ià(!
¿dix1_d‘eùed
)

416 --
Ãw_d•th
;

417 
Ëv–s
[
Ëv–
] = -1;

418 ià(
Ëv–
 =ğ
Ãw_d•th
) {

421 
i
 = 0; i < 
nTh
; ++i) {

422 
addrP
[
i
].
fœ¡
.
d•th
--;

426 
j
;

427 
j
 = 
Ëv–
; j < 
Ãw_d•th
; ++j) {

428 
i
 = 0; i < 
nTh
; ++i) {

429 
addrP
[
i
].
fœ¡
.
Ïb–s
[
j
] =‡ddrP[i].first.labels[j + 1];

430 
addrP
[
i
].
fœ¡
.
d•th
--;

432 
Ëv–s
[
j
 + 1] -= 1;

436  
Ãw_d•th
;

437 
	}
}

443 
	$__kmp_hwloc_g‘_nobjs_und”_obj
(
hwloc_obj_t
 
obj
,

444 
hwloc_obj_ty³_t
 
ty³
) {

445 
»tv®
 = 0;

446 
hwloc_obj_t
 
fœ¡
;

447 
fœ¡
 = 
	`hwloc_g‘_obj_b–ow_by_ty³
(
__kmp_hwloc_tİŞogy
, 
obj
->
ty³
,

448 
obj
->
logiÿl_šdex
, 
ty³
, 0);

449 
fœ¡
 !ğ
NULL
 &&

450 
	`hwloc_g‘_ªû¡Ü_obj_by_ty³
(
__kmp_hwloc_tİŞogy
, 
obj
->
ty³
, 
fœ¡
) ==

451 
obj
;

452 
fœ¡
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(
__kmp_hwloc_tİŞogy
, fœ¡->
ty³
,

453 
fœ¡
)) {

454 ++
»tv®
;

456  
»tv®
;

457 
	}
}

459 
	$__kmp_hwloc_couÁ_chd»n_by_d•th
(
hwloc_tİŞogy_t
 
t
,

460 
hwloc_obj_t
 
o
,

461 
kmp_hwloc_d•th_t
 
d•th
,

462 
hwloc_obj_t
 *
f
) {

463 ià(
o
->
d•th
 == depth) {

464 ià(*
f
 =ğ
NULL
)

465 *
f
 = 
o
;

468 
sum
 = 0;

469 
i
 = 0; i < 
o
->
¬™y
; i++)

470 
sum
 +ğ
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(
t
, 
o
->
chd»n
[
i
], 
d•th
, 
f
);

471  
sum
;

472 
	}
}

474 
	$__kmp_hwloc_couÁ_chd»n_by_ty³
(
hwloc_tİŞogy_t
 
t
, 
hwloc_obj_t
 
o
,

475 
hwloc_obj_ty³_t
 
ty³
,

476 
hwloc_obj_t
 *
f
) {

477 ià(!
	`hwloc_com·»_ty³s
(
o
->
ty³
,ype)) {

478 ià(*
f
 =ğ
NULL
)

479 *
f
 = 
o
;

482 
sum
 = 0;

483 
i
 = 0; i < 
o
->
¬™y
; i++)

484 
sum
 +ğ
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(
t
, 
o
->
chd»n
[
i
], 
ty³
, 
f
);

485  
sum
;

486 
	}
}

488 
	$__kmp_hwloc_´oûss_obj_cÜe_pu
(
AddrUnsPaœ
 *
addrPaœ
,

489 &
nAùiveTh»ads
,

490 &
num_aùive_cÜes
,

491 
hwloc_obj_t
 
obj
, 
d•th
,

492 *
Ïb–s
) {

493 
hwloc_obj_t
 
cÜe
 = 
NULL
;

494 
hwloc_tİŞogy_t
 &

 = 
__kmp_hwloc_tİŞogy
;

495 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
obj
, 
HWLOC_OBJ_CORE
, &
cÜe
);

496 
cÜe_id
 = 0; cÜe_id < 
NC
; ++cÜe_id, 
cÜe
 = cÜe->
Ãxt_cousš
) {

497 
hwloc_obj_t
 
pu
 = 
NULL
;

498 
	`KMP_DEBUG_ASSERT
(
cÜe
 !ğ
NULL
);

499 
num_aùive_th»ads
 = 0;

500 
NT
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
cÜe
, 
HWLOC_OBJ_PU
, &
pu
);

502 
pu_id
 = 0;…u_id < 
NT
; ++pu_id, 
pu
 =…u->
Ãxt_cousš
) {

503 
	`KMP_DEBUG_ASSERT
(
pu
 !ğ
NULL
);

504 ià(!
	`KMP_CPU_ISSET
(
pu
->
os_šdex
, 
__kmp_affš_fuÎMask
))

506 
Add»ss
 
	`addr
(
d•th
 + 2);

507 
	`KA_TRACE
(20, ("Hwloc inserting %d (%d) %d (%d) %d (%d) into‡ddress2os\n",

508 
obj
->
os_šdex
, obj->
logiÿl_šdex
, 
cÜe
->os_index,

509 
cÜe
->
logiÿl_šdex
, 
pu
->
os_šdex
,…u->logical_index));

510 
i
 = 0; i < 
d•th
; ++i)

511 
addr
.
Ïb–s
[
i
] =†abels[i];

512 
addr
.
Ïb–s
[
d•th
] = 
cÜe_id
;

513 
addr
.
Ïb–s
[
d•th
 + 1] = 
pu_id
;

514 
addrPaœ
[
nAùiveTh»ads
] = 
	`AddrUnsPaœ
(
addr
, 
pu
->
os_šdex
);

515 
__kmp_pu_os_idx
[
nAùiveTh»ads
] = 
pu
->
os_šdex
;

516 
nAùiveTh»ads
++;

517 ++
num_aùive_th»ads
;

519 ià(
num_aùive_th»ads
) {

520 ++
__kmp_ncÜes
;

521 ++
num_aùive_cÜes
;

522 ià(
num_aùive_th»ads
 > 
__kmp_nTh»adsP”CÜe
)

523 
__kmp_nTh»adsP”CÜe
 = 
num_aùive_th»ads
;

527 
	}
}

531 
	$__kmp_hwloc_check_numa
() {

532 
hwloc_tİŞogy_t
 &

 = 
__kmp_hwloc_tİŞogy
;

533 
hwloc_obj_t
 
hT
, 
hC
, 
hL
, 
hN
, 
hS
;

534 
d•th
, 
l2ÿche_d•th
, 
·ckage_d•th
;

537 
hT
 = 
	`hwloc_g‘_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, 0);

538 ià(
hT
 =ğ
NULL
)

542 
hN
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_ty³
(

, 
HWLOC_OBJ_NUMANODE
, 
hT
);

543 
hS
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, 
hT
);

544 
	`KMP_DEBUG_ASSERT
(
hS
 !ğ
NULL
);

545 ià(
hN
 !ğ
NULL
 && hN->
d•th
 > 
hS
->depth) {

546 
__kmp_numa_d‘eùed
 = 
TRUE
;

547 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_node
) {

548 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_numa
;

552 
·ckage_d•th
 = 
	`hwloc_g‘_ty³_d•th
(

, 
HWLOC_OBJ_PACKAGE
);

553 
l2ÿche_d•th
 = 
	`hwloc_g‘_ÿche_ty³_d•th
(

, 2, 
HWLOC_OBJ_CACHE_UNIFIED
);

555 
d•th
 = (
l2ÿche_d•th
 < 
·ckage_d•th
) ?…ackage_depth :†2cache_depth;

556 
hL
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_d•th
(

, 
d•th
, 
hT
);

557 
hC
 = 
NULL
;

558 ià(
hL
 !ğ
NULL
 &&

559 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
, 
HWLOC_OBJ_CORE
, &
hC
) > 1)

560 
__kmp_te_d•th
 = 
d•th
;

562 
	}
}

564 
	$__kmp_affš™y_ü—‹_hwloc_m­
(
AddrUnsPaœ
 **
add»ss2os
,

565 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
) {

566 
hwloc_tİŞogy_t
 &

 = 
__kmp_hwloc_tİŞogy
;

567 *
add»ss2os
 = 
NULL
;

568 *
msg_id
 = 
kmp_i18n_nuÎ
;

571 
kmp_affš_mask_t
 *
ŞdMask
;

572 
	`KMP_CPU_ALLOC
(
ŞdMask
);

573 
	`__kmp_g‘_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

574 
	`__kmp_hwloc_check_numa
();

576 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

579 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
);

581 
nCÜesP”Pkg
 = 
	`__kmp_hwloc_g‘_nobjs_und”_obj
(

582 
	`hwloc_g‘_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, 0), 
HWLOC_OBJ_CORE
);

583 
__kmp_nTh»adsP”CÜe
 = 
	`__kmp_hwloc_g‘_nobjs_und”_obj
(

584 
	`hwloc_g‘_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, 0), 
HWLOC_OBJ_PU
);

585 
__kmp_ncÜes
 = 
__kmp_x´oc
 / 
__kmp_nTh»adsP”CÜe
;

586 
nPackages
 = (
__kmp_x´oc
 + 
nCÜesP”Pkg
 - 1) /‚CoresPerPkg;

587 ià(
__kmp_affš™y_v”bo£
) {

588 
	`KMP_INFORM
(
AffNÙC­abËU£LocCpuidL11
, "KMP_AFFINITY");

589 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

590 ià(
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

591 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

593 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

595 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

596 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

598 
	`KMP_CPU_FREE
(
ŞdMask
);

602 
d•th
 = 3;

603 
Ëv–s
[5] = {0, 1, 2, 3, 4};

604 
Ïb–s
[3] = {0};

605 ià(
__kmp_numa_d‘eùed
)

606 ++
d•th
;

607 ià(
__kmp_te_d•th
)

608 ++
d•th
;

611 
AddrUnsPaœ
 *
»tv®
 =

612 (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPaœè* 
__kmp_ava_´oc
);

613 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

614 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

621 
hwloc_obj_t
 
sock‘
, 
node
, 
te
;

622 
nAùiveTh»ads
 = 0;

623 
sock‘_id
 = 0;

625 
__kmp_ncÜes
 = 
nPackages
 = 
nCÜesP”Pkg
 = 
__kmp_nTh»adsP”CÜe
 = 0;

626 
nNodeP”Pkg
 = 
nTeP”Pkg
 = 
nTeP”Node
 = 
nCÜeP”Node
 = 
nCÜeP”Te
 = 0;

627 
sock‘
 = 
	`hwloc_g‘_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, 0); sock‘ !ğ
NULL
;

628 
sock‘
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, socket),

629 
sock‘_id
++) {

630 
Ïb–s
[0] = 
sock‘_id
;

631 ià(
__kmp_numa_d‘eùed
) {

632 
NN
;

633 
n_aùive_nodes
 = 0;

634 
node
 = 
NULL
;

635 
NN
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
sock‘
, 
HWLOC_OBJ_NUMANODE
,

636 &
node
);

637 
node_id
 = 0;‚ode_id < 
NN
; ++node_id, 
node
 =‚ode->
Ãxt_cousš
) {

638 
Ïb–s
[1] = 
node_id
;

639 ià(
__kmp_te_d•th
) {

641 
NT
;

642 
n_aùive_tes
 = 0;

643 
te
 = 
NULL
;

644 
NT
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
node
, 
__kmp_te_d•th
,

645 &
te
);

646 
_id
 = 0;l_id < 
NT
; ++_id, 
te
 =e->
Ãxt_cousš
) {

647 
Ïb–s
[2] = 
_id
;

648 
n_aùive_cÜes
 = 0;

649 
	`__kmp_hwloc_´oûss_obj_cÜe_pu
(
»tv®
, 
nAùiveTh»ads
,

650 
n_aùive_cÜes
, 
te
, 3, 
Ïb–s
);

651 ià(
n_aùive_cÜes
) {

652 ++
n_aùive_tes
;

653 ià(
n_aùive_cÜes
 > 
nCÜeP”Te
)

654 
nCÜeP”Te
 = 
n_aùive_cÜes
;

657 ià(
n_aùive_tes
) {

658 ++
n_aùive_nodes
;

659 ià(
n_aùive_tes
 > 
nTeP”Node
)

660 
nTeP”Node
 = 
n_aùive_tes
;

664 
n_aùive_cÜes
 = 0;

665 
	`__kmp_hwloc_´oûss_obj_cÜe_pu
(
»tv®
, 
nAùiveTh»ads
,

666 
n_aùive_cÜes
, 
node
, 2, 
Ïb–s
);

667 ià(
n_aùive_cÜes
) {

668 ++
n_aùive_nodes
;

669 ià(
n_aùive_cÜes
 > 
nCÜeP”Node
)

670 
nCÜeP”Node
 = 
n_aùive_cÜes
;

674 ià(
n_aùive_nodes
) {

675 ++
nPackages
;

676 ià(
n_aùive_nodes
 > 
nNodeP”Pkg
)

677 
nNodeP”Pkg
 = 
n_aùive_nodes
;

680 ià(
__kmp_te_d•th
) {

682 
NT
;

683 
n_aùive_tes
 = 0;

684 
te
 = 
NULL
;

685 
NT
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
sock‘
, 
__kmp_te_d•th
,

686 &
te
);

687 
_id
 = 0;l_id < 
NT
; ++_id, 
te
 =e->
Ãxt_cousš
) {

688 
Ïb–s
[1] = 
_id
;

689 
n_aùive_cÜes
 = 0;

690 
	`__kmp_hwloc_´oûss_obj_cÜe_pu
(
»tv®
, 
nAùiveTh»ads
,

691 
n_aùive_cÜes
, 
te
, 2, 
Ïb–s
);

692 ià(
n_aùive_cÜes
) {

693 ++
n_aùive_tes
;

694 ià(
n_aùive_cÜes
 > 
nCÜeP”Te
)

695 
nCÜeP”Te
 = 
n_aùive_cÜes
;

698 ià(
n_aùive_tes
) {

699 ++
nPackages
;

700 ià(
n_aùive_tes
 > 
nTeP”Pkg
)

701 
nTeP”Pkg
 = 
n_aùive_tes
;

705 
n_aùive_cÜes
 = 0;

706 
	`__kmp_hwloc_´oûss_obj_cÜe_pu
(
»tv®
, 
nAùiveTh»ads
, 
n_aùive_cÜes
,

707 
sock‘
, 1, 
Ïb–s
);

708 ià(
n_aùive_cÜes
) {

709 ++
nPackages
;

710 ià(
n_aùive_cÜes
 > 
nCÜesP”Pkg
)

711 
nCÜesP”Pkg
 = 
n_aùive_cÜes
;

718 
	`KMP_DEBUG_ASSERT
(
nAùiveTh»ads
 =ğ
__kmp_ava_´oc
);

719 
	`KMP_ASSERT
(
nAùiveTh»ads
 > 0);

720 ià(
nAùiveTh»ads
 == 1) {

721 
__kmp_ncÜes
 = 
nPackages
 = 1;

722 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 1;

723 ià(
__kmp_affš™y_v”bo£
) {

724 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

725 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

727 
	`KMP_INFORM
(
AffUsšgHwloc
, "KMP_AFFINITY");

728 ià(
__kmp_affš™y_»¥eù_mask
) {

729 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

731 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

733 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

734 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

735 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

736 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

739 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

740 
	`__kmp_ä“
(
»tv®
);

741 
	`KMP_CPU_FREE
(
ŞdMask
);

746 
Add»ss
 
	`addr
(1);

747 
addr
.
Ïb–s
[0] = 
»tv®
[0].
fœ¡
.labels[0];

748 
»tv®
[0].
fœ¡
 = 
addr
;

750 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

751 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

754 ià(
__kmp_affš™y_v”bo£
) {

755 
	`__kmp_affš™y_´št_tİŞogy
(
»tv®
, 1, 1, 0, -1, -1);

758 *
add»ss2os
 = 
»tv®
;

759 
	`KMP_CPU_FREE
(
ŞdMask
);

764 
	`qsÜt
(
»tv®
, 
nAùiveTh»ads
, (*retval),

765 
__kmp_affš™y_cmp_Add»ss_Ïb–s
);

768 
nPUs
 = 
nPackages
 * 
__kmp_nTh»adsP”CÜe
;

769 ià(
__kmp_numa_d‘eùed
) {

770 ià(
__kmp_te_d•th
) {

771 
nPUs
 *ğ(
nNodeP”Pkg
 * 
nTeP”Node
 * 
nCÜeP”Te
);

773 
nPUs
 *ğ(
nNodeP”Pkg
 * 
nCÜeP”Node
);

776 ià(
__kmp_te_d•th
) {

777 
nPUs
 *ğ(
nTeP”Pkg
 * 
nCÜeP”Te
);

779 
nPUs
 *ğ
nCÜesP”Pkg
;

782 
unifÜm
 = (
nPUs
 =ğ
nAùiveTh»ads
);

785 ià(
__kmp_affš™y_v”bo£
) {

786 
mask
[
KMP_AFFIN_MASK_PRINT_LEN
];

787 
	`__kmp_affš™y_´št_mask
(
mask
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

788 ià(
__kmp_affš™y_»¥eù_mask
) {

789 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
mask
);

791 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
mask
);

793 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

794 ià(
unifÜm
) {

795 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

797 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

799 ià(
__kmp_numa_d‘eùed
) {

800 ià(
__kmp_te_d•th
) {

801 
	`KMP_INFORM
(
TİŞogyExŒaNoTi
, "KMP_AFFINITY", 
nPackages
, 
nNodeP”Pkg
,

802 
nTeP”Node
, 
nCÜeP”Te
, 
__kmp_nTh»adsP”CÜe
,

803 
__kmp_ncÜes
);

805 
	`KMP_INFORM
(
TİŞogyExŒaNode
, "KMP_AFFINITY", 
nPackages
, 
nNodeP”Pkg
,

806 
nCÜeP”Node
, 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

807 
nPUs
 *ğ(
nNodeP”Pkg
 * 
nCÜeP”Node
);

810 ià(
__kmp_te_d•th
) {

811 
	`KMP_INFORM
(
TİŞogyExŒaTe
, "KMP_AFFINITY", 
nPackages
, 
nTeP”Pkg
,

812 
nCÜeP”Te
, 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

814 
kmp_¡r_buf_t
 
buf
;

815 
	`__kmp_¡r_buf_š™
(&
buf
);

816 
	`__kmp_¡r_buf_´št
(&
buf
, "%d", 
nPackages
);

817 
	`KMP_INFORM
(
TİŞogyExŒa
, "KMP_AFFINITY", 
buf
.
¡r
, 
nCÜesP”Pkg
,

818 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

819 
	`__kmp_¡r_buf_ä“
(&
buf
);

824 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

825 
	`__kmp_ä“
(
»tv®
);

826 
	`KMP_CPU_FREE
(
ŞdMask
);

830 
d•th_fuÎ
 = 
d•th
;

833 
d•th
 = 
	`__kmp_affš™y_»move_¿dix_Úe_Ëv–s
(
»tv®
, 
nAùiveTh»ads
, depth,

834 
Ëv–s
);

835 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_g¿n
 !ğ
affš™y_g¿n_deçuÉ
);

836 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

839 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

840 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_th»ad
) {

841 
i
 = 1; i <ğ
d•th_fuÎ
; ++i) {

842 ià(
__kmp_affš™y_g¿n
 <ğ
i
)

844 ià(
Ëv–s
[
d•th_fuÎ
 - 
i
] > 0)

845 
__kmp_affš™y_g¿n_Ëv–s
++;

848 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_·ckage
)

849 
__kmp_affš™y_g¿n_Ëv–s
++;

852 ià(
__kmp_affš™y_v”bo£
)

853 
	`__kmp_affš™y_´št_hwloc_
(
»tv®
, 
nAùiveTh»ads
, 
d•th
, 
Ëv–s
);

855 
	`KMP_CPU_FREE
(
ŞdMask
);

856 *
add»ss2os
 = 
»tv®
;

857  
d•th
;

858 
	}
}

864 
	$__kmp_affš™y_ü—‹_æ©_m­
(
AddrUnsPaœ
 **
add»ss2os
,

865 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
) {

866 *
add»ss2os
 = 
NULL
;

867 *
msg_id
 = 
kmp_i18n_nuÎ
;

872 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

873 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
);

874 
__kmp_ncÜes
 = 
nPackages
 = 
__kmp_x´oc
;

875 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 1;

876 ià(
__kmp_affš™y_v”bo£
) {

877 
	`KMP_INFORM
(
AffFÏtTİŞogy
, "KMP_AFFINITY");

878 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

879 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

880 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

881 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

890 
__kmp_ncÜes
 = 
nPackages
 = 
__kmp_ava_´oc
;

891 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 1;

892 ià(
__kmp_affš™y_v”bo£
) {

893 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

894 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

895 
__kmp_affš_fuÎMask
);

897 
	`KMP_INFORM
(
AffC­abËU£FÏt
, "KMP_AFFINITY");

898 ià(
__kmp_affš™y_»¥eù_mask
) {

899 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

901 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

903 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

904 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

905 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

906 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

908 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

909 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

910 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

911 
ava_ù
 = 0;

912 
i
;

913 
	`KMP_CPU_SET_ITERATE
(
i
, 
__kmp_affš_fuÎMask
) {

914 ià(!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
))

916 
__kmp_pu_os_idx
[
ava_ù
++] = 
i
;

922 *
add»ss2os
 =

923 (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((**
add»ss2os
è* 
__kmp_ava_´oc
);

924 
ava_ù
 = 0;

925 
i
;

926 
	`KMP_CPU_SET_ITERATE
(
i
, 
__kmp_affš_fuÎMask
) {

928 ià(!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) {

931 
__kmp_pu_os_idx
[
ava_ù
] = 
i
;

932 
Add»ss
 
	`addr
(1);

933 
addr
.
Ïb–s
[0] = 
i
;

934 (*
add»ss2os
)[
ava_ù
++] = 
	`AddrUnsPaœ
(
addr
, 
i
);

936 ià(
__kmp_affš™y_v”bo£
) {

937 
	`KMP_INFORM
(
OSProcToPackage
, "KMP_AFFINITY");

940 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

943 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_·ckage
) {

944 
__kmp_affš™y_g¿n_Ëv–s
 = 1;

946 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

950 
	}
}

952 #ià
KMP_GROUP_AFFINITY


958 
	$__kmp_affš™y_ü—‹_´oc_group_m­
(
AddrUnsPaœ
 **
add»ss2os
,

959 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
) {

960 *
add»ss2os
 = 
NULL
;

961 *
msg_id
 = 
kmp_i18n_nuÎ
;

965 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

971 *
add»ss2os
 =

972 (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((**
add»ss2os
è* 
__kmp_ava_´oc
);

973 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

974 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

975 
ava_ù
 = 0;

976 
i
;

977 
	`KMP_CPU_SET_ITERATE
(
i
, 
__kmp_affš_fuÎMask
) {

979 ià(!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) {

982 
__kmp_pu_os_idx
[
ava_ù
] = 
i
;

983 
Add»ss
 
	`addr
(2);

984 
addr
.
Ïb–s
[0] = 
i
 / (
CHAR_BIT
 * (
DWORD_PTR
));

985 
addr
.
Ïb–s
[1] = 
i
 % (
CHAR_BIT
 * (
DWORD_PTR
));

986 (*
add»ss2os
)[
ava_ù
++] = 
	`AddrUnsPaœ
(
addr
, 
i
);

988 ià(
__kmp_affš™y_v”bo£
) {

989 
	`KMP_INFORM
(
AffOSProcToGroup
, "KMP_AFFINITY", 
i
, 
addr
.
Ïb–s
[0],

990 
addr
.
Ïb–s
[1]);

994 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

995 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_group
) {

996 
__kmp_affš™y_g¿n_Ëv–s
 = 1;

997 } ià((
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_fše
) ||

998 (
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_th»ad
)) {

999 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1001 cÚ¡ *
g¿n_¡r
 = 
NULL
;

1002 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_cÜe
) {

1003 
g¿n_¡r
 = "core";

1004 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_·ckage
) {

1005 
g¿n_¡r
 = "package";

1006 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_node
) {

1007 
g¿n_¡r
 = "node";

1009 
	`KMP_ASSERT
(0);

1014 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1018 
	}
}

1022 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1024 
	$__kmp_ıuid_mask_width
(
couÁ
) {

1025 
r
 = 0;

1027 (1 << 
r
è< 
couÁ
)

1028 ++
r
;

1029  
r
;

1030 
	}
}

1032 şas 
	c­icTh»adInfo
 {

1033 
	mpublic
:

1034 
osId
;

1035 
	m­icId
;

1036 
	mmaxCÜesP”Pkg
;

1037 
	mmaxTh»adsP”Pkg
;

1038 
	mpkgId
;

1039 
	mcÜeId
;

1040 
	mth»adId
;

1043 
	$__kmp_affš™y_cmp_­icTh»adInfo_phys_id
(cÚ¡ *
a
,

1044 cÚ¡ *
b
) {

1045 cÚ¡ 
­icTh»adInfo
 *
¯
 = (cÚ¡‡picTh»adInfØ*)
a
;

1046 cÚ¡ 
­icTh»adInfo
 *
bb
 = (cÚ¡‡picTh»adInfØ*)
b
;

1047 ià(
¯
->
pkgId
 < 
bb
->pkgId)

1049 ià(
¯
->
pkgId
 > 
bb
->pkgId)

1051 ià(
¯
->
cÜeId
 < 
bb
->coreId)

1053 ià(
¯
->
cÜeId
 > 
bb
->coreId)

1055 ià(
¯
->
th»adId
 < 
bb
->threadId)

1057 ià(
¯
->
th»adId
 > 
bb
->threadId)

1060 
	}
}

1066 
	$__kmp_affš™y_ü—‹_­icid_m­
(
AddrUnsPaœ
 **
add»ss2os
,

1067 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
) {

1068 
kmp_ıuid
 
buf
;

1069 *
add»ss2os
 = 
NULL
;

1070 *
msg_id
 = 
kmp_i18n_nuÎ
;

1073 
	`__kmp_x86_ıuid
(0, 0, &
buf
);

1074 ià(
buf
.
—x
 < 4) {

1075 *
msg_id
 = 
kmp_i18n_¡r_NoL—f4SuµÜt
;

1084 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

1087 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
);

1093 
	`__kmp_x86_ıuid
(1, 0, &
buf
);

1094 
maxTh»adsP”Pkg
 = (
buf
.
ebx
 >> 16) & 0xff;

1095 ià(
maxTh»adsP”Pkg
 == 0) {

1096 
maxTh»adsP”Pkg
 = 1;

1110 
	`__kmp_x86_ıuid
(0, 0, &
buf
);

1111 ià(
buf
.
—x
 >= 4) {

1112 
	`__kmp_x86_ıuid
(4, 0, &
buf
);

1113 
nCÜesP”Pkg
 = ((
buf
.
—x
 >> 26) & 0x3f) + 1;

1115 
nCÜesP”Pkg
 = 1;

1131 
__kmp_ncÜes
 = 
__kmp_x´oc
;

1132 
nPackages
 = (
__kmp_x´oc
 + 
nCÜesP”Pkg
 - 1) /‚CoresPerPkg;

1133 
__kmp_nTh»adsP”CÜe
 = 1;

1134 ià(
__kmp_affš™y_v”bo£
) {

1135 
	`KMP_INFORM
(
AffNÙC­abËU£LocCpuid
, "KMP_AFFINITY");

1136 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1137 ià(
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

1138 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1140 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

1142 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

1143 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1153 
kmp_affš_mask_t
 *
ŞdMask
;

1154 
	`KMP_CPU_ALLOC
(
ŞdMask
);

1155 
	`KMP_ASSERT
(
ŞdMask
 !ğ
NULL
);

1156 
	`__kmp_g‘_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1183 
i
;

1184 
­icTh»adInfo
 *
th»adInfo
 = (­icTh»adInfØ*)
	`__kmp_®loÿ‹
(

1185 
__kmp_ava_´oc
 * (
­icTh»adInfo
));

1186 
nApics
 = 0;

1187 
	`KMP_CPU_SET_ITERATE
(
i
, 
__kmp_affš_fuÎMask
) {

1189 ià(!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) {

1192 
	`KMP_DEBUG_ASSERT
(()
nApics
 < 
__kmp_ava_´oc
);

1194 
__kmp_affš™y_di¥©ch
->
	`bšd_th»ad
(
i
);

1195 
th»adInfo
[
nApics
].
osId
 = 
i
;

1198 
	`__kmp_x86_ıuid
(1, 0, &
buf
);

1199 ià(((
buf
.
edx
 >> 9) & 1) == 0) {

1200 
	`__kmp_£t_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1201 
	`__kmp_ä“
(
th»adInfo
);

1202 
	`KMP_CPU_FREE
(
ŞdMask
);

1203 *
msg_id
 = 
kmp_i18n_¡r_ApicNÙP»£Á
;

1206 
th»adInfo
[
nApics
].
­icId
 = (
buf
.
ebx
 >> 24) & 0xff;

1207 
th»adInfo
[
nApics
].
maxTh»adsP”Pkg
 = (
buf
.
ebx
 >> 16) & 0xff;

1208 ià(
th»adInfo
[
nApics
].
maxTh»adsP”Pkg
 == 0) {

1209 
th»adInfo
[
nApics
].
maxTh»adsP”Pkg
 = 1;

1218 
	`__kmp_x86_ıuid
(0, 0, &
buf
);

1219 ià(
buf
.
—x
 >= 4) {

1220 
	`__kmp_x86_ıuid
(4, 0, &
buf
);

1221 
th»adInfo
[
nApics
].
maxCÜesP”Pkg
 = ((
buf
.
—x
 >> 26) & 0x3f) + 1;

1223 
th»adInfo
[
nApics
].
maxCÜesP”Pkg
 = 1;

1227 
widthCT
 = 
	`__kmp_ıuid_mask_width
(
th»adInfo
[
nApics
].
maxTh»adsP”Pkg
);

1228 
th»adInfo
[
nApics
].
pkgId
 =h»adInfo[nApics].
­icId
 >> 
widthCT
;

1230 
widthC
 = 
	`__kmp_ıuid_mask_width
(
th»adInfo
[
nApics
].
maxCÜesP”Pkg
);

1231 
widthT
 = 
widthCT
 - 
widthC
;

1232 ià(
widthT
 < 0) {

1236 
	`__kmp_£t_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1237 
	`__kmp_ä“
(
th»adInfo
);

1238 
	`KMP_CPU_FREE
(
ŞdMask
);

1239 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1243 
maskC
 = (1 << 
widthC
) - 1;

1244 
th»adInfo
[
nApics
].
cÜeId
 = (th»adInfo[nApics].
­icId
 >> 
widthT
è& 
maskC
;

1246 
maskT
 = (1 << 
widthT
) - 1;

1247 
th»adInfo
[
nApics
].
th»adId
 =h»adInfo[nApics].
­icId
 & 
maskT
;

1249 
nApics
++;

1254 
	`__kmp_£t_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1263 
	`KMP_ASSERT
(
nApics
 > 0);

1264 ià(
nApics
 == 1) {

1265 
__kmp_ncÜes
 = 
nPackages
 = 1;

1266 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 1;

1267 ià(
__kmp_affš™y_v”bo£
) {

1268 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

1269 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

1271 
	`KMP_INFORM
(
AffU£GlobCpuid
, "KMP_AFFINITY");

1272 ià(
__kmp_affš™y_»¥eù_mask
) {

1273 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

1275 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

1277 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1278 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1279 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

1280 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1283 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

1284 
	`__kmp_ä“
(
th»adInfo
);

1285 
	`KMP_CPU_FREE
(
ŞdMask
);

1289 *
add»ss2os
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPair));

1290 
Add»ss
 
	`addr
(1);

1291 
addr
.
Ïb–s
[0] = 
th»adInfo
[0].
pkgId
;

1292 (*
add»ss2os
)[0] = 
	`AddrUnsPaœ
(
addr
, 
th»adInfo
[0].
osId
);

1294 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

1295 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1298 ià(
__kmp_affš™y_v”bo£
) {

1299 
	`__kmp_affš™y_´št_tİŞogy
(*
add»ss2os
, 1, 1, 0, -1, -1);

1302 
	`__kmp_ä“
(
th»adInfo
);

1303 
	`KMP_CPU_FREE
(
ŞdMask
);

1308 
	`qsÜt
(
th»adInfo
, 
nApics
, (*threadInfo),

1309 
__kmp_affš™y_cmp_­icTh»adInfo_phys_id
);

1324 
nPackages
 = 1;

1325 
nCÜesP”Pkg
 = 1;

1326 
__kmp_nTh»adsP”CÜe
 = 1;

1327 
nCÜes
 = 1;

1329 
pkgCt
 = 1;

1330 
Ï¡PkgId
 = 
th»adInfo
[0].
pkgId
;

1331 
cÜeCt
 = 1;

1332 
Ï¡CÜeId
 = 
th»adInfo
[0].
cÜeId
;

1333 
th»adCt
 = 1;

1334 
Ï¡Th»adId
 = 
th»adInfo
[0].
th»adId
;

1337 
´evMaxCÜesP”Pkg
 = 
th»adInfo
[0].
maxCÜesP”Pkg
;

1338 
´evMaxTh»adsP”Pkg
 = 
th»adInfo
[0].
maxTh»adsP”Pkg
;

1340 
i
 = 1; i < 
nApics
; i++) {

1341 ià(
th»adInfo
[
i
].
pkgId
 !ğ
Ï¡PkgId
) {

1342 
nCÜes
++;

1343 
pkgCt
++;

1344 
Ï¡PkgId
 = 
th»adInfo
[
i
].
pkgId
;

1345 ià(()
cÜeCt
 > 
nCÜesP”Pkg
)

1346 
nCÜesP”Pkg
 = 
cÜeCt
;

1347 
cÜeCt
 = 1;

1348 
Ï¡CÜeId
 = 
th»adInfo
[
i
].
cÜeId
;

1349 ià(()
th»adCt
 > 
__kmp_nTh»adsP”CÜe
)

1350 
__kmp_nTh»adsP”CÜe
 = 
th»adCt
;

1351 
th»adCt
 = 1;

1352 
Ï¡Th»adId
 = 
th»adInfo
[
i
].
th»adId
;

1356 
´evMaxCÜesP”Pkg
 = 
th»adInfo
[
i
].
maxCÜesP”Pkg
;

1357 
´evMaxTh»adsP”Pkg
 = 
th»adInfo
[
i
].
maxTh»adsP”Pkg
;

1361 ià(
th»adInfo
[
i
].
cÜeId
 !ğ
Ï¡CÜeId
) {

1362 
nCÜes
++;

1363 
cÜeCt
++;

1364 
Ï¡CÜeId
 = 
th»adInfo
[
i
].
cÜeId
;

1365 ià(()
th»adCt
 > 
__kmp_nTh»adsP”CÜe
)

1366 
__kmp_nTh»adsP”CÜe
 = 
th»adCt
;

1367 
th»adCt
 = 1;

1368 
Ï¡Th»adId
 = 
th»adInfo
[
i
].
th»adId
;

1369 } ià(
th»adInfo
[
i
].
th»adId
 !ğ
Ï¡Th»adId
) {

1370 
th»adCt
++;

1371 
Ï¡Th»adId
 = 
th»adInfo
[
i
].
th»adId
;

1373 
	`__kmp_ä“
(
th»adInfo
);

1374 
	`KMP_CPU_FREE
(
ŞdMask
);

1375 *
msg_id
 = 
kmp_i18n_¡r_LegacyApicIDsNÙUnique
;

1381 ià((
´evMaxCÜesP”Pkg
 !ğ
th»adInfo
[
i
].
maxCÜesP”Pkg
) ||

1382 (
´evMaxTh»adsP”Pkg
 !ğ
th»adInfo
[
i
].
maxTh»adsP”Pkg
)) {

1383 
	`__kmp_ä“
(
th»adInfo
);

1384 
	`KMP_CPU_FREE
(
ŞdMask
);

1385 *
msg_id
 = 
kmp_i18n_¡r_IncÚsi¡’tCpuidInfo
;

1389 
nPackages
 = 
pkgCt
;

1390 ià(()
cÜeCt
 > 
nCÜesP”Pkg
)

1391 
nCÜesP”Pkg
 = 
cÜeCt
;

1392 ià(()
th»adCt
 > 
__kmp_nTh»adsP”CÜe
)

1393 
__kmp_nTh»adsP”CÜe
 = 
th»adCt
;

1399 
__kmp_ncÜes
 = 
nCÜes
;

1400 ià(
__kmp_affš™y_v”bo£
) {

1401 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

1402 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

1404 
	`KMP_INFORM
(
AffU£GlobCpuid
, "KMP_AFFINITY");

1405 ià(
__kmp_affš™y_»¥eù_mask
) {

1406 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

1408 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

1410 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1411 ià(
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

1412 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1414 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

1416 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

1417 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1419 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

1420 
	`KMP_DEBUG_ASSERT
(
nApics
 =ğ()
__kmp_ava_´oc
);

1421 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

1422 
i
 = 0; i < 
nApics
; ++i) {

1423 
__kmp_pu_os_idx
[
i
] = 
th»adInfo
[i].
osId
;

1425 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

1426 
	`__kmp_ä“
(
th»adInfo
);

1427 
	`KMP_CPU_FREE
(
ŞdMask
);

1434 
pkgLev–
 = 0;

1435 
cÜeLev–
 = (
nCÜesP”Pkg
 <= 1) ? -1 : 1;

1436 
th»adLev–
 =

1437 (
__kmp_nTh»adsP”CÜe
 <ğ1è? -1 : ((
cÜeLev–
 >= 0) ? 2 : 1);

1438 
d•th
 = (
pkgLev–
 >ğ0è+ (
cÜeLev–
 >ğ0è+ (
th»adLev–
 >= 0);

1440 
	`KMP_ASSERT
(
d•th
 > 0);

1441 *
add»ss2os
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPaœè* 
nApics
);

1443 
i
 = 0; i < 
nApics
; ++i) {

1444 
Add»ss
 
	`addr
(
d•th
);

1445 
os
 = 
th»adInfo
[
i
].
osId
;

1446 
d
 = 0;

1448 ià(
pkgLev–
 >= 0) {

1449 
addr
.
Ïb–s
[
d
++] = 
th»adInfo
[
i
].
pkgId
;

1451 ià(
cÜeLev–
 >= 0) {

1452 
addr
.
Ïb–s
[
d
++] = 
th»adInfo
[
i
].
cÜeId
;

1454 ià(
th»adLev–
 >= 0) {

1455 
addr
.
Ïb–s
[
d
++] = 
th»adInfo
[
i
].
th»adId
;

1457 (*
add»ss2os
)[
i
] = 
	`AddrUnsPaœ
(
addr
, 
os
);

1460 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

1463 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1464 ià((
th»adLev–
 >ğ0è&& (
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_th»ad
)) {

1465 
__kmp_affš™y_g¿n_Ëv–s
++;

1467 ià((
cÜeLev–
 >ğ0è&& (
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_cÜe
)) {

1468 
__kmp_affš™y_g¿n_Ëv–s
++;

1470 ià((
pkgLev–
 >ğ0è&& (
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_·ckage
)) {

1471 
__kmp_affš™y_g¿n_Ëv–s
++;

1475 ià(
__kmp_affš™y_v”bo£
) {

1476 
	`__kmp_affš™y_´št_tİŞogy
(*
add»ss2os
, 
nApics
, 
d•th
, 
pkgLev–
,

1477 
cÜeLev–
, 
th»adLev–
);

1480 
	`__kmp_ä“
(
th»adInfo
);

1481 
	`KMP_CPU_FREE
(
ŞdMask
);

1482  
d•th
;

1483 
	}
}

1488 
	$__kmp_affš™y_ü—‹_x2­icid_m­
(
AddrUnsPaœ
 **
add»ss2os
,

1489 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
) {

1490 
kmp_ıuid
 
buf
;

1491 *
add»ss2os
 = 
NULL
;

1492 *
msg_id
 = 
kmp_i18n_nuÎ
;

1495 
	`__kmp_x86_ıuid
(0, 0, &
buf
);

1496 ià(
buf
.
—x
 < 11) {

1497 *
msg_id
 = 
kmp_i18n_¡r_NoL—f11SuµÜt
;

1500 
	`__kmp_x86_ıuid
(11, 0, &
buf
);

1501 ià(
buf
.
ebx
 == 0) {

1502 *
msg_id
 = 
kmp_i18n_¡r_NoL—f11SuµÜt
;

1510 
Ëv–
;

1511 
th»adLev–
 = -1;

1512 
cÜeLev–
 = -1;

1513 
pkgLev–
 = -1;

1514 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 
nPackages
 = 1;

1516 
Ëv–
 = 0;;†evel++) {

1517 ià(
Ëv–
 > 31) {

1527 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1530 
	`__kmp_x86_ıuid
(11, 
Ëv–
, &
buf
);

1531 ià(
buf
.
ebx
 == 0) {

1532 ià(
pkgLev–
 < 0) {

1534 
pkgLev–
 = 
Ëv–
;

1535 
Ëv–
++;

1539 
kšd
 = (
buf
.
ecx
 >> 8) & 0xff;

1540 ià(
kšd
 == 1) {

1542 
th»adLev–
 = 
Ëv–
;

1543 
cÜeLev–
 = -1;

1544 
pkgLev–
 = -1;

1545 
__kmp_nTh»adsP”CÜe
 = 
buf
.
ebx
 & 0xffff;

1546 ià(
__kmp_nTh»adsP”CÜe
 == 0) {

1547 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1550 } ià(
kšd
 == 2) {

1552 
cÜeLev–
 = 
Ëv–
;

1553 
pkgLev–
 = -1;

1554 
nCÜesP”Pkg
 = 
buf
.
ebx
 & 0xffff;

1555 ià(
nCÜesP”Pkg
 == 0) {

1556 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1560 ià(
Ëv–
 <= 0) {

1561 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1564 ià(
pkgLev–
 >= 0) {

1567 
pkgLev–
 = 
Ëv–
;

1568 
nPackages
 = 
buf
.
ebx
 & 0xffff;

1569 ià(
nPackages
 == 0) {

1570 *
msg_id
 = 
kmp_i18n_¡r_Inv®idCpuidInfo
;

1575 
d•th
 = 
Ëv–
;

1581 ià(
th»adLev–
 >= 0) {

1582 
th»adLev–
 = 
d•th
 -hreadLevel - 1;

1584 ià(
cÜeLev–
 >= 0) {

1585 
cÜeLev–
 = 
d•th
 - coreLevel - 1;

1587 
	`KMP_DEBUG_ASSERT
(
pkgLev–
 >= 0);

1588 
pkgLev–
 = 
d•th
 -…kgLevel - 1;

1595 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

1598 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
);

1600 
__kmp_ncÜes
 = 
__kmp_x´oc
 / 
__kmp_nTh»adsP”CÜe
;

1601 
nPackages
 = (
__kmp_x´oc
 + 
nCÜesP”Pkg
 - 1) /‚CoresPerPkg;

1602 ià(
__kmp_affš™y_v”bo£
) {

1603 
	`KMP_INFORM
(
AffNÙC­abËU£LocCpuidL11
, "KMP_AFFINITY");

1604 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1605 ià(
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

1606 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1608 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

1610 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

1611 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1621 
kmp_affš_mask_t
 *
ŞdMask
;

1622 
	`KMP_CPU_ALLOC
(
ŞdMask
);

1623 
	`__kmp_g‘_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1626 
AddrUnsPaœ
 *
»tv®
 =

1627 (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPaœè* 
__kmp_ava_´oc
);

1631 
´oc
;

1632 
nApics
 = 0;

1633 
	`KMP_CPU_SET_ITERATE
(
´oc
, 
__kmp_affš_fuÎMask
) {

1635 ià(!
	`KMP_CPU_ISSET
(
´oc
, 
__kmp_affš_fuÎMask
)) {

1638 
	`KMP_DEBUG_ASSERT
(
nApics
 < 
__kmp_ava_´oc
);

1640 
__kmp_affš™y_di¥©ch
->
	`bšd_th»ad
(
´oc
);

1643 
Add»ss
 
	`addr
(
d•th
);

1644 
´ev_shiá
 = 0;

1646 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

1647 
	`__kmp_x86_ıuid
(11, 
Ëv–
, &
buf
);

1648 
­icId
 = 
buf
.
edx
;

1649 ià(
buf
.
ebx
 == 0) {

1650 ià(
Ëv–
 !ğ
d•th
 - 1) {

1651 
	`KMP_CPU_FREE
(
ŞdMask
);

1652 *
msg_id
 = 
kmp_i18n_¡r_IncÚsi¡’tCpuidInfo
;

1655 
addr
.
Ïb–s
[
d•th
 - 
Ëv–
 - 1] = 
­icId
 >> 
´ev_shiá
;

1656 
Ëv–
++;

1659 
shiá
 = 
buf
.
—x
 & 0x1f;

1660 
mask
 = (1 << 
shiá
) - 1;

1661 
addr
.
Ïb–s
[
d•th
 - 
Ëv–
 - 1] = (
­icId
 & 
mask
è>> 
´ev_shiá
;

1662 
´ev_shiá
 = 
shiá
;

1664 ià(
Ëv–
 !ğ
d•th
) {

1665 
	`KMP_CPU_FREE
(
ŞdMask
);

1666 *
msg_id
 = 
kmp_i18n_¡r_IncÚsi¡’tCpuidInfo
;

1670 
»tv®
[
nApics
] = 
	`AddrUnsPaœ
(
addr
, 
´oc
);

1671 
nApics
++;

1676 
	`__kmp_£t_sy¡em_affš™y
(
ŞdMask
, 
TRUE
);

1679 
	`KMP_ASSERT
(
nApics
 > 0);

1680 ià(
nApics
 == 1) {

1681 
__kmp_ncÜes
 = 
nPackages
 = 1;

1682 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 1;

1683 ià(
__kmp_affš™y_v”bo£
) {

1684 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

1685 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

1687 
	`KMP_INFORM
(
AffU£GlobCpuidL11
, "KMP_AFFINITY");

1688 ià(
__kmp_affš™y_»¥eù_mask
) {

1689 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

1691 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

1693 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1694 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1695 
	`KMP_INFORM
(
TİŞogy
, "KMP_AFFINITY", 
nPackages
, 
nCÜesP”Pkg
,

1696 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1699 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

1700 
	`__kmp_ä“
(
»tv®
);

1701 
	`KMP_CPU_FREE
(
ŞdMask
);

1706 
Add»ss
 
	`addr
(1);

1707 
addr
.
Ïb–s
[0] = 
»tv®
[0].
fœ¡
.Ïb–s[
pkgLev–
];

1708 
»tv®
[0].
fœ¡
 = 
addr
;

1710 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

1711 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1714 ià(
__kmp_affš™y_v”bo£
) {

1715 
	`__kmp_affš™y_´št_tİŞogy
(
»tv®
, 1, 1, 0, -1, -1);

1718 *
add»ss2os
 = 
»tv®
;

1719 
	`KMP_CPU_FREE
(
ŞdMask
);

1724 
	`qsÜt
(
»tv®
, 
nApics
, (*»tv®), 
__kmp_affš™y_cmp_Add»ss_Ïb–s
);

1727 *
tÙ®s
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

1728 *
couÁs
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

1729 *
maxCt
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

1730 *
Ï¡
 = (*)
	`__kmp_®loÿ‹
(
d•th
 * ());

1731 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

1732 
tÙ®s
[
Ëv–
] = 1;

1733 
maxCt
[
Ëv–
] = 1;

1734 
couÁs
[
Ëv–
] = 1;

1735 
Ï¡
[
Ëv–
] = 
»tv®
[0].
fœ¡
.
Ïb–s
[level];

1742 
´oc
 = 1; (íroø< 
nApics
;…roc++) {

1743 
Ëv–
;

1744 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

1745 ià(
»tv®
[
´oc
].
fœ¡
.
Ïb–s
[
Ëv–
] !ğ
Ï¡
[level]) {

1746 
j
;

1747 
j
 = 
Ëv–
 + 1; j < 
d•th
; j++) {

1748 
tÙ®s
[
j
]++;

1749 
couÁs
[
j
] = 1;

1758 
Ï¡
[
j
] = 
»tv®
[
´oc
].
fœ¡
.
Ïb–s
[j];

1760 
tÙ®s
[
Ëv–
]++;

1761 
couÁs
[
Ëv–
]++;

1762 ià(
couÁs
[
Ëv–
] > 
maxCt
[level]) {

1763 
maxCt
[
Ëv–
] = 
couÁs
[level];

1765 
Ï¡
[
Ëv–
] = 
»tv®
[
´oc
].
fœ¡
.
Ïb–s
[level];

1767 } ià(
Ëv–
 =ğ
d•th
 - 1) {

1768 
	`__kmp_ä“
(
Ï¡
);

1769 
	`__kmp_ä“
(
maxCt
);

1770 
	`__kmp_ä“
(
couÁs
);

1771 
	`__kmp_ä“
(
tÙ®s
);

1772 
	`__kmp_ä“
(
»tv®
);

1773 
	`KMP_CPU_FREE
(
ŞdMask
);

1774 *
msg_id
 = 
kmp_i18n_¡r_x2ApicIDsNÙUnique
;

1784 ià(
th»adLev–
 >= 0) {

1785 
__kmp_nTh»adsP”CÜe
 = 
maxCt
[
th»adLev–
];

1787 
__kmp_nTh»adsP”CÜe
 = 1;

1789 
nPackages
 = 
tÙ®s
[
pkgLev–
];

1791 ià(
cÜeLev–
 >= 0) {

1792 
__kmp_ncÜes
 = 
tÙ®s
[
cÜeLev–
];

1793 
nCÜesP”Pkg
 = 
maxCt
[
cÜeLev–
];

1795 
__kmp_ncÜes
 = 
nPackages
;

1796 
nCÜesP”Pkg
 = 1;

1800 
´od
 = 
maxCt
[0];

1801 
Ëv–
 = 1;†ev– < 
d•th
;†evel++) {

1802 
´od
 *ğ
maxCt
[
Ëv–
];

1804 
boŞ
 
unifÜm
 = (
´od
 =ğ
tÙ®s
[
Ëv–
 - 1]);

1807 ià(
__kmp_affš™y_v”bo£
) {

1808 
mask
[
KMP_AFFIN_MASK_PRINT_LEN
];

1809 
	`__kmp_affš™y_´št_mask
(
mask
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
ŞdMask
);

1811 
	`KMP_INFORM
(
AffU£GlobCpuidL11
, "KMP_AFFINITY");

1812 ià(
__kmp_affš™y_»¥eù_mask
) {

1813 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
mask
);

1815 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
mask
);

1817 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

1818 ià(
unifÜm
) {

1819 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

1821 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

1824 
kmp_¡r_buf_t
 
buf
;

1825 
	`__kmp_¡r_buf_š™
(&
buf
);

1827 
	`__kmp_¡r_buf_´št
(&
buf
, "%d", 
tÙ®s
[0]);

1828 
Ëv–
 = 1;†ev– <ğ
pkgLev–
;†evel++) {

1829 
	`__kmp_¡r_buf_´št
(&
buf
, " x %d", 
maxCt
[
Ëv–
]);

1831 
	`KMP_INFORM
(
TİŞogyExŒa
, "KMP_AFFINITY", 
buf
.
¡r
, 
nCÜesP”Pkg
,

1832 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

1834 
	`__kmp_¡r_buf_ä“
(&
buf
);

1836 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

1837 
	`KMP_DEBUG_ASSERT
(
nApics
 =ğ
__kmp_ava_´oc
);

1838 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

1839 
´oc
 = 0; (íroø< 
nApics
; ++proc) {

1840 
__kmp_pu_os_idx
[
´oc
] = 
»tv®
[´oc].
£cÚd
;

1842 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

1843 
	`__kmp_ä“
(
Ï¡
);

1844 
	`__kmp_ä“
(
maxCt
);

1845 
	`__kmp_ä“
(
couÁs
);

1846 
	`__kmp_ä“
(
tÙ®s
);

1847 
	`__kmp_ä“
(
»tv®
);

1848 
	`KMP_CPU_FREE
(
ŞdMask
);

1854 
Ãw_d•th
 = 0;

1855 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

1856 ià((
maxCt
[
Ëv–
] =ğ1è&& (Ëv– !ğ
pkgLev–
)) {

1859 
Ãw_d•th
++;

1864 ià(
Ãw_d•th
 !ğ
d•th
) {

1865 
AddrUnsPaœ
 *
Ãw_»tv®
 =

1866 (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPaœè* 
nApics
);

1867 
´oc
 = 0; (íroø< 
nApics
;…roc++) {

1868 
Add»ss
 
	`addr
(
Ãw_d•th
);

1869 
Ãw_»tv®
[
´oc
] = 
	`AddrUnsPaœ
(
addr
, 
»tv®
[´oc].
£cÚd
);

1871 
Ãw_Ëv–
 = 0;

1872 
ÃwPkgLev–
 = -1;

1873 
ÃwCÜeLev–
 = -1;

1874 
ÃwTh»adLev–
 = -1;

1875 
Ëv–
 = 0;†ev– < 
d•th
;†evel++) {

1876 ià((
maxCt
[
Ëv–
] =ğ1è&& (Ëv– !ğ
pkgLev–
)) {

1880 ià(
Ëv–
 =ğ
pkgLev–
) {

1881 
ÃwPkgLev–
 = 
Ãw_Ëv–
;

1883 ià(
Ëv–
 =ğ
cÜeLev–
) {

1884 
ÃwCÜeLev–
 = 
Ãw_Ëv–
;

1886 ià(
Ëv–
 =ğ
th»adLev–
) {

1887 
ÃwTh»adLev–
 = 
Ãw_Ëv–
;

1889 
´oc
 = 0; (íroø< 
nApics
;…roc++) {

1890 
Ãw_»tv®
[
´oc
].
fœ¡
.
Ïb–s
[
Ãw_Ëv–
] =

1891 
»tv®
[
´oc
].
fœ¡
.
Ïb–s
[
Ëv–
];

1893 
Ãw_Ëv–
++;

1896 
	`__kmp_ä“
(
»tv®
);

1897 
»tv®
 = 
Ãw_»tv®
;

1898 
d•th
 = 
Ãw_d•th
;

1899 
pkgLev–
 = 
ÃwPkgLev–
;

1900 
cÜeLev–
 = 
ÃwCÜeLev–
;

1901 
th»adLev–
 = 
ÃwTh»adLev–
;

1904 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

1907 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

1908 ià((
th»adLev–
 >ğ0è&& (
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_th»ad
)) {

1909 
__kmp_affš™y_g¿n_Ëv–s
++;

1911 ià((
cÜeLev–
 >ğ0è&& (
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_cÜe
)) {

1912 
__kmp_affš™y_g¿n_Ëv–s
++;

1914 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_·ckage
) {

1915 
__kmp_affš™y_g¿n_Ëv–s
++;

1919 ià(
__kmp_affš™y_v”bo£
) {

1920 
	`__kmp_affš™y_´št_tİŞogy
(
»tv®
, 
nApics
, 
d•th
, 
pkgLev–
, 
cÜeLev–
,

1921 
th»adLev–
);

1924 
	`__kmp_ä“
(
Ï¡
);

1925 
	`__kmp_ä“
(
maxCt
);

1926 
	`__kmp_ä“
(
couÁs
);

1927 
	`__kmp_ä“
(
tÙ®s
);

1928 
	`KMP_CPU_FREE
(
ŞdMask
);

1929 *
add»ss2os
 = 
»tv®
;

1930  
d•th
;

1931 
	}
}

1935 
	#osIdIndex
 0

	)

1936 
	#th»adIdIndex
 1

	)

1937 
	#cÜeIdIndex
 2

	)

1938 
	#pkgIdIndex
 3

	)

1939 
	#nodeIdIndex
 4

	)

1941 *
	tProcCpuInfo
;

1942 
	gmaxIndex
 = 
pkgIdIndex
;

1944 
	$__kmp_affš™y_cmp_ProcCpuInfo_phys_id
(cÚ¡ *
a
,

1945 cÚ¡ *
b
) {

1946 
i
;

1947 cÚ¡ *
¯
 = *(*cÚ¡ *)
a
;

1948 cÚ¡ *
bb
 = *(*cÚ¡ *)
b
;

1949 
i
 = 
maxIndex
;; i--) {

1950 ià(
¯
[
i
] < 
bb
[i])

1952 ià(
¯
[
i
] > 
bb
[i])

1954 ià(
i
 =ğ
osIdIndex
)

1958 
	}
}

1960 #ià
KMP_USE_HIER_SCHED


1962 
	$__kmp_di¥©ch_£t_h›¿rchy_v®ues
() {

1968 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_THREAD
 + 1] =

1969 
nPackages
 * 
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
;

1970 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_L1
 + 1] = 
__kmp_ncÜes
;

1971 #ià
KMP_ARCH_X86_64
 && (
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_WINDOWS
)

1972 ià(
__kmp_mic_ty³
 >ğ
mic3
)

1973 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_L2
 + 1] = 
__kmp_ncÜes
 / 2;

1976 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_L2
 + 1] = 
__kmp_ncÜes
;

1977 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_L3
 + 1] = 
nPackages
;

1978 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_NUMA
 + 1] = 
nPackages
;

1979 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_LOOP
 + 1] = 1;

1982 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_THREAD
 + 1] = 1;

1983 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_L1
 + 1] =

1984 
__kmp_nTh»adsP”CÜe
;

1985 #ià
KMP_ARCH_X86_64
 && (
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_WINDOWS
)

1986 ià(
__kmp_mic_ty³
 >ğ
mic3
)

1987 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_L2
 + 1] =

1988 2 * 
__kmp_nTh»adsP”CÜe
;

1991 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_L2
 + 1] =

1992 
__kmp_nTh»adsP”CÜe
;

1993 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_L3
 + 1] =

1994 
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
;

1995 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_NUMA
 + 1] =

1996 
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
;

1997 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_LOOP
 + 1] =

1998 
nPackages
 * 
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
;

1999 
	}
}

2003 
	$__kmp_di¥©ch_g‘_šdex
(
tid
, 
kmp_h›r_Ïy”_e
 
ty³
) {

2004 
šdex
 = 
ty³
 + 1;

2005 
num_hw_th»ads
 = 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_THREAD
 + 1];

2006 
	`KMP_DEBUG_ASSERT
(
ty³
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

2007 ià(
ty³
 =ğ
kmp_h›r_Ïy”_e
::
LAYER_THREAD
)

2008  
tid
;

2009 ià(
ty³
 =ğ
kmp_h›r_Ïy”_e
::
LAYER_LOOP
)

2011 
	`KMP_DEBUG_ASSERT
(
__kmp_h›r_max_un™s
[
šdex
] != 0);

2012 ià(
tid
 >ğ
num_hw_th»ads
)

2013 
tid
 =id % 
num_hw_th»ads
;

2014  (
tid
 / 
__kmp_h›r_th»ads_³r
[
šdex
]è% 
__kmp_h›r_max_un™s
[index];

2015 
	}
}

2018 
	$__kmp_di¥©ch_g‘_t1_³r_t2
(
kmp_h›r_Ïy”_e
 
t1
, kmp_h›r_Ïy”_
t2
) {

2019 
i1
 = 
t1
 + 1;

2020 
i2
 = 
t2
 + 1;

2021 
	`KMP_DEBUG_ASSERT
(
i1
 <ğ
i2
);

2022 
	`KMP_DEBUG_ASSERT
(
t1
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

2023 
	`KMP_DEBUG_ASSERT
(
t2
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

2024 
	`KMP_DEBUG_ASSERT
(
__kmp_h›r_th»ads_³r
[
i1
] != 0);

2026  
__kmp_h›r_th»ads_³r
[
i2
] / __kmp_h›r_th»ads_³r[
i1
];

2027 
	}
}

2032 
	$__kmp_affš™y_ü—‹_ıušfo_m­
(
AddrUnsPaœ
 **
add»ss2os
,

2033 *
lše
,

2034 
kmp_i18n_id_t
 *cÚ¡ 
msg_id
,

2035 
FILE
 *
f
) {

2036 *
add»ss2os
 = 
NULL
;

2037 *
msg_id
 = 
kmp_i18n_nuÎ
;

2041 
buf
[256];

2042 
num_»cÜds
 = 0;

2043 !
	`ãof
(
f
)) {

2044 
buf
[(buf) - 1] = 1;

2045 ià(!
	`fg‘s
(
buf
, (buf), 
f
)) {

2050 
s1
[] = "processor";

2051 ià(
	`¡ºcmp
(
buf
, 
s1
, (s1) - 1) == 0) {

2052 
num_»cÜds
++;

2057 
Ëv–
;

2058 ià(
	`KMP_SSCANF
(
buf
, "node_%u id", &
Ëv–
) == 1) {

2059 ià(
nodeIdIndex
 + 
Ëv–
 >ğ
maxIndex
) {

2060 
maxIndex
 = 
nodeIdIndex
 + 
Ëv–
;

2068 ià(
num_»cÜds
 == 0) {

2069 *
lše
 = 0;

2070 *
msg_id
 = 
kmp_i18n_¡r_NoProcRecÜds
;

2073 ià(
num_»cÜds
 > ()
__kmp_x´oc
) {

2074 *
lše
 = 0;

2075 *
msg_id
 = 
kmp_i18n_¡r_TooMªyProcRecÜds
;

2084 ià(
	`f£ek
(
f
, 0, 
SEEK_SET
) != 0) {

2085 *
lše
 = 0;

2086 *
msg_id
 = 
kmp_i18n_¡r_CªtRewšdCpušfo
;

2092 **
th»adInfo
 =

2093 (**)
	`__kmp_®loÿ‹
((
num_»cÜds
 + 1) * (*));

2094 
i
;

2095 
i
 = 0; i <ğ
num_»cÜds
; i++) {

2096 
th»adInfo
[
i
] =

2097 (*)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * ());

2100 
	#CLEANUP_THREAD_INFO
 \

2101 
i
 = 0; i <ğ
num_»cÜds
; i++) { \

2102 
	`__kmp_ä“
(
th»adInfo
[
i
]); \

2104 
	`__kmp_ä“
(
th»adInfo
);

	)

2107 
__šdex
;

2109 
	#INIT_PROC_INFO
(
p
) \

2110 
__šdex
 = 0; __šdex <ğ
maxIndex
; __index++) { \

2111 (
p
)[
__šdex
] = 
UINT_MAX
; \

2112 }

	)

2114 
i
 = 0; i <ğ
num_»cÜds
; i++) {

2115 
	`INIT_PROC_INFO
(
th»adInfo
[
i
]);

2118 
num_ava
 = 0;

2119 *
lše
 = 0;

2120 !
	`ãof
(
f
)) {

2125 
buf
[(buf) - 1] = 1;

2126 
boŞ
 
lÚg_lše
 = 
çl£
;

2127 ià(!
	`fg‘s
(
buf
, (buf), 
f
)) {

2131 
boŞ
 
v®id
 = 
çl£
;

2132 
i
 = 0; i <ğ
maxIndex
; i++) {

2133 ià(
th»adInfo
[
num_ava
][
i
] !ğ
UINT_MAX
) {

2134 
v®id
 = 
Œue
;

2137 ià(!
v®id
) {

2140 
buf
[0] = 0;

2141 } ià(!
buf
[(buf) - 1]) {

2144 
lÚg_lše
 = 
Œue
;

2146 
	#CHECK_LINE
 \

2147 ià(
lÚg_lše
) { \

2148 
CLEANUP_THREAD_INFO
; \

2149 *
msg_id
 = 
kmp_i18n_¡r_LÚgLšeCpušfo
; \

2151 }

	)

2153 (*
lše
)++;

2155 
s1
[] = "processor";

2156 ià(
	`¡ºcmp
(
buf
, 
s1
, (s1) - 1) == 0) {

2157 
CHECK_LINE
;

2158 *
p
 = 
	`¡rchr
(
buf
 + (
s1
) - 1, ':');

2159 
v®
;

2160 ià((
p
 =ğ
NULL
è|| (
	`KMP_SSCANF
Õ + 1, "%u\n", &
v®
) != 1))

2161 
no_v®
;

2162 ià(
th»adInfo
[
num_ava
][
osIdIndex
] !ğ
UINT_MAX
)

2163 #ià
KMP_ARCH_AARCH64


2168 
num_ava
++;

2170 
dup_f›ld
;

2172 
th»adInfo
[
num_ava
][
osIdIndex
] = 
v®
;

2173 #ià
KMP_OS_LINUX
 && !(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

2174 
·th
[256];

2175 
	`KMP_SNPRINTF
(

2176 
·th
, (path),

2178 
th»adInfo
[
num_ava
][
osIdIndex
]);

2179 
	`__kmp_»ad_äom_fe
(
·th
, "%u", &
th»adInfo
[
num_ava
][
pkgIdIndex
]);

2181 
	`KMP_SNPRINTF
(
·th
, (path),

2183 
th»adInfo
[
num_ava
][
osIdIndex
]);

2184 
	`__kmp_»ad_äom_fe
(
·th
, "%u", &
th»adInfo
[
num_ava
][
cÜeIdIndex
]);

2188 
s2
[] = "physical id";

2189 ià(
	`¡ºcmp
(
buf
, 
s2
, (s2) - 1) == 0) {

2190 
CHECK_LINE
;

2191 *
p
 = 
	`¡rchr
(
buf
 + (
s2
) - 1, ':');

2192 
v®
;

2193 ià((
p
 =ğ
NULL
è|| (
	`KMP_SSCANF
Õ + 1, "%u\n", &
v®
) != 1))

2194 
no_v®
;

2195 ià(
th»adInfo
[
num_ava
][
pkgIdIndex
] !ğ
UINT_MAX
)

2196 
dup_f›ld
;

2197 
th»adInfo
[
num_ava
][
pkgIdIndex
] = 
v®
;

2200 
s3
[] = "core id";

2201 ià(
	`¡ºcmp
(
buf
, 
s3
, (s3) - 1) == 0) {

2202 
CHECK_LINE
;

2203 *
p
 = 
	`¡rchr
(
buf
 + (
s3
) - 1, ':');

2204 
v®
;

2205 ià((
p
 =ğ
NULL
è|| (
	`KMP_SSCANF
Õ + 1, "%u\n", &
v®
) != 1))

2206 
no_v®
;

2207 ià(
th»adInfo
[
num_ava
][
cÜeIdIndex
] !ğ
UINT_MAX
)

2208 
dup_f›ld
;

2209 
th»adInfo
[
num_ava
][
cÜeIdIndex
] = 
v®
;

2213 
s4
[] = "thread id";

2214 ià(
	`¡ºcmp
(
buf
, 
s4
, (s4) - 1) == 0) {

2215 
CHECK_LINE
;

2216 *
p
 = 
	`¡rchr
(
buf
 + (
s4
) - 1, ':');

2217 
v®
;

2218 ià((
p
 =ğ
NULL
è|| (
	`KMP_SSCANF
Õ + 1, "%u\n", &
v®
) != 1))

2219 
no_v®
;

2220 ià(
th»adInfo
[
num_ava
][
th»adIdIndex
] !ğ
UINT_MAX
)

2221 
dup_f›ld
;

2222 
th»adInfo
[
num_ava
][
th»adIdIndex
] = 
v®
;

2225 
Ëv–
;

2226 ià(
	`KMP_SSCANF
(
buf
, "node_%u id", &
Ëv–
) == 1) {

2227 
CHECK_LINE
;

2228 *
p
 = 
	`¡rchr
(
buf
 + (
s4
) - 1, ':');

2229 
v®
;

2230 ià((
p
 =ğ
NULL
è|| (
	`KMP_SSCANF
Õ + 1, "%u\n", &
v®
) != 1))

2231 
no_v®
;

2232 
	`KMP_ASSERT
(
nodeIdIndex
 + 
Ëv–
 <ğ
maxIndex
);

2233 ià(
th»adInfo
[
num_ava
][
nodeIdIndex
 + 
Ëv–
] !ğ
UINT_MAX
)

2234 
dup_f›ld
;

2235 
th»adInfo
[
num_ava
][
nodeIdIndex
 + 
Ëv–
] = 
v®
;

2242 ià((*
buf
 != 0) && (*buf != '\n')) {

2245 ià(
lÚg_lše
) {

2246 
ch
;

2247 ((
ch
 = 
	`fg‘c
(
f
)è!ğ
EOF
) && (ch != '\n'))

2255 ià(()
num_ava
 =ğ
__kmp_x´oc
) {

2256 
CLEANUP_THREAD_INFO
;

2257 *
msg_id
 = 
kmp_i18n_¡r_TooMªyEÁr›s
;

2263 ià(
th»adInfo
[
num_ava
][
osIdIndex
] =ğ
UINT_MAX
) {

2264 
CLEANUP_THREAD_INFO
;

2265 *
msg_id
 = 
kmp_i18n_¡r_MissšgProcF›ld
;

2268 ià(
th»adInfo
[0][
pkgIdIndex
] =ğ
UINT_MAX
) {

2269 
CLEANUP_THREAD_INFO
;

2270 *
msg_id
 = 
kmp_i18n_¡r_MissšgPhysiÿlIDF›ld
;

2275 ià(!
	`KMP_CPU_ISSET
(
th»adInfo
[
num_ava
][
osIdIndex
],

2276 
__kmp_affš_fuÎMask
)) {

2277 
	`INIT_PROC_INFO
(
th»adInfo
[
num_ava
]);

2283 
num_ava
++;

2284 
	`KMP_ASSERT
(
num_ava
 <ğ
num_»cÜds
);

2285 
	`INIT_PROC_INFO
(
th»adInfo
[
num_ava
]);

2289 
no_v®
:

2290 
CLEANUP_THREAD_INFO
;

2291 *
msg_id
 = 
kmp_i18n_¡r_MissšgV®Cpušfo
;

2294 
dup_f›ld
:

2295 
CLEANUP_THREAD_INFO
;

2296 *
msg_id
 = 
kmp_i18n_¡r_Du¶iÿ‹F›ldCpušfo
;

2299 *
lše
 = 0;

2301 #ià
KMP_MIC
 && 
REDUCE_TEAM_SIZE


2302 
‹amSize
 = 0;

2314 
	`KMP_ASSERT
(
num_ava
 > 0);

2315 
	`KMP_ASSERT
(
num_ava
 <ğ
num_»cÜds
);

2316 ià(
num_ava
 == 1) {

2317 
__kmp_ncÜes
 = 1;

2318 
__kmp_nTh»adsP”CÜe
 = 
nCÜesP”Pkg
 = 
nPackages
 = 1;

2319 ià(
__kmp_affš™y_v”bo£
) {

2320 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

2321 
	`KMP_INFORM
(
AffNÙC­abËU£Cpušfo
, "KMP_AFFINITY");

2322 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

2323 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

2325 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

2326 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

2327 
__kmp_affš_fuÎMask
);

2328 
	`KMP_INFORM
(
AffC­abËU£Cpušfo
, "KMP_AFFINITY");

2329 ià(
__kmp_affš™y_»¥eù_mask
) {

2330 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

2332 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

2334 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

2335 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

2337 
šdex
;

2338 
kmp_¡r_buf_t
 
buf
;

2339 
	`__kmp_¡r_buf_š™
(&
buf
);

2340 
	`__kmp_¡r_buf_´št
(&
buf
, "1");

2341 
šdex
 = 
maxIndex
 - 1; index > 
pkgIdIndex
; index--) {

2342 
	`__kmp_¡r_buf_´št
(&
buf
, " x 1");

2344 
	`KMP_INFORM
(
TİŞogyExŒa
, "KMP_AFFINITY", 
buf
.
¡r
, 1, 1, 1);

2345 
	`__kmp_¡r_buf_ä“
(&
buf
);

2348 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

2349 
CLEANUP_THREAD_INFO
;

2353 *
add»ss2os
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPair));

2354 
Add»ss
 
	`addr
(1);

2355 
addr
.
Ïb–s
[0] = 
th»adInfo
[0][
pkgIdIndex
];

2356 (*
add»ss2os
)[0] = 
	`AddrUnsPaœ
(
addr
, 
th»adInfo
[0][
osIdIndex
]);

2358 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

2359 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

2362 ià(
__kmp_affš™y_v”bo£
) {

2363 
	`__kmp_affš™y_´št_tİŞogy
(*
add»ss2os
, 1, 1, 0, -1, -1);

2366 
CLEANUP_THREAD_INFO
;

2371 
	`qsÜt
(
th»adInfo
, 
num_ava
, (*threadInfo),

2372 
__kmp_affš™y_cmp_ProcCpuInfo_phys_id
);

2383 *
couÁs
 =

2384 (*)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * ());

2385 *
maxCt
 =

2386 (*)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * ());

2387 *
tÙ®s
 =

2388 (*)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * ());

2389 *
Ï¡Id
 =

2390 (*)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * ());

2392 
boŞ
 
assign_th»ad_ids
 = 
çl£
;

2393 
th»adIdCt
;

2394 
šdex
;

2396 
»¡¬t_¿dix_check
:

2397 
th»adIdCt
 = 0;

2400 ià(
assign_th»ad_ids
) {

2401 ià(
th»adInfo
[0][
th»adIdIndex
] =ğ
UINT_MAX
) {

2402 
th»adInfo
[0][
th»adIdIndex
] = 
th»adIdCt
++;

2403 } ià(
th»adIdCt
 <ğ
th»adInfo
[0][
th»adIdIndex
]) {

2404 
th»adIdCt
 = 
th»adInfo
[0][
th»adIdIndex
] + 1;

2407 
šdex
 = 0; index <ğ
maxIndex
; index++) {

2408 
couÁs
[
šdex
] = 1;

2409 
maxCt
[
šdex
] = 1;

2410 
tÙ®s
[
šdex
] = 1;

2411 
Ï¡Id
[
šdex
] = 
th»adInfo
[0][index];

2416 
i
 = 1; i < 
num_ava
; i++) {

2419 
šdex
 = 
maxIndex
; index >ğ
th»adIdIndex
; index--) {

2420 ià(
assign_th»ad_ids
 && (
šdex
 =ğ
th»adIdIndex
)) {

2422 ià(
th»adInfo
[
i
][
th»adIdIndex
] =ğ
UINT_MAX
) {

2423 
th»adInfo
[
i
][
th»adIdIndex
] = 
th»adIdCt
++;

2427 ià(
th»adIdCt
 <ğ
th»adInfo
[
i
][
th»adIdIndex
]) {

2428 
th»adIdCt
 = 
th»adInfo
[
i
][
th»adIdIndex
] + 1;

2431 ià(
th»adInfo
[
i
][
šdex
] !ğ
Ï¡Id
[index]) {

2435 
šdex2
;

2436 
šdex2
 = 
th»adIdIndex
; index2 < 
šdex
; index2++) {

2437 
tÙ®s
[
šdex2
]++;

2438 ià(
couÁs
[
šdex2
] > 
maxCt
[index2]) {

2439 
maxCt
[
šdex2
] = 
couÁs
[index2];

2441 
couÁs
[
šdex2
] = 1;

2442 
Ï¡Id
[
šdex2
] = 
th»adInfo
[
i
][index2];

2444 
couÁs
[
šdex
]++;

2445 
tÙ®s
[
šdex
]++;

2446 
Ï¡Id
[
šdex
] = 
th»adInfo
[
i
][index];

2448 ià(
assign_th»ad_ids
 && (
šdex
 > 
th»adIdIndex
)) {

2450 #ià
KMP_MIC
 && 
REDUCE_TEAM_SIZE


2453 
‹amSize
 +ğ(
th»adIdCt
 <= 2) ? (threadIdCt) : (threadIdCt - 1);

2457 
th»adIdCt
 = 0;

2460 ià(
th»adInfo
[
i
][
th»adIdIndex
] =ğ
UINT_MAX
) {

2461 
th»adInfo
[
i
][
th»adIdIndex
] = 
th»adIdCt
++;

2467 ià(
th»adIdCt
 <ğ
th»adInfo
[
i
][
th»adIdIndex
]) {

2468 
th»adIdCt
 = 
th»adInfo
[
i
][
th»adIdIndex
] + 1;

2474 ià(
šdex
 < 
th»adIdIndex
) {

2478 ià((
th»adInfo
[
i
][
th»adIdIndex
] !ğ
UINT_MAX
è|| 
assign_th»ad_ids
) {

2479 
	`__kmp_ä“
(
Ï¡Id
);

2480 
	`__kmp_ä“
(
tÙ®s
);

2481 
	`__kmp_ä“
(
maxCt
);

2482 
	`__kmp_ä“
(
couÁs
);

2483 
CLEANUP_THREAD_INFO
;

2484 *
msg_id
 = 
kmp_i18n_¡r_PhysiÿlIDsNÙUnique
;

2490 
assign_th»ad_ids
 = 
Œue
;

2491 
»¡¬t_¿dix_check
;

2495 #ià
KMP_MIC
 && 
REDUCE_TEAM_SIZE


2498 
‹amSize
 +ğ(
th»adIdCt
 <= 2) ? (threadIdCt) : (threadIdCt - 1);

2501 
šdex
 = 
th»adIdIndex
; index <ğ
maxIndex
; index++) {

2502 ià(
couÁs
[
šdex
] > 
maxCt
[index]) {

2503 
maxCt
[
šdex
] = 
couÁs
[index];

2507 
__kmp_nTh»adsP”CÜe
 = 
maxCt
[
th»adIdIndex
];

2508 
nCÜesP”Pkg
 = 
maxCt
[
cÜeIdIndex
];

2509 
nPackages
 = 
tÙ®s
[
pkgIdIndex
];

2512 
´od
 = 
tÙ®s
[
maxIndex
];

2513 
šdex
 = 
th»adIdIndex
; index < 
maxIndex
; index++) {

2514 
´od
 *ğ
maxCt
[
šdex
];

2516 
boŞ
 
unifÜm
 = (
´od
 =ğ
tÙ®s
[
th»adIdIndex
]);

2522 
__kmp_ncÜes
 = 
tÙ®s
[
cÜeIdIndex
];

2524 ià(
__kmp_affš™y_v”bo£
) {

2525 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

2526 
	`KMP_INFORM
(
AffNÙC­abËU£Cpušfo
, "KMP_AFFINITY");

2527 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

2528 ià(
unifÜm
) {

2529 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

2531 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

2534 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

2535 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

2536 
__kmp_affš_fuÎMask
);

2537 
	`KMP_INFORM
(
AffC­abËU£Cpušfo
, "KMP_AFFINITY");

2538 ià(
__kmp_affš™y_»¥eù_mask
) {

2539 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_AFFINITY", 
buf
);

2541 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_AFFINITY", 
buf
);

2543 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_AFFINITY", 
__kmp_ava_´oc
);

2544 ià(
unifÜm
) {

2545 
	`KMP_INFORM
(
UnifÜm
, "KMP_AFFINITY");

2547 
	`KMP_INFORM
(
NÚUnifÜm
, "KMP_AFFINITY");

2550 
kmp_¡r_buf_t
 
buf
;

2551 
	`__kmp_¡r_buf_š™
(&
buf
);

2553 
	`__kmp_¡r_buf_´št
(&
buf
, "%d", 
tÙ®s
[
maxIndex
]);

2554 
šdex
 = 
maxIndex
 - 1; index >ğ
pkgIdIndex
; index--) {

2555 
	`__kmp_¡r_buf_´št
(&
buf
, " x %d", 
maxCt
[
šdex
]);

2557 
	`KMP_INFORM
(
TİŞogyExŒa
, "KMP_AFFINITY", 
buf
.
¡r
, 
maxCt
[
cÜeIdIndex
],

2558 
maxCt
[
th»adIdIndex
], 
__kmp_ncÜes
);

2560 
	`__kmp_¡r_buf_ä“
(&
buf
);

2563 #ià
KMP_MIC
 && 
REDUCE_TEAM_SIZE


2565 ià((
__kmp_dæt_‹am_Áh
 =ğ0è&& (
‹amSize
 > 0)) {

2566 
__kmp_dæt_‹am_Áh
 = 
‹amSize
;

2567 
	`KA_TRACE
(20, ("__kmp_affinity_create_cpuinfo_map: setting "

2569 
__kmp_dæt_‹am_Áh
));

2573 
	`KMP_DEBUG_ASSERT
(
__kmp_pu_os_idx
 =ğ
NULL
);

2574 
	`KMP_DEBUG_ASSERT
(
num_ava
 =ğ()
__kmp_ava_´oc
);

2575 
__kmp_pu_os_idx
 = (*)
	`__kmp_®loÿ‹
((è* 
__kmp_ava_´oc
);

2576 
i
 = 0; i < 
num_ava
; ++i) {

2577 
__kmp_pu_os_idx
[
i
] = 
th»adInfo
[i][
osIdIndex
];

2580 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

2581 
	`__kmp_ä“
(
Ï¡Id
);

2582 
	`__kmp_ä“
(
tÙ®s
);

2583 
	`__kmp_ä“
(
maxCt
);

2584 
	`__kmp_ä“
(
couÁs
);

2585 
CLEANUP_THREAD_INFO
;

2594 
boŞ
 *
šM­
 = (boŞ *)
	`__kmp_®loÿ‹
((
maxIndex
 + 1) * (bool));

2595 
šdex
 = 
th»adIdIndex
; index < 
maxIndex
; index++) {

2596 
	`KMP_ASSERT
(
tÙ®s
[
šdex
] >=otals[index + 1]);

2597 
šM­
[
šdex
] = (
tÙ®s
[index] >otals[index + 1]);

2599 
šM­
[
maxIndex
] = (
tÙ®s
[maxIndex] > 1);

2600 
šM­
[
pkgIdIndex
] = 
Œue
;

2602 
d•th
 = 0;

2603 
šdex
 = 
th»adIdIndex
; index <ğ
maxIndex
; index++) {

2604 ià(
šM­
[
šdex
]) {

2605 
d•th
++;

2608 
	`KMP_ASSERT
(
d•th
 > 0);

2611 *
add»ss2os
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPaœè* 
num_ava
);

2612 
pkgLev–
 = -1;

2613 
cÜeLev–
 = -1;

2614 
th»adLev–
 = -1;

2616 
i
 = 0; i < 
num_ava
; ++i) {

2617 
Add»ss
 
	`addr
(
d•th
);

2618 
os
 = 
th»adInfo
[
i
][
osIdIndex
];

2619 
¤c_šdex
;

2620 
d¡_šdex
 = 0;

2622 
¤c_šdex
 = 
maxIndex
; src_šdex >ğ
th»adIdIndex
; src_index--) {

2623 ià(!
šM­
[
¤c_šdex
]) {

2626 
addr
.
Ïb–s
[
d¡_šdex
] = 
th»adInfo
[
i
][
¤c_šdex
];

2627 ià(
¤c_šdex
 =ğ
pkgIdIndex
) {

2628 
pkgLev–
 = 
d¡_šdex
;

2629 } ià(
¤c_šdex
 =ğ
cÜeIdIndex
) {

2630 
cÜeLev–
 = 
d¡_šdex
;

2631 } ià(
¤c_šdex
 =ğ
th»adIdIndex
) {

2632 
th»adLev–
 = 
d¡_šdex
;

2634 
d¡_šdex
++;

2636 (*
add»ss2os
)[
i
] = 
	`AddrUnsPaœ
(
addr
, 
os
);

2639 ià(
__kmp_affš™y_g¿n_Ëv–s
 < 0) {

2642 
¤c_šdex
;

2643 
__kmp_affš™y_g¿n_Ëv–s
 = 0;

2644 
¤c_šdex
 = 
th»adIdIndex
; src_šdex <ğ
maxIndex
; src_index++) {

2645 ià(!
šM­
[
¤c_šdex
]) {

2648 
¤c_šdex
) {

2649 
th»adIdIndex
:

2650 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_th»ad
) {

2651 
__kmp_affš™y_g¿n_Ëv–s
++;

2655 
cÜeIdIndex
:

2656 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_cÜe
) {

2657 
__kmp_affš™y_g¿n_Ëv–s
++;

2661 
pkgIdIndex
:

2662 ià(
__kmp_affš™y_g¿n
 > 
affš™y_g¿n_·ckage
) {

2663 
__kmp_affš™y_g¿n_Ëv–s
++;

2670 ià(
__kmp_affš™y_v”bo£
) {

2671 
	`__kmp_affš™y_´št_tİŞogy
(*
add»ss2os
, 
num_ava
, 
d•th
, 
pkgLev–
,

2672 
cÜeLev–
, 
th»adLev–
);

2675 
	`__kmp_ä“
(
šM­
);

2676 
	`__kmp_ä“
(
Ï¡Id
);

2677 
	`__kmp_ä“
(
tÙ®s
);

2678 
	`__kmp_ä“
(
maxCt
);

2679 
	`__kmp_ä“
(
couÁs
);

2680 
CLEANUP_THREAD_INFO
;

2681  
d•th
;

2682 
	}
}

2687 
kmp_affš_mask_t
 *
	$__kmp_ü—‹_masks
(*
maxIndex
,

2688 *
numUnique
,

2689 
AddrUnsPaœ
 *
add»ss2os
,

2690 
numAddrs
) {

2692 
d•th
;

2693 
maxOsId
;

2694 
i
;

2696 
	`KMP_ASSERT
(
numAddrs
 > 0);

2697 
d•th
 = 
add»ss2os
[0].
fœ¡
.depth;

2699 
maxOsId
 = 0;

2700 
i
 = 
numAddrs
 - 1;; --i) {

2701 
osId
 = 
add»ss2os
[
i
].
£cÚd
;

2702 ià(
osId
 > 
maxOsId
) {

2703 
maxOsId
 = 
osId
;

2705 ià(
i
 == 0)

2708 
kmp_affš_mask_t
 *
osId2Mask
;

2709 
	`KMP_CPU_ALLOC_ARRAY
(
osId2Mask
, (
maxOsId
 + 1));

2713 
	`qsÜt
(
add»ss2os
, 
numAddrs
, (*address2os),

2714 
__kmp_affš™y_cmp_Add»ss_Ïb–s
);

2716 
	`KMP_ASSERT
(
__kmp_affš™y_g¿n_Ëv–s
 >= 0);

2717 ià(
__kmp_affš™y_v”bo£
 && (
__kmp_affš™y_g¿n_Ëv–s
 > 0)) {

2718 
	`KMP_INFORM
(
Th»adsMig¿‹
, "KMP_AFFINITY", 
__kmp_affš™y_g¿n_Ëv–s
);

2720 ià(
__kmp_affš™y_g¿n_Ëv–s
 >ğ()
d•th
) {

2721 ià(
__kmp_affš™y_v”bo£
 ||

2722 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

2723 
	`KMP_WARNING
(
AffTh»adsMayMig¿‹
);

2731 
unique
 = 0;

2732 
j
 = 0;

2733 
Ëad”
 = 0;

2734 
Add»ss
 *
Ëad”Addr
 = &(
add»ss2os
[0].
fœ¡
);

2735 
kmp_affš_mask_t
 *
sum
;

2736 
	`KMP_CPU_ALLOC_ON_STACK
(
sum
);

2737 
	`KMP_CPU_ZERO
(
sum
);

2738 
	`KMP_CPU_SET
(
add»ss2os
[0].
£cÚd
, 
sum
);

2739 
i
 = 1; i < 
numAddrs
; i++) {

2743 ià(
Ëad”Addr
->
	`isClo£
(
add»ss2os
[
i
].
fœ¡
, 
__kmp_affš™y_g¿n_Ëv–s
)) {

2744 
	`KMP_CPU_SET
(
add»ss2os
[
i
].
£cÚd
, 
sum
);

2750 ; 
j
 < 
i
; j++) {

2751 
osId
 = 
add»ss2os
[
j
].
£cÚd
;

2752 
	`KMP_DEBUG_ASSERT
(
osId
 <ğ
maxOsId
);

2753 
kmp_affš_mask_t
 *
mask
 = 
	`KMP_CPU_INDEX
(
osId2Mask
, 
osId
);

2754 
	`KMP_CPU_COPY
(
mask
, 
sum
);

2755 
add»ss2os
[
j
].
fœ¡
.
Ëad”
 = (j ==†eader);

2757 
unique
++;

2760 
Ëad”
 = 
i
;

2761 
Ëad”Addr
 = &(
add»ss2os
[
i
].
fœ¡
);

2762 
	`KMP_CPU_ZERO
(
sum
);

2763 
	`KMP_CPU_SET
(
add»ss2os
[
i
].
£cÚd
, 
sum
);

2768 ; 
j
 < 
i
; j++) {

2769 
osId
 = 
add»ss2os
[
j
].
£cÚd
;

2770 
	`KMP_DEBUG_ASSERT
(
osId
 <ğ
maxOsId
);

2771 
kmp_affš_mask_t
 *
mask
 = 
	`KMP_CPU_INDEX
(
osId2Mask
, 
osId
);

2772 
	`KMP_CPU_COPY
(
mask
, 
sum
);

2773 
add»ss2os
[
j
].
fœ¡
.
Ëad”
 = (j ==†eader);

2775 
unique
++;

2776 
	`KMP_CPU_FREE_FROM_STACK
(
sum
);

2778 *
maxIndex
 = 
maxOsId
;

2779 *
numUnique
 = 
unique
;

2780  
osId2Mask
;

2781 
	}
}

2786 
kmp_affš_mask_t
 *
	gÃwMasks
;

2787 
	gnumNewMasks
;

2788 
	gÃxtNewMask
;

2790 
	#ADD_MASK
(
_mask
) \

2792 ià(
ÃxtNewMask
 >ğ
numNewMasks
) { \

2793 
i
; \

2794 
numNewMasks
 *= 2; \

2795 
kmp_affš_mask_t
 *
‹mp
; \

2796 
	`KMP_CPU_INTERNAL_ALLOC_ARRAY
(
‹mp
, 
numNewMasks
); \

2797 
i
 = 0; i < 
numNewMasks
 / 2; i++) { \

2798 
kmp_affš_mask_t
 *
¤c
 = 
	`KMP_CPU_INDEX
(
ÃwMasks
, 
i
); \

2799 
kmp_affš_mask_t
 *
de¡
 = 
	`KMP_CPU_INDEX
(
‹mp
, 
i
); \

2800 
	`KMP_CPU_COPY
(
de¡
, 
¤c
); \

2802 
	`KMP_CPU_INTERNAL_FREE_ARRAY
(
ÃwMasks
, 
numNewMasks
 / 2); \

2803 
ÃwMasks
 = 
‹mp
; \

2805 
	`KMP_CPU_COPY
(
	`KMP_CPU_INDEX
(
ÃwMasks
, 
ÃxtNewMask
), (
_mask
)); \

2806 
ÃxtNewMask
++; \

2807 }

	)

2809 
	#ADD_MASK_OSID
(
_osId
, 
_osId2Mask
, 
_maxOsId
) \

2811 ià(((
_osId
è> 
_maxOsId
) || \

2812 (!
	`KMP_CPU_ISSET
((
_osId
), 
	`KMP_CPU_INDEX
((
_osId2Mask
), (_osId))))) { \

2813 ià(
__kmp_affš™y_v”bo£
 || \

2814 (
__kmp_affš™y_w¬nšgs
 && \

2815 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) { \

2816 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
_osId
); \

2819 
	`ADD_MASK
(
	`KMP_CPU_INDEX
(
_osId2Mask
, (
_osId
))); \

2821 }

	)

2825 
	$__kmp_affš™y_´oûss_´oşi¡
(
kmp_affš_mask_t
 **
out_masks
,

2826 *
out_numMasks
,

2827 cÚ¡ *
´oşi¡
,

2828 
kmp_affš_mask_t
 *
osId2Mask
,

2829 
maxOsId
) {

2830 
i
;

2831 cÚ¡ *
sÿn
 = 
´oşi¡
;

2832 cÚ¡ *
Ãxt
 = 
´oşi¡
;

2836 
numNewMasks
 = 2;

2837 
	`KMP_CPU_INTERNAL_ALLOC_ARRAY
(
ÃwMasks
, 
numNewMasks
);

2838 
ÃxtNewMask
 = 0;

2839 
kmp_affš_mask_t
 *
sumMask
;

2840 
	`KMP_CPU_ALLOC
(
sumMask
);

2841 
£tSize
 = 0;

2844 
¡¬t
, 
’d
, 
¡ride
;

2846 
	`SKIP_WS
(
sÿn
);

2847 
Ãxt
 = 
sÿn
;

2848 ià(*
Ãxt
 == '\0') {

2852 ià(*
Ãxt
 == '{') {

2853 
num
;

2854 
£tSize
 = 0;

2855 
Ãxt
++;

2856 
	`SKIP_WS
(
Ãxt
);

2857 
sÿn
 = 
Ãxt
;

2860 
	`KMP_ASSERT2
((*
Ãxt
 >= '0') && (*next <= '9'), "bad…roclist");

2861 
	`SKIP_DIGITS
(
Ãxt
);

2862 
num
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2863 
	`KMP_ASSERT2
(
num
 >= 0, "badƒxplicit…roc†ist");

2866 ià((
num
 > 
maxOsId
) ||

2867 (!
	`KMP_CPU_ISSET
(
num
, 
	`KMP_CPU_INDEX
(
osId2Mask
,‚um)))) {

2868 ià(
__kmp_affš™y_v”bo£
 ||

2869 (
__kmp_affš™y_w¬nšgs
 &&

2870 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

2871 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
num
);

2873 
	`KMP_CPU_ZERO
(
sumMask
);

2875 
	`KMP_CPU_COPY
(
sumMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
num
));

2876 
£tSize
 = 1;

2881 
	`SKIP_WS
(
Ãxt
);

2882 ià(*
Ãxt
 == '}') {

2883 
Ãxt
++;

2888 ià(*
Ãxt
 == ',') {

2889 
Ãxt
++;

2891 
	`SKIP_WS
(
Ãxt
);

2894 
sÿn
 = 
Ãxt
;

2895 
	`KMP_ASSERT2
((*
Ãxt
 >= '0') && (*next <= '9'), "badƒxplicit…roc†ist");

2897 
	`SKIP_DIGITS
(
Ãxt
);

2898 
num
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2899 
	`KMP_ASSERT2
(
num
 >= 0, "badƒxplicit…roc†ist");

2902 ià((
num
 > 
maxOsId
) ||

2903 (!
	`KMP_CPU_ISSET
(
num
, 
	`KMP_CPU_INDEX
(
osId2Mask
,‚um)))) {

2904 ià(
__kmp_affš™y_v”bo£
 ||

2905 (
__kmp_affš™y_w¬nšgs
 &&

2906 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

2907 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
num
);

2910 
	`KMP_CPU_UNION
(
sumMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
num
));

2911 
£tSize
++;

2914 ià(
£tSize
 > 0) {

2915 
	`ADD_MASK
(
sumMask
);

2918 
	`SKIP_WS
(
Ãxt
);

2919 ià(*
Ãxt
 == ',') {

2920 
Ãxt
++;

2922 
sÿn
 = 
Ãxt
;

2927 
	`KMP_ASSERT2
((*
Ãxt
 >= '0') && (*next <= '9'), "badƒxplicit…roc†ist");

2928 
	`SKIP_DIGITS
(
Ãxt
);

2929 
¡¬t
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2930 
	`KMP_ASSERT2
(
¡¬t
 >= 0, "badƒxplicit…roc†ist");

2931 
	`SKIP_WS
(
Ãxt
);

2934 ià(*
Ãxt
 != '-') {

2935 
	`ADD_MASK_OSID
(
¡¬t
, 
osId2Mask
, 
maxOsId
);

2938 ià(*
Ãxt
 == ',') {

2939 
Ãxt
++;

2941 
sÿn
 = 
Ãxt
;

2946 
Ãxt
++;

2947 
	`SKIP_WS
(
Ãxt
);

2948 
sÿn
 = 
Ãxt
;

2949 
	`KMP_ASSERT2
((*
Ãxt
 >= '0') && (*next <= '9'), "badƒxplicit…roc†ist");

2950 
	`SKIP_DIGITS
(
Ãxt
);

2951 
’d
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2952 
	`KMP_ASSERT2
(
’d
 >= 0, "badƒxplicit…roc†ist");

2955 
¡ride
 = 1;

2956 
	`SKIP_WS
(
Ãxt
);

2957 ià(*
Ãxt
 == ':') {

2959 
sign
 = +1;

2960 
Ãxt
++;

2961 
	`SKIP_WS
(
Ãxt
);

2962 
sÿn
 = 
Ãxt
;

2963 ià(*
Ãxt
 == '-') {

2964 
sign
 = -1;

2965 
Ãxt
++;

2966 
	`SKIP_WS
(
Ãxt
);

2967 
sÿn
 = 
Ãxt
;

2969 
	`KMP_ASSERT2
((*
Ãxt
 >= '0') && (*next <= '9'), "badƒxplicit…roc†ist");

2970 
	`SKIP_DIGITS
(
Ãxt
);

2971 
¡ride
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2972 
	`KMP_ASSERT2
(
¡ride
 >= 0, "badƒxplicit…roc†ist");

2973 
¡ride
 *ğ
sign
;

2977 
	`KMP_ASSERT2
(
¡ride
 != 0, "badƒxplicit…roc†ist");

2978 ià(
¡ride
 > 0) {

2979 
	`KMP_ASSERT2
(
¡¬t
 <ğ
’d
, "badƒxplicit…roc†ist");

2981 
	`KMP_ASSERT2
(
¡¬t
 >ğ
’d
, "badƒxplicit…roc†ist");

2983 
	`KMP_ASSERT2
((
’d
 - 
¡¬t
è/ 
¡ride
 <= 65536, "badƒxplicit…roc†ist");

2986 ià(
¡ride
 > 0) {

2988 
	`ADD_MASK_OSID
(
¡¬t
, 
osId2Mask
, 
maxOsId
);

2989 
¡¬t
 +ğ
¡ride
;

2990 } 
¡¬t
 <ğ
’d
);

2993 
	`ADD_MASK_OSID
(
¡¬t
, 
osId2Mask
, 
maxOsId
);

2994 
¡¬t
 +ğ
¡ride
;

2995 } 
¡¬t
 >ğ
’d
);

2999 
	`SKIP_WS
(
Ãxt
);

3000 ià(*
Ãxt
 == ',') {

3001 
Ãxt
++;

3003 
sÿn
 = 
Ãxt
;

3006 *
out_numMasks
 = 
ÃxtNewMask
;

3007 ià(
ÃxtNewMask
 == 0) {

3008 *
out_masks
 = 
NULL
;

3009 
	`KMP_CPU_INTERNAL_FREE_ARRAY
(
ÃwMasks
, 
numNewMasks
);

3012 
	`KMP_CPU_ALLOC_ARRAY
((*
out_masks
), 
ÃxtNewMask
);

3013 
i
 = 0; i < 
ÃxtNewMask
; i++) {

3014 
kmp_affš_mask_t
 *
¤c
 = 
	`KMP_CPU_INDEX
(
ÃwMasks
, 
i
);

3015 
kmp_affš_mask_t
 *
de¡
 = 
	`KMP_CPU_INDEX
((*
out_masks
), 
i
);

3016 
	`KMP_CPU_COPY
(
de¡
, 
¤c
);

3018 
	`KMP_CPU_INTERNAL_FREE_ARRAY
(
ÃwMasks
, 
numNewMasks
);

3019 
	`KMP_CPU_FREE
(
sumMask
);

3020 
	}
}

3042 
	$__kmp_´oûss_sub¶aû_li¡
(cÚ¡ **
sÿn
,

3043 
kmp_affš_mask_t
 *
osId2Mask
,

3044 
maxOsId
, 
kmp_affš_mask_t
 *
‹mpMask
,

3045 *
£tSize
) {

3046 cÚ¡ *
Ãxt
;

3049 
¡¬t
, 
couÁ
, 
¡ride
, 
i
;

3052 
	`SKIP_WS
(*
sÿn
);

3053 
	`KMP_ASSERT2
((**
sÿn
 >= '0') && (**scan <= '9'), "badƒxplicit…laces†ist");

3054 
Ãxt
 = *
sÿn
;

3055 
	`SKIP_DIGITS
(
Ãxt
);

3056 
¡¬t
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

3057 
	`KMP_ASSERT
(
¡¬t
 >= 0);

3058 *
sÿn
 = 
Ãxt
;

3061 
	`SKIP_WS
(*
sÿn
);

3062 ià(**
sÿn
 == '}' || **scan == ',') {

3063 ià((
¡¬t
 > 
maxOsId
) ||

3064 (!
	`KMP_CPU_ISSET
(
¡¬t
, 
	`KMP_CPU_INDEX
(
osId2Mask
, start)))) {

3065 ià(
__kmp_affš™y_v”bo£
 ||

3066 (
__kmp_affš™y_w¬nšgs
 &&

3067 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

3068 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
¡¬t
);

3071 
	`KMP_CPU_UNION
(
‹mpMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
¡¬t
));

3072 (*
£tSize
)++;

3074 ià(**
sÿn
 == '}') {

3077 (*
sÿn
)++;

3080 
	`KMP_ASSERT2
(**
sÿn
 == ':', "badƒxplicit…laces†ist");

3081 (*
sÿn
)++;

3084 
	`SKIP_WS
(*
sÿn
);

3085 
	`KMP_ASSERT2
((**
sÿn
 >= '0') && (**scan <= '9'), "badƒxplicit…laces†ist");

3086 
Ãxt
 = *
sÿn
;

3087 
	`SKIP_DIGITS
(
Ãxt
);

3088 
couÁ
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

3089 
	`KMP_ASSERT
(
couÁ
 >= 0);

3090 *
sÿn
 = 
Ãxt
;

3093 
	`SKIP_WS
(*
sÿn
);

3094 ià(**
sÿn
 == '}' || **scan == ',') {

3095 
i
 = 0; i < 
couÁ
; i++) {

3096 ià((
¡¬t
 > 
maxOsId
) ||

3097 (!
	`KMP_CPU_ISSET
(
¡¬t
, 
	`KMP_CPU_INDEX
(
osId2Mask
, start)))) {

3098 ià(
__kmp_affš™y_v”bo£
 ||

3099 (
__kmp_affš™y_w¬nšgs
 &&

3100 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

3101 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
¡¬t
);

3105 
	`KMP_CPU_UNION
(
‹mpMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
¡¬t
));

3106 
¡¬t
++;

3107 (*
£tSize
)++;

3110 ià(**
sÿn
 == '}') {

3113 (*
sÿn
)++;

3116 
	`KMP_ASSERT2
(**
sÿn
 == ':', "badƒxplicit…laces†ist");

3117 (*
sÿn
)++;

3120 
sign
 = +1;

3122 
	`SKIP_WS
(*
sÿn
);

3123 ià(**
sÿn
 == '+') {

3124 (*
sÿn
)++;

3127 ià(**
sÿn
 == '-') {

3128 
sign
 *= -1;

3129 (*
sÿn
)++;

3134 
	`SKIP_WS
(*
sÿn
);

3135 
	`KMP_ASSERT2
((**
sÿn
 >= '0') && (**scan <= '9'), "badƒxplicit…laces†ist");

3136 
Ãxt
 = *
sÿn
;

3137 
	`SKIP_DIGITS
(
Ãxt
);

3138 
¡ride
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

3139 
	`KMP_ASSERT
(
¡ride
 >= 0);

3140 *
sÿn
 = 
Ãxt
;

3141 
¡ride
 *ğ
sign
;

3144 
	`SKIP_WS
(*
sÿn
);

3145 ià(**
sÿn
 == '}' || **scan == ',') {

3146 
i
 = 0; i < 
couÁ
; i++) {

3147 ià((
¡¬t
 > 
maxOsId
) ||

3148 (!
	`KMP_CPU_ISSET
(
¡¬t
, 
	`KMP_CPU_INDEX
(
osId2Mask
, start)))) {

3149 ià(
__kmp_affš™y_v”bo£
 ||

3150 (
__kmp_affš™y_w¬nšgs
 &&

3151 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

3152 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
¡¬t
);

3156 
	`KMP_CPU_UNION
(
‹mpMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
¡¬t
));

3157 
¡¬t
 +ğ
¡ride
;

3158 (*
£tSize
)++;

3161 ià(**
sÿn
 == '}') {

3164 (*
sÿn
)++;

3168 
	`KMP_ASSERT2
(0, "badƒxplicit…laces†ist");

3170 
	}
}

3172 
	$__kmp_´oûss_¶aû
(cÚ¡ **
sÿn
, 
kmp_affš_mask_t
 *
osId2Mask
,

3173 
maxOsId
, 
kmp_affš_mask_t
 *
‹mpMask
,

3174 *
£tSize
) {

3175 cÚ¡ *
Ãxt
;

3178 
	`SKIP_WS
(*
sÿn
);

3179 ià(**
sÿn
 == '{') {

3180 (*
sÿn
)++;

3181 
	`__kmp_´oûss_sub¶aû_li¡
(
sÿn
, 
osId2Mask
, 
maxOsId
, 
‹mpMask
, 
£tSize
);

3182 
	`KMP_ASSERT2
(**
sÿn
 == '}', "badƒxplicit…laces†ist");

3183 (*
sÿn
)++;

3184 } ià(**
sÿn
 == '!') {

3185 (*
sÿn
)++;

3186 
	`__kmp_´oûss_¶aû
(
sÿn
, 
osId2Mask
, 
maxOsId
, 
‹mpMask
, 
£tSize
);

3187 
	`KMP_CPU_COMPLEMENT
(
maxOsId
, 
‹mpMask
);

3188 } ià((**
sÿn
 >= '0') && (**scan <= '9')) {

3189 
Ãxt
 = *
sÿn
;

3190 
	`SKIP_DIGITS
(
Ãxt
);

3191 
num
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

3192 
	`KMP_ASSERT
(
num
 >= 0);

3193 ià((
num
 > 
maxOsId
) ||

3194 (!
	`KMP_CPU_ISSET
(
num
, 
	`KMP_CPU_INDEX
(
osId2Mask
,‚um)))) {

3195 ià(
__kmp_affš™y_v”bo£
 ||

3196 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

3197 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
num
);

3200 
	`KMP_CPU_UNION
(
‹mpMask
, 
	`KMP_CPU_INDEX
(
osId2Mask
, 
num
));

3201 (*
£tSize
)++;

3203 *
sÿn
 = 
Ãxt
;

3205 
	`KMP_ASSERT2
(0, "badƒxplicit…laces†ist");

3207 
	}
}

3210 
	$__kmp_affš™y_´oûss_¶aûli¡
(
kmp_affš_mask_t
 **
out_masks
,

3211 *
out_numMasks
,

3212 cÚ¡ *
¶aûli¡
,

3213 
kmp_affš_mask_t
 *
osId2Mask
,

3214 
maxOsId
) {

3215 
i
, 
j
, 
couÁ
, 
¡ride
, 
sign
;

3216 cÚ¡ *
sÿn
 = 
¶aûli¡
;

3217 cÚ¡ *
Ãxt
 = 
¶aûli¡
;

3219 
numNewMasks
 = 2;

3220 
	`KMP_CPU_INTERNAL_ALLOC_ARRAY
(
ÃwMasks
, 
numNewMasks
);

3221 
ÃxtNewMask
 = 0;

3226 
kmp_affš_mask_t
 *
‹mpMask
;

3227 
kmp_affš_mask_t
 *
´eviousMask
;

3228 
	`KMP_CPU_ALLOC
(
‹mpMask
);

3229 
	`KMP_CPU_ZERO
(
‹mpMask
);

3230 
	`KMP_CPU_ALLOC
(
´eviousMask
);

3231 
	`KMP_CPU_ZERO
(
´eviousMask
);

3232 
£tSize
 = 0;

3235 
	`__kmp_´oûss_¶aû
(&
sÿn
, 
osId2Mask
, 
maxOsId
, 
‹mpMask
, &
£tSize
);

3238 
	`SKIP_WS
(
sÿn
);

3239 ià(*
sÿn
 == '\0' || *scan == ',') {

3240 ià(
£tSize
 > 0) {

3241 
	`ADD_MASK
(
‹mpMask
);

3243 
	`KMP_CPU_ZERO
(
‹mpMask
);

3244 
£tSize
 = 0;

3245 ià(*
sÿn
 == '\0') {

3248 
sÿn
++;

3252 
	`KMP_ASSERT2
(*
sÿn
 == ':', "badƒxplicit…laces†ist");

3253 
sÿn
++;

3256 
	`SKIP_WS
(
sÿn
);

3257 
	`KMP_ASSERT2
((*
sÿn
 >= '0') && (*scan <= '9'), "badƒxplicit…laces†ist");

3258 
Ãxt
 = 
sÿn
;

3259 
	`SKIP_DIGITS
(
Ãxt
);

3260 
couÁ
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

3261 
	`KMP_ASSERT
(
couÁ
 >= 0);

3262 
sÿn
 = 
Ãxt
;

3265 
	`SKIP_WS
(
sÿn
);

3266 ià(*
sÿn
 == '\0' || *scan == ',') {

3267 
¡ride
 = +1;

3269 
	`KMP_ASSERT2
(*
sÿn
 == ':', "badƒxplicit…laces†ist");

3270 
sÿn
++;

3273 
sign
 = +1;

3275 
	`SKIP_WS
(
sÿn
);

3276 ià(*
sÿn
 == '+') {

3277 
sÿn
++;

3280 ià(*
sÿn
 == '-') {

3281 
sign
 *= -1;

3282 
sÿn
++;

3287 
	`SKIP_WS
(
sÿn
);

3288 
	`KMP_ASSERT2
((*
sÿn
 >= '0') && (*scan <= '9'), "badƒxplicit…laces†ist");

3289 
Ãxt
 = 
sÿn
;

3290 
	`SKIP_DIGITS
(
Ãxt
);

3291 
¡ride
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

3292 
	`KMP_DEBUG_ASSERT
(
¡ride
 >= 0);

3293 
sÿn
 = 
Ãxt
;

3294 
¡ride
 *ğ
sign
;

3298 
i
 = 0; i < 
couÁ
; i++) {

3299 ià(
£tSize
 == 0) {

3303 
	`KMP_CPU_COPY
(
´eviousMask
, 
‹mpMask
);

3304 
	`ADD_MASK
(
´eviousMask
);

3305 
	`KMP_CPU_ZERO
(
‹mpMask
);

3306 
£tSize
 = 0;

3307 
	`KMP_CPU_SET_ITERATE
(
j
, 
´eviousMask
) {

3308 ià(!
	`KMP_CPU_ISSET
(
j
, 
´eviousMask
)) {

3311 ià((
j
 + 
¡ride
 > 
maxOsId
) || (j + stride < 0) ||

3312 (!
	`KMP_CPU_ISSET
(
j
, 
__kmp_affš_fuÎMask
)) ||

3313 (!
	`KMP_CPU_ISSET
(
j
 + 
¡ride
,

3314 
	`KMP_CPU_INDEX
(
osId2Mask
, 
j
 + 
¡ride
)))) {

3315 ià((
__kmp_affš™y_v”bo£
 ||

3316 (
__kmp_affš™y_w¬nšgs
 &&

3317 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) &&

3318 
i
 < 
couÁ
 - 1) {

3319 
	`KMP_WARNING
(
AffIgnÜeInv®idProcID
, 
j
 + 
¡ride
);

3323 
	`KMP_CPU_SET
(
j
 + 
¡ride
, 
‹mpMask
);

3324 
£tSize
++;

3327 
	`KMP_CPU_ZERO
(
‹mpMask
);

3328 
£tSize
 = 0;

3331 
	`SKIP_WS
(
sÿn
);

3332 ià(*
sÿn
 == '\0') {

3335 ià(*
sÿn
 == ',') {

3336 
sÿn
++;

3340 
	`KMP_ASSERT2
(0, "badƒxplicit…laces†ist");

3343 *
out_numMasks
 = 
ÃxtNewMask
;

3344 ià(
ÃxtNewMask
 == 0) {

3345 *
out_masks
 = 
NULL
;

3346 
	`KMP_CPU_INTERNAL_FREE_ARRAY
(
ÃwMasks
, 
numNewMasks
);

3349 
	`KMP_CPU_ALLOC_ARRAY
((*
out_masks
), 
ÃxtNewMask
);

3350 
	`KMP_CPU_FREE
(
‹mpMask
);

3351 
	`KMP_CPU_FREE
(
´eviousMask
);

3352 
i
 = 0; i < 
ÃxtNewMask
; i++) {

3353 
kmp_affš_mask_t
 *
¤c
 = 
	`KMP_CPU_INDEX
(
ÃwMasks
, 
i
);

3354 
kmp_affš_mask_t
 *
de¡
 = 
	`KMP_CPU_INDEX
((*
out_masks
), 
i
);

3355 
	`KMP_CPU_COPY
(
de¡
, 
¤c
);

3357 
	`KMP_CPU_INTERNAL_FREE_ARRAY
(
ÃwMasks
, 
numNewMasks
);

3358 
	}
}

3360 #undeà
ADD_MASK


3361 #undeà
ADD_MASK_OSID


3363 #ià
KMP_USE_HWLOC


3364 
	$__kmp_hwloc_sk_PUs_obj
(
hwloc_tİŞogy_t
 
t
, 
hwloc_obj_t
 
o
) {

3366 
sk³d
 = 0;

3367 
hwloc_obj_t
 
hT
 = 
NULL
;

3368 
N
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(
t
, 
o
, 
HWLOC_OBJ_PU
, &
hT
);

3369 
i
 = 0; i < 
N
; ++i) {

3370 
	`KMP_DEBUG_ASSERT
(
hT
);

3371 
idx
 = 
hT
->
os_šdex
;

3372 ià(
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
)) {

3373 
	`KMP_CPU_CLR
(
idx
, 
__kmp_affš_fuÎMask
);

3374 
	`KC_TRACE
(200, ("KMP_HW_SUBSET: sk³d…roø%d\n", 
idx
));

3375 ++
sk³d
;

3377 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(
t
, 
HWLOC_OBJ_PU
, hT);

3379  
sk³d
;

3380 
	}
}

3382 
	$__kmp_hwloc_obj_has_PUs
(
hwloc_tİŞogy_t
 
t
, 
hwloc_obj_t
 
o
) {

3384 
hwloc_obj_t
 
hT
 = 
NULL
;

3385 
N
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(
t
, 
o
, 
HWLOC_OBJ_PU
, &
hT
);

3386 
i
 = 0; i < 
N
; ++i) {

3387 
	`KMP_DEBUG_ASSERT
(
hT
);

3388 
idx
 = 
hT
->
os_šdex
;

3389 ià(
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
))

3391 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(
t
, 
HWLOC_OBJ_PU
, hT);

3394 
	}
}

3397 
	$__kmp_­¶y_th»ad_¶aûs
(
AddrUnsPaœ
 **
pAddr
, 
d•th
) {

3398 
AddrUnsPaœ
 *
ÃwAddr
;

3399 ià(
__kmp_hws_»que¡ed
 == 0)

3400 
_ex™
;

3401 #ià
KMP_USE_HWLOC


3402 ià(
__kmp_affš™y_di¥©ch
->
	`g‘_­i_ty³
(è=ğ
KMPAffš™y
::
HWLOC
) {

3406 
hwloc_tİŞogy_t
 

 = 
__kmp_hwloc_tİŞogy
;

3407 
nS
 = 0, 
nN
 = 0, 
nL
 = 0, 
nC
 = 0,

3408 
nT
 = 0;

3409 
nCr
 = 0, 
nTr
 = 0;

3410 
nPkg
 = 0, 
nCo
 = 0, 
n_Ãw
 = 0, 
n_Şd
 = 0, 
nCpP
 = 0, 
nTpC
 = 0;

3411 
hwloc_obj_t
 
hT
, 
hC
, 
hL
, 
hN
, 
hS
;

3412 
L2d•th
, 
idx
;

3415 
numa_suµÜt
 = 0, 
te_suµÜt
 = 0;

3416 ià(
__kmp_pu_os_idx
)

3417 
hT
 = 
	`hwloc_g‘_pu_obj_by_os_šdex
(

,

3418 
__kmp_pu_os_idx
[
__kmp_ava_´oc
 - 1]);

3420 
hT
 = 
	`hwloc_g‘_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, 
__kmp_ava_´oc
 - 1);

3421 ià(
hT
 =ğ
NULL
) {

3422 
	`KMP_WARNING
(
AffHWSub£tUnsuµÜ‹d
);

3423 
_ex™
;

3426 
hN
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_ty³
(

, 
HWLOC_OBJ_NUMANODE
, 
hT
);

3427 
hS
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, 
hT
);

3428 ià(
hN
 !ğ
NULL
 && hN->
d•th
 > 
hS
->depth) {

3429 
numa_suµÜt
 = 1;

3430 } ià(
__kmp_hws_node
.
num
 > 0) {

3432 
	`KMP_WARNING
(
AffHWSub£tUnsuµÜ‹d
);

3433 
_ex™
;

3436 
L2d•th
 = 
	`hwloc_g‘_ÿche_ty³_d•th
(

, 2, 
HWLOC_OBJ_CACHE_UNIFIED
);

3437 
hL
 = 
	`hwloc_g‘_ªû¡Ü_obj_by_d•th
(

, 
L2d•th
, 
hT
);

3438 ià(
hL
 !ğ
NULL
 &&

3439 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
, 
HWLOC_OBJ_CORE
, &
hC
) > 1) {

3440 
te_suµÜt
 = 1;

3441 } ià(
__kmp_hws_te
.
num
 > 0) {

3442 ià(
__kmp_hws_cÜe
.
num
 == 0) {

3443 
__kmp_hws_cÜe
 = 
__kmp_hws_te
;

3444 
__kmp_hws_te
.
num
 = 0;

3447 
	`KMP_WARNING
(
AffHWSub£tInv®id
);

3448 
_ex™
;

3454 ià(
__kmp_hws_sock‘
.
num
 == 0)

3455 
__kmp_hws_sock‘
.
num
 = 
nPackages
;

3456 ià(
__kmp_hws_sock‘
.
off£t
 >ğ
nPackages
) {

3457 
	`KMP_WARNING
(
AffHWSub£tMªySock‘s
);

3458 
_ex™
;

3460 ià(
numa_suµÜt
) {

3461 
hN
 = 
NULL
;

3462 
NN
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hS
, 
HWLOC_OBJ_NUMANODE
,

3463 &
hN
);

3464 ià(
__kmp_hws_node
.
num
 == 0)

3465 
__kmp_hws_node
.
num
 = 
NN
;

3466 ià(
__kmp_hws_node
.
off£t
 >ğ
NN
) {

3467 
	`KMP_WARNING
(
AffHWSub£tMªyNodes
);

3468 
_ex™
;

3470 ià(
te_suµÜt
) {

3472 
NL
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
hN
, 
L2d•th
, &
hL
);

3473 ià(
__kmp_hws_te
.
num
 == 0) {

3474 
__kmp_hws_te
.
num
 = 
NL
 + 1;

3476 ià(
__kmp_hws_te
.
off£t
 >ğ
NL
) {

3477 
	`KMP_WARNING
(
AffHWSub£tMªyTes
);

3478 
_ex™
;

3480 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
, 
HWLOC_OBJ_CORE
,

3481 &
hC
);

3482 ià(
__kmp_hws_cÜe
.
num
 == 0)

3483 
__kmp_hws_cÜe
.
num
 = 
NC
;

3484 ià(
__kmp_hws_cÜe
.
off£t
 >ğ
NC
) {

3485 
	`KMP_WARNING
(
AffHWSub£tMªyCÜes
);

3486 
_ex™
;

3489 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hN
, 
HWLOC_OBJ_CORE
,

3490 &
hC
);

3491 ià(
__kmp_hws_cÜe
.
num
 == 0)

3492 
__kmp_hws_cÜe
.
num
 = 
NC
;

3493 ià(
__kmp_hws_cÜe
.
off£t
 >ğ
NC
) {

3494 
	`KMP_WARNING
(
AffHWSub£tMªyCÜes
);

3495 
_ex™
;

3499 ià(
te_suµÜt
) {

3501 
NL
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
hS
, 
L2d•th
, &
hL
);

3502 ià(
__kmp_hws_te
.
num
 == 0)

3503 
__kmp_hws_te
.
num
 = 
NL
;

3504 ià(
__kmp_hws_te
.
off£t
 >ğ
NL
) {

3505 
	`KMP_WARNING
(
AffHWSub£tMªyTes
);

3506 
_ex™
;

3508 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
, 
HWLOC_OBJ_CORE
,

3509 &
hC
);

3510 ià(
__kmp_hws_cÜe
.
num
 == 0)

3511 
__kmp_hws_cÜe
.
num
 = 
NC
;

3512 ià(
__kmp_hws_cÜe
.
off£t
 >ğ
NC
) {

3513 
	`KMP_WARNING
(
AffHWSub£tMªyCÜes
);

3514 
_ex™
;

3517 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hS
, 
HWLOC_OBJ_CORE
,

3518 &
hC
);

3519 ià(
__kmp_hws_cÜe
.
num
 == 0)

3520 
__kmp_hws_cÜe
.
num
 = 
NC
;

3521 ià(
__kmp_hws_cÜe
.
off£t
 >ğ
NC
) {

3522 
	`KMP_WARNING
(
AffHWSub£tMªyCÜes
);

3523 
_ex™
;

3527 ià(
__kmp_hws_´oc
.
num
 == 0)

3528 
__kmp_hws_´oc
.
num
 = 
__kmp_nTh»adsP”CÜe
;

3529 ià(
__kmp_hws_´oc
.
off£t
 >ğ
__kmp_nTh»adsP”CÜe
) {

3530 
	`KMP_WARNING
(
AffHWSub£tMªyProcs
);

3531 
_ex™
;

3535 ià(
pAddr
)

3536 
ÃwAddr
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
((AddrUnsPair) *

3537 
__kmp_ava_´oc
);

3539 
hS
 = 
NULL
;

3540 
NP
 = 
	`hwloc_g‘_nbobjs_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
);

3541 
s
 = 0; s < 
NP
; ++s) {

3543 
hS
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PACKAGE
, hS);

3544 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hS
))

3546 ++
nS
;

3547 ià(
nS
 <ğ
__kmp_hws_sock‘
.
off£t
 ||

3548 
nS
 > 
__kmp_hws_sock‘
.
num
 + __kmp_hws_sock‘.
off£t
) {

3549 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hS
);

3552 
nCr
 = 0;

3555 ià(
numa_suµÜt
) {

3556 
nN
 = 0;

3557 
hN
 = 
NULL
;

3559 
NN
 =

3560 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hS
, 
HWLOC_OBJ_NUMANODE
, &
hN
);

3561 
n
 = 0;‚ < 
NN
; ++n) {

3563 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hN
)) {

3564 
hN
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_NUMANODE
, hN);

3567 ++
nN
;

3568 ià(
nN
 <ğ
__kmp_hws_node
.
off£t
 ||

3569 
nN
 > 
__kmp_hws_node
.
num
 + __kmp_hws_node.
off£t
) {

3571 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hN
);

3572 
hN
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_NUMANODE
, hN);

3576 ià(
te_suµÜt
) {

3577 
nL
 = 0;

3578 
hL
 = 
NULL
;

3579 
NL
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
hN
, 
L2d•th
, &
hL
);

3580 
l
 = 0;† < 
NL
; ++l) {

3582 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hL
)) {

3583 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3586 ++
nL
;

3587 ià(
nL
 <ğ
__kmp_hws_te
.
off£t
 ||

3588 
nL
 > 
__kmp_hws_te
.
num
 + __kmp_hws_te.
off£t
) {

3590 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hL
);

3591 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3595 
nC
 = 0;

3596 
hC
 = 
NULL
;

3598 
NC
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
,

3599 
HWLOC_OBJ_CORE
, &
hC
);

3600 
c
 = 0; c < 
NC
; ++c) {

3602 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hC
)) {

3603 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3606 ++
nC
;

3607 ià(
nC
 <ğ
__kmp_hws_cÜe
.
off£t
 ||

3608 
nC
 > 
__kmp_hws_cÜe
.
num
 + __kmp_hws_cÜe.
off£t
) {

3610 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hC
);

3611 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3615 
nT
 = 0;

3616 
nTr
 = 0;

3617 
hT
 = 
NULL
;

3619 
NT
 = 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hC
,

3620 
HWLOC_OBJ_PU
, &
hT
);

3621 
t
 = 0; < 
NT
; ++t) {

3623 
idx
 = 
hT
->
os_šdex
;

3624 ià(!
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
)) {

3625 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3628 ++
nT
;

3629 ià(
nT
 <ğ
__kmp_hws_´oc
.
off£t
 ||

3630 
nT
 > 
__kmp_hws_´oc
.
num
 + __kmp_hws_´oc.
off£t
) {

3632 
	`KMP_CPU_CLR
(
idx
, 
__kmp_affš_fuÎMask
);

3633 ++
n_Şd
;

3634 
	`KC_TRACE
(200, ("KMP_HW_SUBSET: sk³d…roø%d\n", 
idx
));

3635 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3638 ++
nTr
;

3639 ià(
pAddr
)

3640 
ÃwAddr
[
n_Ãw
] = (*
pAddr
)[
n_Şd
];

3641 ++
n_Ãw
;

3642 ++
n_Şd
;

3643 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3645 ià(
nTr
 > 0) {

3646 ++
nCr
;

3647 ++
nCo
;

3648 ià(
nTr
 > 
nTpC
)

3649 
nTpC
 = 
nTr
;

3651 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3653 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3657 
nC
 = 0;

3658 
hC
 = 
NULL
;

3660 
NC
 =

3661 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hN
, 
HWLOC_OBJ_CORE
, &
hC
);

3662 
c
 = 0; c < 
NC
; ++c) {

3664 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hC
)) {

3665 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3668 ++
nC
;

3669 ià(
nC
 <ğ
__kmp_hws_cÜe
.
off£t
 ||

3670 
nC
 > 
__kmp_hws_cÜe
.
num
 + __kmp_hws_cÜe.
off£t
) {

3672 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hC
);

3673 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3677 
nT
 = 0;

3678 
nTr
 = 0;

3679 
hT
 = 
NULL
;

3680 
NT
 =

3681 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hC
, 
HWLOC_OBJ_PU
, &
hT
);

3682 
t
 = 0; < 
NT
; ++t) {

3684 
idx
 = 
hT
->
os_šdex
;

3685 ià(!
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
)) {

3686 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3689 ++
nT
;

3690 ià(
nT
 <ğ
__kmp_hws_´oc
.
off£t
 ||

3691 
nT
 > 
__kmp_hws_´oc
.
num
 + __kmp_hws_´oc.
off£t
) {

3693 
	`KMP_CPU_CLR
(
idx
, 
__kmp_affš_fuÎMask
);

3694 ++
n_Şd
;

3695 
	`KC_TRACE
(200, ("KMP_HW_SUBSET: sk³d…roø%d\n", 
idx
));

3696 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3699 ++
nTr
;

3700 ià(
pAddr
)

3701 
ÃwAddr
[
n_Ãw
] = (*
pAddr
)[
n_Şd
];

3702 ++
n_Ãw
;

3703 ++
n_Şd
;

3704 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3706 ià(
nTr
 > 0) {

3707 ++
nCr
;

3708 ++
nCo
;

3709 ià(
nTr
 > 
nTpC
)

3710 
nTpC
 = 
nTr
;

3712 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3715 
hN
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_NUMANODE
, hN);

3719 ià(
te_suµÜt
) {

3720 
nL
 = 0;

3721 
hL
 = 
NULL
;

3723 
NL
 = 
	`__kmp_hwloc_couÁ_chd»n_by_d•th
(

, 
hS
, 
L2d•th
, &
hL
);

3724 
l
 = 0;† < 
NL
; ++l) {

3726 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hL
)) {

3727 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3730 ++
nL
;

3731 ià(
nL
 <ğ
__kmp_hws_te
.
off£t
 ||

3732 
nL
 > 
__kmp_hws_te
.
num
 + __kmp_hws_te.
off£t
) {

3734 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hL
);

3735 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3739 
nC
 = 0;

3740 
hC
 = 
NULL
;

3742 
NC
 =

3743 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hL
, 
HWLOC_OBJ_CORE
, &
hC
);

3744 
c
 = 0; c < 
NC
; ++c) {

3746 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hC
)) {

3747 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3750 ++
nC
;

3751 ià(
nC
 <ğ
__kmp_hws_cÜe
.
off£t
 ||

3752 
nC
 > 
__kmp_hws_cÜe
.
num
 + __kmp_hws_cÜe.
off£t
) {

3754 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hC
);

3755 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3759 
nT
 = 0;

3760 
nTr
 = 0;

3761 
hT
 = 
NULL
;

3763 
NT
 =

3764 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hC
, 
HWLOC_OBJ_PU
, &
hT
);

3765 
t
 = 0; < 
NT
; ++t) {

3767 
idx
 = 
hT
->
os_šdex
;

3768 ià(!
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
)) {

3769 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3772 ++
nT
;

3773 ià(
nT
 <ğ
__kmp_hws_´oc
.
off£t
 ||

3774 
nT
 > 
__kmp_hws_´oc
.
num
 + __kmp_hws_´oc.
off£t
) {

3776 
	`KMP_CPU_CLR
(
idx
, 
__kmp_affš_fuÎMask
);

3777 ++
n_Şd
;

3778 
	`KC_TRACE
(200, ("KMP_HW_SUBSET: sk³d…roø%d\n", 
idx
));

3779 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3782 ++
nTr
;

3783 ià(
pAddr
)

3784 
ÃwAddr
[
n_Ãw
] = (*
pAddr
)[
n_Şd
];

3785 ++
n_Ãw
;

3786 ++
n_Şd
;

3787 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3789 ià(
nTr
 > 0) {

3790 ++
nCr
;

3791 ++
nCo
;

3792 ià(
nTr
 > 
nTpC
)

3793 
nTpC
 = 
nTr
;

3795 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3797 
hL
 = 
	`hwloc_g‘_Ãxt_obj_by_d•th
(

, 
L2d•th
, hL);

3801 
nC
 = 0;

3802 
hC
 = 
NULL
;

3804 
NC
 =

3805 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hS
, 
HWLOC_OBJ_CORE
, &
hC
);

3806 
c
 = 0; c < 
NC
; ++c) {

3808 ià(!
	`__kmp_hwloc_obj_has_PUs
(

, 
hC
)) {

3809 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3812 ++
nC
;

3813 ià(
nC
 <ğ
__kmp_hws_cÜe
.
off£t
 ||

3814 
nC
 > 
__kmp_hws_cÜe
.
num
 + __kmp_hws_cÜe.
off£t
) {

3816 
n_Şd
 +ğ
	`__kmp_hwloc_sk_PUs_obj
(

, 
hC
);

3817 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3821 
nT
 = 0;

3822 
nTr
 = 0;

3823 
hT
 = 
NULL
;

3825 
NT
 =

3826 
	`__kmp_hwloc_couÁ_chd»n_by_ty³
(

, 
hC
, 
HWLOC_OBJ_PU
, &
hT
);

3827 
t
 = 0; < 
NT
; ++t) {

3829 
idx
 = 
hT
->
os_šdex
;

3830 ià(!
	`KMP_CPU_ISSET
(
idx
, 
__kmp_affš_fuÎMask
)) {

3831 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3834 ++
nT
;

3835 ià(
nT
 <ğ
__kmp_hws_´oc
.
off£t
 ||

3836 
nT
 > 
__kmp_hws_´oc
.
num
 + __kmp_hws_´oc.
off£t
) {

3838 
	`KMP_CPU_CLR
(
idx
, 
__kmp_affš_fuÎMask
);

3839 ++
n_Şd
;

3840 
	`KC_TRACE
(200, ("KMP_HW_SUBSET: sk³d…roø%d\n", 
idx
));

3841 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3844 ++
nTr
;

3845 ià(
pAddr
)

3846 
ÃwAddr
[
n_Ãw
] = (*
pAddr
)[
n_Şd
];

3847 ++
n_Ãw
;

3848 ++
n_Şd
;

3849 
hT
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_PU
, hT);

3851 ià(
nTr
 > 0) {

3852 ++
nCr
;

3853 ++
nCo
;

3854 ià(
nTr
 > 
nTpC
)

3855 
nTpC
 = 
nTr
;

3857 
hC
 = 
	`hwloc_g‘_Ãxt_obj_by_ty³
(

, 
HWLOC_OBJ_CORE
, hC);

3861 ià(
nCr
 > 0) {

3862 ++
nPkg
;

3863 ià(
nCr
 > 
nCpP
)

3864 
nCpP
 = 
nCr
;

3869 
	`KMP_DEBUG_ASSERT
(
n_Şd
 =ğ
__kmp_ava_´oc
);

3870 
	`KMP_DEBUG_ASSERT
(
nPkg
 > 0);

3871 
	`KMP_DEBUG_ASSERT
(
nCpP
 > 0);

3872 
	`KMP_DEBUG_ASSERT
(
nTpC
 > 0);

3873 
	`KMP_DEBUG_ASSERT
(
nCo
 > 0);

3874 
	`KMP_DEBUG_ASSERT
(
nPkg
 <ğ
nPackages
);

3875 
	`KMP_DEBUG_ASSERT
(
nCpP
 <ğ
nCÜesP”Pkg
);

3876 
	`KMP_DEBUG_ASSERT
(
nTpC
 <ğ
__kmp_nTh»adsP”CÜe
);

3877 
	`KMP_DEBUG_ASSERT
(
nCo
 <ğ
__kmp_ncÜes
);

3879 
nPackages
 = 
nPkg
;

3880 
nCÜesP”Pkg
 = 
nCpP
;

3881 
__kmp_nTh»adsP”CÜe
 = 
nTpC
;

3882 
__kmp_ava_´oc
 = 
n_Ãw
;

3883 
__kmp_ncÜes
 = 
nCo
;

3888 
n_Şd
 = 0, 
n_Ãw
 = 0, 
´oc_num
 = 0;

3889 ià(
__kmp_hws_node
.
num
 > 0 || 
__kmp_hws_te
.num > 0) {

3890 
	`KMP_WARNING
(
AffHWSub£tNoHWLOC
);

3891 
_ex™
;

3893 ià(
__kmp_hws_sock‘
.
num
 == 0)

3894 
__kmp_hws_sock‘
.
num
 = 
nPackages
;

3895 ià(
__kmp_hws_cÜe
.
num
 == 0)

3896 
__kmp_hws_cÜe
.
num
 = 
nCÜesP”Pkg
;

3897 ià(
__kmp_hws_´oc
.
num
 =ğ0 || __kmp_hws_´oc.num > 
__kmp_nTh»adsP”CÜe
)

3898 
__kmp_hws_´oc
.
num
 = 
__kmp_nTh»adsP”CÜe
;

3899 ià(!
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

3900 
	`KMP_WARNING
(
AffHWSub£tNÚUnifÜm
);

3901 
_ex™
;

3903 ià(
d•th
 > 3) {

3904 
	`KMP_WARNING
(
AffHWSub£tNÚTh»eLev–
);

3905 
_ex™
;

3907 ià(
__kmp_hws_sock‘
.
off£t
 + __kmp_hws_sock‘.
num
 > 
nPackages
) {

3908 
	`KMP_WARNING
(
AffHWSub£tMªySock‘s
);

3909 
_ex™
;

3911 ià(
__kmp_hws_cÜe
.
off£t
 + __kmp_hws_cÜe.
num
 > 
nCÜesP”Pkg
) {

3912 
	`KMP_WARNING
(
AffHWSub£tMªyCÜes
);

3913 
_ex™
;

3916 ià(
pAddr
)

3917 
ÃwAddr
 = (
AddrUnsPaœ
 *)
	`__kmp_®loÿ‹
(

3918 (
AddrUnsPaœ
è* 
__kmp_hws_sock‘
.
num
 * 
__kmp_hws_cÜe
.num *

3919 
__kmp_hws_´oc
.
num
);

3920 
i
 = 0; i < 
nPackages
; ++i) {

3921 ià(
i
 < 
__kmp_hws_sock‘
.
off£t
 ||

3922 
i
 >ğ
__kmp_hws_sock‘
.
off£t
 + __kmp_hws_sock‘.
num
) {

3924 
n_Şd
 +ğ
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
;

3925 ià(
__kmp_pu_os_idx
 !ğ
NULL
) {

3927 
j
 = 0; j < 
nCÜesP”Pkg
; ++j) {

3928 
k
 = 0; k < 
__kmp_nTh»adsP”CÜe
; ++k) {

3929 
	`KMP_CPU_CLR
(
__kmp_pu_os_idx
[
´oc_num
], 
__kmp_affš_fuÎMask
);

3930 ++
´oc_num
;

3936 
j
 = 0; j < 
nCÜesP”Pkg
; ++j) {

3937 ià(
j
 < 
__kmp_hws_cÜe
.
off£t
 ||

3938 
j
 >ğ
__kmp_hws_cÜe
.
off£t
 +

3939 
__kmp_hws_cÜe
.
num
) {

3940 
n_Şd
 +ğ
__kmp_nTh»adsP”CÜe
;

3941 ià(
__kmp_pu_os_idx
 !ğ
NULL
) {

3942 
k
 = 0; k < 
__kmp_nTh»adsP”CÜe
; ++k) {

3943 
	`KMP_CPU_CLR
(
__kmp_pu_os_idx
[
´oc_num
], 
__kmp_affš_fuÎMask
);

3944 ++
´oc_num
;

3949 
k
 = 0; k < 
__kmp_nTh»adsP”CÜe
; ++k) {

3950 ià(
k
 < 
__kmp_hws_´oc
.
num
) {

3951 ià(
pAddr
)

3952 
ÃwAddr
[
n_Ãw
] = (*
pAddr
)[
n_Şd
];

3953 
n_Ãw
++;

3955 ià(
__kmp_pu_os_idx
 !ğ
NULL
)

3956 
	`KMP_CPU_CLR
(
__kmp_pu_os_idx
[
´oc_num
], 
__kmp_affš_fuÎMask
);

3958 
n_Şd
++;

3959 ++
´oc_num
;

3965 
	`KMP_DEBUG_ASSERT
(
n_Şd
 =ğ
nPackages
 * 
nCÜesP”Pkg
 * 
__kmp_nTh»adsP”CÜe
);

3966 
	`KMP_DEBUG_ASSERT
(
n_Ãw
 ==

3967 
__kmp_hws_sock‘
.
num
 * 
__kmp_hws_cÜe
.num *

3968 
__kmp_hws_´oc
.
num
);

3969 
nPackages
 = 
__kmp_hws_sock‘
.
num
;

3970 
nCÜesP”Pkg
 = 
__kmp_hws_cÜe
.
num
;

3971 
__kmp_nTh»adsP”CÜe
 = 
__kmp_hws_´oc
.
num
;

3972 
__kmp_ava_´oc
 = 
n_Ãw
;

3973 
__kmp_ncÜes
 = 
nPackages
 * 
__kmp_hws_cÜe
.
num
;

3975 ià(
pAddr
) {

3976 
	`__kmp_ä“
(*
pAddr
);

3977 *
pAddr
 = 
ÃwAddr
;

3979 ià(
__kmp_affš™y_v”bo£
) {

3980 
m
[
KMP_AFFIN_MASK_PRINT_LEN
];

3981 
	`__kmp_affš™y_´št_mask
(
m
, 
KMP_AFFIN_MASK_PRINT_LEN
,

3982 
__kmp_affš_fuÎMask
);

3983 ià(
__kmp_affš™y_»¥eù_mask
) {

3984 
	`KMP_INFORM
(
In™OSProcS‘Re¥eù
, "KMP_HW_SUBSET", 
m
);

3986 
	`KMP_INFORM
(
In™OSProcS‘NÙRe¥eù
, "KMP_HW_SUBSET", 
m
);

3988 
	`KMP_INFORM
(
AvaabËOSProc
, "KMP_HW_SUBSET", 
__kmp_ava_´oc
);

3989 
kmp_¡r_buf_t
 
buf
;

3990 
	`__kmp_¡r_buf_š™
(&
buf
);

3991 
	`__kmp_¡r_buf_´št
(&
buf
, "%d", 
nPackages
);

3992 
	`KMP_INFORM
(
TİŞogyExŒa
, "KMP_HW_SUBSET", 
buf
.
¡r
, 
nCÜesP”Pkg
,

3993 
__kmp_nTh»adsP”CÜe
, 
__kmp_ncÜes
);

3994 
	`__kmp_¡r_buf_ä“
(&
buf
);

3996 
_ex™
:

3997 ià(
__kmp_pu_os_idx
 !ğ
NULL
) {

3998 
	`__kmp_ä“
(
__kmp_pu_os_idx
);

3999 
__kmp_pu_os_idx
 = 
NULL
;

4001 
	}
}

4005 
	$__kmp_affš™y_fšd_cÜe_Ëv–
(cÚ¡ 
AddrUnsPaœ
 *
add»ss2os
,

4006 
Årocs
, 
bÙtom_Ëv–
) {

4007 
cÜe_Ëv–
 = 0;

4009 
i
 = 0; i < 
Årocs
; i++) {

4010 
j
 = 
bÙtom_Ëv–
; j > 0; j--) {

4011 ià(
add»ss2os
[
i
].
fœ¡
.
Ïb–s
[
j
] > 0) {

4012 ià(
cÜe_Ëv–
 < (
j
 - 1)) {

4013 
cÜe_Ëv–
 = 
j
 - 1;

4018  
cÜe_Ëv–
;

4019 
	}
}

4022 
	$__kmp_affš™y_compu‹_ncÜes
(cÚ¡ 
AddrUnsPaœ
 *
add»ss2os
,

4023 
Årocs
, 
bÙtom_Ëv–
,

4024 
cÜe_Ëv–
) {

4025 
ncÜes
 = 0;

4026 
i
, 
j
;

4028 
j
 = 
bÙtom_Ëv–
;

4029 
i
 = 0; i < 
Årocs
; i++) {

4030 
j
 = 
bÙtom_Ëv–
; j > 
cÜe_Ëv–
; j--) {

4031 ià((
i
 + 1è< 
Årocs
) {

4032 ià(
add»ss2os
[
i
 + 1].
fœ¡
.
Ïb–s
[
j
] > 0) {

4037 ià(
j
 =ğ
cÜe_Ëv–
) {

4038 
ncÜes
++;

4041 ià(
j
 > 
cÜe_Ëv–
) {

4044 
ncÜes
++;

4046  
ncÜes
;

4047 
	}
}

4050 
	$__kmp_affš™y_fšd_cÜe
(cÚ¡ 
AddrUnsPaœ
 *
add»ss2os
, 
´oc
,

4051 
bÙtom_Ëv–
, 
cÜe_Ëv–
) {

4052  
	`__kmp_affš™y_compu‹_ncÜes
(
add»ss2os
, 
´oc
 + 1, 
bÙtom_Ëv–
,

4053 
cÜe_Ëv–
) -

4055 
	}
}

4059 
	$__kmp_affš™y_max_´oc_³r_cÜe
(cÚ¡ 
AddrUnsPaœ
 *
add»ss2os
,

4060 
Årocs
, 
bÙtom_Ëv–
,

4061 
cÜe_Ëv–
) {

4062 
max´oı”cÜe
 = 0;

4064 ià(
cÜe_Ëv–
 < 
bÙtom_Ëv–
) {

4065 
i
 = 0; i < 
Årocs
; i++) {

4066 
³rcÜe
 = 
add»ss2os
[
i
].
fœ¡
.
Ïb–s
[
cÜe_Ëv–
 + 1] + 1;

4068 ià(
³rcÜe
 > 
max´oı”cÜe
) {

4069 
max´oı”cÜe
 = 
³rcÜe
;

4073 
max´oı”cÜe
 = 1;

4075  
max´oı”cÜe
;

4076 
	}
}

4078 
AddrUnsPaœ
 *
	gadd»ss2os
 = 
NULL
;

4079 *
	g´oÿ¼
 = 
NULL
;

4080 
	g__kmp_aff_d•th
 = 0;

4082 #ià
KMP_USE_HIER_SCHED


4083 
	#KMP_EXIT_AFF_NONE
 \

4084 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
); \

4085 
	`KMP_ASSERT
(
add»ss2os
 =ğ
NULL
); \

4086 
	`__kmp_­¶y_th»ad_¶aûs
(
NULL
, 0); \

4087 
	`__kmp_ü—‹_affš™y_nÚe_¶aûs
(); \

4088 
	`__kmp_di¥©ch_£t_h›¿rchy_v®ues
(); \

4089 ;

	)

4091 
	#KMP_EXIT_AFF_NONE
 \

4092 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
); \

4093 
	`KMP_ASSERT
(
add»ss2os
 =ğ
NULL
); \

4094 
	`__kmp_­¶y_th»ad_¶aûs
(
NULL
, 0); \

4095 
	`__kmp_ü—‹_affš™y_nÚe_¶aûs
(); \

4096 ;

	)

4101 
	$__kmp_ü—‹_affš™y_nÚe_¶aûs
() {

4102 
	`KMP_ASSERT
(
__kmp_affš_fuÎMask
 !ğ
NULL
);

4103 
	`KMP_ASSERT
(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
);

4104 
__kmp_affš™y_num_masks
 = 1;

4105 
	`KMP_CPU_ALLOC_ARRAY
(
__kmp_affš™y_masks
, 
__kmp_affš™y_num_masks
);

4106 
kmp_affš_mask_t
 *
de¡
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 0);

4107 
	`KMP_CPU_COPY
(
de¡
, 
__kmp_affš_fuÎMask
);

4108 
	}
}

4110 
	$__kmp_affš™y_cmp_Add»ss_chd_num
(cÚ¡ *
a
, cÚ¡ *
b
) {

4111 cÚ¡ 
Add»ss
 *
¯
 = &(((cÚ¡ 
AddrUnsPaœ
 *)
a
)->
fœ¡
);

4112 cÚ¡ 
Add»ss
 *
bb
 = &(((cÚ¡ 
AddrUnsPaœ
 *)
b
)->
fœ¡
);

4113 
d•th
 = 
¯
->depth;

4114 
i
;

4115 
	`KMP_DEBUG_ASSERT
(
d•th
 =ğ
bb
->depth);

4116 
	`KMP_DEBUG_ASSERT
(()
__kmp_affš™y_com·ù
 <ğ
d•th
);

4117 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_com·ù
 >= 0);

4118 
i
 = 0; i < ()
__kmp_affš™y_com·ù
; i++) {

4119 
j
 = 
d•th
 - 
i
 - 1;

4120 ià(
¯
->
chdNums
[
j
] < 
bb
->childNums[j])

4122 ià(
¯
->
chdNums
[
j
] > 
bb
->childNums[j])

4125 ; 
i
 < 
d•th
; i++) {

4126 
j
 = 
i
 - 
__kmp_affš™y_com·ù
;

4127 ià(
¯
->
chdNums
[
j
] < 
bb
->childNums[j])

4129 ià(
¯
->
chdNums
[
j
] > 
bb
->childNums[j])

4133 
	}
}

4135 
	$__kmp_aux_affš™y_š™Ÿlize
() {

4136 ià(
__kmp_affš™y_masks
 !ğ
NULL
) {

4137 
	`KMP_ASSERT
(
__kmp_affš_fuÎMask
 !ğ
NULL
);

4145 ià(
__kmp_affš_fuÎMask
 =ğ
NULL
) {

4146 
	`KMP_CPU_ALLOC
(
__kmp_affš_fuÎMask
);

4148 ià(
	`KMP_AFFINITY_CAPABLE
()) {

4149 ià(
__kmp_affš™y_»¥eù_mask
) {

4150 
	`__kmp_g‘_sy¡em_affš™y
(
__kmp_affš_fuÎMask
, 
TRUE
);

4153 
i
;

4154 
__kmp_ava_´oc
 = 0;

4155 
	`KMP_CPU_SET_ITERATE
(
i
, 
__kmp_affš_fuÎMask
) {

4156 ià(!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) {

4159 
__kmp_ava_´oc
++;

4161 ià(
__kmp_ava_´oc
 > 
__kmp_x´oc
) {

4162 ià(
__kmp_affš™y_v”bo£
 ||

4163 (
__kmp_affš™y_w¬nšgs
 &&

4164 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

4165 
	`KMP_WARNING
(
E¼ÜIn™ŸlizeAffš™y
);

4167 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4168 
	`KMP_AFFINITY_DISABLE
();

4172 
	`__kmp_affš™y_’tœe_machše_mask
(
__kmp_affš_fuÎMask
);

4173 
__kmp_ava_´oc
 = 
__kmp_x´oc
;

4177 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_te
 &&

4179 
__kmp_affš™y_di¥©ch
->
	`g‘_­i_ty³
(è=ğ
KMPAffš™y
::
NATIVE_OS
) {

4180 
	`KMP_WARNING
(
AffTesNoHWLOC
, "KMP_AFFINITY");

4181 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_·ckage
;

4184 
d•th
 = -1;

4185 
kmp_i18n_id_t
 
msg_id
 = 
kmp_i18n_nuÎ
;

4189 ià((
__kmp_ıušfo_fe
 !ğ
NULL
) &&

4190 (
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_®l
)) {

4191 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_ıušfo
;

4194 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_®l
) {

4198 cÚ¡ *
fe_Çme
 = 
NULL
;

4199 
lše
 = 0;

4200 #ià
KMP_USE_HWLOC


4201 ià(
d•th
 < 0 &&

4202 
__kmp_affš™y_di¥©ch
->
	`g‘_­i_ty³
(è=ğ
KMPAffš™y
::
HWLOC
) {

4203 ià(
__kmp_affš™y_v”bo£
) {

4204 
	`KMP_INFORM
(
AffUsšgHwloc
, "KMP_AFFINITY");

4206 ià(!
__kmp_hwloc_”rÜ
) {

4207 
d•th
 = 
	`__kmp_affš™y_ü—‹_hwloc_m­
(&
add»ss2os
, &
msg_id
);

4208 ià(
d•th
 == 0) {

4209 
KMP_EXIT_AFF_NONE
;

4210 } ià(
d•th
 < 0 && 
__kmp_affš™y_v”bo£
) {

4211 
	`KMP_INFORM
(
AffIgnÜšgHwloc
, "KMP_AFFINITY");

4213 } ià(
__kmp_affš™y_v”bo£
) {

4214 
	`KMP_INFORM
(
AffIgnÜšgHwloc
, "KMP_AFFINITY");

4219 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


4221 ià(
d•th
 < 0) {

4222 ià(
__kmp_affš™y_v”bo£
) {

4223 
	`KMP_INFORM
(
AffInfoSŒ
, "KMP_AFFINITY", 
	`KMP_I18N_STR
(
Decodšgx2APIC
));

4226 
fe_Çme
 = 
NULL
;

4227 
d•th
 = 
	`__kmp_affš™y_ü—‹_x2­icid_m­
(&
add»ss2os
, &
msg_id
);

4228 ià(
d•th
 == 0) {

4229 
KMP_EXIT_AFF_NONE
;

4232 ià(
d•th
 < 0) {

4233 ià(
__kmp_affš™y_v”bo£
) {

4234 ià(
msg_id
 !ğ
kmp_i18n_nuÎ
) {

4235 
	`KMP_INFORM
(
AffInfoSŒSŒ
, "KMP_AFFINITY",

4236 
	`__kmp_i18n_ÿtg‘s
(
msg_id
),

4237 
	`KMP_I18N_STR
(
DecodšgLegacyAPIC
));

4239 
	`KMP_INFORM
(
AffInfoSŒ
, "KMP_AFFINITY",

4240 
	`KMP_I18N_STR
(
DecodšgLegacyAPIC
));

4244 
fe_Çme
 = 
NULL
;

4245 
d•th
 = 
	`__kmp_affš™y_ü—‹_­icid_m­
(&
add»ss2os
, &
msg_id
);

4246 ià(
d•th
 == 0) {

4247 
KMP_EXIT_AFF_NONE
;

4254 #ià
KMP_OS_LINUX


4256 ià(
d•th
 < 0) {

4257 ià(
__kmp_affš™y_v”bo£
) {

4258 ià(
msg_id
 !ğ
kmp_i18n_nuÎ
) {

4259 
	`KMP_INFORM
(
AffSŒP¬£F’ame
, "KMP_AFFINITY",

4260 
	`__kmp_i18n_ÿtg‘s
(
msg_id
), "/proc/cpuinfo");

4262 
	`KMP_INFORM
(
AffP¬£F’ame
, "KMP_AFFINITY", "/proc/cpuinfo");

4266 
FILE
 *
f
 = 
	`fİ’
("/proc/cpuinfo", "r");

4267 ià(
f
 =ğ
NULL
) {

4268 
msg_id
 = 
kmp_i18n_¡r_CªtO³nCpušfo
;

4270 
fe_Çme
 = "/proc/cpuinfo";

4271 
d•th
 =

4272 
	`__kmp_affš™y_ü—‹_ıušfo_m­
(&
add»ss2os
, &
lše
, &
msg_id
, 
f
);

4273 
	`fşo£
(
f
);

4274 ià(
d•th
 == 0) {

4275 
KMP_EXIT_AFF_NONE
;

4282 #ià
KMP_GROUP_AFFINITY


4284 ià((
d•th
 < 0è&& (
__kmp_num_´oc_groups
 > 1)) {

4285 ià(
__kmp_affš™y_v”bo£
) {

4286 
	`KMP_INFORM
(
AffWšdowsProcGroupM­
, "KMP_AFFINITY");

4289 
d•th
 = 
	`__kmp_affš™y_ü—‹_´oc_group_m­
(&
add»ss2os
, &
msg_id
);

4290 
	`KMP_ASSERT
(
d•th
 != 0);

4295 ià(
d•th
 < 0) {

4296 ià(
__kmp_affš™y_v”bo£
 && (
msg_id
 !ğ
kmp_i18n_nuÎ
)) {

4297 ià(
fe_Çme
 =ğ
NULL
) {

4298 
	`KMP_INFORM
(
UsšgFÏtOS
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4299 } ià(
lše
 == 0) {

4300 
	`KMP_INFORM
(
UsšgFÏtOSFe
, 
fe_Çme
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4302 
	`KMP_INFORM
(
UsšgFÏtOSFeLše
, 
fe_Çme
, 
lše
,

4303 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4308 
fe_Çme
 = "";

4309 
d•th
 = 
	`__kmp_affš™y_ü—‹_æ©_m­
(&
add»ss2os
, &
msg_id
);

4310 ià(
d•th
 == 0) {

4311 
KMP_EXIT_AFF_NONE
;

4313 
	`KMP_ASSERT
(
d•th
 > 0);

4314 
	`KMP_ASSERT
(
add»ss2os
 !ğ
NULL
);

4318 #ià
KMP_USE_HWLOC


4319 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_hwloc
) {

4320 
	`KMP_ASSERT
(
__kmp_affš™y_di¥©ch
->
	`g‘_­i_ty³
(è=ğ
KMPAffš™y
::
HWLOC
);

4321 ià(
__kmp_affš™y_v”bo£
) {

4322 
	`KMP_INFORM
(
AffUsšgHwloc
, "KMP_AFFINITY");

4324 
d•th
 = 
	`__kmp_affš™y_ü—‹_hwloc_m­
(&
add»ss2os
, &
msg_id
);

4325 ià(
d•th
 == 0) {

4326 
KMP_EXIT_AFF_NONE
;

4335 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


4337 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_x2­icid
) {

4338 ià(
__kmp_affš™y_v”bo£
) {

4339 
	`KMP_INFORM
(
AffInfoSŒ
, "KMP_AFFINITY", 
	`KMP_I18N_STR
(
Decodšgx2APIC
));

4342 
d•th
 = 
	`__kmp_affš™y_ü—‹_x2­icid_m­
(&
add»ss2os
, &
msg_id
);

4343 ià(
d•th
 == 0) {

4344 
KMP_EXIT_AFF_NONE
;

4346 ià(
d•th
 < 0) {

4347 
	`KMP_ASSERT
(
msg_id
 !ğ
kmp_i18n_nuÎ
);

4348 
	`KMP_FATAL
(
MsgEx™šg
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4350 } ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_­icid
) {

4351 ià(
__kmp_affš™y_v”bo£
) {

4352 
	`KMP_INFORM
(
AffInfoSŒ
, "KMP_AFFINITY", 
	`KMP_I18N_STR
(
DecodšgLegacyAPIC
));

4355 
d•th
 = 
	`__kmp_affš™y_ü—‹_­icid_m­
(&
add»ss2os
, &
msg_id
);

4356 ià(
d•th
 == 0) {

4357 
KMP_EXIT_AFF_NONE
;

4359 ià(
d•th
 < 0) {

4360 
	`KMP_ASSERT
(
msg_id
 !ğ
kmp_i18n_nuÎ
);

4361 
	`KMP_FATAL
(
MsgEx™šg
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4367 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_ıušfo
) {

4368 cÚ¡ *
f’ame
;

4369 ià(
__kmp_ıušfo_fe
 !ğ
NULL
) {

4370 
f’ame
 = 
__kmp_ıušfo_fe
;

4372 
f’ame
 = "/proc/cpuinfo";

4375 ià(
__kmp_affš™y_v”bo£
) {

4376 
	`KMP_INFORM
(
AffP¬£F’ame
, "KMP_AFFINITY", 
f’ame
);

4379 
FILE
 *
f
 = 
	`fİ’
(
f’ame
, "r");

4380 ià(
f
 =ğ
NULL
) {

4381 
code
 = 
”ºo
;

4382 ià(
__kmp_ıušfo_fe
 !ğ
NULL
) {

4383 
	`__kmp_çl
(
	`KMP_MSG
(
CªtO³nFeFÜR—dšg
, 
f’ame
), 
	`KMP_ERR
(
code
),

4384 
	`KMP_HNT
(
NameComesFrom_CPUINFO_FILE
), 
__kmp_msg_nuÎ
);

4386 
	`__kmp_çl
(
	`KMP_MSG
(
CªtO³nFeFÜR—dšg
, 
f’ame
), 
	`KMP_ERR
(
code
),

4387 
__kmp_msg_nuÎ
);

4390 
lše
 = 0;

4391 
d•th
 = 
	`__kmp_affš™y_ü—‹_ıušfo_m­
(&
add»ss2os
, &
lše
, &
msg_id
, 
f
);

4392 
	`fşo£
(
f
);

4393 ià(
d•th
 < 0) {

4394 
	`KMP_ASSERT
(
msg_id
 !ğ
kmp_i18n_nuÎ
);

4395 ià(
lše
 > 0) {

4396 
	`KMP_FATAL
(
FeLšeMsgEx™šg
, 
f’ame
, 
lše
,

4397 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4399 
	`KMP_FATAL
(
FeMsgEx™šg
, 
f’ame
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4402 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

4403 
	`KMP_ASSERT
(
d•th
 == 0);

4404 
KMP_EXIT_AFF_NONE
;

4408 #ià
KMP_GROUP_AFFINITY


4410 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_group
) {

4411 ià(
__kmp_affš™y_v”bo£
) {

4412 
	`KMP_INFORM
(
AffWšdowsProcGroupM­
, "KMP_AFFINITY");

4415 
d•th
 = 
	`__kmp_affš™y_ü—‹_´oc_group_m­
(&
add»ss2os
, &
msg_id
);

4416 
	`KMP_ASSERT
(
d•th
 != 0);

4417 ià(
d•th
 < 0) {

4418 
	`KMP_ASSERT
(
msg_id
 !ğ
kmp_i18n_nuÎ
);

4419 
	`KMP_FATAL
(
MsgEx™šg
, 
	`__kmp_i18n_ÿtg‘s
(
msg_id
));

4425 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_æ©
) {

4426 ià(
__kmp_affš™y_v”bo£
) {

4427 
	`KMP_INFORM
(
AffUsšgFÏtOS
, "KMP_AFFINITY");

4430 
d•th
 = 
	`__kmp_affš™y_ü—‹_æ©_m­
(&
add»ss2os
, &
msg_id
);

4431 ià(
d•th
 == 0) {

4432 
KMP_EXIT_AFF_NONE
;

4435 
	`KMP_ASSERT
(
d•th
 > 0);

4436 
	`KMP_ASSERT
(
add»ss2os
 !ğ
NULL
);

4439 #ià
KMP_USE_HIER_SCHED


4440 
	`__kmp_di¥©ch_£t_h›¿rchy_v®ues
();

4443 ià(
add»ss2os
 =ğ
NULL
) {

4444 ià(
	`KMP_AFFINITY_CAPABLE
() &&

4445 (
__kmp_affš™y_v”bo£
 ||

4446 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
)))) {

4447 
	`KMP_WARNING
(
E¼ÜIn™ŸlizeAffš™y
);

4449 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4450 
	`__kmp_ü—‹_affš™y_nÚe_¶aûs
();

4451 
	`KMP_AFFINITY_DISABLE
();

4455 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_te


4456 #ià
KMP_USE_HWLOC


4457 && 
__kmp_te_d•th
 == 0

4461 
	`KMP_WARNING
(
AffTesNoTes
, "KMP_AFFINITY");

4464 
	`__kmp_­¶y_th»ad_¶aûs
(&
add»ss2os
, 
d•th
);

4467 
maxIndex
;

4468 
numUnique
;

4469 
kmp_affš_mask_t
 *
osId2Mask
 =

4470 
	`__kmp_ü—‹_masks
(&
maxIndex
, &
numUnique
, 
add»ss2os
, 
__kmp_ava_´oc
);

4471 ià(
__kmp_affš™y_g¿n_Ëv–s
 == 0) {

4472 
	`KMP_DEBUG_ASSERT
(()
numUnique
 =ğ
__kmp_ava_´oc
);

4478 
	`__kmp_affš™y_assign_chd_nums
(
add»ss2os
, 
__kmp_ava_´oc
);

4480 
__kmp_affš™y_ty³
) {

4482 
affš™y_ex¶ic™
:

4483 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_´oşi¡
 !ğ
NULL
);

4484 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_š‹l
) {

4485 
	`__kmp_affš™y_´oûss_´oşi¡
(

4486 &
__kmp_affš™y_masks
, &
__kmp_affš™y_num_masks
,

4487 
__kmp_affš™y_´oşi¡
, 
osId2Mask
, 
maxIndex
);

4489 
	`__kmp_affš™y_´oûss_¶aûli¡
(

4490 &
__kmp_affš™y_masks
, &
__kmp_affš™y_num_masks
,

4491 
__kmp_affš™y_´oşi¡
, 
osId2Mask
, 
maxIndex
);

4493 ià(
__kmp_affš™y_num_masks
 == 0) {

4494 ià(
__kmp_affš™y_v”bo£
 ||

4495 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
))) {

4496 
	`KMP_WARNING
(
AffNoV®idProcID
);

4498 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4499 
	`__kmp_ü—‹_affš™y_nÚe_¶aûs
();

4509 
affš™y_logiÿl
:

4510 
__kmp_affš™y_com·ù
 = 0;

4511 ià(
__kmp_affš™y_off£t
) {

4512 
__kmp_affš™y_off£t
 =

4513 
__kmp_nTh»adsP”CÜe
 * 
__kmp_affš™y_off£t
 % 
__kmp_ava_´oc
;

4515 
sÜtAdd»s£s
;

4517 
affš™y_physiÿl
:

4518 ià(
__kmp_nTh»adsP”CÜe
 > 1) {

4519 
__kmp_affš™y_com·ù
 = 1;

4520 ià(
__kmp_affš™y_com·ù
 >ğ
d•th
) {

4521 
__kmp_affš™y_com·ù
 = 0;

4524 
__kmp_affš™y_com·ù
 = 0;

4526 ià(
__kmp_affš™y_off£t
) {

4527 
__kmp_affš™y_off£t
 =

4528 
__kmp_nTh»adsP”CÜe
 * 
__kmp_affš™y_off£t
 % 
__kmp_ava_´oc
;

4530 
sÜtAdd»s£s
;

4532 
affš™y_sÿ‰”
:

4533 ià(
__kmp_affš™y_com·ù
 >ğ
d•th
) {

4534 
__kmp_affš™y_com·ù
 = 0;

4536 
__kmp_affš™y_com·ù
 = 
d•th
 - 1 - __kmp_affinity_compact;

4538 
sÜtAdd»s£s
;

4540 
affš™y_com·ù
:

4541 ià(
__kmp_affš™y_com·ù
 >ğ
d•th
) {

4542 
__kmp_affš™y_com·ù
 = 
d•th
 - 1;

4544 
sÜtAdd»s£s
;

4546 
affš™y_b®ªûd
:

4547 ià(
d•th
 <= 1) {

4548 ià(
__kmp_affš™y_v”bo£
 || 
__kmp_affš™y_w¬nšgs
) {

4549 
	`KMP_WARNING
(
AffB®ªûdNÙAva
, "KMP_AFFINITY");

4551 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4552 
	`__kmp_ü—‹_affš™y_nÚe_¶aûs
();

4554 } ià(!
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

4556 
__kmp_aff_d•th
 = 
d•th
;

4558 
cÜe_Ëv–
 = 
	`__kmp_affš™y_fšd_cÜe_Ëv–
(

4559 
add»ss2os
, 
__kmp_ava_´oc
, 
d•th
 - 1);

4560 
ncÜes
 = 
	`__kmp_affš™y_compu‹_ncÜes
(
add»ss2os
, 
__kmp_ava_´oc
,

4561 
d•th
 - 1, 
cÜe_Ëv–
);

4562 
max´oı”cÜe
 = 
	`__kmp_affš™y_max_´oc_³r_cÜe
(

4563 
add»ss2os
, 
__kmp_ava_´oc
, 
d•th
 - 1, 
cÜe_Ëv–
);

4565 
Åroc
 = 
ncÜes
 * 
max´oı”cÜe
;

4566 ià((
Åroc
 < 2è|| (Åroø< 
__kmp_ava_´oc
)) {

4567 ià(
__kmp_affš™y_v”bo£
 || 
__kmp_affš™y_w¬nšgs
) {

4568 
	`KMP_WARNING
(
AffB®ªûdNÙAva
, "KMP_AFFINITY");

4570 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4574 
´oÿ¼
 = (*)
	`__kmp_®loÿ‹
((è* 
Åroc
);

4575 
i
 = 0; i < 
Åroc
; i++) {

4576 
´oÿ¼
[
i
] = -1;

4579 
Ï¡cÜe
 = -1;

4580 
šÏ¡cÜe
 = 0;

4581 
i
 = 0; i < 
__kmp_ava_´oc
; i++) {

4582 
´oc
 = 
add»ss2os
[
i
].
£cÚd
;

4583 
cÜe
 =

4584 
	`__kmp_affš™y_fšd_cÜe
(
add»ss2os
, 
i
, 
d•th
 - 1, 
cÜe_Ëv–
);

4586 ià(
cÜe
 =ğ
Ï¡cÜe
) {

4587 
šÏ¡cÜe
++;

4589 
šÏ¡cÜe
 = 0;

4591 
Ï¡cÜe
 = 
cÜe
;

4593 
´oÿ¼
[
cÜe
 * 
max´oı”cÜe
 + 
šÏ¡cÜe
] = 
´oc
;

4596 ià(
__kmp_affš™y_com·ù
 >ğ
d•th
) {

4597 
__kmp_affš™y_com·ù
 = 
d•th
 - 1;

4600 
sÜtAdd»s£s
:

4602 ià(
__kmp_affš™y_dups
) {

4603 
__kmp_affš™y_num_masks
 = 
__kmp_ava_´oc
;

4605 
__kmp_affš™y_num_masks
 = 
numUnique
;

4608 ià((
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] !ğ
´oc_bšd_š‹l
) &&

4609 (
__kmp_affš™y_num_¶aûs
 > 0) &&

4610 (()
__kmp_affš™y_num_¶aûs
 < 
__kmp_affš™y_num_masks
)) {

4611 
__kmp_affš™y_num_masks
 = 
__kmp_affš™y_num_¶aûs
;

4614 
	`KMP_CPU_ALLOC_ARRAY
(
__kmp_affš™y_masks
, 
__kmp_affš™y_num_masks
);

4618 
	`qsÜt
(
add»ss2os
, 
__kmp_ava_´oc
, (*address2os),

4619 
__kmp_affš™y_cmp_Add»ss_chd_num
);

4621 
i
;

4622 
j
;

4623 
i
 = 0, 
j
 = 0; i < 
__kmp_ava_´oc
; i++) {

4624 ià((!
__kmp_affš™y_dups
è&& (!
add»ss2os
[
i
].
fœ¡
.
Ëad”
)) {

4627 
osId
 = 
add»ss2os
[
i
].
£cÚd
;

4628 
kmp_affš_mask_t
 *
¤c
 = 
	`KMP_CPU_INDEX
(
osId2Mask
, 
osId
);

4629 
kmp_affš_mask_t
 *
de¡
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
j
);

4630 
	`KMP_ASSERT
(
	`KMP_CPU_ISSET
(
osId
, 
¤c
));

4631 
	`KMP_CPU_COPY
(
de¡
, 
¤c
);

4632 ià(++
j
 >ğ
__kmp_affš™y_num_masks
) {

4636 
	`KMP_DEBUG_ASSERT
(
j
 =ğ
__kmp_affš™y_num_masks
);

4641 
	`KMP_ASSERT2
(0, "Unexpected‡ffinity setting");

4644 
	`KMP_CPU_FREE_ARRAY
(
osId2Mask
, 
maxIndex
 + 1);

4645 
machše_h›¿rchy
.
	`š™
(
add»ss2os
, 
__kmp_ava_´oc
);

4646 
	}
}

4647 #undeà
KMP_EXIT_AFF_NONE


4649 
	$__kmp_affš™y_š™Ÿlize
() {

4658 
di§bËd
 = (
__kmp_affš™y_ty³
 =ğ
affš™y_di§bËd
);

4659 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4660 
	`KMP_ASSERT
(
di§bËd
);

4662 ià(
di§bËd
) {

4663 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

4665 
	`__kmp_aux_affš™y_š™Ÿlize
();

4666 ià(
di§bËd
) {

4667 
__kmp_affš™y_ty³
 = 
affš™y_di§bËd
;

4669 
	}
}

4671 
	$__kmp_affš™y_unš™Ÿlize
() {

4672 ià(
__kmp_affš™y_masks
 !ğ
NULL
) {

4673 
	`KMP_CPU_FREE_ARRAY
(
__kmp_affš™y_masks
, 
__kmp_affš™y_num_masks
);

4674 
__kmp_affš™y_masks
 = 
NULL
;

4676 ià(
__kmp_affš_fuÎMask
 !ğ
NULL
) {

4677 
	`KMP_CPU_FREE
(
__kmp_affš_fuÎMask
);

4678 
__kmp_affš_fuÎMask
 = 
NULL
;

4680 
__kmp_affš™y_num_masks
 = 0;

4681 
__kmp_affš™y_ty³
 = 
affš™y_deçuÉ
;

4682 
__kmp_affš™y_num_¶aûs
 = 0;

4683 ià(
__kmp_affš™y_´oşi¡
 !ğ
NULL
) {

4684 
	`__kmp_ä“
(
__kmp_affš™y_´oşi¡
);

4685 
__kmp_affš™y_´oşi¡
 = 
NULL
;

4687 ià(
add»ss2os
 !ğ
NULL
) {

4688 
	`__kmp_ä“
(
add»ss2os
);

4689 
add»ss2os
 = 
NULL
;

4691 ià(
´oÿ¼
 !ğ
NULL
) {

4692 
	`__kmp_ä“
(
´oÿ¼
);

4693 
´oÿ¼
 = 
NULL
;

4695 #ià
KMP_USE_HWLOC


4696 ià(
__kmp_hwloc_tİŞogy
 !ğ
NULL
) {

4697 
	`hwloc_tİŞogy_de¡roy
(
__kmp_hwloc_tİŞogy
);

4698 
__kmp_hwloc_tİŞogy
 = 
NULL
;

4701 
KMPAffš™y
::
	`de¡roy_­i
();

4702 
	}
}

4704 
	$__kmp_affš™y_£t_š™_mask
(
gtid
, 
i§_roÙ
) {

4705 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4709 
kmp_šfo_t
 *
th
 = (kmp_šfo_ˆ*)
	`TCR_SYNC_PTR
(
__kmp_th»ads
[
gtid
]);

4710 ià(
th
->th.
th_affš_mask
 =ğ
NULL
) {

4711 
	`KMP_CPU_ALLOC
(
th
->th.
th_affš_mask
);

4713 
	`KMP_CPU_ZERO
(
th
->th.
th_affš_mask
);

4720 
kmp_affš_mask_t
 *
mask
;

4721 
i
;

4723 ià(
KMP_AFFINITY_NON_PROC_BIND
) {

4724 ià((
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) ||

4725 (
__kmp_affš™y_ty³
 =ğ
affš™y_b®ªûd
)) {

4726 #ià
KMP_GROUP_AFFINITY


4727 ià(
__kmp_num_´oc_groups
 > 1) {

4731 
	`KMP_ASSERT
(
__kmp_affš_fuÎMask
 !ğ
NULL
);

4732 
i
 = 0;

4733 
mask
 = 
__kmp_affš_fuÎMask
;

4735 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_num_masks
 > 0);

4736 
i
 = (
gtid
 + 
__kmp_affš™y_off£t
è% 
__kmp_affš™y_num_masks
;

4737 
mask
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
i
);

4740 ià((!
i§_roÙ
) ||

4741 (
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_çl£
)) {

4742 #ià
KMP_GROUP_AFFINITY


4743 ià(
__kmp_num_´oc_groups
 > 1) {

4747 
	`KMP_ASSERT
(
__kmp_affš_fuÎMask
 !ğ
NULL
);

4748 
i
 = 
KMP_PLACE_ALL
;

4749 
mask
 = 
__kmp_affš_fuÎMask
;

4753 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_num_masks
 > 0);

4754 
i
 = (
gtid
 + 
__kmp_affš™y_off£t
è% 
__kmp_affš™y_num_masks
;

4755 
mask
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
i
);

4759 
th
->th.
th_cu¼’t_¶aû
 = 
i
;

4760 ià(
i§_roÙ
) {

4761 
th
->th.
th_Ãw_¶aû
 = 
i
;

4762 
th
->th.
th_fœ¡_¶aû
 = 0;

4763 
th
->th.
th_Ï¡_¶aû
 = 
__kmp_affš™y_num_masks
 - 1;

4764 } ià(
KMP_AFFINITY_NON_PROC_BIND
) {

4767 
th
->th.
th_fœ¡_¶aû
 = 0;

4768 
th
->th.
th_Ï¡_¶aû
 = 
__kmp_affš™y_num_masks
 - 1;

4771 ià(
i
 =ğ
KMP_PLACE_ALL
) {

4772 
	`KA_TRACE
(100, ("__kmp_affinity_set_init_mask: binding T#%do‡ll…laces\n",

4773 
gtid
));

4775 
	`KA_TRACE
(100, ("__kmp_affinity_set_init_mask: binding T#%do…lace %d\n",

4776 
gtid
, 
i
));

4779 
	`KMP_CPU_COPY
(
th
->th.
th_affš_mask
, 
mask
);

4781 ià(
__kmp_affš™y_v”bo£


4783 && (
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
 ||

4784 (
i
 !ğ
KMP_PLACE_ALL
 && 
__kmp_affš™y_ty³
 !ğ
affš™y_b®ªûd
))) {

4785 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4786 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4787 
th
->th.
th_affš_mask
);

4788 
	`KMP_INFORM
(
BoundToOSProcS‘
, "KMP_AFFINITY", (
kmp_št32
)
	`g‘pid
(),

4789 
	`__kmp_g‘tid
(), 
gtid
, 
buf
);

4792 #ià
KMP_OS_WINDOWS


4796 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
) {

4797 
	`__kmp_£t_sy¡em_affš™y
(
th
->th.
th_affš_mask
, 
FALSE
);

4800 
	`__kmp_£t_sy¡em_affš™y
(
th
->th.
th_affš_mask
, 
TRUE
);

4801 
	}
}

4803 
	$__kmp_affš™y_£t_¶aû
(
gtid
) {

4804 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4808 
kmp_šfo_t
 *
th
 = (kmp_šfo_ˆ*)
	`TCR_SYNC_PTR
(
__kmp_th»ads
[
gtid
]);

4810 
	`KA_TRACE
(100, ("__kmp_affinity_set_place: binding T#%do…lace %d (current "

4812 
gtid
, 
th
->th.
th_Ãw_¶aû
,h->th.
th_cu¼’t_¶aû
));

4815 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_affš_mask
 !ğ
NULL
);

4816 
	`KMP_ASSERT
(
th
->th.
th_Ãw_¶aû
 >= 0);

4817 
	`KMP_ASSERT
(()
th
->th.
th_Ãw_¶aû
 <ğ
__kmp_affš™y_num_masks
);

4818 ià(
th
->th.
th_fœ¡_¶aû
 <ğth->th.
th_Ï¡_¶aû
) {

4819 
	`KMP_ASSERT
((
th
->th.
th_Ãw_¶aû
 >ğth->th.
th_fœ¡_¶aû
) &&

4820 (
th
->th.
th_Ãw_¶aû
 <ğth->th.
th_Ï¡_¶aû
));

4822 
	`KMP_ASSERT
((
th
->th.
th_Ãw_¶aû
 <ğth->th.
th_fœ¡_¶aû
) ||

4823 (
th
->th.
th_Ãw_¶aû
 >ğth->th.
th_Ï¡_¶aû
));

4828 
kmp_affš_mask_t
 *
mask
 =

4829 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
th
->th.
th_Ãw_¶aû
);

4830 
	`KMP_CPU_COPY
(
th
->th.
th_affš_mask
, 
mask
);

4831 
th
->th.
th_cu¼’t_¶aû
 =h->th.
th_Ãw_¶aû
;

4833 ià(
__kmp_affš™y_v”bo£
) {

4834 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4835 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4836 
th
->th.
th_affš_mask
);

4837 
	`KMP_INFORM
(
BoundToOSProcS‘
, "OMP_PROC_BIND", (
kmp_št32
)
	`g‘pid
(),

4838 
	`__kmp_g‘tid
(), 
gtid
, 
buf
);

4840 
	`__kmp_£t_sy¡em_affš™y
(
th
->th.
th_affš_mask
, 
TRUE
);

4841 
	}
}

4843 
	$__kmp_aux_£t_affš™y
(**
mask
) {

4844 
gtid
;

4845 
kmp_šfo_t
 *
th
;

4846 
»tv®
;

4848 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4852 
gtid
 = 
	`__kmp_’Œy_gtid
();

4853 
	`KA_TRACE
(1000, (""); {

4854 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4855 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4856 (
kmp_affš_mask_t
 *)(*
mask
));

4857 
	`__kmp_debug_´štf
(

4858 "kmp_£t_affš™y: s‘tšg‡ffš™y mask fÜh»ad %d = %s\n", 
gtid
,

4859 
buf
);

4862 ià(
__kmp_’v_cÚsi¡’cy_check
) {

4863 ià((
mask
 =ğ
NULL
) || (*mask == NULL)) {

4864 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity");

4866 
´oc
;

4867 
num_´ocs
 = 0;

4869 
	`KMP_CPU_SET_ITERATE
(
´oc
, ((
kmp_affš_mask_t
 *)(*
mask
))) {

4870 ià(!
	`KMP_CPU_ISSET
(
´oc
, 
__kmp_affš_fuÎMask
)) {

4871 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity");

4873 ià(!
	`KMP_CPU_ISSET
(
´oc
, (
kmp_affš_mask_t
 *)(*
mask
))) {

4876 
num_´ocs
++;

4878 ià(
num_´ocs
 == 0) {

4879 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity");

4882 #ià
KMP_GROUP_AFFINITY


4883 ià(
	`__kmp_g‘_´oc_group
((
kmp_affš_mask_t
 *)(*
mask
)) < 0) {

4884 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity");

4890 
th
 = 
__kmp_th»ads
[
gtid
];

4891 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_affš_mask
 !ğ
NULL
);

4892 
»tv®
 = 
	`__kmp_£t_sy¡em_affš™y
((
kmp_affš_mask_t
 *)(*
mask
), 
FALSE
);

4893 ià(
»tv®
 == 0) {

4894 
	`KMP_CPU_COPY
(
th
->th.
th_affš_mask
, (
kmp_affš_mask_t
 *)(*
mask
));

4897 
th
->th.
th_cu¼’t_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4898 
th
->th.
th_Ãw_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4899 
th
->th.
th_fœ¡_¶aû
 = 0;

4900 
th
->th.
th_Ï¡_¶aû
 = 
__kmp_affš™y_num_masks
 - 1;

4903 
th
->th.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
 = 
´oc_bšd_çl£
;

4905  
»tv®
;

4906 
	}
}

4908 
	$__kmp_aux_g‘_affš™y
(**
mask
) {

4909 
gtid
;

4910 
»tv®
;

4911 
kmp_šfo_t
 *
th
;

4913 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4917 
gtid
 = 
	`__kmp_’Œy_gtid
();

4918 
th
 = 
__kmp_th»ads
[
gtid
];

4919 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_affš_mask
 !ğ
NULL
);

4921 
	`KA_TRACE
(1000, (""); {

4922 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4923 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4924 
th
->th.
th_affš_mask
);

4925 
	`__kmp_´štf
("kmp_get_affinity: stored‡ffinity mask forhread %d = %s\n",

4926 
gtid
, 
buf
);

4929 ià(
__kmp_’v_cÚsi¡’cy_check
) {

4930 ià((
mask
 =ğ
NULL
) || (*mask == NULL)) {

4931 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_get_affinity");

4935 #ià!
KMP_OS_WINDOWS


4937 
»tv®
 = 
	`__kmp_g‘_sy¡em_affš™y
((
kmp_affš_mask_t
 *)(*
mask
), 
FALSE
);

4938 
	`KA_TRACE
(1000, (""); {

4939 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4940 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4941 (
kmp_affš_mask_t
 *)(*
mask
));

4942 
	`__kmp_´štf
("kmp_get_affinity: system‡ffinity mask forhread %d = %s\n",

4943 
gtid
, 
buf
);

4945  
»tv®
;

4949 
	`KMP_CPU_COPY
((
kmp_affš_mask_t
 *)(*
mask
), 
th
->th.
th_affš_mask
);

4953 
	}
}

4955 
	$__kmp_aux_g‘_affš™y_max_´oc
() {

4956 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4959 #ià
KMP_GROUP_AFFINITY


4960 ià(
__kmp_num_´oc_groups
 > 1) {

4961  ()(
__kmp_num_´oc_groups
 * (
DWORD_PTR
è* 
CHAR_BIT
);

4964  
__kmp_x´oc
;

4965 
	}
}

4967 
	$__kmp_aux_£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

4968 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

4972 
	`KA_TRACE
(1000, (""); {

4973 
gtid
 = 
	`__kmp_’Œy_gtid
();

4974 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

4975 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

4976 (
kmp_affš_mask_t
 *)(*
mask
));

4977 
	`__kmp_debug_´štf
("kmp_set_affinity_mask_proc: setting…roc %d in "

4979 
´oc
, 
gtid
, 
buf
);

4982 ià(
__kmp_’v_cÚsi¡’cy_check
) {

4983 ià((
mask
 =ğ
NULL
) || (*mask == NULL)) {

4984 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity_mask_proc");

4988 ià((
´oc
 < 0è|| (´oø>ğ
	`__kmp_aux_g‘_affš™y_max_´oc
())) {

4991 ià(!
	`KMP_CPU_ISSET
(
´oc
, 
__kmp_affš_fuÎMask
)) {

4995 
	`KMP_CPU_SET
(
´oc
, (
kmp_affš_mask_t
 *)(*
mask
));

4997 
	}
}

4999 
	$__kmp_aux_un£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

5000 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

5004 
	`KA_TRACE
(1000, (""); {

5005 
gtid
 = 
	`__kmp_’Œy_gtid
();

5006 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

5007 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

5008 (
kmp_affš_mask_t
 *)(*
mask
));

5009 
	`__kmp_debug_´štf
("kmp_unset_affinity_mask_proc: unsetting…roc %d in "

5011 
´oc
, 
gtid
, 
buf
);

5014 ià(
__kmp_’v_cÚsi¡’cy_check
) {

5015 ià((
mask
 =ğ
NULL
) || (*mask == NULL)) {

5016 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_unset_affinity_mask_proc");

5020 ià((
´oc
 < 0è|| (´oø>ğ
	`__kmp_aux_g‘_affš™y_max_´oc
())) {

5023 ià(!
	`KMP_CPU_ISSET
(
´oc
, 
__kmp_affš_fuÎMask
)) {

5027 
	`KMP_CPU_CLR
(
´oc
, (
kmp_affš_mask_t
 *)(*
mask
));

5029 
	}
}

5031 
	$__kmp_aux_g‘_affš™y_mask_´oc
(
´oc
, **
mask
) {

5032 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

5036 
	`KA_TRACE
(1000, (""); {

5037 
gtid
 = 
	`__kmp_’Œy_gtid
();

5038 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

5039 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
,

5040 (
kmp_affš_mask_t
 *)(*
mask
));

5041 
	`__kmp_debug_´štf
("kmp_get_affinity_mask_proc: getting…roc %d in "

5043 
´oc
, 
gtid
, 
buf
);

5046 ià(
__kmp_’v_cÚsi¡’cy_check
) {

5047 ià((
mask
 =ğ
NULL
) || (*mask == NULL)) {

5048 
	`KMP_FATAL
(
Affš™yInv®idMask
, "kmp_get_affinity_mask_proc");

5052 ià((
´oc
 < 0è|| (´oø>ğ
	`__kmp_aux_g‘_affš™y_max_´oc
())) {

5055 ià(!
	`KMP_CPU_ISSET
(
´oc
, 
__kmp_affš_fuÎMask
)) {

5059  
	`KMP_CPU_ISSET
(
´oc
, (
kmp_affš_mask_t
 *)(*
mask
));

5060 
	}
}

5063 
	$__kmp_b®ªûd_affš™y
(
kmp_šfo_t
 *
th
, 
Áh»ads
) {

5064 
	`KMP_DEBUG_ASSERT
(
th
);

5065 
boŞ
 
fše_g¿n
 = 
Œue
;

5066 
tid
 = 
th
->th.
th_šfo
.
ds
.
ds_tid
;

5068 
__kmp_affš™y_g¿n
) {

5069 
affš™y_g¿n_fše
:

5070 
affš™y_g¿n_th»ad
:

5072 
affš™y_g¿n_cÜe
:

5073 ià(
__kmp_nTh»adsP”CÜe
 > 1) {

5074 
fše_g¿n
 = 
çl£
;

5077 
affš™y_g¿n_·ckage
:

5078 ià(
nCÜesP”Pkg
 > 1) {

5079 
fše_g¿n
 = 
çl£
;

5083 
fše_g¿n
 = 
çl£
;

5086 ià(
	`__kmp_affš™y_unifÜm_tİŞogy
()) {

5087 
cÜeID
;

5088 
th»adID
;

5090 
__kmp_Áh_³r_cÜe
 = 
__kmp_ava_´oc
 / 
__kmp_ncÜes
;

5092 
ncÜes
 = 
__kmp_ncÜes
;

5093 ià((
nPackages
 > 1è&& (
__kmp_Áh_³r_cÜe
 <= 1)) {

5094 
__kmp_Áh_³r_cÜe
 = 
__kmp_ava_´oc
 / 
nPackages
;

5095 
ncÜes
 = 
nPackages
;

5098 
chunk
 = 
Áh»ads
 / 
ncÜes
;

5100 
big_cÜes
 = 
Áh»ads
 % 
ncÜes
;

5102 
big_Áh
 = (
chunk
 + 1è* 
big_cÜes
;

5103 ià(
tid
 < 
big_Áh
) {

5104 
cÜeID
 = 
tid
 / (
chunk
 + 1);

5105 
th»adID
 = (
tid
 % (
chunk
 + 1)è% 
__kmp_Áh_³r_cÜe
;

5107 
cÜeID
 = (
tid
 - 
big_cÜes
è/ 
chunk
;

5108 
th»adID
 = ((
tid
 - 
big_cÜes
è% 
chunk
è% 
__kmp_Áh_³r_cÜe
;

5111 
	`KMP_DEBUG_ASSERT2
(
	`KMP_AFFINITY_CAPABLE
(),

5114 
kmp_affš_mask_t
 *
mask
 = 
th
->th.
th_affš_mask
;

5115 
	`KMP_CPU_ZERO
(
mask
);

5117 ià(
fše_g¿n
) {

5118 
osID
 = 
add»ss2os
[
cÜeID
 * 
__kmp_Áh_³r_cÜe
 + 
th»adID
].
£cÚd
;

5119 
	`KMP_CPU_SET
(
osID
, 
mask
);

5121 
i
 = 0; i < 
__kmp_Áh_³r_cÜe
; i++) {

5122 
osID
;

5123 
osID
 = 
add»ss2os
[
cÜeID
 * 
__kmp_Áh_³r_cÜe
 + 
i
].
£cÚd
;

5124 
	`KMP_CPU_SET
(
osID
, 
mask
);

5127 ià(
__kmp_affš™y_v”bo£
) {

5128 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

5129 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
mask
);

5130 
	`KMP_INFORM
(
BoundToOSProcS‘
, "KMP_AFFINITY", (
kmp_št32
)
	`g‘pid
(),

5131 
	`__kmp_g‘tid
(), 
tid
, 
buf
);

5133 
	`__kmp_£t_sy¡em_affš™y
(
mask
, 
TRUE
);

5136 
kmp_affš_mask_t
 *
mask
 = 
th
->th.
th_affš_mask
;

5137 
	`KMP_CPU_ZERO
(
mask
);

5139 
cÜe_Ëv–
 = 
	`__kmp_affš™y_fšd_cÜe_Ëv–
(

5140 
add»ss2os
, 
__kmp_ava_´oc
, 
__kmp_aff_d•th
 - 1);

5141 
ncÜes
 = 
	`__kmp_affš™y_compu‹_ncÜes
(
add»ss2os
, 
__kmp_ava_´oc
,

5142 
__kmp_aff_d•th
 - 1, 
cÜe_Ëv–
);

5143 
Áh_³r_cÜe
 = 
	`__kmp_affš™y_max_´oc_³r_cÜe
(

5144 
add»ss2os
, 
__kmp_ava_´oc
, 
__kmp_aff_d•th
 - 1, 
cÜe_Ëv–
);

5148 ià(
Áh»ads
 =ğ
__kmp_ava_´oc
) {

5149 ià(
fše_g¿n
) {

5150 
osID
 = 
add»ss2os
[
tid
].
£cÚd
;

5151 
	`KMP_CPU_SET
(
osID
, 
mask
);

5153 
cÜe
 = 
	`__kmp_affš™y_fšd_cÜe
(
add»ss2os
, 
tid
,

5154 
__kmp_aff_d•th
 - 1, 
cÜe_Ëv–
);

5155 
i
 = 0; i < 
__kmp_ava_´oc
; i++) {

5156 
osID
 = 
add»ss2os
[
i
].
£cÚd
;

5157 ià(
	`__kmp_affš™y_fšd_cÜe
(
add»ss2os
, 
i
, 
__kmp_aff_d•th
 - 1,

5158 
cÜe_Ëv–
è=ğ
cÜe
) {

5159 
	`KMP_CPU_SET
(
osID
, 
mask
);

5163 } ià(
Áh»ads
 <ğ
ncÜes
) {

5165 
cÜe
 = 0;

5166 
i
 = 0; i < 
ncÜes
; i++) {

5168 
š_mask
 = 0;

5169 
j
 = 0; j < 
Áh_³r_cÜe
; j++) {

5170 ià(
´oÿ¼
[
i
 * 
Áh_³r_cÜe
 + 
j
] != -1) {

5171 
š_mask
 = 1;

5175 ià(
š_mask
) {

5176 ià(
tid
 =ğ
cÜe
) {

5177 
j
 = 0; j < 
Áh_³r_cÜe
; j++) {

5178 
osID
 = 
´oÿ¼
[
i
 * 
Áh_³r_cÜe
 + 
j
];

5179 ià(
osID
 != -1) {

5180 
	`KMP_CPU_SET
(
osID
, 
mask
);

5183 ià(
fše_g¿n
) {

5190 
cÜe
++;

5196 *
Åroc_©_cÜe
 = (*)
	`KMP_ALLOCA
((è* 
ncÜes
);

5198 *
ncÜes_w™h_x_´ocs
 =

5199 (*)
	`KMP_ALLOCA
((è* (
Áh_³r_cÜe
 + 1));

5201 *
ncÜes_w™h_x_to_max_´ocs
 =

5202 (*)
	`KMP_ALLOCA
((è* (
Áh_³r_cÜe
 + 1));

5204 
i
 = 0; i <ğ
Áh_³r_cÜe
; i++) {

5205 
ncÜes_w™h_x_´ocs
[
i
] = 0;

5206 
ncÜes_w™h_x_to_max_´ocs
[
i
] = 0;

5209 
i
 = 0; i < 
ncÜes
; i++) {

5210 
út
 = 0;

5211 
j
 = 0; j < 
Áh_³r_cÜe
; j++) {

5212 ià(
´oÿ¼
[
i
 * 
Áh_³r_cÜe
 + 
j
] != -1) {

5213 
út
++;

5216 
Åroc_©_cÜe
[
i
] = 
út
;

5217 
ncÜes_w™h_x_´ocs
[
út
]++;

5220 
i
 = 0; i <ğ
Áh_³r_cÜe
; i++) {

5221 
j
 = 
i
; j <ğ
Áh_³r_cÜe
; j++) {

5222 
ncÜes_w™h_x_to_max_´ocs
[
i
] +ğ
ncÜes_w™h_x_´ocs
[
j
];

5227 
Åroc
 = 
Áh_³r_cÜe
 * 
ncÜes
;

5229 *
Ãw¬r
 = (*)
	`__kmp_®loÿ‹
((è* 
Åroc
);

5230 
i
 = 0; i < 
Åroc
; i++) {

5231 
Ãw¬r
[
i
] = 0;

5234 
Áh
 = 
Áh»ads
;

5235 
æag
 = 0;

5236 
Áh
 > 0) {

5237 
j
 = 1; j <ğ
Áh_³r_cÜe
; j++) {

5238 
út
 = 
ncÜes_w™h_x_to_max_´ocs
[
j
];

5239 
i
 = 0; i < 
ncÜes
; i++) {

5241 ià(
Åroc_©_cÜe
[
i
] == 0) {

5244 
k
 = 0; k < 
Áh_³r_cÜe
; k++) {

5245 ià(
´oÿ¼
[
i
 * 
Áh_³r_cÜe
 + 
k
] != -1) {

5246 ià(
Ãw¬r
[
i
 * 
Áh_³r_cÜe
 + 
k
] == 0) {

5247 
Ãw¬r
[
i
 * 
Áh_³r_cÜe
 + 
k
] = 1;

5248 
út
--;

5249 
Áh
--;

5252 ià(
æag
 != 0) {

5253 
Ãw¬r
[
i
 * 
Áh_³r_cÜe
 + 
k
]++;

5254 
út
--;

5255 
Áh
--;

5261 ià(
út
 =ğ0 || 
Áh
 == 0) {

5265 ià(
Áh
 == 0) {

5269 
æag
 = 1;

5271 
sum
 = 0;

5272 
i
 = 0; i < 
Åroc
; i++) {

5273 
sum
 +ğ
Ãw¬r
[
i
];

5274 ià(
sum
 > 
tid
) {

5275 ià(
fše_g¿n
) {

5276 
osID
 = 
´oÿ¼
[
i
];

5277 
	`KMP_CPU_SET
(
osID
, 
mask
);

5279 
cÜeID
 = 
i
 / 
Áh_³r_cÜe
;

5280 
ii
 = 0; i˜< 
Áh_³r_cÜe
; ii++) {

5281 
osID
 = 
´oÿ¼
[
cÜeID
 * 
Áh_³r_cÜe
 + 
ii
];

5282 ià(
osID
 != -1) {

5283 
	`KMP_CPU_SET
(
osID
, 
mask
);

5290 
	`__kmp_ä“
(
Ãw¬r
);

5293 ià(
__kmp_affš™y_v”bo£
) {

5294 
buf
[
KMP_AFFIN_MASK_PRINT_LEN
];

5295 
	`__kmp_affš™y_´št_mask
(
buf
, 
KMP_AFFIN_MASK_PRINT_LEN
, 
mask
);

5296 
	`KMP_INFORM
(
BoundToOSProcS‘
, "KMP_AFFINITY", (
kmp_št32
)
	`g‘pid
(),

5297 
	`__kmp_g‘tid
(), 
tid
, 
buf
);

5299 
	`__kmp_£t_sy¡em_affš™y
(
mask
, 
TRUE
);

5301 
	}
}

5303 #ià
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD


5313 #ifdeà
__ılu¥lus


5317 
	$kmp_£t_th»ad_affš™y_mask_š™Ÿl
()

5322 
gtid
 = 
	`__kmp_g‘_gtid
();

5323 ià(
gtid
 < 0) {

5325 
	`KA_TRACE
(30, ("kmp_set_thread_affinity_mask_initial: "

5329 ià(!
	`KMP_AFFINITY_CAPABLE
(è|| !
__kmp_š™_middË
) {

5330 
	`KA_TRACE
(30, ("kmp_set_thread_affinity_mask_initial: "

5334 
	`KA_TRACE
(30, ("kmp_set_thread_affinity_mask_initial: "

5336 
gtid
));

5337 
	`KMP_DEBUG_ASSERT
(
__kmp_affš_fuÎMask
 !ğ
NULL
);

5338  
	`__kmp_£t_sy¡em_affš™y
(
__kmp_affš_fuÎMask
, 
FALSE
);

5339 
	}
}

	@kmp_affinity.h

13 #iâdeà
KMP_AFFINITY_H


14 
	#KMP_AFFINITY_H


	)

16 
	~"kmp.h
"

17 
	~"kmp_os.h
"

19 #ià
KMP_AFFINITY_SUPPORTED


20 #ià
KMP_USE_HWLOC


21 şas 
	cKMPHwlocAffš™y
 : 
public
 
KMPAffš™y
 {

22 
public
:

23 şas 
	cMask
 : 
public
 
KMPAffš™y
::
Mask
 {

24 
hwloc_ıu£t_t
 
mask
;

26 
	mpublic
:

27 
Mask
() {

28 
mask
 = 
hwloc_b™m­_®loc
();

29 
	mthis
->
z”o
();

31 ~
Mask
(è{ 
hwloc_b™m­_ä“
(
mask
); }

32 
£t
(
i
è
	mov”ride
 { 
hwloc_b™m­_£t
(
mask
, i); }

33 
boŞ
 
is_£t
(
i
ècÚ¡ 
	mov”ride
 {  
hwloc_b™m­_is£t
(
mask
, i); }

34 
ş—r
(
i
è
	mov”ride
 { 
hwloc_b™m­_şr
(
mask
, i); }

35 
z”o
(è
	mov”ride
 { 
hwloc_b™m­_z”o
(
mask
); }

36 
cİy
(cÚ¡ 
KMPAffš™y
::
Mask
 *
¤c
è
ov”ride
 {

37 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
¤c
);

38 
hwloc_b™m­_cİy
(
mask
, 
cÚv”t
->mask);

40 
b™wi£_ªd
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

41 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

42 
hwloc_b™m­_ªd
(
mask
, mask, 
cÚv”t
->mask);

44 
b™wi£_Ü
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

45 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

46 
hwloc_b™m­_Ü
(
mask
, mask, 
cÚv”t
->mask);

48 
b™wi£_nÙ
(è
	mov”ride
 { 
hwloc_b™m­_nÙ
(
mask
, mask); }

49 
begš
(ècÚ¡ 
	mov”ride
 {  
hwloc_b™m­_fœ¡
(
mask
); }

50 
’d
(ècÚ¡ 
	mov”ride
 {  -1; }

51 
Ãxt
(
´evious
ècÚ¡ 
	mov”ride
 {

52  
hwloc_b™m­_Ãxt
(
mask
, 
´evious
);

54 
g‘_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
è
	mov”ride
 {

55 
KMP_ASSERT2
(
KMP_AFFINITY_CAPABLE
(),

57 
	m»tv®
 =

58 
hwloc_g‘_ıubšd
(
__kmp_hwloc_tİŞogy
, 
mask
, 
HWLOC_CPUBIND_THREAD
);

59 ià(
	m»tv®
 >= 0) {

62 
	m”rÜ
 = 
”ºo
;

63 ià(
	mabÜt_Ú_”rÜ
) {

64 
__kmp_çl
(
KMP_MSG
(
F©®SysE¼Ü
), 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

66  
	m”rÜ
;

68 
£t_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
ècÚ¡ 
	mov”ride
 {

69 
KMP_ASSERT2
(
KMP_AFFINITY_CAPABLE
(),

71 
	m»tv®
 =

72 
hwloc_£t_ıubšd
(
__kmp_hwloc_tİŞogy
, 
mask
, 
HWLOC_CPUBIND_THREAD
);

73 ià(
	m»tv®
 >= 0) {

76 
	m”rÜ
 = 
”ºo
;

77 ià(
	mabÜt_Ú_”rÜ
) {

78 
__kmp_çl
(
KMP_MSG
(
F©®SysE¼Ü
), 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

80  
	m”rÜ
;

82 
g‘_´oc_group
(ècÚ¡ 
	mov”ride
 {

83 
	mgroup
 = -1;

84 #ià
KMP_OS_WINDOWS


85 ià(
	m__kmp_num_´oc_groups
 == 1) {

88 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; i++) {

90 
	mfœ¡_32_b™s
 = 
hwloc_b™m­_to_™h_ulÚg
(
mask
, 
i
 * 2);

91 
	m£cÚd_32_b™s
 =

92 
hwloc_b™m­_to_™h_ulÚg
(
mask
, 
i
 * 2 + 1);

93 ià(
	mfœ¡_32_b™s
 =ğ0 && 
£cÚd_32_b™s
 == 0) {

96 ià(
	mgroup
 >= 0) {

99 
	mgroup
 = 
i
;

102  
	mgroup
;

105 
	$d‘”mše_ÿ·bË
(cÚ¡ *
v¬
è
ov”ride
 {

106 cÚ¡ 
hwloc_tİŞogy_suµÜt
 *
tİŞogy_suµÜt
;

107 ià(
__kmp_hwloc_tİŞogy
 =ğ
NULL
) {

108 ià(
	`hwloc_tİŞogy_š™
(&
__kmp_hwloc_tİŞogy
) < 0) {

109 
__kmp_hwloc_”rÜ
 = 
TRUE
;

110 ià(
__kmp_affš™y_v”bo£
)

111 
	`KMP_WARNING
(
AffHwlocE¼ÜOccu¼ed
, 
v¬
, "hwloc_topology_init()");

113 ià(
	`hwloc_tİŞogy_lßd
(
__kmp_hwloc_tİŞogy
) < 0) {

114 
__kmp_hwloc_”rÜ
 = 
TRUE
;

115 ià(
__kmp_affš™y_v”bo£
)

116 
	`KMP_WARNING
(
AffHwlocE¼ÜOccu¼ed
, 
v¬
, "hwloc_topology_load()");

119 
tİŞogy_suµÜt
 = 
	`hwloc_tİŞogy_g‘_suµÜt
(
__kmp_hwloc_tİŞogy
);

124 ià(
tİŞogy_suµÜt
 &&İŞogy_suµÜt->
ıubšd
->
£t_thi¡h»ad_ıubšd
 &&

125 
tİŞogy_suµÜt
->
ıubšd
->
g‘_thi¡h»ad_ıubšd
 &&

126 
tİŞogy_suµÜt
->
discov”y
->
pu
 && !
__kmp_hwloc_”rÜ
) {

128 
	`KMP_AFFINITY_ENABLE
(
TRUE
);

131 
__kmp_hwloc_”rÜ
 = 
TRUE
;

132 
	`KMP_AFFINITY_DISABLE
();

134 
	}
}

135 
	$bšd_th»ad
(
which
è
ov”ride
 {

136 
	`KMP_ASSERT2
(
	`KMP_AFFINITY_CAPABLE
(),

138 
KMPAffš™y
::
Mask
 *
mask
;

139 
	`KMP_CPU_ALLOC_ON_STACK
(
mask
);

140 
	`KMP_CPU_ZERO
(
mask
);

141 
	`KMP_CPU_SET
(
which
, 
mask
);

142 
	`__kmp_£t_sy¡em_affš™y
(
mask
, 
TRUE
);

143 
	`KMP_CPU_FREE_FROM_STACK
(
mask
);

144 
	}
}

145 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask
(è
ov”ride
 {  
Ãw
 
	`Mask
(); 
	}
}

146 
	$d—Îoÿ‹_mask
(
KMPAffš™y
::
Mask
 *
m
è
ov”ride
 { 
d–‘e
 m; 
	}
}

147 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask_¬¿y
(
num
è
ov”ride
 {

148  
Ãw
 
Mask
[
num
];

149 
	}
}

150 
	$d—Îoÿ‹_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
è
ov”ride
 {

151 
Mask
 *
hwloc_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

152 
d–‘e
[] 
hwloc_¬¿y
;

153 
	}
}

154 
	gKMPAffš™y
::
Mask
 *
	$šdex_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
,

155 
šdex
è
ov”ride
 {

156 
Mask
 *
hwloc_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

157  &(
hwloc_¬¿y
[
šdex
]);

158 
	}
}

159 
­i_ty³
 
	$g‘_­i_ty³
(ècÚ¡ 
ov”ride
 {  
HWLOC
; 
	}
}

163 #ià
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD


164 #ià
KMP_OS_LINUX


169 
	~<sys/sysÿÎ.h
>

170 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_ARM


171 #iâdeà
__NR_sched_£ffš™y


172 
	#__NR_sched_£ffš™y
 241

	)

173 #–ià
__NR_sched_£ffš™y
 != 241

174 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

176 #iâdeà
__NR_sched_g‘affš™y


177 
	#__NR_sched_g‘affš™y
 242

	)

178 #–ià
__NR_sched_g‘affš™y
 != 242

179 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

181 #–ià
KMP_ARCH_AARCH64


182 #iâdeà
__NR_sched_£ffš™y


183 
	#__NR_sched_£ffš™y
 122

	)

184 #–ià
__NR_sched_£ffš™y
 != 122

185 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

187 #iâdeà
__NR_sched_g‘affš™y


188 
	#__NR_sched_g‘affš™y
 123

	)

189 #–ià
__NR_sched_g‘affš™y
 != 123

190 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

192 #–ià
KMP_ARCH_X86_64


193 #iâdeà
__NR_sched_£ffš™y


194 
	#__NR_sched_£ffš™y
 203

	)

195 #–ià
__NR_sched_£ffš™y
 != 203

196 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

198 #iâdeà
__NR_sched_g‘affš™y


199 
	#__NR_sched_g‘affš™y
 204

	)

200 #–ià
__NR_sched_g‘affš™y
 != 204

201 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

203 #–ià
KMP_ARCH_PPC64


204 #iâdeà
__NR_sched_£ffš™y


205 
	#__NR_sched_£ffš™y
 222

	)

206 #–ià
__NR_sched_£ffš™y
 != 222

207 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

209 #iâdeà
__NR_sched_g‘affš™y


210 
	#__NR_sched_g‘affš™y
 223

	)

211 #–ià
__NR_sched_g‘affš™y
 != 223

212 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

214 #–ià
KMP_ARCH_MIPS


215 #iâdeà
__NR_sched_£ffš™y


216 
	#__NR_sched_£ffš™y
 4239

	)

217 #–ià
__NR_sched_£ffš™y
 != 4239

218 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

220 #iâdeà
__NR_sched_g‘affš™y


221 
	#__NR_sched_g‘affš™y
 4240

	)

222 #–ià
__NR_sched_g‘affš™y
 != 4240

223 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

225 #–ià
KMP_ARCH_MIPS64


226 #iâdeà
__NR_sched_£ffš™y


227 
	#__NR_sched_£ffš™y
 5195

	)

228 #–ià
__NR_sched_£ffš™y
 != 5195

229 #”rÜ 
WrÚg
 
code
 
£ffš™y
 
sy¡em
 
ÿÎ
.

231 #iâdeà
__NR_sched_g‘affš™y


232 
	#__NR_sched_g‘affš™y
 5196

	)

233 #–ià
__NR_sched_g‘affš™y
 != 5196

234 #”rÜ 
WrÚg
 
code
 
g‘affš™y
 
sy¡em
 
ÿÎ
.

236 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
¬ch™eùu»


238 #–ià
KMP_OS_FREEBSD


239 
	~<±h»ad.h
>

240 
	~<±h»ad_Å.h
>

242 şas 
	cKMPN©iveAffš™y
 : 
public
 
KMPAffš™y
 {

243 şas 
	cMask
 : 
public
 
KMPAffš™y
::
Mask
 {

244 
	tmask_t
;

245 cÚ¡ 
	mBITS_PER_MASK_T
 = (
mask_t
è* 
CHAR_BIT
;

247 
	mpublic
:

248 
mask_t
 *
mask
;

249 
Mask
(è{ 
	mmask
 = (
mask_t
 *)
__kmp_®loÿ‹
(
__kmp_affš_mask_size
); }

250 ~
Mask
() {

251 ià(
	mmask
)

252 
__kmp_ä“
(
mask
);

254 
£t
(
i
è
	mov”ride
 {

255 
	mmask
[
i
 / 
BITS_PER_MASK_T
] |ğ((
mask_t
)1 << (i % BITS_PER_MASK_T));

257 
boŞ
 
is_£t
(
i
ècÚ¡ 
	mov”ride
 {

258  (
	mmask
[
i
 / 
BITS_PER_MASK_T
] & ((
	mmask_t
)1 << (
	mi
 % 
	mBITS_PER_MASK_T
)));

260 
ş—r
(
i
è
	mov”ride
 {

261 
	mmask
[
i
 / 
BITS_PER_MASK_T
] &ğ~((
mask_t
)1 << (i % BITS_PER_MASK_T));

263 
z”o
(è
	mov”ride
 {

264 
size_t
 
	mi
 = 0; i < 
	m__kmp_affš_mask_size
; ++i)

265 
	mmask
[
i
] = 0;

267 
cİy
(cÚ¡ 
KMPAffš™y
::
Mask
 *
¤c
è
ov”ride
 {

268 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
¤c
);

269 
size_t
 
	mi
 = 0; i < 
	m__kmp_affš_mask_size
; ++i)

270 
	mmask
[
i
] = 
cÚv”t
->
mask
[i];

272 
b™wi£_ªd
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

273 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

274 
size_t
 
	mi
 = 0; i < 
	m__kmp_affš_mask_size
; ++i)

275 
	mmask
[
i
] &ğ
cÚv”t
->
mask
[i];

277 
b™wi£_Ü
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

278 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

279 
size_t
 
	mi
 = 0; i < 
	m__kmp_affš_mask_size
; ++i)

280 
	mmask
[
i
] |ğ
cÚv”t
->
mask
[i];

282 
b™wi£_nÙ
(è
	mov”ride
 {

283 
size_t
 
	mi
 = 0; i < 
	m__kmp_affš_mask_size
; ++i)

284 
	mmask
[
i
] = ~(
mask
[i]);

286 
begš
(ècÚ¡ 
	mov”ride
 {

287 
	m»tv®
 = 0;

288 
	m»tv®
 < 
’d
(è&& !
is_£t
(
»tv®
))

289 ++
	m»tv®
;

290  
	m»tv®
;

292 
’d
(ècÚ¡ 
	mov”ride
 {  
__kmp_affš_mask_size
 * 
	mBITS_PER_MASK_T
; }

293 
Ãxt
(
´evious
ècÚ¡ 
	mov”ride
 {

294 
	m»tv®
 = 
´evious
 + 1;

295 
	m»tv®
 < 
’d
(è&& !
is_£t
(
»tv®
))

296 ++
	m»tv®
;

297  
	m»tv®
;

299 
g‘_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
è
	mov”ride
 {

300 
KMP_ASSERT2
(
KMP_AFFINITY_CAPABLE
(),

302 #ià
KMP_OS_LINUX


303 
	m»tv®
 =

304 
sysÿÎ
(
__NR_sched_g‘affš™y
, 0, 
__kmp_affš_mask_size
, 
mask
);

305 #–ià
KMP_OS_FREEBSD


306 
	mr
 =

307 
±h»ad_g‘affš™y_Å
(
±h»ad_£lf
(), 
__kmp_affš_mask_size
, 
»š‹½»t_ÿ¡
<
ıu£t_t
 *>(
mask
));

308 
	m»tv®
 = (
r
 == 0 ? 0 : -1);

310 ià(
	m»tv®
 >= 0) {

313 
	m”rÜ
 = 
”ºo
;

314 ià(
	mabÜt_Ú_”rÜ
) {

315 
__kmp_çl
(
KMP_MSG
(
F©®SysE¼Ü
), 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

317  
	m”rÜ
;

319 
£t_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
ècÚ¡ 
	mov”ride
 {

320 
KMP_ASSERT2
(
KMP_AFFINITY_CAPABLE
(),

322 #ià
KMP_OS_LINUX


323 
	m»tv®
 =

324 
sysÿÎ
(
__NR_sched_£ffš™y
, 0, 
__kmp_affš_mask_size
, 
mask
);

325 #–ià
KMP_OS_FREEBSD


326 
	mr
 =

327 
±h»ad_£ffš™y_Å
(
±h»ad_£lf
(), 
__kmp_affš_mask_size
, 
»š‹½»t_ÿ¡
<
ıu£t_t
 *>(
mask
));

328 
	m»tv®
 = (
r
 == 0 ? 0 : -1);

330 ià(
	m»tv®
 >= 0) {

333 
	m”rÜ
 = 
”ºo
;

334 ià(
	mabÜt_Ú_”rÜ
) {

335 
__kmp_çl
(
KMP_MSG
(
F©®SysE¼Ü
), 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

337  
	m”rÜ
;

340 
	$d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
è
ov”ride
 {

341 
	`__kmp_affš™y_d‘”mše_ÿ·bË
(
’v_v¬
);

342 
	}
}

343 
	$bšd_th»ad
(
which
è
ov”ride
 { 
	`__kmp_affš™y_bšd_th»ad
(which); 
	}
}

344 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask
(è
ov”ride
 {

345 
KMPN©iveAffš™y
::
Mask
 *
»tv®
 = 
Ãw
 
	`Mask
();

346  
»tv®
;

347 
	}
}

348 
	$d—Îoÿ‹_mask
(
KMPAffš™y
::
Mask
 *
m
è
ov”ride
 {

349 
KMPN©iveAffš™y
::
Mask
 *
Çtive_mask
 =

350 
¡©ic_ÿ¡
<
KMPN©iveAffš™y
::
Mask
 *>(
m
);

351 
d–‘e
 
Çtive_mask
;

352 
	}
}

353 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask_¬¿y
(
num
è
ov”ride
 {

354  
Ãw
 
Mask
[
num
];

355 
	}
}

356 
	$d—Îoÿ‹_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
è
ov”ride
 {

357 
Mask
 *
lšux_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

358 
d–‘e
[] 
lšux_¬¿y
;

359 
	}
}

360 
	gKMPAffš™y
::
Mask
 *
	$šdex_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
,

361 
šdex
è
ov”ride
 {

362 
Mask
 *
lšux_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

363  &(
lšux_¬¿y
[
šdex
]);

364 
	}
}

365 
­i_ty³
 
	$g‘_­i_ty³
(ècÚ¡ 
ov”ride
 {  
NATIVE_OS
; 
	}
}

369 #ià
KMP_OS_WINDOWS


370 şas 
	cKMPN©iveAffš™y
 : 
public
 
KMPAffš™y
 {

371 şas 
	cMask
 : 
public
 
KMPAffš™y
::
Mask
 {

372 
ULONG_PTR
 
	tmask_t
;

373 cÚ¡ 
	mBITS_PER_MASK_T
 = (
mask_t
è* 
CHAR_BIT
;

374 
mask_t
 *
	mmask
;

376 
	mpublic
:

377 
Mask
() {

378 
mask
 = (
mask_t
 *)
__kmp_®loÿ‹
((mask_tè* 
__kmp_num_´oc_groups
);

380 ~
Mask
() {

381 ià(
	mmask
)

382 
__kmp_ä“
(
mask
);

384 
£t
(
i
è
	mov”ride
 {

385 
	mmask
[
i
 / 
BITS_PER_MASK_T
] |ğ((
mask_t
)1 << (i % BITS_PER_MASK_T));

387 
boŞ
 
is_£t
(
i
ècÚ¡ 
	mov”ride
 {

388  (
	mmask
[
i
 / 
BITS_PER_MASK_T
] & ((
	mmask_t
)1 << (
	mi
 % 
	mBITS_PER_MASK_T
)));

390 
ş—r
(
i
è
	mov”ride
 {

391 
	mmask
[
i
 / 
BITS_PER_MASK_T
] &ğ~((
mask_t
)1 << (i % BITS_PER_MASK_T));

393 
z”o
(è
	mov”ride
 {

394 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; ++i)

395 
	mmask
[
i
] = 0;

397 
cİy
(cÚ¡ 
KMPAffš™y
::
Mask
 *
¤c
è
ov”ride
 {

398 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
¤c
);

399 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; ++i)

400 
	mmask
[
i
] = 
cÚv”t
->
mask
[i];

402 
b™wi£_ªd
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

403 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

404 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; ++i)

405 
	mmask
[
i
] &ğ
cÚv”t
->
mask
[i];

407 
b™wi£_Ü
(cÚ¡ 
KMPAffš™y
::
Mask
 *
rhs
è
ov”ride
 {

408 cÚ¡ 
Mask
 *
cÚv”t
 = 
¡©ic_ÿ¡
<cÚ¡ Mask *>(
rhs
);

409 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; ++i)

410 
	mmask
[
i
] |ğ
cÚv”t
->
mask
[i];

412 
b™wi£_nÙ
(è
	mov”ride
 {

413 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; ++i)

414 
	mmask
[
i
] = ~(
mask
[i]);

416 
begš
(ècÚ¡ 
	mov”ride
 {

417 
	m»tv®
 = 0;

418 
	m»tv®
 < 
’d
(è&& !
is_£t
(
»tv®
))

419 ++
	m»tv®
;

420  
	m»tv®
;

422 
’d
(ècÚ¡ 
	mov”ride
 {  
__kmp_num_´oc_groups
 * 
	mBITS_PER_MASK_T
; }

423 
Ãxt
(
´evious
ècÚ¡ 
	mov”ride
 {

424 
	m»tv®
 = 
´evious
 + 1;

425 
	m»tv®
 < 
’d
(è&& !
is_£t
(
»tv®
))

426 ++
	m»tv®
;

427  
	m»tv®
;

429 
£t_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
ècÚ¡ 
	mov”ride
 {

430 ià(
	m__kmp_num_´oc_groups
 > 1) {

432 
GROUP_AFFINITY
 
	mga
;

433 
	mgroup
 = 
g‘_´oc_group
();

434 ià(
	mgroup
 < 0) {

435 ià(
	mabÜt_Ú_”rÜ
) {

436 
KMP_FATAL
(
Affš™yInv®idMask
, "kmp_set_affinity");

442 
	mga
.
	mGroup
 = 
group
;

443 
	mga
.
	mMask
 = 
mask
[
group
];

444 
	mga
.
	mRe£rved
[0] = 
ga
.
Re£rved
[1] = ga.Reserved[2] = 0;

446 
KMP_DEBUG_ASSERT
(
__kmp_S‘Th»adGroupAffš™y
 !ğ
NULL
);

447 ià(
__kmp_S‘Th»adGroupAffš™y
(
G‘Cu¼’tTh»ad
(), &
ga
, 
NULL
) == 0) {

448 
DWORD
 
”rÜ
 = 
G‘La¡E¼Ü
();

449 ià(
	mabÜt_Ú_”rÜ
) {

450 
__kmp_çl
(
KMP_MSG
(
CªtS‘Th»adAffMask
), 
KMP_ERR
(
”rÜ
),

451 
__kmp_msg_nuÎ
);

453  
	m”rÜ
;

456 ià(!
S‘Th»adAffš™yMask
(
G‘Cu¼’tTh»ad
(), *
mask
)) {

457 
DWORD
 
	m”rÜ
 = 
G‘La¡E¼Ü
();

458 ià(
	mabÜt_Ú_”rÜ
) {

459 
__kmp_çl
(
KMP_MSG
(
CªtS‘Th»adAffMask
), 
KMP_ERR
(
”rÜ
),

460 
__kmp_msg_nuÎ
);

462  
	m”rÜ
;

467 
g‘_sy¡em_affš™y
(
boŞ
 
abÜt_Ú_”rÜ
è
	mov”ride
 {

468 ià(
	m__kmp_num_´oc_groups
 > 1) {

469 
	mthis
->
z”o
();

470 
GROUP_AFFINITY
 
	mga
;

471 
KMP_DEBUG_ASSERT
(
__kmp_G‘Th»adGroupAffš™y
 !ğ
NULL
);

472 ià(
__kmp_G‘Th»adGroupAffš™y
(
G‘Cu¼’tTh»ad
(), &
ga
) == 0) {

473 
DWORD
 
”rÜ
 = 
G‘La¡E¼Ü
();

474 ià(
	mabÜt_Ú_”rÜ
) {

475 
__kmp_çl
(
KMP_MSG
(
FunùiÚE¼Ü
, "GetThreadGroupAffinity()"),

476 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

478  
	m”rÜ
;

480 ià((
	mga
.
	mGroup
 < 0è|| (ga.Grou°> 
	m__kmp_num_´oc_groups
) ||

481 (
	mga
.
	mMask
 == 0)) {

484 
	mmask
[
ga
.
Group
] = ga.
Mask
;

486 
mask_t
 
	mÃwMask
, 
	msysMask
, 
	m»tv®
;

487 ià(!
G‘ProûssAffš™yMask
(
G‘Cu¼’tProûss
(), &
ÃwMask
, &
sysMask
)) {

488 
DWORD
 
	m”rÜ
 = 
G‘La¡E¼Ü
();

489 ià(
	mabÜt_Ú_”rÜ
) {

490 
__kmp_çl
(
KMP_MSG
(
FunùiÚE¼Ü
, "GetProcessAffinityMask()"),

491 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

493  
	m”rÜ
;

495 
	m»tv®
 = 
S‘Th»adAffš™yMask
(
G‘Cu¼’tTh»ad
(), 
ÃwMask
);

496 ià(!
	m»tv®
) {

497 
DWORD
 
	m”rÜ
 = 
G‘La¡E¼Ü
();

498 ià(
	mabÜt_Ú_”rÜ
) {

499 
__kmp_çl
(
KMP_MSG
(
FunùiÚE¼Ü
, "SetThreadAffinityMask()"),

500 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

502  
	m”rÜ
;

504 
	mÃwMask
 = 
S‘Th»adAffš™yMask
(
G‘Cu¼’tTh»ad
(), 
»tv®
);

505 ià(!
	mÃwMask
) {

506 
DWORD
 
	m”rÜ
 = 
G‘La¡E¼Ü
();

507 ià(
	mabÜt_Ú_”rÜ
) {

508 
__kmp_çl
(
KMP_MSG
(
FunùiÚE¼Ü
, "SetThreadAffinityMask()"),

509 
KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

512 *
	mmask
 = 
»tv®
;

516 
g‘_´oc_group
(ècÚ¡ 
	mov”ride
 {

517 
	mgroup
 = -1;

518 ià(
	m__kmp_num_´oc_groups
 == 1) {

521 
	mi
 = 0; i < 
	m__kmp_num_´oc_groups
; i++) {

522 ià(
	mmask
[
i
] == 0)

524 ià(
	mgroup
 >= 0)

526 
	mgroup
 = 
i
;

528  
	mgroup
;

531 
	$d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
è
ov”ride
 {

532 
	`__kmp_affš™y_d‘”mše_ÿ·bË
(
’v_v¬
);

533 
	}
}

534 
	$bšd_th»ad
(
which
è
ov”ride
 { 
	`__kmp_affš™y_bšd_th»ad
(which); 
	}
}

535 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask
(è
ov”ride
 {  
Ãw
 
	`Mask
(); 
	}
}

536 
	$d—Îoÿ‹_mask
(
KMPAffš™y
::
Mask
 *
m
è
ov”ride
 { 
d–‘e
 m; 
	}
}

537 
	gKMPAffš™y
::
Mask
 *
	$®loÿ‹_mask_¬¿y
(
num
è
ov”ride
 {

538  
Ãw
 
Mask
[
num
];

539 
	}
}

540 
	$d—Îoÿ‹_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
è
ov”ride
 {

541 
Mask
 *
wšdows_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

542 
d–‘e
[] 
wšdows_¬¿y
;

543 
	}
}

544 
	gKMPAffš™y
::
Mask
 *
	$šdex_mask_¬¿y
(
KMPAffš™y
::
Mask
 *
¬¿y
,

545 
šdex
è
ov”ride
 {

546 
Mask
 *
wšdows_¬¿y
 = 
¡©ic_ÿ¡
<Mask *>(
¬¿y
);

547  &(
wšdows_¬¿y
[
šdex
]);

548 
	}
}

549 
­i_ty³
 
	$g‘_­i_ty³
(ècÚ¡ 
ov”ride
 {  
NATIVE_OS
; 
	}
}

554 şas 
	cAdd»ss
 {

555 
	mpublic
:

556 cÚ¡ 
maxD•th
 = 32;

557 
	mÏb–s
[
maxD•th
];

558 
	mchdNums
[
maxD•th
];

559 
	md•th
;

560 
	mËad”
;

561 
	$Add»ss
(
_d•th
è: 
	`d•th
(_d•th), 
	$Ëad”
(
FALSE
) {}

562 
Add»ss
 &
İ”©Ü
=(cÚ¡ Add»s &
b
) {

563 
d•th
 = 
b
.depth;

564 
i
 = 0; i < 
d•th
; i++) {

565 
Ïb–s
[
i
] = 
b
.labels[i];

566 
chdNums
[
i
] = 
b
.childNums[i];

568 
Ëad”
 = 
FALSE
;

569  *
this
;

570 
	}
}

571 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Add»ss
 &
b
) const {

572 ià(
d•th
 !ğ
b
.depth)

573  
çl£
;

574 
	gi
 = 0; i < 
	gd•th
; i++)

575 ià(
	gÏb–s
[
i
] !ğ
b
.
Ïb–s
[i])

576  
çl£
;

577  
	gŒue
;

579 
boŞ
 
	$isClo£
(cÚ¡ 
Add»ss
 &
b
, 
Ëv–
) const {

580 ià(
d•th
 !ğ
b
.depth)

581  
çl£
;

582 ià(()
Ëv–
 >ğ
d•th
)

583  
Œue
;

584 
i
 = 0; i < (
d•th
 - 
Ëv–
); i++)

585 ià(
Ïb–s
[
i
] !ğ
b
.labels[i])

586  
çl£
;

587  
Œue
;

588 
	}
}

589 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Add»ss
 &
b
ècÚ¡ {  !
İ”©Ü
==(b); }

590 
	$´št
() const {

591 
i
;

592 
	`´štf
("D•th: %u --- ", 
d•th
);

593 
i
 = 0; i < 
d•th
; i++) {

594 
	`´štf
("%u ", 
Ïb–s
[
i
]);

596 
	}
}

599 şas 
	cAddrUnsPaœ
 {

600 
	mpublic
:

601 
Add»ss
 
fœ¡
;

602 
	m£cÚd
;

603 
	$AddrUnsPaœ
(
Add»ss
 
_fœ¡
, 
_£cÚd
)

604 : 
	`fœ¡
(
_fœ¡
), 
	$£cÚd
(
_£cÚd
) {}

605 
AddrUnsPaœ
 &
İ”©Ü
=(cÚ¡ AddrUnsPaœ &
b
) {

606 
fœ¡
 = 
b
.first;

607 
£cÚd
 = 
b
.second;

608  *
this
;

609 
	}
}

610 
	$´št
() const {

611 
	`´štf
("first = ");

612 
fœ¡
.
	`´št
();

613 
	`´štf
(" --- secÚd = %u", 
£cÚd
);

614 
	}
}

615 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
AddrUnsPaœ
 &
b
) const {

616 ià(
fœ¡
 !ğ
b
.first)

617  
çl£
;

618 ià(
	g£cÚd
 !ğ
b
.
£cÚd
)

619  
çl£
;

620  
	gŒue
;

622 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
AddrUnsPaœ
 &
b
ècÚ¡ {  !
İ”©Ü
==(b); }

625 
	$__kmp_affš™y_cmp_Add»ss_Ïb–s
(cÚ¡ *
a
, cÚ¡ *
b
) {

626 cÚ¡ 
Add»ss
 *
¯
 = &(((cÚ¡ 
AddrUnsPaœ
 *)
a
)->
fœ¡
);

627 cÚ¡ 
Add»ss
 *
bb
 = &(((cÚ¡ 
AddrUnsPaœ
 *)
b
)->
fœ¡
);

628 
d•th
 = 
¯
->depth;

629 
i
;

630 
	`KMP_DEBUG_ASSERT
(
d•th
 =ğ
bb
->depth);

631 
i
 = 0; i < 
d•th
; i++) {

632 ià(
¯
->
Ïb–s
[
i
] < 
bb
->labels[i])

634 ià(
¯
->
Ïb–s
[
i
] > 
bb
->labels[i])

638 
	}
}

646 şas 
	ch›¿rchy_šfo
 {

647 
	mpublic
:

650 cÚ¡ 
kmp_ušt32
 
maxL—ves
 = 4;

651 cÚ¡ 
kmp_ušt32
 
	mmšB¿nch
 = 4;

657 
kmp_ušt32
 
	mmaxLev–s
;

663 
kmp_ušt32
 
	md•th
;

664 
kmp_ušt32
 
	mba£_num_th»ads
;

665 
	eš™_¡©us
 { 
	mš™Ÿlized
 = 0, 
	mnÙ_š™Ÿlized
 = 1, 
	mš™Ÿlizšg
 = 2 };

666 vŞ©
kmp_št8
 
	gunš™Ÿlized
;

668 vŞ©
kmp_št8
 
	g»sizšg
;

674 
kmp_ušt32
 *
	gnumP”Lev–
;

675 
kmp_ušt32
 *
	gskP”Lev–
;

677 
	$d”iveLev–s
(
AddrUnsPaœ
 *
adr2os
, 
num_addrs
) {

678 
h›r_d•th
 = 
adr2os
[0].
fœ¡
.
d•th
;

679 
Ëv–
 = 0;

680 
i
 = 
h›r_d•th
 - 1; i >= 0; --i) {

681 
max
 = -1;

682 
j
 = 0; j < 
num_addrs
; ++j) {

683 
Ãxt
 = 
adr2os
[
j
].
fœ¡
.
chdNums
[
i
];

684 ià(
Ãxt
 > 
max
)

685 
max
 = 
Ãxt
;

687 
numP”Lev–
[
Ëv–
] = 
max
 + 1;

688 ++
Ëv–
;

690 
	}
}

692 
	$h›¿rchy_šfo
()

693 : 
	`maxLev–s
(7), 
	`d•th
(1), 
	`unš™Ÿlized
(
nÙ_š™Ÿlized
), 
	$»sizšg
(0è{
	}
}

695 
	$fši
() {

696 ià(!
unš™Ÿlized
 && 
numP”Lev–
) {

697 
	`__kmp_ä“
(
numP”Lev–
);

698 
numP”Lev–
 = 
NULL
;

699 
unš™Ÿlized
 = 
nÙ_š™Ÿlized
;

701 
	}
}

703 
	$š™
(
AddrUnsPaœ
 *
adr2os
, 
num_addrs
) {

704 
kmp_št8
 
boŞ_»suÉ
 = 
	`KMP_COMPARE_AND_STORE_ACQ8
(

705 &
unš™Ÿlized
, 
nÙ_š™Ÿlized
, 
š™Ÿlizšg
);

706 ià(
boŞ_»suÉ
 == 0) {

707 
	`TCR_1
(
unš™Ÿlized
è!ğ
š™Ÿlized
)

708 
	`KMP_CPU_PAUSE
();

711 
	`KMP_DEBUG_ASSERT
(
boŞ_»suÉ
 == 1);

717 
d•th
 = 1;

718 
»sizšg
 = 0;

719 
maxLev–s
 = 7;

720 
numP”Lev–
 =

721 (
kmp_ušt32
 *)
	`__kmp_®loÿ‹
(
maxLev–s
 * 2 * (kmp_uint32));

722 
skP”Lev–
 = &(
numP”Lev–
[
maxLev–s
]);

723 
kmp_ušt32
 
i
 = 0; i < 
maxLev–s
;

724 ++
i
) {

725 
numP”Lev–
[
i
] = 1;

726 
skP”Lev–
[
i
] = 1;

730 ià(
adr2os
) {

731 
	`qsÜt
(
adr2os
, 
num_addrs
, (*adr2os),

732 
__kmp_affš™y_cmp_Add»ss_Ïb–s
);

733 
	`d”iveLev–s
(
adr2os
, 
num_addrs
);

735 
numP”Lev–
[0] = 
maxL—ves
;

736 
numP”Lev–
[1] = 
num_addrs
 / 
maxL—ves
;

737 ià(
num_addrs
 % 
maxL—ves
)

738 
numP”Lev–
[1]++;

741 
ba£_num_th»ads
 = 
num_addrs
;

742 
i
 = 
maxLev–s
 - 1; i >= 0;

743 --
i
)

744 ià(
numP”Lev–
[
i
] !ğ1 || 
d•th
 > 1)

745 
d•th
++;

747 
kmp_ušt32
 
b¿nch
 = 
mšB¿nch
;

748 ià(
numP”Lev–
[0] == 1)

749 
b¿nch
 = 
num_addrs
 / 
maxL—ves
;

750 ià(
b¿nch
 < 
mšB¿nch
)

751 
b¿nch
 = 
mšB¿nch
;

752 
kmp_ušt32
 
d
 = 0; d < 
d•th
 - 1; ++d) {

753 
numP”Lev–
[
d
] > 
b¿nch
 ||

754 (
d
 =ğ0 && 
numP”Lev–
[d] > 
maxL—ves
)) {

755 ià(
numP”Lev–
[
d
] & 1)

756 
numP”Lev–
[
d
]++;

757 
numP”Lev–
[
d
] =‚umPerLevel[d] >> 1;

758 ià(
numP”Lev–
[
d
 + 1] == 1)

759 
d•th
++;

760 
numP”Lev–
[
d
 + 1] =‚umPerLevel[d + 1] << 1;

762 ià(
numP”Lev–
[0] == 1) {

763 
b¿nch
 = branch >> 1;

764 ià(
b¿nch
 < 4)

765 
b¿nch
 = 
mšB¿nch
;

769 
kmp_ušt32
 
i
 = 1; i < 
d•th
; ++i)

770 
skP”Lev–
[
i
] = 
numP”Lev–
[i - 1] * skipPerLevel[i - 1];

772 
kmp_ušt32
 
i
 = 
d•th
; i < 
maxLev–s
; ++i)

773 
skP”Lev–
[
i
] = 2 * skipPerLevel[i - 1];

775 
unš™Ÿlized
 = 
š™Ÿlized
;

776 
	}
}

779 
	$»size
(
kmp_ušt32
 
Åroc
) {

780 
kmp_št8
 
boŞ_»suÉ
 = 
	`KMP_COMPARE_AND_STORE_ACQ8
(&
»sizšg
, 0, 1);

781 
boŞ_»suÉ
 == 0) {

782 
	`KMP_CPU_PAUSE
();

783 ià(
Åroc
 <ğ
ba£_num_th»ads
)

786 
boŞ_»suÉ
 = 
	`KMP_COMPARE_AND_STORE_ACQ8
(&
»sizšg
, 0, 1);

788 
	`KMP_DEBUG_ASSERT
(
boŞ_»suÉ
 != 0);

789 ià(
Åroc
 <ğ
ba£_num_th»ads
)

793 
kmp_ušt32
 
Şd_sz
 = 
skP”Lev–
[
d•th
 - 1];

794 
kmp_ušt32
 
šcs
 = 0, 
Şd_maxLev–s
 = 
maxLev–s
;

796 
kmp_ušt32
 
i
 = 
d•th
; i < 
maxLev–s
 && 
Åroc
 > 
Şd_sz
; ++i) {

797 
skP”Lev–
[
i
] = 2 * skipPerLevel[i - 1];

798 
numP”Lev–
[
i
 - 1] *= 2;

799 
Şd_sz
 *= 2;

800 
d•th
++;

802 ià(
Åroc
 > 
Şd_sz
) {

803 
Åroc
 > 
Şd_sz
) {

804 
Şd_sz
 *= 2;

805 
šcs
++;

806 
d•th
++;

808 
maxLev–s
 +ğ
šcs
;

811 
kmp_ušt32
 *
Şd_numP”Lev–
 = 
numP”Lev–
;

812 
kmp_ušt32
 *
Şd_skP”Lev–
 = 
skP”Lev–
;

813 
numP”Lev–
 = 
skP”Lev–
 = 
NULL
;

814 
numP”Lev–
 =

815 (
kmp_ušt32
 *)
	`__kmp_®loÿ‹
(
maxLev–s
 * 2 * (kmp_uint32));

816 
skP”Lev–
 = &(
numP”Lev–
[
maxLev–s
]);

819 
kmp_ušt32
 
i
 = 0; i < 
Şd_maxLev–s
;

820 ++
i
) {

821 
numP”Lev–
[
i
] = 
Şd_numP”Lev–
[i];

822 
skP”Lev–
[
i
] = 
Şd_skP”Lev–
[i];

826 
kmp_ušt32
 
i
 = 
Şd_maxLev–s
; i < 
maxLev–s
;

827 ++
i
) {

828 
numP”Lev–
[
i
] = 1;

829 
skP”Lev–
[
i
] = 1;

833 
	`__kmp_ä“
(
Şd_numP”Lev–
);

837 
kmp_ušt32
 
i
 = 
Şd_maxLev–s
; i < 
maxLev–s
; ++i)

838 
skP”Lev–
[
i
] = 2 * skipPerLevel[i - 1];

840 
ba£_num_th»ads
 = 
Åroc
;

841 
»sizšg
 = 0;

842 
	}
}

	@kmp_alloc.cpp

13 
	~"kmp.h
"

14 
	~"kmp_io.h
"

15 
	~"kmp_w¿µ”_m®loc.h
"

18 #ià
KMP_USE_BGET


22 (*
	tbg‘_com·ù_t
)(
	tsize_t
, );

23 *(*
	tbg‘_acquœe_t
)(
	tsize_t
);

24 (*
	tbg‘_»Ëa£_t
)(*);

28 #ià
KMP_OS_WINDOWS


29 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_ARM


30 
kmp_št32
 
	tbufsize
;

32 
kmp_št64
 
	tbufsize
;

35 
ssize_t
 
	tbufsize
;

40 
	ebg‘_mode
 {

41 
bg‘_mode_fifo
 = 0,

42 
bg‘_mode_lifo
 = 1,

43 
bg‘_mode_be¡
 = 2

44 } 
	tbg‘_mode_t
;

46 
	`bpoŞ
(
kmp_šfo_t
 *
th
, *
bufãr
, 
bufsize
 
Ën
);

47 *
	`bg‘
(
kmp_šfo_t
 *
th
, 
bufsize
 
size
);

48 *
	`bg‘z
(
kmp_šfo_t
 *
th
, 
bufsize
 
size
);

49 *
	`bg‘r
(
kmp_šfo_t
 *
th
, *
bufãr
, 
bufsize
 
Ãwsize
);

50 
	`b»l
(
kmp_šfo_t
 *
th
, *
buf
);

51 
	`beùl
(
kmp_šfo_t
 *
th
, 
bg‘_com·ù_t
 
com·ù
,

52 
bg‘_acquœe_t
 
acquœe
, 
bg‘_»Ëa£_t
 
»Ëa£
,

53 
bufsize
 
poŞ_šü
);

62 #ià
KMP_ARCH_X86
 || !
KMP_HAVE_QUAD


64 
	#SizeQuªt
 8

	)

65 
	#AlignTy³
 

	)

69 
	#SizeQuªt
 16

	)

70 
	#AlignTy³
 
_Quad


	)

77 
	#BufSts
 1

	)

79 #ifdeà
KMP_DEBUG


83 
	#BufDump
 1

	)

87 
	#BufV®id
 1

	)

91 
	#DumpD©a
 1

	)

93 #ifdeà
NOT_USED_NOW


97 
	#F»eWe
 1

	)

101 
	#Be¡F™
 1

	)

106 
bufsize
 
bg‘_bš_size
[] = {

122 
	}
};

124 
	#MAX_BGET_BINS
 ()((
bg‘_bš_size
è/ (
bufsize
))

	)

126 
	gbfh—d
;

131 
	sqlšks
 {

132 
bfh—d
 *
	mæšk
;

133 
bfh—d
 *
	mblšk
;

134 } 
	tqlšks_t
;

137 
	sbh—d2
 {

138 
kmp_šfo_t
 *
	mbthr
;

139 
bufsize
 
	m´evä“
;

141 
bufsize
 
	mbsize
;

142 } 
	tbh—d2_t
;

145 
	ubh—d
 {

146 
KMP_ALIGN
(
SizeQuªt
)

147 
AlignTy³
 
	mb_®ign
;

148 
	mb_·d
[(
bh—d2_t
è+ (
SizeQuªt
 - ((bhead2_t) % SizeQuant))];

149 
bh—d2_t
 
	mbb
;

150 } 
	tbh—d_t
;

151 
	#BH
(
p
è((
bh—d_t
 *)Õ))

	)

154 
	sbdh—d
 {

155 
bufsize
 
	mtsize
;

156 
bh—d_t
 
	mbh
;

157 } 
	tbdh—d_t
;

158 
	#BDH
(
p
è((
bdh—d_t
 *)Õ))

	)

161 
	sbfh—d
 {

162 
bh—d_t
 
	mbh
;

163 
qlšks_t
 
	mql
;

164 } 
	tbfh—d_t
;

165 
	#BFH
(
p
è((
bfh—d_t
 *)Õ))

	)

167 
	sthr_d©a
 {

168 
bfh—d_t
 
	mä“li¡
[
MAX_BGET_BINS
];

169 #ià
BufSts


170 
size_t
 
	mtÙ®loc
;

171 
	mnumg‘
, 
	mnum»l
;

172 
	mnumpblk
;

173 
	mnumpg‘
, 
	mnum´–
;

174 
	mnumdg‘
, 
	mnumd»l
;

178 
bg‘_com·ù_t
 
	mcompfú
;

179 
bg‘_acquœe_t
 
	macqfú
;

180 
bg‘_»Ëa£_t
 
	m»lfú
;

182 
bg‘_mode_t
 
	mmode
;

184 
bufsize
 
	mexp_šü
;

185 
bufsize
 
	mpoŞ_Ën
;

189 
bfh—d_t
 *
	mÏ¡_poŞ
;

190 } 
	tthr_d©a_t
;

193 
	#QLSize
 ((
qlšks_t
))

	)

194 
	#SizeQ
 ((
SizeQuªt
 > 
QLSize
è? SizeQuªˆ: QLSize)

	)

195 
	#MaxSize
 \

196 (
bufsize
)( \

197 ~(((
bufsize
)(1è<< ((bufsizeè* 
CHAR_BIT
 - 1)è| (
SizeQuªt
 - 1)))

	)

204 
	#ES’t
 \

205 ((
bufsize
)(-(((((bufsize)1è<< (()(bufsizeè* 8 - 2)è- 1è* 2è- 2))

	)

208 
	$bg‘_g‘_bš
(
bufsize
 
size
) {

210 
lo
 = 0, 
hi
 = 
MAX_BGET_BINS
 - 1;

212 
	`KMP_DEBUG_ASSERT
(
size
 > 0);

214 (
hi
 - 
lo
) > 1) {

215 
mid
 = (
lo
 + 
hi
) >> 1;

216 ià(
size
 < 
bg‘_bš_size
[
mid
])

217 
hi
 = 
mid
 - 1;

219 
lo
 = 
mid
;

222 
	`KMP_DEBUG_ASSERT
((
lo
 >ğ0è&& (lØ< 
MAX_BGET_BINS
));

224  
lo
;

225 
	}
}

227 
	$£t_thr_d©a
(
kmp_šfo_t
 *
th
) {

228 
i
;

229 
thr_d©a_t
 *
d©a
;

231 
d©a
 = (
thr_d©a_t
 *)((!
th
->th.
th_loÿl
.
bg‘_d©a
)

232 ? 
	`__kmp_®loÿ‹
((*
d©a
))

233 : 
th
->th.
th_loÿl
.
bg‘_d©a
);

235 
	`mem£t
(
d©a
, '\0', (*data));

237 
i
 = 0; i < 
MAX_BGET_BINS
; ++i) {

238 
d©a
->
ä“li¡
[
i
].
ql
.
æšk
 = &data->freelist[i];

239 
d©a
->
ä“li¡
[
i
].
ql
.
blšk
 = &data->freelist[i];

242 
th
->th.
th_loÿl
.
bg‘_d©a
 = 
d©a
;

243 
th
->th.
th_loÿl
.
bg‘_li¡
 = 0;

244 #ià!
USE_CMP_XCHG_FOR_BGET


245 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


246 
	`__kmp_š™_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

248 
	`__kmp_š™_boÙ¡¿p_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

251 
	}
}

253 
thr_d©a_t
 *
	$g‘_thr_d©a
(
kmp_šfo_t
 *
th
) {

254 
thr_d©a_t
 *
d©a
;

256 
d©a
 = (
thr_d©a_t
 *)
th
->th.
th_loÿl
.
bg‘_d©a
;

258 
	`KMP_DEBUG_ASSERT
(
d©a
 != 0);

260  
d©a
;

261 
	}
}

264 
	$__kmp_bg‘_dequeue
(
kmp_šfo_t
 *
th
) {

265 *
p
 = 
	`TCR_SYNC_PTR
(
th
->th.
th_loÿl
.
bg‘_li¡
);

267 ià(
p
 != 0) {

268 #ià
USE_CMP_XCHG_FOR_BGET


270 vŞ©*
Şd_v®ue
 = 
	`TCR_SYNC_PTR
(
th
->th.
th_loÿl
.
bg‘_li¡
);

271 !
	`KMP_COMPARE_AND_STORE_PTR
(&
th
->th.
th_loÿl
.
bg‘_li¡
,

272 
	`CCAST
(*, 
Şd_v®ue
), 
nuÎ±r
)) {

273 
	`KMP_CPU_PAUSE
();

274 
Şd_v®ue
 = 
	`TCR_SYNC_PTR
(
th
->th.
th_loÿl
.
bg‘_li¡
);

276 
p
 = 
	`CCAST
(*, 
Şd_v®ue
);

279 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


280 
	`__kmp_acquœe_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
, 
	`__kmp_gtid_äom_th»ad
(th));

282 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

285 
p
 = (*)
th
->th.
th_loÿl
.
bg‘_li¡
;

286 
th
->th.
th_loÿl
.
bg‘_li¡
 = 0;

288 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


289 
	`__kmp_»Ëa£_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
, 
	`__kmp_gtid_äom_th»ad
(th));

291 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

296 
p
 != 0) {

297 *
buf
 = 
p
;

298 
bfh—d_t
 *
b
 = 
	`BFH
(((*)
p
è- (
bh—d_t
));

300 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
bsize
 != 0);

301 
	`KMP_DEBUG_ASSERT
(((
kmp_ušŒ_t
)
	`TCR_PTR
(
b
->
bh
.
bb
.
bthr
) & ~1) ==

302 (
kmp_ušŒ_t
)
th
);

303 
	`KMP_DEBUG_ASSERT
(
b
->
ql
.
blšk
 == 0);

305 
p
 = (*)
b
->
ql
.
æšk
;

307 
	`b»l
(
th
, 
buf
);

310 
	}
}

313 
__kmp_bg‘_’queue
(
kmp_šfo_t
 *
th
, *
buf


314 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


316 
kmp_št32
 
»l_gtid


319 
bfh—d_t
 *
	gb
 = 
BFH
(((*)
buf
è- (
bh—d_t
));

321 
KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
bsize
 != 0);

322 
KMP_DEBUG_ASSERT
(((
kmp_ušŒ_t
)
TCR_PTR
(
b
->
bh
.
bb
.
bthr
) & ~1) ==

323 (
kmp_ušŒ_t
)
th
);

325 
	gb
->
	gql
.
	gblšk
 = 0;

327 
KC_TRACE
(10, ("__kmp_bget_enqueue: moving buffero T#%d†ist\n",

328 
__kmp_gtid_äom_th»ad
(
th
)));

330 #ià
USE_CMP_XCHG_FOR_BGET


332 vŞ©*
	gŞd_v®ue
 = 
TCR_PTR
(
th
->th.
th_loÿl
.
bg‘_li¡
);

335 
	gb
->
	gql
.
	gæšk
 = 
BFH
(
CCAST
(*, 
Şd_v®ue
));

337 !
KMP_COMPARE_AND_STORE_PTR
(&
th
->th.
th_loÿl
.
bg‘_li¡
,

338 
CCAST
(*, 
Şd_v®ue
), 
buf
)) {

339 
KMP_CPU_PAUSE
();

340 
	gŞd_v®ue
 = 
TCR_PTR
(
th
->th.
th_loÿl
.
bg‘_li¡
);

343 
	gb
->
	gql
.
	gæšk
 = 
BFH
(
CCAST
(*, 
Şd_v®ue
));

347 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


348 
__kmp_acquœe_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
, 
»l_gtid
);

350 
__kmp_acquœe_boÙ¡¿p_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

353 
	gb
->
	gql
.
	gæšk
 = 
BFH
(
th
->th.
th_loÿl
.
bg‘_li¡
);

354 
	gth
->th.
	gth_loÿl
.
	gbg‘_li¡
 = (*)
buf
;

356 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


357 
__kmp_»Ëa£_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
, 
»l_gtid
);

359 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
th
->th.
th_loÿl
.
bg‘_lock
);

365 
	$__kmp_bg‘_š£¹_što_ä“li¡
(
thr_d©a_t
 *
thr
, 
bfh—d_t
 *
b
) {

366 
bš
;

368 
	`KMP_DEBUG_ASSERT
(((
size_t
)
b
è% 
SizeQuªt
 == 0);

369 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
bsize
 % 
SizeQuªt
 == 0);

371 
bš
 = 
	`bg‘_g‘_bš
(
b
->
bh
.
bb
.
bsize
);

373 
	`KMP_DEBUG_ASSERT
(
thr
->
ä“li¡
[
bš
].
ql
.
blšk
->ql.
æšk
 ==

374 &
thr
->
ä“li¡
[
bš
]);

375 
	`KMP_DEBUG_ASSERT
(
thr
->
ä“li¡
[
bš
].
ql
.
æšk
->ql.
blšk
 ==

376 &
thr
->
ä“li¡
[
bš
]);

378 
b
->
ql
.
æšk
 = &
thr
->
ä“li¡
[
bš
];

379 
b
->
ql
.
blšk
 = 
thr
->
ä“li¡
[
bš
].ql.blink;

381 
thr
->
ä“li¡
[
bš
].
ql
.
blšk
 = 
b
;

382 
b
->
ql
.
blšk
->ql.
æšk
 = b;

383 
	}
}

386 
	$__kmp_bg‘_»move_äom_ä“li¡
(
bfh—d_t
 *
b
) {

387 
	`KMP_DEBUG_ASSERT
(
b
->
ql
.
blšk
->ql.
æšk
 == b);

388 
	`KMP_DEBUG_ASSERT
(
b
->
ql
.
æšk
->ql.
blšk
 == b);

390 
b
->
ql
.
blšk
->ql.
æšk
 = b->ql.flink;

391 
b
->
ql
.
æšk
->ql.
blšk
 = b->ql.blink;

392 
	}
}

395 
	$bcheck
(
kmp_šfo_t
 *
th
, 
bufsize
 *
max_ä“
, bufsiz*
tÙ®_ä“
) {

396 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

397 
bš
;

399 *
tÙ®_ä“
 = *
max_ä“
 = 0;

401 
bš
 = 0; bš < 
MAX_BGET_BINS
; ++bin) {

402 
bfh—d_t
 *
b
, *
be¡
;

404 
be¡
 = &
thr
->
ä“li¡
[
bš
];

405 
b
 = 
be¡
->
ql
.
æšk
;

407 
b
 !ğ&
thr
->
ä“li¡
[
bš
]) {

408 *
tÙ®_ä“
 +ğ(
b
->
bh
.
bb
.
bsize
 - (
bh—d_t
));

409 ià((
be¡
 =ğ&
thr
->
ä“li¡
[
bš
]è|| (
b
->
bh
.
bb
.
bsize
 < best->bh.bb.bsize))

410 
be¡
 = 
b
;

413 
b
 = b->
ql
.
æšk
;

416 ià(*
max_ä“
 < 
be¡
->
bh
.
bb
.
bsize
)

417 *
max_ä“
 = 
be¡
->
bh
.
bb
.
bsize
;

420 ià(*
max_ä“
 > (
bufsize
)(
bh—d_t
))

421 *
max_ä“
 -ğ(
bh—d_t
);

422 
	}
}

425 *
	$bg‘
(
kmp_šfo_t
 *
th
, 
bufsize
 
»que¡ed_size
) {

426 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

427 
bufsize
 
size
 = 
»que¡ed_size
;

428 
bfh—d_t
 *
b
;

429 *
buf
;

430 
com·ù£q
 = 0;

431 
u£_blšk
 = 0;

433 
bfh—d_t
 *
be¡
;

435 ià(
size
 < 0 || siz+ (
bh—d_t
è> 
MaxSize
) {

436  
NULL
;

439 
	`__kmp_bg‘_dequeue
(
th
);

441 ià(
size
 < (
bufsize
)
SizeQ
) {

442 
size
 = 
SizeQ
;

444 #ià
	`defšed
(
SizeQuªt
) && (SizeQuant > 1)

445 
size
 = (siz+ (
SizeQuªt
 - 1)) & (~(SizeQuant - 1));

448 
size
 +ğ(
bh—d_t
);

449 
	`KMP_DEBUG_ASSERT
(
size
 >= 0);

450 
	`KMP_DEBUG_ASSERT
(
size
 % 
SizeQuªt
 == 0);

452 
u£_blšk
 = (
thr
->
mode
 =ğ
bg‘_mode_lifo
);

459 
bš
;

461 
bš
 = 
	`bg‘_g‘_bš
(
size
); bš < 
MAX_BGET_BINS
; ++bin) {

463 
b
 = (
u£_blšk
 ? 
thr
->
ä“li¡
[
bš
].
ql
.
blšk


464 : 
thr
->
ä“li¡
[
bš
].
ql
.
æšk
);

466 ià(
thr
->
mode
 =ğ
bg‘_mode_be¡
) {

467 
be¡
 = &
thr
->
ä“li¡
[
bš
];

471 
b
 !ğ&
thr
->
ä“li¡
[
bš
]) {

472 ià(
b
->
bh
.
bb
.
bsize
 >ğ(
bufsize
)
size
) {

473 ià((
be¡
 =ğ&
thr
->
ä“li¡
[
bš
]) ||

474 (
b
->
bh
.
bb
.
bsize
 < 
be¡
->bh.bb.bsize)) {

475 
be¡
 = 
b
;

480 
b
 = (
u£_blšk
 ? b->
ql
.
blšk
 : b->ql.
æšk
);

482 
b
 = 
be¡
;

485 
b
 !ğ&
thr
->
ä“li¡
[
bš
]) {

486 ià((
bufsize
)
b
->
bh
.
bb
.
bsize
 >ğ(bufsize)
size
) {

495 ià((
b
->
bh
.
bb
.
bsize
 - (
bufsize
)
size
) >

496 (
bufsize
)(
SizeQ
 + ((
bh—d_t
)))) {

497 
bh—d_t
 *
ba
, *
bn
;

499 
ba
 = 
	`BH
(((*)
b
è+ (b->
bh
.
bb
.
bsize
 - (
bufsize
)
size
));

500 
bn
 = 
	`BH
(((*)
ba
è+ 
size
);

502 
	`KMP_DEBUG_ASSERT
(
bn
->
bb
.
´evä“
 =ğ
b
->
bh
.bb.
bsize
);

505 
b
->
bh
.
bb
.
bsize
 -ğ(
bufsize
)
size
;

508 
ba
->
bb
.
´evä“
 = 
b
->
bh
.bb.
bsize
;

511 
ba
->
bb
.
bsize
 = -
size
;

514 
	`TCW_PTR
(
ba
->
bb
.
bthr
,

515 
th
);

517 
bn
->
bb
.
´evä“
 = 0;

520 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

521 
	`__kmp_bg‘_š£¹_što_ä“li¡
(
thr
, 
b
);

522 #ià
BufSts


523 
thr
->
tÙ®loc
 +ğ(
size_t
)
size
;

524 
thr
->
numg‘
++;

526 
buf
 = (*)((((*)
ba
è+ (
bh—d_t
)));

527 
	`KMP_DEBUG_ASSERT
(((
size_t
)
buf
è% 
SizeQuªt
 == 0);

528  
buf
;

530 
bh—d_t
 *
ba
;

532 
ba
 = 
	`BH
(((*)
b
è+ b->
bh
.
bb
.
bsize
);

534 
	`KMP_DEBUG_ASSERT
(
ba
->
bb
.
´evä“
 =ğ
b
->
bh
.bb.
bsize
);

539 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

540 #ià
BufSts


541 
thr
->
tÙ®loc
 +ğ(
size_t
)
b
->
bh
.
bb
.
bsize
;

542 
thr
->
numg‘
++;

545 
b
->
bh
.
bb
.
bsize
 = -(b->bh.bb.bsize);

548 
	`TCW_PTR
(
ba
->
bb
.
bthr
, 
th
);

551 
ba
->
bb
.
´evä“
 = 0;

554 
buf
 = (*)&(
b
->
ql
);

555 
	`KMP_DEBUG_ASSERT
(((
size_t
)
buf
è% 
SizeQuªt
 == 0);

556  
buf
;

561 
b
 = (
u£_blšk
 ? b->
ql
.
blšk
 : b->ql.
æšk
);

569 ià((
thr
->
compfú
 =ğ0è|| (!(*thr->compfú)(
size
, ++
com·ù£q
))) {

577 ià(
thr
->
acqfú
 != 0) {

578 ià(
size
 > (
bufsize
)(
thr
->
exp_šü
 - (
bh—d_t
))) {

581 
bdh—d_t
 *
bdh
;

583 
size
 +ğ(
bdh—d_t
è- (
bh—d_t
);

585 
	`KE_TRACE
(10, ("%%%%%% MALLOCĞ%d )\n", ()
size
));

588 
bdh
 = 
	`BDH
((*
thr
->
acqfú
)((
bufsize
)
size
));

589 ià(
bdh
 !ğ
NULL
) {

592 
bdh
->
bh
.
bb
.
bsize
 = 0;

595 
	`TCW_PTR
(
bdh
->
bh
.
bb
.
bthr
, 
th
);

597 
bdh
->
bh
.
bb
.
´evä“
 = 0;

598 
bdh
->
tsize
 = 
size
;

599 #ià
BufSts


600 
thr
->
tÙ®loc
 +ğ(
size_t
)
size
;

601 
thr
->
numg‘
++;

602 
thr
->
numdg‘
++;

604 
buf
 = (*)(
bdh
 + 1);

605 
	`KMP_DEBUG_ASSERT
(((
size_t
)
buf
è% 
SizeQuªt
 == 0);

606  
buf
;

612 *
ÃwpoŞ
;

614 
	`KE_TRACE
(10, ("%%%%%% MALLOCBĞ%d )\n", ()
thr
->
exp_šü
));

617 
ÃwpoŞ
 = (*
thr
->
acqfú
)((
bufsize
éhr->
exp_šü
);

618 
	`KMP_DEBUG_ASSERT
(((
size_t
)
ÃwpoŞ
è% 
SizeQuªt
 == 0);

619 ià(
ÃwpoŞ
 !ğ
NULL
) {

620 
	`bpoŞ
(
th
, 
ÃwpoŞ
, 
thr
->
exp_šü
);

621 
buf
 = 
	`bg‘
(

622 
th
, 
»que¡ed_size
);

623  
buf
;

630  
NULL
;

631 
	}
}

637 *
	$bg‘z
(
kmp_šfo_t
 *
th
, 
bufsize
 
size
) {

638 *
buf
 = (*)
	`bg‘
(
th
, 
size
);

640 ià(
buf
 !ğ
NULL
) {

641 
bh—d_t
 *
b
;

642 
bufsize
 
rsize
;

644 
b
 = 
	`BH
(
buf
 - (
bh—d_t
));

645 
rsize
 = -(
b
->
bb
.
bsize
);

646 ià(
rsize
 == 0) {

647 
bdh—d_t
 *
bd
;

649 
bd
 = 
	`BDH
(
buf
 - (
bdh—d_t
));

650 
rsize
 = 
bd
->
tsize
 - (
bufsize
)(
bdh—d_t
);

652 
rsize
 -ğ(
bh—d_t
);

655 
	`KMP_DEBUG_ASSERT
(
rsize
 >ğ
size
);

657 ()
	`mem£t
(
buf
, 0, (
bufsize
)
rsize
);

659  ((*)
buf
);

660 
	}
}

667 *
	$bg‘r
(
kmp_šfo_t
 *
th
, *
buf
, 
bufsize
 
size
) {

668 *
nbuf
;

669 
bufsize
 
osize
;

670 
bh—d_t
 *
b
;

672 
nbuf
 = 
	`bg‘
(
th
, 
size
);

673 ià(
nbuf
 =ğ
NULL
) {

674  
NULL
;

676 ià(
buf
 =ğ
NULL
) {

677  
nbuf
;

679 
b
 = 
	`BH
(((*)
buf
è- (
bh—d_t
));

680 
osize
 = -
b
->
bb
.
bsize
;

681 ià(
osize
 == 0) {

683 
bdh—d_t
 *
bd
;

685 
bd
 = 
	`BDH
(((*)
buf
è- (
bdh—d_t
));

686 
osize
 = 
bd
->
tsize
 - (
bufsize
)(
bdh—d_t
);

688 
osize
 -ğ(
bh—d_t
);

691 
	`KMP_DEBUG_ASSERT
(
osize
 > 0);

693 ()
	`KMP_MEMCPY
((*)
nbuf
, (*)
buf
,

694 (
size_t
)((
size
 < 
osize
) ? size : osize));

695 
	`b»l
(
th
, 
buf
);

697  
nbuf
;

698 
	}
}

701 
	$b»l
(
kmp_šfo_t
 *
th
, *
buf
) {

702 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

703 
bfh—d_t
 *
b
, *
bn
;

704 
kmp_šfo_t
 *
bth
;

706 
	`KMP_DEBUG_ASSERT
(
buf
 !ğ
NULL
);

707 
	`KMP_DEBUG_ASSERT
(((
size_t
)
buf
è% 
SizeQuªt
 == 0);

709 
b
 = 
	`BFH
(((*)
buf
è- (
bh—d_t
));

711 ià(
b
->
bh
.
bb
.
bsize
 == 0) {

712 
bdh—d_t
 *
bdh
;

714 
bdh
 = 
	`BDH
(((*)
buf
è- (
bdh—d_t
));

715 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
´evä“
 == 0);

716 #ià
BufSts


717 
thr
->
tÙ®loc
 -ğ(
size_t
)
bdh
->
tsize
;

718 
thr
->
numd»l
++;

719 
thr
->
num»l
++;

721 #ifdeà
F»eWe


722 ()
	`mem£t
((*)
buf
, 0x55, (
size_t
)(
bdh
->
tsize
 - (
bdh—d_t
)));

725 
	`KE_TRACE
(10, ("%%%%%% FREEĞ%°)\n", (*)
bdh
));

727 
	`KMP_DEBUG_ASSERT
(
thr
->
»lfú
 != 0);

728 (*
thr
->
»lfú
)((*)
bdh
);

732 
bth
 = (
kmp_šfo_t
 *)((
kmp_ušŒ_t
)
	`TCR_PTR
(
b
->
bh
.
bb
.
bthr
) &

734 ià(
bth
 !ğ
th
) {

736 
	`__kmp_bg‘_’queue
(
bth
, 
buf


737 #ifdeà
USE_QUEUING_LOCK_FOR_BGET


739 
	`__kmp_gtid_äom_th»ad
(
th
)

746 ià(
b
->
bh
.
bb
.
bsize
 >= 0) {

747 
bn
 = 
NULL
;

749 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
bsize
 < 0);

753 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 - b->
bh
.
bb
.
bsize
)->bb.
´evä“
 == 0);

755 #ià
BufSts


756 
thr
->
num»l
++;

757 
thr
->
tÙ®loc
 +ğ(
size_t
)
b
->
bh
.
bb
.
bsize
;

762 ià(
b
->
bh
.
bb
.
´evä“
 != 0) {

767 
bufsize
 
size
 = 
b
->
bh
.
bb
.
bsize
;

770 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 - b->
bh
.
bb
.
´evä“
)->bb.
bsize
 ==

771 
b
->
bh
.
bb
.
´evä“
);

772 
b
 = 
	`BFH
(((*)bè- b->
bh
.
bb
.
´evä“
);

773 
b
->
bh
.
bb
.
bsize
 -ğ
size
;

776 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

781 
b
->
bh
.
bb
.
bsize
 = -b->bh.bb.bsize;

785 
	`__kmp_bg‘_š£¹_što_ä“li¡
(
thr
, 
b
);

791 
bn
 = 
	`BFH
(((*)
b
è+ b->
bh
.
bb
.
bsize
);

792 ià(
bn
->
bh
.
bb
.
bsize
 > 0) {

796 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
bn
 + bn->
bh
.
bb
.
bsize
)->bb.
´evä“
 ==

797 
bn
->
bh
.
bb
.
bsize
);

799 
	`__kmp_bg‘_»move_äom_ä“li¡
(
bn
);

801 
b
->
bh
.
bb
.
bsize
 +ğ
bn
->bh.bb.bsize;

805 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

806 
	`__kmp_bg‘_š£¹_što_ä“li¡
(
thr
, 
b
);

814 
bn
 = 
	`BFH
(((*)
b
è+ b->
bh
.
bb
.
bsize
);

816 #ifdeà
F»eWe


817 ()
	`mem£t
(((*)
b
è+ (
bfh—d_t
), 0x55,

818 (
size_t
)(
b
->
bh
.
bb
.
bsize
 - (
bfh—d_t
)));

820 
	`KMP_DEBUG_ASSERT
(
bn
->
bh
.
bb
.
bsize
 < 0);

825 
bn
->
bh
.
bb
.
´evä“
 = 
b
->bh.bb.
bsize
;

831 ià(
thr
->
»lfú
 != 0 &&

832 
b
->
bh
.
bb
.
bsize
 =ğ(
bufsize
)(
thr
->
poŞ_Ën
 - (
bh—d_t
))) {

833 #ià
BufSts


834 ià(
thr
->
numpblk
 !=

838 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
´evä“
 == 0);

839 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 + b->
bh
.
bb
.
bsize
)->bb.bsiz=ğ
ES’t
);

840 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 + b->
bh
.
bb
.
bsize
)->bb.
´evä“
 ==

841 
b
->
bh
.
bb
.
bsize
);

844 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

846 
	`KE_TRACE
(10, ("%%%%%% FREEĞ%°)\n", (*)
b
));

848 (*
thr
->
»lfú
)(
b
);

849 #ià
BufSts


850 
thr
->
num´–
++;

851 
thr
->
numpblk
--;

852 
	`KMP_DEBUG_ASSERT
(
thr
->
numpblk
 =ğthr->
numpg‘
 -hr->
num´–
);

855 ià(
thr
->
Ï¡_poŞ
 =ğ
b
)

856 
thr
->
Ï¡_poŞ
 = 0;

858 
thr
->
Ï¡_poŞ
 = 
b
;

862 
	}
}

865 
	$beùl
(
kmp_šfo_t
 *
th
, 
bg‘_com·ù_t
 
com·ù
,

866 
bg‘_acquœe_t
 
acquœe
, 
bg‘_»Ëa£_t
 
»Ëa£
,

867 
bufsize
 
poŞ_šü
) {

868 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

870 
thr
->
compfú
 = 
com·ù
;

871 
thr
->
acqfú
 = 
acquœe
;

872 
thr
->
»lfú
 = 
»Ëa£
;

873 
thr
->
exp_šü
 = 
poŞ_šü
;

874 
	}
}

877 
	$bpoŞ
(
kmp_šfo_t
 *
th
, *
buf
, 
bufsize
 
Ën
) {

879 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

880 
bfh—d_t
 *
b
 = 
	`BFH
(
buf
);

881 
bh—d_t
 *
bn
;

883 
	`__kmp_bg‘_dequeue
(
th
);

885 #ifdeà
SizeQuªt


886 
Ën
 &ğ~(
SizeQuªt
 - 1);

888 ià(
thr
->
poŞ_Ën
 == 0) {

889 
thr
->
poŞ_Ën
 = 
Ën
;

890 } ià(
Ën
 !ğ
thr
->
poŞ_Ën
) {

891 
thr
->
poŞ_Ën
 = -1;

893 #ià
BufSts


894 
thr
->
numpg‘
++;

895 
thr
->
numpblk
++;

896 
	`KMP_DEBUG_ASSERT
(
thr
->
numpblk
 =ğthr->
numpg‘
 -hr->
num´–
);

902 
	`KMP_DEBUG_ASSERT
(
Ën
 - (
bh—d_t
è<ğ-((
bufsize
)
ES’t
 + 1));

907 
b
->
bh
.
bb
.
´evä“
 = 0;

916 
Ën
 -ğ(
bh—d_t
);

917 
b
->
bh
.
bb
.
bsize
 = (
bufsize
)
Ën
;

919 
	`TCW_PTR
(
b
->
bh
.
bb
.
bthr
,

920 (
kmp_šfo_t
 *)((
kmp_ušŒ_t
)
th
 |

924 
	`__kmp_bg‘_š£¹_što_ä“li¡
(
thr
, 
b
);

926 #ifdeà
F»eWe


927 ()
	`mem£t
(((*)
b
è+ (
bfh—d_t
), 0x55,

928 (
size_t
)(
Ën
 - (
bfh—d_t
)));

930 
bn
 = 
	`BH
(((*)
b
è+ 
Ën
);

931 
bn
->
bb
.
´evä“
 = (
bufsize
)
Ën
;

933 
	`KMP_DEBUG_ASSERT
((~0è=ğ-1 && (
bn
 != 0));

935 
bn
->
bb
.
bsize
 = 
ES’t
;

936 
	}
}

939 
	$bä“d
(
kmp_šfo_t
 *
th
) {

940 
bš
 = 0, 
couÁ
 = 0;

941 
gtid
 = 
	`__kmp_gtid_äom_th»ad
(
th
);

942 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

944 #ià
BufSts


945 
	`__kmp_´štf_no_lock
("__kmp_´šoŞ: T#%dÙ®=%" 
KMP_UINT64_SPEC


946 " g‘=%" 
KMP_INT64_SPEC
 "„el=%" KMP_INT64_SPEC

947 "…blk=%" 
KMP_INT64_SPEC
 "…get=%" KMP_INT64_SPEC

948 "…»l=%" 
KMP_INT64_SPEC
 " dget=%" KMP_INT64_SPEC

949 " d»l=%" 
KMP_INT64_SPEC
 "\n",

950 
gtid
, (
kmp_ušt64
)
thr
->
tÙ®loc
, (
kmp_št64
éhr->
numg‘
,

951 (
kmp_št64
)
thr
->
num»l
, (kmp_št64éhr->
numpblk
,

952 (
kmp_št64
)
thr
->
numpg‘
, (kmp_št64éhr->
num´–
,

953 (
kmp_št64
)
thr
->
numdg‘
, (kmp_št64éhr->
numd»l
);

956 
bš
 = 0; bš < 
MAX_BGET_BINS
; ++bin) {

957 
bfh—d_t
 *
b
;

959 
b
 = 
thr
->
ä“li¡
[
bš
].
ql
.
æšk
; b != &thr->freelist[bin];

960 
b
 = b->
ql
.
æšk
) {

961 
bufsize
 
bs
 = 
b
->
bh
.
bb
.
bsize
;

963 
	`KMP_DEBUG_ASSERT
(
b
->
ql
.
blšk
->ql.
æšk
 == b);

964 
	`KMP_DEBUG_ASSERT
(
b
->
ql
.
æšk
->ql.
blšk
 == b);

965 
	`KMP_DEBUG_ASSERT
(
bs
 > 0);

967 
couÁ
 += 1;

969 
	`__kmp_´štf_no_lock
(

970 "__kmp_´šoŞ: T#%d F»block: 0x%°siz%6ld by‹s.\n", 
gtid
, 
b
,

971 ()
bs
);

972 #ifdeà
F»eWe


974 *
Ë¼
 = ((*)
b
è+ (
bfh—d_t
);

975 ià((
bs
 > (
bfh—d_t
)) &&

976 ((*
Ë¼
 != 0x55) ||

977 (
	`memcmp
(
Ë¼
,†”¸+ 1, (
size_t
)(
bs
 - ((
bfh—d_t
) + 1))) !=

979 
	`__kmp_´štf_no_lock
("__kmp_printpool: T#%d (Contents of‡bove "

981 
gtid
);

988 ià(
couÁ
 == 0)

989 
	`__kmp_´štf_no_lock
("__kmp_´šoŞ: T#%d NØä“ blocks\n", 
gtid
);

990 
	}
}

992 
	$__kmp_š™Ÿlize_bg‘
(
kmp_šfo_t
 *
th
) {

993 
	`KMP_DEBUG_ASSERT
(
SizeQuªt
 >ğ(*è&& (
th
 != 0));

995 
	`£t_thr_d©a
(
th
);

997 
	`beùl
(
th
, (
bg‘_com·ù_t
)0, (
bg‘_acquœe_t
)
m®loc
, (
bg‘_»Ëa£_t
)
ä“
,

998 (
bufsize
)
__kmp_m®loc_poŞ_šü
);

999 
	}
}

1001 
	$__kmp_fš®ize_bg‘
(
kmp_šfo_t
 *
th
) {

1002 
thr_d©a_t
 *
thr
;

1003 
bfh—d_t
 *
b
;

1005 
	`KMP_DEBUG_ASSERT
(
th
 != 0);

1007 #ià
BufSts


1008 
thr
 = (
thr_d©a_t
 *)
th
->th.
th_loÿl
.
bg‘_d©a
;

1009 
	`KMP_DEBUG_ASSERT
(
thr
 !ğ
NULL
);

1010 
b
 = 
thr
->
Ï¡_poŞ
;

1017 ià(
thr
->
»lfú
 !ğ0 && 
b
 !ğ0 &&hr->
numpblk
 != 0 &&

1018 
b
->
bh
.
bb
.
bsize
 =ğ(
bufsize
)(
thr
->
poŞ_Ën
 - (
bh—d_t
))) {

1019 
	`KMP_DEBUG_ASSERT
(
b
->
bh
.
bb
.
´evä“
 == 0);

1020 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 + b->
bh
.
bb
.
bsize
)->bb.bsiz=ğ
ES’t
);

1021 
	`KMP_DEBUG_ASSERT
(
	`BH
((*)
b
 + b->
bh
.
bb
.
bsize
)->bb.
´evä“
 ==

1022 
b
->
bh
.
bb
.
bsize
);

1025 
	`__kmp_bg‘_»move_äom_ä“li¡
(
b
);

1027 
	`KE_TRACE
(10, ("%%%%%% FREEĞ%°)\n", (*)
b
));

1029 (*
thr
->
»lfú
)(
b
);

1030 
thr
->
num´–
++;

1031 
thr
->
numpblk
--;

1032 
	`KMP_DEBUG_ASSERT
(
thr
->
numpblk
 =ğthr->
numpg‘
 -hr->
num´–
);

1037 ià(
th
->th.
th_loÿl
.
bg‘_d©a
 !ğ
NULL
) {

1038 
	`__kmp_ä“
(
th
->th.
th_loÿl
.
bg‘_d©a
);

1039 
th
->th.
th_loÿl
.
bg‘_d©a
 = 
NULL
;

1041 
	}
}

1043 
	$kmpc_£t_poŞsize
(
size_t
 
size
) {

1044 
	`beùl
(
	`__kmp_g‘_th»ad
(), (
bg‘_com·ù_t
)0, (
bg‘_acquœe_t
)
m®loc
,

1045 (
bg‘_»Ëa£_t
)
ä“
, (
bufsize
)
size
);

1046 
	}
}

1048 
size_t
 
	$kmpc_g‘_poŞsize
() {

1049 
thr_d©a_t
 *
p
;

1051 
p
 = 
	`g‘_thr_d©a
(
	`__kmp_g‘_th»ad
());

1053  
p
->
exp_šü
;

1054 
	}
}

1056 
	$kmpc_£t_poŞmode
(
mode
) {

1057 
thr_d©a_t
 *
p
;

1059 ià(
mode
 =ğ
bg‘_mode_fifo
 || mod=ğ
bg‘_mode_lifo
 ||

1060 
mode
 =ğ
bg‘_mode_be¡
) {

1061 
p
 = 
	`g‘_thr_d©a
(
	`__kmp_g‘_th»ad
());

1062 
p
->
mode
 = (
bg‘_mode_t
)mode;

1064 
	}
}

1066 
	$kmpc_g‘_poŞmode
() {

1067 
thr_d©a_t
 *
p
;

1069 
p
 = 
	`g‘_thr_d©a
(
	`__kmp_g‘_th»ad
());

1071  
p
->
mode
;

1072 
	}
}

1074 
	$kmpc_g‘_poŞ¡©
(
size_t
 *
maxmem
, size_ˆ*
®lmem
) {

1075 
kmp_šfo_t
 *
th
 = 
	`__kmp_g‘_th»ad
();

1076 
bufsize
 
a
, 
b
;

1078 
	`__kmp_bg‘_dequeue
(
th
);

1080 
	`bcheck
(
th
, &
a
, &
b
);

1082 *
maxmem
 = 
a
;

1083 *
®lmem
 = 
b
;

1084 
	}
}

1086 
	$kmpc_poŞ´št
() {

1087 
kmp_šfo_t
 *
th
 = 
	`__kmp_g‘_th»ad
();

1089 
	`__kmp_bg‘_dequeue
(
th
);

1091 
	`bä“d
(
th
);

1092 
	}
}

1096 *
	$kmpc_m®loc
(
size_t
 
size
) {

1097 *
±r
;

1098 
±r
 = 
	`bg‘
(
	`__kmp_’Œy_th»ad
(), (
bufsize
)(
size
 + (ptr)));

1099 ià(
±r
 !ğ
NULL
) {

1101 *(**)
±r
 =…tr;

1102 
±r
 = (**)ptr + 1;

1104  
±r
;

1105 
	}
}

1107 
	#IS_POWER_OF_TWO
(
n
è((Òè& (Ò)-1)è=ğ0)

	)

1109 *
	$kmpc_®igÃd_m®loc
(
size_t
 
size
, size_ˆ
®ignm’t
) {

1110 *
±r
;

1111 *
±r_®loÿ‹d
;

1112 
	`KMP_DEBUG_ASSERT
(
®ignm’t
 < 32 * 1024);

1113 ià(!
	`IS_POWER_OF_TWO
(
®ignm’t
)) {

1115 
”ºo
 = 
EINVAL
;

1116  
NULL
;

1118 
size
 = siz+ (*è+ 
®ignm’t
;

1119 
±r_®loÿ‹d
 = 
	`bg‘
(
	`__kmp_’Œy_th»ad
(), (
bufsize
)
size
);

1120 ià(
±r_®loÿ‹d
 !ğ
NULL
) {

1122 
±r
 = (*)(((
kmp_ušŒ_t
)
±r_®loÿ‹d
 + (*è+ 
®ignm’t
) &

1123 ~(
®ignm’t
 - 1));

1124 *((**)
±r
 - 1èğ
±r_®loÿ‹d
;

1126 
±r
 = 
NULL
;

1128  
±r
;

1129 
	}
}

1131 *
	$kmpc_ÿÎoc
(
size_t
 
ÃËm
, size_ˆ
–size
) {

1132 *
±r
;

1133 
±r
 = 
	`bg‘z
(
	`__kmp_’Œy_th»ad
(), (
bufsize
)(
ÃËm
 * 
–size
 + (ptr)));

1134 ià(
±r
 !ğ
NULL
) {

1136 *(**)
±r
 =…tr;

1137 
±r
 = (**)ptr + 1;

1139  
±r
;

1140 
	}
}

1142 *
	$kmpc_»®loc
(*
±r
, 
size_t
 
size
) {

1143 *
»suÉ
 = 
NULL
;

1144 ià(
±r
 =ğ
NULL
) {

1146 
»suÉ
 = 
	`bg‘
(
	`__kmp_’Œy_th»ad
(), (
bufsize
)(
size
 + (
±r
)));

1148 ià(
»suÉ
 !ğ
NULL
) {

1149 *(**)
»suÉ
 =„esult;

1150 
»suÉ
 = (**)result + 1;

1152 } ià(
size
 == 0) {

1158 
	`KMP_ASSERT
(*((**)
±r
 - 1));

1159 
	`b»l
(
	`__kmp_g‘_th»ad
(), *((**)
±r
 - 1));

1161 
»suÉ
 = 
	`bg‘r
(
	`__kmp_’Œy_th»ad
(), *((**)
±r
 - 1),

1162 (
bufsize
)(
size
 + (
±r
)));

1163 ià(
»suÉ
 !ğ
NULL
) {

1164 *(**)
»suÉ
 =„esult;

1165 
»suÉ
 = (**)result + 1;

1168  
»suÉ
;

1169 
	}
}

1172 
	$kmpc_ä“
(*
±r
) {

1173 ià(!
__kmp_š™_£rŸl
) {

1176 ià(
±r
 !ğ
NULL
) {

1177 
kmp_šfo_t
 *
th
 = 
	`__kmp_g‘_th»ad
();

1178 
	`__kmp_bg‘_dequeue
(
th
);

1180 
	`KMP_ASSERT
(*((**)
±r
 - 1));

1181 
	`b»l
(
th
, *((**)
±r
 - 1));

1183 
	}
}

1185 *
	$___kmp_th»ad_m®loc
(
kmp_šfo_t
 *
th
, 
size_t
 
size
 
KMP_SRC_LOC_DECL
) {

1186 *
±r
;

1187 
	`KE_TRACE
(30, ("-> __kmp_th»ad_m®locĞ%p, %d ) c®Ëd from %s:%d\n", 
th
,

1188 ()
size
 
KMP_SRC_LOC_PARM
));

1189 
±r
 = 
	`bg‘
(
th
, (
bufsize
)
size
);

1190 
	`KE_TRACE
(30, ("<- __kmp_th»ad_m®loc(è»tuº %p\n", 
±r
));

1191  
±r
;

1192 
	}
}

1194 *
	$___kmp_th»ad_ÿÎoc
(
kmp_šfo_t
 *
th
, 
size_t
 
ÃËm
,

1195 
size_t
 
–size
 
KMP_SRC_LOC_DECL
) {

1196 *
±r
;

1197 
	`KE_TRACE
(30, ("-> __kmp_th»ad_ÿÎocĞ%p, %d, %d ) c®Ëd from %s:%d\n", 
th
,

1198 ()
ÃËm
, ()
–size
 
KMP_SRC_LOC_PARM
));

1199 
±r
 = 
	`bg‘z
(
th
, (
bufsize
)(
ÃËm
 * 
–size
));

1200 
	`KE_TRACE
(30, ("<- __kmp_th»ad_ÿÎoc(è»tuº %p\n", 
±r
));

1201  
±r
;

1202 
	}
}

1204 *
	$___kmp_th»ad_»®loc
(
kmp_šfo_t
 *
th
, *
±r
,

1205 
size_t
 
size
 
KMP_SRC_LOC_DECL
) {

1206 
	`KE_TRACE
(30, ("-> __kmp_th»ad_»®locĞ%p, %p, %d ) c®Ëd from %s:%d\n", 
th
,

1207 
±r
, ()
size
 
KMP_SRC_LOC_PARM
));

1208 
±r
 = 
	`bg‘r
(
th
,…Œ, (
bufsize
)
size
);

1209 
	`KE_TRACE
(30, ("<- __kmp_th»ad_»®loc(è»tuº %p\n", 
±r
));

1210  
±r
;

1211 
	}
}

1213 
	$___kmp_th»ad_ä“
(
kmp_šfo_t
 *
th
, *
±r
 
KMP_SRC_LOC_DECL
) {

1214 
	`KE_TRACE
(30, ("-> __kmp_th»ad_ä“Ğ%p, %°èÿÎed from %s:%d\n", 
th
,

1215 
±r
 
KMP_SRC_LOC_PARM
));

1216 ià(
±r
 !ğ
NULL
) {

1217 
	`__kmp_bg‘_dequeue
(
th
);

1218 
	`b»l
(
th
, 
±r
);

1220 
	`KE_TRACE
(30, ("<- __kmp_thread_free()\n"));

1221 
	}
}

1224 cÚ¡ *
	gkmp_mk_lib_Çme
;

1225 *
	gh_memkšd
;

1228 *(*
	gkmp_mk_®loc
)(*
	gk
, 
size_t
 
	gsz
);

1230 (*
kmp_mk_ä“
)(*
kšd
, *
±r
);

1232 (*
kmp_mk_check
)(*
kšd
);

1234 **
mk_deçuÉ
;

1235 **
mk_š‹¾—ve
;

1236 **
mk_hbw
;

1237 **
mk_hbw_š‹¾—ve
;

1238 **
mk_hbw_´eã¼ed
;

1239 **
mk_hug‘lb
;

1240 **
mk_hbw_hug‘lb
;

1241 **
mk_hbw_´eã¼ed_hug‘lb
;

1243 #ià
KMP_OS_UNIX
 && 
KMP_DYNAMIC_LIB


1244 
šlše
 
	$chk_kšd
(***
pkšd
) {

1245 
	`KMP_DEBUG_ASSERT
(
pkšd
);

1246 ià(*
pkšd
)

1247 ià(
	`kmp_mk_check
(**
pkšd
))

1248 *
pkšd
 = 
NULL
;

1249 
	}
}

1252 
	$__kmp_š™_memkšd
() {

1254 #ià
KMP_OS_UNIX
 && 
KMP_DYNAMIC_LIB


1256 
kmp_mk_lib_Çme
 = "libmemkind.so";

1257 
h_memkšd
 = 
	`dlİ’
(
kmp_mk_lib_Çme
, 
RTLD_LAZY
);

1258 ià(
h_memkšd
) {

1259 
kmp_mk_check
 = ((*)(*))
	`dlsym
(
h_memkšd
, "memkind_check_available");

1260 
kmp_mk_®loc
 =

1261 (*(*)(*, 
size_t
))
	`dlsym
(
h_memkšd
, "memkind_malloc");

1262 
kmp_mk_ä“
 = ((*)(*, *))
	`dlsym
(
h_memkšd
, "memkind_free");

1263 
mk_deçuÉ
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_DEFAULT");

1264 ià(
kmp_mk_check
 && 
kmp_mk_®loc
 && 
kmp_mk_ä“
 && 
mk_deçuÉ
 &&

1265 !
	`kmp_mk_check
(*
mk_deçuÉ
)) {

1266 
__kmp_memkšd_avaabË
 = 1;

1267 
mk_š‹¾—ve
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_INTERLEAVE");

1268 
	`chk_kšd
(&
mk_š‹¾—ve
);

1269 
mk_hbw
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HBW");

1270 
	`chk_kšd
(&
mk_hbw
);

1271 
mk_hbw_š‹¾—ve
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HBW_INTERLEAVE");

1272 
	`chk_kšd
(&
mk_hbw_š‹¾—ve
);

1273 
mk_hbw_´eã¼ed
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HBW_PREFERRED");

1274 
	`chk_kšd
(&
mk_hbw_´eã¼ed
);

1275 
mk_hug‘lb
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HUGETLB");

1276 
	`chk_kšd
(&
mk_hug‘lb
);

1277 
mk_hbw_hug‘lb
 = (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HBW_HUGETLB");

1278 
	`chk_kšd
(&
mk_hbw_hug‘lb
);

1279 
mk_hbw_´eã¼ed_hug‘lb
 =

1280 (**)
	`dlsym
(
h_memkšd
, "MEMKIND_HBW_PREFERRED_HUGETLB");

1281 
	`chk_kšd
(&
mk_hbw_´eã¼ed_hug‘lb
);

1282 
	`KE_TRACE
(25, ("__kmp_init_memkind: memkind†ibrary initialized\n"));

1285 
	`dlşo£
(
h_memkšd
);

1286 
h_memkšd
 = 
NULL
;

1288 
kmp_mk_check
 = 
NULL
;

1289 
kmp_mk_®loc
 = 
NULL
;

1290 
kmp_mk_ä“
 = 
NULL
;

1291 
mk_deçuÉ
 = 
NULL
;

1292 
mk_š‹¾—ve
 = 
NULL
;

1293 
mk_hbw
 = 
NULL
;

1294 
mk_hbw_š‹¾—ve
 = 
NULL
;

1295 
mk_hbw_´eã¼ed
 = 
NULL
;

1296 
mk_hug‘lb
 = 
NULL
;

1297 
mk_hbw_hug‘lb
 = 
NULL
;

1298 
mk_hbw_´eã¼ed_hug‘lb
 = 
NULL
;

1300 
kmp_mk_lib_Çme
 = "";

1301 
h_memkšd
 = 
NULL
;

1302 
kmp_mk_check
 = 
NULL
;

1303 
kmp_mk_®loc
 = 
NULL
;

1304 
kmp_mk_ä“
 = 
NULL
;

1305 
mk_deçuÉ
 = 
NULL
;

1306 
mk_š‹¾—ve
 = 
NULL
;

1307 
mk_hbw
 = 
NULL
;

1308 
mk_hbw_š‹¾—ve
 = 
NULL
;

1309 
mk_hbw_´eã¼ed
 = 
NULL
;

1310 
mk_hug‘lb
 = 
NULL
;

1311 
mk_hbw_hug‘lb
 = 
NULL
;

1312 
mk_hbw_´eã¼ed_hug‘lb
 = 
NULL
;

1314 
	}
}

1316 
	$__kmp_fši_memkšd
() {

1317 #ià
KMP_OS_UNIX
 && 
KMP_DYNAMIC_LIB


1318 ià(
__kmp_memkšd_avaabË
)

1319 
	`KE_TRACE
(25, ("__kmp_fini_memkind: finalize memkind†ibrary\n"));

1320 ià(
h_memkšd
) {

1321 
	`dlşo£
(
h_memkšd
);

1322 
h_memkšd
 = 
NULL
;

1324 
kmp_mk_check
 = 
NULL
;

1325 
kmp_mk_®loc
 = 
NULL
;

1326 
kmp_mk_ä“
 = 
NULL
;

1327 
mk_deçuÉ
 = 
NULL
;

1328 
mk_š‹¾—ve
 = 
NULL
;

1329 
mk_hbw
 = 
NULL
;

1330 
mk_hbw_š‹¾—ve
 = 
NULL
;

1331 
mk_hbw_´eã¼ed
 = 
NULL
;

1332 
mk_hug‘lb
 = 
NULL
;

1333 
mk_hbw_hug‘lb
 = 
NULL
;

1334 
mk_hbw_´eã¼ed_hug‘lb
 = 
NULL
;

1336 
	}
}

1338 
omp_®loÿtÜ_hªdË_t
 
	$__kmpc_š™_®loÿtÜ
(
gtid
, 
omp_mem¥aû_hªdË_t
 
ms
,

1339 
Á¿™s
,

1340 
omp_®loù¿™_t
 
Œa™s
[]) {

1342 
	`KMP_DEBUG_ASSERT
(
ms
 =ğ
omp_deçuÉ_mem_¥aû
 || m =ğ
omp_low_Ït_mem_¥aû
 ||

1343 
ms
 =ğ
omp_Ïrge_ÿp_mem_¥aû
 || m =ğ
omp_cÚ¡_mem_¥aû
 ||

1344 
ms
 =ğ
omp_high_bw_mem_¥aû
);

1345 
kmp_®loÿtÜ_t
 *
®
;

1346 
i
;

1347 
®
 = (
kmp_®loÿtÜ_t
 *)
	`__kmp_®loÿ‹
((kmp_allocator_t));

1348 
®
->
mem¥aû
 = 
ms
;

1349 
i
 = 0; i < 
Á¿™s
; ++i) {

1350 
Œa™s
[
i
].
key
) {

1351 
omp_©k_th»admod–
:

1352 
omp_©k_acûss
:

1353 
omp_©k_pšÃd
:

1355 
omp_©k_®ignm’t
:

1356 
®
->
®ignm’t
 = 
Œa™s
[
i
].
v®ue
;

1357 
	`KMP_ASSERT
(
	`IS_POWER_OF_TWO
(
®
->
®ignm’t
));

1359 
omp_©k_poŞ_size
:

1360 
®
->
poŞ_size
 = 
Œa™s
[
i
].
v®ue
;

1362 
omp_©k_çÎback
:

1363 
®
->
fb
 = (
omp_®loù¿™_v®ue_t
)
Œa™s
[
i
].
v®ue
;

1364 
	`KMP_DEBUG_ASSERT
(

1365 
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
 ||‡l->fb =ğ
omp_©v_nuÎ_fb
 ||

1366 
®
->
fb
 =ğ
omp_©v_abÜt_fb
 ||‡l->fb =ğ
omp_©v_®loÿtÜ_fb
);

1368 
omp_©k_fb_d©a
:

1369 
®
->
fb_d©a
 = 
	`RCAST
(
kmp_®loÿtÜ_t
 *, 
Œa™s
[
i
].
v®ue
);

1371 
omp_©k_·¹™iÚ
:

1372 
®
->
memkšd
 = 
	`RCAST
(**, 
Œa™s
[
i
].
v®ue
);

1375 
	`KMP_ASSERT2
(0, "Unexpected‡llocatorrait");

1378 ià(
®
->
fb
 == 0) {

1380 
®
->
fb
 = 
omp_©v_deçuÉ_mem_fb
;

1381 
®
->
fb_d©a
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1382 } ià(
®
->
fb
 =ğ
omp_©v_®loÿtÜ_fb
) {

1383 
	`KMP_ASSERT
(
®
->
fb_d©a
 !ğ
NULL
);

1384 } ià(
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
) {

1385 
®
->
fb_d©a
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1387 ià(
__kmp_memkšd_avaabË
) {

1389 ià(
ms
 =ğ
omp_high_bw_mem_¥aû
) {

1390 ià(
®
->
memkšd
 =ğ(*)
omp_©v_š‹¾—ved
 && 
mk_hbw_š‹¾—ve
) {

1391 
®
->
memkšd
 = 
mk_hbw_š‹¾—ve
;

1392 } ià(
mk_hbw_´eã¼ed
) {

1398 
®
->
memkšd
 = 
mk_hbw_´eã¼ed
;

1401 
	`__kmp_ä“
(
®
);

1402  
omp_nuÎ_®loÿtÜ
;

1405 ià(
®
->
memkšd
 =ğ(*)
omp_©v_š‹¾—ved
 && 
mk_š‹¾—ve
) {

1406 
®
->
memkšd
 = 
mk_š‹¾—ve
;

1408 
®
->
memkšd
 = 
mk_deçuÉ
;

1412 ià(
ms
 =ğ
omp_high_bw_mem_¥aû
) {

1414 
	`__kmp_ä“
(
®
);

1415  
omp_nuÎ_®loÿtÜ
;

1418  (
omp_®loÿtÜ_hªdË_t
)
®
;

1419 
	}
}

1421 
	$__kmpc_de¡roy_®loÿtÜ
(
gtid
, 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

1422 ià(
®loÿtÜ
 > 
kmp_max_mem_®loc
)

1423 
	`__kmp_ä“
(
®loÿtÜ
);

1424 
	}
}

1426 
	$__kmpc_£t_deçuÉ_®loÿtÜ
(
gtid
, 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

1427 ià(
®loÿtÜ
 =ğ
omp_nuÎ_®loÿtÜ
)

1428 
®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

1429 
__kmp_th»ads
[
gtid
]->
th
.
th_def_®loÿtÜ
 = 
®loÿtÜ
;

1430 
	}
}

1432 
omp_®loÿtÜ_hªdË_t
 
	$__kmpc_g‘_deçuÉ_®loÿtÜ
(
gtid
) {

1433  
__kmp_th»ads
[
gtid
]->
th
.
th_def_®loÿtÜ
;

1434 
	}
}

1436 
	skmp_mem_desc
 {

1437 *
	m±r_®loc
;

1438 
size_t
 
	msize_a
;

1439 *
	m±r_®ign
;

1440 
kmp_®loÿtÜ_t
 *
	m®loÿtÜ
;

1441 } 
	tkmp_mem_desc_t
;

1442 
	g®ignm’t
 = (*);

1444 *
	$__kmpc_®loc
(
gtid
, 
size_t
 
size
, 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

1445 *
±r
 = 
NULL
;

1446 
kmp_®loÿtÜ_t
 *
®
;

1447 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

1448 ià(
®loÿtÜ
 =ğ
omp_nuÎ_®loÿtÜ
)

1449 
®loÿtÜ
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_def_®loÿtÜ
;

1451 
	`KE_TRACE
(25, ("__kmpc_®loc: T#%d (%d, %p)\n", 
gtid
, ()
size
, 
®loÿtÜ
));

1452 
®
 = 
	`RCAST
(
kmp_®loÿtÜ_t
 *, 
	`CCAST
(
omp_®loÿtÜ_hªdË_t
, 
®loÿtÜ
));

1454 
sz_desc
 = (
kmp_mem_desc_t
);

1455 
kmp_mem_desc_t
 
desc
;

1456 
kmp_ušŒ_t
 
addr
;

1457 
kmp_ušŒ_t
 
addr_®ign
;

1458 
kmp_ušŒ_t
 
addr_desü
;

1459 
®ign
 = 
®ignm’t
;

1460 ià(
®loÿtÜ
 > 
kmp_max_mem_®loc
 && 
®
->
®ignm’t
 > 0) {

1461 
®ign
 = 
®
->
®ignm’t
;

1463 
desc
.
size_a
 = 
size
 + 
sz_desc
 + 
®ign
;

1465 ià(
__kmp_memkšd_avaabË
) {

1466 ià(
®loÿtÜ
 < 
kmp_max_mem_®loc
) {

1468 ià(
®loÿtÜ
 =ğ
omp_high_bw_mem_®loc
 && 
mk_hbw_´eã¼ed
) {

1469 
±r
 = 
	`kmp_mk_®loc
(*
mk_hbw_´eã¼ed
, 
desc
.
size_a
);

1471 
±r
 = 
	`kmp_mk_®loc
(*
mk_deçuÉ
, 
desc
.
size_a
);

1473 } ià(
®
->
poŞ_size
 > 0) {

1475 
kmp_ušt64
 
u£d
 =

1476 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, 
desc
.
size_a
);

1477 ià(
u£d
 + 
desc
.
size_a
 > 
®
->
poŞ_size
) {

1479 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, -
desc
.
size_a
);

1480 ià(
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
) {

1481 
®
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1482 
±r
 = 
	`kmp_mk_®loc
(*
mk_deçuÉ
, 
desc
.
size_a
);

1483 } ià(
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1484 
	`KMP_ASSERT
(0);

1485 } ià(
®
->
fb
 =ğ
omp_©v_®loÿtÜ_fb
) {

1486 
	`KMP_ASSERT
(
®
 !ğ®->
fb_d©a
);

1487 
®
 =‡l->
fb_d©a
;

1488  
	`__kmpc_®loc
(
gtid
, 
size
, (
omp_®loÿtÜ_hªdË_t
)
®
);

1492 
±r
 = 
	`kmp_mk_®loc
(*
®
->
memkšd
, 
desc
.
size_a
);

1493 ià(
±r
 =ğ
NULL
) {

1494 ià(
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
) {

1495 
®
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1496 
±r
 = 
	`kmp_mk_®loc
(*
mk_deçuÉ
, 
desc
.
size_a
);

1497 } ià(
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1498 
	`KMP_ASSERT
(0);

1499 } ià(
®
->
fb
 =ğ
omp_©v_®loÿtÜ_fb
) {

1500 
	`KMP_ASSERT
(
®
 !ğ®->
fb_d©a
);

1501 
®
 =‡l->
fb_d©a
;

1502  
	`__kmpc_®loc
(
gtid
, 
size
, (
omp_®loÿtÜ_hªdË_t
)
®
);

1508 
±r
 = 
	`kmp_mk_®loc
(*
®
->
memkšd
, 
desc
.
size_a
);

1509 ià(
±r
 =ğ
NULL
) {

1510 ià(
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
) {

1511 
®
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1512 
±r
 = 
	`kmp_mk_®loc
(*
mk_deçuÉ
, 
desc
.
size_a
);

1513 } ià(
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1514 
	`KMP_ASSERT
(0);

1515 } ià(
®
->
fb
 =ğ
omp_©v_®loÿtÜ_fb
) {

1516 
	`KMP_ASSERT
(
®
 !ğ®->
fb_d©a
);

1517 
®
 =‡l->
fb_d©a
;

1518  
	`__kmpc_®loc
(
gtid
, 
size
, (
omp_®loÿtÜ_hªdË_t
)
®
);

1522 } ià(
®loÿtÜ
 < 
kmp_max_mem_®loc
) {

1524 ià(
®loÿtÜ
 =ğ
omp_high_bw_mem_®loc
) {

1527 
±r
 = 
	`__kmp_th»ad_m®loc
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
desc
.
size_a
);

1529 } ià(
®
->
poŞ_size
 > 0) {

1531 
kmp_ušt64
 
u£d
 =

1532 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, 
desc
.
size_a
);

1533 ià(
u£d
 + 
desc
.
size_a
 > 
®
->
poŞ_size
) {

1535 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, -
desc
.
size_a
);

1536 ià(
®
->
fb
 =ğ
omp_©v_deçuÉ_mem_fb
) {

1537 
®
 = (
kmp_®loÿtÜ_t
 *)
omp_deçuÉ_mem_®loc
;

1538 
±r
 = 
	`__kmp_th»ad_m®loc
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
desc
.
size_a
);

1539 } ià(
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1540 
	`KMP_ASSERT
(0);

1541 } ià(
®
->
fb
 =ğ
omp_©v_®loÿtÜ_fb
) {

1542 
	`KMP_ASSERT
(
®
 !ğ®->
fb_d©a
);

1543 
®
 =‡l->
fb_d©a
;

1544  
	`__kmpc_®loc
(
gtid
, 
size
, (
omp_®loÿtÜ_hªdË_t
)
®
);

1548 
±r
 = 
	`__kmp_th»ad_m®loc
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
desc
.
size_a
);

1549 ià(
±r
 =ğ
NULL
 && 
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1550 
	`KMP_ASSERT
(0);

1555 
±r
 = 
	`__kmp_th»ad_m®loc
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
desc
.
size_a
);

1556 ià(
±r
 =ğ
NULL
 && 
®
->
fb
 =ğ
omp_©v_abÜt_fb
) {

1557 
	`KMP_ASSERT
(0);

1560 
	`KE_TRACE
(10, ("__kmpc_®loc: T#%d %p÷Îoc(%d)\n", 
gtid
, 
±r
, 
desc
.
size_a
));

1561 ià(
±r
 =ğ
NULL
)

1562  
NULL
;

1564 
addr
 = (
kmp_ušŒ_t
)
±r
;

1565 
addr_®ign
 = (
addr
 + 
sz_desc
 + 
®ign
 - 1) & ~(align - 1);

1566 
addr_desü
 = 
addr_®ign
 - 
sz_desc
;

1568 
desc
.
±r_®loc
 = 
±r
;

1569 
desc
.
±r_®ign
 = (*)
addr_®ign
;

1570 
desc
.
®loÿtÜ
 = 
®
;

1571 *((
kmp_mem_desc_t
 *)
addr_desü
èğ
desc
;

1572 
	`KMP_MB
();

1574 
	`KE_TRACE
(25, ("__kmpc_®loø»tuº %p, T#%d\n", 
desc
.
±r_®ign
, 
gtid
));

1575  
desc
.
±r_®ign
;

1576 
	}
}

1578 
	$__kmpc_ä“
(
gtid
, *
±r
, cÚ¡ 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

1579 
	`KE_TRACE
(25, ("__kmpc_ä“: T#%d f»e(%p,%p)\n", 
gtid
, 
±r
, 
®loÿtÜ
));

1580 ià(
±r
 =ğ
NULL
)

1583 
kmp_®loÿtÜ_t
 *
®
;

1584 
omp_®loÿtÜ_hªdË_t
 
ßl
;

1585 
®
 = 
	`RCAST
(
kmp_®loÿtÜ_t
 *, 
	`CCAST
(
omp_®loÿtÜ_hªdË_t
, 
®loÿtÜ
));

1586 
kmp_mem_desc_t
 
desc
;

1587 
kmp_ušŒ_t
 
addr_®ign
;

1588 
kmp_ušŒ_t
 
addr_desü
;

1590 
addr_®ign
 = (
kmp_ušŒ_t
)
±r
;

1591 
addr_desü
 = 
addr_®ign
 - (
kmp_mem_desc_t
);

1592 
desc
 = *((
kmp_mem_desc_t
 *)
addr_desü
);

1594 
	`KMP_DEBUG_ASSERT
(
desc
.
±r_®ign
 =ğ
±r
);

1595 ià(
®loÿtÜ
) {

1596 
	`KMP_DEBUG_ASSERT
(
desc
.
®loÿtÜ
 =ğ
®
 || desc.®loÿtÜ =ğ®->
fb_d©a
);

1598 
®
 = 
desc
.
®loÿtÜ
;

1599 
ßl
 = (
omp_®loÿtÜ_hªdË_t
)
®
;

1600 
	`KMP_DEBUG_ASSERT
(
®
);

1602 ià(
__kmp_memkšd_avaabË
) {

1603 ià(
ßl
 < 
kmp_max_mem_®loc
) {

1605 ià(
ßl
 =ğ
omp_high_bw_mem_®loc
 && 
mk_hbw_´eã¼ed
) {

1606 
	`kmp_mk_ä“
(*
mk_hbw_´eã¼ed
, 
desc
.
±r_®loc
);

1608 
	`kmp_mk_ä“
(*
mk_deçuÉ
, 
desc
.
±r_®loc
);

1611 ià(
®
->
poŞ_size
 > 0) {

1612 
kmp_ušt64
 
u£d
 =

1613 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, -
desc
.
size_a
);

1614 ()
u£d
;

1615 
	`KMP_DEBUG_ASSERT
(
u£d
 >ğ
desc
.
size_a
);

1617 
	`kmp_mk_ä“
(*
®
->
memkšd
, 
desc
.
±r_®loc
);

1620 ià(
ßl
 > 
kmp_max_mem_®loc
 && 
®
->
poŞ_size
 > 0) {

1621 
kmp_ušt64
 
u£d
 =

1622 
	`KMP_TEST_THEN_ADD64
((
kmp_št64
 *)&
®
->
poŞ_u£d
, -
desc
.
size_a
);

1623 ()
u£d
;

1624 
	`KMP_DEBUG_ASSERT
(
u£d
 >ğ
desc
.
size_a
);

1626 
	`__kmp_th»ad_ä“
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
desc
.
±r_®loc
);

1628 
	`KE_TRACE
(10, ("__kmpc_ä“: T#%d f»ed %°(%p)\n", 
gtid
, 
desc
.
±r_®loc
,

1629 
®loÿtÜ
));

1630 
	}
}

1636 
	skmp_mem_desü
 {

1637 *
	m±r_®loÿ‹d
;

1638 
size_t
 
	msize_®loÿ‹d
;

1639 *
	m±r_®igÃd
;

1640 
size_t
 
	msize_®igÃd
;

1642 
kmp_mem_desü
 
	tkmp_mem_desü_t
;

1647 *
	$___kmp_®loÿ‹_®ign
(
size_t
 
size
,

1648 
size_t
 
®ignm’t
 
KMP_SRC_LOC_DECL
) {

1665 
kmp_mem_desü_t
 
desü
;

1666 
kmp_ušŒ_t
 
addr_®loÿ‹d
;

1667 
kmp_ušŒ_t
 
addr_®igÃd
;

1668 
kmp_ušŒ_t
 
addr_desü
;

1670 
	`KE_TRACE
(25, ("-> ___kmp_allocate_align( %d, %d ) called from %s:%d\n",

1671 ()
size
, ()
®ignm’t
 
KMP_SRC_LOC_PARM
));

1673 
	`KMP_DEBUG_ASSERT
(
®ignm’t
 < 32 * 1024);

1674 
	`KMP_DEBUG_ASSERT
((*è<ğ(
kmp_ušŒ_t
));

1677 
desü
.
size_®igÃd
 = 
size
;

1678 
desü
.
size_®loÿ‹d
 =

1679 
desü
.
size_®igÃd
 + (
kmp_mem_desü_t
è+ 
®ignm’t
;

1681 #ià
KMP_DEBUG


1682 
desü
.
±r_®loÿ‹d
 = 
	`_m®loc_¤c_loc
(desü.
size_®loÿ‹d
, 
_fe_
, 
_lše_
);

1684 
desü
.
±r_®loÿ‹d
 = 
	`m®loc_¤c_loc
(desü.
size_®loÿ‹d
 
KMP_SRC_LOC_PARM
);

1686 
	`KE_TRACE
(10, (" m®locĞ%d )„‘uºed %p\n", ()
desü
.
size_®loÿ‹d
,

1687 
desü
.
±r_®loÿ‹d
));

1688 ià(
desü
.
±r_®loÿ‹d
 =ğ
NULL
) {

1689 
	`KMP_FATAL
(
OutOfH—pMemÜy
);

1692 
addr_®loÿ‹d
 = (
kmp_ušŒ_t
)
desü
.
±r_®loÿ‹d
;

1693 
addr_®igÃd
 =

1694 (
addr_®loÿ‹d
 + (
kmp_mem_desü_t
è+ 
®ignm’t
) & ~(alignment - 1);

1695 
addr_desü
 = 
addr_®igÃd
 - (
kmp_mem_desü_t
);

1697 
desü
.
±r_®igÃd
 = (*)
addr_®igÃd
;

1699 
	`KE_TRACE
(26, (" ___kmp_allocate_align: "

1702 
desü
.
±r_®loÿ‹d
, ()desü.
size_®loÿ‹d
,

1703 
desü
.
±r_®igÃd
, ()desü.
size_®igÃd
));

1705 
	`KMP_DEBUG_ASSERT
(
addr_®loÿ‹d
 <ğ
addr_desü
);

1706 
	`KMP_DEBUG_ASSERT
(
addr_desü
 + (
kmp_mem_desü_t
è=ğ
addr_®igÃd
);

1707 
	`KMP_DEBUG_ASSERT
(
addr_®igÃd
 + 
desü
.
size_®igÃd
 <=

1708 
addr_®loÿ‹d
 + 
desü
.
size_®loÿ‹d
);

1709 
	`KMP_DEBUG_ASSERT
(
addr_®igÃd
 % 
®ignm’t
 == 0);

1710 #ifdeà
KMP_DEBUG


1711 
	`mem£t
(
desü
.
±r_®loÿ‹d
, 0xEF, desü.
size_®loÿ‹d
);

1714 
	`mem£t
(
desü
.
±r_®igÃd
, 0x00, desü.
size_®igÃd
);

1720 *((
kmp_mem_desü_t
 *)
addr_desü
èğ
desü
;

1722 
	`KMP_MB
();

1724 
	`KE_TRACE
(25, ("<- ___kmp_®loÿ‹_®ign(è»tuº %p\n", 
desü
.
±r_®igÃd
));

1725  
desü
.
±r_®igÃd
;

1726 
	}
}

1732 *
	$___kmp_®loÿ‹
(
size_t
 
size
 
KMP_SRC_LOC_DECL
) {

1733 *
±r
;

1734 
	`KE_TRACE
(25, ("-> __kmp_allocate( %d ) called from %s:%d\n",

1735 ()
size
 
KMP_SRC_LOC_PARM
));

1736 
±r
 = 
	`___kmp_®loÿ‹_®ign
(
size
, 
__kmp_®ign_®loc
 
KMP_SRC_LOC_PARM
);

1737 
	`KE_TRACE
(25, ("<- __kmp_®loÿ‹(è»tuº %p\n", 
±r
));

1738  
±r
;

1739 
	}
}

1745 *
	$___kmp_·ge_®loÿ‹
(
size_t
 
size
 
KMP_SRC_LOC_DECL
) {

1746 
·ge_size
 = 8 * 1024;

1747 *
±r
;

1749 
	`KE_TRACE
(25, ("-> __kmp_page_allocate( %d ) called from %s:%d\n",

1750 ()
size
 
KMP_SRC_LOC_PARM
));

1751 
±r
 = 
	`___kmp_®loÿ‹_®ign
(
size
, 
·ge_size
 
KMP_SRC_LOC_PARM
);

1752 
	`KE_TRACE
(25, ("<- __kmp_·ge_®loÿ‹Ğ%d )„‘uº %p\n", ()
size
, 
±r
));

1753  
±r
;

1754 
	}
}

1758 
	$___kmp_ä“
(*
±r
 
KMP_SRC_LOC_DECL
) {

1759 
kmp_mem_desü_t
 
desü
;

1760 
kmp_ušŒ_t
 
addr_®loÿ‹d
;

1761 
kmp_ušŒ_t
 
addr_®igÃd
;

1763 
	`KE_TRACE
(25,

1764 ("-> __kmp_ä“Ğ%°èÿÎed from %s:%d\n", 
±r
 
KMP_SRC_LOC_PARM
));

1765 
	`KMP_ASSERT
(
±r
 !ğ
NULL
);

1767 
desü
 = *(
kmp_mem_desü_t
 *)((
kmp_ušŒ_t
)
±r
 - (kmp_mem_descr_t));

1769 
	`KE_TRACE
(26, (" __kmp_free: "

1772 
desü
.
±r_®loÿ‹d
, ()desü.
size_®loÿ‹d
,

1773 
desü
.
±r_®igÃd
, ()desü.
size_®igÃd
));

1775 
addr_®loÿ‹d
 = (
kmp_ušŒ_t
)
desü
.
±r_®loÿ‹d
;

1776 
addr_®igÃd
 = (
kmp_ušŒ_t
)
desü
.
±r_®igÃd
;

1778 
	`KMP_DEBUG_ASSERT
(
addr_®igÃd
 % 
CACHE_LINE
 == 0);

1779 
	`KMP_DEBUG_ASSERT
(
desü
.
±r_®igÃd
 =ğ
±r
);

1780 
	`KMP_DEBUG_ASSERT
(
addr_®loÿ‹d
 + (
kmp_mem_desü_t
è<ğ
addr_®igÃd
);

1781 
	`KMP_DEBUG_ASSERT
(
desü
.
size_®igÃd
 < desü.
size_®loÿ‹d
);

1782 
	`KMP_DEBUG_ASSERT
(
addr_®igÃd
 + 
desü
.
size_®igÃd
 <=

1783 
addr_®loÿ‹d
 + 
desü
.
size_®loÿ‹d
);

1785 #ifdeà
KMP_DEBUG


1786 
	`mem£t
(
desü
.
±r_®loÿ‹d
, 0xEF, desü.
size_®loÿ‹d
);

1790 #iâdeà
LEAK_MEMORY


1791 
	`KE_TRACE
(10, (" f»eĞ%°)\n", 
desü
.
±r_®loÿ‹d
));

1792 #ifdeà
KMP_DEBUG


1793 
	`_ä“_¤c_loc
(
desü
.
±r_®loÿ‹d
, 
_fe_
, 
_lše_
);

1795 
	`ä“_¤c_loc
(
desü
.
±r_®loÿ‹d
 
KMP_SRC_LOC_PARM
);

1798 
	`KMP_MB
();

1799 
	`KE_TRACE
(25, ("<- __kmp_free()„eturns\n"));

1800 
	}
}

1802 #ià
USE_FAST_MEMORY
 == 3

1808 
	#KMP_FREE_LIST_LIMIT
 16

	)

1811 
	#DCACHE_LINE
 128

	)

1813 *
	$___kmp_ç¡_®loÿ‹
(
kmp_šfo_t
 *
this_thr
, 
size_t
 
size
 
KMP_SRC_LOC_DECL
) {

1814 *
±r
;

1815 
num_lšes
;

1816 
idx
;

1817 
šdex
;

1818 *
®loc_±r
;

1819 
size_t
 
®loc_size
;

1820 
kmp_mem_desü_t
 *
desü
;

1822 
	`KE_TRACE
(25, ("-> __kmp_fast_allocate( T#%d, %d ) called from %s:%d\n",

1823 
	`__kmp_gtid_äom_th»ad
(
this_thr
), ()
size
 
KMP_SRC_LOC_PARM
));

1825 
num_lšes
 = (
size
 + 
DCACHE_LINE
 - 1) / DCACHE_LINE;

1826 
idx
 = 
num_lšes
 - 1;

1827 
	`KMP_DEBUG_ASSERT
(
idx
 >= 0);

1828 ià(
idx
 < 2) {

1829 
šdex
 = 0;

1830 
num_lšes
 = 2;

1831 } ià((
idx
 >>= 2) == 0) {

1832 
šdex
 = 1;

1833 
num_lšes
 = 4;

1834 } ià((
idx
 >>= 2) == 0) {

1835 
šdex
 = 2;

1836 
num_lšes
 = 16;

1837 } ià((
idx
 >>= 2) == 0) {

1838 
šdex
 = 3;

1839 
num_lšes
 = 64;

1841 
®loc_ÿÎ
;

1844 
±r
 = 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_£lf
;

1845 ià(
±r
 !ğ
NULL
) {

1847 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_£lf
 = *((**)
±r
);

1848 
	`KMP_DEBUG_ASSERT
(

1849 
this_thr
 ==

1850 ((
kmp_mem_desü_t
 *)((
kmp_ušŒ_t
)
±r
 - (kmp_mem_descr_t)))

1851 ->
±r_®igÃd
);

1852 
’d
;

1854 
±r
 = 
	`TCR_SYNC_PTR
(
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
);

1855 ià(
±r
 !ğ
NULL
) {

1859 !
	`KMP_COMPARE_AND_STORE_PTR
(

1860 &
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
, 
±r
, 
nuÎ±r
)) {

1861 
	`KMP_CPU_PAUSE
();

1862 
±r
 = 
	`TCR_SYNC_PTR
(
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
);

1866 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_£lf
 = *((**)
±r
);

1867 
	`KMP_DEBUG_ASSERT
(

1868 
this_thr
 ==

1869 ((
kmp_mem_desü_t
 *)((
kmp_ušŒ_t
)
±r
 - (kmp_mem_descr_t)))

1870 ->
±r_®igÃd
);

1871 
’d
;

1874 
®loc_ÿÎ
:

1876 
size
 = 
num_lšes
 * 
DCACHE_LINE
;

1878 
®loc_size
 = 
size
 + (
kmp_mem_desü_t
è+ 
DCACHE_LINE
;

1879 
	`KE_TRACE
(25, ("__kmp_fast_allocate: T#%d Calling __kmp_thread_malloc with "

1881 
	`__kmp_gtid_äom_th»ad
(
this_thr
), 
®loc_size
));

1882 
®loc_±r
 = 
	`bg‘
(
this_thr
, (
bufsize
)
®loc_size
);

1885 
±r
 = (*)((((
kmp_ušŒ_t
)
®loc_±r
è+ (
kmp_mem_desü_t
) +

1886 
DCACHE_LINE
) &

1887 ~(
DCACHE_LINE
 - 1));

1888 
desü
 = (
kmp_mem_desü_t
 *)(((
kmp_ušŒ_t
)
±r
) - (kmp_mem_descr_t));

1890 
desü
->
±r_®loÿ‹d
 = 
®loc_±r
;

1892 
desü
->
±r_®igÃd
 = (*)
this_thr
;

1895 
desü
->
size_®igÃd
 = 
size
;

1897 
’d
:

1898 
	`KE_TRACE
(25, ("<- __kmp_fast_allocate( T#%d )„eturns %p\n",

1899 
	`__kmp_gtid_äom_th»ad
(
this_thr
), 
±r
));

1900  
±r
;

1901 
	}
}

1905 
	$___kmp_ç¡_ä“
(
kmp_šfo_t
 *
this_thr
, *
±r
 
KMP_SRC_LOC_DECL
) {

1906 
kmp_mem_desü_t
 *
desü
;

1907 
kmp_šfo_t
 *
®loc_thr
;

1908 
size_t
 
size
;

1909 
size_t
 
idx
;

1910 
šdex
;

1912 
	`KE_TRACE
(25, ("-> __kmp_fast_free( T#%d, %p ) called from %s:%d\n",

1913 
	`__kmp_gtid_äom_th»ad
(
this_thr
), 
±r
 
KMP_SRC_LOC_PARM
));

1914 
	`KMP_ASSERT
(
±r
 !ğ
NULL
);

1916 
desü
 = (
kmp_mem_desü_t
 *)(((
kmp_ušŒ_t
)
±r
) - (kmp_mem_descr_t));

1918 
	`KE_TRACE
(26, (" __kmp_fast_free: size_aligned=%d\n",

1919 ()
desü
->
size_®igÃd
));

1921 
size
 = 
desü
->
size_®igÃd
;

1923 
idx
 = 
DCACHE_LINE
 * 2;

1924 ià(
idx
 =ğ
size
) {

1925 
šdex
 = 0;

1926 } ià((
idx
 <<ğ1è=ğ
size
) {

1927 
šdex
 = 1;

1928 } ià((
idx
 <<ğ2è=ğ
size
) {

1929 
šdex
 = 2;

1930 } ià((
idx
 <<ğ2è=ğ
size
) {

1931 
šdex
 = 3;

1933 
	`KMP_DEBUG_ASSERT
(
size
 > 
DCACHE_LINE
 * 64);

1934 
ä“_ÿÎ
;

1937 
®loc_thr
 = (
kmp_šfo_t
 *)
desü
->
±r_®igÃd
;

1938 ià(
®loc_thr
 =ğ
this_thr
) {

1940 *((**)
±r
èğ
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_£lf
;

1941 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_£lf
 = 
±r
;

1943 *
h—d
 = 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_Ùh”
;

1944 ià(
h—d
 =ğ
NULL
) {

1946 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_Ùh”
 = 
±r
;

1947 *((**)
±r
èğ
NULL
;

1948 
desü
->
size_®loÿ‹d
 = (
size_t
)1;

1951 
kmp_mem_desü_t
 *
dsc
 =

1952 (
kmp_mem_desü_t
 *)((*)
h—d
 - (kmp_mem_descr_t));

1954 
kmp_šfo_t
 *
q_th
 = (kmp_šfo_ˆ*)(
dsc
->
±r_®igÃd
);

1955 
size_t
 
q_sz
 =

1956 
dsc
->
size_®loÿ‹d
 + 1;

1957 ià(
q_th
 =ğ
®loc_thr
 && 
q_sz
 <ğ
KMP_FREE_LIST_LIMIT
) {

1959 *((**)
±r
èğ
h—d
;

1960 
desü
->
size_®loÿ‹d
 = 
q_sz
;

1961 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_Ùh”
 = 
±r
;

1966 *
Şd_±r
;

1967 *

 = 
h—d
;

1968 *
Ãxt
 = *((**)
h—d
);

1969 
Ãxt
 !ğ
NULL
) {

1970 
	`KMP_DEBUG_ASSERT
(

1972 ((
kmp_mem_desü_t
 *)((*)
Ãxt
 - (kmp_mem_descr_t)))

1973 ->
size_®loÿ‹d
 +

1975 ((
kmp_mem_desü_t
 *)((*)

 - (kmp_mem_descr_t)))

1976 ->
size_®loÿ‹d
);

1977 

 = 
Ãxt
;

1978 
Ãxt
 = *((**)next);

1980 
	`KMP_DEBUG_ASSERT
(
q_th
 !ğ
NULL
);

1982 
Şd_±r
 = 
	`TCR_PTR
(
q_th
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
);

1985 *((**)

èğ
Şd_±r
;

1987 !
	`KMP_COMPARE_AND_STORE_PTR
(

1988 &
q_th
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
, 
Şd_±r
, 
h—d
)) {

1989 
	`KMP_CPU_PAUSE
();

1990 
Şd_±r
 = 
	`TCR_PTR
(
q_th
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_sync
);

1991 *((**)

èğ
Şd_±r
;

1995 
this_thr
->
th
.
th_ä“_li¡s
[
šdex
].
th_ä“_li¡_Ùh”
 = 
±r
;

1996 *((**)
±r
èğ
NULL
;

1997 
desü
->
size_®loÿ‹d
 = (
size_t
)1;

2001 
’d
;

2003 
ä“_ÿÎ
:

2004 
	`KE_TRACE
(25, ("__kmp_fast_free: T#%d Calling __kmp_thread_free for size %d\n",

2005 
	`__kmp_gtid_äom_th»ad
(
this_thr
), 
size
));

2006 
	`__kmp_bg‘_dequeue
(
this_thr
);

2007 
	`b»l
(
this_thr
, 
desü
->
±r_®loÿ‹d
);

2009 
’d
:

2010 
	`KE_TRACE
(25, ("<- __kmp_fast_free()„eturns\n"));

2012 
	}
}

2016 
	$__kmp_š™Ÿlize_ç¡_memÜy
(
kmp_šfo_t
 *
this_thr
) {

2017 
	`KE_TRACE
(10, ("__kmp_š™Ÿlize_ç¡_memÜy: C®Ëd fromh %p\n", 
this_thr
));

2019 
	`mem£t
(
this_thr
->
th
.
th_ä“_li¡s
, 0, 
NUM_LISTS
 * (
kmp_ä“_li¡_t
));

2020 
	}
}

2024 
	$__kmp_ä“_ç¡_memÜy
(
kmp_šfo_t
 *
th
) {

2026 
bš
;

2027 
thr_d©a_t
 *
thr
 = 
	`g‘_thr_d©a
(
th
);

2028 **
l¡
 = 
NULL
;

2030 
	`KE_TRACE
(

2031 5, ("__kmp_ä“_ç¡_memÜy: C®Ëd T#%d\n", 
	`__kmp_gtid_äom_th»ad
(
th
)));

2033 
	`__kmp_bg‘_dequeue
(
th
);

2036 
bš
 = 0; bš < 
MAX_BGET_BINS
; ++bin) {

2037 
bfh—d_t
 *
b
 = 
thr
->
ä“li¡
[
bš
].
ql
.
æšk
;

2038 
b
 !ğ&
thr
->
ä“li¡
[
bš
]) {

2039 ià((
kmp_ušŒ_t
)
b
->
bh
.
bb
.
bthr
 & 1) {

2040 *((**)
b
) =

2041 
l¡
;

2042 
l¡
 = (**)
b
;

2044 
b
 = b->
ql
.
æšk
;

2047 
l¡
 !ğ
NULL
) {

2048 *
Ãxt
 = *
l¡
;

2049 
	`KE_TRACE
(10, ("__kmp_free_fast_memory: freeing %p,‚ext=%ph %p (%d)\n",

2050 
l¡
, 
Ãxt
, 
th
, 
	`__kmp_gtid_äom_th»ad
(th)));

2051 (*
thr
->
»lfú
)(
l¡
);

2052 #ià
BufSts


2054 
thr
->
num´–
++;

2055 
thr
->
numpblk
--;

2057 
l¡
 = (**)
Ãxt
;

2060 
	`KE_TRACE
(

2061 5, ("__kmp_ä“_ç¡_memÜy: F»ed T#%d\n", 
	`__kmp_gtid_äom_th»ad
(
th
)));

2062 
	}
}

	@kmp_atomic.cpp

13 
	~"kmp_©omic.h
"

14 
	~"kmp.h
"

16 
	tuch¬
;

17 
	tushÜt
;

565 #iâdeà
KMP_GOMP_COMPAT


566 
	g__kmp_©omic_mode
 = 1;

568 
	g__kmp_©omic_mode
 = 2;

571 
	$KMP_ALIGN
(128)

574 
kmp_©omic_lock_t
 
__kmp_©omic_lock
;

576 
kmp_©omic_lock_t
 
__kmp_©omic_lock_1i
;

578 
kmp_©omic_lock_t
 
__kmp_©omic_lock_2i
;

580 
kmp_©omic_lock_t
 
__kmp_©omic_lock_4i
;

582 
kmp_©omic_lock_t
 
__kmp_©omic_lock_4r
;

584 
kmp_©omic_lock_t
 
__kmp_©omic_lock_8i
;

586 
kmp_©omic_lock_t
 
__kmp_©omic_lock_8r
;

588 
kmp_©omic_lock_t
 
__kmp_©omic_lock_8c
;

590 
kmp_©omic_lock_t
 
__kmp_©omic_lock_10r
;

592 
kmp_©omic_lock_t
 
__kmp_©omic_lock_16r
;

594 
kmp_©omic_lock_t
 
__kmp_©omic_lock_16c
;

596 
kmp_©omic_lock_t
 
__kmp_©omic_lock_20c
;

598 
kmp_©omic_lock_t
 
__kmp_©omic_lock_32c
;

605 
	#KMP_ATOMIC_VOLATILE
 vŞ©e

	)

607 #ià(
KMP_ARCH_X86
è&& 
KMP_HAVE_QUAD


609 
šlše
 
İ”©Ü
+=(
Quad_a4_t
 &
lhs
, Quad_a4_ˆ&
rhs
) {

610 
lhs
.
q
 +ğ
rhs
.q;

611 
	}
}

612 
šlše
 
	gİ”©Ü
-=(
Quad_a4_t
 &
lhs
, 
	gQuad_a4_t
 &
	grhs
) {

613 
	glhs
.
	gq
 -ğ
rhs
.
q
;

615 
šlše
 
	gİ”©Ü
*=(
Quad_a4_t
 &
lhs
, 
	gQuad_a4_t
 &
	grhs
) {

616 
	glhs
.
	gq
 *ğ
rhs
.
q
;

618 
šlše
 
	gİ”©Ü
/=(
Quad_a4_t
 &
lhs
, 
	gQuad_a4_t
 &
	grhs
) {

619 
	glhs
.
	gq
 /ğ
rhs
.
q
;

621 
šlše
 
boŞ
 
	gİ”©Ü
<(
	gQuad_a4_t
 &
	glhs
, Quad_a4_ˆ&
	grhs
) {

622  
	glhs
.
	gq
 < 
	grhs
.q;

624 
šlše
 
boŞ
 
	gİ”©Ü
>(
	gQuad_a4_t
 &
	glhs
, Quad_a4_ˆ&
	grhs
) {

625  
	glhs
.
	gq
 > 
	grhs
.q;

628 
šlše
 
	gİ”©Ü
+=(
Quad_a16_t
 &
lhs
, 
	gQuad_a16_t
 &
	grhs
) {

629 
	glhs
.
	gq
 +ğ
rhs
.
q
;

631 
šlše
 
	gİ”©Ü
-=(
Quad_a16_t
 &
lhs
, 
	gQuad_a16_t
 &
	grhs
) {

632 
	glhs
.
	gq
 -ğ
rhs
.
q
;

634 
šlše
 
	gİ”©Ü
*=(
Quad_a16_t
 &
lhs
, 
	gQuad_a16_t
 &
	grhs
) {

635 
	glhs
.
	gq
 *ğ
rhs
.
q
;

637 
šlše
 
	gİ”©Ü
/=(
Quad_a16_t
 &
lhs
, 
	gQuad_a16_t
 &
	grhs
) {

638 
	glhs
.
	gq
 /ğ
rhs
.
q
;

640 
šlše
 
boŞ
 
	gİ”©Ü
<(
	gQuad_a16_t
 &
	glhs
, Quad_a16_ˆ&
	grhs
) {

641  
	glhs
.
	gq
 < 
	grhs
.q;

643 
šlše
 
boŞ
 
	gİ”©Ü
>(
	gQuad_a16_t
 &
	glhs
, Quad_a16_ˆ&
	grhs
) {

644  
	glhs
.
	gq
 > 
	grhs
.q;

647 
šlše
 
	gİ”©Ü
+=(
kmp_cm¶x128_a4_t
 &
lhs
, 
	gkmp_cm¶x128_a4_t
 &
	grhs
) {

648 
	glhs
.
	gq
 +ğ
rhs
.
q
;

650 
šlše
 
	gİ”©Ü
-=(
kmp_cm¶x128_a4_t
 &
lhs
, 
	gkmp_cm¶x128_a4_t
 &
	grhs
) {

651 
	glhs
.
	gq
 -ğ
rhs
.
q
;

653 
šlše
 
	gİ”©Ü
*=(
kmp_cm¶x128_a4_t
 &
lhs
, 
	gkmp_cm¶x128_a4_t
 &
	grhs
) {

654 
	glhs
.
	gq
 *ğ
rhs
.
q
;

656 
šlše
 
	gİ”©Ü
/=(
kmp_cm¶x128_a4_t
 &
lhs
, 
	gkmp_cm¶x128_a4_t
 &
	grhs
) {

657 
	glhs
.
	gq
 /ğ
rhs
.
q
;

660 
šlše
 
	gİ”©Ü
+=(
kmp_cm¶x128_a16_t
 &
lhs
,

661 
	gkmp_cm¶x128_a16_t
 &
	grhs
) {

662 
	glhs
.
	gq
 +ğ
rhs
.
q
;

664 
šlše
 
	gİ”©Ü
-=(
kmp_cm¶x128_a16_t
 &
lhs
,

665 
	gkmp_cm¶x128_a16_t
 &
	grhs
) {

666 
	glhs
.
	gq
 -ğ
rhs
.
q
;

668 
šlše
 
	gİ”©Ü
*=(
kmp_cm¶x128_a16_t
 &
lhs
,

669 
	gkmp_cm¶x128_a16_t
 &
	grhs
) {

670 
	glhs
.
	gq
 *ğ
rhs
.
q
;

672 
šlše
 
	gİ”©Ü
/=(
kmp_cm¶x128_a16_t
 &
lhs
,

673 
	gkmp_cm¶x128_a16_t
 &
	grhs
) {

674 
	glhs
.
	gq
 /ğ
rhs
.
q
;

684 
	#KMP_CHECK_GTID
 \

685 ià(
gtid
 =ğ
KMP_GTID_UNKNOWN
) { \

686 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

688 

	)

694 
	#ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RET_TYPE
) \

695 
RET_TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
_
##
	`OP_ID
(
id’t_t
 *
id_»f
, 
gtid
, \

696 
TYPE
 *
lhs
, TYPE 
rhs
) { \

697 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

698 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID ": T#%d\n", 
gtid
));

	)

702 
	#ATOMIC_LOCK0
 
__kmp_©omic_lock


703 
	#ATOMIC_LOCK1i
 
__kmp_©omic_lock_1i


704 
	#ATOMIC_LOCK2i
 
__kmp_©omic_lock_2i


705 
	#ATOMIC_LOCK4i
 
__kmp_©omic_lock_4i


706 
	#ATOMIC_LOCK4r
 
__kmp_©omic_lock_4r


707 
	#ATOMIC_LOCK8i
 
__kmp_©omic_lock_8i


708 
	#ATOMIC_LOCK8r
 
__kmp_©omic_lock_8r


709 
	#ATOMIC_LOCK8c
 
__kmp_©omic_lock_8c


710 
	#ATOMIC_LOCK10r
 
__kmp_©omic_lock_10r


711 
	#ATOMIC_LOCK16r
 
__kmp_©omic_lock_16r


712 
	#ATOMIC_LOCK16c
 
__kmp_©omic_lock_16c


713 
	#ATOMIC_LOCK20c
 
__kmp_©omic_lock_20c


714 
	#ATOMIC_LOCK32c
 
__kmp_©omic_lock_32c


715 

	)

722 
	#OP_CRITICAL
(
OP
, 
LCK_ID
) \

723 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

725 (*
lhs
è
	`OP
(
rhs
); \

727 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

751 #ifdeà
KMP_GOMP_COMPAT


752 
	#OP_GOMP_CRITICAL
(
OP
, 
FLAG
) \

753 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

754 
KMP_CHECK_GTID
; \

755 
	`OP_CRITICAL
(
OP
, 0); \

757 }

	)

759 
	#OP_GOMP_CRITICAL
(
OP
, 
FLAG
)

	)

762 #ià
KMP_MIC


763 
	#KMP_DO_PAUSE
 
	`_mm_d–ay_32
(1)

	)

765 
	#KMP_DO_PAUSE
 
	`KMP_CPU_PAUSE
()

	)

773 
	#OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

775 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

776 
Şd_v®ue
 = *(
TYPE
 vŞ©*)
lhs
; \

777 
Ãw_v®ue
 = 
Şd_v®ue
 
OP
 
rhs
; \

778 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

779 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

780 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

781 
KMP_DO_PAUSE
; \

783 
Şd_v®ue
 = *(
TYPE
 vŞ©*)
lhs
; \

784 
Ãw_v®ue
 = 
Şd_v®ue
 
OP
 
rhs
; \

786 }

	)

788 #ià
USE_CMPXCHG_FIX


795 
	#OP_CMPXCHG_WORKAROUND
(
TYPE
, 
BITS
, 
OP
) \

797 
	s_sss
 { \

798 
TYPE
 
cmp
; \

799 
kmp_št
##
BITS
 *
vvv
; \

801 
_sss
 
Şd_v®ue
, 
Ãw_v®ue
; \

802 
Şd_v®ue
.
vvv
 = (
kmp_št
##
BITS
 *)&Şd_v®ue.
cmp
; \

803 
Ãw_v®ue
.
vvv
 = (
kmp_št
##
BITS
 *)&Ãw_v®ue.
cmp
; \

804 *
Şd_v®ue
.
vvv
 = *(vŞ©
kmp_št
##
BITS
 *)
lhs
; \

805 
Ãw_v®ue
.
cmp
 = 
Şd_v®ue
.cm°
OP
 
rhs
; \

806 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

807 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è
Şd_v®ue
.
vvv
, \

808 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è
Ãw_v®ue
.
vvv
)) { \

809 
KMP_DO_PAUSE
; \

811 *
Şd_v®ue
.
vvv
 = *(vŞ©
kmp_št
##
BITS
 *)
lhs
; \

812 
Ãw_v®ue
.
cmp
 = 
Şd_v®ue
.cm°
OP
 
rhs
; \

814 }

	)

818 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


822 
	#ATOMIC_FIXED_ADD
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

823 
GOMP_FLAG
) \

824 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

825 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

827 
KMP_TEST_THEN_ADD
##
	`BITS
(
lhs
, 
OP
 
rhs
); \

828 }

	)

830 
	#ATOMIC_CMPXCHG
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

831 
GOMP_FLAG
) \

832 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

833 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

834 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

835 }

	)

836 #ià
USE_CMPXCHG_FIX


839 
	#ATOMIC_CMPXCHG_WORKAROUND
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, \

840 
MASK
, 
GOMP_FLAG
) \

841 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

842 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

843 
	`OP_CMPXCHG_WORKAROUND
(
TYPE
, 
BITS
, 
OP
) \

844 }

	)

851 
	#ATOMIC_FIXED_ADD
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

852 
GOMP_FLAG
) \

853 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

854 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

855 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

857 
KMP_TEST_THEN_ADD
##
	`BITS
(
lhs
, 
OP
 
rhs
); \

859 
KMP_CHECK_GTID
; \

860 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

862 }

	)

864 
	#ATOMIC_CMPXCHG
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

865 
GOMP_FLAG
) \

866 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

867 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

868 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

869 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

871 
KMP_CHECK_GTID
; \

872 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

874 }

	)

875 #ià
USE_CMPXCHG_FIX


878 
	#ATOMIC_CMPXCHG_WORKAROUND
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, \

879 
MASK
, 
GOMP_FLAG
) \

880 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

881 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

882 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

883 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

885 
KMP_CHECK_GTID
; \

886 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

888 }

	)

894 
ATOMIC_FIXED_ADD
(
fixed4
, 
add
, 
kmp_št32
, 32, +, 4
i
, 3,

896 
ATOMIC_FIXED_ADD
(
fixed4
, 
sub
, 
kmp_št32
, 32, -, 4
i
, 3,

899 
ATOMIC_CMPXCHG
(
æßt4
, 
add
, 
kmp_»®32
, 32, +, 4
r
, 3,

900 
KMP_ARCH_X86
)

901 
ATOMIC_CMPXCHG
(
æßt4
, 
sub
, 
kmp_»®32
, 32, -, 4
r
, 3,

902 
KMP_ARCH_X86
)

905 
ATOMIC_FIXED_ADD
(
fixed8
, 
add
, 
kmp_št64
, 64, +, 8
i
, 7,

906 
KMP_ARCH_X86
)

907 
ATOMIC_FIXED_ADD
(
fixed8
, 
sub
, 
kmp_št64
, 64, -, 8
i
, 7,

908 
KMP_ARCH_X86
)

910 
ATOMIC_CMPXCHG
(
æßt8
, 
add
, 
kmp_»®64
, 64, +, 8
r
, 7,

911 
KMP_ARCH_X86
)

912 
ATOMIC_CMPXCHG
(
æßt8
, 
sub
, 
kmp_»®64
, 64, -, 8
r
, 7,

913 
KMP_ARCH_X86
)

930 
ATOMIC_CMPXCHG
(
fixed1
, 
add
, 
kmp_št8
, 8, +, 1
i
, 0,

931 
KMP_ARCH_X86
)

932 
ATOMIC_CMPXCHG
(
fixed1
, 
ªdb
, 
kmp_št8
, 8, &, 1
i
, 0,

934 
ATOMIC_CMPXCHG
(
fixed1
, 
div
, 
kmp_št8
, 8, /, 1
i
, 0,

935 
KMP_ARCH_X86
)

936 
ATOMIC_CMPXCHG
(
fixed1u
, 
div
, 
kmp_ušt8
, 8, /, 1
i
, 0,

937 
KMP_ARCH_X86
)

938 
ATOMIC_CMPXCHG
(
fixed1
, 
mul
, 
kmp_št8
, 8, *, 1
i
, 0,

939 
KMP_ARCH_X86
)

940 
ATOMIC_CMPXCHG
(
fixed1
, 
Üb
, 
kmp_št8
, 8, |, 1
i
, 0,

942 
ATOMIC_CMPXCHG
(
fixed1
, 
shl
, 
kmp_št8
, 8, <<, 1
i
, 0,

943 
KMP_ARCH_X86
)

944 
ATOMIC_CMPXCHG
(
fixed1
, 
shr
, 
kmp_št8
, 8, >>, 1
i
, 0,

945 
KMP_ARCH_X86
)

946 
ATOMIC_CMPXCHG
(
fixed1u
, 
shr
, 
kmp_ušt8
, 8, >>, 1
i
, 0,

947 
KMP_ARCH_X86
)

948 
ATOMIC_CMPXCHG
(
fixed1
, 
sub
, 
kmp_št8
, 8, -, 1
i
, 0,

949 
KMP_ARCH_X86
)

950 
ATOMIC_CMPXCHG
(
fixed1
, 
xÜ
, 
kmp_št8
, 8, ^, 1
i
, 0,

952 
ATOMIC_CMPXCHG
(
fixed2
, 
add
, 
kmp_št16
, 16, +, 2
i
, 1,

953 
KMP_ARCH_X86
)

954 
ATOMIC_CMPXCHG
(
fixed2
, 
ªdb
, 
kmp_št16
, 16, &, 2
i
, 1,

956 
ATOMIC_CMPXCHG
(
fixed2
, 
div
, 
kmp_št16
, 16, /, 2
i
, 1,

957 
KMP_ARCH_X86
)

958 
ATOMIC_CMPXCHG
(
fixed2u
, 
div
, 
kmp_ušt16
, 16, /, 2
i
, 1,

959 
KMP_ARCH_X86
)

960 
ATOMIC_CMPXCHG
(
fixed2
, 
mul
, 
kmp_št16
, 16, *, 2
i
, 1,

961 
KMP_ARCH_X86
)

962 
ATOMIC_CMPXCHG
(
fixed2
, 
Üb
, 
kmp_št16
, 16, |, 2
i
, 1,

964 
ATOMIC_CMPXCHG
(
fixed2
, 
shl
, 
kmp_št16
, 16, <<, 2
i
, 1,

965 
KMP_ARCH_X86
)

966 
ATOMIC_CMPXCHG
(
fixed2
, 
shr
, 
kmp_št16
, 16, >>, 2
i
, 1,

967 
KMP_ARCH_X86
)

968 
ATOMIC_CMPXCHG
(
fixed2u
, 
shr
, 
kmp_ušt16
, 16, >>, 2
i
, 1,

969 
KMP_ARCH_X86
)

970 
ATOMIC_CMPXCHG
(
fixed2
, 
sub
, 
kmp_št16
, 16, -, 2
i
, 1,

971 
KMP_ARCH_X86
)

972 
ATOMIC_CMPXCHG
(
fixed2
, 
xÜ
, 
kmp_št16
, 16, ^, 2
i
, 1,

974 
ATOMIC_CMPXCHG
(
fixed4
, 
ªdb
, 
kmp_št32
, 32, &, 4
i
, 3,

976 
ATOMIC_CMPXCHG
(
fixed4
, 
div
, 
kmp_št32
, 32, /, 4
i
, 3,

977 
KMP_ARCH_X86
)

978 
ATOMIC_CMPXCHG
(
fixed4u
, 
div
, 
kmp_ušt32
, 32, /, 4
i
, 3,

979 
KMP_ARCH_X86
)

980 
ATOMIC_CMPXCHG
(
fixed4
, 
mul
, 
kmp_št32
, 32, *, 4
i
, 3,

981 
KMP_ARCH_X86
)

982 
ATOMIC_CMPXCHG
(
fixed4
, 
Üb
, 
kmp_št32
, 32, |, 4
i
, 3,

984 
ATOMIC_CMPXCHG
(
fixed4
, 
shl
, 
kmp_št32
, 32, <<, 4
i
, 3,

985 
KMP_ARCH_X86
)

986 
ATOMIC_CMPXCHG
(
fixed4
, 
shr
, 
kmp_št32
, 32, >>, 4
i
, 3,

987 
KMP_ARCH_X86
)

988 
ATOMIC_CMPXCHG
(
fixed4u
, 
shr
, 
kmp_ušt32
, 32, >>, 4
i
, 3,

989 
KMP_ARCH_X86
)

990 
ATOMIC_CMPXCHG
(
fixed4
, 
xÜ
, 
kmp_št32
, 32, ^, 4
i
, 3,

992 
ATOMIC_CMPXCHG
(
fixed8
, 
ªdb
, 
kmp_št64
, 64, &, 8
i
, 7,

993 
KMP_ARCH_X86
)

994 
ATOMIC_CMPXCHG
(
fixed8
, 
div
, 
kmp_št64
, 64, /, 8
i
, 7,

995 
KMP_ARCH_X86
)

996 
ATOMIC_CMPXCHG
(
fixed8u
, 
div
, 
kmp_ušt64
, 64, /, 8
i
, 7,

997 
KMP_ARCH_X86
)

998 
ATOMIC_CMPXCHG
(
fixed8
, 
mul
, 
kmp_št64
, 64, *, 8
i
, 7,

999 
KMP_ARCH_X86
)

1000 
ATOMIC_CMPXCHG
(
fixed8
, 
Üb
, 
kmp_št64
, 64, |, 8
i
, 7,

1001 
KMP_ARCH_X86
)

1002 
ATOMIC_CMPXCHG
(
fixed8
, 
shl
, 
kmp_št64
, 64, <<, 8
i
, 7,

1003 
KMP_ARCH_X86
)

1004 
ATOMIC_CMPXCHG
(
fixed8
, 
shr
, 
kmp_št64
, 64, >>, 8
i
, 7,

1005 
KMP_ARCH_X86
)

1006 
ATOMIC_CMPXCHG
(
fixed8u
, 
shr
, 
kmp_ušt64
, 64, >>, 8
i
, 7,

1007 
KMP_ARCH_X86
)

1008 
ATOMIC_CMPXCHG
(
fixed8
, 
xÜ
, 
kmp_št64
, 64, ^, 8
i
, 7,

1009 
KMP_ARCH_X86
)

1010 
ATOMIC_CMPXCHG
(
æßt4
, 
div
, 
kmp_»®32
, 32, /, 4
r
, 3,

1011 
KMP_ARCH_X86
)

1012 
ATOMIC_CMPXCHG
(
æßt4
, 
mul
, 
kmp_»®32
, 32, *, 4
r
, 3,

1013 
KMP_ARCH_X86
)

1014 
ATOMIC_CMPXCHG
(
æßt8
, 
div
, 
kmp_»®64
, 64, /, 8
r
, 7,

1015 
KMP_ARCH_X86
)

1016 
ATOMIC_CMPXCHG
(
æßt8
, 
mul
, 
kmp_»®64
, 64, *, 8
r
, 7,

1017 
KMP_ARCH_X86
)

1026 
	#ATOMIC_CRIT_L
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1027 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1028 
	`OP_GOMP_CRITICAL
(ğ*
lhs
 
OP
, 
GOMP_FLAG
) \

1029 
	`OP_CRITICAL
(ğ*
lhs
 
OP
, 
LCK_ID
) \

1030 }

	)

1032 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1036 
	#ATOMIC_CMPX_L
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1037 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1038 
	`OP_GOMP_CRITICAL
(ğ*
lhs
 
OP
, 
GOMP_FLAG
) \

1039 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1040 }

	)

1045 
	#ATOMIC_CMPX_L
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1046 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1047 
	`OP_GOMP_CRITICAL
(ğ*
lhs
 
OP
, 
GOMP_FLAG
) \

1048 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

1049 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1051 
KMP_CHECK_GTID
; \

1052 
	`OP_CRITICAL
(ğ*
lhs
 
OP
, 
LCK_ID
) \

1054 }

	)

1057 
	$ATOMIC_CMPX_L
(
fixed1
, 
ªdl
, , 8, &&, 1
i
, 0,

1058 
KMP_ARCH_X86
)

1059 
	`ATOMIC_CMPX_L
(
fixed1
, 
Ül
, , 8, ||, 1
i
, 0,

1060 
KMP_ARCH_X86
)

1061 
	$ATOMIC_CMPX_L
(
fixed2
, 
ªdl
, , 16, &&, 2
i
, 1,

1062 
KMP_ARCH_X86
)

1063 
	`ATOMIC_CMPX_L
(
fixed2
, 
Ül
, , 16, ||, 2
i
, 1,

1064 
KMP_ARCH_X86
)

1065 
	$ATOMIC_CMPX_L
(
fixed4
, 
ªdl
, 
kmp_št32
, 32, &&, 4
i
, 3,

1067 
	`ATOMIC_CMPX_L
(
fixed4
, 
Ül
, 
kmp_št32
, 32, ||, 4
i
, 3,

1069 
	$ATOMIC_CMPX_L
(
fixed8
, 
ªdl
, 
kmp_št64
, 64, &&, 8
i
, 7,

1070 
KMP_ARCH_X86
)

1071 
	`ATOMIC_CMPX_L
(
fixed8
, 
Ül
, 
kmp_št64
, 64, ||, 8
i
, 7,

1072 
KMP_ARCH_X86
)

1083 
	#MIN_MAX_CRITSECT
(
OP
, 
LCK_ID
) \

1084 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

1086 ià(*
lhs
 
OP
 
rhs
) { \

1087 *
lhs
 = 
rhs
; \

1088 
	}
} \

1089 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

1092 #ifdeà
KMP_GOMP_COMPAT


1093 
	#GOMP_MIN_MAX_CRITSECT
(
OP
, 
FLAG
) \

1094 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

1095 
KMP_CHECK_GTID
; \

1096 
	`MIN_MAX_CRITSECT
(
OP
, 0); \

1098 }

	)

1100 
	#GOMP_MIN_MAX_CRITSECT
(
OP
, 
FLAG
)

	)

1104 
	#MIN_MAX_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1106 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

1107 
TYPE
 
Şd_v®ue
; \

1108 
‹mp_v®
 = *
lhs
; \

1109 
Şd_v®ue
 = 
‹mp_v®
; \

1110 
Şd_v®ue
 
OP
 
rhs
 && \

1111 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

1112 (
kmp_št
##
BITS
 *)
lhs
, \

1113 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Şd_v®ue
, \

1114 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
rhs
)) { \

1115 
	`KMP_CPU_PAUSE
(); \

1116 
‹mp_v®
 = *
lhs
; \

1117 
Şd_v®ue
 = 
‹mp_v®
; \

1119 }

	)

1123 
	#MIN_MAX_CRITICAL
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1124 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1125 ià(*
lhs
 
OP
 
rhs
) { \

1126 
	`GOMP_MIN_MAX_CRITSECT
(
OP
, 
GOMP_FLAG
) \

1127 
	`MIN_MAX_CRITSECT
(
OP
, 
LCK_ID
) \

1129 }

	)

1131 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1135 
	#MIN_MAX_COMPXCHG
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

1136 
GOMP_FLAG
) \

1137 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1138 ià(*
lhs
 
OP
 
rhs
) { \

1139 
	`GOMP_MIN_MAX_CRITSECT
(
OP
, 
GOMP_FLAG
) \

1140 
	`MIN_MAX_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1142 }

	)

1147 
	#MIN_MAX_COMPXCHG
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

1148 
GOMP_FLAG
) \

1149 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1150 ià(*
lhs
 
OP
 
rhs
) { \

1151 
	`GOMP_MIN_MAX_CRITSECT
(
OP
, 
GOMP_FLAG
) \

1152 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

1153 
	`MIN_MAX_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1155 
KMP_CHECK_GTID
; \

1156 
	`MIN_MAX_CRITSECT
(
OP
, 
LCK_ID
) \

1159 }

	)

1162 
MIN_MAX_COMPXCHG
(
fixed1
, 
max
, , 8, <, 1
i
, 0,

1163 
KMP_ARCH_X86
)

1164 
MIN_MAX_COMPXCHG
(
fixed1
, 
mš
, , 8, >, 1
i
, 0,

1165 
KMP_ARCH_X86
)

1166 
MIN_MAX_COMPXCHG
(
fixed2
, 
max
, , 16, <, 2
i
, 1,

1167 
KMP_ARCH_X86
)

1168 
MIN_MAX_COMPXCHG
(
fixed2
, 
mš
, , 16, >, 2
i
, 1,

1169 
KMP_ARCH_X86
)

1170 
MIN_MAX_COMPXCHG
(
fixed4
, 
max
, 
kmp_št32
, 32, <, 4
i
, 3,

1172 
MIN_MAX_COMPXCHG
(
fixed4
, 
mš
, 
kmp_št32
, 32, >, 4
i
, 3,

1174 
MIN_MAX_COMPXCHG
(
fixed8
, 
max
, 
kmp_št64
, 64, <, 8
i
, 7,

1175 
KMP_ARCH_X86
)

1176 
MIN_MAX_COMPXCHG
(
fixed8
, 
mš
, 
kmp_št64
, 64, >, 8
i
, 7,

1177 
KMP_ARCH_X86
)

1178 
MIN_MAX_COMPXCHG
(
æßt4
, 
max
, 
kmp_»®32
, 32, <, 4
r
, 3,

1179 
KMP_ARCH_X86
)

1180 
MIN_MAX_COMPXCHG
(
æßt4
, 
mš
, 
kmp_»®32
, 32, >, 4
r
, 3,

1181 
KMP_ARCH_X86
)

1182 
MIN_MAX_COMPXCHG
(
æßt8
, 
max
, 
kmp_»®64
, 64, <, 8
r
, 7,

1183 
KMP_ARCH_X86
)

1184 
MIN_MAX_COMPXCHG
(
æßt8
, 
mš
, 
kmp_»®64
, 64, >, 8
r
, 7,

1185 
KMP_ARCH_X86
)

1186 #ià
KMP_HAVE_QUAD


1187 
MIN_MAX_CRITICAL
(
æßt16
, 
max
, 
QUAD_LEGACY
, <, 16
r
,

1189 
MIN_MAX_CRITICAL
(
æßt16
, 
mš
, 
QUAD_LEGACY
, >, 16
r
,

1191 #ià(
KMP_ARCH_X86
)

1192 
MIN_MAX_CRITICAL
(
æßt16
, 
max_a16
, 
Quad_a16_t
, <, 16
r
,

1194 
MIN_MAX_CRITICAL
(
æßt16
, 
mš_a16
, 
Quad_a16_t
, >, 16
r
,

1201 
	#ATOMIC_CRIT_EQV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1202 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1203 
	`OP_GOMP_CRITICAL
(^ğ~, 
GOMP_FLAG
) \

1204 
	`OP_CRITICAL
(^ğ~, 
LCK_ID
) \

1205 }

	)

1208 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1211 
	#ATOMIC_CMPX_EQV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

1212 
GOMP_FLAG
) \

1213 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1214 
	`OP_GOMP_CRITICAL
(^ğ~, 
GOMP_FLAG
) \

1215 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1216 }

	)

1221 
	#ATOMIC_CMPX_EQV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
MASK
, \

1222 
GOMP_FLAG
) \

1223 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1224 
	`OP_GOMP_CRITICAL
(^ğ~, 
GOMP_FLAG
) \

1225 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

1226 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1228 
KMP_CHECK_GTID
; \

1229 
	`OP_CRITICAL
(^ğ~, 
LCK_ID
) \

1231 }

	)

1234 
ATOMIC_CMPXCHG
(
fixed1
, 
Ãqv
, 
kmp_št8
, 8, ^, 1
i
, 0,

1235 
KMP_ARCH_X86
)

1236 
ATOMIC_CMPXCHG
(
fixed2
, 
Ãqv
, 
kmp_št16
, 16, ^, 2
i
, 1,

1237 
KMP_ARCH_X86
)

1238 
ATOMIC_CMPXCHG
(
fixed4
, 
Ãqv
, 
kmp_št32
, 32, ^, 4
i
, 3,

1239 
KMP_ARCH_X86
)

1240 
ATOMIC_CMPXCHG
(
fixed8
, 
Ãqv
, 
kmp_št64
, 64, ^, 8
i
, 7,

1241 
KMP_ARCH_X86
)

1242 
ATOMIC_CMPX_EQV
(
fixed1
, 
eqv
, 
kmp_št8
, 8, ^~, 1
i
, 0,

1243 
KMP_ARCH_X86
)

1244 
ATOMIC_CMPX_EQV
(
fixed2
, 
eqv
, 
kmp_št16
, 16, ^~, 2
i
, 1,

1245 
KMP_ARCH_X86
)

1246 
ATOMIC_CMPX_EQV
(
fixed4
, 
eqv
, 
kmp_št32
, 32, ^~, 4
i
, 3,

1247 
KMP_ARCH_X86
)

1248 
ATOMIC_CMPX_EQV
(
fixed8
, 
eqv
, 
kmp_št64
, 64, ^~, 8
i
, 7,

1249 
KMP_ARCH_X86
)

1257 
	#ATOMIC_CRITICAL
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1258 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1259 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1260 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

1261 }

	)

1265 
ATOMIC_CRITICAL
(
æßt10
, 
add
, , +, 10
r
,

1267 
ATOMIC_CRITICAL
(
æßt10
, 
sub
, , -, 10
r
,

1269 
	$ATOMIC_CRITICAL
(
æßt10
, 
mul
, , *, 10
r
,

1271 
	`ATOMIC_CRITICAL
(
æßt10
, 
div
, , /, 10
r
,

1273 #ià
KMP_HAVE_QUAD


1275 
	`ATOMIC_CRITICAL
(
æßt16
, 
add
, 
QUAD_LEGACY
, +, 16
r
,

1277 
	`ATOMIC_CRITICAL
(
æßt16
, 
sub
, 
QUAD_LEGACY
, -, 16
r
,

1279 
	$ATOMIC_CRITICAL
(
æßt16
, 
mul
, 
QUAD_LEGACY
, *, 16
r
,

1281 
	`ATOMIC_CRITICAL
(
æßt16
, 
div
, 
QUAD_LEGACY
, /, 16
r
,

1283 #ià(
KMP_ARCH_X86
)

1284 
	`ATOMIC_CRITICAL
(
æßt16
, 
add_a16
, 
Quad_a16_t
, +, 16
r
,

1286 
	`ATOMIC_CRITICAL
(
æßt16
, 
sub_a16
, 
Quad_a16_t
, -, 16
r
,

1288 
	$ATOMIC_CRITICAL
(
æßt16
, 
mul_a16
, 
Quad_a16_t
, *, 16
r
,

1290 
	`ATOMIC_CRITICAL
(
æßt16
, 
div_a16
, 
Quad_a16_t
, /, 16
r
,

1296 #ià
USE_CMPXCHG_FIX


1298 
	`ATOMIC_CMPXCHG_WORKAROUND
(
cm¶x4
, 
add
, 
kmp_cm¶x32
, 64, +, 8c, 7,

1300 
	`ATOMIC_CMPXCHG_WORKAROUND
(
cm¶x4
, 
sub
, 
kmp_cm¶x32
, 64, -, 8c, 7,

1302 
	$ATOMIC_CMPXCHG_WORKAROUND
(
cm¶x4
, 
mul
, 
kmp_cm¶x32
, 64, *, 8c, 7,

1304 
	`ATOMIC_CMPXCHG_WORKAROUND
(
cm¶x4
, 
div
, 
kmp_cm¶x32
, 64, /, 8c, 7,

1308 
	`ATOMIC_CRITICAL
(
cm¶x4
, 
add
, 
kmp_cm¶x32
, +, 8c, 1)

1309 
	`ATOMIC_CRITICAL
(
cm¶x4
, 
sub
, 
kmp_cm¶x32
, -, 8c, 1)

1310 
	$ATOMIC_CRITICAL
(
cm¶x4
, 
mul
, 
kmp_cm¶x32
, *, 8c, 1)

1311 
	`ATOMIC_CRITICAL
(
cm¶x4
, 
div
, 
kmp_cm¶x32
, /, 8c, 1)

1314 
	`ATOMIC_CRITICAL
(
cm¶x8
, 
add
, 
kmp_cm¶x64
, +, 16c, 1)

1315 
	`ATOMIC_CRITICAL
(
cm¶x8
, 
sub
, 
kmp_cm¶x64
, -, 16c, 1)

1316 
	$ATOMIC_CRITICAL
(
cm¶x8
, 
mul
, 
kmp_cm¶x64
, *, 16c, 1)

1317 
	`ATOMIC_CRITICAL
(
cm¶x8
, 
div
, 
kmp_cm¶x64
, /, 16c, 1)

1318 
	`ATOMIC_CRITICAL
(
cm¶x10
, 
add
, 
kmp_cm¶x80
, +, 20c,

1320 
	`ATOMIC_CRITICAL
(
cm¶x10
, 
sub
, 
kmp_cm¶x80
, -, 20c,

1322 
	$ATOMIC_CRITICAL
(
cm¶x10
, 
mul
, 
kmp_cm¶x80
, *, 20c,

1324 
	`ATOMIC_CRITICAL
(
cm¶x10
, 
div
, 
kmp_cm¶x80
, /, 20c,

1326 #ià
KMP_HAVE_QUAD


1327 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
add
, 
CPLX128_LEG
, +, 32c,

1329 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
sub
, 
CPLX128_LEG
, -, 32c,

1331 
	$ATOMIC_CRITICAL
(
cm¶x16
, 
mul
, 
CPLX128_LEG
, *, 32c,

1333 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
div
, 
CPLX128_LEG
, /, 32c,

1335 #ià(
KMP_ARCH_X86
)

1336 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
add_a16
, 
kmp_cm¶x128_a16_t
, +, 32c,

1338 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
sub_a16
, 
kmp_cm¶x128_a16_t
, -, 32c,

1340 
	$ATOMIC_CRITICAL
(
cm¶x16
, 
mul_a16
, 
kmp_cm¶x128_a16_t
, *, 32c,

1342 
	`ATOMIC_CRITICAL
(
cm¶x16
, 
div_a16
, 
kmp_cm¶x128_a16_t
, /, 32c,

1349 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1357 
	#OP_CRITICAL_REV
(
OP
, 
LCK_ID
) \

1358 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

1360 (*
lhs
èğ(
rhs
)
	`OP
(*lhs); \

1362 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

1364 #ifdeà
KMP_GOMP_COMPAT


1365 
	#OP_GOMP_CRITICAL_REV
(
OP
, 
FLAG
) \

1366 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

1367 
KMP_CHECK_GTID
; \

1368 
	`OP_CRITICAL_REV
(
OP
, 0); \

1370 
	}

	)
}

1372 
	#OP_GOMP_CRITICAL_REV
(
OP
, 
FLAG
)

	)

1380 
	#ATOMIC_BEGIN_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RET_TYPE
) \

1381 
RET_TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
_
##
OP_ID
##
	`_»v
(
id’t_t
 *
id_»f
, 
gtid
, \

1382 
TYPE
 *
lhs
, TYPE 
rhs
) { \

1383 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

1384 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID "_»v: T#%d\n", 
gtid
));

	)

1393 
	#OP_CMPXCHG_REV
(
TYPE
, 
BITS
, 
OP
) \

1395 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

1396 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

1397 
‹mp_v®
 = *
lhs
; \

1398 
Şd_v®ue
 = 
‹mp_v®
; \

1399 
Ãw_v®ue
 = 
rhs
 
OP
 
Şd_v®ue
; \

1400 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

1401 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

1402 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

1403 
KMP_DO_PAUSE
; \

1405 
‹mp_v®
 = *
lhs
; \

1406 
Şd_v®ue
 = 
‹mp_v®
; \

1407 
Ãw_v®ue
 = 
rhs
 
OP
 
Şd_v®ue
; \

1409 }

	)

1412 
	#ATOMIC_CMPXCHG_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1413 
	`ATOMIC_BEGIN_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1414 
	`OP_GOMP_CRITICAL_REV
(
OP
, 
GOMP_FLAG
) \

1415 
	`OP_CMPXCHG_REV
(
TYPE
, 
BITS
, 
OP
) \

1416 }

	)

1432 
ATOMIC_CMPXCHG_REV
(
fixed1
, 
div
, 
kmp_št8
, 8, /, 1
i
,

1433 
KMP_ARCH_X86
)

1434 
ATOMIC_CMPXCHG_REV
(
fixed1u
, 
div
, 
kmp_ušt8
, 8, /, 1
i
,

1435 
KMP_ARCH_X86
)

1436 
ATOMIC_CMPXCHG_REV
(
fixed1
, 
shl
, 
kmp_št8
, 8, <<, 1
i
,

1437 
KMP_ARCH_X86
)

1438 
ATOMIC_CMPXCHG_REV
(
fixed1
, 
shr
, 
kmp_št8
, 8, >>, 1
i
,

1439 
KMP_ARCH_X86
)

1440 
ATOMIC_CMPXCHG_REV
(
fixed1u
, 
shr
, 
kmp_ušt8
, 8, >>, 1
i
,

1441 
KMP_ARCH_X86
)

1442 
ATOMIC_CMPXCHG_REV
(
fixed1
, 
sub
, 
kmp_št8
, 8, -, 1
i
,

1443 
KMP_ARCH_X86
)

1445 
ATOMIC_CMPXCHG_REV
(
fixed2
, 
div
, 
kmp_št16
, 16, /, 2
i
,

1446 
KMP_ARCH_X86
)

1447 
ATOMIC_CMPXCHG_REV
(
fixed2u
, 
div
, 
kmp_ušt16
, 16, /, 2
i
,

1448 
KMP_ARCH_X86
)

1449 
ATOMIC_CMPXCHG_REV
(
fixed2
, 
shl
, 
kmp_št16
, 16, <<, 2
i
,

1450 
KMP_ARCH_X86
)

1451 
ATOMIC_CMPXCHG_REV
(
fixed2
, 
shr
, 
kmp_št16
, 16, >>, 2
i
,

1452 
KMP_ARCH_X86
)

1453 
ATOMIC_CMPXCHG_REV
(
fixed2u
, 
shr
, 
kmp_ušt16
, 16, >>, 2
i
,

1454 
KMP_ARCH_X86
)

1455 
ATOMIC_CMPXCHG_REV
(
fixed2
, 
sub
, 
kmp_št16
, 16, -, 2
i
,

1456 
KMP_ARCH_X86
)

1458 
ATOMIC_CMPXCHG_REV
(
fixed4
, 
div
, 
kmp_št32
, 32, /, 4
i
,

1459 
KMP_ARCH_X86
)

1460 
ATOMIC_CMPXCHG_REV
(
fixed4u
, 
div
, 
kmp_ušt32
, 32, /, 4
i
,

1461 
KMP_ARCH_X86
)

1462 
ATOMIC_CMPXCHG_REV
(
fixed4
, 
shl
, 
kmp_št32
, 32, <<, 4
i
,

1463 
KMP_ARCH_X86
)

1464 
ATOMIC_CMPXCHG_REV
(
fixed4
, 
shr
, 
kmp_št32
, 32, >>, 4
i
,

1465 
KMP_ARCH_X86
)

1466 
ATOMIC_CMPXCHG_REV
(
fixed4u
, 
shr
, 
kmp_ušt32
, 32, >>, 4
i
,

1467 
KMP_ARCH_X86
)

1468 
ATOMIC_CMPXCHG_REV
(
fixed4
, 
sub
, 
kmp_št32
, 32, -, 4
i
,

1469 
KMP_ARCH_X86
)

1471 
ATOMIC_CMPXCHG_REV
(
fixed8
, 
div
, 
kmp_št64
, 64, /, 8
i
,

1472 
KMP_ARCH_X86
)

1473 
ATOMIC_CMPXCHG_REV
(
fixed8u
, 
div
, 
kmp_ušt64
, 64, /, 8
i
,

1474 
KMP_ARCH_X86
)

1475 
ATOMIC_CMPXCHG_REV
(
fixed8
, 
shl
, 
kmp_št64
, 64, <<, 8
i
,

1476 
KMP_ARCH_X86
)

1477 
ATOMIC_CMPXCHG_REV
(
fixed8
, 
shr
, 
kmp_št64
, 64, >>, 8
i
,

1478 
KMP_ARCH_X86
)

1479 
ATOMIC_CMPXCHG_REV
(
fixed8u
, 
shr
, 
kmp_ušt64
, 64, >>, 8
i
,

1480 
KMP_ARCH_X86
)

1481 
ATOMIC_CMPXCHG_REV
(
fixed8
, 
sub
, 
kmp_št64
, 64, -, 8
i
,

1482 
KMP_ARCH_X86
)

1484 
ATOMIC_CMPXCHG_REV
(
æßt4
, 
div
, 
kmp_»®32
, 32, /, 4
r
,

1485 
KMP_ARCH_X86
)

1486 
ATOMIC_CMPXCHG_REV
(
æßt4
, 
sub
, 
kmp_»®32
, 32, -, 4
r
,

1487 
KMP_ARCH_X86
)

1489 
ATOMIC_CMPXCHG_REV
(
æßt8
, 
div
, 
kmp_»®64
, 64, /, 8
r
,

1490 
KMP_ARCH_X86
)

1491 
ATOMIC_CMPXCHG_REV
(
æßt8
, 
sub
, 
kmp_»®64
, 64, -, 8
r
,

1492 
KMP_ARCH_X86
)

1501 
	#ATOMIC_CRITICAL_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1502 
	`ATOMIC_BEGIN_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

1503 
	`OP_GOMP_CRITICAL_REV
(
OP
, 
GOMP_FLAG
) \

1504 
	`OP_CRITICAL_REV
(
OP
, 
LCK_ID
) \

1505 }

	)

1509 
ATOMIC_CRITICAL_REV
(
æßt10
, 
sub
, , -, 10
r
,

1511 
ATOMIC_CRITICAL_REV
(
æßt10
, 
div
, , /, 10
r
,

1513 #ià
KMP_HAVE_QUAD


1515 
ATOMIC_CRITICAL_REV
(
æßt16
, 
sub
, 
QUAD_LEGACY
, -, 16
r
,

1517 
ATOMIC_CRITICAL_REV
(
æßt16
, 
div
, 
QUAD_LEGACY
, /, 16
r
,

1519 #ià(
KMP_ARCH_X86
)

1520 
ATOMIC_CRITICAL_REV
(
æßt16
, 
sub_a16
, 
Quad_a16_t
, -, 16
r
,

1522 
ATOMIC_CRITICAL_REV
(
æßt16
, 
div_a16
, 
Quad_a16_t
, /, 16
r
,

1528 
ATOMIC_CRITICAL_REV
(
cm¶x4
, 
sub
, 
kmp_cm¶x32
, -, 8c,

1530 
ATOMIC_CRITICAL_REV
(
cm¶x4
, 
div
, 
kmp_cm¶x32
, /, 8c,

1532 
ATOMIC_CRITICAL_REV
(
cm¶x8
, 
sub
, 
kmp_cm¶x64
, -, 16c,

1534 
ATOMIC_CRITICAL_REV
(
cm¶x8
, 
div
, 
kmp_cm¶x64
, /, 16c,

1536 
ATOMIC_CRITICAL_REV
(
cm¶x10
, 
sub
, 
kmp_cm¶x80
, -, 20c,

1538 
ATOMIC_CRITICAL_REV
(
cm¶x10
, 
div
, 
kmp_cm¶x80
, /, 20c,

1540 #ià
KMP_HAVE_QUAD


1541 
ATOMIC_CRITICAL_REV
(
cm¶x16
, 
sub
, 
CPLX128_LEG
, -, 32c,

1543 
ATOMIC_CRITICAL_REV
(
cm¶x16
, 
div
, 
CPLX128_LEG
, /, 32c,

1545 #ià(
KMP_ARCH_X86
)

1546 
ATOMIC_CRITICAL_REV
(
cm¶x16
, 
sub_a16
, 
kmp_cm¶x128_a16_t
, -, 32c,

1548 
ATOMIC_CRITICAL_REV
(
cm¶x16
, 
div_a16
, 
kmp_cm¶x128_a16_t
, /, 32c,

1567 
	#ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1568 
__kmpc_©omic_
##
TYPE_ID
##
_
##
OP_ID
##_##
	`RTYPE_ID
( \

1569 
id’t_t
 *
id_»f
, 
gtid
, 
TYPE
 *
lhs
, 
RTYPE
 
rhs
) { \

1570 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

1571 
	`KA_TRACE
(100, \

1573 
gtid
));

	)

1576 
	#ATOMIC_CRITICAL_FP
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
OP
, 
RTYPE_ID
, 
RTYPE
, 
LCK_ID
, \

1577 
GOMP_FLAG
) \

1578 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1579 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1580 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

1581 }

	)

1584 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1587 
	#ATOMIC_CMPXCHG_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1588 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1589 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1590 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1591 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1592 }

	)

1597 
	#ATOMIC_CMPXCHG_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1598 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1599 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1600 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1601 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

1602 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1604 
KMP_CHECK_GTID
; \

1605 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

1607 }

	)

1611 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1613 
	#ATOMIC_CMPXCHG_REV_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, \

1614 
RTYPE
, 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1615 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1616 
	`OP_GOMP_CRITICAL_REV
(
OP
, 
GOMP_FLAG
) \

1617 
	`OP_CMPXCHG_REV
(
TYPE
, 
BITS
, 
OP
) \

1618 }

	)

1619 
	#ATOMIC_CRITICAL_REV_FP
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1620 
LCK_ID
, 
GOMP_FLAG
) \

1621 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1622 
	`OP_GOMP_CRITICAL_REV
(
OP
, 
GOMP_FLAG
) \

1623 
	`OP_CRITICAL_REV
(
OP
, 
LCK_ID
) \

1624 }

	)

1628 
	$ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
mul
, 8, *, 
æßt8
, 
kmp_»®64
, 1
i
, 0,

1629 
KMP_ARCH_X86
)

1630 
	`ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
div
, 8, /, 
æßt8
, 
kmp_»®64
, 1
i
, 0,

1631 
KMP_ARCH_X86
)

1632 
	$ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
mul
, 16, *, 
æßt8
, 
kmp_»®64
, 2
i
, 1,

1633 
KMP_ARCH_X86
)

1634 
	`ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
div
, 16, /, 
æßt8
, 
kmp_»®64
, 2
i
, 1,

1635 
KMP_ARCH_X86
)

1636 
	$ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
mul
, 32, *, 
æßt8
, 
kmp_»®64
, 4
i
, 3,

1638 
	`ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
div
, 32, /, 
æßt8
, 
kmp_»®64
, 4
i
, 3,

1640 
	$ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
mul
, 64, *, 
æßt8
, 
kmp_»®64
, 8
i
, 7,

1641 
KMP_ARCH_X86
)

1642 
	`ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
div
, 64, /, 
æßt8
, 
kmp_»®64
, 8
i
, 7,

1643 
KMP_ARCH_X86
)

1644 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
add
, 32, +, 
æßt8
, 
kmp_»®64
, 4
r
, 3,

1645 
KMP_ARCH_X86
)

1646 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
sub
, 32, -, 
æßt8
, 
kmp_»®64
, 4
r
, 3,

1647 
KMP_ARCH_X86
)

1648 
	$ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
mul
, 32, *, 
æßt8
, 
kmp_»®64
, 4
r
, 3,

1649 
KMP_ARCH_X86
)

1650 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
div
, 32, /, 
æßt8
, 
kmp_»®64
, 4
r
, 3,

1651 
KMP_ARCH_X86
)

1655 #ià
KMP_HAVE_QUAD


1656 
	`ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
add
, 8, +, 
å
, 
_Quad
, 1
i
, 0,

1657 
KMP_ARCH_X86
)

1658 
	`ATOMIC_CMPXCHG_MIX
(
fixed1u
, 
uch¬
, 
add
, 8, +, 
å
, 
_Quad
, 1
i
, 0,

1659 
KMP_ARCH_X86
)

1660 
	`ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
sub
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

1661 
KMP_ARCH_X86
)

1662 
	`ATOMIC_CMPXCHG_MIX
(
fixed1u
, 
uch¬
, 
sub
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

1663 
KMP_ARCH_X86
)

1664 
	$ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
mul
, 8, *, 
å
, 
_Quad
, 1
i
, 0,

1665 
KMP_ARCH_X86
)

1666 
	$ATOMIC_CMPXCHG_MIX
(
fixed1u
, 
uch¬
, 
mul
, 8, *, 
å
, 
_Quad
, 1
i
, 0,

1667 
KMP_ARCH_X86
)

1668 
	`ATOMIC_CMPXCHG_MIX
(
fixed1
, , 
div
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

1669 
KMP_ARCH_X86
)

1670 
	`ATOMIC_CMPXCHG_MIX
(
fixed1u
, 
uch¬
, 
div
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

1671 
KMP_ARCH_X86
)

1673 
	`ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
add
, 16, +, 
å
, 
_Quad
, 2
i
, 1,

1674 
KMP_ARCH_X86
)

1675 
	`ATOMIC_CMPXCHG_MIX
(
fixed2u
, 
ushÜt
, 
add
, 16, +, 
å
, 
_Quad
, 2
i
, 1,

1676 
KMP_ARCH_X86
)

1677 
	`ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
sub
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

1678 
KMP_ARCH_X86
)

1679 
	`ATOMIC_CMPXCHG_MIX
(
fixed2u
, 
ushÜt
, 
sub
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

1680 
KMP_ARCH_X86
)

1681 
	$ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
mul
, 16, *, 
å
, 
_Quad
, 2
i
, 1,

1682 
KMP_ARCH_X86
)

1683 
	$ATOMIC_CMPXCHG_MIX
(
fixed2u
, 
ushÜt
, 
mul
, 16, *, 
å
, 
_Quad
, 2
i
, 1,

1684 
KMP_ARCH_X86
)

1685 
	`ATOMIC_CMPXCHG_MIX
(
fixed2
, , 
div
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

1686 
KMP_ARCH_X86
)

1687 
	`ATOMIC_CMPXCHG_MIX
(
fixed2u
, 
ushÜt
, 
div
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

1688 
KMP_ARCH_X86
)

1690 
	`ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
add
, 32, +, 
å
, 
_Quad
, 4
i
, 3,

1692 
	`ATOMIC_CMPXCHG_MIX
(
fixed4u
, 
kmp_ušt32
, 
add
, 32, +, 
å
, 
_Quad
, 4
i
, 3,

1694 
	`ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
sub
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

1696 
	`ATOMIC_CMPXCHG_MIX
(
fixed4u
, 
kmp_ušt32
, 
sub
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

1698 
	$ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
mul
, 32, *, 
å
, 
_Quad
, 4
i
, 3,

1700 
	$ATOMIC_CMPXCHG_MIX
(
fixed4u
, 
kmp_ušt32
, 
mul
, 32, *, 
å
, 
_Quad
, 4
i
, 3,

1702 
	`ATOMIC_CMPXCHG_MIX
(
fixed4
, 
kmp_št32
, 
div
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

1704 
	`ATOMIC_CMPXCHG_MIX
(
fixed4u
, 
kmp_ušt32
, 
div
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

1707 
	`ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
add
, 64, +, 
å
, 
_Quad
, 8
i
, 7,

1708 
KMP_ARCH_X86
)

1709 
	`ATOMIC_CMPXCHG_MIX
(
fixed8u
, 
kmp_ušt64
, 
add
, 64, +, 
å
, 
_Quad
, 8
i
, 7,

1710 
KMP_ARCH_X86
)

1711 
	`ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
sub
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

1712 
KMP_ARCH_X86
)

1713 
	`ATOMIC_CMPXCHG_MIX
(
fixed8u
, 
kmp_ušt64
, 
sub
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

1714 
KMP_ARCH_X86
)

1715 
	$ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
mul
, 64, *, 
å
, 
_Quad
, 8
i
, 7,

1716 
KMP_ARCH_X86
)

1717 
	$ATOMIC_CMPXCHG_MIX
(
fixed8u
, 
kmp_ušt64
, 
mul
, 64, *, 
å
, 
_Quad
, 8
i
, 7,

1718 
KMP_ARCH_X86
)

1719 
	`ATOMIC_CMPXCHG_MIX
(
fixed8
, 
kmp_št64
, 
div
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

1720 
KMP_ARCH_X86
)

1721 
	`ATOMIC_CMPXCHG_MIX
(
fixed8u
, 
kmp_ušt64
, 
div
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

1722 
KMP_ARCH_X86
)

1724 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
add
, 32, +, 
å
, 
_Quad
, 4
r
, 3,

1725 
KMP_ARCH_X86
)

1726 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
sub
, 32, -, 
å
, 
_Quad
, 4
r
, 3,

1727 
KMP_ARCH_X86
)

1728 
	$ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
mul
, 32, *, 
å
, 
_Quad
, 4
r
, 3,

1729 
KMP_ARCH_X86
)

1730 
	`ATOMIC_CMPXCHG_MIX
(
æßt4
, 
kmp_»®32
, 
div
, 32, /, 
å
, 
_Quad
, 4
r
, 3,

1731 
KMP_ARCH_X86
)

1733 
	`ATOMIC_CMPXCHG_MIX
(
æßt8
, 
kmp_»®64
, 
add
, 64, +, 
å
, 
_Quad
, 8
r
, 7,

1734 
KMP_ARCH_X86
)

1735 
	`ATOMIC_CMPXCHG_MIX
(
æßt8
, 
kmp_»®64
, 
sub
, 64, -, 
å
, 
_Quad
, 8
r
, 7,

1736 
KMP_ARCH_X86
)

1737 
	$ATOMIC_CMPXCHG_MIX
(
æßt8
, 
kmp_»®64
, 
mul
, 64, *, 
å
, 
_Quad
, 8
r
, 7,

1738 
KMP_ARCH_X86
)

1739 
	`ATOMIC_CMPXCHG_MIX
(
æßt8
, 
kmp_»®64
, 
div
, 64, /, 
å
, 
_Quad
, 8
r
, 7,

1740 
KMP_ARCH_X86
)

1742 
	`ATOMIC_CRITICAL_FP
(
æßt10
, , 
add
, +, 
å
, 
_Quad
, 10
r
,

1744 
	`ATOMIC_CRITICAL_FP
(
æßt10
, , 
sub
, -, 
å
, 
_Quad
, 10
r
,

1746 
	$ATOMIC_CRITICAL_FP
(
æßt10
, , 
mul
, *, 
å
, 
_Quad
, 10
r
,

1748 
	`ATOMIC_CRITICAL_FP
(
æßt10
, , 
div
, /, 
å
, 
_Quad
, 10
r
,

1751 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1753 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed1
, , 
sub_»v
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

1754 
KMP_ARCH_X86
)

1755 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed1u
, 
uch¬
, 
sub_»v
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

1756 
KMP_ARCH_X86
)

1757 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed1
, , 
div_»v
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

1758 
KMP_ARCH_X86
)

1759 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed1u
, 
uch¬
, 
div_»v
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

1760 
KMP_ARCH_X86
)

1762 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed2
, , 
sub_»v
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

1763 
KMP_ARCH_X86
)

1764 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed2u
, 
ushÜt
, 
sub_»v
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

1765 
KMP_ARCH_X86
)

1766 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed2
, , 
div_»v
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

1767 
KMP_ARCH_X86
)

1768 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed2u
, 
ushÜt
, 
div_»v
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

1769 
KMP_ARCH_X86
)

1771 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed4
, 
kmp_št32
, 
sub_»v
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

1773 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed4u
, 
kmp_ušt32
, 
sub_»v
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

1775 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed4
, 
kmp_št32
, 
div_»v
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

1777 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed4u
, 
kmp_ušt32
, 
div_»v
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

1780 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed8
, 
kmp_št64
, 
sub_»v
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

1781 
KMP_ARCH_X86
)

1782 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed8u
, 
kmp_ušt64
, 
sub_»v
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

1783 
KMP_ARCH_X86
)

1784 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed8
, 
kmp_št64
, 
div_»v
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

1785 
KMP_ARCH_X86
)

1786 
	`ATOMIC_CMPXCHG_REV_MIX
(
fixed8u
, 
kmp_ušt64
, 
div_»v
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

1787 
KMP_ARCH_X86
)

1789 
	`ATOMIC_CMPXCHG_REV_MIX
(
æßt4
, 
kmp_»®32
, 
sub_»v
, 32, -, 
å
, 
_Quad
, 4
r
, 3,

1790 
KMP_ARCH_X86
)

1791 
	`ATOMIC_CMPXCHG_REV_MIX
(
æßt4
, 
kmp_»®32
, 
div_»v
, 32, /, 
å
, 
_Quad
, 4
r
, 3,

1792 
KMP_ARCH_X86
)

1794 
	`ATOMIC_CMPXCHG_REV_MIX
(
æßt8
, 
kmp_»®64
, 
sub_»v
, 64, -, 
å
, 
_Quad
, 8
r
, 7,

1795 
KMP_ARCH_X86
)

1796 
	`ATOMIC_CMPXCHG_REV_MIX
(
æßt8
, 
kmp_»®64
, 
div_»v
, 64, /, 
å
, 
_Quad
, 8
r
, 7,

1797 
KMP_ARCH_X86
)

1799 
	`ATOMIC_CRITICAL_REV_FP
(
æßt10
, , 
sub_»v
, -, 
å
, 
_Quad
, 10
r
,

1801 
	`ATOMIC_CRITICAL_REV_FP
(
æßt10
, , 
div_»v
, /, 
å
, 
_Quad
, 10
r
,

1807 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1810 #ià
USE_CMPXCHG_FIX


1812 
	#ATOMIC_CMPXCHG_CMPLX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1813 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1814 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1815 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1816 
	`OP_CMPXCHG_WORKAROUND
(
TYPE
, 
BITS
, 
OP
) \

1817 
	}

	)
}

1820 
	#ATOMIC_CMPXCHG_CMPLX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1821 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1822 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1823 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1824 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1825 }

	)

1830 
	#ATOMIC_CMPXCHG_CMPLX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

1831 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

1832 
	`ATOMIC_BEGIN_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
RTYPE_ID
, 
RTYPE
) \

1833 
	`OP_GOMP_CRITICAL
(
OP
## =, 
GOMP_FLAG
) \

1834 ià(!((
kmp_ušŒ_t
)
lhs
 & 0x##
MASK
)) { \

1835 
	`OP_CMPXCHG
(
TYPE
, 
BITS
, 
OP
) \

1837 
KMP_CHECK_GTID
; \

1838 
	`OP_CRITICAL
(
OP
## =, 
LCK_ID
) \

1840 }

	)

1843 
ATOMIC_CMPXCHG_CMPLX
(
cm¶x4
, 
kmp_cm¶x32
, 
add
, 64, +, 
cm¶x8
, 
kmp_cm¶x64
, 8c,

1844 7, 
KMP_ARCH_X86
)

1845 
ATOMIC_CMPXCHG_CMPLX
(
cm¶x4
, 
kmp_cm¶x32
, 
sub
, 64, -, 
cm¶x8
, 
kmp_cm¶x64
, 8c,

1846 7, 
KMP_ARCH_X86
)

1847 
	$ATOMIC_CMPXCHG_CMPLX
(
cm¶x4
, 
kmp_cm¶x32
, 
mul
, 64, *, 
cm¶x8
, 
kmp_cm¶x64
, 8c,

1848 7, 
KMP_ARCH_X86
)

1849 
	`ATOMIC_CMPXCHG_CMPLX
(
cm¶x4
, 
kmp_cm¶x32
, 
div
, 64, /, 
cm¶x8
, 
kmp_cm¶x64
, 8c,

1850 7, 
KMP_ARCH_X86
)

1853 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1864 
	#ATOMIC_BEGIN_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RET_TYPE
) \

1865 
RET_TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
_
##
	`OP_ID
(
id’t_t
 *
id_»f
, 
gtid
, \

1866 
TYPE
 *
loc
) { \

1867 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

1868 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID ": T#%d\n", 
gtid
));

	)

1879 
	#OP_CMPXCHG_READ
(
TYPE
, 
BITS
, 
OP
) \

1881 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

1882 
	uf_i_uniÚ
 { \

1883 
TYPE
 
f_v®
; \

1884 
kmp_št
##
BITS
 
i_v®
; \

1886 
f_i_uniÚ
 
Şd_v®ue
; \

1887 
‹mp_v®
 = *
loc
; \

1888 
Şd_v®ue
.
f_v®
 = 
‹mp_v®
; \

1889 
Şd_v®ue
.
i_v®
 = 
KMP_COMPARE_AND_STORE_RET
##
	`BITS
( \

1890 (
kmp_št
##
BITS
 *)
loc
, \

1891 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Şd_v®ue
.
i_v®
, \

1892 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Şd_v®ue
.
i_v®
); \

1893 
Ãw_v®ue
 = 
Şd_v®ue
.
f_v®
; \

1894  
Ãw_v®ue
; \

1895 }

	)

1903 
	#OP_CRITICAL_READ
(
OP
, 
LCK_ID
) \

1904 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

1906 
Ãw_v®ue
 = (*
loc
); \

1908 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

1911 #ifdeà
KMP_GOMP_COMPAT


1912 
	#OP_GOMP_CRITICAL_READ
(
OP
, 
FLAG
) \

1913 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

1914 
KMP_CHECK_GTID
; \

1915 
	`OP_CRITICAL_READ
(
OP
, 0); \

1916  
Ãw_v®ue
; \

1917 }

	)

1919 
	#OP_GOMP_CRITICAL_READ
(
OP
, 
FLAG
)

	)

1923 
	#ATOMIC_FIXED_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

1924 
	`ATOMIC_BEGIN_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

1925 
TYPE
 
Ãw_v®ue
; \

1926 
	`OP_GOMP_CRITICAL_READ
(
OP
## =, 
GOMP_FLAG
) \

1927 
Ãw_v®ue
 = 
KMP_TEST_THEN_ADD
##
	`BITS
(
loc
, 
OP
 0); \

1928  
Ãw_v®ue
; \

1929 
	}

	)
}

1931 
	#ATOMIC_CMPXCHG_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

1932 
	`ATOMIC_BEGIN_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

1933 
TYPE
 
Ãw_v®ue
; \

1934 
	`OP_GOMP_CRITICAL_READ
(
OP
## =, 
GOMP_FLAG
) \

1935 
	`OP_CMPXCHG_READ
(
TYPE
, 
BITS
, 
OP
) \

1936 }

	)

1943 
	#ATOMIC_CRITICAL_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1944 
	`ATOMIC_BEGIN_READ
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

1945 
TYPE
 
Ãw_v®ue
; \

1946 
	`OP_GOMP_CRITICAL_READ
(
OP
## =, 
GOMP_FLAG
) \

1947 
	`OP_CRITICAL_READ
(
OP
, 
LCK_ID
) \

1948  
Ãw_v®ue
; \

1949 }

	)

1955 #ià(
KMP_OS_WINDOWS
)

1957 
	#OP_CRITICAL_READ_WRK
(
OP
, 
LCK_ID
) \

1958 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

1960 (*
out
èğ(*
loc
); \

1962 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

1964 #ifdeà
KMP_GOMP_COMPAT


1965 
	#OP_GOMP_CRITICAL_READ_WRK
(
OP
, 
FLAG
) \

1966 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

1967 
KMP_CHECK_GTID
; \

1968 
	`OP_CRITICAL_READ_WRK
(
OP
, 0); \

1969 }

	)

1971 
	#OP_GOMP_CRITICAL_READ_WRK
(
OP
, 
FLAG
)

	)

1974 
	#ATOMIC_BEGIN_READ_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
) \

1975 
__kmpc_©omic_
##
TYPE_ID
##
_
##
	`OP_ID
(
TYPE
 *
out
, 
id’t_t
 *
id_»f
, 
gtid
, \

1976 
TYPE
 *
loc
) { \

1977 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

1978 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID ": T#%d\n", 
gtid
));

	)

1981 
	#ATOMIC_CRITICAL_READ_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

1982 
	`ATOMIC_BEGIN_READ_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
) \

1983 
	`OP_GOMP_CRITICAL_READ_WRK
(
OP
## =, 
GOMP_FLAG
) \

1984 
	`OP_CRITICAL_READ_WRK
(
OP
, 
LCK_ID
) \

1985 }

	)

1991 
ATOMIC_FIXED_READ
(
fixed4
, 
rd
, 
kmp_št32
, 32, +, 0)

1992 
ATOMIC_FIXED_READ
(
fixed8
, 
rd
, 
kmp_št64
, 64, +,

1993 
KMP_ARCH_X86
)

1994 
ATOMIC_CMPXCHG_READ
(
æßt4
, 
rd
, 
kmp_»®32
, 32, +,

1995 
KMP_ARCH_X86
)

1996 
ATOMIC_CMPXCHG_READ
(
æßt8
, 
rd
, 
kmp_»®64
, 64, +,

1997 
KMP_ARCH_X86
)

2000 
ATOMIC_CMPXCHG_READ
(
fixed1
, 
rd
, 
kmp_št8
, 8, +,

2001 
KMP_ARCH_X86
)

2002 
ATOMIC_CMPXCHG_READ
(
fixed2
, 
rd
, 
kmp_št16
, 16, +,

2003 
KMP_ARCH_X86
)

2005 
ATOMIC_CRITICAL_READ
(
æßt10
, 
rd
, , +, 10
r
,

2007 #ià
KMP_HAVE_QUAD


2008 
ATOMIC_CRITICAL_READ
(
æßt16
, 
rd
, 
QUAD_LEGACY
, +, 16
r
,

2013 #ià(
KMP_OS_WINDOWS
)

2014 
ATOMIC_CRITICAL_READ_WRK
(
cm¶x4
, 
rd
, 
kmp_cm¶x32
, +, 8c,

2017 
ATOMIC_CRITICAL_READ
(
cm¶x4
, 
rd
, 
kmp_cm¶x32
, +, 8c,

2020 
ATOMIC_CRITICAL_READ
(
cm¶x8
, 
rd
, 
kmp_cm¶x64
, +, 16c,

2022 
ATOMIC_CRITICAL_READ
(
cm¶x10
, 
rd
, 
kmp_cm¶x80
, +, 20c,

2024 #ià
KMP_HAVE_QUAD


2025 
ATOMIC_CRITICAL_READ
(
cm¶x16
, 
rd
, 
CPLX128_LEG
, +, 32c,

2027 #ià(
KMP_ARCH_X86
)

2028 
ATOMIC_CRITICAL_READ
(
æßt16
, 
a16_rd
, 
Quad_a16_t
, +, 16
r
,

2030 
ATOMIC_CRITICAL_READ
(
cm¶x16
, 
a16_rd
, 
kmp_cm¶x128_a16_t
, +, 32c,

2038 
	#ATOMIC_XCHG_WR
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2039 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

2040 
	`OP_GOMP_CRITICAL
(
OP
, 
GOMP_FLAG
) \

2041 
KMP_XCHG_FIXED
##
	`BITS
(
lhs
, 
rhs
); \

2042 }

	)

2044 
	#ATOMIC_XCHG_FLOAT_WR
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2045 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

2046 
	`OP_GOMP_CRITICAL
(
OP
, 
GOMP_FLAG
) \

2047 
KMP_XCHG_REAL
##
	`BITS
(
lhs
, 
rhs
); \

2048 }

	)

2057 
	#OP_CMPXCHG_WR
(
TYPE
, 
BITS
, 
OP
) \

2059 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

2060 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

2061 
‹mp_v®
 = *
lhs
; \

2062 
Şd_v®ue
 = 
‹mp_v®
; \

2063 
Ãw_v®ue
 = 
rhs
; \

2064 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

2065 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

2066 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

2067 
	`KMP_CPU_PAUSE
(); \

2069 
‹mp_v®
 = *
lhs
; \

2070 
Şd_v®ue
 = 
‹mp_v®
; \

2071 
Ãw_v®ue
 = 
rhs
; \

2073 }

	)

2076 
	#ATOMIC_CMPXCHG_WR
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2077 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

2078 
	`OP_GOMP_CRITICAL
(
OP
, 
GOMP_FLAG
) \

2079 
	`OP_CMPXCHG_WR
(
TYPE
, 
BITS
, 
OP
) \

2080 }

	)

2088 
	#ATOMIC_CRITICAL_WR
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

2089 
	`ATOMIC_BEGIN
(
TYPE_ID
, 
OP_ID
, 
TYPE
, ) \

2090 
	`OP_GOMP_CRITICAL
(
OP
, 
GOMP_FLAG
) \

2091 
	`OP_CRITICAL
(
OP
, 
LCK_ID
) \

2092 }

	)

2095 
	$ATOMIC_XCHG_WR
(
fixed1
, 
wr
, 
kmp_št8
, 8, =,

2096 
KMP_ARCH_X86
)

2097 
	$ATOMIC_XCHG_WR
(
fixed2
, 
wr
, 
kmp_št16
, 16, =,

2098 
KMP_ARCH_X86
)

2099 
	$ATOMIC_XCHG_WR
(
fixed4
, 
wr
, 
kmp_št32
, 32, =,

2100 
KMP_ARCH_X86
)

2101 #ià(
KMP_ARCH_X86
)

2102 
	$ATOMIC_CMPXCHG_WR
(
fixed8
, 
wr
, 
kmp_št64
, 64, =,

2103 
KMP_ARCH_X86
)

2105 
	$ATOMIC_XCHG_WR
(
fixed8
, 
wr
, 
kmp_št64
, 64, =,

2106 
KMP_ARCH_X86
)

2109 
	$ATOMIC_XCHG_FLOAT_WR
(
æßt4
, 
wr
, 
kmp_»®32
, 32, =,

2110 
KMP_ARCH_X86
)

2111 #ià(
KMP_ARCH_X86
)

2112 
	$ATOMIC_CMPXCHG_WR
(
æßt8
, 
wr
, 
kmp_»®64
, 64, =,

2113 
KMP_ARCH_X86
)

2115 
	$ATOMIC_XCHG_FLOAT_WR
(
æßt8
, 
wr
, 
kmp_»®64
, 64, =,

2116 
KMP_ARCH_X86
)

2119 
	$ATOMIC_CRITICAL_WR
(
æßt10
, 
wr
, , =, 10
r
,

2121 #ià
KMP_HAVE_QUAD


2122 
	$ATOMIC_CRITICAL_WR
(
æßt16
, 
wr
, 
QUAD_LEGACY
, =, 16
r
,

2125 
	$ATOMIC_CRITICAL_WR
(
cm¶x4
, 
wr
, 
kmp_cm¶x32
, =, 8c, 1)

2126 
	$ATOMIC_CRITICAL_WR
(
cm¶x8
, 
wr
, 
kmp_cm¶x64
, =, 16c,

2128 
	$ATOMIC_CRITICAL_WR
(
cm¶x10
, 
wr
, 
kmp_cm¶x80
, =, 20c,

2130 #ià
KMP_HAVE_QUAD


2131 
	$ATOMIC_CRITICAL_WR
(
cm¶x16
, 
wr
, 
CPLX128_LEG
, =, 32c,

2133 #ià(
KMP_ARCH_X86
)

2134 
	$ATOMIC_CRITICAL_WR
(
æßt16
, 
a16_wr
, 
Quad_a16_t
, =, 16
r
,

2136 
	$ATOMIC_CRITICAL_WR
(
cm¶x16
, 
a16_wr
, 
kmp_cm¶x128_a16_t
, =, 32c,

2149 
	#ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RET_TYPE
) \

2150 
RET_TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
_
##
	`OP_ID
(
id’t_t
 *
id_»f
, 
gtid
, \

2151 
TYPE
 *
lhs
, TYPE 
rhs
, 
æag
) { \

2152 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

2153 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID ": T#%d\n", 
gtid
));

	)

2161 
	#OP_CRITICAL_CPT
(
OP
, 
LCK_ID
) \

2162 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2164 ià(
æag
) { \

2165 (*
lhs
è
OP
 
rhs
; \

2166 
Ãw_v®ue
 = (*
lhs
); \

2168 
Ãw_v®ue
 = (*
lhs
); \

2169 (*
lhs
è
OP
 
rhs
; \

2172 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2173  
Ãw_v®ue
;

	)

2176 #ifdeà
KMP_GOMP_COMPAT


2177 
	#OP_GOMP_CRITICAL_CPT
(
OP
, 
FLAG
) \

2178 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2179 
KMP_CHECK_GTID
; \

2180 
	`OP_CRITICAL_CPT
(
OP
## =, 0); \

2181 }

	)

2183 
	#OP_GOMP_CRITICAL_CPT
(
OP
, 
FLAG
)

	)

2193 
	#OP_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2195 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

2196 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

2197 
‹mp_v®
 = *
lhs
; \

2198 
Şd_v®ue
 = 
‹mp_v®
; \

2199 
Ãw_v®ue
 = 
Şd_v®ue
 
OP
 
rhs
; \

2200 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

2201 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

2202 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

2203 
	`KMP_CPU_PAUSE
(); \

2205 
‹mp_v®
 = *
lhs
; \

2206 
Şd_v®ue
 = 
‹mp_v®
; \

2207 
Ãw_v®ue
 = 
Şd_v®ue
 
OP
 
rhs
; \

2209 ià(
æag
) { \

2210  
Ãw_v®ue
; \

2212  
Şd_v®ue
; \

2213 }

	)

2216 
	#ATOMIC_CMPXCHG_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2217 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2218 
TYPE
 
Ãw_v®ue
; \

2219 
	`OP_GOMP_CRITICAL_CPT
(
OP
, 
GOMP_FLAG
) \

2220 
	`OP_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2221 
	}

	)
}

2224 
	#ATOMIC_FIXED_ADD_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2225 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2226 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

2227 
	`OP_GOMP_CRITICAL_CPT
(
OP
, 
GOMP_FLAG
) \

2229 
Şd_v®ue
 = 
KMP_TEST_THEN_ADD
##
	`BITS
(
lhs
, 
OP
 
rhs
); \

2230 ià(
æag
) { \

2231  
Şd_v®ue
 
OP
 
rhs
; \

2233  
Şd_v®ue
; \

2234 }

	)

2237 
ATOMIC_FIXED_ADD_CPT
(
fixed4
, 
add_ıt
, 
kmp_št32
, 32, +,

2239 
ATOMIC_FIXED_ADD_CPT
(
fixed4
, 
sub_ıt
, 
kmp_št32
, 32, -,

2241 
ATOMIC_FIXED_ADD_CPT
(
fixed8
, 
add_ıt
, 
kmp_št64
, 64, +,

2242 
KMP_ARCH_X86
)

2243 
ATOMIC_FIXED_ADD_CPT
(
fixed8
, 
sub_ıt
, 
kmp_št64
, 64, -,

2244 
KMP_ARCH_X86
)

2246 
ATOMIC_CMPXCHG_CPT
(
æßt4
, 
add_ıt
, 
kmp_»®32
, 32, +,

2247 
KMP_ARCH_X86
)

2248 
ATOMIC_CMPXCHG_CPT
(
æßt4
, 
sub_ıt
, 
kmp_»®32
, 32, -,

2249 
KMP_ARCH_X86
)

2250 
ATOMIC_CMPXCHG_CPT
(
æßt8
, 
add_ıt
, 
kmp_»®64
, 64, +,

2251 
KMP_ARCH_X86
)

2252 
ATOMIC_CMPXCHG_CPT
(
æßt8
, 
sub_ıt
, 
kmp_»®64
, 64, -,

2253 
KMP_ARCH_X86
)

2267 
ATOMIC_CMPXCHG_CPT
(
fixed1
, 
add_ıt
, 
kmp_št8
, 8, +,

2268 
KMP_ARCH_X86
)

2269 
	$ATOMIC_CMPXCHG_CPT
(
fixed1
, 
ªdb_ıt
, 
kmp_št8
, 8, &,

2271 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
div_ıt
, 
kmp_št8
, 8, /,

2272 
KMP_ARCH_X86
)

2273 
	`ATOMIC_CMPXCHG_CPT
(
fixed1u
, 
div_ıt
, 
kmp_ušt8
, 8, /,

2274 
KMP_ARCH_X86
)

2275 
	$ATOMIC_CMPXCHG_CPT
(
fixed1
, 
mul_ıt
, 
kmp_št8
, 8, *,

2276 
KMP_ARCH_X86
)

2277 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
Üb_ıt
, 
kmp_št8
, 8, |,

2279 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
shl_ıt
, 
kmp_št8
, 8, <<,

2280 
KMP_ARCH_X86
)

2281 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
shr_ıt
, 
kmp_št8
, 8, >>,

2282 
KMP_ARCH_X86
)

2283 
	`ATOMIC_CMPXCHG_CPT
(
fixed1u
, 
shr_ıt
, 
kmp_ušt8
, 8, >>,

2284 
KMP_ARCH_X86
)

2285 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
sub_ıt
, 
kmp_št8
, 8, -,

2286 
KMP_ARCH_X86
)

2287 
	`ATOMIC_CMPXCHG_CPT
(
fixed1
, 
xÜ_ıt
, 
kmp_št8
, 8, ^,

2289 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
add_ıt
, 
kmp_št16
, 16, +,

2290 
KMP_ARCH_X86
)

2291 
	$ATOMIC_CMPXCHG_CPT
(
fixed2
, 
ªdb_ıt
, 
kmp_št16
, 16, &,

2293 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
div_ıt
, 
kmp_št16
, 16, /,

2294 
KMP_ARCH_X86
)

2295 
	`ATOMIC_CMPXCHG_CPT
(
fixed2u
, 
div_ıt
, 
kmp_ušt16
, 16, /,

2296 
KMP_ARCH_X86
)

2297 
	$ATOMIC_CMPXCHG_CPT
(
fixed2
, 
mul_ıt
, 
kmp_št16
, 16, *,

2298 
KMP_ARCH_X86
)

2299 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
Üb_ıt
, 
kmp_št16
, 16, |,

2301 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
shl_ıt
, 
kmp_št16
, 16, <<,

2302 
KMP_ARCH_X86
)

2303 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
shr_ıt
, 
kmp_št16
, 16, >>,

2304 
KMP_ARCH_X86
)

2305 
	`ATOMIC_CMPXCHG_CPT
(
fixed2u
, 
shr_ıt
, 
kmp_ušt16
, 16, >>,

2306 
KMP_ARCH_X86
)

2307 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
sub_ıt
, 
kmp_št16
, 16, -,

2308 
KMP_ARCH_X86
)

2309 
	`ATOMIC_CMPXCHG_CPT
(
fixed2
, 
xÜ_ıt
, 
kmp_št16
, 16, ^,

2311 
	$ATOMIC_CMPXCHG_CPT
(
fixed4
, 
ªdb_ıt
, 
kmp_št32
, 32, &,

2313 
	`ATOMIC_CMPXCHG_CPT
(
fixed4
, 
div_ıt
, 
kmp_št32
, 32, /,

2314 
KMP_ARCH_X86
)

2315 
	`ATOMIC_CMPXCHG_CPT
(
fixed4u
, 
div_ıt
, 
kmp_ušt32
, 32, /,

2316 
KMP_ARCH_X86
)

2317 
	$ATOMIC_CMPXCHG_CPT
(
fixed4
, 
mul_ıt
, 
kmp_št32
, 32, *,

2318 
KMP_ARCH_X86
)

2319 
	`ATOMIC_CMPXCHG_CPT
(
fixed4
, 
Üb_ıt
, 
kmp_št32
, 32, |,

2321 
	`ATOMIC_CMPXCHG_CPT
(
fixed4
, 
shl_ıt
, 
kmp_št32
, 32, <<,

2322 
KMP_ARCH_X86
)

2323 
	`ATOMIC_CMPXCHG_CPT
(
fixed4
, 
shr_ıt
, 
kmp_št32
, 32, >>,

2324 
KMP_ARCH_X86
)

2325 
	`ATOMIC_CMPXCHG_CPT
(
fixed4u
, 
shr_ıt
, 
kmp_ušt32
, 32, >>,

2326 
KMP_ARCH_X86
)

2327 
	`ATOMIC_CMPXCHG_CPT
(
fixed4
, 
xÜ_ıt
, 
kmp_št32
, 32, ^,

2329 
	$ATOMIC_CMPXCHG_CPT
(
fixed8
, 
ªdb_ıt
, 
kmp_št64
, 64, &,

2330 
KMP_ARCH_X86
)

2331 
	`ATOMIC_CMPXCHG_CPT
(
fixed8
, 
div_ıt
, 
kmp_št64
, 64, /,

2332 
KMP_ARCH_X86
)

2333 
	`ATOMIC_CMPXCHG_CPT
(
fixed8u
, 
div_ıt
, 
kmp_ušt64
, 64, /,

2334 
KMP_ARCH_X86
)

2335 
	$ATOMIC_CMPXCHG_CPT
(
fixed8
, 
mul_ıt
, 
kmp_št64
, 64, *,

2336 
KMP_ARCH_X86
)

2337 
	`ATOMIC_CMPXCHG_CPT
(
fixed8
, 
Üb_ıt
, 
kmp_št64
, 64, |,

2338 
KMP_ARCH_X86
)

2339 
	`ATOMIC_CMPXCHG_CPT
(
fixed8
, 
shl_ıt
, 
kmp_št64
, 64, <<,

2340 
KMP_ARCH_X86
)

2341 
	`ATOMIC_CMPXCHG_CPT
(
fixed8
, 
shr_ıt
, 
kmp_št64
, 64, >>,

2342 
KMP_ARCH_X86
)

2343 
	`ATOMIC_CMPXCHG_CPT
(
fixed8u
, 
shr_ıt
, 
kmp_ušt64
, 64, >>,

2344 
KMP_ARCH_X86
)

2345 
	`ATOMIC_CMPXCHG_CPT
(
fixed8
, 
xÜ_ıt
, 
kmp_št64
, 64, ^,

2346 
KMP_ARCH_X86
)

2347 
	`ATOMIC_CMPXCHG_CPT
(
æßt4
, 
div_ıt
, 
kmp_»®32
, 32, /,

2348 
KMP_ARCH_X86
)

2349 
	$ATOMIC_CMPXCHG_CPT
(
æßt4
, 
mul_ıt
, 
kmp_»®32
, 32, *,

2350 
KMP_ARCH_X86
)

2351 
	`ATOMIC_CMPXCHG_CPT
(
æßt8
, 
div_ıt
, 
kmp_»®64
, 64, /,

2352 
KMP_ARCH_X86
)

2353 
	$ATOMIC_CMPXCHG_CPT
(
æßt8
, 
mul_ıt
, 
kmp_»®64
, 64, *,

2354 
KMP_ARCH_X86
)

2358 #ià
KMP_HAVE_QUAD


2365 
	#ATOMIC_BEGIN_CPT_MIX
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RTYPE_ID
, 
RTYPE
) \

2366 
TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
_
##
OP_ID
##_##
	`RTYPE_ID
( \

2367 
id’t_t
 *
id_»f
, 
gtid
, 
TYPE
 *
lhs
, 
RTYPE
 
rhs
, 
æag
) { \

2368 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

2369 
	`KA_TRACE
(100, \

2371 
gtid
));

	)

2374 
	#ATOMIC_CMPXCHG_CPT_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, \

2375 
RTYPE
, 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

2376 
	`ATOMIC_BEGIN_CPT_MIX
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RTYPE_ID
, 
RTYPE
) \

2377 
TYPE
 
Ãw_v®ue
; \

2378 
	`OP_GOMP_CRITICAL_CPT
(
OP
, 
GOMP_FLAG
) \

2379 
	`OP_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2380 
	}

	)
}

2383 
	#ATOMIC_CRITICAL_CPT_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

2384 
LCK_ID
, 
GOMP_FLAG
) \

2385 
	`ATOMIC_BEGIN_CPT_MIX
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RTYPE_ID
, 
RTYPE
) \

2386 
TYPE
 
Ãw_v®ue
; \

2387 
	`OP_GOMP_CRITICAL_CPT
(
OP
, 
GOMP_FLAG
) \

2388 
	`OP_CRITICAL_CPT
(
OP
## =, 
LCK_ID
) \

2389 }

	)

2391 
ATOMIC_CMPXCHG_CPT_MIX
(
fixed1
, , 
add_ıt
, 8, +, 
å
, 
_Quad
, 1
i
, 0,

2392 
KMP_ARCH_X86
)

2393 
ATOMIC_CMPXCHG_CPT_MIX
(
fixed1u
, 
uch¬
, 
add_ıt
, 8, +, 
å
, 
_Quad
, 1
i
, 0,

2394 
KMP_ARCH_X86
)

2395 
ATOMIC_CMPXCHG_CPT_MIX
(
fixed1
, , 
sub_ıt
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

2396 
KMP_ARCH_X86
)

2397 
ATOMIC_CMPXCHG_CPT_MIX
(
fixed1u
, 
uch¬
, 
sub_ıt
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

2398 
KMP_ARCH_X86
)

2399 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed1
, , 
mul_ıt
, 8, *, 
å
, 
_Quad
, 1
i
, 0,

2400 
KMP_ARCH_X86
)

2401 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed1u
, 
uch¬
, 
mul_ıt
, 8, *, 
å
, 
_Quad
, 1
i
, 0,

2402 
KMP_ARCH_X86
)

2403 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed1
, , 
div_ıt
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

2404 
KMP_ARCH_X86
)

2405 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed1u
, 
uch¬
, 
div_ıt
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

2406 
KMP_ARCH_X86
)

2408 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2
, , 
add_ıt
, 16, +, 
å
, 
_Quad
, 2
i
, 1,

2409 
KMP_ARCH_X86
)

2410 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2u
, 
ushÜt
, 
add_ıt
, 16, +, 
å
, 
_Quad
, 2
i
, 1,

2411 
KMP_ARCH_X86
)

2412 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2
, , 
sub_ıt
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

2413 
KMP_ARCH_X86
)

2414 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2u
, 
ushÜt
, 
sub_ıt
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

2415 
KMP_ARCH_X86
)

2416 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed2
, , 
mul_ıt
, 16, *, 
å
, 
_Quad
, 2
i
, 1,

2417 
KMP_ARCH_X86
)

2418 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed2u
, 
ushÜt
, 
mul_ıt
, 16, *, 
å
, 
_Quad
, 2
i
, 1,

2419 
KMP_ARCH_X86
)

2420 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2
, , 
div_ıt
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

2421 
KMP_ARCH_X86
)

2422 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed2u
, 
ushÜt
, 
div_ıt
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

2423 
KMP_ARCH_X86
)

2425 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4
, 
kmp_št32
, 
add_ıt
, 32, +, 
å
, 
_Quad
, 4
i
, 3,

2427 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4u
, 
kmp_ušt32
, 
add_ıt
, 32, +, 
å
, 
_Quad
, 4
i
, 3,

2429 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4
, 
kmp_št32
, 
sub_ıt
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

2431 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4u
, 
kmp_ušt32
, 
sub_ıt
, 32, -, 
å
, 
_Quad
, 4
i
, 3,

2433 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed4
, 
kmp_št32
, 
mul_ıt
, 32, *, 
å
, 
_Quad
, 4
i
, 3,

2435 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed4u
, 
kmp_ušt32
, 
mul_ıt
, 32, *, 
å
, 
_Quad
, 4
i
, 3,

2437 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4
, 
kmp_št32
, 
div_ıt
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

2439 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed4u
, 
kmp_ušt32
, 
div_ıt
, 32, /, 
å
, 
_Quad
, 4
i
, 3,

2442 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8
, 
kmp_št64
, 
add_ıt
, 64, +, 
å
, 
_Quad
, 8
i
, 7,

2443 
KMP_ARCH_X86
)

2444 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8u
, 
kmp_ušt64
, 
add_ıt
, 64, +, 
å
, 
_Quad
, 8
i
, 7,

2445 
KMP_ARCH_X86
)

2446 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8
, 
kmp_št64
, 
sub_ıt
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

2447 
KMP_ARCH_X86
)

2448 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8u
, 
kmp_ušt64
, 
sub_ıt
, 64, -, 
å
, 
_Quad
, 8
i
, 7,

2449 
KMP_ARCH_X86
)

2450 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed8
, 
kmp_št64
, 
mul_ıt
, 64, *, 
å
, 
_Quad
, 8
i
, 7,

2451 
KMP_ARCH_X86
)

2452 
	$ATOMIC_CMPXCHG_CPT_MIX
(
fixed8u
, 
kmp_ušt64
, 
mul_ıt
, 64, *, 
å
, 
_Quad
, 8
i
, 7,

2453 
KMP_ARCH_X86
)

2454 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8
, 
kmp_št64
, 
div_ıt
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

2455 
KMP_ARCH_X86
)

2456 
	`ATOMIC_CMPXCHG_CPT_MIX
(
fixed8u
, 
kmp_ušt64
, 
div_ıt
, 64, /, 
å
, 
_Quad
, 8
i
, 7,

2457 
KMP_ARCH_X86
)

2459 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt4
, 
kmp_»®32
, 
add_ıt
, 32, +, 
å
, 
_Quad
, 4
r
, 3,

2460 
KMP_ARCH_X86
)

2461 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt4
, 
kmp_»®32
, 
sub_ıt
, 32, -, 
å
, 
_Quad
, 4
r
, 3,

2462 
KMP_ARCH_X86
)

2463 
	$ATOMIC_CMPXCHG_CPT_MIX
(
æßt4
, 
kmp_»®32
, 
mul_ıt
, 32, *, 
å
, 
_Quad
, 4
r
, 3,

2464 
KMP_ARCH_X86
)

2465 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt4
, 
kmp_»®32
, 
div_ıt
, 32, /, 
å
, 
_Quad
, 4
r
, 3,

2466 
KMP_ARCH_X86
)

2468 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt8
, 
kmp_»®64
, 
add_ıt
, 64, +, 
å
, 
_Quad
, 8
r
, 7,

2469 
KMP_ARCH_X86
)

2470 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt8
, 
kmp_»®64
, 
sub_ıt
, 64, -, 
å
, 
_Quad
, 8
r
, 7,

2471 
KMP_ARCH_X86
)

2472 
	$ATOMIC_CMPXCHG_CPT_MIX
(
æßt8
, 
kmp_»®64
, 
mul_ıt
, 64, *, 
å
, 
_Quad
, 8
r
, 7,

2473 
KMP_ARCH_X86
)

2474 
	`ATOMIC_CMPXCHG_CPT_MIX
(
æßt8
, 
kmp_»®64
, 
div_ıt
, 64, /, 
å
, 
_Quad
, 8
r
, 7,

2475 
KMP_ARCH_X86
)

2477 
	`ATOMIC_CRITICAL_CPT_MIX
(
æßt10
, , 
add_ıt
, +, 
å
, 
_Quad
, 10
r
,

2479 
	`ATOMIC_CRITICAL_CPT_MIX
(
æßt10
, , 
sub_ıt
, -, 
å
, 
_Quad
, 10
r
,

2481 
	$ATOMIC_CRITICAL_CPT_MIX
(
æßt10
, , 
mul_ıt
, *, 
å
, 
_Quad
, 10
r
,

2483 
	`ATOMIC_CRITICAL_CPT_MIX
(
æßt10
, , 
div_ıt
, /, 
å
, 
_Quad
, 10
r
,

2497 
	#OP_CRITICAL_L_CPT
(
OP
, 
LCK_ID
) \

2498 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2500 ià(
æag
) { \

2501 
Ãw_v®ue
 
OP
 
rhs
; \

2502 
	}
} \

2503 
Ãw_v®ue
 = (*
lhs
); \

2505 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
);

	)

2508 #ifdeà
KMP_GOMP_COMPAT


2509 
	#OP_GOMP_CRITICAL_L_CPT
(
OP
, 
FLAG
) \

2510 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2511 
KMP_CHECK_GTID
; \

2512 
	`OP_CRITICAL_L_CPT
(
OP
, 0); \

2513  
Ãw_v®ue
; \

2514 }

	)

2516 
	#OP_GOMP_CRITICAL_L_CPT
(
OP
, 
FLAG
)

	)

2521 
	#ATOMIC_CMPX_L_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2522 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2523 
TYPE
 
Ãw_v®ue
; \

2524 
	`OP_GOMP_CRITICAL_L_CPT
(ğ*
lhs
 
OP
, 
GOMP_FLAG
) \

2525 
	`OP_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2526 }

	)

2528 
	$ATOMIC_CMPX_L_CPT
(
fixed1
, 
ªdl_ıt
, , 8, &&,

2529 
KMP_ARCH_X86
)

2530 
	`ATOMIC_CMPX_L_CPT
(
fixed1
, 
Ül_ıt
, , 8, ||,

2531 
KMP_ARCH_X86
)

2532 
	$ATOMIC_CMPX_L_CPT
(
fixed2
, 
ªdl_ıt
, , 16, &&,

2533 
KMP_ARCH_X86
)

2534 
	`ATOMIC_CMPX_L_CPT
(
fixed2
, 
Ül_ıt
, , 16, ||,

2535 
KMP_ARCH_X86
)

2536 
	$ATOMIC_CMPX_L_CPT
(
fixed4
, 
ªdl_ıt
, 
kmp_št32
, 32, &&,

2538 
	`ATOMIC_CMPX_L_CPT
(
fixed4
, 
Ül_ıt
, 
kmp_št32
, 32, ||,

2540 
	$ATOMIC_CMPX_L_CPT
(
fixed8
, 
ªdl_ıt
, 
kmp_št64
, 64, &&,

2541 
KMP_ARCH_X86
)

2542 
	`ATOMIC_CMPX_L_CPT
(
fixed8
, 
Ül_ıt
, 
kmp_št64
, 64, ||,

2543 
KMP_ARCH_X86
)

2554 
	#MIN_MAX_CRITSECT_CPT
(
OP
, 
LCK_ID
) \

2555 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2557 ià(*
lhs
 
OP
 
rhs
) { \

2558 
Şd_v®ue
 = *
lhs
; \

2559 *
lhs
 = 
rhs
; \

2560 ià(
æag
) \

2561 
Ãw_v®ue
 = 
rhs
; \

2563 
Ãw_v®ue
 = 
Şd_v®ue
; \

2564 
	}
} { \

2565 
Ãw_v®ue
 = *
lhs
; \

2567 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2568  
Ãw_v®ue
;

	)

2571 #ifdeà
KMP_GOMP_COMPAT


2572 
	#GOMP_MIN_MAX_CRITSECT_CPT
(
OP
, 
FLAG
) \

2573 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2574 
KMP_CHECK_GTID
; \

2575 
	`MIN_MAX_CRITSECT_CPT
(
OP
, 0); \

2576 }

	)

2578 
	#GOMP_MIN_MAX_CRITSECT_CPT
(
OP
, 
FLAG
)

	)

2582 
	#MIN_MAX_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2584 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

2586 
‹mp_v®
 = *
lhs
; \

2587 
Şd_v®ue
 = 
‹mp_v®
; \

2588 
Şd_v®ue
 
OP
 
rhs
 && \

2589 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

2590 (
kmp_št
##
BITS
 *)
lhs
, \

2591 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Şd_v®ue
, \

2592 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
rhs
)) { \

2593 
	`KMP_CPU_PAUSE
(); \

2594 
‹mp_v®
 = *
lhs
; \

2595 
Şd_v®ue
 = 
‹mp_v®
; \

2597 ià(
æag
) \

2598  
rhs
; \

2600  
Şd_v®ue
; \

2601 }

	)

2605 
	#MIN_MAX_CRITICAL_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

2606 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2607 
TYPE
 
Ãw_v®ue
, 
Şd_v®ue
; \

2608 ià(*
lhs
 
OP
 
rhs
) { \

2609 
	`GOMP_MIN_MAX_CRITSECT_CPT
(
OP
, 
GOMP_FLAG
) \

2610 
	`MIN_MAX_CRITSECT_CPT
(
OP
, 
LCK_ID
) \

2612  *
lhs
; \

2613 }

	)

2615 
	#MIN_MAX_COMPXCHG_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2616 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2617 
TYPE
 
Ãw_v®ue
, 
Şd_v®ue
; \

2618 ià(*
lhs
 
OP
 
rhs
) { \

2619 
	`GOMP_MIN_MAX_CRITSECT_CPT
(
OP
, 
GOMP_FLAG
) \

2620 
	`MIN_MAX_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2622  *
lhs
; \

2623 }

	)

2625 
MIN_MAX_COMPXCHG_CPT
(
fixed1
, 
max_ıt
, , 8, <,

2626 
KMP_ARCH_X86
)

2627 
MIN_MAX_COMPXCHG_CPT
(
fixed1
, 
mš_ıt
, , 8, >,

2628 
KMP_ARCH_X86
)

2629 
MIN_MAX_COMPXCHG_CPT
(
fixed2
, 
max_ıt
, , 16, <,

2630 
KMP_ARCH_X86
)

2631 
MIN_MAX_COMPXCHG_CPT
(
fixed2
, 
mš_ıt
, , 16, >,

2632 
KMP_ARCH_X86
)

2633 
MIN_MAX_COMPXCHG_CPT
(
fixed4
, 
max_ıt
, 
kmp_št32
, 32, <,

2635 
MIN_MAX_COMPXCHG_CPT
(
fixed4
, 
mš_ıt
, 
kmp_št32
, 32, >,

2637 
MIN_MAX_COMPXCHG_CPT
(
fixed8
, 
max_ıt
, 
kmp_št64
, 64, <,

2638 
KMP_ARCH_X86
)

2639 
MIN_MAX_COMPXCHG_CPT
(
fixed8
, 
mš_ıt
, 
kmp_št64
, 64, >,

2640 
KMP_ARCH_X86
)

2641 
MIN_MAX_COMPXCHG_CPT
(
æßt4
, 
max_ıt
, 
kmp_»®32
, 32, <,

2642 
KMP_ARCH_X86
)

2643 
MIN_MAX_COMPXCHG_CPT
(
æßt4
, 
mš_ıt
, 
kmp_»®32
, 32, >,

2644 
KMP_ARCH_X86
)

2645 
MIN_MAX_COMPXCHG_CPT
(
æßt8
, 
max_ıt
, 
kmp_»®64
, 64, <,

2646 
KMP_ARCH_X86
)

2647 
MIN_MAX_COMPXCHG_CPT
(
æßt8
, 
mš_ıt
, 
kmp_»®64
, 64, >,

2648 
KMP_ARCH_X86
)

2649 #ià
KMP_HAVE_QUAD


2650 
MIN_MAX_CRITICAL_CPT
(
æßt16
, 
max_ıt
, 
QUAD_LEGACY
, <, 16
r
,

2652 
MIN_MAX_CRITICAL_CPT
(
æßt16
, 
mš_ıt
, 
QUAD_LEGACY
, >, 16
r
,

2654 #ià(
KMP_ARCH_X86
)

2655 
MIN_MAX_CRITICAL_CPT
(
æßt16
, 
max_a16_ıt
, 
Quad_a16_t
, <, 16
r
,

2657 
MIN_MAX_CRITICAL_CPT
(
æßt16
, 
mš_a16_ıt
, 
Quad_a16_t
, >, 16
r
,

2663 #ifdeà
KMP_GOMP_COMPAT


2664 
	#OP_GOMP_CRITICAL_EQV_CPT
(
OP
, 
FLAG
) \

2665 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2666 
KMP_CHECK_GTID
; \

2667 
	`OP_CRITICAL_CPT
(
OP
, 0); \

2668 }

	)

2670 
	#OP_GOMP_CRITICAL_EQV_CPT
(
OP
, 
FLAG
)

	)

2673 
	#ATOMIC_CMPX_EQV_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2674 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2675 
TYPE
 
Ãw_v®ue
; \

2676 
	`OP_GOMP_CRITICAL_EQV_CPT
(^ğ~, 
GOMP_FLAG
) \

2677 
	`OP_CMPXCHG_CPT
(
TYPE
, 
BITS
, 
OP
) \

2678 }

	)

2682 
ATOMIC_CMPXCHG_CPT
(
fixed1
, 
Ãqv_ıt
, 
kmp_št8
, 8, ^,

2683 
KMP_ARCH_X86
)

2684 
ATOMIC_CMPXCHG_CPT
(
fixed2
, 
Ãqv_ıt
, 
kmp_št16
, 16, ^,

2685 
KMP_ARCH_X86
)

2686 
ATOMIC_CMPXCHG_CPT
(
fixed4
, 
Ãqv_ıt
, 
kmp_št32
, 32, ^,

2687 
KMP_ARCH_X86
)

2688 
ATOMIC_CMPXCHG_CPT
(
fixed8
, 
Ãqv_ıt
, 
kmp_št64
, 64, ^,

2689 
KMP_ARCH_X86
)

2690 
ATOMIC_CMPX_EQV_CPT
(
fixed1
, 
eqv_ıt
, 
kmp_št8
, 8, ^~,

2691 
KMP_ARCH_X86
)

2692 
ATOMIC_CMPX_EQV_CPT
(
fixed2
, 
eqv_ıt
, 
kmp_št16
, 16, ^~,

2693 
KMP_ARCH_X86
)

2694 
ATOMIC_CMPX_EQV_CPT
(
fixed4
, 
eqv_ıt
, 
kmp_št32
, 32, ^~,

2695 
KMP_ARCH_X86
)

2696 
ATOMIC_CMPX_EQV_CPT
(
fixed8
, 
eqv_ıt
, 
kmp_št64
, 64, ^~,

2697 
KMP_ARCH_X86
)

2705 
	#ATOMIC_CRITICAL_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

2706 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2707 
TYPE
 
Ãw_v®ue
; \

2708 
	`OP_GOMP_CRITICAL_CPT
(
OP
, 
GOMP_FLAG
) \

2709 
	`OP_CRITICAL_CPT
(
OP
## =, 
LCK_ID
) \

2710 }

	)

2715 
	#OP_CRITICAL_CPT_WRK
(
OP
, 
LCK_ID
) \

2716 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2718 ià(
æag
) { \

2719 (*
lhs
è
OP
 
rhs
; \

2720 (*
out
èğ(*
lhs
); \

2722 (*
out
èğ(*
lhs
); \

2723 (*
lhs
è
OP
 
rhs
; \

2726 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2727 ;

	)

2730 #ifdeà
KMP_GOMP_COMPAT


2731 
	#OP_GOMP_CRITICAL_CPT_WRK
(
OP
, 
FLAG
) \

2732 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2733 
KMP_CHECK_GTID
; \

2734 
	`OP_CRITICAL_CPT_WRK
(
OP
## =, 0); \

2735 }

	)

2737 
	#OP_GOMP_CRITICAL_CPT_WRK
(
OP
, 
FLAG
)

	)

2741 
	#ATOMIC_BEGIN_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
) \

2742 
__kmpc_©omic_
##
TYPE_ID
##
_
##
	`OP_ID
(
id’t_t
 *
id_»f
, 
gtid
, 
TYPE
 *
lhs
, \

2743 
TYPE
 
rhs
, TYPE *
out
, 
æag
) { \

2744 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

2745 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_" #OP_ID ": T#%d\n", 
gtid
));

	)

2748 
	#ATOMIC_CRITICAL_CPT_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

2749 
	`ATOMIC_BEGIN_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
) \

2750 
	`OP_GOMP_CRITICAL_CPT_WRK
(
OP
, 
GOMP_FLAG
) \

2751 
	`OP_CRITICAL_CPT_WRK
(
OP
## =, 
LCK_ID
) \

2752 }

	)

2757 
ATOMIC_CRITICAL_CPT
(
æßt10
, 
add_ıt
, , +, 10
r
,

2759 
ATOMIC_CRITICAL_CPT
(
æßt10
, 
sub_ıt
, , -, 10
r
,

2761 
	$ATOMIC_CRITICAL_CPT
(
æßt10
, 
mul_ıt
, , *, 10
r
,

2763 
	`ATOMIC_CRITICAL_CPT
(
æßt10
, 
div_ıt
, , /, 10
r
,

2765 #ià
KMP_HAVE_QUAD


2767 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
add_ıt
, 
QUAD_LEGACY
, +, 16
r
,

2769 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
sub_ıt
, 
QUAD_LEGACY
, -, 16
r
,

2771 
	$ATOMIC_CRITICAL_CPT
(
æßt16
, 
mul_ıt
, 
QUAD_LEGACY
, *, 16
r
,

2773 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
div_ıt
, 
QUAD_LEGACY
, /, 16
r
,

2775 #ià(
KMP_ARCH_X86
)

2776 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
add_a16_ıt
, 
Quad_a16_t
, +, 16
r
,

2778 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
sub_a16_ıt
, 
Quad_a16_t
, -, 16
r
,

2780 
	$ATOMIC_CRITICAL_CPT
(
æßt16
, 
mul_a16_ıt
, 
Quad_a16_t
, *, 16
r
,

2782 
	`ATOMIC_CRITICAL_CPT
(
æßt16
, 
div_a16_ıt
, 
Quad_a16_t
, /, 16
r
,

2790 
	`ATOMIC_CRITICAL_CPT_WRK
(
cm¶x4
, 
add_ıt
, 
kmp_cm¶x32
, +, 8c,

2792 
	`ATOMIC_CRITICAL_CPT_WRK
(
cm¶x4
, 
sub_ıt
, 
kmp_cm¶x32
, -, 8c,

2794 
	$ATOMIC_CRITICAL_CPT_WRK
(
cm¶x4
, 
mul_ıt
, 
kmp_cm¶x32
, *, 8c,

2796 
	`ATOMIC_CRITICAL_CPT_WRK
(
cm¶x4
, 
div_ıt
, 
kmp_cm¶x32
, /, 8c,

2799 
	`ATOMIC_CRITICAL_CPT
(
cm¶x8
, 
add_ıt
, 
kmp_cm¶x64
, +, 16c,

2801 
	`ATOMIC_CRITICAL_CPT
(
cm¶x8
, 
sub_ıt
, 
kmp_cm¶x64
, -, 16c,

2803 
	$ATOMIC_CRITICAL_CPT
(
cm¶x8
, 
mul_ıt
, 
kmp_cm¶x64
, *, 16c,

2805 
	`ATOMIC_CRITICAL_CPT
(
cm¶x8
, 
div_ıt
, 
kmp_cm¶x64
, /, 16c,

2807 
	`ATOMIC_CRITICAL_CPT
(
cm¶x10
, 
add_ıt
, 
kmp_cm¶x80
, +, 20c,

2809 
	`ATOMIC_CRITICAL_CPT
(
cm¶x10
, 
sub_ıt
, 
kmp_cm¶x80
, -, 20c,

2811 
	$ATOMIC_CRITICAL_CPT
(
cm¶x10
, 
mul_ıt
, 
kmp_cm¶x80
, *, 20c,

2813 
	`ATOMIC_CRITICAL_CPT
(
cm¶x10
, 
div_ıt
, 
kmp_cm¶x80
, /, 20c,

2815 #ià
KMP_HAVE_QUAD


2816 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
add_ıt
, 
CPLX128_LEG
, +, 32c,

2818 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
sub_ıt
, 
CPLX128_LEG
, -, 32c,

2820 
	$ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
mul_ıt
, 
CPLX128_LEG
, *, 32c,

2822 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
div_ıt
, 
CPLX128_LEG
, /, 32c,

2824 #ià(
KMP_ARCH_X86
)

2825 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
add_a16_ıt
, 
kmp_cm¶x128_a16_t
, +, 32c,

2827 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
sub_a16_ıt
, 
kmp_cm¶x128_a16_t
, -, 32c,

2829 
	$ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
mul_a16_ıt
, 
kmp_cm¶x128_a16_t
, *, 32c,

2831 
	`ATOMIC_CRITICAL_CPT
(
cm¶x16
, 
div_a16_ıt
, 
kmp_cm¶x128_a16_t
, /, 32c,

2846 
	#OP_CRITICAL_CPT_REV
(
OP
, 
LCK_ID
) \

2847 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2849 ià(
æag
) { \

2851 (*
lhs
èğ(
rhs
)
	`OP
(*lhs); \

2852 
Ãw_v®ue
 = (*
lhs
); \

2853 
	}
} { \

2854 
Ãw_v®ue
 = (*
lhs
); \

2855 (*
lhs
èğ(
rhs
)
	`OP
(*lhs); \

2857 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

2858  
Ãw_v®ue
;

	)

2861 #ifdeà
KMP_GOMP_COMPAT


2862 
	#OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
FLAG
) \

2863 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

2864 
KMP_CHECK_GTID
; \

2865 
	`OP_CRITICAL_CPT_REV
(
OP
, 0); \

2866 }

	)

2868 
	#OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
FLAG
)

	)

2878 
	#OP_CMPXCHG_CPT_REV
(
TYPE
, 
BITS
, 
OP
) \

2880 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

2881 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

2882 
‹mp_v®
 = *
lhs
; \

2883 
Şd_v®ue
 = 
‹mp_v®
; \

2884 
Ãw_v®ue
 = 
rhs
 
OP
 
Şd_v®ue
; \

2885 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

2886 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

2887 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

2888 
	`KMP_CPU_PAUSE
(); \

2890 
‹mp_v®
 = *
lhs
; \

2891 
Şd_v®ue
 = 
‹mp_v®
; \

2892 
Ãw_v®ue
 = 
rhs
 
OP
 
Şd_v®ue
; \

2894 ià(
æag
) { \

2895  
Ãw_v®ue
; \

2897  
Şd_v®ue
; \

2898 }

	)

2901 
	#ATOMIC_CMPXCHG_CPT_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
BITS
, 
OP
, 
GOMP_FLAG
) \

2902 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2903 
TYPE
 
Ãw_v®ue
; \

2904 
	`OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
GOMP_FLAG
) \

2905 
	`OP_CMPXCHG_CPT_REV
(
TYPE
, 
BITS
, 
OP
) \

2906 }

	)

2908 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1
, 
div_ıt_»v
, 
kmp_št8
, 8, /,

2909 
KMP_ARCH_X86
)

2910 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1u
, 
div_ıt_»v
, 
kmp_ušt8
, 8, /,

2911 
KMP_ARCH_X86
)

2912 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1
, 
shl_ıt_»v
, 
kmp_št8
, 8, <<,

2913 
KMP_ARCH_X86
)

2914 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1
, 
shr_ıt_»v
, 
kmp_št8
, 8, >>,

2915 
KMP_ARCH_X86
)

2916 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1u
, 
shr_ıt_»v
, 
kmp_ušt8
, 8, >>,

2917 
KMP_ARCH_X86
)

2918 
ATOMIC_CMPXCHG_CPT_REV
(
fixed1
, 
sub_ıt_»v
, 
kmp_št8
, 8, -,

2919 
KMP_ARCH_X86
)

2920 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2
, 
div_ıt_»v
, 
kmp_št16
, 16, /,

2921 
KMP_ARCH_X86
)

2922 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2u
, 
div_ıt_»v
, 
kmp_ušt16
, 16, /,

2923 
KMP_ARCH_X86
)

2924 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2
, 
shl_ıt_»v
, 
kmp_št16
, 16, <<,

2925 
KMP_ARCH_X86
)

2926 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2
, 
shr_ıt_»v
, 
kmp_št16
, 16, >>,

2927 
KMP_ARCH_X86
)

2928 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2u
, 
shr_ıt_»v
, 
kmp_ušt16
, 16, >>,

2929 
KMP_ARCH_X86
)

2930 
ATOMIC_CMPXCHG_CPT_REV
(
fixed2
, 
sub_ıt_»v
, 
kmp_št16
, 16, -,

2931 
KMP_ARCH_X86
)

2932 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4
, 
div_ıt_»v
, 
kmp_št32
, 32, /,

2933 
KMP_ARCH_X86
)

2934 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4u
, 
div_ıt_»v
, 
kmp_ušt32
, 32, /,

2935 
KMP_ARCH_X86
)

2936 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4
, 
shl_ıt_»v
, 
kmp_št32
, 32, <<,

2937 
KMP_ARCH_X86
)

2938 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4
, 
shr_ıt_»v
, 
kmp_št32
, 32, >>,

2939 
KMP_ARCH_X86
)

2940 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4u
, 
shr_ıt_»v
, 
kmp_ušt32
, 32, >>,

2941 
KMP_ARCH_X86
)

2942 
ATOMIC_CMPXCHG_CPT_REV
(
fixed4
, 
sub_ıt_»v
, 
kmp_št32
, 32, -,

2943 
KMP_ARCH_X86
)

2944 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8
, 
div_ıt_»v
, 
kmp_št64
, 64, /,

2945 
KMP_ARCH_X86
)

2946 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8u
, 
div_ıt_»v
, 
kmp_ušt64
, 64, /,

2947 
KMP_ARCH_X86
)

2948 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8
, 
shl_ıt_»v
, 
kmp_št64
, 64, <<,

2949 
KMP_ARCH_X86
)

2950 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8
, 
shr_ıt_»v
, 
kmp_št64
, 64, >>,

2951 
KMP_ARCH_X86
)

2952 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8u
, 
shr_ıt_»v
, 
kmp_ušt64
, 64, >>,

2953 
KMP_ARCH_X86
)

2954 
ATOMIC_CMPXCHG_CPT_REV
(
fixed8
, 
sub_ıt_»v
, 
kmp_št64
, 64, -,

2955 
KMP_ARCH_X86
)

2956 
ATOMIC_CMPXCHG_CPT_REV
(
æßt4
, 
div_ıt_»v
, 
kmp_»®32
, 32, /,

2957 
KMP_ARCH_X86
)

2958 
ATOMIC_CMPXCHG_CPT_REV
(
æßt4
, 
sub_ıt_»v
, 
kmp_»®32
, 32, -,

2959 
KMP_ARCH_X86
)

2960 
ATOMIC_CMPXCHG_CPT_REV
(
æßt8
, 
div_ıt_»v
, 
kmp_»®64
, 64, /,

2961 
KMP_ARCH_X86
)

2962 
ATOMIC_CMPXCHG_CPT_REV
(
æßt8
, 
sub_ıt_»v
, 
kmp_»®64
, 64, -,

2963 
KMP_ARCH_X86
)

2972 
	#ATOMIC_CRITICAL_CPT_REV
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, 
GOMP_FLAG
) \

2973 
	`ATOMIC_BEGIN_CPT
(
TYPE_ID
, 
OP_ID
, 
TYPE
, TYPE) \

2974 
TYPE
 
Ãw_v®ue
; \

2976 
	`OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
GOMP_FLAG
) \

2977 
	`OP_CRITICAL_CPT_REV
(
OP
, 
LCK_ID
) \

2978 }

	)

2982 
ATOMIC_CRITICAL_CPT_REV
(
æßt10
, 
sub_ıt_»v
, , -, 10
r
,

2984 
ATOMIC_CRITICAL_CPT_REV
(
æßt10
, 
div_ıt_»v
, , /, 10
r
,

2986 #ià
KMP_HAVE_QUAD


2988 
ATOMIC_CRITICAL_CPT_REV
(
æßt16
, 
sub_ıt_»v
, 
QUAD_LEGACY
, -, 16
r
,

2990 
ATOMIC_CRITICAL_CPT_REV
(
æßt16
, 
div_ıt_»v
, 
QUAD_LEGACY
, /, 16
r
,

2992 #ià(
KMP_ARCH_X86
)

2993 
ATOMIC_CRITICAL_CPT_REV
(
æßt16
, 
sub_a16_ıt_»v
, 
Quad_a16_t
, -, 16
r
,

2995 
ATOMIC_CRITICAL_CPT_REV
(
æßt16
, 
div_a16_ıt_»v
, 
Quad_a16_t
, /, 16
r
,

3005 
	#OP_CRITICAL_CPT_REV_WRK
(
OP
, 
LCK_ID
) \

3006 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3008 ià(
æag
) { \

3009 (*
lhs
èğ(
rhs
)
	`OP
(*lhs); \

3010 (*
out
èğ(*
lhs
); \

3012 (*
out
èğ(*
lhs
); \

3013 (*
lhs
èğ(
rhs
)
	`OP
(*lhs); \

3016 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3017 ;

	)

3020 #ifdeà
KMP_GOMP_COMPAT


3021 
	#OP_GOMP_CRITICAL_CPT_REV_WRK
(
OP
, 
FLAG
) \

3022 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

3023 
KMP_CHECK_GTID
; \

3024 
	`OP_CRITICAL_CPT_REV_WRK
(
OP
, 0); \

3025 }

	)

3027 
	#OP_GOMP_CRITICAL_CPT_REV_WRK
(
OP
, 
FLAG
)

	)

3031 
	#ATOMIC_CRITICAL_CPT_REV_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
OP
, 
LCK_ID
, \

3032 
GOMP_FLAG
) \

3033 
	`ATOMIC_BEGIN_WRK
(
TYPE_ID
, 
OP_ID
, 
TYPE
) \

3034 
	`OP_GOMP_CRITICAL_CPT_REV_WRK
(
OP
, 
GOMP_FLAG
) \

3035 
	`OP_CRITICAL_CPT_REV_WRK
(
OP
, 
LCK_ID
) \

3036 }

	)

3041 
ATOMIC_CRITICAL_CPT_REV_WRK
(
cm¶x4
, 
sub_ıt_»v
, 
kmp_cm¶x32
, -, 8c,

3043 
ATOMIC_CRITICAL_CPT_REV_WRK
(
cm¶x4
, 
div_ıt_»v
, 
kmp_cm¶x32
, /, 8c,

3046 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x8
, 
sub_ıt_»v
, 
kmp_cm¶x64
, -, 16c,

3048 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x8
, 
div_ıt_»v
, 
kmp_cm¶x64
, /, 16c,

3050 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x10
, 
sub_ıt_»v
, 
kmp_cm¶x80
, -, 20c,

3052 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x10
, 
div_ıt_»v
, 
kmp_cm¶x80
, /, 20c,

3054 #ià
KMP_HAVE_QUAD


3055 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x16
, 
sub_ıt_»v
, 
CPLX128_LEG
, -, 32c,

3057 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x16
, 
div_ıt_»v
, 
CPLX128_LEG
, /, 32c,

3059 #ià(
KMP_ARCH_X86
)

3060 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x16
, 
sub_a16_ıt_»v
, 
kmp_cm¶x128_a16_t
, -, 32c,

3062 
ATOMIC_CRITICAL_CPT_REV
(
cm¶x16
, 
div_a16_ıt_»v
, 
kmp_cm¶x128_a16_t
, /, 32c,

3068 #ià
KMP_HAVE_QUAD


3076 
	#ATOMIC_CMPXCHG_CPT_REV_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
BITS
, 
OP
, 
RTYPE_ID
, \

3077 
RTYPE
, 
LCK_ID
, 
MASK
, 
GOMP_FLAG
) \

3078 
	`ATOMIC_BEGIN_CPT_MIX
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RTYPE_ID
, 
RTYPE
) \

3079 
TYPE
 
Ãw_v®ue
; \

3080 
	`OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
GOMP_FLAG
) \

3081 
	`OP_CMPXCHG_CPT_REV
(
TYPE
, 
BITS
, 
OP
) \

3082 }

	)

3085 
	#ATOMIC_CRITICAL_CPT_REV_MIX
(
TYPE_ID
, 
TYPE
, 
OP_ID
, 
OP
, 
RTYPE_ID
, 
RTYPE
, \

3086 
LCK_ID
, 
GOMP_FLAG
) \

3087 
	`ATOMIC_BEGIN_CPT_MIX
(
TYPE_ID
, 
OP_ID
, 
TYPE
, 
RTYPE_ID
, 
RTYPE
) \

3088 
TYPE
 
Ãw_v®ue
; \

3089 
	`OP_GOMP_CRITICAL_CPT_REV
(
OP
, 
GOMP_FLAG
) \

3090 
	`OP_CRITICAL_CPT_REV
(
OP
, 
LCK_ID
) \

3091 }

	)

3093 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed1
, , 
sub_ıt_»v
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

3094 
KMP_ARCH_X86
)

3095 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed1u
, 
uch¬
, 
sub_ıt_»v
, 8, -, 
å
, 
_Quad
, 1
i
, 0,

3096 
KMP_ARCH_X86
)

3097 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed1
, , 
div_ıt_»v
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

3098 
KMP_ARCH_X86
)

3099 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed1u
, 
uch¬
, 
div_ıt_»v
, 8, /, 
å
, 
_Quad
, 1
i
, 0,

3100 
KMP_ARCH_X86
)

3102 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed2
, , 
sub_ıt_»v
, 16, -, 
å
, 
_Quad
, 2
i
, 1,

3103 
KMP_ARCH_X86
)

3104 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed2u
, 
ushÜt
, 
sub_ıt_»v
, 16, -, 
å
, 
_Quad
, 2
i
,

3106 
KMP_ARCH_X86
)

3107 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed2
, , 
div_ıt_»v
, 16, /, 
å
, 
_Quad
, 2
i
, 1,

3108 
KMP_ARCH_X86
)

3109 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed2u
, 
ushÜt
, 
div_ıt_»v
, 16, /, 
å
, 
_Quad
, 2
i
,

3111 
KMP_ARCH_X86
)

3113 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed4
, 
kmp_št32
, 
sub_ıt_»v
, 32, -, 
å
, 
_Quad
, 4
i
,

3115 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed4u
, 
kmp_ušt32
, 
sub_ıt_»v
, 32, -, 
å
, 
_Quad
,

3116 4
i
, 3, 0)

3117 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed4
, 
kmp_št32
, 
div_ıt_»v
, 32, /, 
å
, 
_Quad
, 4
i
,

3119 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed4u
, 
kmp_ušt32
, 
div_ıt_»v
, 32, /, 
å
, 
_Quad
,

3120 4
i
, 3, 0)

3122 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed8
, 
kmp_št64
, 
sub_ıt_»v
, 64, -, 
å
, 
_Quad
, 8
i
,

3124 
KMP_ARCH_X86
)

3125 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed8u
, 
kmp_ušt64
, 
sub_ıt_»v
, 64, -, 
å
, 
_Quad
,

3126 8
i
, 7,

3127 
KMP_ARCH_X86
)

3128 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed8
, 
kmp_št64
, 
div_ıt_»v
, 64, /, 
å
, 
_Quad
, 8
i
,

3130 
KMP_ARCH_X86
)

3131 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
fixed8u
, 
kmp_ušt64
, 
div_ıt_»v
, 64, /, 
å
, 
_Quad
,

3132 8
i
, 7,

3133 
KMP_ARCH_X86
)

3135 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
æßt4
, 
kmp_»®32
, 
sub_ıt_»v
, 32, -, 
å
, 
_Quad
,

3136 4
r
, 3,

3137 
KMP_ARCH_X86
)

3138 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
æßt4
, 
kmp_»®32
, 
div_ıt_»v
, 32, /, 
å
, 
_Quad
,

3139 4
r
, 3,

3140 
KMP_ARCH_X86
)

3142 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
æßt8
, 
kmp_»®64
, 
sub_ıt_»v
, 64, -, 
å
, 
_Quad
,

3143 8
r
, 7,

3144 
KMP_ARCH_X86
)

3145 
ATOMIC_CMPXCHG_CPT_REV_MIX
(
æßt8
, 
kmp_»®64
, 
div_ıt_»v
, 64, /, 
å
, 
_Quad
,

3146 8
r
, 7,

3147 
KMP_ARCH_X86
)

3149 
ATOMIC_CRITICAL_CPT_REV_MIX
(
æßt10
, , 
sub_ıt_»v
, -, 
å
, 
_Quad
,

3150 10
r
, 1)

3151 
ATOMIC_CRITICAL_CPT_REV_MIX
(
æßt10
, , 
div_ıt_»v
, /, 
å
, 
_Quad
,

3152 10
r
, 1)

3158 
	#ATOMIC_BEGIN_SWP
(
TYPE_ID
, 
TYPE
) \

3159 
TYPE
 
__kmpc_©omic_
##
TYPE_ID
##
	`_swp
(
id’t_t
 *
id_»f
, 
gtid
, TYPE *
lhs
, \

3160 
TYPE
 
rhs
) { \

3161 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

3162 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_swp: T#%d\n", 
gtid
));

	)

3164 
	#CRITICAL_SWP
(
LCK_ID
) \

3165 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3167 
Şd_v®ue
 = (*
lhs
); \

3168 (*
lhs
èğ
rhs
; \

3170 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3171  
Şd_v®ue
;

	)

3174 #ifdeà
KMP_GOMP_COMPAT


3175 
	#GOMP_CRITICAL_SWP
(
FLAG
) \

3176 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

3177 
KMP_CHECK_GTID
; \

3178 
	`CRITICAL_SWP
(0); \

3179 }

	)

3181 
	#GOMP_CRITICAL_SWP
(
FLAG
)

	)

3184 
	#ATOMIC_XCHG_SWP
(
TYPE_ID
, 
TYPE
, 
BITS
, 
GOMP_FLAG
) \

3185 
	`ATOMIC_BEGIN_SWP
(
TYPE_ID
, 
TYPE
) \

3186 
TYPE
 
Şd_v®ue
; \

3187 
	`GOMP_CRITICAL_SWP
(
GOMP_FLAG
) \

3188 
Şd_v®ue
 = 
KMP_XCHG_FIXED
##
	`BITS
(
lhs
, 
rhs
); \

3189  
Şd_v®ue
; \

3190 }

	)

3192 
	#ATOMIC_XCHG_FLOAT_SWP
(
TYPE_ID
, 
TYPE
, 
BITS
, 
GOMP_FLAG
) \

3193 
	`ATOMIC_BEGIN_SWP
(
TYPE_ID
, 
TYPE
) \

3194 
TYPE
 
Şd_v®ue
; \

3195 
	`GOMP_CRITICAL_SWP
(
GOMP_FLAG
) \

3196 
Şd_v®ue
 = 
KMP_XCHG_REAL
##
	`BITS
(
lhs
, 
rhs
); \

3197  
Şd_v®ue
; \

3198 }

	)

3201 
	#CMPXCHG_SWP
(
TYPE
, 
BITS
) \

3203 
TYPE
 
KMP_ATOMIC_VOLATILE
 
‹mp_v®
; \

3204 
TYPE
 
Şd_v®ue
, 
Ãw_v®ue
; \

3205 
‹mp_v®
 = *
lhs
; \

3206 
Şd_v®ue
 = 
‹mp_v®
; \

3207 
Ãw_v®ue
 = 
rhs
; \

3208 !
KMP_COMPARE_AND_STORE_ACQ
##
	`BITS
( \

3209 (
kmp_št
##
BITS
 *)
lhs
, *
	`VOLATILE_CAST
(kmp_št##BITS *è& 
Şd_v®ue
, \

3210 *
	`VOLATILE_CAST
(
kmp_št
##
BITS
 *è& 
Ãw_v®ue
)) { \

3211 
	`KMP_CPU_PAUSE
(); \

3213 
‹mp_v®
 = *
lhs
; \

3214 
Şd_v®ue
 = 
‹mp_v®
; \

3215 
Ãw_v®ue
 = 
rhs
; \

3217  
Şd_v®ue
; \

3218 }

	)

3221 
	#ATOMIC_CMPXCHG_SWP
(
TYPE_ID
, 
TYPE
, 
BITS
, 
GOMP_FLAG
) \

3222 
	`ATOMIC_BEGIN_SWP
(
TYPE_ID
, 
TYPE
) \

3223 
TYPE
 
Şd_v®ue
; \

3224 
	`GOMP_CRITICAL_SWP
(
GOMP_FLAG
) \

3225 
	`CMPXCHG_SWP
(
TYPE
, 
BITS
) \

3226 }

	)

3228 
	$ATOMIC_XCHG_SWP
(
fixed1
, 
kmp_št8
, 8, 
KMP_ARCH_X86
)

3229 
	$ATOMIC_XCHG_SWP
(
fixed2
, 
kmp_št16
, 16, 
KMP_ARCH_X86
)

3230 
	$ATOMIC_XCHG_SWP
(
fixed4
, 
kmp_št32
, 32, 
KMP_ARCH_X86
)

3232 
	$ATOMIC_XCHG_FLOAT_SWP
(
æßt4
, 
kmp_»®32
, 32,

3233 
KMP_ARCH_X86
)

3235 #ià(
KMP_ARCH_X86
)

3236 
	$ATOMIC_CMPXCHG_SWP
(
fixed8
, 
kmp_št64
, 64,

3237 
KMP_ARCH_X86
)

3238 
	$ATOMIC_CMPXCHG_SWP
(
æßt8
, 
kmp_»®64
, 64,

3239 
KMP_ARCH_X86
)

3241 
	$ATOMIC_XCHG_SWP
(
fixed8
, 
kmp_št64
, 64, 
KMP_ARCH_X86
)

3242 
	$ATOMIC_XCHG_FLOAT_SWP
(
æßt8
, 
kmp_»®64
, 64,

3243 
KMP_ARCH_X86
)

3249 
	#ATOMIC_CRITICAL_SWP
(
TYPE_ID
, 
TYPE
, 
LCK_ID
, 
GOMP_FLAG
) \

3250 
	`ATOMIC_BEGIN_SWP
(
TYPE_ID
, 
TYPE
) \

3251 
TYPE
 
Şd_v®ue
; \

3252 
	`GOMP_CRITICAL_SWP
(
GOMP_FLAG
) \

3253 
	`CRITICAL_SWP
(
LCK_ID
) \

3254 
	}

	)
}

3261 
	#ATOMIC_BEGIN_SWP_WRK
(
TYPE_ID
, 
TYPE
) \

3262 
__kmpc_©omic_
##
TYPE_ID
##
	`_swp
(
id’t_t
 *
id_»f
, 
gtid
, 
TYPE
 *
lhs
, \

3263 
TYPE
 
rhs
, TYPE *
out
) { \

3264 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
); \

3265 
	`KA_TRACE
(100, ("__kmpc_©omic_" #TYPE_ID "_swp: T#%d\n", 
gtid
));

	)

3267 
	#CRITICAL_SWP_WRK
(
LCK_ID
) \

3268 
	`__kmp_acquœe_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3270 
tmp
 = (*
lhs
); \

3271 (*
lhs
èğ(
rhs
); \

3272 (*
out
èğ
tmp
; \

3273 
	`__kmp_»Ëa£_©omic_lock
(&
ATOMIC_LOCK
##
LCK_ID
, 
gtid
); \

3274 ;

	)

3277 #ifdeà
KMP_GOMP_COMPAT


3278 
	#GOMP_CRITICAL_SWP_WRK
(
FLAG
) \

3279 ià((
FLAG
è&& (
__kmp_©omic_mode
 == 2)) { \

3280 
KMP_CHECK_GTID
; \

3281 
	`CRITICAL_SWP_WRK
(0); \

3282 }

	)

3284 
	#GOMP_CRITICAL_SWP_WRK
(
FLAG
)

	)

3288 
	#ATOMIC_CRITICAL_SWP_WRK
(
TYPE_ID
, 
TYPE
, 
LCK_ID
, 
GOMP_FLAG
) \

3289 
	`ATOMIC_BEGIN_SWP_WRK
(
TYPE_ID
, 
TYPE
) \

3290 
TYPE
 
tmp
; \

3291 
	`GOMP_CRITICAL_SWP_WRK
(
GOMP_FLAG
) \

3292 
	`CRITICAL_SWP_WRK
(
LCK_ID
) \

3293 }

	)

3296 
	$ATOMIC_CRITICAL_SWP
(
æßt10
, , 10
r
, 1)

3297 #ià
KMP_HAVE_QUAD


3298 
	$ATOMIC_CRITICAL_SWP
(
æßt16
, 
QUAD_LEGACY
, 16
r
, 1)

3301 
	$ATOMIC_CRITICAL_SWP_WRK
(
cm¶x4
, 
kmp_cm¶x32
, 8c, 1)

3306 
	$ATOMIC_CRITICAL_SWP
(
cm¶x8
, 
kmp_cm¶x64
, 16c, 1)

3307 
	$ATOMIC_CRITICAL_SWP
(
cm¶x10
, 
kmp_cm¶x80
, 20c, 1)

3308 #ià
KMP_HAVE_QUAD


3309 
	$ATOMIC_CRITICAL_SWP
(
cm¶x16
, 
CPLX128_LEG
, 32c, 1)

3310 #ià(
KMP_ARCH_X86
)

3311 
	$ATOMIC_CRITICAL_SWP
(
æßt16_a16
, 
Quad_a16_t
, 16
r
,

3313 
	$ATOMIC_CRITICAL_SWP
(
cm¶x16_a16
, 
kmp_cm¶x128_a16_t
, 32c,

3322 #undeà
OP_CRITICAL


3327 
	$__kmpc_©omic_1
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3328 (*
f
)(*, *, *)) {

3329 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3332 #ià
KMP_ARCH_X86
 && 
	`defšed
(
KMP_GOMP_COMPAT
)

3333 
FALSE


3335 
TRUE


3338 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

3340 
Şd_v®ue
 = *(
kmp_št8
 *)
lhs
;

3341 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3344 !
	`KMP_COMPARE_AND_STORE_ACQ8
((
kmp_št8
 *)
lhs
, *(kmp_št8 *)&
Şd_v®ue
,

3345 *(
kmp_št8
 *)&
Ãw_v®ue
)) {

3346 
	`KMP_CPU_PAUSE
();

3348 
Şd_v®ue
 = *(
kmp_št8
 *)
lhs
;

3349 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3356 #ifdeà
KMP_GOMP_COMPAT


3357 ià(
__kmp_©omic_mode
 == 2) {

3358 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3361 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_1i
, 
gtid
);

3363 (*
f
)(
lhs
,†hs, 
rhs
);

3365 #ifdeà
KMP_GOMP_COMPAT


3366 ià(
__kmp_©omic_mode
 == 2) {

3367 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3370 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_1i
, 
gtid
);

3372 
	}
}

3374 
	$__kmpc_©omic_2
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3375 (*
f
)(*, *, *)) {

3377 #ià
KMP_ARCH_X86
 && 
	`defšed
(
KMP_GOMP_COMPAT
)

3378 
FALSE


3379 #–ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


3380 
TRUE


3382 !((
kmp_ušŒ_t
)
lhs
 & 0x1)

3385 
kmp_št16
 
Şd_v®ue
, 
Ãw_v®ue
;

3387 
Şd_v®ue
 = *(
kmp_št16
 *)
lhs
;

3388 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3391 !
	`KMP_COMPARE_AND_STORE_ACQ16
(

3392 (
kmp_št16
 *)
lhs
, *(kmp_št16 *)&
Şd_v®ue
, *(kmp_št16 *)&
Ãw_v®ue
)) {

3393 
	`KMP_CPU_PAUSE
();

3395 
Şd_v®ue
 = *(
kmp_št16
 *)
lhs
;

3396 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3403 #ifdeà
KMP_GOMP_COMPAT


3404 ià(
__kmp_©omic_mode
 == 2) {

3405 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3408 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_2i
, 
gtid
);

3410 (*
f
)(
lhs
,†hs, 
rhs
);

3412 #ifdeà
KMP_GOMP_COMPAT


3413 ià(
__kmp_©omic_mode
 == 2) {

3414 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3417 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_2i
, 
gtid
);

3419 
	}
}

3421 
	$__kmpc_©omic_4
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3422 (*
f
)(*, *, *)) {

3423 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3428 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


3429 
TRUE


3431 !((
kmp_ušŒ_t
)
lhs
 & 0x3)

3434 
kmp_št32
 
Şd_v®ue
, 
Ãw_v®ue
;

3436 
Şd_v®ue
 = *(
kmp_št32
 *)
lhs
;

3437 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3440 !
	`KMP_COMPARE_AND_STORE_ACQ32
(

3441 (
kmp_št32
 *)
lhs
, *(kmp_št32 *)&
Şd_v®ue
, *(kmp_št32 *)&
Ãw_v®ue
)) {

3442 
	`KMP_CPU_PAUSE
();

3444 
Şd_v®ue
 = *(
kmp_št32
 *)
lhs
;

3445 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3453 #ifdeà
KMP_GOMP_COMPAT


3454 ià(
__kmp_©omic_mode
 == 2) {

3455 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3458 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_4i
, 
gtid
);

3460 (*
f
)(
lhs
,†hs, 
rhs
);

3462 #ifdeà
KMP_GOMP_COMPAT


3463 ià(
__kmp_©omic_mode
 == 2) {

3464 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3467 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_4i
, 
gtid
);

3469 
	}
}

3471 
	$__kmpc_©omic_8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3472 (*
f
)(*, *, *)) {

3473 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3476 #ià
KMP_ARCH_X86
 && 
	`defšed
(
KMP_GOMP_COMPAT
)

3477 
FALSE


3478 #–ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


3479 
TRUE


3481 !((
kmp_ušŒ_t
)
lhs
 & 0x7)

3484 
kmp_št64
 
Şd_v®ue
, 
Ãw_v®ue
;

3486 
Şd_v®ue
 = *(
kmp_št64
 *)
lhs
;

3487 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3489 !
	`KMP_COMPARE_AND_STORE_ACQ64
(

3490 (
kmp_št64
 *)
lhs
, *(kmp_št64 *)&
Şd_v®ue
, *(kmp_št64 *)&
Ãw_v®ue
)) {

3491 
	`KMP_CPU_PAUSE
();

3493 
Şd_v®ue
 = *(
kmp_št64
 *)
lhs
;

3494 (*
f
)(&
Ãw_v®ue
, &
Şd_v®ue
, 
rhs
);

3502 #ifdeà
KMP_GOMP_COMPAT


3503 ià(
__kmp_©omic_mode
 == 2) {

3504 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3507 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_8i
, 
gtid
);

3509 (*
f
)(
lhs
,†hs, 
rhs
);

3511 #ifdeà
KMP_GOMP_COMPAT


3512 ià(
__kmp_©omic_mode
 == 2) {

3513 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3516 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_8i
, 
gtid
);

3518 
	}
}

3520 
	$__kmpc_©omic_10
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3521 (*
f
)(*, *, *)) {

3522 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3524 #ifdeà
KMP_GOMP_COMPAT


3525 ià(
__kmp_©omic_mode
 == 2) {

3526 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3529 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_10r
, 
gtid
);

3531 (*
f
)(
lhs
,†hs, 
rhs
);

3533 #ifdeà
KMP_GOMP_COMPAT


3534 ià(
__kmp_©omic_mode
 == 2) {

3535 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3538 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_10r
, 
gtid
);

3539 
	}
}

3541 
	$__kmpc_©omic_16
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3542 (*
f
)(*, *, *)) {

3543 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3545 #ifdeà
KMP_GOMP_COMPAT


3546 ià(
__kmp_©omic_mode
 == 2) {

3547 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3550 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_16c
, 
gtid
);

3552 (*
f
)(
lhs
,†hs, 
rhs
);

3554 #ifdeà
KMP_GOMP_COMPAT


3555 ià(
__kmp_©omic_mode
 == 2) {

3556 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3559 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_16c
, 
gtid
);

3560 
	}
}

3562 
	$__kmpc_©omic_20
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3563 (*
f
)(*, *, *)) {

3564 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3566 #ifdeà
KMP_GOMP_COMPAT


3567 ià(
__kmp_©omic_mode
 == 2) {

3568 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3571 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_20c
, 
gtid
);

3573 (*
f
)(
lhs
,†hs, 
rhs
);

3575 #ifdeà
KMP_GOMP_COMPAT


3576 ià(
__kmp_©omic_mode
 == 2) {

3577 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3580 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_20c
, 
gtid
);

3581 
	}
}

3583 
	$__kmpc_©omic_32
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

3584 (*
f
)(*, *, *)) {

3585 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

3587 #ifdeà
KMP_GOMP_COMPAT


3588 ià(
__kmp_©omic_mode
 == 2) {

3589 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3592 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock_32c
, 
gtid
);

3594 (*
f
)(
lhs
,†hs, 
rhs
);

3596 #ifdeà
KMP_GOMP_COMPAT


3597 ià(
__kmp_©omic_mode
 == 2) {

3598 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3601 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock_32c
, 
gtid
);

3602 
	}
}

3607 
	$__kmpc_©omic_¡¬t
() {

3608 
gtid
 = 
	`__kmp_’Œy_gtid
();

3609 
	`KA_TRACE
(20, ("__kmpc_©omic_¡¬t: T#%d\n", 
gtid
));

3610 
	`__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3611 
	}
}

3613 
	$__kmpc_©omic_’d
() {

3614 
gtid
 = 
	`__kmp_g‘_gtid
();

3615 
	`KA_TRACE
(20, ("__kmpc_©omic_’d: T#%d\n", 
gtid
));

3616 
	`__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

3617 
	}
}

	@kmp_atomic.h

13 #iâdeà
KMP_ATOMIC_H


14 
	#KMP_ATOMIC_H


	)

16 
	~"kmp_lock.h
"

17 
	~"kmp_os.h
"

19 #ià
OMPT_SUPPORT


20 
	~"om±-¥ecific.h
"

32 #ià
defšed
(
__ılu¥lus
è&& (
KMP_OS_WINDOWS
)

37 #ià
KMP_COMPILER_MSVC


38 #undeà
KMP_DO_ALIGN


39 
	#KMP_DO_ALIGN
(
®ignm’t
è

	)

42 #ià(
_MSC_VER
 < 1600è&& 
defšed
(
_DEBUG
)

46 #undeà
_DEBUG


47 
	#_DEBUG_TEMPORARILY_UNSET_


	)

50 
	~<com¶ex
>

52 
	g‹m¶©e
 <
ty³Çme
 
	gty³_lhs
,y³Çm
	gty³_rhs
>

53 
	g¡d
::
com¶ex
<
ty³_lhs
> 
__kmp_lhs_div_rhs
(cÚ¡ 
¡d
::com¶ex<ty³_lhs> &
lhs
,

54 cÚ¡ 
¡d
::
com¶ex
<
ty³_rhs
> &
rhs
) {

55 
ty³_lhs
 
a
 = 
lhs
.
»®
();

56 
ty³_lhs
 
	gb
 = 
lhs
.
imag
();

57 
ty³_rhs
 
	gc
 = 
rhs
.
»®
();

58 
ty³_rhs
 
	gd
 = 
rhs
.
imag
();

59 
ty³_rhs
 
	gd’
 = 
c
 * c + 
d
 * d;

60 
ty³_rhs
 
	gr
 = (
a
 * 
c
 + 
b
 * 
d
);

61 
ty³_rhs
 
	gi
 = (
b
 * 
c
 - 
a
 * 
d
);

62 
	g¡d
::
com¶ex
<
ty³_lhs
> 
»t
(
r
 / 
d’
, 
i
 / den);

63  
	g»t
;

67 
	g__kmp_cm¶x64_t
 : 
¡d
::
com¶ex
<> {

69 
__kmp_cm¶x64_t
(è: 
¡d
::
com¶ex
<>() {}

71 
__kmp_cm¶x64_t
(cÚ¡ 
¡d
::
com¶ex
<> &
cd
) : std::complex<>(cd) {}

73 
İ”©Ü
/=(cÚ¡ 
__kmp_cm¶x64_t
 &
rhs
) {

74 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

75 *
	gthis
 = 
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

78 
__kmp_cm¶x64_t
 
	gİ”©Ü
/(cÚ¡ 
	g__kmp_cm¶x64_t
 &
	grhs
) {

79 
	g¡d
::
com¶ex
<> 
lhs
 = *
this
;

80  
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

83 
__kmp_cm¶x64_t
 
	tkmp_cm¶x64
;

86 
	g__kmp_cm¶x32_t
 : 
¡d
::
com¶ex
<> {

88 
__kmp_cm¶x32_t
(è: 
¡d
::
com¶ex
<>() {}

90 
__kmp_cm¶x32_t
(cÚ¡ 
¡d
::
com¶ex
<> &
cf
) : std::complex<>(cf) {}

92 
__kmp_cm¶x32_t
 
İ”©Ü
+(cÚ¡ __kmp_cm¶x32_ˆ&
b
) {

93 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

94 
	g¡d
::
com¶ex
<> 
rhs
 = 
b
;

95  (
	glhs
 + 
	grhs
);

97 
__kmp_cm¶x32_t
 
	gİ”©Ü
-(cÚ¡ 
	g__kmp_cm¶x32_t
 &
	gb
) {

98 
	g¡d
::
com¶ex
<> 
lhs
 = *
this
;

99 
	g¡d
::
com¶ex
<> 
rhs
 = 
b
;

100  (
	glhs
 - 
	grhs
);

102 
__kmp_cm¶x32_t
 
	gİ”©Ü
*(cÚ¡ 
	g__kmp_cm¶x32_t
 &
	gb
) {

103 
	g¡d
::
com¶ex
<> 
lhs
 = *
this
;

104 
	g¡d
::
com¶ex
<> 
rhs
 = 
b
;

105  (
lhs
 * 
	grhs
);

108 
__kmp_cm¶x32_t
 
	gİ”©Ü
+(cÚ¡ 
	gkmp_cm¶x64
 &
	gb
) {

109 
kmp_cm¶x64
 
	gt
 = kmp_cm¶x64(*
this
è+ 
b
;

110 
	g¡d
::
com¶ex
<> 
d
(
t
);

111 
	g¡d
::
com¶ex
<> 
f
(
d
);

112 
__kmp_cm¶x32_t
 
r
(
f
);

113  
	gr
;

115 
__kmp_cm¶x32_t
 
	gİ”©Ü
-(cÚ¡ 
	gkmp_cm¶x64
 &
	gb
) {

116 
kmp_cm¶x64
 
	gt
 = kmp_cm¶x64(*
this
è- 
b
;

117 
	g¡d
::
com¶ex
<> 
d
(
t
);

118 
	g¡d
::
com¶ex
<> 
f
(
d
);

119 
__kmp_cm¶x32_t
 
r
(
f
);

120  
	gr
;

122 
__kmp_cm¶x32_t
 
	gİ”©Ü
*(cÚ¡ 
	gkmp_cm¶x64
 &
	gb
) {

123 
kmp_cm¶x64
 
	gt
 = kmp_cm¶x64(*
this
è* 
b
;

124 
	g¡d
::
com¶ex
<> 
d
(
t
);

125 
	g¡d
::
com¶ex
<> 
f
(
d
);

126 
__kmp_cm¶x32_t
 
r
(
f
);

127  
	gr
;

130 
	gİ”©Ü
/=(cÚ¡ 
__kmp_cm¶x32_t
 &
rhs
) {

131 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

132 *
	gthis
 = 
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

135 
__kmp_cm¶x32_t
 
	gİ”©Ü
/(cÚ¡ 
	g__kmp_cm¶x32_t
 &
	grhs
) {

136 
	g¡d
::
com¶ex
<> 
lhs
 = *
this
;

137  
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

140 
	gİ”©Ü
/=(cÚ¡ 
kmp_cm¶x64
 &
rhs
) {

141 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

142 *
	gthis
 = 
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

145 
__kmp_cm¶x32_t
 
	gİ”©Ü
/(cÚ¡ 
	gkmp_cm¶x64
 &
	grhs
) {

146 
	g¡d
::
com¶ex
<> 
lhs
 = *
this
;

147  
__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

150 
__kmp_cm¶x32_t
 
	tkmp_cm¶x32
;

153 
	$KMP_DO_ALIGN
(16è
__kmp_cm¶x80_t
 : 
¡d
::
com¶ex
<> {

155 
	`__kmp_cm¶x80_t
(è: 
¡d
::
com¶ex
<>() {}

157 
	`__kmp_cm¶x80_t
(cÚ¡ 
¡d
::
com¶ex
<> &
şd
)

158 : 
¡d
::
com¶ex
<>(
şd
) {}

160 
İ”©Ü
/=(cÚ¡ 
__kmp_cm¶x80_t
 &
rhs
) {

161 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

162 *
this
 = 
	`__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

165 
__kmp_cm¶x80_t
 
İ”©Ü
/(cÚ¡ __kmp_cm¶x80_ˆ&
rhs
) {

166 
¡d
::
com¶ex
<> 
lhs
 = *
this
;

167  
	`__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

169 
	}
};

170 
	$KMP_DO_ALIGN
(16è
	t__kmp_cm¶x80_t
 
	tkmp_cm¶x80
;

173 #ià
KMP_HAVE_QUAD


174 
__kmp_cm¶x128_t
 : 
¡d
::
com¶ex
<
_Quad
> {

176 
	`__kmp_cm¶x128_t
(è: 
¡d
::
com¶ex
<
_Quad
>() {}

178 
	`__kmp_cm¶x128_t
(cÚ¡ 
¡d
::
com¶ex
<
_Quad
> &
cq
) : std::complex<_Quad>(cq) {}

180 
İ”©Ü
/=(cÚ¡ 
__kmp_cm¶x128_t
 &
rhs
) {

181 
¡d
::
com¶ex
<
_Quad
> 
lhs
 = *
this
;

182 *
this
 = 
	`__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

185 
__kmp_cm¶x128_t
 
İ”©Ü
/(cÚ¡ __kmp_cm¶x128_ˆ&
rhs
) {

186 
¡d
::
com¶ex
<
_Quad
> 
lhs
 = *
this
;

187  
	`__kmp_lhs_div_rhs
(
lhs
, 
rhs
);

189 
	}
};

190 
__kmp_cm¶x128_t
 
	tkmp_cm¶x128
;

193 #ifdeà
_DEBUG_TEMPORARILY_UNSET_


194 #undeà
_DEBUG_TEMPORARILY_UNSET_


196 
	#_DEBUG
 1

	)

201 
	t_Com¶ex
 
	tkmp_cm¶x32
;

202 
	t_Com¶ex
 
	tkmp_cm¶x64
;

203 
	t_Com¶ex
 
	tkmp_cm¶x80
;

204 #ià
KMP_HAVE_QUAD


205 
_Quad
 
	t_Com¶ex
 
	tkmp_cm¶x128
;

213 #ià
KMP_ARCH_X86
 && 
KMP_HAVE_QUAD


217 #´agm¨
·ck
(
push
, 4)

219 
	$KMP_DO_ALIGN
(4è
Quad_a4_t
 {

220 
_Quad
 
q
;

222 
	`Quad_a4_t
(è: 
	`q
() {}

223 
	`Quad_a4_t
(cÚ¡ 
_Quad
 &
cq
è: 
	`q
(cq) {}

225 
Quad_a4_t
 
İ”©Ü
+(cÚ¡ Quad_a4_ˆ&
b
) {

226 
_Quad
 
lhs
 = (*
this
).
q
;

227 
_Quad
 
rhs
 = 
b
.
q
;

228  (
Quad_a4_t
)(
lhs
 + 
rhs
);

231 
Quad_a4_t
 
İ”©Ü
-(cÚ¡ Quad_a4_ˆ&
b
) {

232 
_Quad
 
lhs
 = (*
this
).
q
;

233 
_Quad
 
rhs
 = 
b
.
q
;

234  (
Quad_a4_t
)(
lhs
 - 
rhs
);

236 
Quad_a4_t
 
İ”©Ü
*(cÚ¡ Quad_a4_ˆ&
b
) {

237 
_Quad
 
lhs
 = (*
this
).
q
;

238 
_Quad
 
rhs
 = 
b
.
q
;

239  (
Quad_a4_t
)(
lhs
 * 
rhs
);

242 
Quad_a4_t
 
İ”©Ü
/(cÚ¡ Quad_a4_ˆ&
b
) {

243 
_Quad
 
lhs
 = (*
this
).
q
;

244 
_Quad
 
rhs
 = 
b
.
q
;

245  (
Quad_a4_t
)(
lhs
 / 
rhs
);

247 
	}
};

249 
	$KMP_DO_ALIGN
(4è
kmp_cm¶x128_a4_t
 {

250 
kmp_cm¶x128
 
q
;

252 
	`kmp_cm¶x128_a4_t
(è: 
	`q
() {}

254 
	`kmp_cm¶x128_a4_t
(cÚ¡ 
kmp_cm¶x128
 &
c128
è: 
	`q
(c128) {}

256 
kmp_cm¶x128_a4_t
 
İ”©Ü
+(cÚ¡ kmp_cm¶x128_a4_ˆ&
b
) {

257 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

258 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

259  (
kmp_cm¶x128_a4_t
)(
lhs
 + 
rhs
);

261 
kmp_cm¶x128_a4_t
 
İ”©Ü
-(cÚ¡ kmp_cm¶x128_a4_ˆ&
b
) {

262 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

263 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

264  (
kmp_cm¶x128_a4_t
)(
lhs
 - 
rhs
);

266 
kmp_cm¶x128_a4_t
 
İ”©Ü
*(cÚ¡ kmp_cm¶x128_a4_ˆ&
b
) {

267 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

268 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

269  (
kmp_cm¶x128_a4_t
)(
lhs
 * 
rhs
);

272 
kmp_cm¶x128_a4_t
 
İ”©Ü
/(cÚ¡ kmp_cm¶x128_a4_ˆ&
b
) {

273 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

274 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

275  (
kmp_cm¶x128_a4_t
)(
lhs
 / 
rhs
);

277 
	}
};

279 #´agm¨
·ck
(
pİ
)

282 
	$KMP_DO_ALIGN
(16è
Quad_a16_t
 {

283 
_Quad
 
q
;

285 
	`Quad_a16_t
(è: 
	`q
() {}

286 
	`Quad_a16_t
(cÚ¡ 
_Quad
 &
cq
è: 
	`q
(cq) {}

288 
Quad_a16_t
 
İ”©Ü
+(cÚ¡ Quad_a16_ˆ&
b
) {

289 
_Quad
 
lhs
 = (*
this
).
q
;

290 
_Quad
 
rhs
 = 
b
.
q
;

291  (
Quad_a16_t
)(
lhs
 + 
rhs
);

294 
Quad_a16_t
 
İ”©Ü
-(cÚ¡ Quad_a16_ˆ&
b
) {

295 
_Quad
 
lhs
 = (*
this
).
q
;

296 
_Quad
 
rhs
 = 
b
.
q
;

297  (
Quad_a16_t
)(
lhs
 - 
rhs
);

299 
Quad_a16_t
 
İ”©Ü
*(cÚ¡ Quad_a16_ˆ&
b
) {

300 
_Quad
 
lhs
 = (*
this
).
q
;

301 
_Quad
 
rhs
 = 
b
.
q
;

302  (
Quad_a16_t
)(
lhs
 * 
rhs
);

305 
Quad_a16_t
 
İ”©Ü
/(cÚ¡ Quad_a16_ˆ&
b
) {

306 
_Quad
 
lhs
 = (*
this
).
q
;

307 
_Quad
 
rhs
 = 
b
.
q
;

308  (
Quad_a16_t
)(
lhs
 / 
rhs
);

310 
	}
};

312 
	$KMP_DO_ALIGN
(16è
kmp_cm¶x128_a16_t
 {

313 
kmp_cm¶x128
 
q
;

315 
	`kmp_cm¶x128_a16_t
(è: 
	`q
() {}

317 
	`kmp_cm¶x128_a16_t
(cÚ¡ 
kmp_cm¶x128
 &
c128
è: 
	`q
(c128) {}

319 
kmp_cm¶x128_a16_t
 
İ”©Ü
+(cÚ¡ kmp_cm¶x128_a16_ˆ&
b
) {

320 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

321 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

322  (
kmp_cm¶x128_a16_t
)(
lhs
 + 
rhs
);

324 
kmp_cm¶x128_a16_t
 
İ”©Ü
-(cÚ¡ kmp_cm¶x128_a16_ˆ&
b
) {

325 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

326 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

327  (
kmp_cm¶x128_a16_t
)(
lhs
 - 
rhs
);

329 
kmp_cm¶x128_a16_t
 
İ”©Ü
*(cÚ¡ kmp_cm¶x128_a16_ˆ&
b
) {

330 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

331 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

332  (
kmp_cm¶x128_a16_t
)(
lhs
 * 
rhs
);

335 
kmp_cm¶x128_a16_t
 
İ”©Ü
/(cÚ¡ kmp_cm¶x128_a16_ˆ&
b
) {

336 
kmp_cm¶x128
 
lhs
 = (*
this
).
q
;

337 
kmp_cm¶x128
 
rhs
 = 
b
.
q
;

338  (
kmp_cm¶x128_a16_t
)(
lhs
 / 
rhs
);

340 
	}
};

344 #ià(
KMP_ARCH_X86
)

345 
	#QUAD_LEGACY
 
Quad_a4_t


	)

346 
	#CPLX128_LEG
 
kmp_cm¶x128_a4_t


	)

348 
	#QUAD_LEGACY
 
_Quad


	)

349 
	#CPLX128_LEG
 
kmp_cm¶x128


	)

352 #ifdeà
__ılu¥lus


356 
__kmp_©omic_mode
;

359 
kmp_queušg_lock_t
 
	tkmp_©omic_lock_t
;

361 
šlše
 
__kmp_acquœe_©omic_lock
(
kmp_©omic_lock_t
 *
lck
,

362 
kmp_št32
 
gtid
) {

363 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


364 ià(
	gom±_’abËd
.
	gom±_ÿÎback_mu‹x_acquœe
) {

365 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

366 
	gom±_mu‹x_©omic
, 0, 
	gkmp_mu‹x_im¶_queušg
, (
	gom±_wa™_id_t
)(
	gušŒ_t
)
	glck
,

367 
OMPT_GET_RETURN_ADDRESS
(0));

371 
__kmp_acquœe_queušg_lock
(
lck
, 
gtid
);

373 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


374 ià(
	gom±_’abËd
.
	gom±_ÿÎback_mu‹x_acquœed
) {

375 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

376 
	gom±_mu‹x_©omic
, (
	gom±_wa™_id_t
)(
	gušŒ_t
)
	glck
, 
OMPT_GET_RETURN_ADDRESS
(0));

381 
šlše
 
__kmp_‹¡_©omic_lock
(
kmp_©omic_lock_t
 *
lck
,

382 
kmp_št32
 
gtid
) {

383  
__kmp_‹¡_queušg_lock
(
lck
, 
gtid
);

386 
šlše
 
__kmp_»Ëa£_©omic_lock
(
kmp_©omic_lock_t
 *
lck
,

387 
kmp_št32
 
gtid
) {

388 
__kmp_»Ëa£_queušg_lock
(
lck
, 
gtid
);

389 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


390 ià(
	gom±_’abËd
.
	gom±_ÿÎback_mu‹x_»Ëa£d
) {

391 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

392 
	gom±_mu‹x_©omic
, (
	gom±_wa™_id_t
)(
	gušŒ_t
)
	glck
, 
OMPT_GET_RETURN_ADDRESS
(0));

397 
šlše
 
__kmp_š™_©omic_lock
(
kmp_©omic_lock_t
 *
lck
) {

398 
__kmp_š™_queušg_lock
(
lck
);

401 
šlše
 
__kmp_de¡roy_©omic_lock
(
kmp_©omic_lock_t
 *
lck
) {

402 
__kmp_de¡roy_queušg_lock
(
lck
);

406 
kmp_©omic_lock_t
 
__kmp_©omic_lock
;

408 
kmp_©omic_lock_t
 
__kmp_©omic_lock_1i
;

411 
kmp_©omic_lock_t
 
__kmp_©omic_lock_2i
;

414 
kmp_©omic_lock_t
 
__kmp_©omic_lock_4i
;

417 
kmp_©omic_lock_t
 
__kmp_©omic_lock_4r
;

420 
kmp_©omic_lock_t
 
__kmp_©omic_lock_8i
;

423 
kmp_©omic_lock_t
 
__kmp_©omic_lock_8r
;

426 
kmp_©omic_lock_t


427 
__kmp_©omic_lock_8c
;

429 
kmp_©omic_lock_t


430 
__kmp_©omic_lock_10r
;

432 
kmp_©omic_lock_t
 
__kmp_©omic_lock_16r
;

435 
kmp_©omic_lock_t
 
__kmp_©omic_lock_16c
;

438 
kmp_©omic_lock_t


439 
__kmp_©omic_lock_20c
;

441 
kmp_©omic_lock_t
 
__kmp_©omic_lock_32c
;

448 
__kmpc_©omic_fixed1_add
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

449 
__kmpc_©omic_fixed1_ªdb
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

450 
__kmpc_©omic_fixed1_div
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

451 
__kmpc_©omic_fixed1u_div
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

452 
rhs
);

453 
__kmpc_©omic_fixed1_mul
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

454 
__kmpc_©omic_fixed1_Üb
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

455 
__kmpc_©omic_fixed1_shl
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

456 
__kmpc_©omic_fixed1_shr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

457 
__kmpc_©omic_fixed1u_shr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

458 
rhs
);

459 
__kmpc_©omic_fixed1_sub
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

460 
__kmpc_©omic_fixed1_xÜ
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

462 
__kmpc_©omic_fixed2_add
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

463 
__kmpc_©omic_fixed2_ªdb
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

464 
rhs
);

465 
__kmpc_©omic_fixed2_div
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

466 
__kmpc_©omic_fixed2u_div
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

467 
rhs
);

468 
__kmpc_©omic_fixed2_mul
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

469 
__kmpc_©omic_fixed2_Üb
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

470 
__kmpc_©omic_fixed2_shl
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

471 
__kmpc_©omic_fixed2_shr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

472 
__kmpc_©omic_fixed2u_shr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

473 
rhs
);

474 
__kmpc_©omic_fixed2_sub
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

475 
__kmpc_©omic_fixed2_xÜ
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

477 
__kmpc_©omic_fixed4_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

478 
kmp_št32
 
rhs
);

479 
__kmpc_©omic_fixed4_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

480 
kmp_št32
 
rhs
);

482 
__kmpc_©omic_æßt4_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

483 
kmp_»®32
 
rhs
);

484 
__kmpc_©omic_æßt4_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

485 
kmp_»®32
 
rhs
);

487 
__kmpc_©omic_fixed8_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

488 
kmp_št64
 
rhs
);

489 
__kmpc_©omic_fixed8_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

490 
kmp_št64
 
rhs
);

492 
__kmpc_©omic_æßt8_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

493 
kmp_»®64
 
rhs
);

494 
__kmpc_©omic_æßt8_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

495 
kmp_»®64
 
rhs
);

497 
__kmpc_©omic_fixed4_ªdb
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

498 
kmp_št32
 
rhs
);

499 
__kmpc_©omic_fixed4_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

500 
kmp_št32
 
rhs
);

501 
__kmpc_©omic_fixed4u_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

502 
kmp_ušt32
 
rhs
);

503 
__kmpc_©omic_fixed4_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

504 
kmp_št32
 
rhs
);

505 
__kmpc_©omic_fixed4_Üb
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

506 
kmp_št32
 
rhs
);

507 
__kmpc_©omic_fixed4_shl
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

508 
kmp_št32
 
rhs
);

509 
__kmpc_©omic_fixed4_shr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

510 
kmp_št32
 
rhs
);

511 
__kmpc_©omic_fixed4u_shr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

512 
kmp_ušt32
 
rhs
);

513 
__kmpc_©omic_fixed4_xÜ
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

514 
kmp_št32
 
rhs
);

516 
__kmpc_©omic_fixed8_ªdb
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

517 
kmp_št64
 
rhs
);

518 
__kmpc_©omic_fixed8_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

519 
kmp_št64
 
rhs
);

520 
__kmpc_©omic_fixed8u_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

521 
kmp_ušt64
 
rhs
);

522 
__kmpc_©omic_fixed8_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

523 
kmp_št64
 
rhs
);

524 
__kmpc_©omic_fixed8_Üb
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

525 
kmp_št64
 
rhs
);

526 
__kmpc_©omic_fixed8_shl
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

527 
kmp_št64
 
rhs
);

528 
__kmpc_©omic_fixed8_shr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

529 
kmp_št64
 
rhs
);

530 
__kmpc_©omic_fixed8u_shr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

531 
kmp_ušt64
 
rhs
);

532 
__kmpc_©omic_fixed8_xÜ
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

533 
kmp_št64
 
rhs
);

535 
__kmpc_©omic_æßt4_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

536 
kmp_»®32
 
rhs
);

537 
__kmpc_©omic_æßt4_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

538 
kmp_»®32
 
rhs
);

540 
__kmpc_©omic_æßt8_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

541 
kmp_»®64
 
rhs
);

542 
__kmpc_©omic_æßt8_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

543 
kmp_»®64
 
rhs
);

545 
__kmpc_©omic_fixed1_ªdl
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

546 
__kmpc_©omic_fixed1_Ül
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

547 
__kmpc_©omic_fixed2_ªdl
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

548 
rhs
);

549 
__kmpc_©omic_fixed2_Ül
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

550 
__kmpc_©omic_fixed4_ªdl
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

551 
kmp_št32
 
rhs
);

552 
__kmpc_©omic_fixed4_Ül
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

553 
kmp_št32
 
rhs
);

554 
__kmpc_©omic_fixed8_ªdl
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

555 
kmp_št64
 
rhs
);

556 
__kmpc_©omic_fixed8_Ül
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

557 
kmp_št64
 
rhs
);

559 
__kmpc_©omic_fixed1_max
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

560 
__kmpc_©omic_fixed1_mš
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

561 
__kmpc_©omic_fixed2_max
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

562 
__kmpc_©omic_fixed2_mš
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

563 
__kmpc_©omic_fixed4_max
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

564 
kmp_št32
 
rhs
);

565 
__kmpc_©omic_fixed4_mš
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

566 
kmp_št32
 
rhs
);

567 
__kmpc_©omic_fixed8_max
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

568 
kmp_št64
 
rhs
);

569 
__kmpc_©omic_fixed8_mš
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

570 
kmp_št64
 
rhs
);

571 
__kmpc_©omic_æßt4_max
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

572 
kmp_»®32
 
rhs
);

573 
__kmpc_©omic_æßt4_mš
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

574 
kmp_»®32
 
rhs
);

575 
__kmpc_©omic_æßt8_max
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

576 
kmp_»®64
 
rhs
);

577 
__kmpc_©omic_æßt8_mš
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

578 
kmp_»®64
 
rhs
);

579 #ià
KMP_HAVE_QUAD


580 
__kmpc_©omic_æßt16_max
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

581 
QUAD_LEGACY
 
rhs
);

582 
__kmpc_©omic_æßt16_mš
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

583 
QUAD_LEGACY
 
rhs
);

584 #ià(
KMP_ARCH_X86
)

587 
__kmpc_©omic_æßt16_max_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

588 
Quad_a16_t
 
rhs
);

589 
__kmpc_©omic_æßt16_mš_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

590 
Quad_a16_t
 
rhs
);

594 
__kmpc_©omic_fixed1_Ãqv
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

595 
__kmpc_©omic_fixed2_Ãqv
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

596 
rhs
);

597 
__kmpc_©omic_fixed4_Ãqv
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

598 
kmp_št32
 
rhs
);

599 
__kmpc_©omic_fixed8_Ãqv
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

600 
kmp_št64
 
rhs
);

602 
__kmpc_©omic_fixed1_eqv
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

603 
__kmpc_©omic_fixed2_eqv
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

604 
__kmpc_©omic_fixed4_eqv
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

605 
kmp_št32
 
rhs
);

606 
__kmpc_©omic_fixed8_eqv
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

607 
kmp_št64
 
rhs
);

609 
__kmpc_©omic_æßt10_add
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

610 
rhs
);

611 
__kmpc_©omic_æßt10_sub
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

612 
rhs
);

613 
__kmpc_©omic_æßt10_mul
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

614 
rhs
);

615 
__kmpc_©omic_æßt10_div
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

616 
rhs
);

618 #ià
KMP_HAVE_QUAD


619 
__kmpc_©omic_æßt16_add
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

620 
QUAD_LEGACY
 
rhs
);

621 
__kmpc_©omic_æßt16_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

622 
QUAD_LEGACY
 
rhs
);

623 
__kmpc_©omic_æßt16_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

624 
QUAD_LEGACY
 
rhs
);

625 
__kmpc_©omic_æßt16_div
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

626 
QUAD_LEGACY
 
rhs
);

627 #ià(
KMP_ARCH_X86
)

629 
__kmpc_©omic_æßt16_add_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

630 
Quad_a16_t
 
rhs
);

631 
__kmpc_©omic_æßt16_sub_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

632 
Quad_a16_t
 
rhs
);

633 
__kmpc_©omic_æßt16_mul_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

634 
Quad_a16_t
 
rhs
);

635 
__kmpc_©omic_æßt16_div_a16
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

636 
Quad_a16_t
 
rhs
);

640 
__kmpc_©omic_cm¶x4_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

641 
kmp_cm¶x32
 
rhs
);

642 
__kmpc_©omic_cm¶x4_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

643 
kmp_cm¶x32
 
rhs
);

644 
__kmpc_©omic_cm¶x4_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

645 
kmp_cm¶x32
 
rhs
);

646 
__kmpc_©omic_cm¶x4_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

647 
kmp_cm¶x32
 
rhs
);

648 
__kmpc_©omic_cm¶x8_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

649 
kmp_cm¶x64
 
rhs
);

650 
__kmpc_©omic_cm¶x8_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

651 
kmp_cm¶x64
 
rhs
);

652 
__kmpc_©omic_cm¶x8_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

653 
kmp_cm¶x64
 
rhs
);

654 
__kmpc_©omic_cm¶x8_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

655 
kmp_cm¶x64
 
rhs
);

656 
__kmpc_©omic_cm¶x10_add
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

657 
kmp_cm¶x80
 
rhs
);

658 
__kmpc_©omic_cm¶x10_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

659 
kmp_cm¶x80
 
rhs
);

660 
__kmpc_©omic_cm¶x10_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

661 
kmp_cm¶x80
 
rhs
);

662 
__kmpc_©omic_cm¶x10_div
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

663 
kmp_cm¶x80
 
rhs
);

664 #ià
KMP_HAVE_QUAD


665 
__kmpc_©omic_cm¶x16_add
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

666 
CPLX128_LEG
 
rhs
);

667 
__kmpc_©omic_cm¶x16_sub
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

668 
CPLX128_LEG
 
rhs
);

669 
__kmpc_©omic_cm¶x16_mul
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

670 
CPLX128_LEG
 
rhs
);

671 
__kmpc_©omic_cm¶x16_div
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

672 
CPLX128_LEG
 
rhs
);

673 #ià(
KMP_ARCH_X86
)

675 
__kmpc_©omic_cm¶x16_add_a16
(
id’t_t
 *
id_»f
, 
gtid
,

676 
kmp_cm¶x128_a16_t
 *
lhs
,

677 
kmp_cm¶x128_a16_t
 
rhs
);

678 
__kmpc_©omic_cm¶x16_sub_a16
(
id’t_t
 *
id_»f
, 
gtid
,

679 
kmp_cm¶x128_a16_t
 *
lhs
,

680 
kmp_cm¶x128_a16_t
 
rhs
);

681 
__kmpc_©omic_cm¶x16_mul_a16
(
id’t_t
 *
id_»f
, 
gtid
,

682 
kmp_cm¶x128_a16_t
 *
lhs
,

683 
kmp_cm¶x128_a16_t
 
rhs
);

684 
__kmpc_©omic_cm¶x16_div_a16
(
id’t_t
 *
id_»f
, 
gtid
,

685 
kmp_cm¶x128_a16_t
 *
lhs
,

686 
kmp_cm¶x128_a16_t
 
rhs
);

692 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


694 
__kmpc_©omic_fixed1_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

695 
rhs
);

696 
__kmpc_©omic_fixed1_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

697 
rhs
);

698 
__kmpc_©omic_fixed1u_div_»v
(
id’t_t
 *
id_»f
, 
gtid
,

699 *
lhs
, 
rhs
);

700 
__kmpc_©omic_fixed1_shl_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

701 
rhs
);

702 
__kmpc_©omic_fixed1_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

703 
rhs
);

704 
__kmpc_©omic_fixed1u_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
,

705 *
lhs
, 
rhs
);

706 
__kmpc_©omic_fixed2_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

707 
rhs
);

708 
__kmpc_©omic_fixed2_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

709 
rhs
);

710 
__kmpc_©omic_fixed2u_div_»v
(
id’t_t
 *
id_»f
, 
gtid
,

711 *
lhs
, 
rhs
);

712 
__kmpc_©omic_fixed2_shl_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

713 
rhs
);

714 
__kmpc_©omic_fixed2_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

715 
rhs
);

716 
__kmpc_©omic_fixed2u_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
,

717 *
lhs
, 
rhs
);

718 
__kmpc_©omic_fixed4_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

719 
kmp_št32
 
rhs
);

720 
__kmpc_©omic_fixed4_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

721 
kmp_št32
 
rhs
);

722 
__kmpc_©omic_fixed4u_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

723 
kmp_ušt32
 
rhs
);

724 
__kmpc_©omic_fixed4_shl_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

725 
kmp_št32
 
rhs
);

726 
__kmpc_©omic_fixed4_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

727 
kmp_št32
 
rhs
);

728 
__kmpc_©omic_fixed4u_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

729 
kmp_ušt32
 
rhs
);

730 
__kmpc_©omic_fixed8_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

731 
kmp_št64
 
rhs
);

732 
__kmpc_©omic_fixed8_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

733 
kmp_št64
 
rhs
);

734 
__kmpc_©omic_fixed8u_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

735 
kmp_ušt64
 
rhs
);

736 
__kmpc_©omic_fixed8_shl_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

737 
kmp_št64
 
rhs
);

738 
__kmpc_©omic_fixed8_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

739 
kmp_št64
 
rhs
);

740 
__kmpc_©omic_fixed8u_shr_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

741 
kmp_ušt64
 
rhs
);

742 
__kmpc_©omic_æßt4_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

743 
rhs
);

744 
__kmpc_©omic_æßt4_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

745 
rhs
);

746 
__kmpc_©omic_æßt8_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

747 
rhs
);

748 
__kmpc_©omic_æßt8_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

749 
rhs
);

750 
__kmpc_©omic_æßt10_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

751 
rhs
);

752 
__kmpc_©omic_æßt10_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

753 
rhs
);

754 #ià
KMP_HAVE_QUAD


755 
__kmpc_©omic_æßt16_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

756 
QUAD_LEGACY
 
rhs
);

757 
__kmpc_©omic_æßt16_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

758 
QUAD_LEGACY
 
rhs
);

760 
__kmpc_©omic_cm¶x4_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

761 
kmp_cm¶x32
 
rhs
);

762 
__kmpc_©omic_cm¶x4_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

763 
kmp_cm¶x32
 
rhs
);

764 
__kmpc_©omic_cm¶x8_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

765 
kmp_cm¶x64
 
rhs
);

766 
__kmpc_©omic_cm¶x8_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

767 
kmp_cm¶x64
 
rhs
);

768 
__kmpc_©omic_cm¶x10_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

769 
kmp_cm¶x80
 
rhs
);

770 
__kmpc_©omic_cm¶x10_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

771 
kmp_cm¶x80
 
rhs
);

772 #ià
KMP_HAVE_QUAD


773 
__kmpc_©omic_cm¶x16_sub_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

774 
CPLX128_LEG
 
rhs
);

775 
__kmpc_©omic_cm¶x16_div_»v
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

776 
CPLX128_LEG
 
rhs
);

777 #ià(
KMP_ARCH_X86
)

779 
__kmpc_©omic_æßt16_sub_a16_»v
(
id’t_t
 *
id_»f
, 
gtid
,

780 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
);

781 
__kmpc_©omic_æßt16_div_a16_»v
(
id’t_t
 *
id_»f
, 
gtid
,

782 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
);

783 
__kmpc_©omic_cm¶x16_sub_a16_»v
(
id’t_t
 *
id_»f
, 
gtid
,

784 
kmp_cm¶x128_a16_t
 *
lhs
,

785 
kmp_cm¶x128_a16_t
 
rhs
);

786 
__kmpc_©omic_cm¶x16_div_a16_»v
(
id’t_t
 *
id_»f
, 
gtid
,

787 
kmp_cm¶x128_a16_t
 *
lhs
,

788 
kmp_cm¶x128_a16_t
 
rhs
);

797 
__kmpc_©omic_fixed1_mul_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

798 
kmp_»®64
 
rhs
);

799 
__kmpc_©omic_fixed1_div_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

800 
kmp_»®64
 
rhs
);

801 
__kmpc_©omic_fixed2_mul_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

802 
kmp_»®64
 
rhs
);

803 
__kmpc_©omic_fixed2_div_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

804 
kmp_»®64
 
rhs
);

805 
__kmpc_©omic_fixed4_mul_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

806 
kmp_»®64
 
rhs
);

807 
__kmpc_©omic_fixed4_div_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

808 
kmp_»®64
 
rhs
);

809 
__kmpc_©omic_fixed8_mul_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

810 
kmp_»®64
 
rhs
);

811 
__kmpc_©omic_fixed8_div_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

812 
kmp_»®64
 
rhs
);

813 
__kmpc_©omic_æßt4_add_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

814 
kmp_»®64
 
rhs
);

815 
__kmpc_©omic_æßt4_sub_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

816 
kmp_»®64
 
rhs
);

817 
__kmpc_©omic_æßt4_mul_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

818 
kmp_»®64
 
rhs
);

819 
__kmpc_©omic_æßt4_div_æßt8
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

820 
kmp_»®64
 
rhs
);

824 #ià
KMP_HAVE_QUAD


825 
__kmpc_©omic_fixed1_add_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

826 
_Quad
 
rhs
);

827 
__kmpc_©omic_fixed1u_add_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

828 
_Quad
 
rhs
);

829 
__kmpc_©omic_fixed1_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

830 
_Quad
 
rhs
);

831 
__kmpc_©omic_fixed1u_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

832 
_Quad
 
rhs
);

833 
__kmpc_©omic_fixed1_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

834 
_Quad
 
rhs
);

835 
__kmpc_©omic_fixed1u_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

836 
_Quad
 
rhs
);

837 
__kmpc_©omic_fixed1_div_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

838 
_Quad
 
rhs
);

839 
__kmpc_©omic_fixed1u_div_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

840 
_Quad
 
rhs
);

842 
__kmpc_©omic_fixed2_add_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

843 
_Quad
 
rhs
);

844 
__kmpc_©omic_fixed2u_add_å
(
id’t_t
 *
id_»f
, 
gtid
,

845 *
lhs
, 
_Quad
 
rhs
);

846 
__kmpc_©omic_fixed2_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

847 
_Quad
 
rhs
);

848 
__kmpc_©omic_fixed2u_sub_å
(
id’t_t
 *
id_»f
, 
gtid
,

849 *
lhs
, 
_Quad
 
rhs
);

850 
__kmpc_©omic_fixed2_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

851 
_Quad
 
rhs
);

852 
__kmpc_©omic_fixed2u_mul_å
(
id’t_t
 *
id_»f
, 
gtid
,

853 *
lhs
, 
_Quad
 
rhs
);

854 
__kmpc_©omic_fixed2_div_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

855 
_Quad
 
rhs
);

856 
__kmpc_©omic_fixed2u_div_å
(
id’t_t
 *
id_»f
, 
gtid
,

857 *
lhs
, 
_Quad
 
rhs
);

859 
__kmpc_©omic_fixed4_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

860 
_Quad
 
rhs
);

861 
__kmpc_©omic_fixed4u_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

862 
_Quad
 
rhs
);

863 
__kmpc_©omic_fixed4_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

864 
_Quad
 
rhs
);

865 
__kmpc_©omic_fixed4u_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

866 
_Quad
 
rhs
);

867 
__kmpc_©omic_fixed4_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

868 
_Quad
 
rhs
);

869 
__kmpc_©omic_fixed4u_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

870 
_Quad
 
rhs
);

871 
__kmpc_©omic_fixed4_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

872 
_Quad
 
rhs
);

873 
__kmpc_©omic_fixed4u_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt32
 *
lhs
,

874 
_Quad
 
rhs
);

876 
__kmpc_©omic_fixed8_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

877 
_Quad
 
rhs
);

878 
__kmpc_©omic_fixed8u_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

879 
_Quad
 
rhs
);

880 
__kmpc_©omic_fixed8_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

881 
_Quad
 
rhs
);

882 
__kmpc_©omic_fixed8u_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

883 
_Quad
 
rhs
);

884 
__kmpc_©omic_fixed8_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

885 
_Quad
 
rhs
);

886 
__kmpc_©omic_fixed8u_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

887 
_Quad
 
rhs
);

888 
__kmpc_©omic_fixed8_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

889 
_Quad
 
rhs
);

890 
__kmpc_©omic_fixed8u_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_ušt64
 *
lhs
,

891 
_Quad
 
rhs
);

893 
__kmpc_©omic_æßt4_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

894 
_Quad
 
rhs
);

895 
__kmpc_©omic_æßt4_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

896 
_Quad
 
rhs
);

897 
__kmpc_©omic_æßt4_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

898 
_Quad
 
rhs
);

899 
__kmpc_©omic_æßt4_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

900 
_Quad
 
rhs
);

902 
__kmpc_©omic_æßt8_add_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

903 
_Quad
 
rhs
);

904 
__kmpc_©omic_æßt8_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

905 
_Quad
 
rhs
);

906 
__kmpc_©omic_æßt8_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

907 
_Quad
 
rhs
);

908 
__kmpc_©omic_æßt8_div_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

909 
_Quad
 
rhs
);

911 
__kmpc_©omic_æßt10_add_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

912 
_Quad
 
rhs
);

913 
__kmpc_©omic_æßt10_sub_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

914 
_Quad
 
rhs
);

915 
__kmpc_©omic_æßt10_mul_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

916 
_Quad
 
rhs
);

917 
__kmpc_©omic_æßt10_div_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

918 
_Quad
 
rhs
);

921 
__kmpc_©omic_fixed1_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

922 
_Quad
 
rhs
);

923 
__kmpc_©omic_fixed1u_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

924 *
lhs
, 
_Quad
 
rhs
);

925 
__kmpc_©omic_fixed1_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

926 
_Quad
 
rhs
);

927 
__kmpc_©omic_fixed1u_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

928 *
lhs
, 
_Quad
 
rhs
);

929 
__kmpc_©omic_fixed2_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

930 
_Quad
 
rhs
);

931 
__kmpc_©omic_fixed2u_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

932 *
lhs
, 
_Quad
 
rhs
);

933 
__kmpc_©omic_fixed2_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

934 
_Quad
 
rhs
);

935 
__kmpc_©omic_fixed2u_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

936 *
lhs
, 
_Quad
 
rhs
);

937 
__kmpc_©omic_fixed4_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

938 
_Quad
 
rhs
);

939 
__kmpc_©omic_fixed4u_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

940 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
);

941 
__kmpc_©omic_fixed4_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

942 
_Quad
 
rhs
);

943 
__kmpc_©omic_fixed4u_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

944 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
);

945 
__kmpc_©omic_fixed8_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

946 
_Quad
 
rhs
);

947 
__kmpc_©omic_fixed8u_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

948 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
);

949 
__kmpc_©omic_fixed8_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

950 
_Quad
 
rhs
);

951 
__kmpc_©omic_fixed8u_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

952 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
);

953 
__kmpc_©omic_æßt4_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

954 
_Quad
 
rhs
);

955 
__kmpc_©omic_æßt4_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

956 
_Quad
 
rhs
);

957 
__kmpc_©omic_æßt8_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

958 
_Quad
 
rhs
);

959 
__kmpc_©omic_æßt8_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

960 
_Quad
 
rhs
);

961 
__kmpc_©omic_æßt10_sub_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

962 *
lhs
, 
_Quad
 
rhs
);

963 
__kmpc_©omic_æßt10_div_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

964 *
lhs
, 
_Quad
 
rhs
);

969 
__kmpc_©omic_cm¶x4_add_cm¶x8
(
id’t_t
 *
id_»f
, 
gtid
,

970 
kmp_cm¶x32
 *
lhs
, 
kmp_cm¶x64
 
rhs
);

971 
__kmpc_©omic_cm¶x4_sub_cm¶x8
(
id’t_t
 *
id_»f
, 
gtid
,

972 
kmp_cm¶x32
 *
lhs
, 
kmp_cm¶x64
 
rhs
);

973 
__kmpc_©omic_cm¶x4_mul_cm¶x8
(
id’t_t
 *
id_»f
, 
gtid
,

974 
kmp_cm¶x32
 *
lhs
, 
kmp_cm¶x64
 
rhs
);

975 
__kmpc_©omic_cm¶x4_div_cm¶x8
(
id’t_t
 *
id_»f
, 
gtid
,

976 
kmp_cm¶x32
 *
lhs
, 
kmp_cm¶x64
 
rhs
);

979 
__kmpc_©omic_1
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

980 (*
f
)(*, *, *));

981 
__kmpc_©omic_2
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

982 (*
f
)(*, *, *));

983 
__kmpc_©omic_4
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

984 (*
f
)(*, *, *));

985 
__kmpc_©omic_8
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

986 (*
f
)(*, *, *));

987 
__kmpc_©omic_10
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

988 (*
f
)(*, *, *));

989 
__kmpc_©omic_16
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

990 (*
f
)(*, *, *));

991 
__kmpc_©omic_20
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

992 (*
f
)(*, *, *));

993 
__kmpc_©omic_32
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, *
rhs
,

994 (*
f
)(*, *, *));

997 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1000 
__kmpc_©omic_fixed1_rd
(
id’t_t
 *
id_»f
, 
gtid
, *
loc
);

1001 
__kmpc_©omic_fixed2_rd
(
id’t_t
 *
id_»f
, 
gtid
, *
loc
);

1002 
kmp_št32
 
__kmpc_©omic_fixed4_rd
(
id’t_t
 *
id_»f
, 
gtid
, kmp_št32 *
loc
);

1003 
kmp_št64
 
__kmpc_©omic_fixed8_rd
(
id’t_t
 *
id_»f
, 
gtid
, kmp_št64 *
loc
);

1004 
kmp_»®32
 
__kmpc_©omic_æßt4_rd
(
id’t_t
 *
id_»f
, 
gtid
, kmp_»®32 *
loc
);

1005 
kmp_»®64
 
__kmpc_©omic_æßt8_rd
(
id’t_t
 *
id_»f
, 
gtid
, kmp_»®64 *
loc
);

1006 
__kmpc_©omic_æßt10_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1007 *
loc
);

1008 #ià
KMP_HAVE_QUAD


1009 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1010 
QUAD_LEGACY
 *
loc
);

1014 #ià(
KMP_OS_WINDOWS
)

1015 
__kmpc_©omic_cm¶x4_rd
(
kmp_cm¶x32
 *
out
, 
id’t_t
 *
id_»f
, 
gtid
,

1016 
kmp_cm¶x32
 *
loc
);

1018 
kmp_cm¶x32
 
__kmpc_©omic_cm¶x4_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1019 
kmp_cm¶x32
 *
loc
);

1021 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1022 
kmp_cm¶x64
 *
loc
);

1023 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1024 
kmp_cm¶x80
 *
loc
);

1025 #ià
KMP_HAVE_QUAD


1026 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1027 
CPLX128_LEG
 *
loc
);

1028 #ià(
KMP_ARCH_X86
)

1030 
Quad_a16_t
 
__kmpc_©omic_æßt16_a16_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1031 
Quad_a16_t
 *
loc
);

1032 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_a16_rd
(
id’t_t
 *
id_»f
, 
gtid
,

1033 
kmp_cm¶x128_a16_t
 *
loc
);

1038 
__kmpc_©omic_fixed1_wr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

1039 
__kmpc_©omic_fixed2_wr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

1040 
__kmpc_©omic_fixed4_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št32
 *
lhs
,

1041 
kmp_št32
 
rhs
);

1042 
__kmpc_©omic_fixed8_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_št64
 *
lhs
,

1043 
kmp_št64
 
rhs
);

1044 
__kmpc_©omic_æßt4_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®32
 *
lhs
,

1045 
kmp_»®32
 
rhs
);

1046 
__kmpc_©omic_æßt8_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_»®64
 *
lhs
,

1047 
kmp_»®64
 
rhs
);

1048 
__kmpc_©omic_æßt10_wr
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1049 
rhs
);

1050 #ià
KMP_HAVE_QUAD


1051 
__kmpc_©omic_æßt16_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
QUAD_LEGACY
 *
lhs
,

1052 
QUAD_LEGACY
 
rhs
);

1054 
__kmpc_©omic_cm¶x4_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1055 
kmp_cm¶x32
 
rhs
);

1056 
__kmpc_©omic_cm¶x8_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x64
 *
lhs
,

1057 
kmp_cm¶x64
 
rhs
);

1058 
__kmpc_©omic_cm¶x10_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x80
 *
lhs
,

1059 
kmp_cm¶x80
 
rhs
);

1060 #ià
KMP_HAVE_QUAD


1061 
__kmpc_©omic_cm¶x16_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
CPLX128_LEG
 *
lhs
,

1062 
CPLX128_LEG
 
rhs
);

1063 #ià(
KMP_ARCH_X86
)

1065 
__kmpc_©omic_æßt16_a16_wr
(
id’t_t
 *
id_»f
, 
gtid
, 
Quad_a16_t
 *
lhs
,

1066 
Quad_a16_t
 
rhs
);

1067 
__kmpc_©omic_cm¶x16_a16_wr
(
id’t_t
 *
id_»f
, 
gtid
,

1068 
kmp_cm¶x128_a16_t
 *
lhs
,

1069 
kmp_cm¶x128_a16_t
 
rhs
);

1076 
__kmpc_©omic_fixed1_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1077 
rhs
, 
æag
);

1078 
__kmpc_©omic_fixed1_ªdb_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1079 
rhs
, 
æag
);

1080 
__kmpc_©omic_fixed1_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1081 
rhs
, 
æag
);

1082 
__kmpc_©omic_fixed1u_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1083 *
lhs
,

1084 
rhs
, 
æag
);

1085 
__kmpc_©omic_fixed1_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1086 
rhs
, 
æag
);

1087 
__kmpc_©omic_fixed1_Üb_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1088 
rhs
, 
æag
);

1089 
__kmpc_©omic_fixed1_shl_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1090 
rhs
, 
æag
);

1091 
__kmpc_©omic_fixed1_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1092 
rhs
, 
æag
);

1093 
__kmpc_©omic_fixed1u_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1094 *
lhs
,

1095 
rhs
, 
æag
);

1096 
__kmpc_©omic_fixed1_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1097 
rhs
, 
æag
);

1098 
__kmpc_©omic_fixed1_xÜ_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1099 
rhs
, 
æag
);

1101 
__kmpc_©omic_fixed2_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1102 
rhs
, 
æag
);

1103 
__kmpc_©omic_fixed2_ªdb_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1104 
rhs
, 
æag
);

1105 
__kmpc_©omic_fixed2_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1106 
rhs
, 
æag
);

1107 
__kmpc_©omic_fixed2u_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1108 *
lhs
,

1109 
rhs
, 
æag
);

1110 
__kmpc_©omic_fixed2_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1111 
rhs
, 
æag
);

1112 
__kmpc_©omic_fixed2_Üb_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1113 
rhs
, 
æag
);

1114 
__kmpc_©omic_fixed2_shl_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1115 
rhs
, 
æag
);

1116 
__kmpc_©omic_fixed2_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1117 
rhs
, 
æag
);

1118 
__kmpc_©omic_fixed2u_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1119 *
lhs
,

1120 
rhs
, 
æag
);

1121 
__kmpc_©omic_fixed2_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1122 
rhs
, 
æag
);

1123 
__kmpc_©omic_fixed2_xÜ_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1124 
rhs
, 
æag
);

1126 
kmp_št32
 
__kmpc_©omic_fixed4_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1127 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1128 
kmp_št32
 
__kmpc_©omic_fixed4_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1129 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1131 
kmp_»®32
 
__kmpc_©omic_æßt4_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1132 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1133 
æag
);

1134 
kmp_»®32
 
__kmpc_©omic_æßt4_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1135 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1136 
æag
);

1138 
kmp_št64
 
__kmpc_©omic_fixed8_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1139 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1140 
kmp_št64
 
__kmpc_©omic_fixed8_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1141 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1143 
kmp_»®64
 
__kmpc_©omic_æßt8_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1144 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1145 
æag
);

1146 
kmp_»®64
 
__kmpc_©omic_æßt8_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1147 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1148 
æag
);

1150 
kmp_št32
 
__kmpc_©omic_fixed4_ªdb_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1151 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1152 
æag
);

1153 
kmp_št32
 
__kmpc_©omic_fixed4_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1154 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1155 
kmp_ušt32
 
__kmpc_©omic_fixed4u_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1156 
kmp_ušt32
 *
lhs
, kmp_ušt32 
rhs
,

1157 
æag
);

1158 
kmp_št32
 
__kmpc_©omic_fixed4_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1159 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1160 
kmp_št32
 
__kmpc_©omic_fixed4_Üb_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1161 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1162 
kmp_št32
 
__kmpc_©omic_fixed4_shl_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1163 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1164 
kmp_št32
 
__kmpc_©omic_fixed4_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1165 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1166 
kmp_ušt32
 
__kmpc_©omic_fixed4u_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1167 
kmp_ušt32
 *
lhs
, kmp_ušt32 
rhs
,

1168 
æag
);

1169 
kmp_št32
 
__kmpc_©omic_fixed4_xÜ_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1170 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1172 
kmp_št64
 
__kmpc_©omic_fixed8_ªdb_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1173 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1174 
æag
);

1175 
kmp_št64
 
__kmpc_©omic_fixed8_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1176 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1177 
kmp_ušt64
 
__kmpc_©omic_fixed8u_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1178 
kmp_ušt64
 *
lhs
, kmp_ušt64 
rhs
,

1179 
æag
);

1180 
kmp_št64
 
__kmpc_©omic_fixed8_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1181 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1182 
kmp_št64
 
__kmpc_©omic_fixed8_Üb_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1183 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1184 
kmp_št64
 
__kmpc_©omic_fixed8_shl_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1185 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1186 
kmp_št64
 
__kmpc_©omic_fixed8_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1187 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1188 
kmp_ušt64
 
__kmpc_©omic_fixed8u_shr_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1189 
kmp_ušt64
 *
lhs
, kmp_ušt64 
rhs
,

1190 
æag
);

1191 
kmp_št64
 
__kmpc_©omic_fixed8_xÜ_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1192 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1194 
kmp_»®32
 
__kmpc_©omic_æßt4_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1195 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1196 
æag
);

1197 
kmp_»®32
 
__kmpc_©omic_æßt4_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1198 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1199 
æag
);

1201 
kmp_»®64
 
__kmpc_©omic_æßt8_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1202 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1203 
æag
);

1204 
kmp_»®64
 
__kmpc_©omic_æßt8_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1205 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1206 
æag
);

1208 
__kmpc_©omic_fixed1_ªdl_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1209 
rhs
, 
æag
);

1210 
__kmpc_©omic_fixed1_Ül_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1211 
rhs
, 
æag
);

1212 
__kmpc_©omic_fixed2_ªdl_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1213 
rhs
, 
æag
);

1214 
__kmpc_©omic_fixed2_Ül_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1215 
rhs
, 
æag
);

1216 
kmp_št32
 
__kmpc_©omic_fixed4_ªdl_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1217 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1218 
æag
);

1219 
kmp_št32
 
__kmpc_©omic_fixed4_Ül_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1220 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1221 
kmp_št64
 
__kmpc_©omic_fixed8_ªdl_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1222 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1223 
æag
);

1224 
kmp_št64
 
__kmpc_©omic_fixed8_Ül_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1225 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1227 
__kmpc_©omic_fixed1_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1228 
rhs
, 
æag
);

1229 
__kmpc_©omic_fixed1_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1230 
rhs
, 
æag
);

1231 
__kmpc_©omic_fixed2_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1232 
rhs
, 
æag
);

1233 
__kmpc_©omic_fixed2_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1234 
rhs
, 
æag
);

1235 
kmp_št32
 
__kmpc_©omic_fixed4_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1236 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1237 
kmp_št32
 
__kmpc_©omic_fixed4_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1238 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1239 
kmp_št64
 
__kmpc_©omic_fixed8_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1240 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1241 
kmp_št64
 
__kmpc_©omic_fixed8_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1242 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1243 
kmp_»®32
 
__kmpc_©omic_æßt4_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1244 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1245 
æag
);

1246 
kmp_»®32
 
__kmpc_©omic_æßt4_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1247 
kmp_»®32
 *
lhs
, kmp_»®32 
rhs
,

1248 
æag
);

1249 
kmp_»®64
 
__kmpc_©omic_æßt8_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1250 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1251 
æag
);

1252 
kmp_»®64
 
__kmpc_©omic_æßt8_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1253 
kmp_»®64
 *
lhs
, kmp_»®64 
rhs
,

1254 
æag
);

1255 #ià
KMP_HAVE_QUAD


1256 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_max_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1257 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1258 
æag
);

1259 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_mš_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1260 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1261 
æag
);

1264 
__kmpc_©omic_fixed1_Ãqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1265 
rhs
, 
æag
);

1266 
__kmpc_©omic_fixed2_Ãqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1267 
rhs
, 
æag
);

1268 
kmp_št32
 
__kmpc_©omic_fixed4_Ãqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1269 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1270 
æag
);

1271 
kmp_št64
 
__kmpc_©omic_fixed8_Ãqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1272 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1273 
æag
);

1275 
__kmpc_©omic_fixed1_eqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1276 
rhs
, 
æag
);

1277 
__kmpc_©omic_fixed2_eqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1278 
rhs
, 
æag
);

1279 
kmp_št32
 
__kmpc_©omic_fixed4_eqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1280 
kmp_št32
 *
lhs
, kmp_št32 
rhs
, 
æag
);

1281 
kmp_št64
 
__kmpc_©omic_fixed8_eqv_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1282 
kmp_št64
 *
lhs
, kmp_št64 
rhs
, 
æag
);

1284 
__kmpc_©omic_æßt10_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1285 *
lhs
, 
rhs
,

1286 
æag
);

1287 
__kmpc_©omic_æßt10_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1288 *
lhs
, 
rhs
,

1289 
æag
);

1290 
__kmpc_©omic_æßt10_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1291 *
lhs
, 
rhs
,

1292 
æag
);

1293 
__kmpc_©omic_æßt10_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1294 *
lhs
, 
rhs
,

1295 
æag
);

1296 #ià
KMP_HAVE_QUAD


1298 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1299 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1300 
æag
);

1301 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1302 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1303 
æag
);

1304 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1305 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1306 
æag
);

1307 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1308 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1309 
æag
);

1314 
__kmpc_©omic_cm¶x4_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1315 
kmp_cm¶x32
 
rhs
, kmp_cm¶x32 *
out
, 
æag
);

1316 
__kmpc_©omic_cm¶x4_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1317 
kmp_cm¶x32
 
rhs
, kmp_cm¶x32 *
out
, 
æag
);

1318 
__kmpc_©omic_cm¶x4_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1319 
kmp_cm¶x32
 
rhs
, kmp_cm¶x32 *
out
, 
æag
);

1320 
__kmpc_©omic_cm¶x4_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1321 
kmp_cm¶x32
 
rhs
, kmp_cm¶x32 *
out
, 
æag
);

1323 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1324 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1325 
æag
);

1326 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1327 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1328 
æag
);

1329 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1330 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1331 
æag
);

1332 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1333 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1334 
æag
);

1335 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1336 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1337 
æag
);

1338 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1339 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1340 
æag
);

1341 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1342 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1343 
æag
);

1344 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1345 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1346 
æag
);

1347 #ià
KMP_HAVE_QUAD


1348 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_add_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1349 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1350 
æag
);

1351 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_sub_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1352 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1353 
æag
);

1354 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_mul_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1355 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1356 
æag
);

1357 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_div_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1358 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1359 
æag
);

1360 #ià(
KMP_ARCH_X86
)

1362 
Quad_a16_t
 
__kmpc_©omic_æßt16_add_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1363 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1364 
æag
);

1365 
Quad_a16_t
 
__kmpc_©omic_æßt16_sub_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1366 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1367 
æag
);

1368 
Quad_a16_t
 
__kmpc_©omic_æßt16_mul_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1369 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1370 
æag
);

1371 
Quad_a16_t
 
__kmpc_©omic_æßt16_div_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1372 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1373 
æag
);

1374 
Quad_a16_t
 
__kmpc_©omic_æßt16_max_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1375 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1376 
æag
);

1377 
Quad_a16_t
 
__kmpc_©omic_æßt16_mš_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1378 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
,

1379 
æag
);

1380 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_add_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1381 
kmp_cm¶x128_a16_t
 *
lhs
,

1382 
kmp_cm¶x128_a16_t
 
rhs
,

1383 
æag
);

1384 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_sub_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1385 
kmp_cm¶x128_a16_t
 *
lhs
,

1386 
kmp_cm¶x128_a16_t
 
rhs
,

1387 
æag
);

1388 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_mul_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1389 
kmp_cm¶x128_a16_t
 *
lhs
,

1390 
kmp_cm¶x128_a16_t
 
rhs
,

1391 
æag
);

1392 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_div_a16_ıt
(
id’t_t
 *
id_»f
, 
gtid
,

1393 
kmp_cm¶x128_a16_t
 *
lhs
,

1394 
kmp_cm¶x128_a16_t
 
rhs
,

1395 
æag
);

1399 
__kmpc_©omic_¡¬t
();

1400 
__kmpc_©omic_’d
();

1405 
__kmpc_©omic_fixed1_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1406 
rhs
, 
æag
);

1407 
__kmpc_©omic_fixed1_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1408 
rhs
, 
æag
);

1409 
__kmpc_©omic_fixed1u_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1410 *
lhs
,

1411 
rhs
, 
æag
);

1412 
__kmpc_©omic_fixed1_shl_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1413 
rhs
, 
æag
);

1414 
__kmpc_©omic_fixed1_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1415 
rhs
, 
æag
);

1416 
__kmpc_©omic_fixed1u_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1417 *
lhs
,

1418 
rhs
, 
æag
);

1419 
__kmpc_©omic_fixed2_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1420 
rhs
, 
æag
);

1421 
__kmpc_©omic_fixed2_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1422 
rhs
, 
æag
);

1423 
__kmpc_©omic_fixed2u_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1424 *
lhs
,

1425 
rhs
, 
æag
);

1426 
__kmpc_©omic_fixed2_shl_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1427 
rhs
, 
æag
);

1428 
__kmpc_©omic_fixed2_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1429 
rhs
, 
æag
);

1430 
__kmpc_©omic_fixed2u_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1431 *
lhs
,

1432 
rhs
, 
æag
);

1433 
kmp_št32
 
__kmpc_©omic_fixed4_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1434 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1435 
æag
);

1436 
kmp_št32
 
__kmpc_©omic_fixed4_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1437 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1438 
æag
);

1439 
kmp_ušt32
 
__kmpc_©omic_fixed4u_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1440 
kmp_ušt32
 *
lhs
, kmp_ušt32 
rhs
,

1441 
æag
);

1442 
kmp_št32
 
__kmpc_©omic_fixed4_shl_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1443 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1444 
æag
);

1445 
kmp_št32
 
__kmpc_©omic_fixed4_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1446 
kmp_št32
 *
lhs
, kmp_št32 
rhs
,

1447 
æag
);

1448 
kmp_ušt32
 
__kmpc_©omic_fixed4u_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1449 
kmp_ušt32
 *
lhs
, kmp_ušt32 
rhs
,

1450 
æag
);

1451 
kmp_št64
 
__kmpc_©omic_fixed8_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1452 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1453 
æag
);

1454 
kmp_št64
 
__kmpc_©omic_fixed8_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1455 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1456 
æag
);

1457 
kmp_ušt64
 
__kmpc_©omic_fixed8u_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1458 
kmp_ušt64
 *
lhs
, kmp_ušt64 
rhs
,

1459 
æag
);

1460 
kmp_št64
 
__kmpc_©omic_fixed8_shl_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1461 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1462 
æag
);

1463 
kmp_št64
 
__kmpc_©omic_fixed8_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1464 
kmp_št64
 *
lhs
, kmp_št64 
rhs
,

1465 
æag
);

1466 
kmp_ušt64
 
__kmpc_©omic_fixed8u_shr_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1467 
kmp_ušt64
 *
lhs
, kmp_ušt64 
rhs
,

1468 
æag
);

1469 
__kmpc_©omic_æßt4_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1470 
rhs
, 
æag
);

1471 
__kmpc_©omic_æßt4_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1472 
rhs
, 
æag
);

1473 
__kmpc_©omic_æßt8_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1474 
rhs
, 
æag
);

1475 
__kmpc_©omic_æßt8_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1476 
rhs
, 
æag
);

1477 
__kmpc_©omic_æßt10_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1478 *
lhs
, 
rhs
,

1479 
æag
);

1480 
__kmpc_©omic_æßt10_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1481 *
lhs
, 
rhs
,

1482 
æag
);

1483 #ià
KMP_HAVE_QUAD


1484 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1485 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1486 
æag
);

1487 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1488 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
,

1489 
æag
);

1493 
__kmpc_©omic_cm¶x4_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1494 
kmp_cm¶x32
 *
lhs
, kmp_cm¶x32 
rhs
,

1495 
kmp_cm¶x32
 *
out
, 
æag
);

1496 
__kmpc_©omic_cm¶x4_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1497 
kmp_cm¶x32
 *
lhs
, kmp_cm¶x32 
rhs
,

1498 
kmp_cm¶x32
 *
out
, 
æag
);

1499 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1500 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1501 
æag
);

1502 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1503 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
,

1504 
æag
);

1505 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1506 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1507 
æag
);

1508 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1509 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
,

1510 
æag
);

1511 #ià
KMP_HAVE_QUAD


1512 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_sub_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1513 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1514 
æag
);

1515 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_div_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1516 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
,

1517 
æag
);

1518 #ià(
KMP_ARCH_X86
)

1519 
Quad_a16_t
 
__kmpc_©omic_æßt16_sub_a16_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1520 
Quad_a16_t
 *
lhs
,

1521 
Quad_a16_t
 
rhs
, 
æag
);

1522 
Quad_a16_t
 
__kmpc_©omic_æßt16_div_a16_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1523 
Quad_a16_t
 *
lhs
,

1524 
Quad_a16_t
 
rhs
, 
æag
);

1525 
kmp_cm¶x128_a16_t


1526 
__kmpc_©omic_cm¶x16_sub_a16_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1527 
kmp_cm¶x128_a16_t
 *
lhs
,

1528 
kmp_cm¶x128_a16_t
 
rhs
, 
æag
);

1529 
kmp_cm¶x128_a16_t


1530 
__kmpc_©omic_cm¶x16_div_a16_ıt_»v
(
id’t_t
 *
id_»f
, 
gtid
,

1531 
kmp_cm¶x128_a16_t
 *
lhs
,

1532 
kmp_cm¶x128_a16_t
 
rhs
, 
æag
);

1537 
__kmpc_©omic_fixed1_swp
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
, 
rhs
);

1538 
__kmpc_©omic_fixed2_swp
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1539 
rhs
);

1540 
kmp_št32
 
__kmpc_©omic_fixed4_swp
(
id’t_t
 *
id_»f
, 
gtid
, kmp_št32 *
lhs
,

1541 
kmp_št32
 
rhs
);

1542 
kmp_št64
 
__kmpc_©omic_fixed8_swp
(
id’t_t
 *
id_»f
, 
gtid
, kmp_št64 *
lhs
,

1543 
kmp_št64
 
rhs
);

1544 
__kmpc_©omic_æßt4_swp
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1545 
rhs
);

1546 
__kmpc_©omic_æßt8_swp
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1547 
rhs
);

1548 
__kmpc_©omic_æßt10_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1549 *
lhs
, 
rhs
);

1550 #ià
KMP_HAVE_QUAD


1551 
QUAD_LEGACY
 
__kmpc_©omic_æßt16_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1552 
QUAD_LEGACY
 *
lhs
, QUAD_LEGACY 
rhs
);

1555 
__kmpc_©omic_cm¶x4_swp
(
id’t_t
 *
id_»f
, 
gtid
, 
kmp_cm¶x32
 *
lhs
,

1556 
kmp_cm¶x32
 
rhs
, kmp_cm¶x32 *
out
);

1560 
kmp_cm¶x64
 
__kmpc_©omic_cm¶x8_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1561 
kmp_cm¶x64
 *
lhs
, kmp_cm¶x64 
rhs
);

1562 
kmp_cm¶x80
 
__kmpc_©omic_cm¶x10_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1563 
kmp_cm¶x80
 *
lhs
, kmp_cm¶x80 
rhs
);

1564 #ià
KMP_HAVE_QUAD


1565 
CPLX128_LEG
 
__kmpc_©omic_cm¶x16_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1566 
CPLX128_LEG
 *
lhs
, CPLX128_LEG 
rhs
);

1567 #ià(
KMP_ARCH_X86
)

1568 
Quad_a16_t
 
__kmpc_©omic_æßt16_a16_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1569 
Quad_a16_t
 *
lhs
, Quad_a16_ˆ
rhs
);

1570 
kmp_cm¶x128_a16_t
 
__kmpc_©omic_cm¶x16_a16_swp
(
id’t_t
 *
id_»f
, 
gtid
,

1571 
kmp_cm¶x128_a16_t
 *
lhs
,

1572 
kmp_cm¶x128_a16_t
 
rhs
);

1577 #ià
KMP_HAVE_QUAD


1579 
__kmpc_©omic_fixed1_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1580 
_Quad
 
rhs
, 
æag
);

1581 
__kmpc_©omic_fixed1_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1582 
_Quad
 
rhs
, 
æag
);

1583 
__kmpc_©omic_fixed1_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1584 
_Quad
 
rhs
, 
æag
);

1585 
__kmpc_©omic_fixed1_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1586 
_Quad
 
rhs
, 
æag
);

1587 
__kmpc_©omic_fixed1u_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1588 *
lhs
, 
_Quad
 
rhs
,

1589 
æag
);

1590 
__kmpc_©omic_fixed1u_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1591 *
lhs
, 
_Quad
 
rhs
,

1592 
æag
);

1593 
__kmpc_©omic_fixed1u_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1594 *
lhs
, 
_Quad
 
rhs
,

1595 
æag
);

1596 
__kmpc_©omic_fixed1u_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1597 *
lhs
, 
_Quad
 
rhs
,

1598 
æag
);

1600 
__kmpc_©omic_fixed2_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1601 
_Quad
 
rhs
, 
æag
);

1602 
__kmpc_©omic_fixed2_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1603 
_Quad
 
rhs
, 
æag
);

1604 
__kmpc_©omic_fixed2_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1605 
_Quad
 
rhs
, 
æag
);

1606 
__kmpc_©omic_fixed2_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1607 
_Quad
 
rhs
, 
æag
);

1608 
__kmpc_©omic_fixed2u_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1609 *
lhs
, 
_Quad
 
rhs
,

1610 
æag
);

1611 
__kmpc_©omic_fixed2u_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1612 *
lhs
, 
_Quad
 
rhs
,

1613 
æag
);

1614 
__kmpc_©omic_fixed2u_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1615 *
lhs
, 
_Quad
 
rhs
,

1616 
æag
);

1617 
__kmpc_©omic_fixed2u_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1618 *
lhs
, 
_Quad
 
rhs
,

1619 
æag
);

1621 
kmp_št32
 
__kmpc_©omic_fixed4_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1622 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1623 
kmp_št32
 
__kmpc_©omic_fixed4_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1624 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1625 
kmp_št32
 
__kmpc_©omic_fixed4_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1626 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1627 
kmp_št32
 
__kmpc_©omic_fixed4_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1628 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1629 
kmp_ušt32
 
__kmpc_©omic_fixed4u_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1630 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1631 
æag
);

1632 
kmp_ušt32
 
__kmpc_©omic_fixed4u_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1633 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1634 
æag
);

1635 
kmp_ušt32
 
__kmpc_©omic_fixed4u_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1636 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1637 
æag
);

1638 
kmp_ušt32
 
__kmpc_©omic_fixed4u_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1639 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1640 
æag
);

1642 
kmp_št64
 
__kmpc_©omic_fixed8_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1643 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1644 
kmp_št64
 
__kmpc_©omic_fixed8_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1645 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1646 
kmp_št64
 
__kmpc_©omic_fixed8_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1647 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1648 
kmp_št64
 
__kmpc_©omic_fixed8_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1649 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1650 
kmp_ušt64
 
__kmpc_©omic_fixed8u_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1651 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1652 
æag
);

1653 
kmp_ušt64
 
__kmpc_©omic_fixed8u_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1654 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1655 
æag
);

1656 
kmp_ušt64
 
__kmpc_©omic_fixed8u_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1657 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1658 
æag
);

1659 
kmp_ušt64
 
__kmpc_©omic_fixed8u_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1660 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1661 
æag
);

1663 
__kmpc_©omic_æßt4_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1664 
kmp_»®32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1665 
__kmpc_©omic_æßt4_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1666 
kmp_»®32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1667 
__kmpc_©omic_æßt4_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1668 
kmp_»®32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1669 
__kmpc_©omic_æßt4_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1670 
kmp_»®32
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1672 
__kmpc_©omic_æßt8_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1673 
kmp_»®64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1674 
__kmpc_©omic_æßt8_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1675 
kmp_»®64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1676 
__kmpc_©omic_æßt8_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1677 
kmp_»®64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1678 
__kmpc_©omic_æßt8_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1679 
kmp_»®64
 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1681 
__kmpc_©omic_æßt10_add_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1682 *
lhs
, 
_Quad
 
rhs
,

1683 
æag
);

1684 
__kmpc_©omic_æßt10_sub_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1685 *
lhs
, 
_Quad
 
rhs
,

1686 
æag
);

1687 
__kmpc_©omic_æßt10_mul_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1688 *
lhs
, 
_Quad
 
rhs
,

1689 
æag
);

1690 
__kmpc_©omic_æßt10_div_ıt_å
(
id’t_t
 *
id_»f
, 
gtid
,

1691 *
lhs
, 
_Quad
 
rhs
,

1692 
æag
);

1694 
__kmpc_©omic_fixed1_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1695 
_Quad
 
rhs
, 
æag
);

1696 
__kmpc_©omic_fixed1u_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1697 *
lhs
,

1698 
_Quad
 
rhs
, 
æag
);

1699 
__kmpc_©omic_fixed1_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1700 
_Quad
 
rhs
, 
æag
);

1701 
__kmpc_©omic_fixed1u_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1702 *
lhs
,

1703 
_Quad
 
rhs
, 
æag
);

1704 
__kmpc_©omic_fixed2_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1705 
_Quad
 
rhs
, 
æag
);

1706 
__kmpc_©omic_fixed2u_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1707 *
lhs
,

1708 
_Quad
 
rhs
, 
æag
);

1709 
__kmpc_©omic_fixed2_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1710 
_Quad
 
rhs
, 
æag
);

1711 
__kmpc_©omic_fixed2u_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1712 *
lhs
,

1713 
_Quad
 
rhs
, 
æag
);

1714 
kmp_št32
 
__kmpc_©omic_fixed4_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1715 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
,

1716 
æag
);

1717 
kmp_ušt32
 
__kmpc_©omic_fixed4u_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1718 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1719 
æag
);

1720 
kmp_št32
 
__kmpc_©omic_fixed4_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1721 
kmp_št32
 *
lhs
, 
_Quad
 
rhs
,

1722 
æag
);

1723 
kmp_ušt32
 
__kmpc_©omic_fixed4u_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1724 
kmp_ušt32
 *
lhs
, 
_Quad
 
rhs
,

1725 
æag
);

1726 
kmp_št64
 
__kmpc_©omic_fixed8_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1727 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
,

1728 
æag
);

1729 
kmp_ušt64
 
__kmpc_©omic_fixed8u_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1730 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1731 
æag
);

1732 
kmp_št64
 
__kmpc_©omic_fixed8_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1733 
kmp_št64
 *
lhs
, 
_Quad
 
rhs
,

1734 
æag
);

1735 
kmp_ušt64
 
__kmpc_©omic_fixed8u_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1736 
kmp_ušt64
 *
lhs
, 
_Quad
 
rhs
,

1737 
æag
);

1738 
__kmpc_©omic_æßt4_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1739 
_Quad
 
rhs
, 
æag
);

1740 
__kmpc_©omic_æßt4_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
, *
lhs
,

1741 
_Quad
 
rhs
, 
æag
);

1742 
__kmpc_©omic_æßt8_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1743 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1744 
__kmpc_©omic_æßt8_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1745 *
lhs
, 
_Quad
 
rhs
, 
æag
);

1746 
__kmpc_©omic_æßt10_sub_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1747 *
lhs
, 
_Quad
 
rhs
,

1748 
æag
);

1749 
__kmpc_©omic_æßt10_div_ıt_»v_å
(
id’t_t
 *
id_»f
, 
gtid
,

1750 *
lhs
, 
_Quad
 
rhs
,

1751 
æag
);

1761 #ifdeà
__ılu¥lus


	@kmp_barrier.cpp

13 
	~"kmp.h
"

14 
	~"kmp_wa™_»Ëa£.h
"

15 
	~"kmp_™t.h
"

16 
	~"kmp_os.h
"

17 
	~"kmp_¡©s.h
"

18 
	~"om±-¥ecific.h
"

20 #ià
KMP_MIC


21 
	~<immšŒš.h
>

22 
	#USE_NGO_STORES
 1

	)

25 
	~"t§n_ªnÙ©iÚs.h
"

27 #ià
KMP_MIC
 && 
USE_NGO_STORES


29 
	#ngo_lßd
(
¤c
è
__m512d
 
Vt
 = 
	`_mm512_lßd_pd
((*)(¤c))

	)

30 
	#ngo_¡Üe_icvs
(
d¡
, 
¤c
è
	`_mm512_¡Ü’ºgo_pd
((*)(d¡), 
Vt
)

	)

31 
	#ngo_¡Üe_go
(
d¡
, 
¤c
è
	`_mm512_¡Ü’ºgo_pd
((*)(d¡), 
Vt
)

	)

32 
	#ngo_sync
(è
__asm__
 vŞ©e("lock;‡ddÈ$0,0(%%r¥)" ::: "memÜy")

	)

34 
	#ngo_lßd
(
¤c
è(()0)

	)

35 
	#ngo_¡Üe_icvs
(
d¡
, 
¤c
è
	`cİy_icvs
((d¡), (¤c))

	)

36 
	#ngo_¡Üe_go
(
d¡
, 
¤c
è
	`KMP_MEMCPY
((d¡), (¤c), 
CACHE_LINE
)

	)

37 
	#ngo_sync
(è(()0)

	)

40 
__kmp_´št_¡ruùu»
();

45 
	g‹m¶©e
 <
boŞ
 
	gÿnûÎabË
 = 
çl£
>

46 
boŞ
 
__kmp_lš—r_b¬r›r_g©h”_‹m¶©e
(

47 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

48 (*
»duû
)(*, *è
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

49 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_lš—r_g©h”
);

50 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

51 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

52 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

54 
	`KA_TRACE
(

57 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

58 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
Ùh”_th»ads
[this_thr->
th
.
th_šfo
.
ds
.
ds_tid
]);

60 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


62 ià(
__kmp_fÜkjoš_äames_mode
 == 3 || __kmp_forkjoin_frames_mode == 2) {

63 
this_thr
->
th
.
th_b¬_¬rive_time
 =his_thr->th.
th_b¬_mš_time
 =

64 
	`__™t_g‘_time¡amp
();

69 ià(!
	`KMP_MASTER_TID
(
tid
)) {

70 
	`KA_TRACE
(20,

73 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(0,eam),

74 
‹am
->
t
.
t_id
, 0, &
thr_b¬
->
b_¬rived
,hr_bar->b_arrived,

75 
thr_b¬
->
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
));

80 
	`ANNOTATE_BARRIER_BEGIN
(
this_thr
);

81 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_¬rived
, 
Ùh”_th»ads
[0]);

82 
æag
.
	`»Ëa£
();

84 
kmp_b®ign_‹am_t
 *
‹am_b¬
 = &
‹am
->
t
.
t_b¬
[
bt
];

85 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

86 
i
;

88 
kmp_ušt64
 
Ãw_¡©e
 = 
‹am_b¬
->
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
;

91 
i
 = 1; i < 
Åroc
; ++i) {

92 #ià
KMP_CACHE_MANAGE


94 ià(
i
 + 1 < 
Åroc
)

95 
	`KMP_CACHE_PREFETCH
(&
Ùh”_th»ads
[
i
 + 1]->
th
.
th_b¬
[
bt
].
bb
.
b_¬rived
);

97 
	`KA_TRACE
(20, ("__kmp_linear_barrier_gather: T#%d(%d:%d) wait T#%d(%d:%d) "

99 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
i
,eam),

100 
‹am
->
t
.
t_id
, 
i
,

101 &
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bt
].
bb
.
b_¬rived
, 
Ãw_¡©e
));

104 
kmp_æag_64
 
	`æag
(&
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bt
].
bb
.
b_¬rived
,

105 
Ãw_¡©e
);

106 ià(
ÿnûÎabË
) {

107 
boŞ
 
ÿnûÎed
 = 
æag
.
	`wa™_ÿnûÎabË_no¦“p
(

108 
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

109 ià(
ÿnûÎed
)

110  
Œue
;

112 
æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

114 
	`ANNOTATE_BARRIER_END
(
Ùh”_th»ads
[
i
]);

115 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


118 ià(
__kmp_fÜkjoš_äames_mode
 == 2) {

119 
this_thr
->
th
.
th_b¬_mš_time
 = 
	`KMP_MIN
(

120 
this_thr
->
th
.
th_b¬_mš_time
, 
Ùh”_th»ads
[
i
]->th.th_bar_min_time);

123 ià(
»duû
) {

124 
	`KA_TRACE
(100,

126 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
i
,eam),

127 
‹am
->
t
.
t_id
, 
i
));

128 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

129 
	`OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
);

130 
OMPT_REDUCTION_BEGIN
;

131 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

132 
Ùh”_th»ads
[
i
]->
th
.
th_loÿl
.
»duû_d©a
);

133 
OMPT_REDUCTION_END
;

134 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

135 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

139 
‹am_b¬
->
b_¬rived
 = 
Ãw_¡©e
;

140 
	`KA_TRACE
(20, ("__kmp_linear_barrier_gather: T#%d(%d:%d) seteam %d "

142 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,—m->t.t_id, &
‹am_b¬
->
b_¬rived
,

143 
Ãw_¡©e
));

145 
	`KA_TRACE
(

148 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

149  
çl£
;

150 
	}
}

152 
	g‹m¶©e
 <
boŞ
 
	gÿnûÎabË
 = 
çl£
>

153 
boŞ
 
__kmp_lš—r_b¬r›r_»Ëa£_‹m¶©e
(

154 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

155 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

156 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_lš—r_»Ëa£
);

157 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

158 
kmp_‹am_t
 *
‹am
;

160 ià(
	`KMP_MASTER_TID
(
tid
)) {

161 
i
;

162 
kmp_ušt32
 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

163 
kmp_šfo_t
 **
Ùh”_th»ads
;

165 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

166 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

167 
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

169 
	`KA_TRACE
(20, ("__kmp_linear_barrier_release: T#%d(%d:%d) masterƒnter for "

171 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

173 ià(
Åroc
 > 1) {

174 #ià
KMP_BARRIER_ICV_PUSH


176 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_icv_cİy
);

177 ià(
´İag©e_icvs
) {

178 
	`ngo_lßd
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_icvs
);

179 
i
 = 1; i < 
Åroc
; ++i) {

180 
	`__kmp_š™_im¶ic™_sk
(
‹am
->
t
.
t_id’t
,—m->t.
t_th»ads
[
i
],

181 
‹am
, 
i
, 
FALSE
);

182 
	`ngo_¡Üe_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
i
].
td_icvs
,

183 &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_icvs
);

185 
	`ngo_sync
();

191 
i
 = 1; i < 
Åroc
; ++i) {

192 #ià
KMP_CACHE_MANAGE


194 ià(
i
 + 1 < 
Åroc
)

195 
	`KMP_CACHE_PREFETCH
(&
Ùh”_th»ads
[
i
 + 1]->
th
.
th_b¬
[
bt
].
bb
.
b_go
);

197 
	`KA_TRACE
(

201 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_gtid
,

202 
‹am
->
t
.
t_id
, 
i
, &
Ùh”_th»ads
[i]->
th
.
th_b¬
[
bt
].
bb
.
b_go
,

203 
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bt
].
bb
.
b_go
,

204 
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bt
].
bb
.
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

205 
	`ANNOTATE_BARRIER_BEGIN
(
Ùh”_th»ads
[
i
]);

206 
kmp_æag_64
 
	`æag
(&
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bt
].
bb
.
b_go
,

207 
Ùh”_th»ads
[
i
]);

208 
æag
.
	`»Ëa£
();

212 
	`KA_TRACE
(20, ("__kmp_linear_barrier_release: T#%d wait go(%p) == %u\n",

213 
gtid
, &
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
));

214 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
);

215 ià(
ÿnûÎabË
) {

216 
boŞ
 
ÿnûÎed
 = 
æag
.
	`wa™_ÿnûÎabË_no¦“p
(

217 
this_thr
, 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

218 ià(
ÿnûÎed
) {

219  
Œue
;

222 
æag
.
	`wa™
(
this_thr
, 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

224 
	`ANNOTATE_BARRIER_END
(
this_thr
);

225 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


226 ià((
__™t_sync_ü—‹_±r
 && 
™t_sync_obj
 =ğ
NULL
è|| 
KMP_ITT_DEBUG
) {

229 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
, 0, -1);

231 
	`__kmp_™t_sk_¡¬tšg
(
™t_sync_obj
);

233 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

234  
çl£
;

236 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

237 ià(
™t_sync_obj
 !ğ
NULL
)

239 
	`__kmp_™t_sk_fšished
(
™t_sync_obj
);

243 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

244  
çl£
;

246 #ifdeà
KMP_DEBUG


247 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

248 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

250 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

251 
	`TCW_4
(
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
);

252 
	`KA_TRACE
(20,

254 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, &
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
));

255 
	`KMP_MB
();

257 
	`KA_TRACE
(

260 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

261  
çl£
;

262 
	}
}

264 
__kmp_lš—r_b¬r›r_g©h”
(

265 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

266 (*
»duû
)(*, *è
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

267 
__kmp_lš—r_b¬r›r_g©h”_‹m¶©e
<
çl£
>(

268 
bt
, 
this_thr
, 
gtid
, 
tid
, 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

269 
	}
}

271 
boŞ
 
__kmp_lš—r_b¬r›r_g©h”_ÿnûÎabË
(

272 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

273 (*
»duû
)(*, *è
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

274  
__kmp_lš—r_b¬r›r_g©h”_‹m¶©e
<
Œue
>(

275 
bt
, 
this_thr
, 
gtid
, 
tid
, 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

276 
	}
}

278 
__kmp_lš—r_b¬r›r_»Ëa£
(

279 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

280 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

281 
__kmp_lš—r_b¬r›r_»Ëa£_‹m¶©e
<
çl£
>(

282 
bt
, 
this_thr
, 
gtid
, 
tid
, 
´İag©e_icvs
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

283 
	}
}

285 
boŞ
 
__kmp_lš—r_b¬r›r_»Ëa£_ÿnûÎabË
(

286 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

287 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

288  
__kmp_lš—r_b¬r›r_»Ëa£_‹m¶©e
<
Œue
>(

289 
bt
, 
this_thr
, 
gtid
, 
tid
, 
´İag©e_icvs
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

290 
	}
}

294 
__kmp_Œ“_b¬r›r_g©h”
(
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
,

295 
tid
, (*
»duû
)(*, *)

296 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

297 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_Œ“_g©h”
);

298 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

299 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

300 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

301 
kmp_ušt32
 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

302 
kmp_ušt32
 
b¿nch_b™s
 = 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bt
];

303 
kmp_ušt32
 
b¿nch_çùÜ
 = 1 << 
b¿nch_b™s
;

304 
kmp_ušt32
 
chd
;

305 
kmp_ušt32
 
chd_tid
;

306 
kmp_ušt64
 
Ãw_¡©e
;

308 
	`KA_TRACE
(

310 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

311 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
Ùh”_th»ads
[this_thr->
th
.
th_šfo
.
ds
.
ds_tid
]);

313 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


315 ià(
__kmp_fÜkjoš_äames_mode
 == 3 || __kmp_forkjoin_frames_mode == 2) {

316 
this_thr
->
th
.
th_b¬_¬rive_time
 =his_thr->th.
th_b¬_mš_time
 =

317 
	`__™t_g‘_time¡amp
();

322 
chd_tid
 = (
tid
 << 
b¿nch_b™s
) + 1;

323 ià(
chd_tid
 < 
Åroc
) {

325 
Ãw_¡©e
 = 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
;

326 
chd
 = 1;

328 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

329 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

330 #ià
KMP_CACHE_MANAGE


332 ià(
chd
 + 1 <ğ
b¿nch_çùÜ
 && 
chd_tid
 + 1 < 
Åroc
)

333 
	`KMP_CACHE_PREFETCH
(

334 &
Ùh”_th»ads
[
chd_tid
 + 1]->
th
.
th_b¬
[
bt
].
bb
.
b_¬rived
);

336 
	`KA_TRACE
(20,

339 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

340 
‹am
->
t
.
t_id
, 
chd_tid
, &
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
));

342 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
);

343 
æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

344 
	`ANNOTATE_BARRIER_END
(
chd_thr
);

345 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


348 ià(
__kmp_fÜkjoš_äames_mode
 == 2) {

349 
this_thr
->
th
.
th_b¬_mš_time
 = 
	`KMP_MIN
(this_thr->th.th_bar_min_time,

350 
chd_thr
->
th
.
th_b¬_mš_time
);

353 ià(
»duû
) {

354 
	`KA_TRACE
(100,

356 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

357 
‹am
->
t
.
t_id
, 
chd_tid
));

358 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

359 
	`OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
);

360 
OMPT_REDUCTION_BEGIN
;

361 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

362 
chd_thr
->
th
.
th_loÿl
.
»duû_d©a
);

363 
OMPT_REDUCTION_END
;

364 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

365 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

367 
chd
++;

368 
chd_tid
++;

369 } 
chd
 <ğ
b¿nch_çùÜ
 && 
chd_tid
 < 
Åroc
);

372 ià(!
	`KMP_MASTER_TID
(
tid
)) {

373 
kmp_št32
 
·»Á_tid
 = (
tid
 - 1è>> 
b¿nch_b™s
;

375 
	`KA_TRACE
(20,

378 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
·»Á_tid
,eam),

379 
‹am
->
t
.
t_id
, 
·»Á_tid
, &
thr_b¬
->
b_¬rived
,hr_bar->b_arrived,

380 
thr_b¬
->
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
));

386 
	`ANNOTATE_BARRIER_BEGIN
(
this_thr
);

387 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_¬rived
, 
Ùh”_th»ads
[
·»Á_tid
]);

388 
æag
.
	`»Ëa£
();

391 ià(
Åroc
 > 1)

392 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 = 
Ãw_¡©e
;

394 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 +ğ
KMP_BARRIER_STATE_BUMP
;

395 
	`KA_TRACE
(20, ("__kmp_tree_barrier_gather: T#%d(%d:%d) seteam %d "

397 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,eam->t.t_id,

398 &
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
,eam->t.t_bar[bt].b_arrived));

400 
	`KA_TRACE
(20,

402 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

403 
	}
}

405 
__kmp_Œ“_b¬r›r_»Ëa£
(

406 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

407 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

408 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_Œ“_»Ëa£
);

409 
kmp_‹am_t
 *
‹am
;

410 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

411 
kmp_ušt32
 
Åroc
;

412 
kmp_ušt32
 
b¿nch_b™s
 = 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
];

413 
kmp_ušt32
 
b¿nch_çùÜ
 = 1 << 
b¿nch_b™s
;

414 
kmp_ušt32
 
chd
;

415 
kmp_ušt32
 
chd_tid
;

418 ià(!
	`KMP_MASTER_TID
(

419 
tid
)) {

420 
	`KA_TRACE
(20, ("__kmp_Œ“_b¬r›r_»Ëa£: T#%d wa™ go(%pè=ğ%u\n", 
gtid
,

421 &
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
));

423 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
);

424 
æag
.
	`wa™
(
this_thr
, 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

425 
	`ANNOTATE_BARRIER_END
(
this_thr
);

426 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


427 ià((
__™t_sync_ü—‹_±r
 && 
™t_sync_obj
 =ğ
NULL
è|| 
KMP_ITT_DEBUG
) {

430 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
, 0, -1);

432 
	`__kmp_™t_sk_¡¬tšg
(
™t_sync_obj
);

434 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

437 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

438 ià(
™t_sync_obj
 !ğ
NULL
)

440 
	`__kmp_™t_sk_fšished
(
™t_sync_obj
);

444 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

448 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

449 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

450 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

452 
	`TCW_4
(
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
);

453 
	`KA_TRACE
(20,

454 ("__kmp_Œ“_b¬r›r_»Ëa£: T#%d(%d:%dè£ˆgo(%pèğ%u\n", 
gtid
,

455 
‹am
->
t
.
t_id
, 
tid
, &
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
));

456 
	`KMP_MB
();

458 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

459 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

460 
	`KA_TRACE
(20, ("__kmp_tree_barrier_release: T#%d(%d:%d) masterƒnter for "

462 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

464 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

465 
chd_tid
 = (
tid
 << 
b¿nch_b™s
) + 1;

467 ià(
chd_tid
 < 
Åroc
) {

468 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

469 
chd
 = 1;

472 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

473 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

474 #ià
KMP_CACHE_MANAGE


476 ià(
chd
 + 1 <ğ
b¿nch_çùÜ
 && 
chd_tid
 + 1 < 
Åroc
)

477 
	`KMP_CACHE_PREFETCH
(

478 &
Ùh”_th»ads
[
chd_tid
 + 1]->
th
.
th_b¬
[
bt
].
bb
.
b_go
);

481 #ià
KMP_BARRIER_ICV_PUSH


483 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_icv_cİy
);

484 ià(
´İag©e_icvs
) {

485 
	`__kmp_š™_im¶ic™_sk
(
‹am
->
t
.
t_id’t
,

486 
‹am
->
t
.
t_th»ads
[
chd_tid
],eam,

487 
chd_tid
, 
FALSE
);

488 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
chd_tid
].
td_icvs
,

489 &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_icvs
);

493 
	`KA_TRACE
(20,

496 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

497 
‹am
->
t
.
t_id
, 
chd_tid
, &
chd_b¬
->
b_go
, child_bar->b_go,

498 
chd_b¬
->
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

500 
	`ANNOTATE_BARRIER_BEGIN
(
chd_thr
);

501 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_go
, 
chd_thr
);

502 
æag
.
	`»Ëa£
();

503 
chd
++;

504 
chd_tid
++;

505 } 
chd
 <ğ
b¿nch_çùÜ
 && 
chd_tid
 < 
Åroc
);

507 
	`KA_TRACE
(

509 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

510 
	}
}

514 
__kmp_hy³r_b¬r›r_g©h”
(
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
,

515 
tid
, (*
»duû
)(*, *)

516 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

517 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_hy³r_g©h”
);

518 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

519 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

520 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

521 
kmp_ušt64
 
Ãw_¡©e
 = 
KMP_BARRIER_UNUSED_STATE
;

522 
kmp_ušt32
 
num_th»ads
 = 
this_thr
->
th
.
th_‹am_Åroc
;

523 
kmp_ušt32
 
b¿nch_b™s
 = 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bt
];

524 
kmp_ušt32
 
b¿nch_çùÜ
 = 1 << 
b¿nch_b™s
;

525 
kmp_ušt32
 
off£t
;

526 
kmp_ušt32
 
Ëv–
;

528 
	`KA_TRACE
(

531 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

532 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
Ùh”_th»ads
[this_thr->
th
.
th_šfo
.
ds
.
ds_tid
]);

534 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


536 ià(
__kmp_fÜkjoš_äames_mode
 == 3 || __kmp_forkjoin_frames_mode == 2) {

537 
this_thr
->
th
.
th_b¬_¬rive_time
 =his_thr->th.
th_b¬_mš_time
 =

538 
	`__™t_g‘_time¡amp
();

543 
kmp_æag_64
 
	`p_æag
(&
thr_b¬
->
b_¬rived
);

544 
Ëv–
 = 0, 
off£t
 = 1; off£ˆ< 
num_th»ads
;

545 
Ëv–
 +ğ
b¿nch_b™s
, 
off£t
 <<= branch_bits) {

546 
kmp_ušt32
 
chd
;

547 
kmp_ušt32
 
chd_tid
;

549 ià(((
tid
 >> 
Ëv–
è& (
b¿nch_çùÜ
 - 1)) != 0) {

550 
kmp_št32
 
·»Á_tid
 = 
tid
 & ~((1 << (
Ëv–
 + 
b¿nch_b™s
)) - 1);

552 
	`KMP_MB
();

553 
	`KA_TRACE
(20,

556 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
·»Á_tid
,eam),

557 
‹am
->
t
.
t_id
, 
·»Á_tid
, &
thr_b¬
->
b_¬rived
,

558 
thr_b¬
->
b_¬rived
,

559 
thr_b¬
->
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
));

564 
	`ANNOTATE_BARRIER_BEGIN
(
this_thr
);

565 
p_æag
.
	`£t_wa™”
(
Ùh”_th»ads
[
·»Á_tid
]);

566 
p_æag
.
	`»Ëa£
();

571 ià(
Ãw_¡©e
 =ğ
KMP_BARRIER_UNUSED_STATE
)

572 
Ãw_¡©e
 = 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
;

573 
chd
 = 1, 
chd_tid
 = 
tid
 + (1 << 
Ëv–
);

574 
chd
 < 
b¿nch_çùÜ
 && 
chd_tid
 < 
num_th»ads
;

575 
chd
++, 
chd_tid
 +ğ(1 << 
Ëv–
)) {

576 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

577 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

578 #ià
KMP_CACHE_MANAGE


579 
kmp_ušt32
 
Ãxt_chd_tid
 = 
chd_tid
 + (1 << 
Ëv–
);

581 ià(
chd
 + 1 < 
b¿nch_çùÜ
 && 
Ãxt_chd_tid
 < 
num_th»ads
)

582 
	`KMP_CACHE_PREFETCH
(

583 &
Ùh”_th»ads
[
Ãxt_chd_tid
]->
th
.
th_b¬
[
bt
].
bb
.
b_¬rived
);

585 
	`KA_TRACE
(20,

588 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

589 
‹am
->
t
.
t_id
, 
chd_tid
, &
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
));

591 
kmp_æag_64
 
	`c_æag
(&
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
);

592 
c_æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

593 
	`ANNOTATE_BARRIER_END
(
chd_thr
);

594 
	`KMP_MB
();

595 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


598 ià(
__kmp_fÜkjoš_äames_mode
 == 2) {

599 
this_thr
->
th
.
th_b¬_mš_time
 = 
	`KMP_MIN
(this_thr->th.th_bar_min_time,

600 
chd_thr
->
th
.
th_b¬_mš_time
);

603 ià(
»duû
) {

604 
	`KA_TRACE
(100,

606 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

607 
‹am
->
t
.
t_id
, 
chd_tid
));

608 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

609 
	`OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
);

610 
OMPT_REDUCTION_BEGIN
;

611 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

612 
chd_thr
->
th
.
th_loÿl
.
»duû_d©a
);

613 
OMPT_REDUCTION_END
;

614 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

615 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

620 ià(
	`KMP_MASTER_TID
(
tid
)) {

622 ià(
Ãw_¡©e
 =ğ
KMP_BARRIER_UNUSED_STATE
)

623 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 +ğ
KMP_BARRIER_STATE_BUMP
;

625 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 = 
Ãw_¡©e
;

626 
	`KA_TRACE
(20, ("__kmp_hyper_barrier_gather: T#%d(%d:%d) seteam %d "

628 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,eam->t.t_id,

629 &
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
,eam->t.t_bar[bt].b_arrived));

631 
	`KA_TRACE
(

633 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

634 
	}
}

637 
	#KMP_REVERSE_HYPER_BAR


	)

638 
__kmp_hy³r_b¬r›r_»Ëa£
(

639 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

640 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

641 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_hy³r_»Ëa£
);

642 
kmp_‹am_t
 *
‹am
;

643 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

644 
kmp_šfo_t
 **
Ùh”_th»ads
;

645 
kmp_ušt32
 
num_th»ads
;

646 
kmp_ušt32
 
b¿nch_b™s
 = 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
];

647 
kmp_ušt32
 
b¿nch_çùÜ
 = 1 << 
b¿nch_b™s
;

648 
kmp_ušt32
 
chd
;

649 
kmp_ušt32
 
chd_tid
;

650 
kmp_ušt32
 
off£t
;

651 
kmp_ušt32
 
Ëv–
;

657 ià(
	`KMP_MASTER_TID
(
tid
)) {

658 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

659 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

660 
	`KA_TRACE
(20, ("__kmp_hyper_barrier_release: T#%d(%d:%d) masterƒnter for "

662 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

663 #ià
KMP_BARRIER_ICV_PUSH


664 ià(
´İag©e_icvs
) {

665 
	`cİy_icvs
(&
thr_b¬
->
th_fixed_icvs
,

666 &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
);

670 
	`KA_TRACE
(20, ("__kmp_hy³r_b¬r›r_»Ëa£: T#%d wa™ go(%pè=ğ%u\n", 
gtid
,

671 &
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
));

673 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
);

674 
æag
.
	`wa™
(
this_thr
, 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

675 
	`ANNOTATE_BARRIER_END
(
this_thr
);

676 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


677 ià((
__™t_sync_ü—‹_±r
 && 
™t_sync_obj
 =ğ
NULL
è|| 
KMP_ITT_DEBUG
) {

679 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
, 0, -1);

681 
	`__kmp_™t_sk_¡¬tšg
(
™t_sync_obj
);

683 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

686 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

687 ià(
™t_sync_obj
 !ğ
NULL
)

689 
	`__kmp_™t_sk_fšished
(
™t_sync_obj
);

693 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

697 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

698 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

699 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

701 
	`TCW_4
(
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
);

702 
	`KA_TRACE
(20,

704 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, &
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
));

705 
	`KMP_MB
();

707 
num_th»ads
 = 
this_thr
->
th
.
th_‹am_Åroc
;

708 
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

710 #ifdeà
KMP_REVERSE_HYPER_BAR


712 
Ëv–
 = 0, 
off£t
 = 1;

713 
off£t
 < 
num_th»ads
 && (((
tid
 >> 
Ëv–
è& (
b¿nch_çùÜ
 - 1)) == 0);

714 
Ëv–
 +ğ
b¿nch_b™s
, 
off£t
 <<= branch_bits)

718 
Ëv–
 -ğ
b¿nch_b™s
, 
off£t
 >>= branch_bits; offset != 0;

719 
Ëv–
 -ğ
b¿nch_b™s
, 
off£t
 >>= branch_bits)

722 
Ëv–
 = 0, 
off£t
 = 1; off£ˆ< 
num_th»ads
;

723 
Ëv–
 +ğ
b¿nch_b™s
, 
off£t
 <<= branch_bits)

726 #ifdeà
KMP_REVERSE_HYPER_BAR


729 
chd
 = 
num_th»ads
 >> ((
Ëv–
 == 0) ?†evel :†evel - 1);

730 
chd
 = (chd < 
b¿nch_çùÜ
 - 1) ? child : branch_factor - 1,

731 
chd_tid
 = 
tid
 + (
chd
 << 
Ëv–
);

732 
chd
 >ğ1; chd--, 
chd_tid
 -ğ(1 << 
Ëv–
))

734 ià(((
tid
 >> 
Ëv–
è& (
b¿nch_çùÜ
 - 1)) != 0)

739 
chd
 = 1, 
chd_tid
 = 
tid
 + (1 << 
Ëv–
);

740 
chd
 < 
b¿nch_çùÜ
 && 
chd_tid
 < 
num_th»ads
;

741 
chd
++, 
chd_tid
 +ğ(1 << 
Ëv–
))

744 ià(
chd_tid
 >ğ
num_th»ads
)

747 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

748 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

749 #ià
KMP_CACHE_MANAGE


750 
kmp_ušt32
 
Ãxt_chd_tid
 = 
chd_tid
 - (1 << 
Ëv–
);

752 #ifdeà
KMP_REVERSE_HYPER_BAR


753 ià(
chd
 - 1 >ğ1 && 
Ãxt_chd_tid
 < 
num_th»ads
)

755 ià(
chd
 + 1 < 
b¿nch_çùÜ
 && 
Ãxt_chd_tid
 < 
num_th»ads
)

757 
	`KMP_CACHE_PREFETCH
(

758 &
Ùh”_th»ads
[
Ãxt_chd_tid
]->
th
.
th_b¬
[
bt
].
bb
.
b_go
);

761 #ià
KMP_BARRIER_ICV_PUSH


762 ià(
´İag©e_icvs
)

763 
	`cİy_icvs
(&
chd_b¬
->
th_fixed_icvs
, &
thr_b¬
->th_fixed_icvs);

766 
	`KA_TRACE
(

770 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

771 
‹am
->
t
.
t_id
, 
chd_tid
, &
chd_b¬
->
b_go
, child_bar->b_go,

772 
chd_b¬
->
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

774 
	`ANNOTATE_BARRIER_BEGIN
(
chd_thr
);

775 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_go
, 
chd_thr
);

776 
æag
.
	`»Ëa£
();

780 #ià
KMP_BARRIER_ICV_PUSH


781 ià(
´İag©e_icvs
 &&

782 !
	`KMP_MASTER_TID
(
tid
)) {

783 
	`__kmp_š™_im¶ic™_sk
(
‹am
->
t
.
t_id’t
,—m->t.
t_th»ads
[
tid
],eam,id,

784 
FALSE
);

785 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
,

786 &
thr_b¬
->
th_fixed_icvs
);

789 
	`KA_TRACE
(

792 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

793 
	}
}

805 
boŞ
 
	$__kmp_š™_h›¿rchiÿl_b¬r›r_th»ad
(
b¬r›r_ty³
 
bt
,

806 
kmp_b¡©e_t
 *
thr_b¬
,

807 
kmp_ušt32
 
Åroc
, 
gtid
,

808 
tid
, 
kmp_‹am_t
 *
‹am
) {

810 
boŞ
 
unš™Ÿlized
 = 
thr_b¬
->
‹am
 =ğ
NULL
;

811 
boŞ
 
‹am_chªged
 = 
‹am
 !ğ
thr_b¬
->team;

812 
boŞ
 
‹am_sz_chªged
 = 
Åroc
 !ğ
thr_b¬
->nproc;

813 
boŞ
 
tid_chªged
 = 
tid
 !ğ
thr_b¬
->
Şd_tid
;

814 
boŞ
 
»tv®
 = 
çl£
;

816 ià(
unš™Ÿlized
 || 
‹am_sz_chªged
) {

817 
	`__kmp_g‘_h›¿rchy
(
Åroc
, 
thr_b¬
);

820 ià(
unš™Ÿlized
 || 
‹am_sz_chªged
 || 
tid_chªged
) {

821 
thr_b¬
->
my_Ëv–
 =hr_b¬->
d•th
 - 1;

822 
thr_b¬
->
·»Á_tid
 = -1;

823 ià(!
	`KMP_MASTER_TID
(

824 
tid
)) {

825 
kmp_ušt32
 
d
 = 0;

826 
d
 < 
thr_b¬
->
d•th
) {

828 
kmp_ušt32
 
»m
;

829 ià(
d
 =ğ
thr_b¬
->
d•th
 - 2) {

830 
thr_b¬
->
·»Á_tid
 = 0;

831 
thr_b¬
->
my_Ëv–
 = 
d
;

833 } ià((
»m
 = 
tid
 % 
thr_b¬
->
sk_³r_Ëv–
[
d
 + 1]) !=

836 
thr_b¬
->
·»Á_tid
 = 
tid
 - 
»m
;

837 
thr_b¬
->
my_Ëv–
 = 
d
;

840 ++
d
;

843 
thr_b¬
->
off£t
 = 7 - (
tid
 -hr_b¬->
·»Á_tid
 - 1);

844 
thr_b¬
->
Şd_tid
 = 
tid
;

845 
thr_b¬
->
wa™_æag
 = 
KMP_BARRIER_NOT_WAITING
;

846 
thr_b¬
->
‹am
 =eam;

847 
thr_b¬
->
·»Á_b¬
 =

848 &
‹am
->
t
.
t_th»ads
[
thr_b¬
->
·»Á_tid
]->
th
.
th_b¬
[
bt
].
bb
;

850 ià(
unš™Ÿlized
 || 
‹am_chªged
 || 
tid_chªged
) {

851 
thr_b¬
->
‹am
 =eam;

852 
thr_b¬
->
·»Á_b¬
 =

853 &
‹am
->
t
.
t_th»ads
[
thr_b¬
->
·»Á_tid
]->
th
.
th_b¬
[
bt
].
bb
;

854 
»tv®
 = 
Œue
;

856 ià(
unš™Ÿlized
 || 
‹am_sz_chªged
 || 
tid_chªged
) {

857 
thr_b¬
->
Åroc
 =‚proc;

858 
thr_b¬
->
Ëaf_kids
 =hr_b¬->
ba£_Ëaf_kids
;

859 ià(
thr_b¬
->
my_Ëv–
 == 0)

860 
thr_b¬
->
Ëaf_kids
 = 0;

861 ià(
thr_b¬
->
Ëaf_kids
 && (
kmp_ušt32
)
tid
 +hr_b¬->Ëaf_kid + 1 > 
Åroc
)

862 
thr_b¬
->
Ëaf_kids
 = 
Åroc
 - 
tid
 - 1;

863 
thr_b¬
->
Ëaf_¡©e
 = 0;

864 
i
 = 0; i < 
thr_b¬
->
Ëaf_kids
; ++i)

865 ((*)&(
thr_b¬
->
Ëaf_¡©e
))[7 - 
i
] = 1;

867  
»tv®
;

868 
	}
}

870 
__kmp_h›¿rchiÿl_b¬r›r_g©h”
(

871 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

872 (*
»duû
)(*, *è
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

873 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_h›r_g©h”
);

874 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

875 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

876 
kmp_ušt32
 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

877 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

878 
kmp_ušt64
 
Ãw_¡©e
;

880 
Ëv–
 = 
‹am
->
t
.
t_Ëv–
;

881 ià(
Ùh”_th»ads
[0]

882 ->
th
.
th_‹ams_miüÙask
)

883 ià(
this_thr
->
th
.
th_‹ams_size
.
Á—ms
 > 1)

884 ++
Ëv–
;

885 ià(
Ëv–
 == 1)

886 
thr_b¬
->
u£_ÚcÜe_b¬r›r
 = 1;

888 
thr_b¬
->
u£_ÚcÜe_b¬r›r
 = 0;

890 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d)ƒnter for "

892 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

893 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
Ùh”_th»ads
[this_thr->
th
.
th_šfo
.
ds
.
ds_tid
]);

895 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


897 ià(
__kmp_fÜkjoš_äames_mode
 == 3 || __kmp_forkjoin_frames_mode == 2) {

898 
this_thr
->
th
.
th_b¬_¬rive_time
 = 
	`__™t_g‘_time¡amp
();

902 ()
	`__kmp_š™_h›¿rchiÿl_b¬r›r_th»ad
(
bt
, 
thr_b¬
, 
Åroc
, 
gtid
, 
tid
,

903 
‹am
);

905 ià(
thr_b¬
->
my_Ëv–
) {

906 
kmp_št32
 
chd_tid
;

907 
Ãw_¡©e
 =

908 (
kmp_ušt64
)
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
;

909 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

910 
thr_b¬
->
u£_ÚcÜe_b¬r›r
) {

911 ià(
thr_b¬
->
Ëaf_kids
) {

913 
kmp_ušt64
 
Ëaf_¡©e
 =

914 
	`KMP_MASTER_TID
(
tid
)

915 ? 
thr_b¬
->
b_¬rived
 |hr_b¬->
Ëaf_¡©e


916 : 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 | 
thr_b¬
->
Ëaf_¡©e
;

917 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) waiting "

919 
gtid
, 
‹am
->
t
.
t_id
, 
tid
));

920 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_¬rived
, 
Ëaf_¡©e
);

921 
æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

922 ià(
»duû
) {

923 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

924 
	`OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
);

925 
OMPT_REDUCTION_BEGIN
;

926 
chd_tid
 = 
tid
 + 1; chd_tid <ğtid + 
thr_b¬
->
Ëaf_kids
;

927 ++
chd_tid
) {

928 
	`KA_TRACE
(100, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) += "

930 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

931 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

932 
chd_tid
));

933 
	`ANNOTATE_BARRIER_END
(
Ùh”_th»ads
[
chd_tid
]);

934 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

935 
Ùh”_th»ads
[
chd_tid
]->
th
.
th_loÿl
.
»duû_d©a
);

937 
OMPT_REDUCTION_END
;

938 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

939 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

942 
	`KMP_TEST_THEN_AND64
(&
thr_b¬
->
b_¬rived
, ~Ñhr_b¬->
Ëaf_¡©e
));

945 
kmp_ušt32
 
d
 = 1; d < 
thr_b¬
->
my_Ëv–
;

946 ++
d
) {

947 
kmp_ušt32
 
Ï¡
 = 
tid
 + 
thr_b¬
->
sk_³r_Ëv–
[
d
 + 1],

948 
sk
 = 
thr_b¬
->
sk_³r_Ëv–
[
d
];

949 ià(
Ï¡
 > 
Åroc
)

950 
Ï¡
 = 
Åroc
;

951 
chd_tid
 = 
tid
 + 
sk
; chd_tid < ()
Ï¡
; child_tid += skip) {

952 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

953 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

954 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) wait "

957 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

958 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

959 
chd_tid
, &
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
));

960 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
);

961 
æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

962 
	`ANNOTATE_BARRIER_END
(
chd_thr
);

963 ià(
»duû
) {

964 
	`KA_TRACE
(100, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) += "

966 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

967 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

968 
chd_tid
));

969 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

970 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

971 
chd_thr
->
th
.
th_loÿl
.
»duû_d©a
);

972 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

973 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

978 
kmp_ušt32
 
d
 = 0; d < 
thr_b¬
->
my_Ëv–
;

979 ++
d
) {

980 
kmp_ušt32
 
Ï¡
 = 
tid
 + 
thr_b¬
->
sk_³r_Ëv–
[
d
 + 1],

981 
sk
 = 
thr_b¬
->
sk_³r_Ëv–
[
d
];

982 ià(
Ï¡
 > 
Åroc
)

983 
Ï¡
 = 
Åroc
;

984 
chd_tid
 = 
tid
 + 
sk
; chd_tid < ()
Ï¡
; child_tid += skip) {

985 
kmp_šfo_t
 *
chd_thr
 = 
Ùh”_th»ads
[
chd_tid
];

986 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

987 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) wait "

990 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

991 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

992 
chd_tid
, &
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
));

993 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_¬rived
, 
Ãw_¡©e
);

994 
æag
.
	`wa™
(
this_thr
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

995 
	`ANNOTATE_BARRIER_END
(
chd_thr
);

996 ià(
»duû
) {

997 
	`KA_TRACE
(100, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) += "

999 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

1000 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

1001 
chd_tid
));

1002 
	`ANNOTATE_REDUCE_AFTER
(
»duû
);

1003 (*
»duû
)(
this_thr
->
th
.
th_loÿl
.
»duû_d©a
,

1004 
chd_thr
->
th
.
th_loÿl
.
»duû_d©a
);

1005 
	`ANNOTATE_REDUCE_BEFORE
(
»duû
);

1006 
	`ANNOTATE_REDUCE_BEFORE
(&
‹am
->
t
.
t_b¬
);

1014 ià(!
	`KMP_MASTER_TID
(
tid
)) {

1015 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d)„eleasing"

1017 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

1018 
	`__kmp_gtid_äom_tid
(
thr_b¬
->
·»Á_tid
, 
‹am
),—m->
t
.
t_id
,

1019 
thr_b¬
->
·»Á_tid
, &thr_b¬->
b_¬rived
,hr_bar->b_arrived,

1020 
thr_b¬
->
b_¬rived
 + 
KMP_BARRIER_STATE_BUMP
));

1024 ià(
thr_b¬
->
my_Ëv–
 || 
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
 ||

1025 !
thr_b¬
->
u£_ÚcÜe_b¬r›r
) {

1027 
	`ANNOTATE_BARRIER_BEGIN
(
this_thr
);

1028 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_¬rived
, 
Ùh”_th»ads
[thr_b¬->
·»Á_tid
]);

1029 
æag
.
	`»Ëa£
();

1032 
thr_b¬
->
b_¬rived
 = 
‹am
->
t
.
t_b¬
[
bt
].b_¬rived + 
KMP_BARRIER_STATE_BUMP
;

1033 
kmp_æag_ÚcÜe
 
	`æag
(&
thr_b¬
->
·»Á_b¬
->
b_¬rived
,hr_b¬->
off£t
);

1034 
æag
.
	`£t_wa™”
(
Ùh”_th»ads
[
thr_b¬
->
·»Á_tid
]);

1035 
æag
.
	`»Ëa£
();

1038 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 = 
Ãw_¡©e
;

1039 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d) seteam %d "

1041 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,eam->t.t_id,

1042 &
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
,eam->t.t_bar[bt].b_arrived));

1045 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_gather: T#%d(%d:%d)ƒxit for "

1047 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

1048 
	}
}

1050 
__kmp_h›¿rchiÿl_b¬r›r_»Ëa£
(

1051 
b¬r›r_ty³
 
bt
, 
kmp_šfo_t
 *
this_thr
, 
gtid
, 
tid
,

1052 
´İag©e_icvs
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

1053 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_h›r_»Ëa£
);

1054 
kmp_‹am_t
 *
‹am
;

1055 
kmp_b¡©e_t
 *
thr_b¬
 = &
this_thr
->
th
.
th_b¬
[
bt
].
bb
;

1056 
kmp_ušt32
 
Åroc
;

1057 
boŞ
 
‹am_chªge
 = 
çl£
;

1059 ià(
	`KMP_MASTER_TID
(
tid
)) {

1060 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

1061 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

1062 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_release: T#%d(%d:%d) master "

1064 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

1067 ià(!
thr_b¬
->
u£_ÚcÜe_b¬r›r
 ||

1068 
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
 || 
thr_b¬
->
my_Ëv–
 != 0 ||

1069 
thr_b¬
->
‹am
 =ğ
NULL
) {

1071 
thr_b¬
->
wa™_æag
 = 
KMP_BARRIER_OWN_FLAG
;

1072 
kmp_æag_64
 
	`æag
(&
thr_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
);

1073 
æag
.
	`wa™
(
this_thr
, 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1074 
	`ANNOTATE_BARRIER_END
(
this_thr
);

1075 
	`TCW_8
(
thr_b¬
->
b_go
,

1076 
KMP_INIT_BARRIER_STATE
);

1080 
thr_b¬
->
wa™_æag
 = 
KMP_BARRIER_PARENT_FLAG
;

1081 
kmp_æag_ÚcÜe
 
	`æag
(&
thr_b¬
->
·»Á_b¬
->
b_go
, 
KMP_BARRIER_STATE_BUMP
,

1082 
thr_b¬
->
off£t
, 
bt
,

1083 
this_thr
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1084 
æag
.
	`wa™
(
this_thr
, 
TRUE
);

1085 ià(
thr_b¬
->
wa™_æag
 ==

1086 
KMP_BARRIER_SWITCHING
) {

1087 
	`TCW_8
(
thr_b¬
->
b_go
,

1088 
KMP_INIT_BARRIER_STATE
);

1090 (
	`RCAST
(volatile *,

1091 &(
thr_b¬
->
·»Á_b¬
->
b_go
)))[thr_b¬->
off£t
] = 0;

1094 
thr_b¬
->
wa™_æag
 = 
KMP_BARRIER_NOT_WAITING
;

1096 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
 && 
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
))

1099 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

1100 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

1101 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1103 
	`KA_TRACE
(

1106 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, &
thr_b¬
->
b_go
, 
KMP_INIT_BARRIER_STATE
));

1107 
	`KMP_MB
();

1110 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

1111 
Ëv–
 = 
‹am
->
t
.
t_Ëv–
;

1112 ià(
‹am
->
t
.
t_th»ads
[0]

1113 ->
th
.
th_‹ams_miüÙask
) {

1114 ià(
‹am
->
t
.
t_pkâ
 !ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
 &&

1115 
this_thr
->
th
.
th_‹ams_Ëv–
 =ğ
Ëv–
)

1116 ++
Ëv–
;

1117 ià(
this_thr
->
th
.
th_‹ams_size
.
Á—ms
 > 1)

1118 ++
Ëv–
;

1120 ià(
Ëv–
 == 1)

1121 
thr_b¬
->
u£_ÚcÜe_b¬r›r
 = 1;

1123 
thr_b¬
->
u£_ÚcÜe_b¬r›r
 = 0;

1127 
Şd_Ëaf_kids
 = 
thr_b¬
->
Ëaf_kids
;

1128 
kmp_ušt64
 
Şd_Ëaf_¡©e
 = 
thr_b¬
->
Ëaf_¡©e
;

1129 
‹am_chªge
 = 
	`__kmp_š™_h›¿rchiÿl_b¬r›r_th»ad
(
bt
, 
thr_b¬
, 
Åroc
, 
gtid
,

1130 
tid
, 
‹am
);

1132 ià(
‹am_chªge
)

1133 
Şd_Ëaf_kids
 = 0;

1135 #ià
KMP_BARRIER_ICV_PUSH


1136 ià(
´İag©e_icvs
) {

1137 
	`__kmp_š™_im¶ic™_sk
(
‹am
->
t
.
t_id’t
,—m->t.
t_th»ads
[
tid
],eam,id,

1138 
FALSE
);

1139 ià(
	`KMP_MASTER_TID
(

1140 
tid
)) {

1141 
	`cİy_icvs
(&
thr_b¬
->
th_fixed_icvs
,

1142 &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
);

1143 } ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

1144 
thr_b¬
->
u£_ÚcÜe_b¬r›r
) {

1145 ià(!
thr_b¬
->
my_Ëv–
)

1148 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
,

1149 &
thr_b¬
->
·»Á_b¬
->
th_fixed_icvs
);

1152 ià(
thr_b¬
->
my_Ëv–
)

1154 
	`cİy_icvs
(&
thr_b¬
->
th_fixed_icvs
, &thr_b¬->
·»Á_b¬
->th_fixed_icvs);

1156 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
,

1157 &
thr_b¬
->
·»Á_b¬
->
th_fixed_icvs
);

1163 ià(
thr_b¬
->
my_Ëv–
) {

1164 
kmp_št32
 
chd_tid
;

1165 
kmp_ušt32
 
Ï¡
;

1166 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

1167 
thr_b¬
->
u£_ÚcÜe_b¬r›r
) {

1168 ià(
	`KMP_MASTER_TID
(
tid
)) {

1171 
thr_b¬
->
b_go
 = 
KMP_BARRIER_STATE_BUMP
;

1174 
	`ngo_lßd
(&
thr_b¬
->
th_fixed_icvs
);

1177 
chd_tid
 = 
thr_b¬
->
sk_³r_Ëv–
[1]; chd_tid < ()
Åroc
;

1178 
chd_tid
 +ğ
thr_b¬
->
sk_³r_Ëv–
[1]) {

1179 
kmp_b¡©e_t
 *
chd_b¬
 =

1180 &
‹am
->
t
.
t_th»ads
[
chd_tid
]->
th
.
th_b¬
[
bt
].
bb
;

1181 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_release: T#%d(%d:%d) "

1184 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

1185 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

1186 
chd_tid
, &
chd_b¬
->
b_go
, child_bar->b_go,

1187 
chd_b¬
->
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

1190 
	`ngo_¡Üe_go
(&
chd_b¬
->
th_fixed_icvs
, &
thr_b¬
->th_fixed_icvs);

1192 
	`ngo_sync
();

1194 
	`TCW_8
(
thr_b¬
->
b_go
,

1195 
KMP_INIT_BARRIER_STATE
);

1197 ià(
thr_b¬
->
Ëaf_kids
) {

1199 ià(
‹am_chªge
 ||

1200 
Şd_Ëaf_kids
 < 
thr_b¬
->
Ëaf_kids
) {

1201 ià(
Şd_Ëaf_kids
) {

1202 
thr_b¬
->
b_go
 |ğ
Şd_Ëaf_¡©e
;

1205 
Ï¡
 = 
tid
 + 
thr_b¬
->
sk_³r_Ëv–
[1];

1206 ià(
Ï¡
 > 
Åroc
)

1207 
Ï¡
 = 
Åroc
;

1208 
chd_tid
 = 
tid
 + 1 + 
Şd_Ëaf_kids
; chd_tid < ()
Ï¡
;

1209 ++
chd_tid
) {

1210 
kmp_šfo_t
 *
chd_thr
 = 
‹am
->
t
.
t_th»ads
[
chd_tid
];

1211 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

1212 
	`KA_TRACE
(

1216 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
	`__kmp_gtid_äom_tid
(
chd_tid
,eam),

1217 
‹am
->
t
.
t_id
, 
chd_tid
, &
chd_b¬
->
b_go
, child_bar->b_go,

1218 
chd_b¬
->
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

1220 
	`ANNOTATE_BARRIER_BEGIN
(
chd_thr
);

1221 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_go
, 
chd_thr
);

1222 
æag
.
	`»Ëa£
();

1226 
thr_b¬
->
b_go
 |ğthr_b¬->
Ëaf_¡©e
;

1230 
d
 = 
thr_b¬
->
my_Ëv–
 - 1; d >= 0;

1231 --
d
) {

1232 
Ï¡
 = 
tid
 + 
thr_b¬
->
sk_³r_Ëv–
[
d
 + 1];

1233 
kmp_ušt32
 
sk
 = 
thr_b¬
->
sk_³r_Ëv–
[
d
];

1234 ià(
Ï¡
 > 
Åroc
)

1235 
Ï¡
 = 
Åroc
;

1236 
chd_tid
 = 
tid
 + 
sk
; chd_tid < ()
Ï¡
; child_tid += skip) {

1237 
kmp_šfo_t
 *
chd_thr
 = 
‹am
->
t
.
t_th»ads
[
chd_tid
];

1238 
kmp_b¡©e_t
 *
chd_b¬
 = &
chd_thr
->
th
.
th_b¬
[
bt
].
bb
;

1239 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_release: T#%d(%d:%d) "

1241 
gtid
, 
‹am
->
t
.
t_id
, 
tid
,

1242 
	`__kmp_gtid_äom_tid
(
chd_tid
, 
‹am
),—m->
t
.
t_id
,

1243 
chd_tid
, &
chd_b¬
->
b_go
, child_bar->b_go,

1244 
chd_b¬
->
b_go
 + 
KMP_BARRIER_STATE_BUMP
));

1246 
	`ANNOTATE_BARRIER_BEGIN
(
chd_thr
);

1247 
kmp_æag_64
 
	`æag
(&
chd_b¬
->
b_go
, 
chd_thr
);

1248 
æag
.
	`»Ëa£
();

1252 #ià
KMP_BARRIER_ICV_PUSH


1253 ià(
´İag©e_icvs
 && !
	`KMP_MASTER_TID
(
tid
))

1255 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
,

1256 &
thr_b¬
->
th_fixed_icvs
);

1259 
	`KA_TRACE
(20, ("__kmp_hierarchical_barrier_release: T#%d(%d:%d)ƒxit for "

1261 
gtid
, 
‹am
->
t
.
t_id
, 
tid
, 
bt
));

1262 
	}
}

1269 
	g‹m¶©e
 <
boŞ
 
	gÿnûÎabË
> 
	sis_ÿnûÎabË
 {};

1270 
	g‹m¶©e
 <> 
	gis_ÿnûÎabË
<
	gŒue
> {

1271 
boŞ
 
	gv®ue
;

1272 
is_ÿnûÎabË
(è: 
v®ue
(
çl£
) {}

1273 
is_ÿnûÎabË
(
boŞ
 
b
è: 
v®ue
(b) {}

1274 
is_ÿnûÎabË
 &
İ”©Ü
=(
boŞ
 
b
) {

1275 
v®ue
 = 
b
;

1276  *
	gthis
;

1278 
İ”©Ü
 
boŞ
(ècÚ¡ {  
	gv®ue
; }

1280 
	g‹m¶©e
 <> 
	gis_ÿnûÎabË
<
	gçl£
> {

1281 
	gis_ÿnûÎabË
 &
	gİ”©Ü
=(
boŞ
 
b
è{  *
this
; }

1282 
cÚ¡ex´
 
İ”©Ü
 
boŞ
(ècÚ¡ {  
	gçl£
; }

1293 
	g‹m¶©e
 <
boŞ
 
	gÿnûÎabË
 = 
çl£
>

1294 
	$__kmp_b¬r›r_‹m¶©e
(
b¬r›r_ty³
 
bt
, 
gtid
, 
is_¥l™
,

1295 
size_t
 
»duû_size
, *
»duû_d©a
,

1296 (*
»duû
)(*, *)) {

1297 
	`KMP_TIME_PARTITIONED_BLOCK
(
OMP_¶aš_b¬r›r
);

1298 
	`KMP_SET_THREAD_STATE_BLOCK
(
PLAIN_BARRIER
);

1299 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1300 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

1301 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

1302 
¡©us
 = 0;

1303 
is_ÿnûÎabË
<
ÿnûÎabË
> 
ÿnûÎed
;

1304 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1305 
om±_d©a_t
 *
my_sk_d©a
;

1306 
om±_d©a_t
 *
my_·¿Î–_d©a
;

1307 *
»tuº_add»ss
;

1308 
om±_sync_»giÚ_t
 
b¬r›r_kšd
;

1311 
	`KA_TRACE
(15, ("__kmp_b¬r›r: T#%d(%d:%dèha ¬rived\n", 
gtid
,

1312 
	`__kmp_‹am_äom_gtid
(
gtid
)->
t
.
t_id
, 
	`__kmp_tid_äom_gtid
(gtid)));

1314 
	`ANNOTATE_BARRIER_BEGIN
(&
‹am
->
t
.
t_b¬
);

1315 #ià
OMPT_SUPPORT


1316 ià(
om±_’abËd
.
’abËd
) {

1317 #ià
OMPT_OPTIONAL


1318 
my_sk_d©a
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
);

1319 
my_·¿Î–_d©a
 = 
	`OMPT_CUR_TEAM_DATA
(
this_thr
);

1320 
»tuº_add»ss
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

1321 
b¬r›r_kšd
 = 
	`__om±_g‘_b¬r›r_kšd
(
bt
, 
this_thr
);

1322 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

1323 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

1324 
b¬r›r_kšd
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
, 
my_sk_d©a
,

1325 
»tuº_add»ss
);

1327 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

1328 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

1329 
b¬r›r_kšd
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
, 
my_sk_d©a
,

1330 
»tuº_add»ss
);

1336 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wa™_b¬r›r
;

1340 ià(!
‹am
->
t
.
t_£rŸlized
) {

1341 #ià
USE_ITT_BUILD


1343 *
™t_sync_obj
 = 
NULL
;

1344 #ià
USE_ITT_NOTIFY


1345 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1346 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bt
, 1);

1349 ià(
__kmp_skšg_mode
 =ğ
tskm_exŒa_b¬r›r
) {

1350 
	`__kmp_skšg_b¬r›r
(
‹am
, 
this_thr
, 
gtid
);

1351 
	`KA_TRACE
(15,

1352 ("__kmp_b¬r›r: T#%d(%d:%dè·¡askšg b¬r›r\n", 
gtid
,

1353 
	`__kmp_‹am_äom_gtid
(
gtid
)->
t
.
t_id
, 
	`__kmp_tid_äom_gtid
(gtid)));

1360 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

1361 #ià
KMP_USE_MONITOR


1362 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 =

1363 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_š‹rv®s
;

1364 
this_thr
->
th
.
th_‹am_bt_£t
 =

1365 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_£t
;

1367 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 = 
	`KMP_BLOCKTIME_INTERVAL
(
‹am
, 
tid
);

1371 #ià
USE_ITT_BUILD


1372 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1373 
	`__kmp_™t_b¬r›r_¡¬tšg
(
gtid
, 
™t_sync_obj
);

1375 #ià
USE_DEBUGGER


1377 ià(
	`KMP_MASTER_TID
(
tid
)) {

1378 
‹am
->
t
.
t_b¬
[
bt
].
b_ma¡”_¬rived
 += 1;

1380 
this_thr
->
th
.
th_b¬
[
bt
].
bb
.
b_wÜk”_¬rived
 += 1;

1383 ià(
»duû
 !ğ
NULL
) {

1385 
this_thr
->
th
.
th_loÿl
.
»duû_d©a
 =„educe_data;

1388 ià(
	`KMP_MASTER_TID
(
tid
è&& 
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
)

1390 
	`__kmp_sk_‹am_£tup
(
this_thr
, 
‹am
, 0);

1392 ià(
ÿnûÎabË
) {

1393 
ÿnûÎed
 = 
	`__kmp_lš—r_b¬r›r_g©h”_ÿnûÎabË
(

1394 
bt
, 
this_thr
, 
gtid
, 
tid
, 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1396 
__kmp_b¬r›r_g©h”_·‰”n
[
bt
]) {

1397 
bp_hy³r_b¬
: {

1399 
	`KMP_ASSERT
(
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bt
]);

1400 
	`__kmp_hy³r_b¬r›r_g©h”
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1401 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1404 
bp_h›¿rchiÿl_b¬
: {

1405 
	`__kmp_h›¿rchiÿl_b¬r›r_g©h”
(

1406 
bt
, 
this_thr
, 
gtid
, 
tid
, 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1409 
bp_Œ“_b¬
: {

1411 
	`KMP_ASSERT
(
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bt
]);

1412 
	`__kmp_Œ“_b¬r›r_g©h”
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1413 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1417 
	`__kmp_lš—r_b¬r›r_g©h”
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1418 
»duû
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1423 
	`KMP_MB
();

1425 ià(
	`KMP_MASTER_TID
(
tid
)) {

1426 
¡©us
 = 0;

1427 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
 && !
ÿnûÎed
) {

1428 
	`__kmp_sk_‹am_wa™
(
this_thr
, 
‹am
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1430 #ià
USE_DEBUGGER


1433 
‹am
->
t
.
t_b¬
[
bt
].
b_‹am_¬rived
 += 1;

1436 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

1437 
kmp_št32
 
ÿnûl_»que¡
 = 
	`KMP_ATOMIC_LD_RLX
(&
‹am
->
t
.
t_ÿnûl_»que¡
);

1439 ià(
ÿnûl_»que¡
 =ğ
ÿnûl_loİ
 ||

1440 
ÿnûl_»que¡
 =ğ
ÿnûl_£ùiÚs
) {

1441 
	`KMP_ATOMIC_ST_RLX
(&
‹am
->
t
.
t_ÿnûl_»que¡
, 
ÿnûl_nÜeq
);

1444 #ià
USE_ITT_BUILD


1449 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1450 
	`__kmp_™t_b¬r›r_middË
(
gtid
, 
™t_sync_obj
);

1452 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


1454 ià((
__™t_äame_subm™_v3_±r
 || 
KMP_ITT_DEBUG
) &&

1455 
__kmp_fÜkjoš_äames_mode
 &&

1456 
this_thr
->
th
.
th_‹ams_miüÙask
 =ğ
NULL
 &&

1457 
‹am
->
t
.
t_aùive_Ëv–
 == 1) {

1458 
id’t_t
 *
loc
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_id’t
;

1459 
kmp_ušt64
 
cur_time
 = 
	`__™t_g‘_time¡amp
();

1460 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

1461 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

1462 
i
;

1463 
__kmp_fÜkjoš_äames_mode
) {

1465 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_äame_time
, 
cur_time
, 0,

1466 
loc
, 
Åroc
);

1467 
this_thr
->
th
.
th_äame_time
 = 
cur_time
;

1471 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_b¬_mš_time
, 
cur_time
,

1472 1, 
loc
, 
Åroc
);

1475 ià(
__™t_m‘ad©a_add_±r
) {

1477 
kmp_ušt64
 
d–
 = 
cur_time
 - 
this_thr
->
th
.
th_b¬_¬rive_time
;

1480 
this_thr
->
th
.
th_b¬_¬rive_time
 = 0;

1481 
i
 = 1; i < 
Åroc
; ++i) {

1482 
d–
 +ğ(
cur_time
 - 
Ùh”_th»ads
[
i
]->
th
.
th_b¬_¬rive_time
);

1483 
Ùh”_th»ads
[
i
]->
th
.
th_b¬_¬rive_time
 = 0;

1485 
	`__kmp_™t_m‘ad©a_imb®ªû
(
gtid
, 
this_thr
->
th
.
th_äame_time
,

1486 
cur_time
, 
d–
,

1487 (
kmp_ušt64
)(
»duû
 !ğ
NULL
));

1489 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_äame_time
, 
cur_time
, 0,

1490 
loc
, 
Åroc
);

1491 
this_thr
->
th
.
th_äame_time
 = 
cur_time
;

1497 
¡©us
 = 1;

1498 #ià
USE_ITT_BUILD


1499 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1500 
	`__kmp_™t_b¬r›r_middË
(
gtid
, 
™t_sync_obj
);

1503 ià((
¡©us
 =ğ1 || !
is_¥l™
è&& !
ÿnûÎed
) {

1504 ià(
ÿnûÎabË
) {

1505 
ÿnûÎed
 = 
	`__kmp_lš—r_b¬r›r_»Ëa£_ÿnûÎabË
(

1506 
bt
, 
this_thr
, 
gtid
, 
tid
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1508 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bt
]) {

1509 
bp_hy³r_b¬
: {

1510 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
]);

1511 
	`__kmp_hy³r_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1512 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1515 
bp_h›¿rchiÿl_b¬
: {

1516 
	`__kmp_h›¿rchiÿl_b¬r›r_»Ëa£
(

1517 
bt
, 
this_thr
, 
gtid
, 
tid
, 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1520 
bp_Œ“_b¬
: {

1521 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
]);

1522 
	`__kmp_Œ“_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1523 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1527 
	`__kmp_lš—r_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1528 
FALSE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1532 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
 && !
ÿnûÎed
) {

1533 
	`__kmp_sk_‹am_sync
(
this_thr
, 
‹am
);

1537 #ià
USE_ITT_BUILD


1541 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1542 
	`__kmp_™t_b¬r›r_fšished
(
gtid
, 
™t_sync_obj
);

1545 
¡©us
 = 0;

1546 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1547 ià(
this_thr
->
th
.
th_sk_‹am
 !ğ
NULL
) {

1548 #ià
USE_ITT_NOTIFY


1549 *
™t_sync_obj
 = 
NULL
;

1550 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
) {

1551 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bt
, 1);

1552 
	`__kmp_™t_b¬r›r_¡¬tšg
(
gtid
, 
™t_sync_obj
);

1556 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_sk_‹am
->
‰
.
‰_found_´oxy_sks
 ==

1557 
TRUE
);

1558 
	`__kmp_sk_‹am_wa™
(
this_thr
, 
‹am
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1559 
	`__kmp_sk_‹am_£tup
(
this_thr
, 
‹am
, 0);

1561 #ià
USE_ITT_BUILD


1562 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1563 
	`__kmp_™t_b¬r›r_fšished
(
gtid
, 
™t_sync_obj
);

1568 
	`KA_TRACE
(15, ("__kmp_barrier: T#%d(%d:%d) is†eaving with„eturn value %d\n",

1569 
gtid
, 
	`__kmp_‹am_äom_gtid
(gtid)->
t
.
t_id
,

1570 
	`__kmp_tid_äom_gtid
(
gtid
), 
¡©us
));

1572 #ià
OMPT_SUPPORT


1573 ià(
om±_’abËd
.
’abËd
) {

1574 #ià
OMPT_OPTIONAL


1575 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

1576 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

1577 
b¬r›r_kšd
, 
om±_scİe_’d
, 
my_·¿Î–_d©a
, 
my_sk_d©a
,

1578 
»tuº_add»ss
);

1580 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

1581 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

1582 
b¬r›r_kšd
, 
om±_scİe_’d
, 
my_·¿Î–_d©a
, 
my_sk_d©a
,

1583 
»tuº_add»ss
);

1586 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1589 
	`ANNOTATE_BARRIER_END
(&
‹am
->
t
.
t_b¬
);

1591 ià(
ÿnûÎabË
)

1592  ()
ÿnûÎed
;

1593  
¡©us
;

1594 
	}
}

1597 
	$__kmp_b¬r›r
(
b¬r›r_ty³
 
bt
, 
gtid
, 
is_¥l™
,

1598 
size_t
 
»duû_size
, *
»duû_d©a
,

1599 (*
»duû
)(*, *)) {

1600  
__kmp_b¬r›r_‹m¶©e
<>(
bt
, 
gtid
, 
is_¥l™
, 
»duû_size
, 
»duû_d©a
,

1601 
»duû
);

1602 
	}
}

1604 #ià
defšed
(
KMP_GOMP_COMPAT
)

1606 
	$__kmp_b¬r›r_gomp_ÿnûl
(
gtid
) {

1607 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

1608 
ÿnûÎed
 = 
__kmp_b¬r›r_‹m¶©e
<
Œue
>(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
,

1609 0, 
NULL
, NULL);

1610 ià(
ÿnûÎed
) {

1611 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1612 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

1613 ià(
	`KMP_MASTER_TID
(
tid
)) {

1617 
this_thr
->
th
.
th_b¬
[
bs_¶aš_b¬r›r
].
bb
.
b_¬rived
 -=

1618 
KMP_BARRIER_STATE_BUMP
;

1621  
ÿnûÎed
;

1623 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

1624  
FALSE
;

1625 
	}
}

1628 
	$__kmp_’d_¥l™_b¬r›r
(
b¬r›r_ty³
 
bt
, 
gtid
) {

1629 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_’d_¥l™_b¬r›r
);

1630 
	`KMP_SET_THREAD_STATE_BLOCK
(
PLAIN_BARRIER
);

1631 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1632 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

1633 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

1635 
	`ANNOTATE_BARRIER_BEGIN
(&
‹am
->
t
.
t_b¬
);

1636 ià(!
‹am
->
t
.
t_£rŸlized
) {

1637 ià(
	`KMP_MASTER_GTID
(
gtid
)) {

1638 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bt
]) {

1639 
bp_hy³r_b¬
: {

1640 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
]);

1641 
	`__kmp_hy³r_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1642 
FALSE
 
	`USE_ITT_BUILD_ARG
(
NULL
));

1645 
bp_h›¿rchiÿl_b¬
: {

1646 
	`__kmp_h›¿rchiÿl_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1647 
FALSE
 
	`USE_ITT_BUILD_ARG
(
NULL
));

1650 
bp_Œ“_b¬
: {

1651 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bt
]);

1652 
	`__kmp_Œ“_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1653 
FALSE
 
	`USE_ITT_BUILD_ARG
(
NULL
));

1657 
	`__kmp_lš—r_b¬r›r_»Ëa£
(
bt
, 
this_thr
, 
gtid
, 
tid
,

1658 
FALSE
 
	`USE_ITT_BUILD_ARG
(
NULL
));

1661 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1662 
	`__kmp_sk_‹am_sync
(
this_thr
, 
‹am
);

1666 
	`ANNOTATE_BARRIER_END
(&
‹am
->
t
.
t_b¬
);

1667 
	}
}

1669 
	$__kmp_još_b¬r›r
(
gtid
) {

1670 
	`KMP_TIME_PARTITIONED_BLOCK
(
OMP_još_b¬r›r
);

1671 
	`KMP_SET_THREAD_STATE_BLOCK
(
FORK_JOIN_BARRIER
);

1672 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

1673 
kmp_‹am_t
 *
‹am
;

1674 
kmp_ušt
 
Åroc
;

1675 
kmp_šfo_t
 *
ma¡”_th»ad
;

1676 
tid
;

1677 #ifdeà
KMP_DEBUG


1678 
‹am_id
;

1680 #ià
USE_ITT_BUILD


1681 *
™t_sync_obj
 = 
NULL
;

1682 #ià
USE_ITT_NOTIFY


1683 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1685 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

1688 
	`KMP_MB
();

1691 
‹am
 = 
this_thr
->
th
.
th_‹am
;

1692 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

1693 
	`KMP_DEBUG_ASSERT
(()
Åroc
 =ğ
‹am
->
t
.
t_Åroc
);

1694 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1695 #ifdeà
KMP_DEBUG


1696 
‹am_id
 = 
‹am
->
t
.
t_id
;

1698 
ma¡”_th»ad
 = 
this_thr
->
th
.
th_‹am_ma¡”
;

1699 #ifdeà
KMP_DEBUG


1700 ià(
ma¡”_th»ad
 !ğ
‹am
->
t
.
t_th»ads
[0]) {

1701 
	`__kmp_´št_¡ruùu»
();

1704 
	`KMP_DEBUG_ASSERT
(
ma¡”_th»ad
 =ğ
‹am
->
t
.
t_th»ads
[0]);

1705 
	`KMP_MB
();

1708 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
 && __kmp_th»ads[
gtid
]);

1709 
	`KMP_DEBUG_ASSERT
(
	`TCR_PTR
(
this_thr
->
th
.
th_‹am
));

1710 
	`KMP_DEBUG_ASSERT
(
	`TCR_PTR
(
this_thr
->
th
.
th_roÙ
));

1711 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
‹am
->
t
.
t_th»ads
[
tid
]);

1712 
	`KA_TRACE
(10, ("__kmp_join_barrier: T#%d(%d:%d)‡rrived‡t join barrier\n",

1713 
gtid
, 
‹am_id
, 
tid
));

1715 
	`ANNOTATE_BARRIER_BEGIN
(&
‹am
->
t
.
t_b¬
);

1716 #ià
OMPT_SUPPORT


1717 ià(
om±_’abËd
.
’abËd
) {

1718 #ià
OMPT_OPTIONAL


1719 
om±_d©a_t
 *
my_sk_d©a
;

1720 
om±_d©a_t
 *
my_·¿Î–_d©a
;

1721 *
cod•Œ
 = 
NULL
;

1722 
ds_tid
 = 
this_thr
->
th
.
th_šfo
.
ds
.ds_tid;

1723 ià(
	`KMP_MASTER_TID
(
ds_tid
) &&

1724 (
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
) ||

1725 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)))

1726 
cod•Œ
 = 
‹am
->
t
.
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
;

1727 
my_sk_d©a
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
);

1728 
my_·¿Î–_d©a
 = 
	`OMPT_CUR_TEAM_DATA
(
this_thr
);

1729 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

1730 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

1731 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
,

1732 
my_sk_d©a
, 
cod•Œ
);

1734 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

1735 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

1736 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
,

1737 
my_sk_d©a
, 
cod•Œ
);

1739 ià(!
	`KMP_MASTER_TID
(
ds_tid
))

1740 
this_thr
->
th
.
om±_th»ad_šfo
.
sk_d©a
 = *
	`OMPT_CUR_TASK_DATA
(this_thr);

1742 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wa™_b¬r›r_im¶ic™
;

1746 ià(
__kmp_skšg_mode
 =ğ
tskm_exŒa_b¬r›r
) {

1747 
	`__kmp_skšg_b¬r›r
(
‹am
, 
this_thr
, 
gtid
);

1748 
	`KA_TRACE
(10, ("__kmp_još_b¬r›r: T#%d(%d:%dè·¡akšg b¬r›r\n", 
gtid
,

1749 
‹am_id
, 
tid
));

1751 #ifdeà
KMP_DEBUG


1752 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1753 
	`KA_TRACE
(20, ("__kmp_join_barrier: T#%d, oldeam = %d, oldask_team = "

1755 
	`__kmp_gtid_äom_th»ad
(
this_thr
), 
‹am_id
,

1756 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
],

1757 
this_thr
->
th
.
th_sk_‹am
));

1758 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_sk_‹am
 ==

1759 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
]);

1768 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

1769 #ià
KMP_USE_MONITOR


1770 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 =

1771 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_š‹rv®s
;

1772 
this_thr
->
th
.
th_‹am_bt_£t
 =

1773 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_£t
;

1775 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 = 
	`KMP_BLOCKTIME_INTERVAL
(
‹am
, 
tid
);

1779 #ià
USE_ITT_BUILD


1780 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1781 
	`__kmp_™t_b¬r›r_¡¬tšg
(
gtid
, 
™t_sync_obj
);

1784 
__kmp_b¬r›r_g©h”_·‰”n
[
bs_fÜkjoš_b¬r›r
]) {

1785 
bp_hy³r_b¬
: {

1786 
	`KMP_ASSERT
(
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bs_fÜkjoš_b¬r›r
]);

1787 
	`__kmp_hy³r_b¬r›r_g©h”
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1788 
NULL
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1791 
bp_h›¿rchiÿl_b¬
: {

1792 
	`__kmp_h›¿rchiÿl_b¬r›r_g©h”
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1793 
NULL
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1796 
bp_Œ“_b¬
: {

1797 
	`KMP_ASSERT
(
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bs_fÜkjoš_b¬r›r
]);

1798 
	`__kmp_Œ“_b¬r›r_g©h”
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1799 
NULL
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1803 
	`__kmp_lš—r_b¬r›r_g©h”
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1804 
NULL
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1812 ià(
	`KMP_MASTER_TID
(
tid
)) {

1813 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1814 
	`__kmp_sk_‹am_wa™
(
this_thr
, 
‹am
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1816 ià(
__kmp_di¥Ïy_affš™y
) {

1817 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_di¥Ïy_affš™y
, 0);

1819 #ià
KMP_STATS_ENABLED


1823 
i
 = 0; i < 
‹am
->
t
.
t_Åroc
; ++i) {

1824 
kmp_šfo_t
 *
‹am_th»ad
 = 
‹am
->
t
.
t_th»ads
[
i
];

1825 ià(
‹am_th»ad
 =ğ
this_thr
)

1827 
‹am_th»ad
->
th
.
th_¡©s
->
	`£tIdËFÏg
();

1828 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
 &&

1829 
‹am_th»ad
->
th
.
th_¦“p_loc
 !ğ
NULL
)

1830 
	`__kmp_nuÎ_»sume_w¿µ”
(
	`__kmp_gtid_äom_th»ad
(
‹am_th»ad
),

1831 
‹am_th»ad
->
th
.
th_¦“p_loc
);

1834 #ià
USE_ITT_BUILD


1835 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1836 
	`__kmp_™t_b¬r›r_middË
(
gtid
, 
™t_sync_obj
);

1839 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


1841 ià((
__™t_äame_subm™_v3_±r
 || 
KMP_ITT_DEBUG
) &&

1842 
__kmp_fÜkjoš_äames_mode
 && 
this_thr
->
th
.
th_‹ams_miüÙask
 =ğ
NULL
 &&

1843 
‹am
->
t
.
t_aùive_Ëv–
 == 1) {

1844 
kmp_ušt64
 
cur_time
 = 
	`__™t_g‘_time¡amp
();

1845 
id’t_t
 *
loc
 = 
‹am
->
t
.
t_id’t
;

1846 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

1847 
Åroc
 = 
this_thr
->
th
.
th_‹am_Åroc
;

1848 
i
;

1849 
__kmp_fÜkjoš_äames_mode
) {

1851 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_äame_time
, 
cur_time
, 0,

1852 
loc
, 
Åroc
);

1855 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_b¬_mš_time
, 
cur_time
, 1,

1856 
loc
, 
Åroc
);

1859 ià(
__™t_m‘ad©a_add_±r
) {

1861 
kmp_ušt64
 
d–
 = 
cur_time
 - 
this_thr
->
th
.
th_b¬_¬rive_time
;

1864 
this_thr
->
th
.
th_b¬_¬rive_time
 = 0;

1865 
i
 = 1; i < 
Åroc
; ++i) {

1866 
d–
 +ğ(
cur_time
 - 
Ùh”_th»ads
[
i
]->
th
.
th_b¬_¬rive_time
);

1867 
Ùh”_th»ads
[
i
]->
th
.
th_b¬_¬rive_time
 = 0;

1869 
	`__kmp_™t_m‘ad©a_imb®ªû
(
gtid
, 
this_thr
->
th
.
th_äame_time
,

1870 
cur_time
, 
d–
, 0);

1872 
	`__kmp_™t_äame_subm™
(
gtid
, 
this_thr
->
th
.
th_äame_time
, 
cur_time
, 0,

1873 
loc
, 
Åroc
);

1874 
this_thr
->
th
.
th_äame_time
 = 
cur_time
;

1880 #ià
USE_ITT_BUILD


1882 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
)

1883 
	`__kmp_™t_b¬r›r_middË
(
gtid
, 
™t_sync_obj
);

1887 #ià
KMP_DEBUG


1888 ià(
	`KMP_MASTER_TID
(
tid
)) {

1889 
	`KA_TRACE
(

1892 
gtid
, 
‹am_id
, 
tid
, 
Åroc
));

1897 
	`KMP_MB
();

1898 
	`KA_TRACE
(10,

1899 ("__kmp_još_b¬r›r: T#%d(%d:%dèËavšg\n", 
gtid
, 
‹am_id
, 
tid
));

1901 
	`ANNOTATE_BARRIER_END
(&
‹am
->
t
.
t_b¬
);

1902 
	}
}

1906 
	$__kmp_fÜk_b¬r›r
(
gtid
, 
tid
) {

1907 
	`KMP_TIME_PARTITIONED_BLOCK
(
OMP_fÜk_b¬r›r
);

1908 
	`KMP_SET_THREAD_STATE_BLOCK
(
FORK_JOIN_BARRIER
);

1909 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

1910 
kmp_‹am_t
 *
‹am
 = (
tid
 =ğ0è? 
this_thr
->
th
.
th_‹am
 : 
NULL
;

1911 #ià
USE_ITT_BUILD


1912 *
™t_sync_obj
 = 
NULL
;

1914 ià(
‹am
)

1915 
	`ANNOTATE_BARRIER_END
(&
‹am
->
t
.
t_b¬
);

1917 
	`KA_TRACE
(10, ("__kmp_fÜk_b¬r›r: T#%d(%d:%dèha ¬rived\n", 
gtid
,

1918 (
‹am
 !ğ
NULL
è?—m->
t
.
t_id
 : -1, 
tid
));

1921 ià(
	`KMP_MASTER_TID
(
tid
)) {

1922 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


1923 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
) {

1925 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
, 1);

1926 
	`__kmp_™t_b¬r›r_middË
(
gtid
, 
™t_sync_obj
);

1930 #ifdeà
KMP_DEBUG


1931 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

1932 
i
;

1935 
	`KMP_MB
();

1937 
i
 = 1; i < 
‹am
->
t
.
t_Åroc
; ++i) {

1938 
	`KA_TRACE
(500,

1941 
gtid
, 
‹am
->
t
.
t_id
, 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_gtid
,

1942 
‹am
->
t
.
t_id
, 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_tid
,

1943 
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_go
));

1944 
	`KMP_DEBUG_ASSERT
(

1945 (
	`TCR_4
(
Ùh”_th»ads
[
i
]->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_go
) &

1946 ~(
KMP_BARRIER_SLEEP_STATE
)è=ğ
KMP_INIT_BARRIER_STATE
);

1947 
	`KMP_DEBUG_ASSERT
(
Ùh”_th»ads
[
i
]->
th
.
th_‹am
 =ğ
‹am
);

1951 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1953 
	`__kmp_sk_‹am_£tup
(
this_thr
, 
‹am
, 0);

1962 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

1963 #ià
KMP_USE_MONITOR


1964 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 =

1965 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_š‹rv®s
;

1966 
this_thr
->
th
.
th_‹am_bt_£t
 =

1967 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
.
bt_£t
;

1969 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
 = 
	`KMP_BLOCKTIME_INTERVAL
(
‹am
, 
tid
);

1974 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bs_fÜkjoš_b¬r›r
]) {

1975 
bp_hy³r_b¬
: {

1976 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bs_fÜkjoš_b¬r›r
]);

1977 
	`__kmp_hy³r_b¬r›r_»Ëa£
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1978 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1981 
bp_h›¿rchiÿl_b¬
: {

1982 
	`__kmp_h›¿rchiÿl_b¬r›r_»Ëa£
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1983 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1986 
bp_Œ“_b¬
: {

1987 
	`KMP_ASSERT
(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bs_fÜkjoš_b¬r›r
]);

1988 
	`__kmp_Œ“_b¬r›r_»Ëa£
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1989 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1993 
	`__kmp_lš—r_b¬r›r_»Ëa£
(
bs_fÜkjoš_b¬r›r
, 
this_thr
, 
gtid
, 
tid
,

1994 
TRUE
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

1998 #ià
OMPT_SUPPORT


1999 ià(
om±_’abËd
.
’abËd
 &&

2000 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 =ğ
om±_¡©e_wa™_b¬r›r_im¶ic™
) {

2001 
ds_tid
 = 
this_thr
->
th
.
th_šfo
.
ds
.ds_tid;

2002 
om±_d©a_t
 *
sk_d©a
 = (
‹am
)

2003 ? 
	`OMPT_CUR_TASK_DATA
(
this_thr
)

2004 : &(
this_thr
->
th
.
om±_th»ad_šfo
.
sk_d©a
);

2005 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

2006 #ià
OMPT_OPTIONAL


2007 *
cod•Œ
 = 
NULL
;

2008 ià(
	`KMP_MASTER_TID
(
ds_tid
) &&

2009 (
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
) ||

2010 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)))

2011 
cod•Œ
 = 
‹am
->
t
.
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
;

2012 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

2013 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

2014 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
sk_d©a
,

2015 
cod•Œ
);

2017 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

2018 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

2019 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
sk_d©a
,

2020 
cod•Œ
);

2023 ià(!
	`KMP_MASTER_TID
(
ds_tid
è&& 
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

2024 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

2025 
om±_scİe_’d
, 
NULL
, 
sk_d©a
, 0, 
ds_tid
, 
om±_sk_im¶ic™
);

2031 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

2032 
this_thr
->
th
.
th_sk_‹am
 = 
NULL
;

2034 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


2035 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
) {

2036 ià(!
	`KMP_MASTER_TID
(
tid
)) {

2037 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

2038 ià(
™t_sync_obj
)

2039 
	`__kmp_™t_b¬r›r_fšished
(
gtid
, 
™t_sync_obj
);

2043 
	`KA_TRACE
(10, ("__kmp_fÜk_b¬r›r: T#%d i Ëavšgƒ¬ly\n", 
gtid
));

2051 
‹am
 = (
kmp_‹am_t
 *)
	`TCR_PTR
(
this_thr
->
th
.
th_‹am
);

2052 
	`KMP_DEBUG_ASSERT
(
‹am
 !ğ
NULL
);

2053 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

2055 #ià
KMP_BARRIER_ICV_PULL


2063 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_icv_cİy
);

2064 ià(!
	`KMP_MASTER_TID
(
tid
)) {

2067 
	`KA_TRACE
(10,

2068 ("__kmp_fÜk_b¬r›r: T#%d(%dèi PULLšg ICVs\n", 
gtid
, 
tid
));

2069 
	`__kmp_š™_im¶ic™_sk
(
‹am
->
t
.
t_id’t
,—m->t.
t_th»ads
[
tid
],eam,

2070 
tid
, 
FALSE
);

2071 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_icvs
,

2072 &
‹am
->
t
.
t_th»ads
[0]

2073 ->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
]

2074 .
bb
.
th_fixed_icvs
);

2079 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2080 
	`__kmp_sk_‹am_sync
(
this_thr
, 
‹am
);

2083 #ià
KMP_AFFINITY_SUPPORTED


2084 
kmp_´oc_bšd_t
 
´oc_bšd
 = 
‹am
->
t
.
t_´oc_bšd
;

2085 ià(
´oc_bšd
 =ğ
´oc_bšd_š‹l
) {

2087 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_b®ªûd
 && 
‹am
->
t
.
t_size_chªged
) {

2088 
	`__kmp_b®ªûd_affš™y
(
this_thr
, 
‹am
->
t
.
t_Åroc
);

2090 } ià(
´oc_bšd
 !ğ
´oc_bšd_çl£
) {

2091 ià(
this_thr
->
th
.
th_Ãw_¶aû
 =ğthis_thr->th.
th_cu¼’t_¶aû
) {

2092 
	`KA_TRACE
(100, ("__kmp_fork_barrier: T#%d‡lready in correct…lace %d\n",

2093 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

2094 
this_thr
->
th
.
th_cu¼’t_¶aû
));

2096 
	`__kmp_affš™y_£t_¶aû
(
gtid
);

2101 ià(
__kmp_di¥Ïy_affš™y
) {

2102 ià(
‹am
->
t
.
t_di¥Ïy_affš™y


2103 #ià
KMP_AFFINITY_SUPPORTED


2104 || (
__kmp_affš™y_ty³
 =ğ
affš™y_b®ªûd
 && 
‹am
->
t
.
t_size_chªged
)

2108 
	`__kmp_aux_di¥Ïy_affš™y
(
gtid
, 
NULL
);

2109 
this_thr
->
th
.
th_´ev_num_th»ads
 = 
‹am
->
t
.
t_Åroc
;

2110 
this_thr
->
th
.
th_´ev_Ëv–
 = 
‹am
->
t
.
t_Ëv–
;

2113 ià(!
	`KMP_MASTER_TID
(
tid
))

2114 
	`KMP_CHECK_UPDATE
(
this_thr
->
th
.
th_def_®loÿtÜ
, 
‹am
->
t
.
t_def_®loÿtÜ
);

2116 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


2117 ià(
__™t_sync_ü—‹_±r
 || 
KMP_ITT_DEBUG
) {

2118 ià(!
	`KMP_MASTER_TID
(
tid
)) {

2120 
™t_sync_obj
 = 
	`__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

2121 
	`__kmp_™t_b¬r›r_fšished
(
gtid
, 
™t_sync_obj
);

2125 
	`ANNOTATE_BARRIER_END
(&
‹am
->
t
.
t_b¬
);

2126 
	`KA_TRACE
(10, ("__kmp_fÜk_b¬r›r: T#%d(%d:%dèi Ëavšg\n", 
gtid
,

2127 
‹am
->
t
.
t_id
, 
tid
));

2128 
	}
}

2130 
	$__kmp_£tup_icv_cİy
(
kmp_‹am_t
 *
‹am
, 
Ãw_Åroc
,

2131 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
, 
id’t_t
 *
loc
) {

2132 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_£tup_icv_cİy
);

2134 
	`KMP_DEBUG_ASSERT
(
‹am
 && 
Ãw_Åroc
 && 
Ãw_icvs
);

2135 
	`KMP_DEBUG_ASSERT
((!
	`TCR_4
(
__kmp_š™_·¿Î–
)è|| 
Ãw_icvs
->
Åroc
);

2140 #ià
KMP_BARRIER_ICV_PULL


2144 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[0]);

2146 
	`cİy_icvs
(

2147 &
‹am
->
t
.
t_th»ads
[0]->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
th_fixed_icvs
,

2148 
Ãw_icvs
);

2149 
	`KF_TRACE
(10, ("__kmp_setup_icv_copy: PULL: T#%dhis_thread=%peam=%p\n", 0,

2150 
‹am
->
t
.
t_th»ads
[0],eam));

2151 #–ià
KMP_BARRIER_ICV_PUSH


2154 
	`KF_TRACE
(10, ("__kmp_setup_icv_copy: PUSH: T#%dhis_thread=%peam=%p\n", 0,

2155 
‹am
->
t
.
t_th»ads
[0],eam));

2159 
	`ngo_lßd
(
Ãw_icvs
);

2160 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[0]);

2162 
f
 = 1; f < 
Ãw_Åroc
; ++f) {

2164 
	`KF_TRACE
(10, ("__kmp_setup_icv_copy: LINEAR: T#%dhis_thread=%peam=%p\n",

2165 
f
, 
‹am
->
t
.
t_th»ads
[f],eam));

2166 
	`__kmp_š™_im¶ic™_sk
(
loc
, 
‹am
->
t
.
t_th»ads
[
f
],—m, f, 
FALSE
);

2167 
	`ngo_¡Üe_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
f
].
td_icvs
, 
Ãw_icvs
);

2168 
	`KF_TRACE
(10, ("__kmp_setup_icv_copy: LINEAR: T#%dhis_thread=%peam=%p\n",

2169 
f
, 
‹am
->
t
.
t_th»ads
[f],eam));

2171 
	`ngo_sync
();

2173 
	}
}

	@kmp_cancel.cpp

10 
	~"kmp.h
"

11 
	~"kmp_i18n.h
"

12 
	~"kmp_io.h
"

13 
	~"kmp_¡r.h
"

14 #ià
OMPT_SUPPORT


15 
	~"om±-¥ecific.h
"

29 
kmp_št32
 
	$__kmpc_ÿnûl
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, kmp_št32 
úş_kšd
) {

30 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

32 
	`KC_TRACE
(10, ("__kmpc_ÿnûl: T#%d„eque¡ %d OMP_CANCELLATION=%d\n", 
gtid
,

33 
úş_kšd
, 
__kmp_omp_ÿnûÎ©iÚ
));

35 
	`KMP_DEBUG_ASSERT
(
úş_kšd
 !ğ
ÿnûl_nÜeq
);

36 
	`KMP_DEBUG_ASSERT
(
úş_kšd
 =ğ
ÿnûl_·¿Î–
 || cnş_kšd =ğ
ÿnûl_loİ
 ||

37 
úş_kšd
 =ğ
ÿnûl_£ùiÚs
 ||

38 
úş_kšd
 =ğ
ÿnûl_skgroup
);

39 
	`KMP_DEBUG_ASSERT
(
	`__kmp_g‘_gtid
(è=ğ
gtid
);

41 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

42 
úş_kšd
) {

43 
ÿnûl_·¿Î–
:

44 
ÿnûl_loİ
:

45 
ÿnûl_£ùiÚs
:

49 
kmp_‹am_t
 *
this_‹am
 = 
this_thr
->
th
.
th_‹am
;

50 
	`KMP_DEBUG_ASSERT
(
this_‹am
);

51 
kmp_št32
 
Şd
 = 
ÿnûl_nÜeq
;

52 
this_‹am
->
t
.
t_ÿnûl_»que¡
.
	`com·»_exchªge_¡rÚg
(
Şd
, 
úş_kšd
);

53 ià(
Şd
 =ğ
ÿnûl_nÜeq
 || old =ğ
úş_kšd
) {

56 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


57 ià(
om±_’abËd
.
om±_ÿÎback_ÿnûl
) {

58 
om±_d©a_t
 *
sk_d©a
;

59 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, NULL,

60 
NULL
);

61 
om±_ÿnûl_æag_t
 
ty³
 = 
om±_ÿnûl_·¿Î–
;

62 ià(
úş_kšd
 =ğ
ÿnûl_·¿Î–
)

63 
ty³
 = 
om±_ÿnûl_·¿Î–
;

64 ià(
úş_kšd
 =ğ
ÿnûl_loİ
)

65 
ty³
 = 
om±_ÿnûl_loİ
;

66 ià(
úş_kšd
 =ğ
ÿnûl_£ùiÚs
)

67 
ty³
 = 
om±_ÿnûl_£ùiÚs
;

68 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ÿnûl
)(

69 
sk_d©a
, 
ty³
 | 
om±_ÿnûl_aùiv©ed
,

70 
	`OMPT_GET_RETURN_ADDRESS
(0));

77 
ÿnûl_skgroup
:

81 
kmp_skd©a_t
 *
sk
;

82 
kmp_skgroup_t
 *
skgroup
;

84 
sk
 = 
this_thr
->
th
.
th_cu¼’t_sk
;

85 
	`KMP_DEBUG_ASSERT
(
sk
);

87 
skgroup
 = 
sk
->
td_skgroup
;

88 ià(
skgroup
) {

89 
kmp_št32
 
Şd
 = 
ÿnûl_nÜeq
;

90 
skgroup
->
ÿnûl_»que¡
.
	`com·»_exchªge_¡rÚg
(
Şd
, 
úş_kšd
);

91 ià(
Şd
 =ğ
ÿnûl_nÜeq
 || old =ğ
úş_kšd
) {

94 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


95 ià(
om±_’abËd
.
om±_ÿÎback_ÿnûl
) {

96 
om±_d©a_t
 *
sk_d©a
;

97 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, NULL,

98 
NULL
);

99 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ÿnûl
)(

100 
sk_d©a
, 
om±_ÿnûl_skgroup
 | 
om±_ÿnûl_aùiv©ed
,

101 
	`OMPT_GET_RETURN_ADDRESS
(0));

110 
	`KMP_ASSERT
(0 );

115 
	`KMP_ASSERT
(0 );

120 
	`KMP_DEBUG_ASSERT
(!
__kmp_omp_ÿnûÎ©iÚ
);

122 
	}
}

135 
kmp_št32
 
	$__kmpc_ÿnûÎ©iÚpošt
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

136 
kmp_št32
 
úş_kšd
) {

137 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

139 
	`KC_TRACE
(10,

141 
gtid
, 
úş_kšd
, 
__kmp_omp_ÿnûÎ©iÚ
));

143 
	`KMP_DEBUG_ASSERT
(
úş_kšd
 !ğ
ÿnûl_nÜeq
);

144 
	`KMP_DEBUG_ASSERT
(
úş_kšd
 =ğ
ÿnûl_·¿Î–
 || cnş_kšd =ğ
ÿnûl_loİ
 ||

145 
úş_kšd
 =ğ
ÿnûl_£ùiÚs
 ||

146 
úş_kšd
 =ğ
ÿnûl_skgroup
);

147 
	`KMP_DEBUG_ASSERT
(
	`__kmp_g‘_gtid
(è=ğ
gtid
);

149 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

150 
úş_kšd
) {

151 
ÿnûl_·¿Î–
:

152 
ÿnûl_loİ
:

153 
ÿnûl_£ùiÚs
:

157 
kmp_‹am_t
 *
this_‹am
 = 
this_thr
->
th
.
th_‹am
;

158 
	`KMP_DEBUG_ASSERT
(
this_‹am
);

159 ià(
this_‹am
->
t
.
t_ÿnûl_»que¡
) {

160 ià(
úş_kšd
 =ğ
this_‹am
->
t
.
t_ÿnûl_»que¡
) {

163 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


164 ià(
om±_’abËd
.
om±_ÿÎback_ÿnûl
) {

165 
om±_d©a_t
 *
sk_d©a
;

166 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, NULL,

167 
NULL
);

168 
om±_ÿnûl_æag_t
 
ty³
 = 
om±_ÿnûl_·¿Î–
;

169 ià(
úş_kšd
 =ğ
ÿnûl_·¿Î–
)

170 
ty³
 = 
om±_ÿnûl_·¿Î–
;

171 ià(
úş_kšd
 =ğ
ÿnûl_loİ
)

172 
ty³
 = 
om±_ÿnûl_loİ
;

173 ià(
úş_kšd
 =ğ
ÿnûl_£ùiÚs
)

174 
ty³
 = 
om±_ÿnûl_£ùiÚs
;

175 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ÿnûl
)(

176 
sk_d©a
, 
ty³
 | 
om±_ÿnûl_d‘eùed
,

177 
	`OMPT_GET_RETURN_ADDRESS
(0));

182 
	`KMP_ASSERT
(0 );

190 
ÿnûl_skgroup
:

194 
kmp_skd©a_t
 *
sk
;

195 
kmp_skgroup_t
 *
skgroup
;

197 
sk
 = 
this_thr
->
th
.
th_cu¼’t_sk
;

198 
	`KMP_DEBUG_ASSERT
(
sk
);

200 
skgroup
 = 
sk
->
td_skgroup
;

201 ià(
skgroup
) {

203 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


204 ià(
om±_’abËd
.
om±_ÿÎback_ÿnûl
 &&

205 !!
skgroup
->
ÿnûl_»que¡
) {

206 
om±_d©a_t
 *
sk_d©a
;

207 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, NULL,

208 
NULL
);

209 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ÿnûl
)(

210 
sk_d©a
, 
om±_ÿnûl_skgroup
 | 
om±_ÿnûl_d‘eùed
,

211 
	`OMPT_GET_RETURN_ADDRESS
(0));

214  !!
skgroup
->
ÿnûl_»que¡
;

222 
	`KMP_ASSERT
(0 );

227 
	`KMP_DEBUG_ASSERT
(!
__kmp_omp_ÿnûÎ©iÚ
);

229 
	}
}

243 
kmp_št32
 
	$__kmpc_ÿnûl_b¬r›r
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

244 
»t
 = 0 ;

245 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

246 
kmp_‹am_t
 *
this_‹am
 = 
this_thr
->
th
.
th_‹am
;

248 
	`KMP_DEBUG_ASSERT
(
	`__kmp_g‘_gtid
(è=ğ
gtid
);

251 
	`__kmpc_b¬r›r
(
loc
, 
gtid
);

254 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

257 
	`KMP_ATOMIC_LD_RLX
(&(
this_‹am
->
t
.
t_ÿnûl_»que¡
))) {

258 
ÿnûl_·¿Î–
:

259 
»t
 = 1;

262 
	`__kmpc_b¬r›r
(
loc
, 
gtid
);

263 
this_‹am
->
t
.
t_ÿnûl_»que¡
 = 
ÿnûl_nÜeq
;

267 
ÿnûl_loİ
:

268 
ÿnûl_£ùiÚs
:

269 
»t
 = 1;

272 
	`__kmpc_b¬r›r
(
loc
, 
gtid
);

273 
this_‹am
->
t
.
t_ÿnûl_»que¡
 = 
ÿnûl_nÜeq
;

276 
	`__kmpc_b¬r›r
(
loc
, 
gtid
);

278 
ÿnûl_skgroup
:

280 
	`KMP_ASSERT
(0 );

282 
ÿnûl_nÜeq
:

286 
	`KMP_ASSERT
(0 );

290  
»t
;

291 
	}
}

309 
	$__kmp_g‘_ÿnûÎ©iÚ_¡©us
(
ÿnûl_kšd
) {

310 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

311 
kmp_šfo_t
 *
this_thr
 = 
	`__kmp_’Œy_th»ad
();

313 
ÿnûl_kšd
) {

314 
ÿnûl_·¿Î–
:

315 
ÿnûl_loİ
:

316 
ÿnûl_£ùiÚs
: {

317 
kmp_‹am_t
 *
this_‹am
 = 
this_thr
->
th
.
th_‹am
;

318  
this_‹am
->
t
.
t_ÿnûl_»que¡
 =ğ
ÿnûl_kšd
;

320 
ÿnûl_skgroup
: {

321 
kmp_skd©a_t
 *
sk
;

322 
kmp_skgroup_t
 *
skgroup
;

323 
sk
 = 
this_thr
->
th
.
th_cu¼’t_sk
;

324 
skgroup
 = 
sk
->
td_skgroup
;

325  
skgroup
 &&askgroup->
ÿnûl_»que¡
;

331 
	}
}

	@kmp_csupport.cpp

13 
	#__KMP_IMP


	)

14 
	~"omp.h
"

15 
	~"kmp.h
"

16 
	~"kmp_”rÜ.h
"

17 
	~"kmp_i18n.h
"

18 
	~"kmp_™t.h
"

19 
	~"kmp_lock.h
"

20 
	~"kmp_¡©s.h
"

21 
	~"om±-¥ecific.h
"

23 
	#MAX_MESSAGE
 512

	)

36 
	$__kmpc_begš
(
id’t_t
 *
loc
, 
kmp_št32
 
æags
) {

38 *
’v
;

39 ià((
’v
 = 
	`g‘’v
("KMP_INITIAL_THREAD_BIND")è!ğ
NULL
 &&

40 
	`__kmp_¡r_m©ch_Œue
(
’v
)) {

41 
	`__kmp_middË_š™Ÿlize
();

42 
	`KC_TRACE
(10, ("__kmpc_begin: middle initialization called\n"));

43 } ià(
	`__kmp_ignÜe_mµbeg
(è=ğ
FALSE
) {

45 
	`__kmp_š‹º®_begš
();

46 
	`KC_TRACE
(10, ("__kmpc_begin: called\n"));

48 
	}
}

58 
	$__kmpc_’d
(
id’t_t
 *
loc
) {

64 ià(
	`__kmp_ignÜe_mµ’d
(è=ğ
FALSE
) {

65 
	`KC_TRACE
(10, ("__kmpc_end: called\n"));

66 
	`KA_TRACE
(30, ("__kmpc_end\n"));

68 
	`__kmp_š‹º®_’d_th»ad
(-1);

70 #ià
KMP_OS_WINDOWS
 && 
OMPT_SUPPORT


75 ià(
om±_’abËd
.
’abËd
)

76 
	`__kmp_š‹º®_’d_lib¿ry
(
	`__kmp_gtid_g‘_¥ecific
());

78 
	}
}

98 
kmp_št32
 
	$__kmpc_glob®_th»ad_num
(
id’t_t
 *
loc
) {

99 
kmp_št32
 
gtid
 = 
	`__kmp_’Œy_gtid
();

101 
	`KC_TRACE
(10, ("__kmpc_glob®_th»ad_num: T#%d\n", 
gtid
));

103  
gtid
;

104 
	}
}

120 
kmp_št32
 
	$__kmpc_glob®_num_th»ads
(
id’t_t
 *
loc
) {

121 
	`KC_TRACE
(10,

122 ("__kmpc_glob®_num_th»ads:‚um_th»ad ğ%d\n", 
__kmp_®l_Áh
));

124  
	`TCR_4
(
__kmp_®l_Áh
);

125 
	}
}

133 
kmp_št32
 
	$__kmpc_bound_th»ad_num
(
id’t_t
 *
loc
) {

134 
	`KC_TRACE
(10, ("__kmpc_bound_thread_num: called\n"));

135  
	`__kmp_tid_äom_gtid
(
	`__kmp_’Œy_gtid
());

136 
	}
}

143 
kmp_št32
 
	$__kmpc_bound_num_th»ads
(
id’t_t
 *
loc
) {

144 
	`KC_TRACE
(10, ("__kmpc_bound_num_threads: called\n"));

146  
	`__kmp_’Œy_th»ad
()->
th
.
th_‹am
->
t
.
t_Åroc
;

147 
	}
}

155 
kmp_št32
 
	$__kmpc_ok_to_fÜk
(
id’t_t
 *
loc
) {

156 #iâdeà
KMP_DEBUG


158  
TRUE
;

162 cÚ¡ *
£mi2
;

163 cÚ¡ *
£mi3
;

164 
lše_no
;

166 ià(
__kmp_·r_¿nge
 == 0) {

167  
TRUE
;

169 
£mi2
 = 
loc
->
psourû
;

170 ià(
£mi2
 =ğ
NULL
) {

171  
TRUE
;

173 
£mi2
 = 
	`¡rchr
(semi2, ';');

174 ià(
£mi2
 =ğ
NULL
) {

175  
TRUE
;

177 
£mi2
 = 
	`¡rchr
(semi2 + 1, ';');

178 ià(
£mi2
 =ğ
NULL
) {

179  
TRUE
;

181 ià(
__kmp_·r_¿nge_f’ame
[0]) {

182 cÚ¡ *
Çme
 = 
£mi2
 - 1;

183 (
Çme
 > 
loc
->
psourû
) && (*name != '/') && (*name != ';')) {

184 
Çme
--;

186 ià((*
Çme
 == '/') || (*name == ';')) {

187 
Çme
++;

189 ià(
	`¡ºcmp
(
__kmp_·r_¿nge_f’ame
, 
Çme
, 
£mi2
 -‚ame)) {

190  
__kmp_·r_¿nge
 < 0;

193 
£mi3
 = 
	`¡rchr
(
£mi2
 + 1, ';');

194 ià(
__kmp_·r_¿nge_routše
[0]) {

195 ià((
£mi3
 !ğ
NULL
è&& (£mi3 > 
£mi2
) &&

196 (
	`¡ºcmp
(
__kmp_·r_¿nge_routše
, 
£mi2
 + 1, 
£mi3
 - semi2 - 1))) {

197  
__kmp_·r_¿nge
 < 0;

200 ià(
	`KMP_SSCANF
(
£mi3
 + 1, "%d", &
lše_no
) == 1) {

201 ià((
lše_no
 >ğ
__kmp_·r_¿nge_lb
è&& (lše_nØ<ğ
__kmp_·r_¿nge_ub
)) {

202  
__kmp_·r_¿nge
 > 0;

204  
__kmp_·r_¿nge
 < 0;

206  
TRUE
;

209 
	}
}

217 
kmp_št32
 
	$__kmpc_š_·¿Î–
(
id’t_t
 *
loc
) {

218  
	`__kmp_’Œy_th»ad
()->
th
.
th_roÙ
->
r
.
r_aùive
;

219 
	}
}

230 
	$__kmpc_push_num_th»ads
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

231 
kmp_št32
 
num_th»ads
) {

232 
	`KA_TRACE
(20, ("__kmpc_push_num_threads:ƒnter T#%d‚um_threads=%d\n",

233 
glob®_tid
, 
num_th»ads
));

235 
	`__kmp_push_num_th»ads
(
loc
, 
glob®_tid
, 
num_th»ads
);

236 
	}
}

238 
	$__kmpc_pİ_num_th»ads
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

239 
	`KA_TRACE
(20, ("__kmpc_pop_num_threads:ƒnter\n"));

242 
	}
}

244 
	$__kmpc_push_´oc_bšd
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

245 
kmp_št32
 
´oc_bšd
) {

246 
	`KA_TRACE
(20, ("__kmpc_push_´oc_bšd:ƒÁ” T#%d…roc_bšd=%d\n", 
glob®_tid
,

247 
´oc_bšd
));

249 
	`__kmp_push_´oc_bšd
(
loc
, 
glob®_tid
, (
kmp_´oc_bšd_t
)
´oc_bšd
);

250 
	}
}

262 
	$__kmpc_fÜk_ÿÎ
(
id’t_t
 *
loc
, 
kmp_št32
 
¬gc
, 
kmpc_miüo
 
miüÙask
, ...) {

263 
gtid
 = 
	`__kmp_’Œy_gtid
();

265 #ià(
KMP_STATS_ENABLED
)

268 
¡©s_¡©e_e
 
´evious_¡©e
 = 
	`KMP_GET_THREAD_STATE
();

269 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
SERIAL_REGION
) {

270 
	`KMP_EXCHANGE_PARTITIONED_TIMER
(
OMP_·¿Î–_ov”h—d
);

272 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_·¿Î–_ov”h—d
);

274 
šP¬®Ël
 = 
	`__kmpc_š_·¿Î–
(
loc
);

275 ià(
šP¬®Ël
) {

276 
	`KMP_COUNT_BLOCK
(
OMP_NESTED_PARALLEL
);

278 
	`KMP_COUNT_BLOCK
(
OMP_PARALLEL
);

284 
va_li¡
 
­
;

285 
	`va_¡¬t
(
­
, 
miüÙask
);

287 #ià
OMPT_SUPPORT


288 
om±_äame_t
 *
om±_äame
;

289 ià(
om±_’abËd
.
’abËd
) {

290 
kmp_šfo_t
 *
ma¡”_th
 = 
__kmp_th»ads
[
gtid
];

291 
kmp_‹am_t
 *
·»Á_‹am
 = 
ma¡”_th
->
th
.
th_‹am
;

292 
om±_lw_sk‹am_t
 *
lwt
 = 
·»Á_‹am
->
t
.
om±_£rŸlized_‹am_šfo
;

293 ià(
lwt
)

294 
om±_äame
 = &(
lwt
->
om±_sk_šfo
.
äame
);

296 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

297 
om±_äame
 = &(

298 
·»Á_‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
äame
);

300 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

301 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

305 #ià
INCLUDE_SSC_MARKS


306 
	`SSC_MARK_FORKING
();

308 
	`__kmp_fÜk_ÿÎ
(
loc
, 
gtid
, 
fÜk_cÚ‹xt_š‹l
, 
¬gc
,

309 
	`VOLATILE_CAST
(
miüÙask_t
è
miüÙask
,

310 
	`VOLATILE_CAST
(
Ïunch_t
è
__kmp_švoke_sk_func
,

312 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


313 &
­


315 
­


318 #ià
INCLUDE_SSC_MARKS


319 
	`SSC_MARK_JOINING
();

321 
	`__kmp_još_ÿÎ
(
loc
, 
gtid


322 #ià
OMPT_SUPPORT


324 
fÜk_cÚ‹xt_š‹l


328 
	`va_’d
(
­
);

331 #ià
KMP_STATS_ENABLED


332 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
SERIAL_REGION
) {

333 
	`KMP_EXCHANGE_PARTITIONED_TIMER
(
OMP_£rŸl
);

335 
	`KMP_POP_PARTITIONED_TIMER
();

338 
	}
}

351 
	$__kmpc_push_num_‹ams
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

352 
kmp_št32
 
num_‹ams
, kmp_št32 
num_th»ads
) {

353 
	`KA_TRACE
(20,

355 
glob®_tid
, 
num_‹ams
, 
num_th»ads
));

357 
	`__kmp_push_num_‹ams
(
loc
, 
glob®_tid
, 
num_‹ams
, 
num_th»ads
);

358 
	}
}

370 
	$__kmpc_fÜk_‹ams
(
id’t_t
 *
loc
, 
kmp_št32
 
¬gc
, 
kmpc_miüo
 
miüÙask
,

372 
gtid
 = 
	`__kmp_’Œy_gtid
();

373 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

374 
va_li¡
 
­
;

375 
	`va_¡¬t
(
­
, 
miüÙask
);

377 #ià
KMP_STATS_ENABLED


378 
	`KMP_COUNT_BLOCK
(
OMP_TEAMS
);

379 
¡©s_¡©e_e
 
´evious_¡©e
 = 
	`KMP_GET_THREAD_STATE
();

380 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
SERIAL_REGION
) {

381 
	`KMP_EXCHANGE_PARTITIONED_TIMER
(
OMP_‹ams_ov”h—d
);

383 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_‹ams_ov”h—d
);

388 
this_thr
->
th
.
th_‹ams_miüÙask
 = 
miüÙask
;

389 
this_thr
->
th
.
th_‹ams_Ëv–
 =

390 
this_thr
->
th
.
th_‹am
->
t
.
t_Ëv–
;

392 #ià
OMPT_SUPPORT


393 
kmp_‹am_t
 *
·»Á_‹am
 = 
this_thr
->
th
.
th_‹am
;

394 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

395 ià(
om±_’abËd
.
’abËd
) {

396 
·»Á_‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
]

397 .
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

399 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

404 ià(
this_thr
->
th
.
th_‹ams_size
.
Á—ms
 == 0) {

405 
	`__kmp_push_num_‹ams
(
loc
, 
gtid
, 0, 0);

407 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_£t_Åroc
 >= 1);

408 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹ams_size
.
Á—ms
 >= 1);

409 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹ams_size
.
Áh
 >= 1);

411 
	`__kmp_fÜk_ÿÎ
(
loc
, 
gtid
, 
fÜk_cÚ‹xt_š‹l
, 
¬gc
,

412 
	`VOLATILE_CAST
(
miüÙask_t
)

413 
__kmp_‹ams_ma¡”
,

414 
	`VOLATILE_CAST
(
Ïunch_t
è
__kmp_švoke_‹ams_ma¡”
,

415 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


416 &
­


418 
­


421 
	`__kmp_još_ÿÎ
(
loc
, 
gtid


422 #ià
OMPT_SUPPORT


424 
fÜk_cÚ‹xt_š‹l


429 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_cg_roÙs
);

430 
kmp_cg_roÙ_t
 *
tmp
 = 
this_thr
->
th
.
th_cg_roÙs
;

431 
this_thr
->
th
.
th_cg_roÙs
 = 
tmp
->
up
;

432 
	`KA_TRACE
(100, ("__kmpc_fork_teams: Thread %p…opping‚ode %p‡nd moving up"

434 
this_thr
, 
tmp
,his_thr->
th
.
th_cg_roÙs
,mp->
cg_Áh»ads
));

435 
	`KMP_DEBUG_ASSERT
(
tmp
->
cg_Áh»ads
);

436 
i
 = 
tmp
->
cg_Áh»ads
--;

437 ià(
i
 == 1) {

438 
	`__kmp_ä“
(
tmp
);

441 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_cg_roÙs
);

442 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
 =

443 
this_thr
->
th
.
th_cg_roÙs
->
cg_th»ad_lim™
;

445 
this_thr
->
th
.
th_‹ams_miüÙask
 = 
NULL
;

446 
this_thr
->
th
.
th_‹ams_Ëv–
 = 0;

447 *(
kmp_št64
 *)(&
this_thr
->
th
.
th_‹ams_size
) = 0L;

448 
	`va_’d
(
­
);

449 #ià
KMP_STATS_ENABLED


450 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
SERIAL_REGION
) {

451 
	`KMP_EXCHANGE_PARTITIONED_TIMER
(
OMP_£rŸl
);

453 
	`KMP_POP_PARTITIONED_TIMER
();

456 
	}
}

462 
	$__kmpc_švoke_sk_func
(
gtid
è{  
	`__kmp_švoke_sk_func
(gtid); 
	}
}

476 
	$__kmpc_£rŸlized_·¿Î–
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

480 #ià
OMPT_SUPPORT


481 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

483 
	`__kmp_£rŸlized_·¿Î–
(
loc
, 
glob®_tid
);

484 
	}
}

493 
	$__kmpc_’d_£rŸlized_·¿Î–
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

494 
kmp_š‹º®_cÚŒŞ_t
 *
tİ
;

495 
kmp_šfo_t
 *
this_thr
;

496 
kmp_‹am_t
 *
£rŸl_‹am
;

498 
	`KC_TRACE
(10,

499 ("__kmpc_’d_£rŸlized_·¿Î–: c®Ëd by T#%d\n", 
glob®_tid
));

503 ià(
loc
 !ğ
NULL
 && (loc->
æags
 & 
KMP_IDENT_AUTOPAR
))

507 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

508 
	`__kmp_·¿Î–_š™Ÿlize
();

510 
	`__kmp_»sume_if_soá_·u£d
();

512 
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

513 
£rŸl_‹am
 = 
this_thr
->
th
.
th_£rŸl_‹am
;

515 
kmp_sk_‹am_t
 *
sk_‹am
 = 
this_thr
->
th
.
th_sk_‹am
;

517 ià(
sk_‹am
 !ğ
NULL
 &&ask_‹am->
‰
.
‰_found_´oxy_sks
)

518 
	`__kmp_sk_‹am_wa™
(
this_thr
, 
£rŸl_‹am
 
	`USE_ITT_BUILD_ARG
(
NULL
));

520 
	`KMP_MB
();

521 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
);

522 
	`KMP_ASSERT
(
£rŸl_‹am
->
t
.
t_£rŸlized
);

523 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
£rŸl_‹am
);

524 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
 !ğ
this_thr
->
th
.
th_roÙ
->
r
.
r_roÙ_‹am
);

525 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
);

526 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
[0] =ğ
this_thr
);

528 #ià
OMPT_SUPPORT


529 ià(
om±_’abËd
.
’abËd
 &&

530 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 !ğ
om±_¡©e_ov”h—d
) {

531 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

532 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

533 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

534 
om±_scİe_’d
, 
NULL
, 
	`OMPT_CUR_TASK_DATA
(
this_thr
), 1,

535 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
th»ad_num
, 
om±_sk_im¶ic™
);

539 
om±_d©a_t
 *
·»Á_sk_d©a
;

540 
	`__om±_g‘_sk_šfo_š‹º®
(1, 
NULL
, &
·»Á_sk_d©a
, NULL, NULL, NULL);

542 ià(
om±_’abËd
.
om±_ÿÎback_·¿Î–_’d
) {

543 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

544 &(
£rŸl_‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
), 
·»Á_sk_d©a
,

545 
om±_·¿Î–_švok”_´og¿m
 | 
om±_·¿Î–_‹am
,

546 
	`OMPT_LOAD_RETURN_ADDRESS
(
glob®_tid
));

548 
	`__om±_lw_sk‹am_uÆšk
(
this_thr
);

549 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

555 
tİ
 = 
£rŸl_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
;

556 ià(
tİ
 &&İ->
£rŸl_Ã¡šg_Ëv–
 =ğ
£rŸl_‹am
->
t
.
t_£rŸlized
) {

557 
	`cİy_icvs
(&
£rŸl_‹am
->
t
.
t_th»ads
[0]->
th
.
th_cu¼’t_sk
->
td_icvs
, 
tİ
);

558 
£rŸl_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 = 
tİ
->
Ãxt
;

559 
	`__kmp_ä“
(
tİ
);

563 
£rŸl_‹am
->
t
.
t_Ëv–
--;

566 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
);

568 
di¥©ch_´iv©e_šfo_t
 *
di¥_bufãr
 =

569 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
;

570 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
 =

571 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
->
Ãxt
;

572 
	`__kmp_ä“
(
di¥_bufãr
);

574 
this_thr
->
th
.
th_def_®loÿtÜ
 = 
£rŸl_‹am
->
t
.
t_def_®loÿtÜ
;

576 --
£rŸl_‹am
->
t
.
t_£rŸlized
;

577 ià(
£rŸl_‹am
->
t
.
t_£rŸlized
 == 0) {

581 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


582 ià(
__kmp_šh”™_å_cÚŒŞ
 && 
£rŸl_‹am
->
t
.
t_å_cÚŒŞ_§ved
) {

583 
	`__kmp_ş—r_x87_åu_¡©us_wÜd
();

584 
	`__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(&
£rŸl_‹am
->
t
.
t_x87_åu_cÚŒŞ_wÜd
);

585 
	`__kmp_lßd_mxc¤
(&
£rŸl_‹am
->
t
.
t_mxc¤
);

589 
this_thr
->
th
.
th_‹am
 = 
£rŸl_‹am
->
t
.
t_·»Á
;

590 
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
 = 
£rŸl_‹am
->
t
.
t_ma¡”_tid
;

593 
this_thr
->
th
.
th_‹am_Åroc
 = 
£rŸl_‹am
->
t
.
t_·»Á
->t.
t_Åroc
;

594 
this_thr
->
th
.
th_‹am_ma¡”
 =

595 
£rŸl_‹am
->
t
.
t_·»Á
->t.
t_th»ads
[0];

596 
this_thr
->
th
.
th_‹am_£rŸlized
 =his_thr->th.
th_‹am
->
t
.
t_£rŸlized
;

599 
this_thr
->
th
.
th_di¥©ch
 =

600 &
this_thr
->
th
.
th_‹am
->
t
.
t_di¥©ch
[
£rŸl_‹am
->t.
t_ma¡”_tid
];

602 
	`__kmp_pİ_cu¼’t_sk_äom_th»ad
(
this_thr
);

604 
	`KMP_ASSERT
(
this_thr
->
th
.
th_cu¼’t_sk
->
td_æags
.
executšg
 == 0);

605 
this_thr
->
th
.
th_cu¼’t_sk
->
td_æags
.
executšg
 = 1;

607 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

609 
this_thr
->
th
.
th_sk_‹am
 =

610 
this_thr
->
th
.
th_‹am
->
t
.
t_sk_‹am
[this_thr->th.
th_sk_¡©e
];

611 
	`KA_TRACE
(20,

614 
glob®_tid
, 
this_thr
->
th
.
th_sk_‹am
,his_thr->th.
th_‹am
));

617 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

618 
	`KA_TRACE
(20, ("__kmpc_end_serialized_parallel: T#%d decreasing‚esting "

620 
glob®_tid
, 
£rŸl_‹am
, s”Ÿl_‹am->
t
.
t_£rŸlized
));

624 ià(
__kmp_’v_cÚsi¡’cy_check
)

625 
	`__kmp_pİ_·¿Î–
(
glob®_tid
, 
NULL
);

626 #ià
OMPT_SUPPORT


627 ià(
om±_’abËd
.
’abËd
)

628 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 =

629 ((
this_thr
->
th
.
th_‹am_£rŸlized
è? 
om±_¡©e_wÜk_£rŸl


630 : 
om±_¡©e_wÜk_·¿Î–
);

632 
	}
}

642 
	$__kmpc_æush
(
id’t_t
 *
loc
) {

643 
	`KC_TRACE
(10, ("__kmpc_flush: called\n"));

646 
	`KMP_MB
();

648 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

649 #ià
KMP_MIC


662 ià(!
__kmp_ıušfo
.
š™Ÿlized
) {

663 
	`__kmp_qu”y_ıuid
(&
__kmp_ıušfo
);

665 ià(!
__kmp_ıušfo
.
s£2
) {

668 #ià
KMP_COMPILER_ICC


669 
	`_mm_mãnû
();

670 #–ià
KMP_COMPILER_MSVC


671 
	`MemÜyB¬r›r
();

673 
	`__sync_synchrÚize
();

677 #–ià(
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
 || 
KMP_ARCH_MIPS
 || 
KMP_ARCH_MIPS64
 || \

678 
KMP_ARCH_RISCV64
)

680 #–ià
KMP_ARCH_PPC64


682 #ià
KMP_OS_CNK


691 
	`__kmp_y›ld
();

694 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
¬ch™eùu»


697 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


698 ià(
om±_’abËd
.
om±_ÿÎback_æush
) {

699 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_æush
)(

700 
	`__om±_g‘_th»ad_d©a_š‹º®
(), 
	`OMPT_GET_RETURN_ADDRESS
(0));

703 
	}
}

713 
	$__kmpc_b¬r›r
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

714 
	`KMP_COUNT_BLOCK
(
OMP_BARRIER
);

715 
	`KC_TRACE
(10, ("__kmpc_b¬r›r: c®Ëd T#%d\n", 
glob®_tid
));

717 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

718 
	`__kmp_·¿Î–_š™Ÿlize
();

720 
	`__kmp_»sume_if_soá_·u£d
();

722 ià(
__kmp_’v_cÚsi¡’cy_check
) {

723 ià(
loc
 == 0) {

724 
	`KMP_WARNING
(
CÚ¡ruùId’tInv®id
);

726 
	`__kmp_check_b¬r›r
(
glob®_tid
, 
ù_b¬r›r
, 
loc
);

729 #ià
OMPT_SUPPORT


730 
om±_äame_t
 *
om±_äame
;

731 ià(
om±_’abËd
.
’abËd
) {

732 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

733 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

734 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

735 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

738 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

746 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
FALSE
, 0, 
NULL
, NULL);

747 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


748 ià(
om±_’abËd
.
’abËd
) {

749 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

752 
	}
}

761 
kmp_št32
 
	$__kmpc_ma¡”
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

762 
¡©us
 = 0;

764 
	`KC_TRACE
(10, ("__kmpc_ma¡”: c®Ëd T#%d\n", 
glob®_tid
));

766 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

767 
	`__kmp_·¿Î–_š™Ÿlize
();

769 
	`__kmp_»sume_if_soá_·u£d
();

771 ià(
	`KMP_MASTER_GTID
(
glob®_tid
)) {

772 
	`KMP_COUNT_BLOCK
(
OMP_MASTER
);

773 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_ma¡”
);

774 
¡©us
 = 1;

777 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


778 ià(
¡©us
) {

779 ià(
om±_’abËd
.
om±_ÿÎback_ma¡”
) {

780 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

781 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

783 
tid
 = 
	`__kmp_tid_äom_gtid
(
glob®_tid
);

784 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ma¡”
)(

785 
om±_scİe_begš
, &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

786 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
),

787 
	`OMPT_GET_RETURN_ADDRESS
(0));

792 ià(
__kmp_’v_cÚsi¡’cy_check
) {

793 #ià
KMP_USE_DYNAMIC_LOCK


794 ià(
¡©us
)

795 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
, 
NULL
, 0);

797 
	`__kmp_check_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
, 
NULL
, 0);

799 ià(
¡©us
)

800 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
, 
NULL
);

802 
	`__kmp_check_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
, 
NULL
);

806  
¡©us
;

807 
	}
}

817 
	$__kmpc_’d_ma¡”
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

818 
	`KC_TRACE
(10, ("__kmpc_’d_ma¡”: c®Ëd T#%d\n", 
glob®_tid
));

820 
	`KMP_DEBUG_ASSERT
(
	`KMP_MASTER_GTID
(
glob®_tid
));

821 
	`KMP_POP_PARTITIONED_TIMER
();

823 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


824 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

825 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

826 ià(
om±_’abËd
.
om±_ÿÎback_ma¡”
) {

827 
tid
 = 
	`__kmp_tid_äom_gtid
(
glob®_tid
);

828 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ma¡”
)(

829 
om±_scİe_’d
, &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

830 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
),

831 
	`OMPT_GET_RETURN_ADDRESS
(0));

835 ià(
__kmp_’v_cÚsi¡’cy_check
) {

836 ià(
glob®_tid
 < 0)

837 
	`KMP_WARNING
(
Th»adId’tInv®id
);

839 ià(
	`KMP_MASTER_GTID
(
glob®_tid
))

840 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
);

842 
	}
}

851 
	$__kmpc_Üd”ed
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

852 
cid
 = 0;

853 
kmp_šfo_t
 *
th
;

854 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

856 
	`KC_TRACE
(10, ("__kmpc_Üd”ed: c®Ëd T#%d\n", 
gtid
));

858 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

859 
	`__kmp_·¿Î–_š™Ÿlize
();

861 
	`__kmp_»sume_if_soá_·u£d
();

863 #ià
USE_ITT_BUILD


864 
	`__kmp_™t_Üd”ed_´•
(
gtid
);

868 
th
 = 
__kmp_th»ads
[
gtid
];

870 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


871 
kmp_‹am_t
 *
‹am
;

872 
om±_wa™_id_t
 
lck
;

873 *
cod•Œ_¿
;

874 ià(
om±_’abËd
.
’abËd
) {

875 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

876 
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

877 
lck
 = (
om±_wa™_id_t
)(
ušŒ_t
)&
‹am
->
t
.
t_Üd”ed
.
dt
.
t_v®ue
;

879 
th
->th.
om±_th»ad_šfo
.
wa™_id
 = 
lck
;

880 
th
->th.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wa™_Üd”ed
;

883 
cod•Œ_¿
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

884 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

885 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

886 
om±_mu‹x_Üd”ed
, 
omp_lock_hšt_nÚe
, 
kmp_mu‹x_im¶_¥š
, 
lck
,

887 
cod•Œ_¿
);

892 ià(
th
->th.
th_di¥©ch
->
th_deo_fú
 != 0)

893 (*
th
->th.
th_di¥©ch
->
th_deo_fú
)(&
gtid
, &
cid
, 
loc
);

895 
	`__kmp_·¿Î–_deo
(&
gtid
, &
cid
, 
loc
);

897 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


898 ià(
om±_’abËd
.
’abËd
) {

900 
th
->th.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

901 
th
->th.
om±_th»ad_šfo
.
wa™_id
 = 0;

904 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

905 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

906 
om±_mu‹x_Üd”ed
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ_¿
);

911 #ià
USE_ITT_BUILD


912 
	`__kmp_™t_Üd”ed_¡¬t
(
gtid
);

914 
	}
}

923 
	$__kmpc_’d_Üd”ed
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

924 
cid
 = 0;

925 
kmp_šfo_t
 *
th
;

927 
	`KC_TRACE
(10, ("__kmpc_’d_Üd”ed: c®Ëd T#%d\n", 
gtid
));

929 #ià
USE_ITT_BUILD


930 
	`__kmp_™t_Üd”ed_’d
(
gtid
);

934 
th
 = 
__kmp_th»ads
[
gtid
];

936 ià(
th
->th.
th_di¥©ch
->
th_dxo_fú
 != 0)

937 (*
th
->th.
th_di¥©ch
->
th_dxo_fú
)(&
gtid
, &
cid
, 
loc
);

939 
	`__kmp_·¿Î–_dxo
(&
gtid
, &
cid
, 
loc
);

941 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


942 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

943 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

944 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

945 
om±_mu‹x_Üd”ed
,

946 (
om±_wa™_id_t
)(
ušŒ_t
)&
	`__kmp_‹am_äom_gtid
(
gtid
)

947 ->
t
.
t_Üd”ed
.
dt
.
t_v®ue
,

948 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

951 
	}
}

953 #ià
KMP_USE_DYNAMIC_LOCK


955 
__fÜûšlše
 

956 
	$__kmp_š™_šdœeù_c¥Œ
(
kmp_ü™iÿl_Çme
 *
ü™
, 
id’t_t
 cÚ¡ *
loc
,

957 
kmp_št32
 
gtid
, 
kmp_šdœeù_lockg_t
 
g
) {

960 *
idx
;

961 
kmp_šdœeù_lock_t
 **
lck
;

962 
lck
 = (
kmp_šdœeù_lock_t
 **)
ü™
;

963 
kmp_šdœeù_lock_t
 *
k
 = 
	`__kmp_®loÿ‹_šdœeù_lock
(&
idx
, 
gtid
, 
g
);

964 
	`KMP_I_LOCK_FUNC
(
k
, 
š™
)(k->
lock
);

965 
	`KMP_SET_I_LOCK_LOCATION
(
k
, 
loc
);

966 
	`KMP_SET_I_LOCK_FLAGS
(
k
, 
kmp_lf_ü™iÿl_£ùiÚ
);

967 
	`KA_TRACE
(20,

968 ("__kmp_š™_šdœeù_c¥Œ: in™Ÿlized indœeù†ock #%d\n", 
g
));

969 #ià
USE_ITT_BUILD


970 
	`__kmp_™t_ü™iÿl_ü—tšg
(
k
->
lock
, 
loc
);

972 
¡©us
 = 
	`KMP_COMPARE_AND_STORE_PTR
(
lck
, 
nuÎ±r
, 
k
);

973 ià(
¡©us
 == 0) {

974 #ià
USE_ITT_BUILD


975 
	`__kmp_™t_ü™iÿl_de¡royed
(
k
->
lock
);

981 
	`KMP_DEBUG_ASSERT
(*
lck
 !ğ
NULL
);

982 
	}
}

985 
	#KMP_ACQUIRE_TAS_LOCK
(
lock
, 
gtid
) \

987 
kmp_s_lock_t
 *
l
 = (kmp_s_lock_ˆ*)
lock
; \

988 
kmp_št32
 
s_ä“
 = 
	`KMP_LOCK_FREE
(
s
); \

989 
kmp_št32
 
s_busy
 = 
	`KMP_LOCK_BUSY
(
gtid
 + 1, 
s
); \

990 ià(
	`KMP_ATOMIC_LD_RLX
(&
l
->
lk
.
pŞl
è!ğ
s_ä“
 || \

991 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
l
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
)) { \

992 
kmp_ušt32
 
¥šs
; \

993 
	`KMP_FSYNC_PREPARE
(
l
); \

994 
	`KMP_INIT_YIELD
(
¥šs
); \

995 
kmp_backoff_t
 
backoff
 = 
__kmp_¥š_backoff_·¿ms
; \

997 ià(
	`TCR_4
(
__kmp_Áh
) > \

998 (
__kmp_ava_´oc
 ? __kmp_ava_´oø: 
__kmp_x´oc
)) { \

999 
	`KMP_YIELD
(
TRUE
); \

1001 
	`KMP_YIELD_SPIN
(
¥šs
); \

1003 
	`__kmp_¥š_backoff
(&
backoff
); \

1005 
	`KMP_ATOMIC_LD_RLX
(&
l
->
lk
.
pŞl
è!ğ
s_ä“
 || \

1006 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
l
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
)); \

1008 
	`KMP_FSYNC_ACQUIRED
(
l
); \

1009 }

	)

1012 
	#KMP_TEST_TAS_LOCK
(
lock
, 
gtid
, 
rc
) \

1014 
kmp_s_lock_t
 *
l
 = (kmp_s_lock_ˆ*)
lock
; \

1015 
kmp_št32
 
s_ä“
 = 
	`KMP_LOCK_FREE
(
s
); \

1016 
kmp_št32
 
s_busy
 = 
	`KMP_LOCK_BUSY
(
gtid
 + 1, 
s
); \

1017 
rc
 = 
	`KMP_ATOMIC_LD_RLX
(&
l
->
lk
.
pŞl
è=ğ
s_ä“
 && \

1018 
	`__kmp_©omic_com·»_¡Üe_acq
(&
l
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
); \

1019 }

	)

1022 
	#KMP_RELEASE_TAS_LOCK
(
lock
, 
gtid
) \

1023 { 
	`KMP_ATOMIC_ST_REL
(&((
kmp_s_lock_t
 *)
lock
)->
lk
.
pŞl
, 
	`KMP_LOCK_FREE
(
s
)); }

	)

1025 #ià
KMP_USE_FUTEX


1027 
	~<sys/sysÿÎ.h
>

1028 
	~<uni¡d.h
>

1029 #iâdeà
FUTEX_WAIT


1030 
	#FUTEX_WAIT
 0

	)

1032 #iâdeà
FUTEX_WAKE


1033 
	#FUTEX_WAKE
 1

	)

1037 
	#KMP_ACQUIRE_FUTEX_LOCK
(
lock
, 
gtid
) \

1039 
kmp_fu‹x_lock_t
 *
áx
 = (kmp_fu‹x_lock_ˆ*)
lock
; \

1040 
kmp_št32
 
gtid_code
 = (
gtid
 + 1) << 1; \

1041 
	`KMP_MB
(); \

1042 
	`KMP_FSYNC_PREPARE
(
áx
); \

1043 
kmp_št32
 
pŞl_v®
; \

1044 (
pŞl_v®
 = 
	`KMP_COMPARE_AND_STORE_RET32
( \

1045 &(
áx
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
), \

1046 
	`KMP_LOCK_BUSY
(
gtid_code
, 
fu‹x
))è!ğ
	`KMP_LOCK_FREE
(futex)) { \

1047 
kmp_št32
 
cÚd
 = 
	`KMP_LOCK_STRIP
(
pŞl_v®
) & 1; \

1048 ià(!
cÚd
) { \

1049 ià(!
	`KMP_COMPARE_AND_STORE_RET32
(&(
áx
->
lk
.
pŞl
), 
pŞl_v®
, \

1050 
pŞl_v®
 | \

1051 
	`KMP_LOCK_BUSY
(1, 
fu‹x
))) { \

1054 
pŞl_v®
 |ğ
	`KMP_LOCK_BUSY
(1, 
fu‹x
); \

1056 
kmp_št32
 
rc
; \

1057 ià((
rc
 = 
	`sysÿÎ
(
__NR_fu‹x
, &(
áx
->
lk
.
pŞl
), 
FUTEX_WAIT
, 
pŞl_v®
, \

1058 
NULL
, NULL, 0)) != 0) { \

1061 
gtid_code
 |= 1; \

1063 
	`KMP_FSYNC_ACQUIRED
(
áx
); \

1064 }

	)

1067 
	#KMP_TEST_FUTEX_LOCK
(
lock
, 
gtid
, 
rc
) \

1069 
kmp_fu‹x_lock_t
 *
áx
 = (kmp_fu‹x_lock_ˆ*)
lock
; \

1070 ià(
	`KMP_COMPARE_AND_STORE_ACQ32
(&(
áx
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
), \

1071 
	`KMP_LOCK_BUSY
(
gtid
 + 1 << 1, 
fu‹x
))) { \

1072 
	`KMP_FSYNC_ACQUIRED
(
áx
); \

1073 
rc
 = 
TRUE
; \

1075 
rc
 = 
FALSE
; \

1077 }

	)

1080 
	#KMP_RELEASE_FUTEX_LOCK
(
lock
, 
gtid
) \

1082 
kmp_fu‹x_lock_t
 *
áx
 = (kmp_fu‹x_lock_ˆ*)
lock
; \

1083 
	`KMP_MB
(); \

1084 
	`KMP_FSYNC_RELEASING
(
áx
); \

1085 
kmp_št32
 
pŞl_v®
 = \

1086 
	`KMP_XCHG_FIXED32
(&(
áx
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
)); \

1087 ià(
	`KMP_LOCK_STRIP
(
pŞl_v®
) & 1) { \

1088 
	`sysÿÎ
(
__NR_fu‹x
, &(
áx
->
lk
.
pŞl
), 
FUTEX_WAKE
, \

1089 
	`KMP_LOCK_BUSY
(1, 
fu‹x
), 
NULL
, NULL, 0); \

1091 
	`KMP_MB
(); \

1092 
	`KMP_YIELD_OVERSUB
(); \

1093 }

	)

1099 
kmp_u£r_lock_p
 
	$__kmp_g‘_ü™iÿl_£ùiÚ_±r
(
kmp_ü™iÿl_Çme
 *
ü™
,

1100 
id’t_t
 cÚ¡ *
loc
,

1101 
kmp_št32
 
gtid
) {

1102 
kmp_u£r_lock_p
 *
lck_µ
 = (kmp_u£r_lock_°*)
ü™
;

1105 
kmp_u£r_lock_p
 
lck
 = (kmp_u£r_lock_p)
	`TCR_PTR
(*
lck_µ
);

1107 ià(
lck
 =ğ
NULL
) {

1108 *
idx
;

1112 
lck
 = 
	`__kmp_u£r_lock_®loÿ‹
(&
idx
, 
gtid
, 
kmp_lf_ü™iÿl_£ùiÚ
);

1113 
	`__kmp_š™_u£r_lock_w™h_checks
(
lck
);

1114 
	`__kmp_£t_u£r_lock_loÿtiÚ
(
lck
, 
loc
);

1115 #ià
USE_ITT_BUILD


1116 
	`__kmp_™t_ü™iÿl_ü—tšg
(
lck
);

1127 
¡©us
 = 
	`KMP_COMPARE_AND_STORE_PTR
(
lck_µ
, 0, 
lck
);

1129 ià(
¡©us
 == 0) {

1131 #ià
USE_ITT_BUILD


1132 
	`__kmp_™t_ü™iÿl_de¡royed
(
lck
);

1136 
	`__kmp_de¡roy_u£r_lock_w™h_checks
(
lck
);

1137 
	`__kmp_u£r_lock_ä“
(&
idx
, 
gtid
, 
lck
);

1138 
lck
 = (
kmp_u£r_lock_p
)
	`TCR_PTR
(*
lck_µ
);

1139 
	`KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

1142  
lck
;

1143 
	}
}

1157 
	$__kmpc_ü™iÿl
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

1158 
kmp_ü™iÿl_Çme
 *
ü™
) {

1159 #ià
KMP_USE_DYNAMIC_LOCK


1160 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1161 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

1163 
	`__kmpc_ü™iÿl_w™h_hšt
(
loc
, 
glob®_tid
, 
ü™
, 
omp_lock_hšt_nÚe
);

1165 
	`KMP_COUNT_BLOCK
(
OMP_CRITICAL
);

1166 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1167 
om±_¡©e_t
 
´ev_¡©e
 = 
om±_¡©e_undefšed
;

1168 
om±_th»ad_šfo_t
 
ti
;

1170 
kmp_u£r_lock_p
 
lck
;

1172 
	`KC_TRACE
(10, ("__kmpc_ü™iÿl: c®Ëd T#%d\n", 
glob®_tid
));

1176 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_ü™iÿl_wa™
);

1177 
	`KMP_CHECK_USER_LOCK_INIT
();

1179 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

1180 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_CRITICAL_SIZE
)) {

1181 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

1183 #ià
KMP_USE_FUTEX


1184 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

1185 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_CRITICAL_SIZE
)) {

1186 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

1190 
lck
 = 
	`__kmp_g‘_ü™iÿl_£ùiÚ_±r
(
ü™
, 
loc
, 
glob®_tid
);

1193 ià(
__kmp_’v_cÚsi¡’cy_check
)

1194 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
);

1201 #ià
USE_ITT_BUILD


1202 
	`__kmp_™t_ü™iÿl_acquœšg
(
lck
);

1204 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1205 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1206 *
cod•Œ_¿
 = 
NULL
;

1207 ià(
om±_’abËd
.
’abËd
) {

1208 
ti
 = 
__kmp_th»ads
[
glob®_tid
]->
th
.
om±_th»ad_šfo
;

1210 
´ev_¡©e
 = 
ti
.
¡©e
;

1211 
ti
.
wa™_id
 = (
om±_wa™_id_t
)(
ušŒ_t
)
lck
;

1212 
ti
.
¡©e
 = 
om±_¡©e_wa™_ü™iÿl
;

1215 
cod•Œ_¿
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

1216 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

1217 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

1218 
om±_mu‹x_ü™iÿl
, 
omp_lock_hšt_nÚe
, 
	`__om±_g‘_mu‹x_im¶_ty³
(),

1219 (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ_¿
);

1225 
	`__kmp_acquœe_u£r_lock_w™h_checks
(
lck
, 
glob®_tid
);

1227 #ià
USE_ITT_BUILD


1228 
	`__kmp_™t_ü™iÿl_acquœed
(
lck
);

1230 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1231 ià(
om±_’abËd
.
’abËd
) {

1233 
ti
.
¡©e
 = 
´ev_¡©e
;

1234 
ti
.
wa™_id
 = 0;

1237 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

1238 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

1239 
om±_mu‹x_ü™iÿl
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ_¿
);

1243 
	`KMP_POP_PARTITIONED_TIMER
();

1245 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_ü™iÿl
);

1246 
	`KA_TRACE
(15, ("__kmpc_ü™iÿl: dÚT#%d\n", 
glob®_tid
));

1248 
	}
}

1250 #ià
KMP_USE_DYNAMIC_LOCK


1253 
__fÜûšlše
 
kmp_dyÇ_lock£q_t
 
	$__kmp_m­_hšt_to_lock
(
ušŒ_t
 
hšt
) {

1254 #ià
KMP_USE_TSX


1255 
	#KMP_TSX_LOCK
(
£q
è
lock£q_
##
	)
seq

1257 
	#KMP_TSX_LOCK
(
£q
è
__kmp_u£r_lock_£q


	)

1260 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1261 
	#KMP_CPUINFO_RTM
 (
__kmp_ıušfo
.
¹m
)

	)

1263 
	#KMP_CPUINFO_RTM
 0

	)

1267 ià(
hšt
 & 
kmp_lock_hšt_hË
)

1268  
	`KMP_TSX_LOCK
(
hË
);

1269 ià(
hšt
 & 
kmp_lock_hšt_¹m
)

1270  
KMP_CPUINFO_RTM
 ? 
	`KMP_TSX_LOCK
(
¹m
è: 
__kmp_u£r_lock_£q
;

1271 ià(
hšt
 & 
kmp_lock_hšt_ad­tive
)

1272  
KMP_CPUINFO_RTM
 ? 
	`KMP_TSX_LOCK
(
ad­tive
è: 
__kmp_u£r_lock_£q
;

1275 ià((
hšt
 & 
omp_lock_hšt_cÚ‹nded
è&& (hšˆ& 
omp_lock_hšt_uncÚ‹nded
))

1276  
__kmp_u£r_lock_£q
;

1277 ià((
hšt
 & 
omp_lock_hšt_¥ecuÏtive
) &&

1278 (
hšt
 & 
omp_lock_hšt_nÚ¥ecuÏtive
))

1279  
__kmp_u£r_lock_£q
;

1282 ià(
hšt
 & 
omp_lock_hšt_cÚ‹nded
)

1283  
lock£q_queušg
;

1286 ià((
hšt
 & 
omp_lock_hšt_uncÚ‹nded
è&& !(hšˆ& 
omp_lock_hšt_¥ecuÏtive
))

1287  
lock£q_s
;

1290 ià(
hšt
 & 
omp_lock_hšt_¥ecuÏtive
)

1291  
	`KMP_TSX_LOCK
(
hË
);

1293  
__kmp_u£r_lock_£q
;

1294 
	}
}

1296 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1297 #ià
KMP_USE_DYNAMIC_LOCK


1298 
kmp_mu‹x_im¶_t


1299 
	$__om±_g‘_mu‹x_im¶_ty³
(*
u£r_lock
, 
kmp_šdœeù_lock_t
 *
ock
 = 0) {

1300 ià(
u£r_lock
) {

1301 
	`KMP_EXTRACT_D_TAG
(
u£r_lock
)) {

1304 #ià
KMP_USE_FUTEX


1305 
lockg_fu‹x
:

1306  
kmp_mu‹x_im¶_queušg
;

1308 
lockg_s
:

1309  
kmp_mu‹x_im¶_¥š
;

1310 #ià
KMP_USE_TSX


1311 
lockg_hË
:

1312  
kmp_mu‹x_im¶_¥ecuÏtive
;

1315  
kmp_mu‹x_im¶_nÚe
;

1317 
ock
 = 
	`KMP_LOOKUP_I_LOCK
(
u£r_lock
);

1319 
	`KMP_ASSERT
(
ock
);

1320 
ock
->
ty³
) {

1321 #ià
KMP_USE_TSX


1322 
lockg_ad­tive
:

1323 
lockg_¹m
:

1324  
kmp_mu‹x_im¶_¥ecuÏtive
;

1326 
lockg_Ã¡ed_s
:

1327  
kmp_mu‹x_im¶_¥š
;

1328 #ià
KMP_USE_FUTEX


1329 
lockg_Ã¡ed_fu‹x
:

1331 
lockg_tick‘
:

1332 
lockg_queušg
:

1333 
lockg_drd·
:

1334 
lockg_Ã¡ed_tick‘
:

1335 
lockg_Ã¡ed_queušg
:

1336 
lockg_Ã¡ed_drd·
:

1337  
kmp_mu‹x_im¶_queušg
;

1339  
kmp_mu‹x_im¶_nÚe
;

1341 
	}
}

1344 
kmp_mu‹x_im¶_t
 
	$__om±_g‘_mu‹x_im¶_ty³
() {

1345 
__kmp_u£r_lock_kšd
) {

1346 
lk_s
:

1347  
kmp_mu‹x_im¶_¥š
;

1348 #ià
KMP_USE_FUTEX


1349 
lk_fu‹x
:

1351 
lk_tick‘
:

1352 
lk_queušg
:

1353 
lk_drd·
:

1354  
kmp_mu‹x_im¶_queušg
;

1355 #ià
KMP_USE_TSX


1356 
lk_hË
:

1357 
lk_¹m
:

1358 
lk_ad­tive
:

1359  
kmp_mu‹x_im¶_¥ecuÏtive
;

1362  
kmp_mu‹x_im¶_nÚe
;

1364 
	}
}

1381 
	$__kmpc_ü™iÿl_w™h_hšt
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

1382 
kmp_ü™iÿl_Çme
 *
ü™
, 
ušt32_t
 
hšt
) {

1383 
	`KMP_COUNT_BLOCK
(
OMP_CRITICAL
);

1384 
kmp_u£r_lock_p
 
lck
;

1385 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1386 
om±_¡©e_t
 
´ev_¡©e
 = 
om±_¡©e_undefšed
;

1387 
om±_th»ad_šfo_t
 
ti
;

1389 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
glob®_tid
);

1390 ià(!
cod•Œ
)

1391 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

1394 
	`KC_TRACE
(10, ("__kmpc_ü™iÿl: c®Ëd T#%d\n", 
glob®_tid
));

1396 
kmp_dyÇ_lock_t
 *
lk
 = (kmp_dyÇ_lock_ˆ*)
ü™
;

1398 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_ü™iÿl_wa™
);

1399 ià(*
lk
 == 0) {

1400 
kmp_dyÇ_lock£q_t
 
lck£q
 = 
	`__kmp_m­_hšt_to_lock
(
hšt
);

1401 ià(
	`KMP_IS_D_LOCK
(
lck£q
)) {

1402 
	`KMP_COMPARE_AND_STORE_ACQ32
((vŞ©
kmp_št32
 *)
ü™
, 0,

1403 
	`KMP_GET_D_TAG
(
lck£q
));

1405 
	`__kmp_š™_šdœeù_c¥Œ
(
ü™
, 
loc
, 
glob®_tid
, 
	`KMP_GET_I_TAG
(
lck£q
));

1411 ià(
	`KMP_EXTRACT_D_TAG
(
lk
) != 0) {

1412 
lck
 = (
kmp_u£r_lock_p
)
lk
;

1413 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1414 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
,

1415 
	`__kmp_m­_hšt_to_lock
(
hšt
));

1417 #ià
USE_ITT_BUILD


1418 
	`__kmp_™t_ü™iÿl_acquœšg
(
lck
);

1420 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1421 ià(
om±_’abËd
.
’abËd
) {

1422 
ti
 = 
__kmp_th»ads
[
glob®_tid
]->
th
.
om±_th»ad_šfo
;

1424 
´ev_¡©e
 = 
ti
.
¡©e
;

1425 
ti
.
wa™_id
 = (
om±_wa™_id_t
)(
ušŒ_t
)
lck
;

1426 
ti
.
¡©e
 = 
om±_¡©e_wa™_ü™iÿl
;

1429 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

1430 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

1431 
om±_mu‹x_ü™iÿl
, ()
hšt
,

1432 
	`__om±_g‘_mu‹x_im¶_ty³
(
ü™
), (
om±_wa™_id_t
)(
ušŒ_t
)
lck
,

1433 
cod•Œ
);

1437 #ià
KMP_USE_INLINED_TAS


1438 ià(
__kmp_u£r_lock_£q
 =ğ
lock£q_s
 && !
__kmp_’v_cÚsi¡’cy_check
) {

1439 
	`KMP_ACQUIRE_TAS_LOCK
(
lck
, 
glob®_tid
);

1441 #–ià
KMP_USE_INLINED_FUTEX


1442 ià(
__kmp_u£r_lock_£q
 =ğ
lock£q_fu‹x
 && !
__kmp_’v_cÚsi¡’cy_check
) {

1443 
	`KMP_ACQUIRE_FUTEX_LOCK
(
lck
, 
glob®_tid
);

1447 
	`KMP_D_LOCK_FUNC
(
lk
, 
£t
)Ök, 
glob®_tid
);

1450 
kmp_šdœeù_lock_t
 *
k
 = *((kmp_šdœeù_lock_ˆ**)
lk
);

1451 
lck
 = 
k
->
lock
;

1452 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1453 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
,

1454 
	`__kmp_m­_hšt_to_lock
(
hšt
));

1456 #ià
USE_ITT_BUILD


1457 
	`__kmp_™t_ü™iÿl_acquœšg
(
lck
);

1459 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1460 ià(
om±_’abËd
.
’abËd
) {

1461 
ti
 = 
__kmp_th»ads
[
glob®_tid
]->
th
.
om±_th»ad_šfo
;

1463 
´ev_¡©e
 = 
ti
.
¡©e
;

1464 
ti
.
wa™_id
 = (
om±_wa™_id_t
)(
ušŒ_t
)
lck
;

1465 
ti
.
¡©e
 = 
om±_¡©e_wa™_ü™iÿl
;

1468 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

1469 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

1470 
om±_mu‹x_ü™iÿl
, ()
hšt
,

1471 
	`__om±_g‘_mu‹x_im¶_ty³
(0, 
k
), (
om±_wa™_id_t
)(
ušŒ_t
)
lck
,

1472 
cod•Œ
);

1476 
	`KMP_I_LOCK_FUNC
(
k
, 
£t
)(
lck
, 
glob®_tid
);

1478 
	`KMP_POP_PARTITIONED_TIMER
();

1480 #ià
USE_ITT_BUILD


1481 
	`__kmp_™t_ü™iÿl_acquœed
(
lck
);

1483 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1484 ià(
om±_’abËd
.
’abËd
) {

1486 
ti
.
¡©e
 = 
´ev_¡©e
;

1487 
ti
.
wa™_id
 = 0;

1490 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

1491 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

1492 
om±_mu‹x_ü™iÿl
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

1497 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_ü™iÿl
);

1498 
	`KA_TRACE
(15, ("__kmpc_ü™iÿl: dÚT#%d\n", 
glob®_tid
));

1499 
	}
}

1512 
	$__kmpc_’d_ü™iÿl
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

1513 
kmp_ü™iÿl_Çme
 *
ü™
) {

1514 
kmp_u£r_lock_p
 
lck
;

1516 
	`KC_TRACE
(10, ("__kmpc_’d_ü™iÿl: c®Ëd T#%d\n", 
glob®_tid
));

1518 #ià
KMP_USE_DYNAMIC_LOCK


1519 ià(
	`KMP_IS_D_LOCK
(
__kmp_u£r_lock_£q
)) {

1520 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

1521 
	`KMP_ASSERT
(
lck
 !ğ
NULL
);

1522 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1523 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

1525 #ià
USE_ITT_BUILD


1526 
	`__kmp_™t_ü™iÿl_»Ëasšg
(
lck
);

1528 #ià
KMP_USE_INLINED_TAS


1529 ià(
__kmp_u£r_lock_£q
 =ğ
lock£q_s
 && !
__kmp_’v_cÚsi¡’cy_check
) {

1530 
	`KMP_RELEASE_TAS_LOCK
(
lck
, 
glob®_tid
);

1532 #–ià
KMP_USE_INLINED_FUTEX


1533 ià(
__kmp_u£r_lock_£q
 =ğ
lock£q_fu‹x
 && !
__kmp_’v_cÚsi¡’cy_check
) {

1534 
	`KMP_RELEASE_FUTEX_LOCK
(
lck
, 
glob®_tid
);

1538 
	`KMP_D_LOCK_FUNC
(
lck
, 
un£t
)((
kmp_dyÇ_lock_t
 *îck, 
glob®_tid
);

1541 
kmp_šdœeù_lock_t
 *
k
 =

1542 (
kmp_šdœeù_lock_t
 *)
	`TCR_PTR
(*((kmp_šdœeù_lock_ˆ**)
ü™
));

1543 
	`KMP_ASSERT
(
k
 !ğ
NULL
);

1544 
lck
 = 
k
->
lock
;

1545 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1546 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

1548 #ià
USE_ITT_BUILD


1549 
	`__kmp_™t_ü™iÿl_»Ëasšg
(
lck
);

1551 
	`KMP_I_LOCK_FUNC
(
k
, 
un£t
)(
lck
, 
glob®_tid
);

1556 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

1557 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_CRITICAL_SIZE
)) {

1558 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

1560 #ià
KMP_USE_FUTEX


1561 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

1562 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_CRITICAL_SIZE
)) {

1563 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

1567 
lck
 = (
kmp_u£r_lock_p
)
	`TCR_PTR
(*((kmp_u£r_lock_°*)
ü™
));

1570 
	`KMP_ASSERT
(
lck
 !ğ
NULL
);

1572 ià(
__kmp_’v_cÚsi¡’cy_check
)

1573 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

1575 #ià
USE_ITT_BUILD


1576 
	`__kmp_™t_ü™iÿl_»Ëasšg
(
lck
);

1580 
	`__kmp_»Ëa£_u£r_lock_w™h_checks
(
lck
, 
glob®_tid
);

1584 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1587 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

1588 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

1589 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

1590 
om±_mu‹x_ü™iÿl
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
,

1591 
	`OMPT_LOAD_RETURN_ADDRESS
(0));

1595 
	`KMP_POP_PARTITIONED_TIMER
();

1596 
	`KA_TRACE
(15, ("__kmpc_’d_ü™iÿl: dÚT#%d\n", 
glob®_tid
));

1597 
	}
}

1608 
kmp_št32
 
	$__kmpc_b¬r›r_ma¡”
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1609 
¡©us
;

1611 
	`KC_TRACE
(10, ("__kmpc_b¬r›r_ma¡”: c®Ëd T#%d\n", 
glob®_tid
));

1613 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

1614 
	`__kmp_·¿Î–_š™Ÿlize
();

1616 
	`__kmp_»sume_if_soá_·u£d
();

1618 ià(
__kmp_’v_cÚsi¡’cy_check
)

1619 
	`__kmp_check_b¬r›r
(
glob®_tid
, 
ù_b¬r›r
, 
loc
);

1621 #ià
OMPT_SUPPORT


1622 
om±_äame_t
 *
om±_äame
;

1623 ià(
om±_’abËd
.
’abËd
) {

1624 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

1625 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

1626 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1627 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

1630 #ià
USE_ITT_NOTIFY


1631 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

1633 
¡©us
 = 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
TRUE
, 0, 
NULL
, NULL);

1634 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1635 ià(
om±_’abËd
.
’abËd
) {

1636 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

1640  (
¡©us
 != 0) ? 0 : 1;

1641 
	}
}

1652 
	$__kmpc_’d_b¬r›r_ma¡”
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1653 
	`KC_TRACE
(10, ("__kmpc_’d_b¬r›r_ma¡”: c®Ëd T#%d\n", 
glob®_tid
));

1655 
	`__kmp_’d_¥l™_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
);

1656 
	}
}

1668 
kmp_št32
 
	$__kmpc_b¬r›r_ma¡”_nowa™
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1669 
kmp_št32
 
»t
;

1671 
	`KC_TRACE
(10, ("__kmpc_b¬r›r_ma¡”_nowa™: c®Ëd T#%d\n", 
glob®_tid
));

1673 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

1674 
	`__kmp_·¿Î–_š™Ÿlize
();

1676 
	`__kmp_»sume_if_soá_·u£d
();

1678 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1679 ià(
loc
 == 0) {

1680 
	`KMP_WARNING
(
CÚ¡ruùId’tInv®id
);

1682 
	`__kmp_check_b¬r›r
(
glob®_tid
, 
ù_b¬r›r
, 
loc
);

1685 #ià
OMPT_SUPPORT


1686 
om±_äame_t
 *
om±_äame
;

1687 ià(
om±_’abËd
.
’abËd
) {

1688 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

1689 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

1690 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1691 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

1694 #ià
USE_ITT_NOTIFY


1695 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

1697 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
FALSE
, 0, 
NULL
, NULL);

1698 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1699 ià(
om±_’abËd
.
’abËd
) {

1700 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

1704 
»t
 = 
	`__kmpc_ma¡”
(
loc
, 
glob®_tid
);

1706 ià(
__kmp_’v_cÚsi¡’cy_check
) {

1710 ià(
glob®_tid
 < 0) {

1711 
	`KMP_WARNING
(
Th»adId’tInv®id
);

1713 ià(
»t
) {

1717 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ma¡”
, 
loc
);

1721  (
»t
);

1722 
	}
}

1736 
kmp_št32
 
	$__kmpc_sšgË
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1737 
kmp_št32
 
rc
 = 
	`__kmp_’‹r_sšgË
(
glob®_tid
, 
loc
, 
TRUE
);

1739 ià(
rc
) {

1741 
	`KMP_COUNT_BLOCK
(
OMP_SINGLE
);

1742 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sšgË
);

1745 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1746 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

1747 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

1748 
tid
 = 
	`__kmp_tid_äom_gtid
(
glob®_tid
);

1750 ià(
om±_’abËd
.
’abËd
) {

1751 ià(
rc
) {

1752 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

1753 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

1754 
om±_wÜk_sšgË_executÜ
, 
om±_scİe_begš
,

1755 &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

1756 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
),

1757 1, 
	`OMPT_GET_RETURN_ADDRESS
(0));

1760 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

1761 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

1762 
om±_wÜk_sšgË_Ùh”
, 
om±_scİe_begš
,

1763 &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

1764 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
),

1765 1, 
	`OMPT_GET_RETURN_ADDRESS
(0));

1766 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

1767 
om±_wÜk_sšgË_Ùh”
, 
om±_scİe_’d
,

1768 &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

1769 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
),

1770 1, 
	`OMPT_GET_RETURN_ADDRESS
(0));

1776  
rc
;

1777 
	}
}

1788 
	$__kmpc_’d_sšgË
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1789 
	`__kmp_ex™_sšgË
(
glob®_tid
);

1790 
	`KMP_POP_PARTITIONED_TIMER
();

1792 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1793 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

1794 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

1795 
tid
 = 
	`__kmp_tid_äom_gtid
(
glob®_tid
);

1797 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

1798 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

1799 
om±_wÜk_sšgË_executÜ
, 
om±_scİe_’d
,

1800 &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
),

1801 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
), 1,

1802 
	`OMPT_GET_RETURN_ADDRESS
(0));

1805 
	}
}

1814 
	$__kmpc_fÜ_¡©ic_fši
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1815 
	`KMP_POP_PARTITIONED_TIMER
();

1816 
	`KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_fš˜ÿÎed T#%d\n", 
glob®_tid
));

1818 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1819 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

1820 
om±_wÜk_t
 
om±_wÜk_ty³
 = 
om±_wÜk_loİ
;

1821 
om±_‹am_šfo_t
 *
‹am_šfo
 = 
	`__om±_g‘_‹amšfo
(0, 
NULL
);

1822 
om±_sk_šfo_t
 *
sk_šfo
 = 
	`__om±_g‘_sk_šfo_objeù
(0);

1824 ià(
loc
 !ğ
NULL
) {

1825 ià((
loc
->
æags
 & 
KMP_IDENT_WORK_LOOP
) != 0) {

1826 
om±_wÜk_ty³
 = 
om±_wÜk_loİ
;

1827 } ià((
loc
->
æags
 & 
KMP_IDENT_WORK_SECTIONS
) != 0) {

1828 
om±_wÜk_ty³
 = 
om±_wÜk_£ùiÚs
;

1829 } ià((
loc
->
æags
 & 
KMP_IDENT_WORK_DISTRIBUTE
) != 0) {

1830 
om±_wÜk_ty³
 = 
om±_wÜk_di¡ribu‹
;

1835 
	`KMP_DEBUG_ASSERT
(
om±_wÜk_ty³
);

1837 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

1838 
om±_wÜk_ty³
, 
om±_scİe_’d
, &(
‹am_šfo
->
·¿Î–_d©a
),

1839 &(
sk_šfo
->
sk_d©a
), 0, 
	`OMPT_GET_RETURN_ADDRESS
(0));

1842 ià(
__kmp_’v_cÚsi¡’cy_check
)

1843 
	`__kmp_pİ_wÜksh¬e
(
glob®_tid
, 
ù_pdo
, 
loc
);

1844 
	}
}

1849 
	$ompc_£t_num_th»ads
(
¬g
) {

1851 
	`__kmp_£t_num_th»ads
(
¬g
, 
	`__kmp_’Œy_gtid
());

1852 
	}
}

1854 
	$ompc_£t_dyÇmic
(
æag
) {

1855 
kmp_šfo_t
 *
th»ad
;

1858 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

1860 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

1862 
	`£t__dyÇmic
(
th»ad
, 
æag
 ? 
TRUE
 : 
FALSE
);

1863 
	}
}

1865 
	$ompc_£t_Ã¡ed
(
æag
) {

1866 
kmp_šfo_t
 *
th»ad
;

1869 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

1871 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

1873 
	`£t__max_aùive_Ëv–s
(
th»ad
, 
æag
 ? 
__kmp_dæt_max_aùive_Ëv–s
 : 1);

1874 
	}
}

1876 
	$ompc_£t_max_aùive_Ëv–s
(
max_aùive_Ëv–s
) {

1881 
	`__kmp_£t_max_aùive_Ëv–s
(
	`__kmp_’Œy_gtid
(), 
max_aùive_Ëv–s
);

1882 
	}
}

1884 
	$ompc_£t_scheduË
(
omp_sched_t
 
kšd
, 
modif›r
) {

1886 
	`__kmp_£t_scheduË
(
	`__kmp_’Œy_gtid
(), (
kmp_sched_t
)
kšd
, 
modif›r
);

1887 
	}
}

1889 
	$ompc_g‘_ªû¡Ü_th»ad_num
(
Ëv–
) {

1890  
	`__kmp_g‘_ªû¡Ü_th»ad_num
(
	`__kmp_’Œy_gtid
(), 
Ëv–
);

1891 
	}
}

1893 
	$ompc_g‘_‹am_size
(
Ëv–
) {

1894  
	`__kmp_g‘_‹am_size
(
	`__kmp_’Œy_gtid
(), 
Ëv–
);

1895 
	}
}

1899 
	$ompc_£t_affš™y_fÜm©
(cÚ¡ *
fÜm©
) {

1900 ià(!
__kmp_š™_£rŸl
) {

1901 
	`__kmp_£rŸl_š™Ÿlize
();

1903 
	`__kmp_¡ºıy_Œunÿ‹
(
__kmp_affš™y_fÜm©
, 
KMP_AFFINITY_FORMAT_SIZE
,

1904 
fÜm©
, 
	`KMP_STRLEN
(format) + 1);

1905 
	}
}

1907 
size_t
 
	$ompc_g‘_affš™y_fÜm©
(*
bufãr
, 
size_t
 
size
) {

1908 
size_t
 
fÜm©_size
;

1909 ià(!
__kmp_š™_£rŸl
) {

1910 
	`__kmp_£rŸl_š™Ÿlize
();

1912 
fÜm©_size
 = 
	`KMP_STRLEN
(
__kmp_affš™y_fÜm©
);

1913 ià(
bufãr
 && 
size
) {

1914 
	`__kmp_¡ºıy_Œunÿ‹
(
bufãr
, 
size
, 
__kmp_affš™y_fÜm©
,

1915 
fÜm©_size
 + 1);

1917  
fÜm©_size
;

1918 
	}
}

1920 
	$ompc_di¥Ïy_affš™y
(cÚ¡ *
fÜm©
) {

1921 
gtid
;

1922 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

1923 
	`__kmp_middË_š™Ÿlize
();

1925 
gtid
 = 
	`__kmp_g‘_gtid
();

1926 
	`__kmp_aux_di¥Ïy_affš™y
(
gtid
, 
fÜm©
);

1927 
	}
}

1929 
size_t
 
	$ompc_ÿ±u»_affš™y
(*
bufãr
, 
size_t
 
buf_size
,

1930 cÚ¡ *
fÜm©
) {

1931 
gtid
;

1932 
size_t
 
num_»quœed
;

1933 
kmp_¡r_buf_t
 
ÿ±u»_buf
;

1934 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

1935 
	`__kmp_middË_š™Ÿlize
();

1937 
gtid
 = 
	`__kmp_g‘_gtid
();

1938 
	`__kmp_¡r_buf_š™
(&
ÿ±u»_buf
);

1939 
num_»quœed
 = 
	`__kmp_aux_ÿ±u»_affš™y
(
gtid
, 
fÜm©
, &
ÿ±u»_buf
);

1940 ià(
bufãr
 && 
buf_size
) {

1941 
	`__kmp_¡ºıy_Œunÿ‹
(
bufãr
, 
buf_size
, 
ÿ±u»_buf
.
¡r
,

1942 
ÿ±u»_buf
.
u£d
 + 1);

1944 
	`__kmp_¡r_buf_ä“
(&
ÿ±u»_buf
);

1945  
num_»quœed
;

1946 
	}
}

1948 
	$kmpc_£t_¡acksize
(
¬g
) {

1950 
	`__kmp_aux_£t_¡acksize
(
¬g
);

1951 
	}
}

1953 
	$kmpc_£t_¡acksize_s
(
size_t
 
¬g
) {

1955 
	`__kmp_aux_£t_¡acksize
(
¬g
);

1956 
	}
}

1958 
	$kmpc_£t_blocktime
(
¬g
) {

1959 
gtid
, 
tid
;

1960 
kmp_šfo_t
 *
th»ad
;

1962 
gtid
 = 
	`__kmp_’Œy_gtid
();

1963 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

1964 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

1966 
	`__kmp_aux_£t_blocktime
(
¬g
, 
th»ad
, 
tid
);

1967 
	}
}

1969 
	$kmpc_£t_lib¿ry
(
¬g
) {

1971 
	`__kmp_u£r_£t_lib¿ry
((
lib¿ry_ty³
)
¬g
);

1972 
	}
}

1974 
	$kmpc_£t_deçuÉs
(cÚ¡ *
¡r
) {

1976 
	`__kmp_aux_£t_deçuÉs
(
¡r
, 
	`KMP_STRLEN
(str));

1977 
	}
}

1979 
	$kmpc_£t_di¥_num_bufãrs
(
¬g
) {

1982 ià(
__kmp_š™_£rŸl
 =ğ0 && 
¬g
 > 0)

1983 
__kmp_di¥©ch_num_bufãrs
 = 
¬g
;

1984 
	}
}

1986 
	$kmpc_£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

1987 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


1990 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

1991 
	`__kmp_middË_š™Ÿlize
();

1993  
	`__kmp_aux_£t_affš™y_mask_´oc
(
´oc
, 
mask
);

1995 
	}
}

1997 
	$kmpc_un£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

1998 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


2001 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

2002 
	`__kmp_middË_š™Ÿlize
();

2004  
	`__kmp_aux_un£t_affš™y_mask_´oc
(
´oc
, 
mask
);

2006 
	}
}

2008 
	$kmpc_g‘_affš™y_mask_´oc
(
´oc
, **
mask
) {

2009 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


2012 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

2013 
	`__kmp_middË_š™Ÿlize
();

2015  
	`__kmp_aux_g‘_affš™y_mask_´oc
(
´oc
, 
mask
);

2017 
	}
}

2064 
	$__kmpc_cİy´iv©e
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, 
size_t
 
ıy_size
,

2065 *
ıy_d©a
, (*
ıy_func
)(*, *),

2066 
kmp_št32
 
did™
) {

2067 **
d©a_±r
;

2069 
	`KC_TRACE
(10, ("__kmpc_cİy´iv©e: c®Ëd T#%d\n", 
gtid
));

2071 
	`KMP_MB
();

2073 
d©a_±r
 = &
	`__kmp_‹am_äom_gtid
(
gtid
)->
t
.
t_cİy´iv_d©a
;

2075 ià(
__kmp_’v_cÚsi¡’cy_check
) {

2076 ià(
loc
 == 0) {

2077 
	`KMP_WARNING
(
CÚ¡ruùId’tInv®id
);

2083 ià(
did™
)

2084 *
d©a_±r
 = 
ıy_d©a
;

2086 #ià
OMPT_SUPPORT


2087 
om±_äame_t
 *
om±_äame
;

2088 ià(
om±_’abËd
.
’abËd
) {

2089 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

2090 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

2091 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

2092 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2096 #ià
USE_ITT_NOTIFY


2097 
__kmp_th»ads
[
gtid
]->
th
.
th_id’t
 = 
loc
;

2099 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

2101 ià(!
did™
)

2102 (*
ıy_func
)(
ıy_d©a
, *
d©a_±r
);

2107 #ià
OMPT_SUPPORT


2108 ià(
om±_’abËd
.
’abËd
) {

2109 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2112 #ià
USE_ITT_NOTIFY


2113 
__kmp_th»ads
[
gtid
]->
th
.
th_id’t
 = 
loc
;

2116 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

2117 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2118 ià(
om±_’abËd
.
’abËd
) {

2119 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

2122 
	}
}

2126 
	#INIT_LOCK
 
__kmp_š™_u£r_lock_w™h_checks


	)

2127 
	#INIT_NESTED_LOCK
 
__kmp_š™_Ã¡ed_u£r_lock_w™h_checks


	)

2128 
	#ACQUIRE_LOCK
 
__kmp_acquœe_u£r_lock_w™h_checks


	)

2129 
	#ACQUIRE_LOCK_TIMED
 
__kmp_acquœe_u£r_lock_w™h_checks_timed


	)

2130 
	#ACQUIRE_NESTED_LOCK
 
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks


	)

2131 
	#ACQUIRE_NESTED_LOCK_TIMED
 \

2132 
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_timed


	)

2133 
	#RELEASE_LOCK
 
__kmp_»Ëa£_u£r_lock_w™h_checks


	)

2134 
	#RELEASE_NESTED_LOCK
 
__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks


	)

2135 
	#TEST_LOCK
 
__kmp_‹¡_u£r_lock_w™h_checks


	)

2136 
	#TEST_NESTED_LOCK
 
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks


	)

2137 
	#DESTROY_LOCK
 
__kmp_de¡roy_u£r_lock_w™h_checks


	)

2138 
	#DESTROY_NESTED_LOCK
 
__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks


	)

2143 #ià
KMP_USE_DYNAMIC_LOCK


2146 
__fÜûšlše
 
	$__kmp_š™_lock_w™h_hšt
(
id’t_t
 *
loc
, **
lock
,

2147 
kmp_dyÇ_lock£q_t
 
£q
) {

2148 ià(
	`KMP_IS_D_LOCK
(
£q
)) {

2149 
	`KMP_INIT_D_LOCK
(
lock
, 
£q
);

2150 #ià
USE_ITT_BUILD


2151 
	`__kmp_™t_lock_ü—tšg
((
kmp_u£r_lock_p
)
lock
, 
NULL
);

2154 
	`KMP_INIT_I_LOCK
(
lock
, 
£q
);

2155 #ià
USE_ITT_BUILD


2156 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

2157 
	`__kmp_™t_lock_ü—tšg
(
k
->
lock
, 
loc
);

2160 
	}
}

2163 
__fÜûšlše
 

2164 
	$__kmp_š™_Ã¡_lock_w™h_hšt
(
id’t_t
 *
loc
, **
lock
,

2165 
kmp_dyÇ_lock£q_t
 
£q
) {

2166 #ià
KMP_USE_TSX


2168 ià(
£q
 =ğ
lock£q_hË
 || seq =ğ
lock£q_¹m
 || seq =ğ
lock£q_ad­tive
)

2169 
£q
 = 
__kmp_u£r_lock_£q
;

2171 
£q
) {

2172 
lock£q_s
:

2173 
£q
 = 
lock£q_Ã¡ed_s
;

2175 #ià
KMP_USE_FUTEX


2176 
lock£q_fu‹x
:

2177 
£q
 = 
lock£q_Ã¡ed_fu‹x
;

2180 
lock£q_tick‘
:

2181 
£q
 = 
lock£q_Ã¡ed_tick‘
;

2183 
lock£q_queušg
:

2184 
£q
 = 
lock£q_Ã¡ed_queušg
;

2186 
lock£q_drd·
:

2187 
£q
 = 
lock£q_Ã¡ed_drd·
;

2190 
£q
 = 
lock£q_Ã¡ed_queušg
;

2192 
	`KMP_INIT_I_LOCK
(
lock
, 
£q
);

2193 #ià
USE_ITT_BUILD


2194 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

2195 
	`__kmp_™t_lock_ü—tšg
(
k
->
lock
, 
loc
);

2197 
	}
}

2200 
	$__kmpc_š™_lock_w™h_hšt
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
,

2201 
ušŒ_t
 
hšt
) {

2202 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2203 ià(
__kmp_’v_cÚsi¡’cy_check
 && 
u£r_lock
 =ğ
NULL
) {

2204 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, "omp_init_lock_with_hint");

2207 
	`__kmp_š™_lock_w™h_hšt
(
loc
, 
u£r_lock
, 
	`__kmp_m­_hšt_to_lock
(
hšt
));

2209 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2211 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2212 ià(!
cod•Œ
)

2213 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2214 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2215 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2216 
om±_mu‹x_lock
, (
omp_lock_hšt_t
)
hšt
,

2217 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2218 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2221 
	}
}

2224 
	$__kmpc_š™_Ã¡_lock_w™h_hšt
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2225 **
u£r_lock
, 
ušŒ_t
 
hšt
) {

2226 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2227 ià(
__kmp_’v_cÚsi¡’cy_check
 && 
u£r_lock
 =ğ
NULL
) {

2228 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, "omp_init_nest_lock_with_hint");

2231 
	`__kmp_š™_Ã¡_lock_w™h_hšt
(
loc
, 
u£r_lock
, 
	`__kmp_m­_hšt_to_lock
(
hšt
));

2233 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2235 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2236 ià(!
cod•Œ
)

2237 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2238 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2239 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2240 
om±_mu‹x_Ã¡_lock
, (
omp_lock_hšt_t
)
hšt
,

2241 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2242 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2245 
	}
}

2250 
	$__kmpc_š™_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2251 #ià
KMP_USE_DYNAMIC_LOCK


2253 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2254 ià(
__kmp_’v_cÚsi¡’cy_check
 && 
u£r_lock
 =ğ
NULL
) {

2255 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, "omp_init_lock");

2257 
	`__kmp_š™_lock_w™h_hšt
(
loc
, 
u£r_lock
, 
__kmp_u£r_lock_£q
);

2259 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2261 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2262 ià(!
cod•Œ
)

2263 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2264 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2265 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2266 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
,

2267 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2268 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2274 cÚ¡ *cÚ¡ 
func
 = "omp_init_lock";

2275 
kmp_u£r_lock_p
 
lck
;

2276 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2278 ià(
__kmp_’v_cÚsi¡’cy_check
) {

2279 ià(
u£r_lock
 =ğ
NULL
) {

2280 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2284 
	`KMP_CHECK_USER_LOCK_INIT
();

2286 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2287 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2288 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2290 #ià
KMP_USE_FUTEX


2291 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2292 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2293 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2297 
lck
 = 
	`__kmp_u£r_lock_®loÿ‹
(
u£r_lock
, 
gtid
, 0);

2299 
	`INIT_LOCK
(
lck
);

2300 
	`__kmp_£t_u£r_lock_loÿtiÚ
(
lck
, 
loc
);

2302 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2304 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2305 ià(!
cod•Œ
)

2306 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2307 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2308 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2309 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
, 
	`__om±_g‘_mu‹x_im¶_ty³
(),

2310 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2314 #ià
USE_ITT_BUILD


2315 
	`__kmp_™t_lock_ü—tšg
(
lck
);

2319 
	}
}

2322 
	$__kmpc_š™_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2323 #ià
KMP_USE_DYNAMIC_LOCK


2325 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2326 ià(
__kmp_’v_cÚsi¡’cy_check
 && 
u£r_lock
 =ğ
NULL
) {

2327 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, "omp_init_nest_lock");

2329 
	`__kmp_š™_Ã¡_lock_w™h_hšt
(
loc
, 
u£r_lock
, 
__kmp_u£r_lock_£q
);

2331 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2333 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2334 ià(!
cod•Œ
)

2335 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2336 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2337 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2338 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
,

2339 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2340 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2346 cÚ¡ *cÚ¡ 
func
 = "omp_init_nest_lock";

2347 
kmp_u£r_lock_p
 
lck
;

2348 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2350 ià(
__kmp_’v_cÚsi¡’cy_check
) {

2351 ià(
u£r_lock
 =ğ
NULL
) {

2352 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2356 
	`KMP_CHECK_USER_LOCK_INIT
();

2358 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2359 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

2360 
OMP_NEST_LOCK_T_SIZE
)) {

2361 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2363 #ià
KMP_USE_FUTEX


2364 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2365 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

2366 
OMP_NEST_LOCK_T_SIZE
)) {

2367 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2371 
lck
 = 
	`__kmp_u£r_lock_®loÿ‹
(
u£r_lock
, 
gtid
, 0);

2374 
	`INIT_NESTED_LOCK
(
lck
);

2375 
	`__kmp_£t_u£r_lock_loÿtiÚ
(
lck
, 
loc
);

2377 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2379 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2380 ià(!
cod•Œ
)

2381 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2382 ià(
om±_’abËd
.
om±_ÿÎback_lock_š™
) {

2383 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_š™
)(

2384 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
, 
	`__om±_g‘_mu‹x_im¶_ty³
(),

2385 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2389 #ià
USE_ITT_BUILD


2390 
	`__kmp_™t_lock_ü—tšg
(
lck
);

2394 
	}
}

2396 
	$__kmpc_de¡roy_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2397 #ià
KMP_USE_DYNAMIC_LOCK


2399 #ià
USE_ITT_BUILD


2400 
kmp_u£r_lock_p
 
lck
;

2401 ià(
	`KMP_EXTRACT_D_TAG
(
u£r_lock
) == 0) {

2402 
lck
 = ((
kmp_šdœeù_lock_t
 *)
	`KMP_LOOKUP_I_LOCK
(
u£r_lock
))->
lock
;

2404 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2406 
	`__kmp_™t_lock_de¡royed
(
lck
);

2408 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2410 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2411 ià(!
cod•Œ
)

2412 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2413 ià(
om±_’abËd
.
om±_ÿÎback_lock_de¡roy
) {

2414 
kmp_u£r_lock_p
 
lck
;

2415 ià(
	`KMP_EXTRACT_D_TAG
(
u£r_lock
) == 0) {

2416 
lck
 = ((
kmp_šdœeù_lock_t
 *)
	`KMP_LOOKUP_I_LOCK
(
u£r_lock
))->
lock
;

2418 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2420 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_de¡roy
)(

2421 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2424 
	`KMP_D_LOCK_FUNC
(
u£r_lock
, 
de¡roy
)((
kmp_dyÇ_lock_t
 *)user_lock);

2426 
kmp_u£r_lock_p
 
lck
;

2428 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2429 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2430 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2432 #ià
KMP_USE_FUTEX


2433 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2434 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2435 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2439 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_destroy_lock");

2442 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2444 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2445 ià(!
cod•Œ
)

2446 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2447 ià(
om±_’abËd
.
om±_ÿÎback_lock_de¡roy
) {

2448 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_de¡roy
)(

2449 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2453 #ià
USE_ITT_BUILD


2454 
	`__kmp_™t_lock_de¡royed
(
lck
);

2456 
	`DESTROY_LOCK
(
lck
);

2458 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2459 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2462 #ià
KMP_USE_FUTEX


2463 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2464 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2469 
	`__kmp_u£r_lock_ä“
(
u£r_lock
, 
gtid
, 
lck
);

2472 
	}
}

2475 
	$__kmpc_de¡roy_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2476 #ià
KMP_USE_DYNAMIC_LOCK


2478 #ià
USE_ITT_BUILD


2479 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
u£r_lock
);

2480 
	`__kmp_™t_lock_de¡royed
(
k
->
lock
);

2482 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2484 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2485 ià(!
cod•Œ
)

2486 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2487 ià(
om±_’abËd
.
om±_ÿÎback_lock_de¡roy
) {

2488 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_de¡roy
)(

2489 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2492 
	`KMP_D_LOCK_FUNC
(
u£r_lock
, 
de¡roy
)((
kmp_dyÇ_lock_t
 *)user_lock);

2496 
kmp_u£r_lock_p
 
lck
;

2498 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2499 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

2500 
OMP_NEST_LOCK_T_SIZE
)) {

2501 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2503 #ià
KMP_USE_FUTEX


2504 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2505 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

2506 
OMP_NEST_LOCK_T_SIZE
)) {

2507 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2511 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_destroy_nest_lock");

2514 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2516 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2517 ià(!
cod•Œ
)

2518 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2519 ià(
om±_’abËd
.
om±_ÿÎback_lock_de¡roy
) {

2520 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_lock_de¡roy
)(

2521 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2525 #ià
USE_ITT_BUILD


2526 
	`__kmp_™t_lock_de¡royed
(
lck
);

2529 
	`DESTROY_NESTED_LOCK
(
lck
);

2531 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2532 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

2533 
OMP_NEST_LOCK_T_SIZE
)) {

2536 #ià
KMP_USE_FUTEX


2537 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2538 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

2539 
OMP_NEST_LOCK_T_SIZE
)) {

2544 
	`__kmp_u£r_lock_ä“
(
u£r_lock
, 
gtid
, 
lck
);

2547 
	}
}

2549 
	$__kmpc_£t_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2550 
	`KMP_COUNT_BLOCK
(
OMP_£t_lock
);

2551 #ià
KMP_USE_DYNAMIC_LOCK


2552 
g
 = 
	`KMP_EXTRACT_D_TAG
(
u£r_lock
);

2553 #ià
USE_ITT_BUILD


2554 
	`__kmp_™t_lock_acquœšg
(

2555 (
kmp_u£r_lock_p
)

2556 
u£r_lock
);

2558 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2560 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2561 ià(!
cod•Œ
)

2562 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2563 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

2564 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

2565 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
,

2566 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2567 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2570 #ià
KMP_USE_INLINED_TAS


2571 ià(
g
 =ğ
lockg_s
 && !
__kmp_’v_cÚsi¡’cy_check
) {

2572 
	`KMP_ACQUIRE_TAS_LOCK
(
u£r_lock
, 
gtid
);

2574 #–ià
KMP_USE_INLINED_FUTEX


2575 ià(
g
 =ğ
lockg_fu‹x
 && !
__kmp_’v_cÚsi¡’cy_check
) {

2576 
	`KMP_ACQUIRE_FUTEX_LOCK
(
u£r_lock
, 
gtid
);

2580 
__kmp_dœeù_£t
[
g
]((
kmp_dyÇ_lock_t
 *)
u£r_lock
, 
gtid
);

2582 #ià
USE_ITT_BUILD


2583 
	`__kmp_™t_lock_acquœed
((
kmp_u£r_lock_p
)
u£r_lock
);

2585 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2586 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

2587 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

2588 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2594 
kmp_u£r_lock_p
 
lck
;

2596 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2597 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2598 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2600 #ià
KMP_USE_FUTEX


2601 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2602 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2603 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2607 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_set_lock");

2610 #ià
USE_ITT_BUILD


2611 
	`__kmp_™t_lock_acquœšg
(
lck
);

2613 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2615 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2616 ià(!
cod•Œ
)

2617 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2618 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

2619 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

2620 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
, 
	`__om±_g‘_mu‹x_im¶_ty³
(),

2621 (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2625 
	`ACQUIRE_LOCK
(
lck
, 
gtid
);

2627 #ià
USE_ITT_BUILD


2628 
	`__kmp_™t_lock_acquœed
(
lck
);

2631 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2632 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

2633 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

2634 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2639 
	}
}

2641 
	$__kmpc_£t_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2642 #ià
KMP_USE_DYNAMIC_LOCK


2644 #ià
USE_ITT_BUILD


2645 
	`__kmp_™t_lock_acquœšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2647 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2649 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2650 ià(!
cod•Œ
)

2651 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2652 ià(
om±_’abËd
.
’abËd
) {

2653 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

2654 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

2655 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
,

2656 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2657 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2661 
acquœe_¡©us
 =

2662 
	`KMP_D_LOCK_FUNC
(
u£r_lock
, 
£t
)((
kmp_dyÇ_lock_t
 *)u£r_lock, 
gtid
);

2663 (è
acquœe_¡©us
;

2664 #ià
USE_ITT_BUILD


2665 
	`__kmp_™t_lock_acquœed
((
kmp_u£r_lock_p
)
u£r_lock
);

2668 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2669 ià(
om±_’abËd
.
’abËd
) {

2670 ià(
acquœe_¡©us
 =ğ
KMP_LOCK_ACQUIRED_FIRST
) {

2671 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

2673 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

2674 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
,

2675 
cod•Œ
);

2678 ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

2680 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

2681 
om±_scİe_begš
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2688 
acquœe_¡©us
;

2689 
kmp_u£r_lock_p
 
lck
;

2691 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2692 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

2693 
OMP_NEST_LOCK_T_SIZE
)) {

2694 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2696 #ià
KMP_USE_FUTEX


2697 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2698 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

2699 
OMP_NEST_LOCK_T_SIZE
)) {

2700 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2704 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_set_nest_lock");

2707 #ià
USE_ITT_BUILD


2708 
	`__kmp_™t_lock_acquœšg
(
lck
);

2710 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2712 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2713 ià(!
cod•Œ
)

2714 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2715 ià(
om±_’abËd
.
’abËd
) {

2716 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

2717 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

2718 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
,

2719 
	`__om±_g‘_mu‹x_im¶_ty³
(), (
om±_wa™_id_t
)(
ušŒ_t
)
lck
,

2720 
cod•Œ
);

2725 
	`ACQUIRE_NESTED_LOCK
(
lck
, 
gtid
, &
acquœe_¡©us
);

2727 #ià
USE_ITT_BUILD


2728 
	`__kmp_™t_lock_acquœed
(
lck
);

2731 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2732 ià(
om±_’abËd
.
’abËd
) {

2733 ià(
acquœe_¡©us
 =ğ
KMP_LOCK_ACQUIRED_FIRST
) {

2734 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

2736 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

2737 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2740 ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

2742 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

2743 
om±_scİe_begš
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2750 
	}
}

2752 
	$__kmpc_un£t_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2753 #ià
KMP_USE_DYNAMIC_LOCK


2755 
g
 = 
	`KMP_EXTRACT_D_TAG
(
u£r_lock
);

2756 #ià
USE_ITT_BUILD


2757 
	`__kmp_™t_lock_»Ëasšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2759 #ià
KMP_USE_INLINED_TAS


2760 ià(
g
 =ğ
lockg_s
 && !
__kmp_’v_cÚsi¡’cy_check
) {

2761 
	`KMP_RELEASE_TAS_LOCK
(
u£r_lock
, 
gtid
);

2763 #–ià
KMP_USE_INLINED_FUTEX


2764 ià(
g
 =ğ
lockg_fu‹x
 && !
__kmp_’v_cÚsi¡’cy_check
) {

2765 
	`KMP_RELEASE_FUTEX_LOCK
(
u£r_lock
, 
gtid
);

2769 
__kmp_dœeù_un£t
[
g
]((
kmp_dyÇ_lock_t
 *)
u£r_lock
, 
gtid
);

2772 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2774 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2775 ià(!
cod•Œ
)

2776 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2777 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2778 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2779 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2785 
kmp_u£r_lock_p
 
lck
;

2790 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2791 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2792 #ià
KMP_OS_LINUX
 && \

2793 (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
)

2795 #ià
USE_ITT_BUILD


2796 
	`__kmp_™t_lock_»Ëasšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2798 
	`TCW_4
(((
kmp_u£r_lock_p
)
u£r_lock
)->
s
.
lk
.
pŞl
, 0);

2799 
	`KMP_MB
();

2801 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2803 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2804 ià(!
cod•Œ
)

2805 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2806 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2807 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2808 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2814 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2817 #ià
KMP_USE_FUTEX


2818 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2819 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

2820 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2824 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_unset_lock");

2827 #ià
USE_ITT_BUILD


2828 
	`__kmp_™t_lock_»Ëasšg
(
lck
);

2831 
	`RELEASE_LOCK
(
lck
, 
gtid
);

2833 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2835 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2836 ià(!
cod•Œ
)

2837 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2838 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2839 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2840 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2845 
	}
}

2848 
	$__kmpc_un£t_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2849 #ià
KMP_USE_DYNAMIC_LOCK


2851 #ià
USE_ITT_BUILD


2852 
	`__kmp_™t_lock_»Ëasšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2854 
»Ëa£_¡©us
 =

2855 
	`KMP_D_LOCK_FUNC
(
u£r_lock
, 
un£t
)((
kmp_dyÇ_lock_t
 *)u£r_lock, 
gtid
);

2856 (è
»Ëa£_¡©us
;

2858 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2860 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2861 ià(!
cod•Œ
)

2862 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2863 ià(
om±_’abËd
.
’abËd
) {

2864 ià(
»Ëa£_¡©us
 =ğ
KMP_LOCK_RELEASED
) {

2865 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2867 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2868 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
,

2869 
cod•Œ
);

2871 } ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

2873 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

2874 
om±_scİe_’d
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2881 
kmp_u£r_lock_p
 
lck
;

2885 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

2886 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

2887 
OMP_NEST_LOCK_T_SIZE
)) {

2888 #ià
KMP_OS_LINUX
 && \

2889 (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
)

2891 
kmp_s_lock_t
 *

 = (kmp_s_lock_ˆ*)
u£r_lock
;

2892 #ià
USE_ITT_BUILD


2893 
	`__kmp_™t_lock_»Ëasšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2896 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2897 
»Ëa£_¡©us
 = 
KMP_LOCK_STILL_HELD
;

2900 ià(--(

->
lk
.
d•th_locked
) == 0) {

2901 
	`TCW_4
(

->
lk
.
pŞl
, 0);

2902 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2903 
»Ëa£_¡©us
 = 
KMP_LOCK_RELEASED
;

2906 
	`KMP_MB
();

2908 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2910 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2911 ià(!
cod•Œ
)

2912 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2913 ià(
om±_’abËd
.
’abËd
) {

2914 ià(
»Ëa£_¡©us
 =ğ
KMP_LOCK_RELEASED
) {

2915 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2917 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2918 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2920 } ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

2922 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

2923 
om±_mu‹x_scİe_’d
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2930 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2933 #ià
KMP_USE_FUTEX


2934 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

2935 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

2936 
OMP_NEST_LOCK_T_SIZE
)) {

2937 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

2941 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_unset_nest_lock");

2944 #ià
USE_ITT_BUILD


2945 
	`__kmp_™t_lock_»Ëasšg
(
lck
);

2948 
»Ëa£_¡©us
;

2949 
»Ëa£_¡©us
 = 
	`RELEASE_NESTED_LOCK
(
lck
, 
gtid
);

2950 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2952 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2953 ià(!
cod•Œ
)

2954 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2955 ià(
om±_’abËd
.
’abËd
) {

2956 ià(
»Ëa£_¡©us
 =ğ
KMP_LOCK_RELEASED
) {

2957 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_»Ëa£d
) {

2959 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_»Ëa£d
)(

2960 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2962 } ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

2964 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

2965 
om±_mu‹x_scİe_’d
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

2971 
	}
}

2974 
	$__kmpc_‹¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

2975 
	`KMP_COUNT_BLOCK
(
OMP_‹¡_lock
);

2977 #ià
KMP_USE_DYNAMIC_LOCK


2978 
rc
;

2979 
g
 = 
	`KMP_EXTRACT_D_TAG
(
u£r_lock
);

2980 #ià
USE_ITT_BUILD


2981 
	`__kmp_™t_lock_acquœšg
((
kmp_u£r_lock_p
)
u£r_lock
);

2983 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2985 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2986 ià(!
cod•Œ
)

2987 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2988 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

2989 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

2990 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
,

2991 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

2992 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

2995 #ià
KMP_USE_INLINED_TAS


2996 ià(
g
 =ğ
lockg_s
 && !
__kmp_’v_cÚsi¡’cy_check
) {

2997 
	`KMP_TEST_TAS_LOCK
(
u£r_lock
, 
gtid
, 
rc
);

2999 #–ià
KMP_USE_INLINED_FUTEX


3000 ià(
g
 =ğ
lockg_fu‹x
 && !
__kmp_’v_cÚsi¡’cy_check
) {

3001 
	`KMP_TEST_FUTEX_LOCK
(
u£r_lock
, 
gtid
, 
rc
);

3005 
rc
 = 
__kmp_dœeù_‹¡
[
g
]((
kmp_dyÇ_lock_t
 *)
u£r_lock
, 
gtid
);

3007 ià(
rc
) {

3008 #ià
USE_ITT_BUILD


3009 
	`__kmp_™t_lock_acquœed
((
kmp_u£r_lock_p
)
u£r_lock
);

3011 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3012 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

3013 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

3014 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

3017  
FTN_TRUE
;

3019 #ià
USE_ITT_BUILD


3020 
	`__kmp_™t_lock_ÿnûÎed
((
kmp_u£r_lock_p
)
u£r_lock
);

3022  
FTN_FALSE
;

3027 
kmp_u£r_lock_p
 
lck
;

3028 
rc
;

3030 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

3031 ((
lck
->
s
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

3032 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

3034 #ià
KMP_USE_FUTEX


3035 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

3036 ((
lck
->
fu‹x
.
lk
.
pŞl
è<ğ
OMP_LOCK_T_SIZE
)) {

3037 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

3041 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_test_lock");

3044 #ià
USE_ITT_BUILD


3045 
	`__kmp_™t_lock_acquœšg
(
lck
);

3047 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3049 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

3050 ià(!
cod•Œ
)

3051 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

3052 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

3053 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

3054 
om±_mu‹x_lock
, 
omp_lock_hšt_nÚe
, 
	`__om±_g‘_mu‹x_im¶_ty³
(),

3055 (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

3059 
rc
 = 
	`TEST_LOCK
(
lck
, 
gtid
);

3060 #ià
USE_ITT_BUILD


3061 ià(
rc
) {

3062 
	`__kmp_™t_lock_acquœed
(
lck
);

3064 
	`__kmp_™t_lock_ÿnûÎed
(
lck
);

3067 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3068 ià(
rc
 && 
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

3069 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

3070 
om±_mu‹x_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

3074  (
rc
 ? 
FTN_TRUE
 : 
FTN_FALSE
);

3079 
	}
}

3082 
	$__kmpc_‹¡_Ã¡_lock
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, **
u£r_lock
) {

3083 #ià
KMP_USE_DYNAMIC_LOCK


3084 
rc
;

3085 #ià
USE_ITT_BUILD


3086 
	`__kmp_™t_lock_acquœšg
((
kmp_u£r_lock_p
)
u£r_lock
);

3088 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3090 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

3091 ià(!
cod•Œ
)

3092 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

3093 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

3094 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

3095 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
,

3096 
	`__om±_g‘_mu‹x_im¶_ty³
(
u£r_lock
),

3097 (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

3100 
rc
 = 
	`KMP_D_LOCK_FUNC
(
u£r_lock
, 
‹¡
)((
kmp_dyÇ_lock_t
 *)u£r_lock, 
gtid
);

3101 #ià
USE_ITT_BUILD


3102 ià(
rc
) {

3103 
	`__kmp_™t_lock_acquœed
((
kmp_u£r_lock_p
)
u£r_lock
);

3105 
	`__kmp_™t_lock_ÿnûÎed
((
kmp_u£r_lock_p
)
u£r_lock
);

3108 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3109 ià(
om±_’abËd
.
’abËd
 && 
rc
) {

3110 ià(
rc
 == 1) {

3111 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

3113 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

3114 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
,

3115 
cod•Œ
);

3118 ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

3120 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

3121 
om±_scİe_begš
, (
om±_wa™_id_t
)(
ušŒ_t
)
u£r_lock
, 
cod•Œ
);

3126  
rc
;

3130 
kmp_u£r_lock_p
 
lck
;

3131 
rc
;

3133 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_s
) &&

3134 ((
lck
->
s
.
lk
.
pŞl
è+ Öck->s.lk.
d•th_locked
) <=

3135 
OMP_NEST_LOCK_T_SIZE
)) {

3136 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

3138 #ià
KMP_USE_FUTEX


3139 ià((
__kmp_u£r_lock_kšd
 =ğ
lk_fu‹x
) &&

3140 ((
lck
->
fu‹x
.
lk
.
pŞl
è+ Öck->fu‹x.lk.
d•th_locked
) <=

3141 
OMP_NEST_LOCK_T_SIZE
)) {

3142 
lck
 = (
kmp_u£r_lock_p
)
u£r_lock
;

3146 
lck
 = 
	`__kmp_lookup_u£r_lock
(
u£r_lock
, "omp_test_nest_lock");

3149 #ià
USE_ITT_BUILD


3150 
	`__kmp_™t_lock_acquœšg
(
lck
);

3153 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3155 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

3156 ià(!
cod•Œ
)

3157 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

3158 ià(
om±_’abËd
.
’abËd
) &&

3159 
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœe
) {

3160 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœe
)(

3161 
om±_mu‹x_Ã¡_lock
, 
omp_lock_hšt_nÚe
,

3162 
	`__om±_g‘_mu‹x_im¶_ty³
(), (
om±_wa™_id_t
)(
ušŒ_t
)
lck
,

3163 
cod•Œ
);

3167 
rc
 = 
	`TEST_NESTED_LOCK
(
lck
, 
gtid
);

3168 #ià
USE_ITT_BUILD


3169 ià(
rc
) {

3170 
	`__kmp_™t_lock_acquœed
(
lck
);

3172 
	`__kmp_™t_lock_ÿnûÎed
(
lck
);

3175 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3176 ià(
om±_’abËd
.
’abËd
 && 
rc
) {

3177 ià(
rc
 == 1) {

3178 ià(
om±_’abËd
.
om±_ÿÎback_mu‹x_acquœed
) {

3180 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_mu‹x_acquœed
)(

3181 
om±_mu‹x_Ã¡_lock
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

3184 ià(
om±_’abËd
.
om±_ÿÎback_Ã¡_lock
) {

3186 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_Ã¡_lock
)(

3187 
om±_mu‹x_scİe_begš
, (
om±_wa™_id_t
)(
ušŒ_t
)
lck
, 
cod•Œ
);

3192  
rc
;

3197 
	}
}

3206 
	#__KMP_SET_REDUCTION_METHOD
(
gtid
, 
rm‘hod
) \

3207 ((
__kmp_th»ads
[(
gtid
)]->
th
.
th_loÿl
.
·cked_»duùiÚ_m‘hod
èğ(
rm‘hod
))

	)

3209 
	#__KMP_GET_REDUCTION_METHOD
(
gtid
) \

3210 (
__kmp_th»ads
[(
gtid
)]->
th
.
th_loÿl
.
·cked_»duùiÚ_m‘hod
)

	)

3216 
__fÜûšlše
 

3217 
	$__kmp_’‹r_ü™iÿl_£ùiÚ_»duû_block
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3218 
kmp_ü™iÿl_Çme
 *
ü™
) {

3224 
kmp_u£r_lock_p
 
lck
;

3226 #ià
KMP_USE_DYNAMIC_LOCK


3228 
kmp_dyÇ_lock_t
 *
lk
 = (kmp_dyÇ_lock_ˆ*)
ü™
;

3230 ià(*
lk
 == 0) {

3231 ià(
	`KMP_IS_D_LOCK
(
__kmp_u£r_lock_£q
)) {

3232 
	`KMP_COMPARE_AND_STORE_ACQ32
((vŞ©
kmp_št32
 *)
ü™
, 0,

3233 
	`KMP_GET_D_TAG
(
__kmp_u£r_lock_£q
));

3235 
	`__kmp_š™_šdœeù_c¥Œ
(
ü™
, 
loc
, 
glob®_tid
,

3236 
	`KMP_GET_I_TAG
(
__kmp_u£r_lock_£q
));

3242 ià(
	`KMP_EXTRACT_D_TAG
(
lk
) != 0) {

3243 
lck
 = (
kmp_u£r_lock_p
)
lk
;

3244 
	`KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

3245 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3246 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
, 
__kmp_u£r_lock_£q
);

3248 
	`KMP_D_LOCK_FUNC
(
lk
, 
£t
)Ök, 
glob®_tid
);

3250 
kmp_šdœeù_lock_t
 *
k
 = *((kmp_šdœeù_lock_ˆ**)
lk
);

3251 
lck
 = 
k
->
lock
;

3252 
	`KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

3253 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3254 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
, 
__kmp_u£r_lock_£q
);

3256 
	`KMP_I_LOCK_FUNC
(
k
, 
£t
)(
lck
, 
glob®_tid
);

3264 ià(
__kmp_ba£_u£r_lock_size
 <ğ
INTEL_CRITICAL_SIZE
) {

3265 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

3267 
lck
 = 
	`__kmp_g‘_ü™iÿl_£ùiÚ_±r
(
ü™
, 
loc
, 
glob®_tid
);

3269 
	`KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

3271 ià(
__kmp_’v_cÚsi¡’cy_check
)

3272 
	`__kmp_push_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
, 
lck
);

3274 
	`__kmp_acquœe_u£r_lock_w™h_checks
(
lck
, 
glob®_tid
);

3277 
	}
}

3280 
__fÜûšlše
 

3281 
	$__kmp_’d_ü™iÿl_£ùiÚ_»duû_block
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3282 
kmp_ü™iÿl_Çme
 *
ü™
) {

3284 
kmp_u£r_lock_p
 
lck
;

3286 #ià
KMP_USE_DYNAMIC_LOCK


3288 ià(
	`KMP_IS_D_LOCK
(
__kmp_u£r_lock_£q
)) {

3289 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

3290 ià(
__kmp_’v_cÚsi¡’cy_check
)

3291 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

3292 
	`KMP_D_LOCK_FUNC
(
lck
, 
un£t
)((
kmp_dyÇ_lock_t
 *îck, 
glob®_tid
);

3294 
kmp_šdœeù_lock_t
 *
k
 =

3295 (
kmp_šdœeù_lock_t
 *)
	`TCR_PTR
(*((kmp_šdœeù_lock_ˆ**)
ü™
));

3296 ià(
__kmp_’v_cÚsi¡’cy_check
)

3297 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

3298 
	`KMP_I_LOCK_FUNC
(
k
, 
un£t
)(k->
lock
, 
glob®_tid
);

3306 ià(
__kmp_ba£_u£r_lock_size
 > 32) {

3307 
lck
 = *((
kmp_u£r_lock_p
 *)
ü™
);

3308 
	`KMP_ASSERT
(
lck
 !ğ
NULL
);

3310 
lck
 = (
kmp_u£r_lock_p
)
ü™
;

3313 ià(
__kmp_’v_cÚsi¡’cy_check
)

3314 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_ü™iÿl
, 
loc
);

3316 
	`__kmp_»Ëa£_u£r_lock_w™h_checks
(
lck
, 
glob®_tid
);

3319 
	}
}

3321 
__fÜûšlše
 

3322 
	$__kmp_sw­_‹ams_fÜ_‹ams_»duùiÚ
(
kmp_šfo_t
 *
th
, 
kmp_‹am_t
 **
‹am_p
,

3323 *
sk_¡©e
) {

3324 
kmp_‹am_t
 *
‹am
;

3327 ià(
th
->th.
th_‹ams_miüÙask
) {

3328 *
‹am_p
 = 
‹am
 = 
th
->th.
th_‹am
;

3329 ià(
‹am
->
t
.
t_Ëv–
 =ğ
th
->th.
th_‹ams_Ëv–
) {

3331 
	`KMP_DEBUG_ASSERT
(!
th
->th.
th_šfo
.
ds
.
ds_tid
);

3333 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 
‹am
->
t
.
t_ma¡”_tid
;

3334 
th
->th.
th_‹am
 = 
‹am
->
t
.
t_·»Á
;

3335 
th
->th.
th_‹am_Åroc
 =h->th.
th_‹am
->
t
.
t_Åroc
;

3336 
th
->th.
th_sk_‹am
 =h->th.
th_‹am
->
t
.
t_sk_‹am
[0];

3337 *
sk_¡©e
 = 
th
->th.
th_sk_¡©e
;

3338 
th
->th.
th_sk_¡©e
 = 0;

3344 
	}
}

3346 
__fÜûšlše
 

3347 
	$__kmp_»¡Üe_sw­³d_‹ams
(
kmp_šfo_t
 *
th
, 
kmp_‹am_t
 *
‹am
, 
sk_¡©e
) {

3349 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 0;

3350 
th
->th.
th_‹am
 = 
‹am
;

3351 
th
->th.
th_‹am_Åroc
 = 
‹am
->
t
.
t_Åroc
;

3352 
th
->th.
th_sk_‹am
 = 
‹am
->
t
.
t_sk_‹am
[
sk_¡©e
];

3353 
th
->th.
th_sk_¡©e
 = 
sk_¡©e
;

3354 
	}
}

3372 
kmp_št32


3373 
	$__kmpc_»duû_nowa™
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
,

3374 
size_t
 
»duû_size
, *
»duû_d©a
,

3375 (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

3376 
kmp_ü™iÿl_Çme
 *
lck
) {

3378 
	`KMP_COUNT_BLOCK
(
REDUCE_nowa™
);

3379 
»tv®
 = 0;

3380 
PACKED_REDUCTION_METHOD_T
 
·cked_»duùiÚ_m‘hod
;

3381 
kmp_šfo_t
 *
th
;

3382 
kmp_‹am_t
 *
‹am
;

3383 
‹ams_sw­³d
 = 0, 
sk_¡©e
;

3384 
	`KA_TRACE
(10, ("__kmpc_»duû_nowa™(è’‹r: c®Ëd T#%d\n", 
glob®_tid
));

3392 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

3393 
	`__kmp_·¿Î–_š™Ÿlize
();

3395 
	`__kmp_»sume_if_soá_·u£d
();

3398 #ià
KMP_USE_DYNAMIC_LOCK


3399 ià(
__kmp_’v_cÚsi¡’cy_check
)

3400 
	`__kmp_push_sync
(
glob®_tid
, 
ù_»duû
, 
loc
, 
NULL
, 0);

3402 ià(
__kmp_’v_cÚsi¡’cy_check
)

3403 
	`__kmp_push_sync
(
glob®_tid
, 
ù_»duû
, 
loc
, 
NULL
);

3406 
th
 = 
	`__kmp_th»ad_äom_gtid
(
glob®_tid
);

3407 
‹ams_sw­³d
 = 
	`__kmp_sw­_‹ams_fÜ_‹ams_»duùiÚ
(
th
, &
‹am
, &
sk_¡©e
);

3425 
·cked_»duùiÚ_m‘hod
 = 
	`__kmp_d‘”mše_»duùiÚ_m‘hod
(

3426 
loc
, 
glob®_tid
, 
num_v¬s
, 
»duû_size
, 
»duû_d©a
, 
»duû_func
, 
lck
);

3427 
	`__KMP_SET_REDUCTION_METHOD
(
glob®_tid
, 
·cked_»duùiÚ_m‘hod
);

3429 
	`OMPT_REDUCTION_DECL
(
th
, 
glob®_tid
);

3430 ià(
·cked_»duùiÚ_m‘hod
 =ğ
ü™iÿl_»duû_block
) {

3432 
OMPT_REDUCTION_BEGIN
;

3434 
	`__kmp_’‹r_ü™iÿl_£ùiÚ_»duû_block
(
loc
, 
glob®_tid
, 
lck
);

3435 
»tv®
 = 1;

3437 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
em±y_»duû_block
) {

3439 
OMPT_REDUCTION_BEGIN
;

3443 
»tv®
 = 1;

3445 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
©omic_»duû_block
) {

3447 
»tv®
 = 2;

3455 ià(
__kmp_’v_cÚsi¡’cy_check
)

3456 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_»duû
, 
loc
);

3458 } ià(
	`TEST_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
,

3459 
Œ“_»duû_block
)) {

3474 #ià
OMPT_SUPPORT


3479 
om±_äame_t
 *
om±_äame
;

3480 ià(
om±_’abËd
.
’abËd
) {

3481 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

3482 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

3483 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

3484 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

3487 #ià
USE_ITT_NOTIFY


3488 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

3490 
»tv®
 =

3491 
	`__kmp_b¬r›r
(
	`UNPACK_REDUCTION_BARRIER
(
·cked_»duùiÚ_m‘hod
),

3492 
glob®_tid
, 
FALSE
, 
»duû_size
, 
»duû_d©a
, 
»duû_func
);

3493 
»tv®
 = (retval != 0) ? (0) : (1);

3494 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3495 ià(
om±_’abËd
.
’abËd
) {

3496 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

3502 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3503 ià(
»tv®
 == 0) {

3504 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_»duû
, 
loc
);

3511 
	`KMP_ASSERT
(0);

3513 ià(
‹ams_sw­³d
) {

3514 
	`__kmp_»¡Üe_sw­³d_‹ams
(
th
, 
‹am
, 
sk_¡©e
);

3516 
	`KA_TRACE
(

3519 
glob®_tid
, 
·cked_»duùiÚ_m‘hod
, 
»tv®
));

3521  
»tv®
;

3522 
	}
}

3532 
	$__kmpc_’d_»duû_nowa™
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3533 
kmp_ü™iÿl_Çme
 *
lck
) {

3535 
PACKED_REDUCTION_METHOD_T
 
·cked_»duùiÚ_m‘hod
;

3537 
	`KA_TRACE
(10, ("__kmpc_’d_»duû_nowa™(è’‹r: c®Ëd T#%d\n", 
glob®_tid
));

3539 
·cked_»duùiÚ_m‘hod
 = 
	`__KMP_GET_REDUCTION_METHOD
(
glob®_tid
);

3541 
	`OMPT_REDUCTION_DECL
(
	`__kmp_th»ad_äom_gtid
(
glob®_tid
), global_tid);

3543 ià(
·cked_»duùiÚ_m‘hod
 =ğ
ü™iÿl_»duû_block
) {

3545 
	`__kmp_’d_ü™iÿl_£ùiÚ_»duû_block
(
loc
, 
glob®_tid
, 
lck
);

3546 
OMPT_REDUCTION_END
;

3548 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
em±y_»duû_block
) {

3553 
OMPT_REDUCTION_END
;

3555 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
©omic_»duû_block
) {

3562 } ià(
	`TEST_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
,

3563 
Œ“_»duû_block
)) {

3571 
	`KMP_ASSERT
(0);

3574 ià(
__kmp_’v_cÚsi¡’cy_check
)

3575 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_»duû
, 
loc
);

3577 
	`KA_TRACE
(10, ("__kmpc_end_reduce_nowait()ƒxit: called T#%d: method %08x\n",

3578 
glob®_tid
, 
·cked_»duùiÚ_m‘hod
));

3581 
	}
}

3600 
kmp_št32
 
	$__kmpc_»duû
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
,

3601 
size_t
 
»duû_size
, *
»duû_d©a
,

3602 (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

3603 
kmp_ü™iÿl_Çme
 *
lck
) {

3604 
	`KMP_COUNT_BLOCK
(
REDUCE_wa™
);

3605 
»tv®
 = 0;

3606 
PACKED_REDUCTION_METHOD_T
 
·cked_»duùiÚ_m‘hod
;

3607 
kmp_šfo_t
 *
th
;

3608 
kmp_‹am_t
 *
‹am
;

3609 
‹ams_sw­³d
 = 0, 
sk_¡©e
;

3611 
	`KA_TRACE
(10, ("__kmpc_»duû(è’‹r: c®Ëd T#%d\n", 
glob®_tid
));

3619 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

3620 
	`__kmp_·¿Î–_š™Ÿlize
();

3622 
	`__kmp_»sume_if_soá_·u£d
();

3625 #ià
KMP_USE_DYNAMIC_LOCK


3626 ià(
__kmp_’v_cÚsi¡’cy_check
)

3627 
	`__kmp_push_sync
(
glob®_tid
, 
ù_»duû
, 
loc
, 
NULL
, 0);

3629 ià(
__kmp_’v_cÚsi¡’cy_check
)

3630 
	`__kmp_push_sync
(
glob®_tid
, 
ù_»duû
, 
loc
, 
NULL
);

3633 
th
 = 
	`__kmp_th»ad_äom_gtid
(
glob®_tid
);

3634 
‹ams_sw­³d
 = 
	`__kmp_sw­_‹ams_fÜ_‹ams_»duùiÚ
(
th
, &
‹am
, &
sk_¡©e
);

3636 
·cked_»duùiÚ_m‘hod
 = 
	`__kmp_d‘”mše_»duùiÚ_m‘hod
(

3637 
loc
, 
glob®_tid
, 
num_v¬s
, 
»duû_size
, 
»duû_d©a
, 
»duû_func
, 
lck
);

3638 
	`__KMP_SET_REDUCTION_METHOD
(
glob®_tid
, 
·cked_»duùiÚ_m‘hod
);

3640 
	`OMPT_REDUCTION_DECL
(
th
, 
glob®_tid
);

3642 ià(
·cked_»duùiÚ_m‘hod
 =ğ
ü™iÿl_»duû_block
) {

3644 
OMPT_REDUCTION_BEGIN
;

3645 
	`__kmp_’‹r_ü™iÿl_£ùiÚ_»duû_block
(
loc
, 
glob®_tid
, 
lck
);

3646 
»tv®
 = 1;

3648 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
em±y_»duû_block
) {

3650 
OMPT_REDUCTION_BEGIN
;

3653 
»tv®
 = 1;

3655 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
©omic_»duû_block
) {

3657 
»tv®
 = 2;

3659 } ià(
	`TEST_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
,

3660 
Œ“_»duû_block
)) {

3665 #ià
OMPT_SUPPORT


3666 
om±_äame_t
 *
om±_äame
;

3667 ià(
om±_’abËd
.
’abËd
) {

3668 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

3669 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

3670 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

3671 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

3674 #ià
USE_ITT_NOTIFY


3675 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 =

3676 
loc
;

3678 
»tv®
 =

3679 
	`__kmp_b¬r›r
(
	`UNPACK_REDUCTION_BARRIER
(
·cked_»duùiÚ_m‘hod
),

3680 
glob®_tid
, 
TRUE
, 
»duû_size
, 
»duû_d©a
, 
»duû_func
);

3681 
»tv®
 = (retval != 0) ? (0) : (1);

3682 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3683 ià(
om±_’abËd
.
’abËd
) {

3684 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

3690 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3691 ià(
»tv®
 == 0) {

3692 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_»duû
, 
loc
);

3699 
	`KMP_ASSERT
(0);

3701 ià(
‹ams_sw­³d
) {

3702 
	`__kmp_»¡Üe_sw­³d_‹ams
(
th
, 
‹am
, 
sk_¡©e
);

3705 
	`KA_TRACE
(10,

3707 
glob®_tid
, 
·cked_»duùiÚ_m‘hod
, 
»tv®
));

3708  
»tv®
;

3709 
	}
}

3721 
	$__kmpc_’d_»duû
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

3722 
kmp_ü™iÿl_Çme
 *
lck
) {

3724 
PACKED_REDUCTION_METHOD_T
 
·cked_»duùiÚ_m‘hod
;

3725 
kmp_šfo_t
 *
th
;

3726 
kmp_‹am_t
 *
‹am
;

3727 
‹ams_sw­³d
 = 0, 
sk_¡©e
;

3729 
	`KA_TRACE
(10, ("__kmpc_’d_»duû(è’‹r: c®Ëd T#%d\n", 
glob®_tid
));

3731 
th
 = 
	`__kmp_th»ad_äom_gtid
(
glob®_tid
);

3732 
‹ams_sw­³d
 = 
	`__kmp_sw­_‹ams_fÜ_‹ams_»duùiÚ
(
th
, &
‹am
, &
sk_¡©e
);

3734 
·cked_»duùiÚ_m‘hod
 = 
	`__KMP_GET_REDUCTION_METHOD
(
glob®_tid
);

3738 
	`OMPT_REDUCTION_DECL
(
th
, 
glob®_tid
);

3740 ià(
·cked_»duùiÚ_m‘hod
 =ğ
ü™iÿl_»duû_block
) {

3741 
	`__kmp_’d_ü™iÿl_£ùiÚ_»duû_block
(
loc
, 
glob®_tid
, 
lck
);

3743 
OMPT_REDUCTION_END
;

3746 #ià
OMPT_SUPPORT


3747 
om±_äame_t
 *
om±_äame
;

3748 ià(
om±_’abËd
.
’abËd
) {

3749 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

3750 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

3751 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

3752 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

3755 #ià
USE_ITT_NOTIFY


3756 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

3758 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
FALSE
, 0, 
NULL
, NULL);

3759 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3760 ià(
om±_’abËd
.
’abËd
) {

3761 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

3765 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
em±y_»duû_block
) {

3767 
OMPT_REDUCTION_END
;

3772 #ià
OMPT_SUPPORT


3773 
om±_äame_t
 *
om±_äame
;

3774 ià(
om±_’abËd
.
’abËd
) {

3775 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

3776 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

3777 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

3778 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

3781 #ià
USE_ITT_NOTIFY


3782 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

3784 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
FALSE
, 0, 
NULL
, NULL);

3785 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3786 ià(
om±_’abËd
.
’abËd
) {

3787 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

3791 } ià(
·cked_»duùiÚ_m‘hod
 =ğ
©omic_»duû_block
) {

3793 #ià
OMPT_SUPPORT


3794 
om±_äame_t
 *
om±_äame
;

3795 ià(
om±_’abËd
.
’abËd
) {

3796 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

3797 ià(
om±_äame
->
’‹r_äame
.
±r
 =ğ
NULL
)

3798 
om±_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

3799 
	`OMPT_STORE_RETURN_ADDRESS
(
glob®_tid
);

3803 #ià
USE_ITT_NOTIFY


3804 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_id’t
 = 
loc
;

3806 
	`__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
glob®_tid
, 
FALSE
, 0, 
NULL
, NULL);

3807 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


3808 ià(
om±_’abËd
.
’abËd
) {

3809 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

3813 } ià(
	`TEST_REDUCTION_METHOD
(
·cked_»duùiÚ_m‘hod
,

3814 
Œ“_»duû_block
)) {

3817 
	`__kmp_’d_¥l™_b¬r›r
(
	`UNPACK_REDUCTION_BARRIER
(
·cked_»duùiÚ_m‘hod
),

3818 
glob®_tid
);

3823 
	`KMP_ASSERT
(0);

3825 ià(
‹ams_sw­³d
) {

3826 
	`__kmp_»¡Üe_sw­³d_‹ams
(
th
, 
‹am
, 
sk_¡©e
);

3829 ià(
__kmp_’v_cÚsi¡’cy_check
)

3830 
	`__kmp_pİ_sync
(
glob®_tid
, 
ù_»duû
, 
loc
);

3832 
	`KA_TRACE
(10, ("__kmpc_end_reduce()ƒxit: called T#%d: method %08x\n",

3833 
glob®_tid
, 
·cked_»duùiÚ_m‘hod
));

3836 
	}
}

3838 #undeà
__KMP_GET_REDUCTION_METHOD


3839 #undeà
__KMP_SET_REDUCTION_METHOD


3843 
kmp_ušt64
 
	$__kmpc_g‘_skid
() {

3845 
kmp_št32
 
gtid
;

3846 
kmp_šfo_t
 *
th»ad
;

3848 
gtid
 = 
	`__kmp_g‘_gtid
();

3849 ià(
gtid
 < 0) {

3852 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

3853  
th»ad
->
th
.
th_cu¼’t_sk
->
td_sk_id
;

3855 
	}
}

3857 
kmp_ušt64
 
	$__kmpc_g‘_·»Á_skid
() {

3859 
kmp_št32
 
gtid
;

3860 
kmp_šfo_t
 *
th»ad
;

3861 
kmp_skd©a_t
 *
·»Á_sk
;

3863 
gtid
 = 
	`__kmp_g‘_gtid
();

3864 ià(
gtid
 < 0) {

3867 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

3868 
·»Á_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
->
td_·»Á
;

3869  (
·»Á_sk
 =ğ
NULL
 ? 0 :…¬’t_sk->
td_sk_id
);

3871 
	}
}

3884 
	$__kmpc_dßüoss_š™
(
id’t_t
 *
loc
, 
gtid
, 
num_dims
,

3885 cÚ¡ 
kmp_dim
 *
dims
) {

3886 
j
, 
idx
;

3887 
kmp_št64
 
Ï¡
, 
Œaû_couÁ
;

3888 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

3889 
kmp_‹am_t
 *
‹am
 = 
th
->th.
th_‹am
;

3890 
kmp_ušt32
 *
æags
;

3891 
kmp_di¥_t
 *
´_buf
 = 
th
->th.
th_di¥©ch
;

3892 
di¥©ch_sh¬ed_šfo_t
 *
sh_buf
;

3894 
	`KA_TRACE
(

3897 
gtid
, 
num_dims
, !
‹am
->
t
.
t_£rŸlized
));

3898 
	`KMP_DEBUG_ASSERT
(
dims
 !ğ
NULL
);

3899 
	`KMP_DEBUG_ASSERT
(
num_dims
 > 0);

3901 ià(
‹am
->
t
.
t_£rŸlized
) {

3902 
	`KA_TRACE
(20, ("__kmpc_doacross_init()ƒxit: serializedeam\n"));

3905 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_Åroc
 > 1);

3906 
idx
 = 
´_buf
->
th_dßüoss_buf_idx
++;

3908 
sh_buf
 = &
‹am
->
t
.
t_di¥_bufãr
[
idx
 % 
__kmp_di¥©ch_num_bufãrs
];

3911 
	`KMP_DEBUG_ASSERT
(
´_buf
->
th_dßüoss_šfo
 =ğ
NULL
);

3912 
´_buf
->
th_dßüoss_šfo
 = (
kmp_št64
 *)
	`__kmp_th»ad_m®loc
(

3913 
th
, (
kmp_št64
è* (4 * 
num_dims
 + 1));

3914 
	`KMP_DEBUG_ASSERT
(
´_buf
->
th_dßüoss_šfo
 !ğ
NULL
);

3915 
´_buf
->
th_dßüoss_šfo
[0] =

3916 (
kmp_št64
)
num_dims
;

3919 
´_buf
->
th_dßüoss_šfo
[1] = (
kmp_št64
)&
sh_buf
->
dßüoss_num_dÚe
;

3920 
´_buf
->
th_dßüoss_šfo
[2] = 
dims
[0].
lo
;

3921 
´_buf
->
th_dßüoss_šfo
[3] = 
dims
[0].
up
;

3922 
´_buf
->
th_dßüoss_šfo
[4] = 
dims
[0].
¡
;

3923 
Ï¡
 = 5;

3924 
j
 = 1; j < 
num_dims
; ++j) {

3925 
kmp_št64


3926 
¿nge_Ëngth
;

3927 ià(
dims
[
j
].
¡
 == 1) {

3929 
¿nge_Ëngth
 = 
dims
[
j
].
up
 - dims[j].
lo
 + 1;

3931 ià(
dims
[
j
].
¡
 > 0) {

3932 
	`KMP_DEBUG_ASSERT
(
dims
[
j
].
up
 > dims[j].
lo
);

3933 
¿nge_Ëngth
 = (
kmp_ušt64
)(
dims
[
j
].
up
 - dims[j].
lo
è/ dims[j].
¡
 + 1;

3935 
	`KMP_DEBUG_ASSERT
(
dims
[
j
].
lo
 > dims[j].
up
);

3936 
¿nge_Ëngth
 =

3937 (
kmp_ušt64
)(
dims
[
j
].
lo
 - dims[j].
up
è/ (-dims[j].
¡
) + 1;

3940 
´_buf
->
th_dßüoss_šfo
[
Ï¡
++] = 
¿nge_Ëngth
;

3941 
´_buf
->
th_dßüoss_šfo
[
Ï¡
++] = 
dims
[
j
].
lo
;

3942 
´_buf
->
th_dßüoss_šfo
[
Ï¡
++] = 
dims
[
j
].
up
;

3943 
´_buf
->
th_dßüoss_šfo
[
Ï¡
++] = 
dims
[
j
].
¡
;

3948 ià(
dims
[0].
¡
 == 1) {

3949 
Œaû_couÁ
 = 
dims
[0].
up
 - dims[0].
lo
 + 1;

3950 } ià(
dims
[0].
¡
 > 0) {

3951 
	`KMP_DEBUG_ASSERT
(
dims
[0].
up
 > dims[0].
lo
);

3952 
Œaû_couÁ
 = (
kmp_ušt64
)(
dims
[0].
up
 - dims[0].
lo
è/ dims[0].
¡
 + 1;

3954 
	`KMP_DEBUG_ASSERT
(
dims
[0].
lo
 > dims[0].
up
);

3955 
Œaû_couÁ
 = (
kmp_ušt64
)(
dims
[0].
lo
 - dims[0].
up
è/ (-dims[0].
¡
) + 1;

3957 
j
 = 1; j < 
num_dims
; ++j) {

3958 
Œaû_couÁ
 *ğ
´_buf
->
th_dßüoss_šfo
[4 * 
j
 + 1];

3960 
	`KMP_DEBUG_ASSERT
(
Œaû_couÁ
 > 0);

3964 ià(
idx
 !ğ
sh_buf
->
dßüoss_buf_idx
) {

3966 
	`__kmp_wa™_4
((vŞ©
kmp_ušt32
 *)&
sh_buf
->
dßüoss_buf_idx
, 
idx
,

3967 
__kmp_eq_4
, 
NULL
);

3969 #ià
KMP_32_BIT_ARCH


3973 
æags
 = (
kmp_ušt32
 *)
	`KMP_COMPARE_AND_STORE_RET32
(

3974 (vŞ©
kmp_št32
 *)&
sh_buf
->
dßüoss_æags
, 
NULL
, 1);

3976 
æags
 = (
kmp_ušt32
 *)
	`KMP_COMPARE_AND_STORE_RET64
(

3977 (vŞ©
kmp_št64
 *)&
sh_buf
->
dßüoss_æags
, 
NULL
, 1LL);

3979 ià(
æags
 =ğ
NULL
) {

3981 
size_t
 
size
 = 
Œaû_couÁ
 / 8 + 8;

3982 
æags
 = (
kmp_ušt32
 *)
	`__kmp_th»ad_ÿÎoc
(
th
, 
size
, 1);

3983 
	`KMP_MB
();

3984 
sh_buf
->
dßüoss_æags
 = 
æags
;

3985 } ià(
æags
 =ğ(
kmp_ušt32
 *)1) {

3986 #ià
KMP_32_BIT_ARCH


3988 *(vŞ©
kmp_št32
 *)&
sh_buf
->
dßüoss_æags
 == 1)

3990 *(vŞ©
kmp_št64
 *)&
sh_buf
->
dßüoss_æags
 == 1LL)

3992 
	`KMP_YIELD
(
TRUE
);

3993 
	`KMP_MB
();

3995 
	`KMP_MB
();

3997 
	`KMP_DEBUG_ASSERT
(
sh_buf
->
dßüoss_æags
 > (
kmp_ušt32
 *)1);

3998 
´_buf
->
th_dßüoss_æags
 =

3999 
sh_buf
->
dßüoss_æags
;

4001 
	`KA_TRACE
(20, ("__kmpc_dßüoss_š™(èex™: T#%d\n", 
gtid
));

4002 
	}
}

4004 
	$__kmpc_dßüoss_wa™
(
id’t_t
 *
loc
, 
gtid
, cÚ¡ 
kmp_št64
 *
vec
) {

4005 
kmp_št32
 
shá
, 
num_dims
, 
i
;

4006 
kmp_ušt32
 
æag
;

4007 
kmp_št64
 
™”_numb”
;

4008 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

4009 
kmp_‹am_t
 *
‹am
 = 
th
->th.
th_‹am
;

4010 
kmp_di¥_t
 *
´_buf
;

4011 
kmp_št64
 
lo
, 
up
, 
¡
;

4013 
	`KA_TRACE
(20, ("__kmpc_dßüoss_wa™(è’‹r: c®Ëd T#%d\n", 
gtid
));

4014 ià(
‹am
->
t
.
t_£rŸlized
) {

4015 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: serializedeam\n"));

4020 
´_buf
 = 
th
->th.
th_di¥©ch
;

4021 
	`KMP_DEBUG_ASSERT
(
´_buf
->
th_dßüoss_šfo
 !ğ
NULL
);

4022 
num_dims
 = 
´_buf
->
th_dßüoss_šfo
[0];

4023 
lo
 = 
´_buf
->
th_dßüoss_šfo
[2];

4024 
up
 = 
´_buf
->
th_dßüoss_šfo
[3];

4025 
¡
 = 
´_buf
->
th_dßüoss_šfo
[4];

4026 ià(
¡
 == 1) {

4027 ià(
vec
[0] < 
lo
 || vec[0] > 
up
) {

4028 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4030 
gtid
, 
vec
[0], 
lo
, 
up
));

4033 
™”_numb”
 = 
vec
[0] - 
lo
;

4034 } ià(
¡
 > 0) {

4035 ià(
vec
[0] < 
lo
 || vec[0] > 
up
) {

4036 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4038 
gtid
, 
vec
[0], 
lo
, 
up
));

4041 
™”_numb”
 = (
kmp_ušt64
)(
vec
[0] - 
lo
è/ 
¡
;

4043 ià(
vec
[0] > 
lo
 || vec[0] < 
up
) {

4044 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4046 
gtid
, 
vec
[0], 
lo
, 
up
));

4049 
™”_numb”
 = (
kmp_ušt64
)(
lo
 - 
vec
[0]è/ (-
¡
);

4051 
i
 = 1; i < 
num_dims
; ++i) {

4052 
kmp_št64
 
™”
, 
Ê
;

4053 
kmp_št32
 
j
 = 
i
 * 4;

4054 
Ê
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 1];

4055 
lo
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 2];

4056 
up
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 3];

4057 
¡
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 4];

4058 ià(
¡
 == 1) {

4059 ià(
vec
[
i
] < 
lo
 || vec[i] > 
up
) {

4060 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4062 
gtid
, 
vec
[
i
], 
lo
, 
up
));

4065 
™”
 = 
vec
[
i
] - 
lo
;

4066 } ià(
¡
 > 0) {

4067 ià(
vec
[
i
] < 
lo
 || vec[i] > 
up
) {

4068 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4070 
gtid
, 
vec
[
i
], 
lo
, 
up
));

4073 
™”
 = (
kmp_ušt64
)(
vec
[
i
] - 
lo
è/ 
¡
;

4075 ià(
vec
[
i
] > 
lo
 || vec[i] < 
up
) {

4076 
	`KA_TRACE
(20, ("__kmpc_doacross_wait()ƒxit: T#%d iter %lld is out of "

4078 
gtid
, 
vec
[
i
], 
lo
, 
up
));

4081 
™”
 = (
kmp_ušt64
)(
lo
 - 
vec
[
i
]è/ (-
¡
);

4083 
™”_numb”
 = 
™”
 + 
Ê
 * iter_number;

4085 
shá
 = 
™”_numb”
 % 32;

4086 
™”_numb”
 >>= 5;

4087 
æag
 = 1 << 
shá
;

4088 (
æag
 & 
´_buf
->
th_dßüoss_æags
[
™”_numb”
]) == 0) {

4089 
	`KMP_YIELD
(
TRUE
);

4091 
	`KMP_MB
();

4092 
	`KA_TRACE
(20,

4094 
gtid
, (
™”_numb”
 << 5è+ 
shá
));

4095 
	}
}

4097 
	$__kmpc_dßüoss_po¡
(
id’t_t
 *
loc
, 
gtid
, cÚ¡ 
kmp_št64
 *
vec
) {

4098 
kmp_št32
 
shá
, 
num_dims
, 
i
;

4099 
kmp_ušt32
 
æag
;

4100 
kmp_št64
 
™”_numb”
;

4101 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

4102 
kmp_‹am_t
 *
‹am
 = 
th
->th.
th_‹am
;

4103 
kmp_di¥_t
 *
´_buf
;

4104 
kmp_št64
 
lo
, 
¡
;

4106 
	`KA_TRACE
(20, ("__kmpc_dßüoss_po¡(è’‹r: c®Ëd T#%d\n", 
gtid
));

4107 ià(
‹am
->
t
.
t_£rŸlized
) {

4108 
	`KA_TRACE
(20, ("__kmpc_doacross_post()ƒxit: serializedeam\n"));

4114 
´_buf
 = 
th
->th.
th_di¥©ch
;

4115 
	`KMP_DEBUG_ASSERT
(
´_buf
->
th_dßüoss_šfo
 !ğ
NULL
);

4116 
num_dims
 = 
´_buf
->
th_dßüoss_šfo
[0];

4117 
lo
 = 
´_buf
->
th_dßüoss_šfo
[2];

4118 
¡
 = 
´_buf
->
th_dßüoss_šfo
[4];

4119 ià(
¡
 == 1) {

4120 
™”_numb”
 = 
vec
[0] - 
lo
;

4121 } ià(
¡
 > 0) {

4122 
™”_numb”
 = (
kmp_ušt64
)(
vec
[0] - 
lo
è/ 
¡
;

4124 
™”_numb”
 = (
kmp_ušt64
)(
lo
 - 
vec
[0]è/ (-
¡
);

4126 
i
 = 1; i < 
num_dims
; ++i) {

4127 
kmp_št64
 
™”
, 
Ê
;

4128 
kmp_št32
 
j
 = 
i
 * 4;

4129 
Ê
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 1];

4130 
lo
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 2];

4131 
¡
 = 
´_buf
->
th_dßüoss_šfo
[
j
 + 4];

4132 ià(
¡
 == 1) {

4133 
™”
 = 
vec
[
i
] - 
lo
;

4134 } ià(
¡
 > 0) {

4135 
™”
 = (
kmp_ušt64
)(
vec
[
i
] - 
lo
è/ 
¡
;

4137 
™”
 = (
kmp_ušt64
)(
lo
 - 
vec
[
i
]è/ (-
¡
);

4139 
™”_numb”
 = 
™”
 + 
Ê
 * iter_number;

4141 
shá
 = 
™”_numb”
 % 32;

4142 
™”_numb”
 >>= 5;

4143 
æag
 = 1 << 
shá
;

4144 
	`KMP_MB
();

4145 ià((
æag
 & 
´_buf
->
th_dßüoss_æags
[
™”_numb”
]) == 0)

4146 
	`KMP_TEST_THEN_OR32
(&
´_buf
->
th_dßüoss_æags
[
™”_numb”
], 
æag
);

4147 
	`KA_TRACE
(20, ("__kmpc_dßüoss_po¡(èex™: T#%d i‹¸%Îd…o¡ed\n", 
gtid
,

4148 (
™”_numb”
 << 5è+ 
shá
));

4149 
	}
}

4151 
	$__kmpc_dßüoss_fši
(
id’t_t
 *
loc
, 
gtid
) {

4152 
kmp_št32
 
num_dÚe
;

4153 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

4154 
kmp_‹am_t
 *
‹am
 = 
th
->th.
th_‹am
;

4155 
kmp_di¥_t
 *
´_buf
 = 
th
->th.
th_di¥©ch
;

4157 
	`KA_TRACE
(20, ("__kmpc_dßüoss_fši(è’‹r: c®Ëd T#%d\n", 
gtid
));

4158 ià(
‹am
->
t
.
t_£rŸlized
) {

4159 
	`KA_TRACE
(20, ("__kmpc_dßüoss_fši(èex™: s”Ÿlized—m %p\n", 
‹am
));

4162 
num_dÚe
 = 
	`KMP_TEST_THEN_INC32
((
kmp_št32
 *)
´_buf
->
th_dßüoss_šfo
[1]) + 1;

4163 ià(
num_dÚe
 =ğ
th
->th.
th_‹am_Åroc
) {

4165 
idx
 = 
´_buf
->
th_dßüoss_buf_idx
 - 1;

4166 
di¥©ch_sh¬ed_šfo_t
 *
sh_buf
 =

4167 &
‹am
->
t
.
t_di¥_bufãr
[
idx
 % 
__kmp_di¥©ch_num_bufãrs
];

4168 
	`KMP_DEBUG_ASSERT
(
´_buf
->
th_dßüoss_šfo
[1] ==

4169 (
kmp_št64
)&
sh_buf
->
dßüoss_num_dÚe
);

4170 
	`KMP_DEBUG_ASSERT
(
num_dÚe
 =ğ
sh_buf
->
dßüoss_num_dÚe
);

4171 
	`KMP_DEBUG_ASSERT
(
idx
 =ğ
sh_buf
->
dßüoss_buf_idx
);

4172 
	`__kmp_th»ad_ä“
(
th
, 
	`CCAST
(
kmp_ušt32
 *, 
sh_buf
->
dßüoss_æags
));

4173 
sh_buf
->
dßüoss_æags
 = 
NULL
;

4174 
sh_buf
->
dßüoss_num_dÚe
 = 0;

4175 
sh_buf
->
dßüoss_buf_idx
 +=

4176 
__kmp_di¥©ch_num_bufãrs
;

4179 
´_buf
->
th_dßüoss_æags
 = 
NULL
;

4180 
	`__kmp_th»ad_ä“
(
th
, (*)
´_buf
->
th_dßüoss_šfo
);

4181 
´_buf
->
th_dßüoss_šfo
 = 
NULL
;

4182 
	`KA_TRACE
(20, ("__kmpc_dßüoss_fši(èex™: T#%d\n", 
gtid
));

4183 
	}
}

4186 *
	$omp_®loc
(
size_t
 
size
, 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

4187  
	`__kmpc_®loc
(
	`__kmp_’Œy_gtid
(), 
size
, 
®loÿtÜ
);

4188 
	}
}

4190 
	$omp_ä“
(*
±r
, 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

4191 
	`__kmpc_ä“
(
	`__kmp_’Œy_gtid
(), 
±r
, 
®loÿtÜ
);

4192 
	}
}

4194 
	$__kmpc_g‘_rg‘_ofæßd
() {

4195 ià(!
__kmp_š™_£rŸl
) {

4196 
	`__kmp_£rŸl_š™Ÿlize
();

4198  
__kmp_rg‘_ofæßd
;

4199 
	}
}

4201 
	$__kmpc_·u£_»sourû
(
kmp_·u£_¡©us_t
 
Ëv–
) {

4202 ià(!
__kmp_š™_£rŸl
) {

4205  
	`__kmp_·u£_»sourû
(
Ëv–
);

4206 
	}
}

	@kmp_debug.cpp

13 
	~"kmp.h
"

14 
	~"kmp_debug.h
"

15 
	~"kmp_i18n.h
"

16 
	~"kmp_io.h
"

18 #ifdeà
KMP_DEBUG


19 
	$__kmp_debug_´štf_¡dout
(cÚ¡ *
fÜm©
, ...) {

20 
va_li¡
 
­
;

21 
	`va_¡¬t
(
­
, 
fÜm©
);

23 
	`__kmp_v´štf
(
kmp_out
, 
fÜm©
, 
­
);

25 
	`va_’d
(
­
);

26 
	}
}

29 
	$__kmp_debug_´štf
(cÚ¡ *
fÜm©
, ...) {

30 
va_li¡
 
­
;

31 
	`va_¡¬t
(
­
, 
fÜm©
);

33 
	`__kmp_v´štf
(
kmp_”r
, 
fÜm©
, 
­
);

35 
	`va_’d
(
­
);

36 
	}
}

38 #ifdeà
KMP_USE_ASSERT


39 
	$__kmp_debug_as£¹
(cÚ¡ *
msg
, cÚ¡ *
fe
, 
lše
) {

41 ià(
fe
 =ğ
NULL
) {

42 
fe
 = 
	`KMP_I18N_STR
(
UnknownFe
);

46 cÚ¡ *
¦ash
 = 
	`¡¼chr
(
fe
, '/');

47 ià(
¦ash
 !ğ
NULL
) {

48 
fe
 = 
¦ash
 + 1;

52 #ifdeà
KMP_DEBUG


53 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

54 
	`__kmp_debug_´štf
("As£¹iÚ fau»‡ˆ%s(%d): %s.\n", 
fe
, 
lše
, 
msg
);

55 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

56 #ifdeà
USE_ASSERT_BREAK


57 #ià
KMP_OS_WINDOWS


58 
	`DebugB»ak
();

61 #ifdeà
USE_ASSERT_STALL


66 #ifdeà
USE_ASSERT_SEG


68 vŞ©*
ZERO
 = (*)0;

69 ++(*
ZERO
);

74 
	`__kmp_çl
(
	`KMP_MSG
(
As£¹iÚFau»
, 
fe
, 
lše
), 
	`KMP_HNT
(
Subm™BugR•Üt
),

75 
__kmp_msg_nuÎ
);

79 
	}
}

84 
	$__kmp_dump_debug_bufãr
() {

85 ià(
__kmp_debug_bufãr
 !ğ
NULL
) {

86 
i
;

87 
dc
 = 
__kmp_debug_couÁ
;

88 *
db
 = &
__kmp_debug_bufãr
[(
dc
 % 
__kmp_debug_buf_lšes
) *

89 
__kmp_debug_buf_ch¬s
];

90 *
db_’d
 =

91 &
__kmp_debug_bufãr
[
__kmp_debug_buf_lšes
 * 
__kmp_debug_buf_ch¬s
];

92 *
db2
;

94 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

95 
	`__kmp_´štf_no_lock
("\nStart dump of debugging buffer (entry=%d):\n",

96 
dc
 % 
__kmp_debug_buf_lšes
);

98 
i
 = 0; i < 
__kmp_debug_buf_lšes
; i++) {

100 ià(*
db
 != '\0') {

102 
db2
 = 
db
 + 1; db2 < db + 
__kmp_debug_buf_ch¬s
 - 1; db2++) {

103 ià(*
db2
 == '\0') {

104 ià(*(
db2
 - 1) != '\n') {

105 *
db2
 = '\n';

106 *(
db2
 + 1) = '\0';

113 ià(
db2
 =ğ
db
 + 
__kmp_debug_buf_ch¬s
 - 1 && *db2 == '\0' &&

114 *(
db2
 - 1) != '\n') {

115 *(
db2
 - 1) = '\n';

118 
	`__kmp_´štf_no_lock
("%4d: %.*s", 
i
, 
__kmp_debug_buf_ch¬s
, 
db
);

119 *
db
 = '\0';

122 
db
 +ğ
__kmp_debug_buf_ch¬s
;

123 ià(
db
 >ğ
db_’d
)

124 
db
 = 
__kmp_debug_bufãr
;

127 
	`__kmp_´štf_no_lock
("End dump of debugging buffer (entry=%d).\n\n",

128 (
dc
 + 
i
 - 1è% 
__kmp_debug_buf_lšes
);

129 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

131 
	}
}

	@kmp_debug.h

13 #iâdeà
KMP_DEBUG_H


14 
	#KMP_DEBUG_H


	)

16 
	~<¡d¬g.h
>

18 #ifdeà
__ılu¥lus


26 
	#KMP_BUILD_ASSERT
(
ex´
è
	`¡©ic_as£¹
Óx´, "Bud cÚd™iÚƒ¼Ü")

	)

31 
__kmp_dump_debug_bufãr
();

33 #ifdeà
KMP_USE_ASSERT


34 
__kmp_debug_as£¹
(cÚ¡ *
ex´
, cÚ¡ *
fe
, 
lše
);

35 #ifdeà
KMP_DEBUG


36 
	#KMP_ASSERT
(
cÚd
) \

37 ià(!(
cÚd
)) { \

38 
	`__kmp_debug_as£¹
(#cÚd, 
__FILE__
, 
__LINE__
); \

39 }

	)

40 
	#KMP_ASSERT2
(
cÚd
, 
msg
) \

41 ià(!(
cÚd
)) { \

42 
	`__kmp_debug_as£¹
((
msg
), 
__FILE__
, 
__LINE__
); \

43 }

	)

44 
	#KMP_DEBUG_ASSERT
(
cÚd
è
	`KMP_ASSERT
(cÚd)

	)

45 
	#KMP_DEBUG_ASSERT2
(
cÚd
, 
msg
è
	`KMP_ASSERT2
(cÚd, msg)

	)

46 
	#KMP_DEBUG_USE_VAR
(
x
è

	)

49 
	#KMP_ASSERT
(
cÚd
) \

50 ià(!(
cÚd
)) { \

51 
	`__kmp_debug_as£¹
("as£¹iÚ fau»", 
__FILE__
, 
__LINE__
); \

52 }

	)

53 
	#KMP_ASSERT2
(
cÚd
, 
msg
è
	`KMP_ASSERT
(cÚd)

	)

54 
	#KMP_DEBUG_ASSERT
(
cÚd
è

	)

55 
	#KMP_DEBUG_ASSERT2
(
cÚd
, 
msg
è

	)

56 
	#KMP_DEBUG_USE_VAR
(
x
è(()(x))

	)

59 
	#KMP_ASSERT
(
cÚd
è

	)

60 
	#KMP_ASSERT2
(
cÚd
, 
msg
è

	)

61 
	#KMP_DEBUG_ASSERT
(
cÚd
è

	)

62 
	#KMP_DEBUG_ASSERT2
(
cÚd
, 
msg
è

	)

63 
	#KMP_DEBUG_USE_VAR
(
x
è(()(x))

	)

66 #ifdeà
KMP_DEBUG


67 
__kmp_debug_´štf_¡dout
(cÚ¡ *
fÜm©
, ...);

69 
__kmp_debug_´štf
(cÚ¡ *
fÜm©
, ...);

71 #ifdeà
KMP_DEBUG


73 
kmp_a_debug
;

74 
kmp_b_debug
;

75 
kmp_c_debug
;

76 
kmp_d_debug
;

77 
kmp_e_debug
;

78 
kmp_f_debug
;

79 
kmp_dŸg
;

81 
	#KA_TRACE
(
d
, 
x
) \

82 ià(
kmp_a_debug
 >ğ
d
) { \

83 
__kmp_debug_´štf
 
x
; \

84 }

	)

85 
	#KB_TRACE
(
d
, 
x
) \

86 ià(
kmp_b_debug
 >ğ
d
) { \

87 
__kmp_debug_´štf
 
x
; \

88 }

	)

89 
	#KC_TRACE
(
d
, 
x
) \

90 ià(
kmp_c_debug
 >ğ
d
) { \

91 
__kmp_debug_´štf
 
x
; \

92 }

	)

93 
	#KD_TRACE
(
d
, 
x
) \

94 ià(
kmp_d_debug
 >ğ
d
) { \

95 
__kmp_debug_´štf
 
x
; \

96 }

	)

97 
	#KE_TRACE
(
d
, 
x
) \

98 ià(
kmp_e_debug
 >ğ
d
) { \

99 
__kmp_debug_´štf
 
x
; \

100 }

	)

101 
	#KF_TRACE
(
d
, 
x
) \

102 ià(
kmp_f_debug
 >ğ
d
) { \

103 
__kmp_debug_´štf
 
x
; \

104 }

	)

105 
	#K_DIAG
(
d
, 
x
) \

107 ià(
kmp_dŸg
 =ğ
d
) { \

108 
__kmp_debug_´štf_¡dout
 
x
; \

110 }

	)

112 
	#KA_DUMP
(
d
, 
x
) \

113 ià(
kmp_a_debug
 >ğ
d
) { \

114 
ks
; \

115 
	`__kmp_di§bË
(&
ks
); \

116 (
x
); \

117 
	`__kmp_’abË
(
ks
); \

118 }

	)

119 
	#KB_DUMP
(
d
, 
x
) \

120 ià(
kmp_b_debug
 >ğ
d
) { \

121 
ks
; \

122 
	`__kmp_di§bË
(&
ks
); \

123 (
x
); \

124 
	`__kmp_’abË
(
ks
); \

125 }

	)

126 
	#KC_DUMP
(
d
, 
x
) \

127 ià(
kmp_c_debug
 >ğ
d
) { \

128 
ks
; \

129 
	`__kmp_di§bË
(&
ks
); \

130 (
x
); \

131 
	`__kmp_’abË
(
ks
); \

132 }

	)

133 
	#KD_DUMP
(
d
, 
x
) \

134 ià(
kmp_d_debug
 >ğ
d
) { \

135 
ks
; \

136 
	`__kmp_di§bË
(&
ks
); \

137 (
x
); \

138 
	`__kmp_’abË
(
ks
); \

139 }

	)

140 
	#KE_DUMP
(
d
, 
x
) \

141 ià(
kmp_e_debug
 >ğ
d
) { \

142 
ks
; \

143 
	`__kmp_di§bË
(&
ks
); \

144 (
x
); \

145 
	`__kmp_’abË
(
ks
); \

146 }

	)

147 
	#KF_DUMP
(
d
, 
x
) \

148 ià(
kmp_f_debug
 >ğ
d
) { \

149 
ks
; \

150 
	`__kmp_di§bË
(&
ks
); \

151 (
x
); \

152 
	`__kmp_’abË
(
ks
); \

153 }

	)

157 
	#KA_TRACE
(
d
, 
x
è

	)

158 
	#KB_TRACE
(
d
, 
x
è

	)

159 
	#KC_TRACE
(
d
, 
x
è

	)

160 
	#KD_TRACE
(
d
, 
x
è

	)

161 
	#KE_TRACE
(
d
, 
x
è

	)

162 
	#KF_TRACE
(
d
, 
x
è

	)

163 
	#K_DIAG
(
d
, 
x
) \

164 {}

	)

166 
	#KA_DUMP
(
d
, 
x
è

	)

167 
	#KB_DUMP
(
d
, 
x
è

	)

168 
	#KC_DUMP
(
d
, 
x
è

	)

169 
	#KD_DUMP
(
d
, 
x
è

	)

170 
	#KE_DUMP
(
d
, 
x
è

	)

171 
	#KF_DUMP
(
d
, 
x
è

	)

175 #ifdeà
__ılu¥lus


	@kmp_debugger.cpp

1 
	~"kmp_cÚfig.h
"

3 #ià
USE_DEBUGGER


16 
	~"kmp.h
"

17 
	~"kmp_lock.h
"

18 
	~"kmp_omp.h
"

19 
	~"kmp_¡r.h
"

23 #ifdeà
__ılu¥lus


25 
kmp_omp_¡ruù_šfo_t
 
__kmp_omp_debug_¡ruù_šfo
;

29 
	g__kmp_debuggšg
 = 
FALSE
;

31 
	#off£t_ªd_size_of
(
¡ruùu»
, 
f›ld
) \

32 { 
	`off£tof
(
¡ruùu»
, 
f›ld
), (((¡ruùu» *)
NULL
)->f›ldè}

	)

34 
	#off£t_ªd_size_nÙ_avaabË
 \

35 { -1, -1 }

	)

37 
	#addr_ªd_size_of
(
v¬
) \

38 { (
kmp_ušt64
)(&
v¬
), (v¬è}

	)

40 
	#Áhr_bufãr_size
 1024

	)

41 
kmp_št32
 
	gkmp_omp_Áhr_šfo_bufãr
[
Áhr_bufãr_size
] = {

42 
Áhr_bufãr_size
 * (
kmp_št32
)};

45 
	gfunc_miüÙask
[] = "__kmp_invoke_microtask";

46 
	gfunc_fÜk
[] = "__kmpc_fork_call";

47 
	gfunc_fÜk_‹ams
[] = "__kmpc_fork_teams";

50 
kmp_omp_¡ruù_šfo_t
 
	g__kmp_omp_debug_¡ruù_šfo
 = {

53 
KMP_OMP_VERSION
,

58 (
kmp_omp_¡ruù_šfo_t
),

61 
addr_ªd_size_of
(
__kmp_v”siÚ_majÜ
),

62 
addr_ªd_size_of
(
__kmp_v”siÚ_mšÜ
),

63 
addr_ªd_size_of
(
__kmp_v”siÚ_bud
),

64 
addr_ªd_size_of
(
__kmp_İ’mp_v”siÚ
),

65 {(
kmp_ušt64
)(
__kmp_cİyright
è+ 
KMP_VERSION_MAGIC_LEN
,

69 
addr_ªd_size_of
(
__kmp_th»ads
),

70 
addr_ªd_size_of
(
__kmp_roÙ
),

71 
addr_ªd_size_of
(
__kmp_th»ads_ÿ·c™y
),

72 #ià
KMP_USE_MONITOR


73 
addr_ªd_size_of
(
__kmp_mÚ™Ü
),

75 #ià!
KMP_USE_DYNAMIC_LOCK


76 
addr_ªd_size_of
(
__kmp_u£r_lock_bË
),

78 
addr_ªd_size_of
(
func_miüÙask
),

79 
addr_ªd_size_of
(
func_fÜk
),

80 
addr_ªd_size_of
(
func_fÜk_‹ams
),

81 
addr_ªd_size_of
(
__kmp_‹am_couÁ”
),

82 
addr_ªd_size_of
(
__kmp_sk_couÁ”
),

83 
addr_ªd_size_of
(
kmp_omp_Áhr_šfo_bufãr
),

85 
OMP_LOCK_T_SIZE
 < (*),

86 
bs_Ï¡_b¬r›r
,

87 
INITIAL_TASK_DEQUE_SIZE
,

90 (
kmp_ba£_šfo_t
),

91 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_šfo
),

92 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_‹am
),

93 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_roÙ
),

94 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_£rŸl_‹am
),

95 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_id’t
),

96 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_¥š_h”e
),

97 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_Ãxt_wa™šg
),

98 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_sk_‹am
),

99 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_cu¼’t_sk
),

100 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_sk_¡©e
),

101 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_b¬
),

102 
off£t_ªd_size_of
(
kmp_b¡©e_t
, 
b_wÜk”_¬rived
),

105 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_‹ams_miüÙask
),

106 
off£t_ªd_size_of
(
kmp_ba£_šfo_t
, 
th_‹ams_Ëv–
),

107 
off£t_ªd_size_of
(
kmp_‹ams_size_t
, 
Á—ms
),

108 
off£t_ªd_size_of
(
kmp_‹ams_size_t
, 
Áh
),

111 (
kmp_desc_ba£_t
),

112 
off£t_ªd_size_of
(
kmp_desc_ba£_t
, 
ds_tid
),

113 
off£t_ªd_size_of
(
kmp_desc_ba£_t
, 
ds_gtid
),

116 #ià
KMP_OS_WINDOWS


117 
off£t_ªd_size_of
(
kmp_desc_ba£_t
, 
ds_th»ad_id
),

119 
off£t_ªd_size_of
(
kmp_desc_ba£_t
, 
ds_th»ad
),

123 (
kmp_ba£_‹am_t
),

124 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_ma¡”_tid
),

125 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_id’t
),

126 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_·»Á
),

127 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_Åroc
),

128 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_th»ads
),

129 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_£rŸlized
),

130 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_id
),

131 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_pkâ
),

132 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_sk_‹am
),

133 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_im¶ic™_sk_skd©a
),

134 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_ÿnûl_»que¡
),

135 
off£t_ªd_size_of
(
kmp_ba£_‹am_t
, 
t_b¬
),

136 
off£t_ªd_size_of
(
kmp_b®ign_‹am_t
, 
b_ma¡”_¬rived
),

137 
off£t_ªd_size_of
(
kmp_b®ign_‹am_t
, 
b_‹am_¬rived
),

140 (
kmp_ba£_roÙ_t
),

141 
off£t_ªd_size_of
(
kmp_ba£_roÙ_t
, 
r_roÙ_‹am
),

142 
off£t_ªd_size_of
(
kmp_ba£_roÙ_t
, 
r_hÙ_‹am
),

143 
off£t_ªd_size_of
(
kmp_ba£_roÙ_t
, 
r_ub”_th»ad
),

144 
off£t_ªd_size_nÙ_avaabË
,

147 (
id’t_t
),

148 
off£t_ªd_size_of
(
id’t_t
, 
psourû
),

149 
off£t_ªd_size_of
(
id’t_t
, 
æags
),

152 (
kmp_ba£_queušg_lock_t
),

153 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
š™Ÿlized
),

154 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
loÿtiÚ
),

155 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
_id
),

156 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
h—d_id
),

157 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
Ãxt_tick‘
),

158 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
now_£rvšg
),

159 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
owÃr_id
),

160 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
d•th_locked
),

161 
off£t_ªd_size_of
(
kmp_ba£_queušg_lock_t
, 
æags
),

163 #ià!
KMP_USE_DYNAMIC_LOCK


165 (
kmp_lock_bË_t
),

166 
off£t_ªd_size_of
(
kmp_lock_bË_t
, 
u£d
),

167 
off£t_ªd_size_of
(
kmp_lock_bË_t
, 
®loÿ‹d
),

168 
off£t_ªd_size_of
(
kmp_lock_bË_t
, 
bË
),

172 (
kmp_ba£_sk_‹am_t
),

173 
off£t_ªd_size_of
(
kmp_ba£_sk_‹am_t
, 
‰_th»ads_d©a
),

174 
off£t_ªd_size_of
(
kmp_ba£_sk_‹am_t
, 
‰_found_sks
),

175 
off£t_ªd_size_of
(
kmp_ba£_sk_‹am_t
, 
‰_Åroc
),

176 
off£t_ªd_size_of
(
kmp_ba£_sk_‹am_t
, 
‰_unfšished_th»ads
),

177 
off£t_ªd_size_of
(
kmp_ba£_sk_‹am_t
, 
‰_aùive
),

180 (
kmp_skd©a_t
),

181 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_sk_id
),

182 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_æags
),

183 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_‹am
),

184 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_·»Á
),

185 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_Ëv–
),

186 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_id’t
),

187 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_®loÿ‹d_chd_sks
),

188 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_šcom¶‘e_chd_sks
),

190 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_skwa™_id’t
),

191 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_skwa™_couÁ”
),

192 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_skwa™_th»ad
),

194 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_skgroup
),

195 
off£t_ªd_size_of
(
kmp_skgroup_t
, 
couÁ
),

196 
off£t_ªd_size_of
(
kmp_skgroup_t
, 
ÿnûl_»que¡
),

198 
off£t_ªd_size_of
(
kmp_skd©a_t
, 
td_d•node
),

199 
off£t_ªd_size_of
(
kmp_d•node_li¡_t
, 
node
),

200 
off£t_ªd_size_of
(
kmp_d•node_li¡_t
, 
Ãxt
),

201 
off£t_ªd_size_of
(
kmp_ba£_d•node_t
, 
sucûssÜs
),

202 
off£t_ªd_size_of
(
kmp_ba£_d•node_t
, 
sk
),

203 
off£t_ªd_size_of
(
kmp_ba£_d•node_t
, 
Å»deûssÜs
),

204 
off£t_ªd_size_of
(
kmp_ba£_d•node_t
, 
Äefs
),

205 
off£t_ªd_size_of
(
kmp_sk_t
, 
routše
),

208 (
kmp_th»ad_d©a_t
),

209 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque
),

210 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque_size
),

211 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque_h—d
),

212 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque_
),

213 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque_Áasks
),

214 
off£t_ªd_size_of
(
kmp_ba£_th»ad_d©a_t
, 
td_deque_Ï¡_¡Ş’
),

217 
KMP_OMP_VERSION
,

221 #undeà
off£t_ªd_size_of


222 #undeà
addr_ªd_size_of


228 
šlše
 *
	$__kmp_cÚv”t_to_±r
(
kmp_ušt64
 
addr
) {

229 #ià
KMP_COMPILER_ICC


230 #´agm¨
	`w¬nšg
(
push
)

231 #´agm¨
	`w¬nšg
(
di§bË
 : 810)

233 #´agm¨
	`w¬nšg
(
di§bË
 : 1195)

235  (*)
addr
;

236 #ià
KMP_COMPILER_ICC


237 #´agm¨
	`w¬nšg
(
pİ
)

239 
	}
}

241 
	$kmp_loÿtiÚ_m©ch
(
kmp_¡r_loc_t
 *
loc
, 
kmp_omp_Áhr_™em_t
 *
™em
) {

243 
fe_m©ch
 = 0;

244 
func_m©ch
 = 0;

245 
lše_m©ch
 = 0;

247 *
fe
 = (*)
	`__kmp_cÚv”t_to_±r
(
™em
->file);

248 *
func
 = (*)
	`__kmp_cÚv”t_to_±r
(
™em
->func);

249 
fe_m©ch
 = 
	`__kmp_¡r_âame_m©ch
(&
loc
->
âame
, 
fe
);

250 
func_m©ch
 =

251 
™em
->
func
 == 0

252 || 
	`¡rcmp
(
func
, "*") == 0 ||

253 (
loc
->
func
 !ğ
NULL
 && 
	`¡rcmp
(loc->func, func) == 0);

254 
lše_m©ch
 =

255 
™em
->
begš
 <ğ
loc
->
lše
 &&

256 (
™em
->
’d
 <= 0 ||

257 
loc
->
lše
 <ğ
™em
->
’d
);

259  (
fe_m©ch
 && 
func_m©ch
 && 
lše_m©ch
);

261 
	}
}

263 
	$__kmp_omp_num_th»ads
(
id’t_t
 cÚ¡ *
id’t
) {

265 
num_th»ads
 = 0;

267 
kmp_omp_Áhr_šfo_t
 *
šfo
 = (kmp_omp_Áhr_šfo_ˆ*)
	`__kmp_cÚv”t_to_±r
(

268 
__kmp_omp_debug_¡ruù_šfo
.
Áhr_šfo
.
addr
);

269 ià(
šfo
->
num
 > 0 && info->
¬¿y
 != 0) {

270 
kmp_omp_Áhr_™em_t
 *
™ems
 =

271 (
kmp_omp_Áhr_™em_t
 *)
	`__kmp_cÚv”t_to_±r
(
šfo
->
¬¿y
);

272 
kmp_¡r_loc_t
 
loc
 = 
	`__kmp_¡r_loc_š™
(
id’t
->
psourû
, 1);

273 
i
;

274 
i
 = 0; i < 
šfo
->
num
; ++i) {

275 ià(
	`kmp_loÿtiÚ_m©ch
(&
loc
, &
™ems
[
i
])) {

276 
num_th»ads
 = 
™ems
[
i
].num_threads;

279 
	`__kmp_¡r_loc_ä“
(&
loc
);

282  
num_th»ads
;

285 
	}
}

	@kmp_debugger.h

1 #ià
USE_DEBUGGER


14 #iâdeà
KMP_DEBUGGER_H


15 
	#KMP_DEBUGGER_H


	)

17 #ifdeà
__ılu¥lus


34 
__kmp_debuggšg
;

40 
__kmp_omp_num_th»ads
(
id’t_t
 cÚ¡ *
id’t
);

42 #ifdeà
__ılu¥lus


	@kmp_dispatch.cpp

20 
	~"kmp.h
"

21 
	~"kmp_”rÜ.h
"

22 
	~"kmp_i18n.h
"

23 
	~"kmp_™t.h
"

24 
	~"kmp_¡©s.h
"

25 
	~"kmp_¡r.h
"

26 #ià
KMP_USE_X87CONTROL


27 
	~<æßt.h
>

29 
	~"kmp_lock.h
"

30 
	~"kmp_di¥©ch.h
"

31 #ià
KMP_USE_HIER_SCHED


32 
	~"kmp_di¥©ch_h›r.h
"

35 #ià
OMPT_SUPPORT


36 
	~"om±-¥ecific.h
"

42 
	$__kmp_di¥©ch_deo_”rÜ
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

43 
kmp_šfo_t
 *
th
;

45 
	`KMP_DEBUG_ASSERT
(
gtid_»f
);

47 ià(
__kmp_’v_cÚsi¡’cy_check
) {

48 
th
 = 
__kmp_th»ads
[*
gtid_»f
];

49 ià(
th
->th.
th_roÙ
->
r
.
r_aùive
 &&

50 (
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
->
pushed_ws
 !ğ
ù_nÚe
)) {

51 #ià
KMP_USE_DYNAMIC_LOCK


52 
	`__kmp_push_sync
(*
gtid_»f
, 
ù_Üd”ed_š_pdo
, 
loc_»f
, 
NULL
, 0);

54 
	`__kmp_push_sync
(*
gtid_»f
, 
ù_Üd”ed_š_pdo
, 
loc_»f
, 
NULL
);

58 
	}
}

60 
	$__kmp_di¥©ch_dxo_”rÜ
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

61 
kmp_šfo_t
 *
th
;

63 ià(
__kmp_’v_cÚsi¡’cy_check
) {

64 
th
 = 
__kmp_th»ads
[*
gtid_»f
];

65 ià(
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
->
pushed_ws
 !ğ
ù_nÚe
) {

66 
	`__kmp_pİ_sync
(*
gtid_»f
, 
ù_Üd”ed_š_pdo
, 
loc_»f
);

69 
	}
}

72 
šlše
 
	$__kmp_g‘_mÚÙÚic™y
(
sched_ty³
 
scheduË
,

73 
boŞ
 
u£_h›r
 = 
çl£
) {

75 
mÚÙÚic™y
;

77 
mÚÙÚic™y
 = 
SCHEDULE_MONOTONIC
;

78 ià(
	`SCHEDULE_HAS_NONMONOTONIC
(
scheduË
))

79 
mÚÙÚic™y
 = 
SCHEDULE_NONMONOTONIC
;

80 ià(
	`SCHEDULE_HAS_MONOTONIC
(
scheduË
))

81 
mÚÙÚic™y
 = 
SCHEDULE_MONOTONIC
;

82  
mÚÙÚic™y
;

83 
	}
}

95 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

96 
__kmp_di¥©ch_š™_®gÜ™hm
(
id’t_t
 *
loc
, 
gtid
,

97 
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *
´
,

98 
sched_ty³
 
scheduË
, 
T
 
lb
, T 
ub
,

99 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
¡
,

100 #ià
USE_ITT_BUILD


101 
kmp_ušt64
 *
cur_chunk
,

103 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk
,

104 
T
 
Åroc
, T 
tid
) {

105 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

106 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tæßtšg_t
 
	tDBL
;

108 
	gaùive
;

109 
T
 
	gtc
;

110 
kmp_šfo_t
 *
	gth
;

111 
kmp_‹am_t
 *
	g‹am
;

112 
	gmÚÙÚic™y
;

113 
boŞ
 
	gu£_h›r
;

115 #ifdeà
KMP_DEBUG


116 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

118 *
	gbuff
;

120 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_dispatch_init_algorithm: T#%%d called "

123 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

124 
Œa™s_t
<
ST
>::
¥ec
,raits_t<ST>::spec,

125 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec);

126 
KD_TRACE
(10, (
buff
, 
gtid
, 
´
, 
lb
, 
ub
, 
¡
, 
scheduË
, 
chunk
, 
Åroc
, 
tid
));

127 
__kmp_¡r_ä“
(&
buff
);

131 
	gth
 = 
__kmp_th»ads
[
gtid
];

132 
	g‹am
 = 
th
->th.
th_‹am
;

133 
	gaùive
 = !
‹am
->
t
.
t_£rŸlized
;

135 #ià
USE_ITT_BUILD


136 
	g™t_Ãed_m‘ad©a_»pÜtšg
 =

137 
__™t_m‘ad©a_add_±r
 && 
__kmp_fÜkjoš_äames_mode
 == 3 &&

138 
KMP_MASTER_GTID
(
gtid
è&& 
th
->th.
th_‹ams_miüÙask
 =ğ
NULL
 &&

139 
‹am
->
t
.
t_aùive_Ëv–
 == 1;

142 #ià
KMP_USE_HIER_SCHED


143 
	gu£_h›r
 = 
´
->
æags
.
u£_h›r
;

145 
	gu£_h›r
 = 
çl£
;

149 
	gmÚÙÚic™y
 = 
__kmp_g‘_mÚÙÚic™y
(
scheduË
, 
u£_h›r
);

150 
	gscheduË
 = 
SCHEDULE_WITHOUT_MODIFIERS
(
scheduË
);

153 ià((
	gscheduË
 >ğ
kmp_nm_low”
è&& (
scheduË
 < 
kmp_nm_uµ”
)) {

154 
´
->
æags
.
nom”ge
 = 
TRUE
;

155 
	gscheduË
 =

156 (
sched_ty³
)((()
scheduË
è- (
kmp_nm_low”
 - 
kmp_sch_low”
));

158 
	g´
->
	gæags
.
	gnom”ge
 = 
FALSE
;

160 
	g´
->
	gty³_size
 = 
Œa™s_t
<
T
>::
ty³_size
;

161 ià(
	gkmp_Üd_low”
 & 
	gscheduË
) {

162 
	g´
->
	gæags
.
	gÜd”ed
 = 
TRUE
;

163 
	gscheduË
 =

164 (
sched_ty³
)((()
scheduË
è- (
kmp_Üd_low”
 - 
kmp_sch_low”
));

166 
	g´
->
	gæags
.
	gÜd”ed
 = 
FALSE
;

169 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

170 
	gmÚÙÚic™y
 = 
SCHEDULE_MONOTONIC
;

173 ià(
	gscheduË
 =ğ
kmp_sch_¡©ic
) {

174 
scheduË
 = 
__kmp_¡©ic
;

176 ià(
	gscheduË
 =ğ
kmp_sch_ruÁime
) {

179 
scheduË
 = 
‹am
->
t
.
t_sched
.
r_sched_ty³
;

180 
	gmÚÙÚic™y
 = 
__kmp_g‘_mÚÙÚic™y
(
scheduË
, 
u£_h›r
);

181 
	gscheduË
 = 
SCHEDULE_WITHOUT_MODIFIERS
(
scheduË
);

184 ià(
	gscheduË
 =ğ
kmp_sch_guided_chunked
) {

185 
scheduË
 = 
__kmp_guided
;

186 } ià(
	gscheduË
 =ğ
kmp_sch_¡©ic
) {

187 
scheduË
 = 
__kmp_¡©ic
;

191 
	gchunk
 = 
‹am
->
t
.
t_sched
.
chunk
;

192 #ià
USE_ITT_BUILD


193 ià(
	gcur_chunk
)

194 *
	gcur_chunk
 = 
chunk
;

196 #ifdeà
KMP_DEBUG


198 *
	gbuff
;

200 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_dispatch_init_algorithm: T#%%d‚ew: "

202 
Œa™s_t
<
ST
>::
¥ec
);

203 
KD_TRACE
(10, (
buff
, 
gtid
, 
scheduË
, 
chunk
));

204 
__kmp_¡r_ä“
(&
buff
);

208 ià(
	gscheduË
 =ğ
kmp_sch_guided_chunked
) {

209 
scheduË
 = 
__kmp_guided
;

211 ià(
	gchunk
 <= 0) {

212 
chunk
 = 
KMP_DEFAULT_CHUNK
;

216 ià(
	gscheduË
 =ğ
kmp_sch_auto
) {

218 
scheduË
 = 
__kmp_auto
;

219 #ifdeà
KMP_DEBUG


221 *
	gbuff
;

223 
	gbuff
 = 
__kmp_¡r_fÜm©
(

226 
Œa™s_t
<
ST
>::
¥ec
);

227 
KD_TRACE
(10, (
buff
, 
gtid
, 
scheduË
, 
chunk
));

228 
__kmp_¡r_ä“
(&
buff
);

232 #ià
KMP_STATIC_STEAL_ENABLED


234 ià(
	gscheduË
 =ğ
kmp_sch_dyÇmic_chunked
) {

235 ià(
mÚÙÚic™y
 =ğ
SCHEDULE_NONMONOTONIC
)

236 
scheduË
 = 
kmp_sch_¡©ic_¡—l
;

240 ià(
	gscheduË
 =ğ
kmp_sch_guided_ª®ytiÿl_chunked
 && 
Åroc
 > 1 << 20) {

241 
scheduË
 = 
kmp_sch_guided_™”©ive_chunked
;

242 
KMP_WARNING
(
Di¥©chMªyTh»ads
);

244 ià(
	gscheduË
 =ğ
kmp_sch_ruÁime_simd
) {

246 
scheduË
 = 
‹am
->
t
.
t_sched
.
r_sched_ty³
;

247 
	gmÚÙÚic™y
 = 
__kmp_g‘_mÚÙÚic™y
(
scheduË
, 
u£_h›r
);

248 
	gscheduË
 = 
SCHEDULE_WITHOUT_MODIFIERS
(
scheduË
);

251 ià(
	gscheduË
 =ğ
kmp_sch_¡©ic
 || 
scheduË
 =ğ
kmp_sch_auto
 ||

252 
scheduË
 =ğ
__kmp_¡©ic
) {

253 
scheduË
 = 
kmp_sch_¡©ic_b®ªûd_chunked
;

255 ià(
	gscheduË
 =ğ
kmp_sch_guided_chunked
 || 
scheduË
 =ğ
__kmp_guided
) {

256 
scheduË
 = 
kmp_sch_guided_simd
;

258 
	gchunk
 = 
‹am
->
t
.
t_sched
.
chunk
 * chunk;

260 #ià
USE_ITT_BUILD


261 ià(
	gcur_chunk
)

262 *
	gcur_chunk
 = 
chunk
;

264 #ifdeà
KMP_DEBUG


266 *
	gbuff
;

268 
	gbuff
 = 
__kmp_¡r_fÜm©
(

271 
Œa™s_t
<
ST
>::
¥ec
);

272 
KD_TRACE
(10, (
buff
, 
gtid
, 
scheduË
, 
chunk
));

273 
__kmp_¡r_ä“
(&
buff
);

277 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
chunk
;

279 
KMP_ASSERT2
((
kmp_sch_low”
 < 
scheduË
 && scheduË < 
kmp_sch_uµ”
),

282 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 0;

284 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

285 ià(
	g¡
 == 0) {

286 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüZ”oProhib™ed
,

287 (
´
->
æags
.
Üd”ed
 ? 
ù_pdo_Üd”ed
 : 
ù_pdo
), 
loc
);

291 ià(
	g¡
 == 1) {

292 ià(
ub
 >ğ
lb
) {

293 
tc
 = 
ub
 - 
lb
 + 1;

295 
	gtc
 = 0;

297 } ià(
	g¡
 < 0) {

298 ià(
	glb
 >ğ
ub
) {

301 
tc
 = (
UT
)(
lb
 - 
ub
è/ (-
¡
) + 1;

303 
	gtc
 = 0;

306 ià(
	gub
 >ğ
lb
) {

309 
tc
 = (
UT
)(
ub
 - 
lb
è/ 
¡
 + 1;

311 
	gtc
 = 0;

315 #ià
KMP_STATS_ENABLED


316 ià(
KMP_MASTER_GTID
(
gtid
)) {

317 
KMP_COUNT_VALUE
(
OMP_loİ_dyÇmic_tÙ®_™”©iÚs
, 
tc
);

321 
	g´
->
	gu
.
	gp
.
	glb
 = 
lb
;

322 
	g´
->
	gu
.
	gp
.
	gub
 = 
ub
;

323 
	g´
->
	gu
.
	gp
.
	g¡
 = 
¡
;

324 
	g´
->
	gu
.
	gp
.
	gtc
 = 
tc
;

326 #ià
KMP_OS_WINDOWS


327 
	g´
->
	gu
.
	gp
.
	gÏ¡_uµ”
 = 
ub
 + 
¡
;

332 ià(
	gaùive
) {

333 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

334 
	g´
->
	gÜd”ed_bum³d
 = 0;

335 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 1;

336 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 0;

340 
	gscheduË
) {

341 #ià(
KMP_STATIC_STEAL_ENABLED
)

342 
	gkmp_sch_¡©ic_¡—l
: {

343 
T
 
Ác
, 
	gš™
;

345 
KD_TRACE
(100,

347 
gtid
));

349 
	gÁc
 = (
tc
 % 
chunk
 ? 1 : 0) +c / chunk;

350 ià(
	gÅroc
 > 1 && 
	gÁc
 >ğ
Åroc
) {

351 
KMP_COUNT_BLOCK
(
OMP_LOOP_STATIC_STEAL
);

352 
T
 
	gid
 = 
tid
;

353 
T
 
	gsm®l_chunk
, 
	gexŒas
;

355 
	gsm®l_chunk
 = 
Ác
 / 
Åroc
;

356 
	gexŒas
 = 
Ác
 % 
Åroc
;

358 
	gš™
 = 
id
 * 
sm®l_chunk
 + (id < 
exŒas
 ? id :ƒxtras);

359 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 
š™
;

360 
	g´
->
	gu
.
	gp
.
	gub
 = 
š™
 + 
sm®l_chunk
 + (
id
 < 
exŒas
 ? 1 : 0);

362 
	g´
->
	gu
.
	gp
.
	g·rm2
 = 
lb
;

366 
	g´
->
	gu
.
	gp
.
	g·rm3
 = 
KMP_MIN
(
sm®l_chunk
 + 
exŒas
, 
Åroc
);

367 
	g´
->
	gu
.
	gp
.
	g·rm4
 = (
id
 + 1è% 
Åroc
;

368 
	g´
->
	gu
.
	gp
.
	g¡
 = 
¡
;

369 ià(
	gŒa™s_t
<
	gT
>::
ty³_size
 > 4) {

375 
KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
->
th_¡—l_lock
 =ğ
NULL
);

376 
	gth
->th.
	gth_di¥©ch
->
	gth_¡—l_lock
 =

377 (
kmp_lock_t
 *)
__kmp_®loÿ‹
((kmp_lock_t));

378 
__kmp_š™_lock
(
th
->th.
th_di¥©ch
->
th_¡—l_lock
);

383 
	gscheduË
 = 
kmp_sch_dyÇmic_chunked
;

384 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d switchingo "

386 
gtid
));

387 ià(
	g´
->
	gu
.
	gp
.
	g·rm1
 <= 0)

388 
´
->
u
.
p
.
·rm1
 = 
KMP_DEFAULT_CHUNK
;

393 
	gkmp_sch_¡©ic_b®ªûd
: {

394 
T
 
š™
, 
	glim™
;

396 
KD_TRACE
(

399 
gtid
));

401 ià(
	gÅroc
 > 1) {

402 
T
 
	gid
 = 
tid
;

404 ià(
	gtc
 < 
	gÅroc
) {

405 ià(
	gid
 < 
	gtc
) {

406 
	gš™
 = 
id
;

407 
	glim™
 = 
id
;

408 
	g´
->
	gu
.
	gp
.
	g·rm1
 = (
id
 =ğ
tc
 - 1);

410 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 1;

411 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
FALSE
;

415 
T
 
	gsm®l_chunk
 = 
tc
 / 
Åroc
;

416 
T
 
	gexŒas
 = 
tc
 % 
Åroc
;

417 
	gš™
 = 
id
 * 
sm®l_chunk
 + (id < 
exŒas
 ? id :ƒxtras);

418 
	glim™
 = 
š™
 + 
sm®l_chunk
 - (
id
 < 
exŒas
 ? 0 : 1);

419 
	g´
->
	gu
.
	gp
.
	g·rm1
 = (
id
 =ğ
Åroc
 - 1);

422 ià(
	gtc
 > 0) {

423 
	gš™
 = 0;

424 
	glim™
 = 
tc
 - 1;

425 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
TRUE
;

428 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 1;

429 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
FALSE
;

433 #ià
USE_ITT_BUILD


435 ià(
	g™t_Ãed_m‘ad©a_»pÜtšg
)

436 ià(
	gcur_chunk
)

437 *
	gcur_chunk
 = 
lim™
 - 
š™
 + 1;

439 ià(
	g¡
 == 1) {

440 
´
->
u
.
p
.
lb
 =†b + 
š™
;

441 
	g´
->
	gu
.
	gp
.
	gub
 = 
lb
 + 
lim™
;

444 
T
 
	gub_tmp
 = 
lb
 + 
lim™
 * 
¡
;

445 
	g´
->
	gu
.
	gp
.
	glb
 = 
lb
 + 
š™
 * 
¡
;

448 ià(
	g¡
 > 0) {

449 
	g´
->
	gu
.
	gp
.
	gub
 = (
ub_tmp
 + 
¡
 > 
ub
 ? ub : ub_tmp);

451 
	g´
->
	gu
.
	gp
.
	gub
 = (
ub_tmp
 + 
¡
 < 
ub
 ? ub : ub_tmp);

454 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

455 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

456 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

460 
	gkmp_sch_¡©ic_b®ªûd_chunked
: {

462 
T
 
Áh
 = 
Åroc
;

463 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d„untime(simd:static)"

465 
gtid
));

466 
	gscheduË
 = 
kmp_sch_¡©ic_g»edy
;

467 ià(
	gÁh
 > 1)

468 
	g´
->
	gu
.
	gp
.
	g·rm1
 = ((
tc
 + 
Áh
 - 1è/‚th + 
chunk
 - 1) & ~(chunk - 1);

470 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
tc
;

473 
	gkmp_sch_guided_simd
:

474 
kmp_sch_guided_™”©ive_chunked
: {

475 
KD_TRACE
(

479 
gtid
));

481 ià(
	gÅroc
 > 1) {

482 ià((2L * 
	gchunk
 + 1è* 
	gÅroc
 >ğ
tc
) {

484 
scheduË
 = 
kmp_sch_dyÇmic_chunked
;

487 
	g´
->
	gu
.
	gp
.
	g·rm2
 = 
guided_št_·¿m
 * 
Åroc
 * (
chunk
 + 1);

488 *(*)&
	g´
->
	gu
.
	gp
.
	g·rm3
 =

489 
guided_æt_·¿m
 / 
Åroc
;

492 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d falling-througho "

494 
gtid
));

495 
	gscheduË
 = 
kmp_sch_¡©ic_g»edy
;

497 
KD_TRACE
(

500 
gtid
));

501 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
tc
;

505 
	gkmp_sch_guided_ª®ytiÿl_chunked
: {

506 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d "

508 
gtid
));

510 ià(
	gÅroc
 > 1) {

511 ià((2L * 
	gchunk
 + 1è* 
	gÅroc
 >ğ
tc
) {

513 
scheduË
 = 
kmp_sch_dyÇmic_chunked
;

516 
DBL
 
	gx
;

518 #ià
KMP_USE_X87CONTROL


528 
	gŞdFpcw
 = 
_cÚŒŞ87
(0, 0);

529 
_cÚŒŞ87
(
_PC_64
, 
_MCW_PC
);

532 
	grg‘
 = (()
chunk
 * 2 + 1è* 
Åroc
 / 
tc
;

536 
UT
 
	güoss
;

539 
	gx
 = ()1.0 - ()0.5 / 
Åroc
;

541 #ifdeà
KMP_DEBUG


543 
	s_‹¡_a
 {

544 
	ga
;

546 
	gb
;

547 
DBL
 
	gd
;

549 } 
	gt
;

550 
±rdiff_t
 
	gÇtu¿l_®ignm’t
 =

551 (
±rdiff_t
)&
t
.
b
 - (ptrdiff_t)&t - (ptrdiff_t)1;

554 
KMP_DEBUG_ASSERT
(

555 (((
±rdiff_t
)&
´
->
u
.
p
.
·rm3
è& (
Çtu¿l_®ignm’t
)) == 0);

560 *(
	gDBL
 *)&
	g´
->
	gu
.
	gp
.
	g·rm3
 = 
x
;

565 
UT
 
	gËá
, 
	gright
, 
	gmid
;

566 
	gp
;

572 
	gright
 = 229;

573 
	gp
 = 
__kmp_pow
<
UT
>(
x
, 
	gright
);

574 ià(
	gp
 > 
	grg‘
) {

576 
	gp
 *ğ
p
;

577 
	gright
 <<= 1;

578 } 
	gp
 > 
	grg‘
 && 
	gright
 < (1 << 27));

580 
	gËá
 = 
right
 >> 1;

582 
	gËá
 = 0;

586 
	gËá
 + 1 < 
	gright
) {

587 
	gmid
 = (
Ëá
 + 
right
) / 2;

588 ià(
	g__kmp_pow
<
	gUT
>(
	gx
, 
	gmid
è> 
	grg‘
) {

589 
	gËá
 = 
mid
;

591 
	gright
 = 
mid
;

594 
	güoss
 = 
right
;

597 
KMP_ASSERT
(
üoss
 && 
__kmp_pow
<
UT
>(
x
, cros - 1è> 
rg‘
 &&

598 
__kmp_pow
<
UT
>(
x
, 
üoss
è<ğ
rg‘
);

601 
	g´
->
	gu
.
	gp
.
	g·rm2
 = 
üoss
;

604 #ià((
KMP_OS_LINUX
 || 
KMP_OS_WINDOWS
è&& 
KMP_ARCH_X86
è&& (!
defšed
(
KMP_I8
))

605 
	#GUIDED_ANALYTICAL_WORKAROUND
 (*(
DBL
 *)&
´
->
u
.
p
.
·rm3
)

	)

607 
	#GUIDED_ANALYTICAL_WORKAROUND
 (
x
)

	)

610 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 
tc
 - 
__kmp_di¥©ch_guided_»maššg
(

611 
tc
, 
GUIDED_ANALYTICAL_WORKAROUND
, 
üoss
) -

612 
üoss
 * 
	gchunk
;

613 #ià
KMP_USE_X87CONTROL


615 
_cÚŒŞ87
(
ŞdFpcw
, 
_MCW_PC
);

619 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d falling-througho "

621 
gtid
));

622 
	gscheduË
 = 
kmp_sch_¡©ic_g»edy
;

624 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
tc
;

628 
	gkmp_sch_¡©ic_g»edy
:

629 
KD_TRACE
(

632 
gtid
));

633 
	g´
->
	gu
.
	gp
.
	g·rm1
 = (
Åroc
 > 1è? (
tc
 +‚proc - 1) /‚proc :c;

635 
	gkmp_sch_¡©ic_chunked
:

636 
kmp_sch_dyÇmic_chunked
:

637 ià(
´
->
u
.
p
.
·rm1
 <= 0) {

638 
´
->
u
.
p
.
·rm1
 = 
KMP_DEFAULT_CHUNK
;

640 
KD_TRACE
(100, ("__kmp_dispatch_init_algorithm: T#%d "

642 
gtid
));

644 
	gkmp_sch_Œ­ezoid®
: {

647 
T
 
·rm1
, 
	g·rm2
, 
	g·rm3
, 
	g·rm4
;

648 
KD_TRACE
(100,

650 
gtid
));

652 
	g·rm1
 = 
chunk
;

655 
	g·rm2
 = (
tc
 / (2 * 
Åroc
));

657 ià(
	g·rm2
 < 1) {

658 
	g·rm2
 = 1;

663 ià(
	g·rm1
 < 1) {

664 
	g·rm1
 = 1;

665 } ià(
	g·rm1
 > 
	g·rm2
) {

666 
	g·rm1
 = 
·rm2
;

670 
	g·rm3
 = (
·rm2
 + 
·rm1
);

671 
	g·rm3
 = (2 * 
tc
 + 
·rm3
 - 1) /…arm3;

673 ià(
	g·rm3
 < 2) {

674 
	g·rm3
 = 2;

678 
	g·rm4
 = (
·rm3
 - 1);

679 
	g·rm4
 = (
·rm2
 - 
·rm1
è/ 
·rm4
;

686 
	g´
->
	gu
.
	gp
.
	g·rm1
 = 
·rm1
;

687 
	g´
->
	gu
.
	gp
.
	g·rm2
 = 
·rm2
;

688 
	g´
->
	gu
.
	gp
.
	g·rm3
 = 
·rm3
;

689 
	g´
->
	gu
.
	gp
.
	g·rm4
 = 
·rm4
;

694 
__kmp_çl
(
KMP_MSG
(
UnknownSchedTy³D‘eùed
),

695 
KMP_HNT
(
G‘New”Lib¿ry
),

696 
__kmp_msg_nuÎ


700 
	g´
->
	gscheduË
 = 
scheduË
;

703 #ià
KMP_USE_HIER_SCHED


704 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

705 
šlše
 
__kmp_di¥©ch_š™_h›r_ruÁime
(
id’t_t
 *
loc
, 
T
 
lb
, T 
ub
,

706 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
¡
);

707 
	g‹m¶©e
 <>

708 
šlše
 

709 
	g__kmp_di¥©ch_š™_h›r_ruÁime
<
	gkmp_št32
>(
id’t_t
 *
	gloc
, 
kmp_št32
 
	glb
,

710 
kmp_št32
 
	gub
, kmp_št32 
	g¡
) {

711 
	g__kmp_di¥©ch_š™_h›¿rchy
<
	gkmp_št32
>(

712 
	gloc
, 
	g__kmp_h›r_scheds
.
	gsize
, __kmp_h›r_scheds.
	gÏy”s
,

713 
	g__kmp_h›r_scheds
.
	gscheds
, __kmp_h›r_scheds.
	gsm®l_chunks
, 
	glb
, 
	gub
, 
	g¡
);

715 
	g‹m¶©e
 <>

716 
šlše
 

717 
	g__kmp_di¥©ch_š™_h›r_ruÁime
<
	gkmp_ušt32
>(
id’t_t
 *
	gloc
, 
kmp_ušt32
 
	glb
,

718 
kmp_ušt32
 
	gub
, 
kmp_št32
 
	g¡
) {

719 
	g__kmp_di¥©ch_š™_h›¿rchy
<
	gkmp_ušt32
>(

720 
	gloc
, 
	g__kmp_h›r_scheds
.
	gsize
, __kmp_h›r_scheds.
	gÏy”s
,

721 
	g__kmp_h›r_scheds
.
	gscheds
, __kmp_h›r_scheds.
	gsm®l_chunks
, 
	glb
, 
	gub
, 
	g¡
);

723 
	g‹m¶©e
 <>

724 
šlše
 

725 
	g__kmp_di¥©ch_š™_h›r_ruÁime
<
	gkmp_št64
>(
id’t_t
 *
	gloc
, 
kmp_št64
 
	glb
,

726 
kmp_št64
 
	gub
, kmp_št64 
	g¡
) {

727 
	g__kmp_di¥©ch_š™_h›¿rchy
<
	gkmp_št64
>(

728 
	gloc
, 
	g__kmp_h›r_scheds
.
	gsize
, __kmp_h›r_scheds.
	gÏy”s
,

729 
	g__kmp_h›r_scheds
.
	gscheds
, __kmp_h›r_scheds.
	gÏrge_chunks
, 
	glb
, 
	gub
, 
	g¡
);

731 
	g‹m¶©e
 <>

732 
šlše
 

733 
	g__kmp_di¥©ch_š™_h›r_ruÁime
<
	gkmp_ušt64
>(
id’t_t
 *
	gloc
, 
kmp_ušt64
 
	glb
,

734 
kmp_ušt64
 
	gub
, 
kmp_št64
 
	g¡
) {

735 
	g__kmp_di¥©ch_š™_h›¿rchy
<
	gkmp_ušt64
>(

736 
	gloc
, 
	g__kmp_h›r_scheds
.
	gsize
, __kmp_h›r_scheds.
	gÏy”s
,

737 
	g__kmp_h›r_scheds
.
	gscheds
, __kmp_h›r_scheds.
	gÏrge_chunks
, 
	glb
, 
	gub
, 
	g¡
);

741 
	$__kmp_di¥©ch_ä“_h›¿rch›s
(
kmp_‹am_t
 *
‹am
) {

742 
num_di¥_buff
 = 
‹am
->
t
.
t_max_Åroc
 > 1 ? 
__kmp_di¥©ch_num_bufãrs
 : 2;

743 
i
 = 0; i < 
num_di¥_buff
; ++i) {

745 autØ
sh
 =

746 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
kmp_št32
> volatile *>(

747 &
‹am
->
t
.
t_di¥_bufãr
[
i
]);

748 ià(
sh
->
h›r
) {

749 
sh
->
h›r
->
	`d—Îoÿ‹
();

750 
	`__kmp_ä“
(
sh
->
h›r
);

753 
	}
}

758 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

760 
__kmp_di¥©ch_š™
(
id’t_t
 *
loc
, 
gtid
, 
sched_ty³
 
scheduË
, 
T
 
lb
,

761 
T
 
ub
, 
ty³Çme
 
Œa™s_t
<T>::
sigÃd_t
 
¡
,

762 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk
, 
push_ws
) {

763 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

765 
	gaùive
;

766 
kmp_šfo_t
 *
	gth
;

767 
kmp_‹am_t
 *
	g‹am
;

768 
kmp_ušt32
 
	gmy_bufãr_šdex
;

769 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
<
	gT
> *
	g´
;

770 
	gdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	gT
> vŞ©*
	gsh
;

772 
KMP_BUILD_ASSERT
((
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
>) ==

773 (
di¥©ch_´iv©e_šfo
));

774 
KMP_BUILD_ASSERT
((
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
>) ==

775 (
di¥©ch_sh¬ed_šfo
));

777 ià(!
TCR_4
(
__kmp_š™_·¿Î–
))

778 
__kmp_·¿Î–_š™Ÿlize
();

780 
__kmp_»sume_if_soá_·u£d
();

782 #ià
INCLUDE_SSC_MARKS


783 
SSC_MARK_DISPATCH_INIT
();

785 #ifdeà
KMP_DEBUG


786 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

788 *
	gbuff
;

790 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_dispatch_init: T#%%d called: schedule:%%d "

792 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec,

793 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<
ST
>::spec);

794 
KD_TRACE
(10, (
buff
, 
gtid
, 
scheduË
, 
chunk
, 
lb
, 
ub
, 
¡
));

795 
__kmp_¡r_ä“
(&
buff
);

799 
	gth
 = 
__kmp_th»ads
[
gtid
];

800 
	g‹am
 = 
th
->th.
th_‹am
;

801 
	gaùive
 = !
‹am
->
t
.
t_£rŸlized
;

802 
	gth
->th.
	gth_id’t
 = 
loc
;

807 ià(
	gscheduË
 =ğ
__kmp_¡©ic
) {

808 
KMP_COUNT_BLOCK
(
OMP_LOOP_STATIC
);

810 
KMP_COUNT_BLOCK
(
OMP_LOOP_DYNAMIC
);

813 #ià
KMP_USE_HIER_SCHED


817 
boŞ
 
	gÜd”ed
;

818 
sched_ty³
 
	gmy_sched
 = 
scheduË
;

819 
	gmy_bufãr_šdex
 = 
th
->th.
th_di¥©ch
->
th_di¥_šdex
;

820 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

821 &
th
->th.
th_di¥©ch


822 ->
th_di¥_bufãr
[
my_bufãr_šdex
 % 
__kmp_di¥©ch_num_bufãrs
]);

823 
	gmy_sched
 = 
SCHEDULE_WITHOUT_MODIFIERS
(
my_sched
);

824 ià((
	gmy_sched
 >ğ
kmp_nm_low”
è&& (
my_sched
 < 
kmp_nm_uµ”
))

825 
my_sched
 =

826 (
sched_ty³
)((()
my_sched
è- (
kmp_nm_low”
 - 
kmp_sch_low”
));

827 
	gÜd”ed
 = (
kmp_Üd_low”
 & 
my_sched
);

828 ià(
	g´
->
	gæags
.
	gu£_h›r
) {

829 ià(
	gÜd”ed
) {

830 
KD_TRACE
(100, ("__kmp_dispatch_init: T#%d ordered†oop detected. "

832 
gtid
));

833 
	g´
->
	gæags
.
	gu£_h›r
 = 
FALSE
;

836 ià(
	gscheduË
 =ğ
kmp_sch_ruÁime
 && 
__kmp_h›r_scheds
.
size
 > 0) {

839 ià(!
Üd”ed
 && !
´
->
æags
.
u£_h›r
)

840 
__kmp_di¥©ch_š™_h›r_ruÁime
<
T
>(
loc
, 
lb
, 
ub
, 
¡
);

844 #ià
USE_ITT_BUILD


845 
kmp_ušt64
 
	gcur_chunk
 = 
chunk
;

846 
	g™t_Ãed_m‘ad©a_»pÜtšg
 =

847 
__™t_m‘ad©a_add_±r
 && 
__kmp_fÜkjoš_äames_mode
 == 3 &&

848 
KMP_MASTER_GTID
(
gtid
è&& 
th
->th.
th_‹ams_miüÙask
 =ğ
NULL
 &&

849 
‹am
->
t
.
t_aùive_Ëv–
 == 1;

851 ià(!
	gaùive
) {

852 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

853 
th
->th.
th_di¥©ch
->
th_di¥_bufãr
);

855 
KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

856 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

858 
	gmy_bufãr_šdex
 = 
th
->th.
th_di¥©ch
->
th_di¥_šdex
++;

861 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

862 &
th
->th.
th_di¥©ch


863 ->
th_di¥_bufãr
[
my_bufãr_šdex
 % 
__kmp_di¥©ch_num_bufãrs
]);

864 
	gsh
 = 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> volatile *>(

865 &
‹am
->
t
.
t_di¥_bufãr
[
my_bufãr_šdex
 % 
__kmp_di¥©ch_num_bufãrs
]);

866 
KD_TRACE
(10, ("__kmp_di¥©ch_š™: T#%d my_bufãr_šdex:%d\n", 
gtid
,

867 
my_bufãr_šdex
));

870 
__kmp_di¥©ch_š™_®gÜ™hm
(
loc
, 
gtid
, 
´
, 
scheduË
, 
lb
, 
ub
, 
¡
,

871 #ià
USE_ITT_BUILD


872 &
cur_chunk
,

874 
chunk
, (
T
)
th
->th.
th_‹am_Åroc
,

875 (
T
)
th
->th.
th_šfo
.
ds
.
ds_tid
);

876 ià(
	gaùive
) {

877 ià(
	g´
->
	gæags
.
	gÜd”ed
 == 0) {

878 
th
->th.
th_di¥©ch
->
th_deo_fú
 = 
__kmp_di¥©ch_deo_”rÜ
;

879 
	gth
->th.
	gth_di¥©ch
->
	gth_dxo_fú
 = 
__kmp_di¥©ch_dxo_”rÜ
;

881 
	gth
->th.
	gth_di¥©ch
->
	gth_deo_fú
 = 
__kmp_di¥©ch_deo
<
UT
>;

882 
	gth
->th.
	gth_di¥©ch
->
	gth_dxo_fú
 = 
__kmp_di¥©ch_dxo
<
UT
>;

886 ià(
	gaùive
) {

890 
KD_TRACE
(100, ("__kmp_dispatch_init: T#%d before wait: my_buffer_index:%d "

892 
gtid
, 
my_bufãr_šdex
, 
sh
->
bufãr_šdex
));

893 
	g__kmp_wa™
<
	gkmp_ušt32
>(&
	gsh
->
	gbufãr_šdex
, 
	gmy_bufãr_šdex
,

894 
	g__kmp_eq
<
	gkmp_ušt32
> 
USE_ITT_BUILD_ARG
(
NULL
));

897 
KMP_MB
();

898 
KD_TRACE
(100, ("__kmp_dispatch_init: T#%d‡fter wait: my_buffer_index:%d "

900 
gtid
, 
my_bufãr_šdex
, 
sh
->
bufãr_šdex
));

902 
	gth
->th.
	gth_di¥©ch
->
	gth_di¥©ch_´_cu¼’t
 = (
di¥©ch_´iv©e_šfo_t
 *)
´
;

903 
	gth
->th.
	gth_di¥©ch
->
	gth_di¥©ch_sh_cu¼’t
 =

904 
CCAST
(
di¥©ch_sh¬ed_šfo_t
 *, (vŞ©di¥©ch_sh¬ed_šfo_ˆ*)
sh
);

905 #ià
USE_ITT_BUILD


906 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

907 
__kmp_™t_Üd”ed_š™
(
gtid
);

910 ià(
	g™t_Ãed_m‘ad©a_»pÜtšg
) {

912 
kmp_ušt64
 
	gschedty³
 = 0;

913 
	gscheduË
) {

914 
	gkmp_sch_¡©ic_chunked
:

915 
kmp_sch_¡©ic_b®ªûd
:

917 
	gkmp_sch_¡©ic_g»edy
:

918 
cur_chunk
 = 
´
->
u
.
p
.
·rm1
;

920 
	gkmp_sch_dyÇmic_chunked
:

921 
schedty³
 = 1;

923 
	gkmp_sch_guided_™”©ive_chunked
:

924 
kmp_sch_guided_ª®ytiÿl_chunked
:

925 
kmp_sch_guided_simd
:

926 
schedty³
 = 2;

931 
schedty³
 = 3;

934 
__kmp_™t_m‘ad©a_loİ
(
loc
, 
schedty³
, 
´
->
u
.
p
.
tc
, 
cur_chunk
);

936 #ià
KMP_USE_HIER_SCHED


937 ià(
	g´
->
	gæags
.
	gu£_h›r
) {

938 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 0;

939 
	g´
->
	gu
.
	gp
.
	gub
 = 
´
->
u
.
p
.
lb
 =…r->u.p.
¡
 =…r->u.p.
tc
 = 0;

945 #ifdeà
KMP_DEBUG


947 *
	gbuff
;

949 
	gbuff
 = 
__kmp_¡r_fÜm©
(

954 
Œa™s_t
<
UT
>::
¥ec
,¿™s_t<
T
>::spec,raits_t<T>::spec,

955 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
UT
>::spec,raits_t<UT>::spec,

956 
Œa™s_t
<
UT
>::
¥ec
,¿™s_t<UT>::¥ec,¿™s_t<
T
>::spec,

957 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,raits_t<T>::spec);

958 
KD_TRACE
(10, (
buff
, 
gtid
, 
´
->
scheduË
,…r->
æags
.
Üd”ed
,…r->
u
.
p
.
lb
,

959 
´
->
u
.
p
.
ub
,…r->u.p.
¡
,…r->u.p.
tc
,…r->u.p.
couÁ
,

960 
´
->
u
.
p
.
Üd”ed_low”
,…r->u.p.
Üd”ed_uµ”
,…r->u.p.
·rm1
,

961 
´
->
u
.
p
.
·rm2
,…r->u.p.
·rm3
,…r->u.p.
·rm4
));

962 
__kmp_¡r_ä“
(&
buff
);

965 #ià(
KMP_STATIC_STEAL_ENABLED
)

971 ià(
	gscheduË
 =ğ
kmp_sch_¡©ic_¡—l
) {

975 vŞ©
T
 *
p
 = &
´
->
u
.p.
¡©ic_¡—l_couÁ”
;

976 *
	gp
 = *
p
 + 1;

980 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


981 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

982 
om±_‹am_šfo_t
 *
	g‹am_šfo
 = 
__om±_g‘_‹amšfo
(0, 
NULL
);

983 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

984 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

985 
	gom±_wÜk_loİ
, 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

986 &(
	gsk_šfo
->
	gsk_d©a
), 
	g´
->
	gu
.
	gp
.
	gtc
, 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

989 
KMP_PUSH_PARTITIONED_TIMER
(
OMP_loİ_dyÇmic
);

997 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

998 
	$__kmp_di¥©ch_fšish
(
gtid
, 
id’t_t
 *
loc
) {

999 
ty³Çme
 
	tŒa™s_t
<
	tUT
>::
	tsigÃd_t
 
	tST
;

1000 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

1002 
	`KD_TRACE
(100, ("__kmp_di¥©ch_fšish: T#%d c®Ëd\n", 
gtid
));

1003 ià(!
th
->th.
th_‹am
->
t
.
t_£rŸlized
) {

1005 
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *
´
 =

1006 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

1007 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1008 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> vŞ©*
sh
 =

1009 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> volatile *>(

1010 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

1011 
	`KMP_DEBUG_ASSERT
(
´
);

1012 
	`KMP_DEBUG_ASSERT
(
sh
);

1013 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

1014 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

1016 ià(
´
->
Üd”ed_bum³d
) {

1017 
	`KD_TRACE
(

1020 
gtid
));

1021 
´
->
Üd”ed_bum³d
 = 0;

1023 
UT
 
low”
 = 
´
->
u
.
p
.
Üd”ed_low”
;

1025 #ifdeà
KMP_DEBUG


1027 *
buff
;

1029 
buff
 = 
	`__kmp_¡r_fÜm©
("__kmp_dispatch_finish: T#%%d before wait: "

1031 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

1032 
	`KD_TRACE
(1000, (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
));

1033 
	`__kmp_¡r_ä“
(&
buff
);

1037 
__kmp_wa™
<
UT
>(&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
,

1038 
__kmp_ge
<
UT
> 
	`USE_ITT_BUILD_ARG
(
NULL
));

1039 
	`KMP_MB
();

1040 #ifdeà
KMP_DEBUG


1042 *
buff
;

1044 
buff
 = 
	`__kmp_¡r_fÜm©
("__kmp_dispatch_finish: T#%%d‡fter wait: "

1046 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

1047 
	`KD_TRACE
(1000, (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
));

1048 
	`__kmp_¡r_ä“
(&
buff
);

1052 
‹¡_th’_šc
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
);

1055 
	`KD_TRACE
(100, ("__kmp_di¥©ch_fšish: T#%d„‘uºed\n", 
gtid
));

1056 
	}
}

1058 #ifdeà
KMP_GOMP_COMPAT


1060 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

1061 
	$__kmp_di¥©ch_fšish_chunk
(
gtid
, 
id’t_t
 *
loc
) {

1062 
ty³Çme
 
	tŒa™s_t
<
	tUT
>::
	tsigÃd_t
 
	tST
;

1063 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

1065 
	`KD_TRACE
(100, ("__kmp_di¥©ch_fšish_chunk: T#%d c®Ëd\n", 
gtid
));

1066 ià(!
th
->th.
th_‹am
->
t
.
t_£rŸlized
) {

1068 
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *
´
 =

1069 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

1070 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1071 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> vŞ©*
sh
 =

1072 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> volatile *>(

1073 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

1074 
	`KMP_DEBUG_ASSERT
(
´
);

1075 
	`KMP_DEBUG_ASSERT
(
sh
);

1076 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

1077 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

1080 
UT
 
low”
 = 
´
->
u
.
p
.
Üd”ed_low”
;

1081 
UT
 
uµ”
 = 
´
->
u
.
p
.
Üd”ed_uµ”
;

1082 
UT
 
šc
 = 
uµ”
 - 
low”
 + 1;

1084 ià(
´
->
Üd”ed_bum³d
 =ğ
šc
) {

1085 
	`KD_TRACE
(

1088 
gtid
));

1089 
´
->
Üd”ed_bum³d
 = 0;

1091 
šc
 -ğ
´
->
Üd”ed_bum³d
;

1093 #ifdeà
KMP_DEBUG


1095 *
buff
;

1097 
buff
 = 
	`__kmp_¡r_fÜm©
(

1100 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec,raits_t<UT>::spec);

1101 
	`KD_TRACE
(1000, (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
, 
uµ”
));

1102 
	`__kmp_¡r_ä“
(&
buff
);

1106 
__kmp_wa™
<
UT
>(&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
,

1107 
__kmp_ge
<
UT
> 
	`USE_ITT_BUILD_ARG
(
NULL
));

1109 
	`KMP_MB
();

1110 
	`KD_TRACE
(1000, ("__kmp_dispatch_finish_chunk: T#%d„esetting "

1112 
gtid
));

1113 
´
->
Üd”ed_bum³d
 = 0;

1115 #ifdeà
KMP_DEBUG


1117 *
buff
;

1119 
buff
 = 
	`__kmp_¡r_fÜm©
(

1122 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec,raits_t<UT>::spec,

1123 
Œa™s_t
<
UT
>::
¥ec
);

1124 
	`KD_TRACE
(1000,

1125 (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
šc
, 
low”
, 
uµ”
));

1126 
	`__kmp_¡r_ä“
(&
buff
);

1130 
‹¡_th’_add
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
šc
);

1134 
	`KD_TRACE
(100, ("__kmp_di¥©ch_fšish_chunk: T#%d„‘uºed\n", 
gtid
));

1135 
	}
}

1139 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1140 
__kmp_di¥©ch_Ãxt_®gÜ™hm
(
gtid
,

1141 
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *
´
,

1142 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> vŞ©*
sh
,

1143 
kmp_št32
 *
p_Ï¡
, 
T
 *
p_lb
, T *
p_ub
,

1144 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
p_¡
, T 
Åroc
,

1145 
T
 
tid
) {

1146 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

1147 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

1148 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tæßtšg_t
 
	tDBL
;

1149 
	g¡©us
 = 0;

1150 
kmp_št32
 
	gÏ¡
 = 0;

1151 
T
 
	g¡¬t
;

1152 
ST
 
	gšü
;

1153 
UT
 
	glim™
, 
	gŒ
, 
	gš™
;

1154 
kmp_šfo_t
 *
	gth
 = 
__kmp_th»ads
[
gtid
];

1155 
kmp_‹am_t
 *
	g‹am
 = 
th
->th.
th_‹am
;

1157 
KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

1158 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

1159 
KMP_DEBUG_ASSERT
(
´
);

1160 
KMP_DEBUG_ASSERT
(
sh
);

1161 
KMP_DEBUG_ASSERT
(
tid
 >ğ0 &&id < 
Åroc
);

1162 #ifdeà
KMP_DEBUG


1164 *
	gbuff
;

1166 
	gbuff
 =

1167 
__kmp_¡r_fÜm©
("__kmp_dispatch_next_algorithm: T#%%d called…r:%%p "

1169 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec);

1170 
KD_TRACE
(10, (
buff
, 
gtid
, 
´
, 
sh
, 
Åroc
, 
tid
));

1171 
__kmp_¡r_ä“
(&
buff
);

1176 ià(
	g´
->
	gu
.
	gp
.
	gtc
 == 0) {

1177 
KD_TRACE
(10,

1180 
gtid
, 
¡©us
));

1184 
	g´
->
	gscheduË
) {

1185 #ià(
KMP_STATIC_STEAL_ENABLED
)

1186 
	gkmp_sch_¡©ic_¡—l
: {

1187 
T
 
chunk
 = 
´
->
u
.
p
.
·rm1
;

1189 
KD_TRACE
(100,

1191 
gtid
));

1193 
	gŒ
 = 
´
->
u
.
p
.
tc
 - 1;

1195 ià(
	gŒa™s_t
<
	gT
>::
ty³_size
 > 4) {

1198 
kmp_lock_t
 *
lck
 = 
th
->th.
th_di¥©ch
->
th_¡—l_lock
;

1199 
KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

1200 ià(
	g´
->
	gu
.
	gp
.
	gcouÁ
 < (
	gUT
ír->u.p.
	gub
) {

1201 
__kmp_acquœe_lock
(
lck
, 
gtid
);

1203 
	gš™
 = (
´
->
u
.
p
.
couÁ
)++;

1204 
	g¡©us
 = (
š™
 < (
UT
)
´
->
u
.
p
.
ub
);

1205 
__kmp_»Ëa£_lock
(
lck
, 
gtid
);

1207 
	g¡©us
 = 0;

1209 ià(!
	g¡©us
) {

1210 
kmp_šfo_t
 **
	gÙh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

1211 
	gwhe_lim™
 = 
´
->
u
.
p
.
·rm3
;

1212 
	gwhe_šdex
 = 0;

1215 (!
	g¡©us
è&& (
	gwhe_lim™
 !ğ++
whe_šdex
)) {

1216 
T
 
»maššg
;

1217 
T
 
	gviùimIdx
 = 
´
->
u
.
p
.
·rm4
;

1218 
T
 
	gŞdViùimIdx
 = 
viùimIdx
 ? viùimIdx - 1 : 
Åroc
 - 1;

1219 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
<
	gT
> *
	gviùim
 =

1220 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

1221 
Ùh”_th»ads
[
viùimIdx
]

1222 ->
th
.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1223 (
	gviùim
 =ğ
NULL
 || 
viùim
 =ğ
´
 ||

1224 (*(vŞ©
T
 *)&
viùim
->
u
.
p
.
¡©ic_¡—l_couÁ”
 !=

1225 *(vŞ©
T
 *)&
´
->
u
.
p
.
¡©ic_¡—l_couÁ”
)) &&

1226 
ŞdViùimIdx
 !ğ
viùimIdx
) {

1227 
viùimIdx
 = (viùimIdx + 1è% 
Åroc
;

1228 
	gviùim
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

1229 
Ùh”_th»ads
[
viùimIdx
]

1230 ->
th
.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1232 ià(!
	gviùim
 || (*(vŞ©
	gT
 *)&viùim->
	gu
.
	gp
.
	g¡©ic_¡—l_couÁ”
 !=

1233 *(vŞ©
T
 *)&
´
->
u
.
p
.
¡©ic_¡—l_couÁ”
)) {

1238 ià(
	gviùim
->
	gu
.
	gp
.
	gcouÁ
 + 2 > (
	gUT
)viùim->u.p.
	gub
) {

1239 
	g´
->
	gu
.
	gp
.
	g·rm4
 = (
viùimIdx
 + 1è% 
Åroc
;

1243 
	glck
 = 
Ùh”_th»ads
[
viùimIdx
]->
th
.
th_di¥©ch
->
th_¡—l_lock
;

1244 
KMP_ASSERT
(
lck
 !ğ
NULL
);

1245 
__kmp_acquœe_lock
(
lck
, 
gtid
);

1246 
	glim™
 = 
viùim
->
u
.
p
.
ub
;

1247 ià(
	gviùim
->
	gu
.
	gp
.
	gcouÁ
 >ğ
lim™
 ||

1248 (
»maššg
 = 
lim™
 - 
viùim
->
u
.
p
.
couÁ
) < 2) {

1249 
__kmp_»Ëa£_lock
(
lck
, 
gtid
);

1250 
	g´
->
	gu
.
	gp
.
	g·rm4
 = (
viùimIdx
 + 1è% 
Åroc
;

1255 ià(
	g»maššg
 > 3) {

1257 
KMP_COUNT_DEVELOPER_VALUE
(
FOR_¡©ic_¡—l_¡Ş’
, 
»maššg
 >> 2);

1258 
	gš™
 = (
viùim
->
u
.
p
.
ub
 -ğ(
»maššg
 >> 2));

1261 
KMP_COUNT_DEVELOPER_VALUE
(
FOR_¡©ic_¡—l_¡Ş’
, 1);

1262 
	gš™
 = (
viùim
->
u
.
p
.
ub
 -= 1);

1264 
__kmp_»Ëa£_lock
(
lck
, 
gtid
);

1266 
KMP_DEBUG_ASSERT
(
š™
 + 1 <ğ
lim™
);

1267 
	g´
->
	gu
.
	gp
.
	g·rm4
 = 
viùimIdx
;

1268 
	g¡©us
 = 1;

1269 
	gwhe_šdex
 = 0;

1271 
__kmp_acquœe_lock
(
th
->th.
th_di¥©ch
->
th_¡—l_lock
, 
gtid
);

1272 
	g´
->
	gu
.
	gp
.
	gcouÁ
 = 
š™
 + 1;

1273 
	g´
->
	gu
.
	gp
.
	gub
 = 
lim™
;

1274 
__kmp_»Ëa£_lock
(
th
->th.
th_di¥©ch
->
th_¡—l_lock
, 
gtid
);

1281 
UT
 
	gcouÁ
;

1282 
T
 
	gub
;

1283 } 
	gp
;

1284 
kmp_št64
 
	gb
;

1285 } 
	tuniÚ_i4
;

1289 
uniÚ_i4
 
	gvŞd
, 
	gvÃw
;

1290 
	gvŞd
.
	gb
 = *(vŞ©
kmp_št64
 *)(&
´
->
u
.
p
.
couÁ
);

1291 
	gvÃw
 = 
vŞd
;

1292 
	gvÃw
.
	gp
.
	gcouÁ
++;

1293 !
KMP_COMPARE_AND_STORE_ACQ64
(

1294 (vŞ©
kmp_št64
 *)&
´
->
u
.
p
.
couÁ
,

1295 *
VOLATILE_CAST
(
kmp_št64
 *è& 
vŞd
.
b
,

1296 *
VOLATILE_CAST
(
kmp_št64
 *è& 
vÃw
.
b
)) {

1297 
KMP_CPU_PAUSE
();

1298 
	gvŞd
.
	gb
 = *(vŞ©
kmp_št64
 *)(&
´
->
u
.
p
.
couÁ
);

1299 
	gvÃw
 = 
vŞd
;

1300 
	gvÃw
.
	gp
.
	gcouÁ
++;

1302 
	gvÃw
 = 
vŞd
;

1303 
	gš™
 = 
vÃw
.
p
.
couÁ
;

1304 
	g¡©us
 = (
š™
 < (
UT
)
vÃw
.
p
.
ub
);

1307 ià(!
	g¡©us
) {

1308 
kmp_šfo_t
 **
	gÙh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

1309 
	gwhe_lim™
 = 
´
->
u
.
p
.
·rm3
;

1310 
	gwhe_šdex
 = 0;

1314 (!
	g¡©us
è&& (
	gwhe_lim™
 !ğ++
whe_šdex
)) {

1315 
uniÚ_i4
 
vŞd
, 
vÃw
;

1316 
kmp_št32
 
	g»maššg
;

1317 
T
 
	gviùimIdx
 = 
´
->
u
.
p
.
·rm4
;

1318 
T
 
	gŞdViùimIdx
 = 
viùimIdx
 ? viùimIdx - 1 : 
Åroc
 - 1;

1319 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
<
	gT
> *
	gviùim
 =

1320 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

1321 
Ùh”_th»ads
[
viùimIdx
]

1322 ->
th
.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1323 (
	gviùim
 =ğ
NULL
 || 
viùim
 =ğ
´
 ||

1324 (*(vŞ©
T
 *)&
viùim
->
u
.
p
.
¡©ic_¡—l_couÁ”
 !=

1325 *(vŞ©
T
 *)&
´
->
u
.
p
.
¡©ic_¡—l_couÁ”
)) &&

1326 
ŞdViùimIdx
 !ğ
viùimIdx
) {

1327 
viùimIdx
 = (viùimIdx + 1è% 
Åroc
;

1328 
	gviùim
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

1329 
Ùh”_th»ads
[
viùimIdx
]

1330 ->
th
.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

1332 ià(!
	gviùim
 || (*(vŞ©
	gT
 *)&viùim->
	gu
.
	gp
.
	g¡©ic_¡—l_couÁ”
 !=

1333 *(vŞ©
T
 *)&
´
->
u
.
p
.
¡©ic_¡—l_couÁ”
)) {

1338 
	g´
->
	gu
.
	gp
.
	g·rm4
 = 
viùimIdx
;

1340 
	gvŞd
.
	gb
 = *(vŞ©
kmp_št64
 *)(&
viùim
->
u
.
p
.
couÁ
);

1341 
	gvÃw
 = 
vŞd
;

1343 
KMP_DEBUG_ASSERT
((
vÃw
.
p
.
ub
 - 1è* (
UT
)
chunk
 <ğ
Œ
);

1344 ià(
	gvÃw
.
	gp
.
	gcouÁ
 >ğ(
UT
)
vÃw
.
p
.
ub
 ||

1345 (
»maššg
 = 
vÃw
.
p
.
ub
 - vÃw.p.
couÁ
) < 2) {

1346 
´
->
u
.
p
.
·rm4
 = (
viùimIdx
 + 1è% 
Åroc
;

1349 ià(
	g»maššg
 > 3) {

1350 
	gvÃw
.
	gp
.
	gub
 -ğ(
»maššg
 >> 2);

1352 
	gvÃw
.
	gp
.
	gub
 -= 1;

1354 
KMP_DEBUG_ASSERT
((
vÃw
.
p
.
ub
 - 1è* (
UT
)
chunk
 <ğ
Œ
);

1356 ià(
KMP_COMPARE_AND_STORE_ACQ64
(

1357 (vŞ©
kmp_št64
 *)&
viùim
->
u
.
p
.
couÁ
,

1358 *
VOLATILE_CAST
(
kmp_št64
 *è& 
vŞd
.
b
,

1359 *
VOLATILE_CAST
(
kmp_št64
 *è& 
vÃw
.
b
)) {

1361 
KMP_COUNT_DEVELOPER_VALUE
(
FOR_¡©ic_¡—l_¡Ş’
,

1362 
vŞd
.
p
.
ub
 - 
vÃw
.p.ub);

1363 
	g¡©us
 = 1;

1364 
	gwhe_šdex
 = 0;

1366 
	gš™
 = 
vÃw
.
p
.
ub
;

1367 
	gvŞd
.
	gp
.
	gcouÁ
 = 
š™
 + 1;

1368 #ià
KMP_ARCH_X86


1369 
KMP_XCHG_FIXED64
((vŞ©
kmp_št64
 *)(&
´
->
u
.
p
.
couÁ
), 
vŞd
.
b
);

1371 *(vŞ©
	gkmp_št64
 *)(&
	g´
->
	gu
.
	gp
.
	gcouÁ
èğ
vŞd
.
b
;

1375 
KMP_CPU_PAUSE
();

1380 ià(!
	g¡©us
) {

1381 *
	gp_lb
 = 0;

1382 *
	gp_ub
 = 0;

1383 ià(
	gp_¡
 !ğ
NULL
)

1384 *
p_¡
 = 0;

1386 
	g¡¬t
 = 
´
->
u
.
p
.
·rm2
;

1387 
	gš™
 *ğ
chunk
;

1388 
	glim™
 = 
chunk
 + 
š™
 - 1;

1389 
	gšü
 = 
´
->
u
.
p
.
¡
;

1390 
KMP_COUNT_DEVELOPER_VALUE
(
FOR_¡©ic_¡—l_chunks
, 1);

1392 
KMP_DEBUG_ASSERT
(
š™
 <ğ
Œ
);

1393 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0)

1394 
lim™
 = 
Œ
;

1395 ià(
	gp_¡
 !ğ
NULL
)

1396 *
p_¡
 = 
šü
;

1398 ià(
	gšü
 == 1) {

1399 *
p_lb
 = 
¡¬t
 + 
š™
;

1400 *
	gp_ub
 = 
¡¬t
 + 
lim™
;

1402 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1403 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1406 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1407 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1408 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1414 
	gkmp_sch_¡©ic_b®ªûd
: {

1415 
KD_TRACE
(

1418 
gtid
));

1420 ià((
	g¡©us
 = !
´
->
u
.
p
.
couÁ
) != 0) {

1421 
´
->
u
.
p
.
couÁ
 = 1;

1422 *
	gp_lb
 = 
´
->
u
.
p
.
lb
;

1423 *
	gp_ub
 = 
´
->
u
.
p
.
ub
;

1424 
	gÏ¡
 = 
´
->
u
.
p
.
·rm1
;

1425 ià(
	gp_¡
 !ğ
NULL
)

1426 *
p_¡
 = 
´
->
u
.
p
.
¡
;

1428 
	g´
->
	gu
.
	gp
.
	glb
 = 
´
->
u
.
p
.
ub
 +…r->u.p.
¡
;

1432 
	gkmp_sch_¡©ic_g»edy
:

1434 
kmp_sch_¡©ic_chunked
: {

1435 
T
 
·rm1
;

1437 
KD_TRACE
(100, ("__kmp_dispatch_next_algorithm: T#%d "

1439 
gtid
));

1440 
	g·rm1
 = 
´
->
u
.
p
.
·rm1
;

1442 
	gŒ
 = 
´
->
u
.
p
.
tc
 - 1;

1443 
	gš™
 = 
·rm1
 * (
´
->
u
.
p
.
couÁ
 + 
tid
);

1445 ià((
	g¡©us
 = (
š™
 <ğ
Œ
)) != 0) {

1446 
¡¬t
 = 
´
->
u
.
p
.
lb
;

1447 
	gšü
 = 
´
->
u
.
p
.
¡
;

1448 
	glim™
 = 
·rm1
 + 
š™
 - 1;

1450 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0)

1451 
lim™
 = 
Œ
;

1453 ià(
	gp_¡
 !ğ
NULL
)

1454 *
p_¡
 = 
šü
;

1456 
	g´
->
	gu
.
	gp
.
	gcouÁ
 +ğ
Åroc
;

1458 ià(
	gšü
 == 1) {

1459 *
p_lb
 = 
¡¬t
 + 
š™
;

1460 *
	gp_ub
 = 
¡¬t
 + 
lim™
;

1462 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1463 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1466 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1467 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1468 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1474 
	gkmp_sch_dyÇmic_chunked
: {

1475 
T
 
chunk
 = 
´
->
u
.
p
.
·rm1
;

1477 
KD_TRACE
(

1480 
gtid
));

1482 
	gš™
 = 
chunk
 * 
‹¡_th’_šc_acq
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
™”©iÚ
);

1483 
	gŒ
 = 
´
->
u
.
p
.
tc
 - 1;

1485 ià((
	g¡©us
 = (
š™
 <ğ
Œ
)) == 0) {

1486 *
p_lb
 = 0;

1487 *
	gp_ub
 = 0;

1488 ià(
	gp_¡
 !ğ
NULL
)

1489 *
p_¡
 = 0;

1491 
	g¡¬t
 = 
´
->
u
.
p
.
lb
;

1492 
	glim™
 = 
chunk
 + 
š™
 - 1;

1493 
	gšü
 = 
´
->
u
.
p
.
¡
;

1495 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0)

1496 
lim™
 = 
Œ
;

1498 ià(
	gp_¡
 !ğ
NULL
)

1499 *
p_¡
 = 
šü
;

1501 ià(
	gšü
 == 1) {

1502 *
p_lb
 = 
¡¬t
 + 
š™
;

1503 *
	gp_ub
 = 
¡¬t
 + 
lim™
;

1505 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1506 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1509 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1510 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1511 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1517 
	gkmp_sch_guided_™”©ive_chunked
: {

1518 
T
 
chunk¥ec
 = 
´
->
u
.
p
.
·rm1
;

1519 
KD_TRACE
(100, ("__kmp_dispatch_next_algorithm: T#%d kmp_sch_guided_chunked "

1521 
gtid
));

1522 
	gŒ
 = 
´
->
u
.
p
.
tc
;

1525 
ST
 
	g»maššg
;

1526 
	gš™
 = 
sh
->
u
.
s
.
™”©iÚ
;

1527 
	g»maššg
 = 
Œ
 - 
š™
;

1528 ià(
	g»maššg
 <= 0) {

1530 
¡©us
 = 0;

1533 ià((
	gT
)
	g»maššg
 <

1534 
	g´
->
	gu
.
	gp
.
	g·rm2
) {

1537 
	gš™
 = 
‹¡_th’_add
<
ST
>(
RCAST
(vŞ©ST *, &
sh
->
u
.
s
.
™”©iÚ
),

1538 (
	gST
)
	gchunk¥ec
);

1539 
	g»maššg
 = 
Œ
 - 
š™
;

1540 ià(
	g»maššg
 <= 0) {

1541 
¡©us
 = 0;

1544 
	g¡©us
 = 1;

1545 ià((
	gT
)
	g»maššg
 > 
	gchunk¥ec
) {

1546 
	glim™
 = 
š™
 + 
chunk¥ec
 - 1;

1548 
	gÏ¡
 = 1;

1549 
	glim™
 = 
š™
 + 
»maššg
 - 1;

1554 
	glim™
 = 
š™
 +

1555 (
UT
)(
»maššg
 * *(*)&
´
->
u
.
p
.
·rm3
);

1556 ià(
	gcom·»_ªd_sw­
<
	gST
>(
RCAST
(vŞ©
ST
 *, &
sh
->
u
.
s
.
™”©iÚ
),

1557 (
	gST
)
	gš™
, (ST)
	glim™
)) {

1559 
	g¡©us
 = 1;

1560 --
	glim™
;

1564 ià(
	g¡©us
 != 0) {

1565 
¡¬t
 = 
´
->
u
.
p
.
lb
;

1566 
	gšü
 = 
´
->
u
.
p
.
¡
;

1567 ià(
	gp_¡
 !ğ
NULL
)

1568 *
p_¡
 = 
šü
;

1569 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1570 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1571 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1572 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1573 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1576 *
	gp_lb
 = 0;

1577 *
	gp_ub
 = 0;

1578 ià(
	gp_¡
 !ğ
NULL
)

1579 *
p_¡
 = 0;

1584 
	gkmp_sch_guided_simd
: {

1587 
T
 
chunk
 = 
´
->
u
.
p
.
·rm1
;

1588 
KD_TRACE
(100,

1590 
gtid
));

1591 
	gŒ
 = 
´
->
u
.
p
.
tc
;

1594 
ST
 
	g»maššg
;

1595 
	gš™
 = 
sh
->
u
.
s
.
™”©iÚ
;

1596 
	g»maššg
 = 
Œ
 - 
š™
;

1597 ià(
	g»maššg
 <= 0) {

1598 
¡©us
 = 0;

1601 
KMP_DEBUG_ASSERT
(
š™
 % 
chunk
 == 0);

1603 ià((
	gT
)
	g»maššg
 < 
	g´
->
	gu
.
	gp
.
	g·rm2
) {

1606 
	gš™
 = 
‹¡_th’_add
<
ST
>(
RCAST
(vŞ©ST *, &
sh
->
u
.
s
.
™”©iÚ
),

1607 (
	gST
)
	gchunk
);

1608 
	g»maššg
 = 
Œ
 - 
š™
;

1609 ià(
	g»maššg
 <= 0) {

1610 
¡©us
 = 0;

1613 
	g¡©us
 = 1;

1614 ià((
	gT
)
	g»maššg
 > 
	gchunk
) {

1615 
	glim™
 = 
š™
 + 
chunk
 - 1;

1617 
	gÏ¡
 = 1;

1618 
	glim™
 = 
š™
 + 
»maššg
 - 1;

1624 
UT
 
	g¥ª
 = 
»maššg
 * (*(*)&
´
->
u
.
p
.
·rm3
);

1625 
UT
 
	g»m
 = 
¥ª
 % 
chunk
;

1626 ià(
	g»m
)

1627 
	g¥ª
 +ğ
chunk
 - 
»m
;

1628 
	glim™
 = 
š™
 + 
¥ª
;

1629 ià(
	gcom·»_ªd_sw­
<
	gST
>(
RCAST
(vŞ©
ST
 *, &
sh
->
u
.
s
.
™”©iÚ
),

1630 (
	gST
)
	gš™
, (ST)
	glim™
)) {

1632 
	g¡©us
 = 1;

1633 --
	glim™
;

1637 ià(
	g¡©us
 != 0) {

1638 
¡¬t
 = 
´
->
u
.
p
.
lb
;

1639 
	gšü
 = 
´
->
u
.
p
.
¡
;

1640 ià(
	gp_¡
 !ğ
NULL
)

1641 *
p_¡
 = 
šü
;

1642 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1643 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1644 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1645 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1646 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1649 *
	gp_lb
 = 0;

1650 *
	gp_ub
 = 0;

1651 ià(
	gp_¡
 !ğ
NULL
)

1652 *
p_¡
 = 0;

1657 
	gkmp_sch_guided_ª®ytiÿl_chunked
: {

1658 
T
 
chunk¥ec
 = 
´
->
u
.
p
.
·rm1
;

1659 
UT
 
	gchunkIdx
;

1660 #ià
KMP_USE_X87CONTROL


1663 
	gŞdFpcw
;

1664 
	gåcwS‘
 = 0;

1666 
KD_TRACE
(100, ("__kmp_dispatch_next_algorithm: T#%d "

1668 
gtid
));

1670 
	gŒ
 = 
´
->
u
.
p
.
tc
;

1672 
KMP_DEBUG_ASSERT
(
Åroc
 > 1);

1673 
KMP_DEBUG_ASSERT
((2UL * 
chunk¥ec
 + 1è* (
UT
)
Åroc
 < 
Œ
);

1677 
	gchunkIdx
 = 
‹¡_th’_šc_acq
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
™”©iÚ
);

1678 ià(
	gchunkIdx
 >ğ(
UT
)
´
->
u
.
p
.
·rm2
) {

1679 --
Œ
;

1681 
	gš™
 = 
chunkIdx
 * 
chunk¥ec
 + 
´
->
u
.
p
.
couÁ
;

1684 ià((
	g¡©us
 = (
š™
 > 0 && in™ <ğ
Œ
)) != 0) {

1685 
lim™
 = 
š™
 + 
chunk¥ec
 - 1;

1687 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0)

1688 
lim™
 = 
Œ
;

1697 #ià
KMP_USE_X87CONTROL


1701 ià(!
	gåcwS‘
) {

1702 
	gŞdFpcw
 = 
_cÚŒŞ87
(0, 0);

1703 
_cÚŒŞ87
(
_PC_64
, 
_MCW_PC
);

1704 
	gåcwS‘
 = 0x30000;

1707 ià(
	gchunkIdx
) {

1708 
	gš™
 = 
__kmp_di¥©ch_guided_»maššg
<
T
>(

1709 
Œ
, *(
	gDBL
 *)&
	g´
->
	gu
.
	gp
.
	g·rm3
, 
	gchunkIdx
);

1710 
KMP_DEBUG_ASSERT
(
š™
);

1711 
	gš™
 = 
Œ
 - 
š™
;

1713 
	gš™
 = 0;

1714 
	glim™
 = 
Œ
 - 
__kmp_di¥©ch_guided_»maššg
<
T
>(

1715 
Œ
, *(
	gDBL
 *)&
	g´
->
	gu
.
	gp
.
	g·rm3
, 
	gchunkIdx
 + 1);

1716 
KMP_ASSERT
(
š™
 <ğ
lim™
);

1717 ià(
	gš™
 < 
	glim™
) {

1718 
KMP_DEBUG_ASSERT
(
lim™
 <ğ
Œ
);

1719 --
	glim™
;

1720 
	g¡©us
 = 1;

1725 #ià
KMP_USE_X87CONTROL


1729 ià(
	gåcwS‘
 && (
	gŞdFpcw
 & fpcwSet))

1730 
_cÚŒŞ87
(
ŞdFpcw
, 
_MCW_PC
);

1732 ià(
	g¡©us
 != 0) {

1733 
¡¬t
 = 
´
->
u
.
p
.
lb
;

1734 
	gšü
 = 
´
->
u
.
p
.
¡
;

1735 ià(
	gp_¡
 !ğ
NULL
)

1736 *
p_¡
 = 
šü
;

1737 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1738 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1739 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1740 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1741 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1744 *
	gp_lb
 = 0;

1745 *
	gp_ub
 = 0;

1746 ià(
	gp_¡
 !ğ
NULL
)

1747 *
p_¡
 = 0;

1752 
	gkmp_sch_Œ­ezoid®
: {

1753 
UT
 
šdex
;

1754 
T
 
	g·rm2
 = 
´
->
u
.
p
.
·rm2
;

1755 
T
 
	g·rm3
 = 
´
->
u
.
p
.
·rm3
;

1756 
T
 
	g·rm4
 = 
´
->
u
.
p
.
·rm4
;

1757 
KD_TRACE
(100,

1759 
gtid
));

1761 
	gšdex
 = 
‹¡_th’_šc
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
™”©iÚ
);

1763 
	gš™
 = (
šdex
 * ((2 * 
·rm2
è- (šdex - 1è* 
·rm4
)) / 2;

1764 
	gŒ
 = 
´
->
u
.
p
.
tc
 - 1;

1766 ià((
	g¡©us
 = ((
T
)
šdex
 < 
·rm3
 && 
š™
 <ğ
Œ
)) == 0) {

1767 *
p_lb
 = 0;

1768 *
	gp_ub
 = 0;

1769 ià(
	gp_¡
 !ğ
NULL
)

1770 *
p_¡
 = 0;

1772 
	g¡¬t
 = 
´
->
u
.
p
.
lb
;

1773 
	glim™
 = ((
šdex
 + 1è* (2 * 
·rm2
 - index * 
·rm4
)) / 2 - 1;

1774 
	gšü
 = 
´
->
u
.
p
.
¡
;

1776 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0)

1777 
lim™
 = 
Œ
;

1779 ià(
	gp_¡
 !ğ
NULL
)

1780 *
p_¡
 = 
šü
;

1782 ià(
	gšü
 == 1) {

1783 *
p_lb
 = 
¡¬t
 + 
š™
;

1784 *
	gp_ub
 = 
¡¬t
 + 
lim™
;

1786 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1787 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1790 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1791 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1792 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1798 
¡©us
 = 0;

1799 
__kmp_çl
(
KMP_MSG
(
UnknownSchedTy³D‘eùed
),

1800 
KMP_HNT
(
G‘New”Lib¿ry
),

1801 
__kmp_msg_nuÎ


1805 ià(
	gp_Ï¡
)

1806 *
	gp_Ï¡
 = 
Ï¡
;

1807 #ifdeà
KMP_DEBUG


1808 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1809 *
	gbuff
;

1811 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_dispatch_next_algorithm: T#%%d "

1813 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

1814 
KD_TRACE
(1000, (
buff
, 
gtid
, 
´
->
u
.
p
.
Üd”ed_low”
,…r->u.p.
Üd”ed_uµ”
));

1815 
__kmp_¡r_ä“
(&
buff
);

1818 *
	gbuff
;

1820 
	gbuff
 = 
__kmp_¡r_fÜm©
(

1823 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<T>::¥ec,¿™s_t<
ST
>::spec);

1824 
KD_TRACE
(10, (
buff
, 
gtid
, 
¡©us
, *
p_Ï¡
, *
p_lb
, *
p_ub
, *
p_¡
));

1825 
__kmp_¡r_ä“
(&
buff
);

1828  
	g¡©us
;

1834 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1835 
	#OMPT_LOOP_END
 \

1836 ià(
¡©us
 == 0) { \

1837 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) { \

1838 
om±_‹am_šfo_t
 *
‹am_šfo
 = 
	`__om±_g‘_‹amšfo
(0, 
NULL
); \

1839 
om±_sk_šfo_t
 *
sk_šfo
 = 
	`__om±_g‘_sk_šfo_objeù
(0); \

1840 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)( \

1841 
om±_wÜk_loİ
, 
om±_scİe_’d
, &(
‹am_šfo
->
·¿Î–_d©a
), \

1842 &(
sk_šfo
->
sk_d©a
), 0, 
cod•Œ
); \

1844 }

	)

1847 
	#OMPT_LOOP_END


1849 

	)

1850 #ià
KMP_STATS_ENABLED


1851 
	#KMP_STATS_LOOP_END
 \

1853 
kmp_št64
 
u
, 
l
, 
t
, 
i
; \

1854 
l
 = (
kmp_št64
)(*
p_lb
); \

1855 
u
 = (
kmp_št64
)(*
p_ub
); \

1856 
i
 = (
kmp_št64
)(
´
->
u
.
p
.
¡
); \

1857 ià(
¡©us
 == 0) { \

1858 
t
 = 0; \

1859 
	`KMP_POP_PARTITIONED_TIMER
(); \

1860 } ià(
i
 == 1) { \

1861 ià(
u
 >ğ
l
) \

1862 
t
 = 
u
 - 
l
 + 1; \

1864 
t
 = 0; \

1865 } ià(
i
 < 0) { \

1866 ià(
l
 >ğ
u
) \

1867 
t
 = (
l
 - 
u
è/ (-
i
) + 1; \

1869 
t
 = 0; \

1871 ià(
u
 >ğ
l
) \

1872 
t
 = (
u
 - 
l
è/ 
i
 + 1; \

1874 
t
 = 0; \

1876 
	`KMP_COUNT_VALUE
(
OMP_loİ_dyÇmic_™”©iÚs
, 
t
); \

1877 }

	)

1879 
	#KMP_STATS_LOOP_END


	)

1882 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1883 
__kmp_di¥©ch_Ãxt
(
id’t_t
 *
loc
, 
gtid
, 
kmp_št32
 *
p_Ï¡
,

1884 
T
 *
p_lb
, T *
p_ub
,

1885 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
p_¡


1886 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1888 *
cod•Œ


1892 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

1893 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

1898 
KMP_TIME_PARTITIONED_BLOCK
(
OMP_loİ_dyÇmic_schedulšg
);

1900 
	g¡©us
;

1901 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
<
	gT
> *
	g´
;

1902 
kmp_šfo_t
 *
	gth
 = 
__kmp_th»ads
[
gtid
];

1903 
kmp_‹am_t
 *
	g‹am
 = 
th
->th.
th_‹am
;

1905 
KMP_DEBUG_ASSERT
(
p_lb
 && 
p_ub
 && 
p_¡
);

1906 
KD_TRACE
(

1909 
gtid
, 
p_lb
, 
p_ub
, 
p_¡
, 
p_Ï¡
));

1911 ià(
	g‹am
->
	gt
.
	gt_£rŸlized
) {

1913 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

1914 
th
->th.
th_di¥©ch
->
th_di¥_bufãr
);

1915 
KMP_DEBUG_ASSERT
(
´
);

1917 ià((
	g¡©us
 = (
´
->
u
.
p
.
tc
 != 0)) == 0) {

1918 *
p_lb
 = 0;

1919 *
	gp_ub
 = 0;

1922 ià(
	gp_¡
 !ğ
NULL
)

1923 *
p_¡
 = 0;

1924 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

1925 ià(
	g´
->
	gpushed_ws
 !ğ
ù_nÚe
) {

1926 
´
->
pushed_ws
 = 
__kmp_pİ_wÜksh¬e
(
gtid
,…r->pushed_ws, 
loc
);

1929 } ià(
	g´
->
	gæags
.
	gnom”ge
) {

1930 
kmp_št32
 
	gÏ¡
;

1931 
T
 
	g¡¬t
;

1932 
UT
 
	glim™
, 
	gŒ
, 
	gš™
;

1933 
ST
 
	gšü
;

1934 
T
 
	gchunk
 = 
´
->
u
.
p
.
·rm1
;

1936 
KD_TRACE
(100, ("__kmp_dispatch_next: T#%d kmp_sch_dynamic_chunked case\n",

1937 
gtid
));

1939 
	gš™
 = 
chunk
 * 
´
->
u
.
p
.
couÁ
++;

1940 
	gŒ
 = 
´
->
u
.
p
.
tc
 - 1;

1942 ià((
	g¡©us
 = (
š™
 <ğ
Œ
)) == 0) {

1943 *
p_lb
 = 0;

1944 *
	gp_ub
 = 0;

1947 ià(
	gp_¡
 !ğ
NULL
)

1948 *
p_¡
 = 0;

1949 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

1950 ià(
	g´
->
	gpushed_ws
 !ğ
ù_nÚe
) {

1951 
´
->
pushed_ws
 = 
__kmp_pİ_wÜksh¬e
(
gtid
,…r->pushed_ws, 
loc
);

1955 
	g¡¬t
 = 
´
->
u
.
p
.
lb
;

1956 
	glim™
 = 
chunk
 + 
š™
 - 1;

1957 
	gšü
 = 
´
->
u
.
p
.
¡
;

1959 ià((
	gÏ¡
 = (
lim™
 >ğ
Œ
)) != 0) {

1960 
lim™
 = 
Œ
;

1961 #ià
KMP_OS_WINDOWS


1962 
	g´
->
	gu
.
	gp
.
	gÏ¡_uµ”
 = 
´
->
u
.
p
.
ub
;

1965 ià(
	gp_Ï¡
 !ğ
NULL
)

1966 *
p_Ï¡
 = 
Ï¡
;

1967 ià(
	gp_¡
 !ğ
NULL
)

1968 *
p_¡
 = 
šü
;

1969 ià(
	gšü
 == 1) {

1970 *
p_lb
 = 
¡¬t
 + 
š™
;

1971 *
	gp_ub
 = 
¡¬t
 + 
lim™
;

1973 *
	gp_lb
 = 
¡¬t
 + 
š™
 * 
šü
;

1974 *
	gp_ub
 = 
¡¬t
 + 
lim™
 * 
šü
;

1977 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

1978 
	g´
->
	gu
.
	gp
.
	gÜd”ed_low”
 = 
š™
;

1979 
	g´
->
	gu
.
	gp
.
	gÜd”ed_uµ”
 = 
lim™
;

1980 #ifdeà
KMP_DEBUG


1982 *
	gbuff
;

1984 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_dispatch_next: T#%%d "

1986 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

1987 
KD_TRACE
(1000, (
buff
, 
gtid
, 
´
->
u
.
p
.
Üd”ed_low”
,

1988 
´
->
u
.
p
.
Üd”ed_uµ”
));

1989 
__kmp_¡r_ä“
(&
buff
);

1995 
	g´
->
	gu
.
	gp
.
	gtc
 = 0;

1996 *
	gp_lb
 = 
´
->
u
.
p
.
lb
;

1997 *
	gp_ub
 = 
´
->
u
.
p
.
ub
;

1998 #ià
KMP_OS_WINDOWS


1999 
	g´
->
	gu
.
	gp
.
	gÏ¡_uµ”
 = *
p_ub
;

2001 ià(
	gp_Ï¡
 !ğ
NULL
)

2002 *
p_Ï¡
 = 
TRUE
;

2003 ià(
	gp_¡
 !ğ
NULL
)

2004 *
p_¡
 = 
´
->
u
.
p
.
¡
;

2006 #ifdeà
KMP_DEBUG


2008 *
	gbuff
;

2010 
	gbuff
 = 
__kmp_¡r_fÜm©
(

2013 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<T>::¥ec,¿™s_t<
ST
>::spec);

2014 
KD_TRACE
(10, (
buff
, 
gtid
, *
p_lb
, *
p_ub
, *
p_¡
, 
p_Ï¡
, *p_Ï¡, 
¡©us
));

2015 
__kmp_¡r_ä“
(&
buff
);

2018 #ià
INCLUDE_SSC_MARKS


2019 
SSC_MARK_DISPATCH_NEXT
();

2021 
	gOMPT_LOOP_END
;

2022 
	gKMP_STATS_LOOP_END
;

2023  
	g¡©us
;

2025 
kmp_št32
 
	gÏ¡
 = 0;

2026 
	gdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	gT
> vŞ©*
	gsh
;

2028 
KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

2029 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

2031 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

2032 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

2033 
KMP_DEBUG_ASSERT
(
´
);

2034 
	gsh
 = 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> volatile *>(

2035 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

2036 
KMP_DEBUG_ASSERT
(
sh
);

2038 #ià
KMP_USE_HIER_SCHED


2039 ià(
	g´
->
	gæags
.
	gu£_h›r
)

2040 
	g¡©us
 = 
sh
->
h›r
->
Ãxt
(
loc
, 
gtid
, 
´
, &
Ï¡
, 
p_lb
, 
p_ub
, 
p_¡
);

2043 
	g¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(
gtid
, 
	g´
, 
	gsh
, &
	gÏ¡
, 
	gp_lb
, 
	gp_ub
,

2044 
	gp_¡
, 
	gth
->th.
	gth_‹am_Åroc
,

2045 
	gth
->th.
	gth_šfo
.
	gds
.
	gds_tid
);

2047 ià(
	g¡©us
 == 0) {

2048 
UT
 
num_dÚe
;

2050 
	gnum_dÚe
 = 
‹¡_th’_šc
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
num_dÚe
);

2051 #ifdeà
KMP_DEBUG


2053 *
	gbuff
;

2055 
	gbuff
 = 
__kmp_¡r_fÜm©
(

2057 
Œa™s_t
<
UT
>::
¥ec
);

2058 
KD_TRACE
(10, (
buff
, 
gtid
, 
sh
->
u
.
s
.
num_dÚe
));

2059 
__kmp_¡r_ä“
(&
buff
);

2063 #ià
KMP_USE_HIER_SCHED


2064 
	g´
->
	gæags
.
	gu£_h›r
 = 
FALSE
;

2066 ià((
	gST
)
	gnum_dÚe
 =ğ
th
->th.
th_‹am_Åroc
 - 1) {

2067 #ià(
KMP_STATIC_STEAL_ENABLED
)

2068 ià(
´
->
scheduË
 =ğ
kmp_sch_¡©ic_¡—l
 &&

2069 
Œa™s_t
<
T
>::
ty³_size
 > 4) {

2070 
i
;

2071 
kmp_šfo_t
 **
	gÙh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

2073 
	gi
 = 0; i < 
	gth
->th.
	gth_‹am_Åroc
; ++i) {

2074 
kmp_lock_t
 *
	glck
 = 
Ùh”_th»ads
[
i
]->
th
.
th_di¥©ch
->
th_¡—l_lock
;

2075 
KMP_ASSERT
(
lck
 !ğ
NULL
);

2076 
__kmp_de¡roy_lock
(
lck
);

2077 
__kmp_ä“
(
lck
);

2078 
	gÙh”_th»ads
[
i
]->
	gth
.
	gth_di¥©ch
->
	gth_¡—l_lock
 = 
NULL
;

2084 
KMP_MB
();

2086 
	gsh
->
	gu
.
	gs
.
	gnum_dÚe
 = 0;

2087 
	gsh
->
	gu
.
	gs
.
	g™”©iÚ
 = 0;

2090 ià(
	g´
->
	gæags
.
	gÜd”ed
) {

2091 
	gsh
->
	gu
.
	gs
.
	gÜd”ed_™”©iÚ
 = 0;

2094 
KMP_MB
();

2096 
	gsh
->
	gbufãr_šdex
 +ğ
__kmp_di¥©ch_num_bufãrs
;

2097 
KD_TRACE
(100, ("__kmp_dispatch_next: T#%d change buffer_index:%d\n",

2098 
gtid
, 
sh
->
bufãr_šdex
));

2100 
KMP_MB
();

2103 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

2104 ià(
	g´
->
	gpushed_ws
 !ğ
ù_nÚe
) {

2105 
´
->
pushed_ws
 = 
__kmp_pİ_wÜksh¬e
(
gtid
,…r->pushed_ws, 
loc
);

2109 
	gth
->th.
	gth_di¥©ch
->
	gth_deo_fú
 = 
NULL
;

2110 
	gth
->th.
	gth_di¥©ch
->
	gth_dxo_fú
 = 
NULL
;

2111 
	gth
->th.
	gth_di¥©ch
->
	gth_di¥©ch_sh_cu¼’t
 = 
NULL
;

2112 
	gth
->th.
	gth_di¥©ch
->
	gth_di¥©ch_´_cu¼’t
 = 
NULL
;

2114 #ià
KMP_OS_WINDOWS


2115 ià(
	gÏ¡
) {

2116 
	g´
->
	gu
.
	gp
.
	gÏ¡_uµ”
 = 
´
->
u
.
p
.
ub
;

2119 ià(
	gp_Ï¡
 !ğ
NULL
 && 
¡©us
 != 0)

2120 *
p_Ï¡
 = 
Ï¡
;

2123 #ifdeà
KMP_DEBUG


2125 *
	gbuff
;

2127 
	gbuff
 = 
__kmp_¡r_fÜm©
(

2130 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<T>::¥ec,¿™s_t<
ST
>::spec);

2131 
KD_TRACE
(10, (
buff
, 
gtid
, *
p_lb
, *
p_ub
, 
p_¡
 ? *p_¡ : 0, 
p_Ï¡
,

2132 (
p_Ï¡
 ? *p_Ï¡ : 0), 
¡©us
));

2133 
__kmp_¡r_ä“
(&
buff
);

2136 #ià
INCLUDE_SSC_MARKS


2137 
SSC_MARK_DISPATCH_NEXT
();

2139 
	gOMPT_LOOP_END
;

2140 
	gKMP_STATS_LOOP_END
;

2141  
	g¡©us
;

2144 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2145 
__kmp_di¡_g‘_bounds
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2146 
kmp_št32
 *
¶a¡™”
, 
T
 *
¶ow”
, T *
puµ”
,

2147 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
šü
) {

2148 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

2149 
kmp_ušt32
 
	g‹am_id
;

2150 
kmp_ušt32
 
	gÁ—ms
;

2151 
UT
 
	gŒ_couÁ
;

2152 
kmp_‹am_t
 *
	g‹am
;

2153 
kmp_šfo_t
 *
	gth
;

2155 
KMP_DEBUG_ASSERT
(
¶a¡™”
 && 
¶ow”
 && 
puµ”
);

2156 
KE_TRACE
(10, ("__kmpc_di¡_g‘_bound ÿÎed (%d)\n", 
gtid
));

2157 #ifdeà
KMP_DEBUG


2158 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

2160 *
	gbuff
;

2162 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmpc_dist_get_bounds: T#%%d†iter=%%d "

2164 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

2165 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec);

2166 
KD_TRACE
(100, (
buff
, 
gtid
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, 
šü
));

2167 
__kmp_¡r_ä“
(&
buff
);

2171 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

2172 ià(
	gšü
 == 0) {

2173 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüZ”oProhib™ed
, 
ù_pdo
,

2174 
loc
);

2176 ià(
	gšü
 > 0 ? (*
	gpuµ”
 < *
	g¶ow”
è: (*
¶ow”
 < *
puµ”
)) {

2186 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüIÎeg®
, 
ù_pdo
, 
loc
);

2189 
	gth
 = 
__kmp_th»ads
[
gtid
];

2190 
	g‹am
 = 
th
->th.
th_‹am
;

2191 
KMP_DEBUG_ASSERT
(
th
->th.
th_‹ams_miüÙask
);

2192 
	gÁ—ms
 = 
th
->th.
th_‹ams_size
.
Á—ms
;

2193 
	g‹am_id
 = 
‹am
->
t
.
t_ma¡”_tid
;

2194 
KMP_DEBUG_ASSERT
(
Á—ms
 =ğ(
kmp_ušt32
)
‹am
->
t
.
t_·»Á
->t.
t_Åroc
);

2197 ià(
	gšü
 == 1) {

2198 
Œ_couÁ
 = *
puµ”
 - *
¶ow”
 + 1;

2199 } ià(
	gšü
 == -1) {

2200 
Œ_couÁ
 = *
¶ow”
 - *
puµ”
 + 1;

2201 } ià(
	gšü
 > 0) {

2203 
	gŒ_couÁ
 = (
UT
)(*
puµ”
 - *
¶ow”
è/ 
šü
 + 1;

2205 
	gŒ_couÁ
 = (
UT
)(*
¶ow”
 - *
puµ”
è/ (-
šü
) + 1;

2208 ià(
	gŒ_couÁ
 <ğ
Á—ms
) {

2209 
KMP_DEBUG_ASSERT
(

2210 
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
 ||

2211 
__kmp_¡©ic
 ==

2212 
kmp_sch_¡©ic_b®ªûd
);

2214 ià(
	g‹am_id
 < 
	gŒ_couÁ
) {

2215 *
	gpuµ”
 = *
¶ow”
 = *¶ow” + 
‹am_id
 * 
šü
;

2217 *
	g¶ow”
 = *
puµ”
 + 
šü
;

2219 ià(
	g¶a¡™”
 !ğ
NULL
)

2220 *
¶a¡™”
 = (
‹am_id
 =ğ
Œ_couÁ
 - 1);

2222 ià(
	g__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_b®ªûd
) {

2223 
UT
 
chunk
 = 
Œ_couÁ
 / 
Á—ms
;

2224 
UT
 
	gexŒas
 = 
Œ_couÁ
 % 
Á—ms
;

2225 *
	g¶ow”
 +=

2226 
šü
 * (
‹am_id
 * 
chunk
 + (‹am_id < 
exŒas
 ?eam_id :ƒxtras));

2227 *
	gpuµ”
 = *
¶ow”
 + 
chunk
 * 
šü
 - (
‹am_id
 < 
exŒas
 ? 0 : incr);

2228 ià(
	g¶a¡™”
 !ğ
NULL
)

2229 *
¶a¡™”
 = (
‹am_id
 =ğ
Á—ms
 - 1);

2231 
T
 
	gchunk_šc_couÁ
 =

2232 (
Œ_couÁ
 / 
Á—ms
 + (Ñr_couÁ %‚‹amsè? 1 : 0)è* 
šü
;

2233 
T
 
	guµ”
 = *
puµ”
;

2234 
KMP_DEBUG_ASSERT
(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
);

2236 *
	g¶ow”
 +ğ
‹am_id
 * 
chunk_šc_couÁ
;

2237 *
	gpuµ”
 = *
¶ow”
 + 
chunk_šc_couÁ
 - 
šü
;

2239 ià(
	gšü
 > 0) {

2240 ià(*
	gpuµ”
 < *
	g¶ow”
)

2241 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
max_v®ue
;

2242 ià(
	g¶a¡™”
 !ğ
NULL
)

2243 *
¶a¡™”
 = *
¶ow”
 <ğ
uµ”
 && *
puµ”
 > uµ” - 
šü
;

2244 ià(*
	gpuµ”
 > 
	guµ”
)

2245 *
	gpuµ”
 = 
uµ”
;

2247 ià(*
	gpuµ”
 > *
	g¶ow”
)

2248 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
mš_v®ue
;

2249 ià(
	g¶a¡™”
 !ğ
NULL
)

2250 *
¶a¡™”
 = *
¶ow”
 >ğ
uµ”
 && *
puµ”
 < uµ” - 
šü
;

2251 ià(*
	gpuµ”
 < 
	guµ”
)

2252 *
	gpuµ”
 = 
uµ”
;

2281 
__kmpc_di¥©ch_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2282 
sched_ty³
 
scheduË
, 
kmp_št32
 
lb
,

2283 
kmp_št32
 
ub
, kmp_št32 
¡
, kmp_št32 
chunk
) {

2284 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2285 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2286 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2288 
__kmp_di¥©ch_š™
<
kmp_št32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2293 
__kmpc_di¥©ch_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2294 
sched_ty³
 
scheduË
, 
kmp_ušt32
 
lb
,

2295 
kmp_ušt32
 
ub
, 
kmp_št32
 
¡
, kmp_št32 
chunk
) {

2296 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2297 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2298 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2300 
__kmp_di¥©ch_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2306 
__kmpc_di¥©ch_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2307 
sched_ty³
 
scheduË
, 
kmp_št64
 
lb
,

2308 
kmp_št64
 
ub
, kmp_št64 
¡
, kmp_št64 
chunk
) {

2309 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2310 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2311 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2313 
__kmp_di¥©ch_š™
<
kmp_št64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2319 
__kmpc_di¥©ch_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2320 
sched_ty³
 
scheduË
, 
kmp_ušt64
 
lb
,

2321 
kmp_ušt64
 
ub
, 
kmp_št64
 
¡
, kmp_št64 
chunk
) {

2322 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2323 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2324 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2326 
__kmp_di¥©ch_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2338 
__kmpc_di¡_di¥©ch_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2339 
sched_ty³
 
scheduË
, 
kmp_št32
 *
p_Ï¡
,

2340 
kmp_št32
 
lb
, kmp_št32 
ub
, kmp_št32 
¡
,

2341 
kmp_št32
 
chunk
) {

2342 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2343 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2344 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2346 
__kmp_di¡_g‘_bounds
<
kmp_št32
>(
loc
, 
gtid
, 
p_Ï¡
, &
lb
, &
ub
, 
¡
);

2347 
__kmp_di¥©ch_š™
<
kmp_št32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2350 
__kmpc_di¡_di¥©ch_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2351 
sched_ty³
 
scheduË
, 
kmp_št32
 *
p_Ï¡
,

2352 
kmp_ušt32
 
lb
, kmp_ušt32 
ub
, 
kmp_št32
 
¡
,

2353 
kmp_št32
 
chunk
) {

2354 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2355 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2356 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2358 
__kmp_di¡_g‘_bounds
<
kmp_ušt32
>(
loc
, 
gtid
, 
p_Ï¡
, &
lb
, &
ub
, 
¡
);

2359 
__kmp_di¥©ch_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2362 
__kmpc_di¡_di¥©ch_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2363 
sched_ty³
 
scheduË
, 
kmp_št32
 *
p_Ï¡
,

2364 
kmp_št64
 
lb
, kmp_št64 
ub
, kmp_št64 
¡
,

2365 
kmp_št64
 
chunk
) {

2366 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2367 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2368 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2370 
__kmp_di¡_g‘_bounds
<
kmp_št64
>(
loc
, 
gtid
, 
p_Ï¡
, &
lb
, &
ub
, 
¡
);

2371 
__kmp_di¥©ch_š™
<
kmp_št64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2374 
__kmpc_di¡_di¥©ch_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2375 
sched_ty³
 
scheduË
, 
kmp_št32
 *
p_Ï¡
,

2376 
kmp_ušt64
 
lb
, kmp_ušt64 
ub
, 
kmp_št64
 
¡
,

2377 
kmp_št64
 
chunk
) {

2378 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2379 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2380 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2382 
__kmp_di¡_g‘_bounds
<
kmp_ušt64
>(
loc
, 
gtid
, 
p_Ï¡
, &
lb
, &
ub
, 
¡
);

2383 
__kmp_di¥©ch_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
, 
Œue
);

2399 
__kmpc_di¥©ch_Ãxt_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

2400 
kmp_št32
 *
p_lb
, kmp_št32 *
p_ub
, kmp_št32 *
p_¡
) {

2401 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2402 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2404  
__kmp_di¥©ch_Ãxt
<
kmp_št32
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡


2405 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2407 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
)

2415 
__kmpc_di¥©ch_Ãxt_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

2416 
kmp_ušt32
 *
p_lb
, kmp_ušt32 *
p_ub
,

2417 
kmp_št32
 *
p_¡
) {

2418 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2419 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2421  
__kmp_di¥©ch_Ãxt
<
kmp_ušt32
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡


2422 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2424 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
)

2432 
__kmpc_di¥©ch_Ãxt_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

2433 
kmp_št64
 *
p_lb
, kmp_št64 *
p_ub
, kmp_št64 *
p_¡
) {

2434 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2435 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2437  
__kmp_di¥©ch_Ãxt
<
kmp_št64
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡


2438 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2440 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
)

2448 
__kmpc_di¥©ch_Ãxt_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

2449 
kmp_ušt64
 *
p_lb
, kmp_ušt64 *
p_ub
,

2450 
kmp_št64
 *
p_¡
) {

2451 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2452 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

2454  
__kmp_di¥©ch_Ãxt
<
kmp_ušt64
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡


2455 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2457 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
)

2468 
__kmpc_di¥©ch_fši_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2469 
__kmp_di¥©ch_fšish
<
kmp_ušt32
>(
gtid
, 
loc
);

2475 
__kmpc_di¥©ch_fši_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2476 
__kmp_di¥©ch_fšish
<
kmp_ušt64
>(
gtid
, 
loc
);

2482 
__kmpc_di¥©ch_fši_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2483 
__kmp_di¥©ch_fšish
<
kmp_ušt32
>(
gtid
, 
loc
);

2489 
__kmpc_di¥©ch_fši_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2490 
__kmp_di¥©ch_fšish
<
kmp_ušt64
>(
gtid
, 
loc
);

2497 
kmp_ušt32
 
__kmp_eq_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
) {

2498  
v®ue
 =ğ
check”
;

2501 
kmp_ušt32
 
__kmp_Ãq_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
) {

2502  
v®ue
 !ğ
check”
;

2505 
kmp_ušt32
 
__kmp_É_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
) {

2506  
v®ue
 < 
check”
;

2509 
kmp_ušt32
 
__kmp_ge_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
) {

2510  
v®ue
 >ğ
check”
;

2513 
kmp_ušt32
 
__kmp_Ë_4
(kmp_ušt32 
v®ue
, kmp_ušt32 
check”
) {

2514  
v®ue
 <ğ
check”
;

2517 
kmp_ušt32


2518 
__kmp_wa™_4
(vŞ©
kmp_ušt32
 *
¥šÃr
, kmp_ušt32 
check”
,

2519 
kmp_ušt32
 (*
´ed
)(kmp_uint32, kmp_uint32),

2520 *
obj


2523 vŞ©
kmp_ušt32
 *
¥š
 = 
¥šÃr
;

2524 
kmp_ušt32
 
check
 = 
check”
;

2525 
kmp_ušt32
 
¥šs
;

2526 
kmp_ušt32
 (*
f
)(kmp_ušt32, kmp_ušt32èğ
´ed
;

2527 
kmp_ušt32
 
r
;

2529 
KMP_FSYNC_SPIN_INIT
(
obj
, 
CCAST
(
kmp_ušt32
 *, 
¥š
));

2530 
KMP_INIT_YIELD
(
¥šs
);

2532 !
f
(
r
 = 
TCR_4
(*
¥š
), 
check
)) {

2533 
KMP_FSYNC_SPIN_PREPARE
(
obj
);

2538 
KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

2540 
KMP_FSYNC_SPIN_ACQUIRED
(
obj
);

2541  
r
;

2544 
__kmp_wa™_4_±r
(*
¥šÃr
, 
kmp_ušt32
 
check”
,

2545 
kmp_ušt32
 (*
´ed
)(*, kmp_uint32),

2546 *
obj


2549 *
¥š
 = 
¥šÃr
;

2550 
kmp_ušt32
 
check
 = 
check”
;

2551 
kmp_ušt32
 
¥šs
;

2552 
kmp_ušt32
 (*
f
)(*, kmp_ušt32èğ
´ed
;

2554 
KMP_FSYNC_SPIN_INIT
(
obj
, 
¥š
);

2555 
KMP_INIT_YIELD
(
¥šs
);

2557 !
f
(
¥š
, 
check
)) {

2558 
KMP_FSYNC_SPIN_PREPARE
(
obj
);

2561 
KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

2563 
KMP_FSYNC_SPIN_ACQUIRED
(
obj
);

2568 #ifdeà
KMP_GOMP_COMPAT


2570 
	$__kmp_aux_di¥©ch_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2571 
sched_ty³
 
scheduË
, 
kmp_št32
 
lb
,

2572 
kmp_št32
 
ub
, kmp_št32 
¡
, kmp_št32 
chunk
,

2573 
push_ws
) {

2574 
__kmp_di¥©ch_š™
<
kmp_št32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
,

2575 
push_ws
);

2576 
	}
}

2578 
	$__kmp_aux_di¥©ch_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2579 
sched_ty³
 
scheduË
, 
kmp_ušt32
 
lb
,

2580 
kmp_ušt32
 
ub
, 
kmp_št32
 
¡
, kmp_št32 
chunk
,

2581 
push_ws
) {

2582 
__kmp_di¥©ch_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
,

2583 
push_ws
);

2584 
	}
}

2586 
	$__kmp_aux_di¥©ch_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2587 
sched_ty³
 
scheduË
, 
kmp_št64
 
lb
,

2588 
kmp_št64
 
ub
, kmp_št64 
¡
, kmp_št64 
chunk
,

2589 
push_ws
) {

2590 
__kmp_di¥©ch_š™
<
kmp_št64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
,

2591 
push_ws
);

2592 
	}
}

2594 
	$__kmp_aux_di¥©ch_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

2595 
sched_ty³
 
scheduË
, 
kmp_ušt64
 
lb
,

2596 
kmp_ušt64
 
ub
, 
kmp_št64
 
¡
, kmp_št64 
chunk
,

2597 
push_ws
) {

2598 
__kmp_di¥©ch_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
scheduË
, 
lb
, 
ub
, 
¡
, 
chunk
,

2599 
push_ws
);

2600 
	}
}

2602 
	$__kmp_aux_di¥©ch_fši_chunk_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2603 
__kmp_di¥©ch_fšish_chunk
<
kmp_ušt32
>(
gtid
, 
loc
);

2604 
	}
}

2606 
	$__kmp_aux_di¥©ch_fši_chunk_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2607 
__kmp_di¥©ch_fšish_chunk
<
kmp_ušt64
>(
gtid
, 
loc
);

2608 
	}
}

2610 
	$__kmp_aux_di¥©ch_fši_chunk_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2611 
__kmp_di¥©ch_fšish_chunk
<
kmp_ušt32
>(
gtid
, 
loc
);

2612 
	}
}

2614 
	$__kmp_aux_di¥©ch_fši_chunk_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
) {

2615 
__kmp_di¥©ch_fšish_chunk
<
kmp_ušt64
>(
gtid
, 
loc
);

2616 
	}
}

	@kmp_dispatch.h

13 #iâdeà
KMP_DISPATCH_H


14 
	#KMP_DISPATCH_H


	)

19 
	~"kmp.h
"

20 
	~"kmp_”rÜ.h
"

21 
	~"kmp_i18n.h
"

22 
	~"kmp_™t.h
"

23 
	~"kmp_¡©s.h
"

24 
	~"kmp_¡r.h
"

25 #ià
KMP_OS_WINDOWS
 && 
KMP_ARCH_X86


26 
	~<æßt.h
>

29 #ià
OMPT_SUPPORT


30 
	~"om±-š‹º®.h
"

31 
	~"om±-¥ecific.h
"

36 #ià
KMP_USE_HIER_SCHED


38 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gkmp_h›r_t
;

39 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gkmp_h›r_tİ_un™_t
;

42 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gdi¥©ch_sh¬ed_šfo_‹m¶©e
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
;

45 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

46 
__kmp_di¥©ch_š™_®gÜ™hm
(
id’t_t
 *
loc
, 
gtid
,

47 
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *
´
,

48 
sched_ty³
 
scheduË
, 
T
 
lb
, T 
ub
,

49 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
¡
,

50 #ià
USE_ITT_BUILD


51 
kmp_ušt64
 *
cur_chunk
,

53 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk
,

54 
T
 
Åroc
, T 
un™_id
);

55 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

56 
__kmp_di¥©ch_Ãxt_®gÜ™hm
(

57 
gtid
, 
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *
´
,

58 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> vŞ©*
sh
, 
kmp_št32
 *
p_Ï¡
, T *
p_lb
,

59 
T
 *
p_ub
, 
ty³Çme
 
Œa™s_t
<T>::
sigÃd_t
 *
p_¡
, T 
Åroc
, T 
un™_id
);

61 
__kmp_di¥©ch_dxo_”rÜ
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
);

62 
__kmp_di¥©ch_deo_”rÜ
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
);

64 #ià
KMP_STATIC_STEAL_ENABLED


68 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sdi¥©ch_´iv©e_šfoXX_‹m¶©e
 {

69 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

70 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

71 
UT
 
	mcouÁ
;

72 
T
 
	mub
;

74 
T
 
	mlb
;

75 
ST
 
	m¡
;

76 
UT
 
	mtc
;

77 
T
 
	m¡©ic_¡—l_couÁ”
;

87 
KMP_ALIGN
(32) {

88 
T
 
	m·rm1
;

89 
T
 
	m·rm2
;

90 
T
 
	m·rm3
;

91 
T
 
	m·rm4
;

94 
UT
 
	mÜd”ed_low”
;

95 
UT
 
	mÜd”ed_uµ”
;

96 #ià
KMP_OS_WINDOWS


97 
T
 
	mÏ¡_uµ”
;

105 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sdi¥©ch_´iv©e_šfoXX_‹m¶©e
 {

106 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

107 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

108 
T
 
	mlb
;

109 
T
 
	mub
;

110 
ST
 
	m¡
;

111 
UT
 
	mtc
;

113 
T
 
	m·rm1
;

114 
T
 
	m·rm2
;

115 
T
 
	m·rm3
;

116 
T
 
	m·rm4
;

118 
UT
 
	mcouÁ
;

120 
UT
 
	mÜd”ed_low”
;

121 
UT
 
	mÜd”ed_uµ”
;

122 #ià
KMP_OS_WINDOWS


123 
T
 
	mÏ¡_uµ”
;

128 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
KMP_ALIGN_CACHE
 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
 {

131 
KMP_ALIGN_CACHE
 
	g´iv©e_šfo_tm¶
 {

132 
	gdi¥©ch_´iv©e_šfoXX_‹m¶©e
<
	gT
> 
	gp
;

133 
di¥©ch_´iv©e_šfo64_t
 
	gp64
;

134 } 
	gu
;

135 
sched_ty³
 
	gscheduË
;

136 
kmp_sched_æags_t
 
	gæags
;

137 
kmp_ušt32
 
	gÜd”ed_bum³d
;

139 
kmp_št32
 
	gÜd”ed_dummy
[
KMP_MAX_ORDERED
 - 3];

140 
di¥©ch_´iv©e_šfo
 *
	gÃxt
;

141 
kmp_ušt32
 
	gty³_size
;

142 #ià
KMP_USE_HIER_SCHED


143 
kmp_št32
 
	gh›r_id
;

144 
	gkmp_h›r_tİ_un™_t
<
	gT
> *
	gh›r_·»Á
;

146 
kmp_št32
 
g‘_h›r_id
(ècÚ¡ {  
	gh›r_id
; }

147 
	gkmp_h›r_tİ_un™_t
<
	gT
> *
g‘_·»Á
(è{  
	gh›r_·»Á
; }

149 
cÚs_ty³
 
	gpushed_ws
;

154 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sdi¥©ch_sh¬ed_šfoXX_‹m¶©e
 {

155 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

158 vŞ©
UT
 
	m™”©iÚ
;

159 vŞ©
UT
 
	mnum_dÚe
;

160 vŞ©
UT
 
	mÜd”ed_™”©iÚ
;

162 
UT
 
	mÜd”ed_dummy
[
KMP_MAX_ORDERED
 - 3];

166 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sdi¥©ch_sh¬ed_šfo_‹m¶©e
 {

167 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

169 
	ush¬ed_šfo_tm¶
 {

170 
	mdi¥©ch_sh¬ed_šfoXX_‹m¶©e
<
	mUT
> 
	ms
;

171 
di¥©ch_sh¬ed_šfo64_t
 
	ms64
;

172 } 
	mu
;

173 vŞ©
kmp_ušt32
 
	mbufãr_šdex
;

174 vŞ©
kmp_št32
 
	mdßüoss_buf_idx
;

175 
kmp_ušt32
 *
	mdßüoss_æags
;

176 
kmp_št32
 
	mdßüoss_num_dÚe
;

177 #ià
KMP_USE_HIER_SCHED


178 
	mkmp_h›r_t
<
	mT
> *
	mh›r
;

180 #ià
KMP_USE_HWLOC


184 
	m·ddšg
[64];

191 #undeà
USE_TEST_LOCKS


194 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
__fÜûšlše
 
T
 
‹¡_th’_add
(vŞ©T *
p
, T 
d
);

196 
	g‹m¶©e
 <>

197 
__fÜûšlše
 
kmp_št32
 
	g‹¡_th’_add
<
	gkmp_št32
>(vŞ©kmp_št32 *
	gp
,

198 
kmp_št32
 
	gd
) {

199 
kmp_št32
 
	gr
;

200 
	gr
 = 
KMP_TEST_THEN_ADD32
(
p
, 
d
);

201  
	gr
;

204 
	g‹m¶©e
 <>

205 
__fÜûšlše
 
kmp_št64
 
	g‹¡_th’_add
<
	gkmp_št64
>(vŞ©kmp_št64 *
	gp
,

206 
kmp_št64
 
	gd
) {

207 
kmp_št64
 
	gr
;

208 
	gr
 = 
KMP_TEST_THEN_ADD64
(
p
, 
d
);

209  
	gr
;

213 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
__fÜûšlše
 
T
 
‹¡_th’_šc_acq
(vŞ©T *
p
);

215 
	g‹m¶©e
 <>

216 
__fÜûšlše
 
kmp_št32
 
	g‹¡_th’_šc_acq
<
	gkmp_št32
>(vŞ©kmp_št32 *
	gp
) {

217 
kmp_št32
 
	gr
;

218 
	gr
 = 
KMP_TEST_THEN_INC_ACQ32
(
p
);

219  
	gr
;

222 
	g‹m¶©e
 <>

223 
__fÜûšlše
 
kmp_št64
 
	g‹¡_th’_šc_acq
<
	gkmp_št64
>(vŞ©kmp_št64 *
	gp
) {

224 
kmp_št64
 
	gr
;

225 
	gr
 = 
KMP_TEST_THEN_INC_ACQ64
(
p
);

226  
	gr
;

230 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
__fÜûšlše
 
T
 
‹¡_th’_šc
(vŞ©T *
p
);

232 
	g‹m¶©e
 <>

233 
__fÜûšlše
 
kmp_št32
 
	g‹¡_th’_šc
<
	gkmp_št32
>(vŞ©kmp_št32 *
	gp
) {

234 
kmp_št32
 
	gr
;

235 
	gr
 = 
KMP_TEST_THEN_INC32
(
p
);

236  
	gr
;

239 
	g‹m¶©e
 <>

240 
__fÜûšlše
 
kmp_št64
 
	g‹¡_th’_šc
<
	gkmp_št64
>(vŞ©kmp_št64 *
	gp
) {

241 
kmp_št64
 
	gr
;

242 
	gr
 = 
KMP_TEST_THEN_INC64
(
p
);

243  
	gr
;

247 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

248 
__fÜûšlše
 
kmp_št32
 
com·»_ªd_sw­
(vŞ©
T
 *
p
, T 
c
, T 
s
);

250 
	g‹m¶©e
 <>

251 
__fÜûšlše
 
kmp_št32
 
	gcom·»_ªd_sw­
<
	gkmp_št32
>(vŞ©kmp_št32 *
	gp
,

252 
kmp_št32
 
	gc
, kmp_št32 
	gs
) {

253  
KMP_COMPARE_AND_STORE_REL32
(
p
, 
c
, 
s
);

256 
	g‹m¶©e
 <>

257 
__fÜûšlše
 
kmp_št32
 
	gcom·»_ªd_sw­
<
	gkmp_št64
>(vŞ©
kmp_št64
 *
	gp
,

258 
kmp_št64
 
	gc
, kmp_št64 
	gs
) {

259  
KMP_COMPARE_AND_STORE_REL64
(
p
, 
c
, 
s
);

262 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
kmp_ušt32
 
	$__kmp_ge
(
T
 
v®ue
, T 
check”
) {

263  
v®ue
 >ğ
check”
;

264 
	}
}

265 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
kmp_ušt32
 
	$__kmp_eq
(
T
 
v®ue
, T 
check”
) {

266  
v®ue
 =ğ
check”
;

267 
	}
}

288 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

289 
UT
 
__kmp_wa™
(vŞ©UT *
¥šÃr
, UT 
check”
,

290 
	$kmp_ušt32
 (*
´ed
)(
UT
, UTè
	$USE_ITT_BUILD_ARG
(*
obj
)) {

292 vŞ©
UT
 *
¥š
 = 
¥šÃr
;

293 
UT
 
check
 = 
check”
;

294 
kmp_ušt32
 
¥šs
;

295 
	`kmp_ušt32
 (*
f
)(
UT
, UTèğ
´ed
;

296 
UT
 
r
;

298 
	`KMP_FSYNC_SPIN_INIT
(
obj
, 
	`CCAST
(
UT
 *, 
¥š
));

299 
	`KMP_INIT_YIELD
(
¥šs
);

301 !
	`f
(
r
 = *
¥š
, 
check
)) {

302 
	`KMP_FSYNC_SPIN_PREPARE
(
obj
);

309 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

311 
	`KMP_FSYNC_SPIN_ACQUIRED
(
obj
);

312  
r
;

313 
	}
}

318 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

319 
	$__kmp_di¥©ch_deo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

320 
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *
´
;

322 
gtid
 = *
gtid_»f
;

324 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

325 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
);

327 
	`KD_TRACE
(100, ("__kmp_di¥©ch_deo: T#%d c®Ëd\n", 
gtid
));

328 ià(
__kmp_’v_cÚsi¡’cy_check
) {

329 
´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

330 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

331 ià(
´
->
pushed_ws
 !ğ
ù_nÚe
) {

332 #ià
KMP_USE_DYNAMIC_LOCK


333 
	`__kmp_push_sync
(
gtid
, 
ù_Üd”ed_š_pdo
, 
loc_»f
, 
NULL
, 0);

335 
	`__kmp_push_sync
(
gtid
, 
ù_Üd”ed_š_pdo
, 
loc_»f
, 
NULL
);

340 ià(!
th
->th.
th_‹am
->
t
.
t_£rŸlized
) {

341 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> *
sh
 =

342 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> *>(

343 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

344 
UT
 
low”
;

346 ià(!
__kmp_’v_cÚsi¡’cy_check
) {

347 
´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

348 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

350 
low”
 = 
´
->
u
.
p
.
Üd”ed_low”
;

352 #ià!
	`defšed
(
KMP_GOMP_COMPAT
)

353 ià(
__kmp_’v_cÚsi¡’cy_check
) {

354 ià(
´
->
Üd”ed_bum³d
) {

355 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

356 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsMuÉËNe¡šg
,

357 
ù_Üd”ed_š_pdo
, 
loc_»f
,

358 &
p
->
¡ack_d©a
[p->
w_tİ
]);

363 
	`KMP_MB
();

364 #ifdeà
KMP_DEBUG


366 *
buff
;

368 
buff
 = 
	`__kmp_¡r_fÜm©
("__kmp_dispatch_deo: T#%%d before wait: "

370 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

371 
	`KD_TRACE
(1000, (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
));

372 
	`__kmp_¡r_ä“
(&
buff
);

375 
__kmp_wa™
<
UT
>(&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
,

376 
__kmp_ge
<
UT
> 
	`USE_ITT_BUILD_ARG
(
NULL
));

377 
	`KMP_MB
();

378 #ifdeà
KMP_DEBUG


380 *
buff
;

382 
buff
 = 
	`__kmp_¡r_fÜm©
("__kmp_dispatch_deo: T#%%d‡fter wait: "

384 
Œa™s_t
<
UT
>::
¥ec
,raits_t<UT>::spec);

385 
	`KD_TRACE
(1000, (
buff
, 
gtid
, 
sh
->
u
.
s
.
Üd”ed_™”©iÚ
, 
low”
));

386 
	`__kmp_¡r_ä“
(&
buff
);

390 
	`KD_TRACE
(100, ("__kmp_di¥©ch_deo: T#%d„‘uºed\n", 
gtid
));

391 
	}
}

393 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

394 
	$__kmp_di¥©ch_dxo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

395 
ty³Çme
 
	tŒa™s_t
<
	tUT
>::
	tsigÃd_t
 
	tST
;

396 
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *
´
;

398 
gtid
 = *
gtid_»f
;

400 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

401 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
);

403 
	`KD_TRACE
(100, ("__kmp_di¥©ch_dxo: T#%d c®Ëd\n", 
gtid
));

404 ià(
__kmp_’v_cÚsi¡’cy_check
) {

405 
´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

406 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

407 ià(
´
->
pushed_ws
 !ğ
ù_nÚe
) {

408 
	`__kmp_pİ_sync
(
gtid
, 
ù_Üd”ed_š_pdo
, 
loc_»f
);

412 ià(!
th
->th.
th_‹am
->
t
.
t_£rŸlized
) {

413 
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> *
sh
 =

414 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
UT
> *>(

415 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

417 ià(!
__kmp_’v_cÚsi¡’cy_check
) {

418 
´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
UT
> *>(

419 
th
->th.
th_di¥©ch
->
th_di¥©ch_´_cu¼’t
);

422 
	`KMP_FSYNC_RELEASING
(
	`CCAST
(
UT
 *, &
sh
->
u
.
s
.
Üd”ed_™”©iÚ
));

423 #ià!
	`defšed
(
KMP_GOMP_COMPAT
)

424 ià(
__kmp_’v_cÚsi¡’cy_check
) {

425 ià(
´
->
Üd”ed_bum³d
 != 0) {

426 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

428 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsMuÉËNe¡šg
,

429 
ù_Üd”ed_š_pdo
, 
loc_»f
,

430 &
p
->
¡ack_d©a
[p->
w_tİ
]);

435 
	`KMP_MB
();

437 
´
->
Üd”ed_bum³d
 += 1;

439 
	`KD_TRACE
(1000,

441 
gtid
, 
´
->
Üd”ed_bum³d
));

443 
	`KMP_MB
();

446 
‹¡_th’_šc
<
ST
>((vŞ©ST *)&
sh
->
u
.
s
.
Üd”ed_™”©iÚ
);

448 
	`KMP_MB
();

450 
	`KD_TRACE
(100, ("__kmp_di¥©ch_dxo: T#%d„‘uºed\n", 
gtid
));

451 
	}
}

455 
	g‹m¶©e
 <
ty³Çme
 
	gUT
>

456 
__fÜûšlše
 
	$__kmp_pow
(
x
, 
UT
 
y
) {

457 
s
 = 1.0L;

459 
	`KMP_DEBUG_ASSERT
(
x
 > 0.0 && x < 1.0);

461 
y
) {

462 ià(
y
 & 1)

463 
s
 *ğ
x
;

464 
x
 *= x;

465 
y
 >>= 1;

467  
s
;

468 
	}
}

478 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

479 
__šlše
 
ty³Çme
 
	gŒa™s_t
<
	gT
>::
unsigÃd_t


480 
__kmp_di¥©ch_guided_»maššg
(
T
 
tc
, 
ty³Çme
 
Œa™s_t
<T>::
æßtšg_t
 
ba£
,

481 
ty³Çme
 
Œa™s_t
<
T
>::
unsigÃd_t
 
idx
) {

489 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

491 
	gx
 = 
tc
 * 
__kmp_pow
<
UT
>(
ba£
, 
	gidx
);

492 
UT
 
	gr
 = (UT)
x
;

493 ià(
	gx
 =ğ
r
)

494  
r
;

495  
	gr
 + 1;

504 cÚ¡ 
	gguided_št_·¿m
 = 2;

505 cÚ¡ 
	gguided_æt_·¿m
 = 0.5;

	@kmp_dispatch_hier.h

13 #iâdeà
KMP_DISPATCH_HIER_H


14 
	#KMP_DISPATCH_HIER_H


	)

15 
	~"kmp.h
"

16 
	~"kmp_di¥©ch.h
"

19 
	ekmp_h›r_Ïy”_e
 {

20 
	mLAYER_THREAD
 = -1,

21 
	mLAYER_L1
,

22 
	mLAYER_L2
,

23 
	mLAYER_L3
,

24 
	mLAYER_NUMA
,

25 
	mLAYER_LOOP
,

26 
	mLAYER_LAST


30 
šlše
 cÚ¡ *
	$__kmp_g‘_h›r_¡r
(
kmp_h›r_Ïy”_e
 
ty³
) {

31 
ty³
) {

32 
kmp_h›r_Ïy”_e
::
LAYER_THREAD
:

34 
kmp_h›r_Ïy”_e
::
LAYER_L1
:

36 
kmp_h›r_Ïy”_e
::
LAYER_L2
:

38 
kmp_h›r_Ïy”_e
::
LAYER_L3
:

40 
kmp_h›r_Ïy”_e
::
LAYER_NUMA
:

42 
kmp_h›r_Ïy”_e
::
LAYER_LOOP
:

44 
kmp_h›r_Ïy”_e
::
LAYER_LAST
:

47 
	`KMP_ASSERT
(0);

50 
	}
}

53 
	skmp_h›r_sched_’v_t
 {

54 
	msize
;

55 
	mÿ·c™y
;

56 
sched_ty³
 *
	mscheds
;

57 
kmp_št32
 *
	msm®l_chunks
;

58 
kmp_št64
 *
	mÏrge_chunks
;

59 
kmp_h›r_Ïy”_e
 *
	mÏy”s
;

61 
­³nd
(
sched_ty³
 
sched
, 
kmp_št32
 
chunk
, 
kmp_h›r_Ïy”_e
 
Ïy”
) {

62 ià(
	mÿ·c™y
 == 0) {

63 
scheds
 = (
sched_ty³
 *)
__kmp_®loÿ‹
((sched_type) *

64 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

65 
	msm®l_chunks
 = (
kmp_št32
 *)
__kmp_®loÿ‹
((kmp_int32) *

66 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

67 
	mÏrge_chunks
 = (
kmp_št64
 *)
__kmp_®loÿ‹
((kmp_int64) *

68 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

69 
	mÏy”s
 = (
kmp_h›r_Ïy”_e
 *)
__kmp_®loÿ‹
((kmp_hier_layer_e) *

70 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

71 
	mÿ·c™y
 = 
kmp_h›r_Ïy”_e
::
LAYER_LAST
;

73 
	mcu¼’t_size
 = 
size
;

74 
KMP_DEBUG_ASSERT
(
cu¼’t_size
 < 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

75 
	mscheds
[
cu¼’t_size
] = 
sched
;

76 
	mÏy”s
[
cu¼’t_size
] = 
Ïy”
;

77 
	msm®l_chunks
[
cu¼’t_size
] = 
chunk
;

78 
	mÏrge_chunks
[
cu¼’t_size
] = (
kmp_št64
)
chunk
;

79 
	msize
++;

83 
sÜt
() {

84 ià(
	msize
 <= 1)

86 
	mi
 = 0; i < 
	msize
; ++i) {

87 
	msw™ch_šdex
 = 
i
;

88 
	mj
 = 
i
 + 1; j < 
	msize
; ++j) {

89 ià(
	mÏy”s
[
j
] <†ay”s[
sw™ch_šdex
])

90 
	msw™ch_šdex
 = 
j
;

92 ià(
	msw™ch_šdex
 !ğ
i
) {

93 
kmp_h›r_Ïy”_e
 
‹mp1
 = 
Ïy”s
[
i
];

94 
sched_ty³
 
	m‹mp2
 = 
scheds
[
i
];

95 
kmp_št32
 
	m‹mp3
 = 
sm®l_chunks
[
i
];

96 
kmp_št64
 
	m‹mp4
 = 
Ïrge_chunks
[
i
];

97 
	mÏy”s
[
i
] = 
Ïy”s
[
sw™ch_šdex
];

98 
	mscheds
[
i
] = 
scheds
[
sw™ch_šdex
];

99 
	msm®l_chunks
[
i
] = 
sm®l_chunks
[
sw™ch_šdex
];

100 
	mÏrge_chunks
[
i
] = 
Ïrge_chunks
[
sw™ch_šdex
];

101 
	mÏy”s
[
sw™ch_šdex
] = 
‹mp1
;

102 
	mscheds
[
sw™ch_šdex
] = 
‹mp2
;

103 
	msm®l_chunks
[
sw™ch_šdex
] = 
‹mp3
;

104 
	mÏrge_chunks
[
sw™ch_šdex
] = 
‹mp4
;

109 
d—Îoÿ‹
() {

110 ià(
	mÿ·c™y
 > 0) {

111 
__kmp_ä“
(
scheds
);

112 
__kmp_ä“
(
Ïy”s
);

113 
__kmp_ä“
(
sm®l_chunks
);

114 
__kmp_ä“
(
Ïrge_chunks
);

115 
	mscheds
 = 
NULL
;

116 
	mÏy”s
 = 
NULL
;

117 
	msm®l_chunks
 = 
NULL
;

118 
	mÏrge_chunks
 = 
NULL
;

120 
	msize
 = 0;

121 
	mÿ·c™y
 = 0;

123 } 
	tkmp_h›r_sched_’v_t
;

125 
__kmp_di¥©ch_hªd_th»adšg
;

126 
kmp_h›r_sched_’v_t
 
__kmp_h›r_scheds
;

129 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_LAST
 + 1];

130 
__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_LAST
 + 1];

132 
__kmp_di¥©ch_g‘_šdex
(
tid
, 
kmp_h›r_Ïy”_e
 
ty³
);

133 
__kmp_di¥©ch_g‘_id
(
gtid
, 
kmp_h›r_Ïy”_e
 
ty³
);

134 
__kmp_di¥©ch_g‘_t1_³r_t2
(
kmp_h›r_Ïy”_e
 
t1
,

135 
kmp_h›r_Ïy”_e
 
t2
);

136 
__kmp_di¥©ch_ä“_h›¿rch›s
(
kmp_‹am_t
 *
‹am
);

138 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	skmp_h›r_sh¬ed_bd©a_t
 {

139 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

140 vŞ©
kmp_ušt64
 
	mv®
[2];

141 
kmp_št32
 
	m¡©us
[2];

142 
T
 
	mlb
[2];

143 
T
 
	mub
[2];

144 
ST
 
	m¡
[2];

145 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> 
	msh
[2];

146 
z”o
() {

147 
	mv®
[0] = 
v®
[1] = 0;

148 
	m¡©us
[0] = 
¡©us
[1] = 0;

149 
	mlb
[0] = 
lb
[1] = 0;

150 
	mub
[0] = 
ub
[1] = 0;

151 
	m¡
[0] = 
¡
[1] = 0;

152 
	msh
[0].
	mu
.
	ms
.
	m™”©iÚ
 = 
sh
[1].
u
.
s
.
™”©iÚ
 = 0;

154 
£t_Ãxt_hªd_th»ad
(
T
 
Æb
, T 
nub
, 
ST
 
n¡
, 
kmp_št32
 
n¡©us
,

155 
kmp_ušt64
 
šdex
) {

156 
	mlb
[1 - 
šdex
] = 
Æb
;

157 
	mub
[1 - 
šdex
] = 
nub
;

158 
	m¡
[1 - 
šdex
] = 
n¡
;

159 
	m¡©us
[1 - 
šdex
] = 
n¡©us
;

161 
£t_Ãxt
(
T
 
Æb
, T 
nub
, 
ST
 
n¡
, 
kmp_št32
 
n¡©us
, 
kmp_ušt64
 
šdex
) {

162 
	mlb
[1 - 
šdex
] = 
Æb
;

163 
	mub
[1 - 
šdex
] = 
nub
;

164 
	m¡
[1 - 
šdex
] = 
n¡
;

165 
	m¡©us
[1 - 
šdex
] = 
n¡©us
;

166 
	msh
[1 - 
šdex
].
	mu
.
	ms
.
	m™”©iÚ
 = 0;

169 
kmp_št32
 
g‘_Ãxt_¡©us
(
kmp_ušt64
 
šdex
) const {

170  
	m¡©us
[1 - 
šdex
];

172 
T
 
g‘_Ãxt_lb
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	mlb
[1 - index]; }

173 
T
 
g‘_Ãxt_ub
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	mub
[1 - index]; }

174 
ST
 
g‘_Ãxt_¡
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	m¡
[1 - index]; }

175 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> vŞ©*
g‘_Ãxt_sh
(
kmp_ušt64
 
šdex
) {

176  &(
	msh
[1 - 
šdex
]);

179 
kmp_št32
 
g‘_cu¼_¡©us
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	m¡©us
[index]; }

180 
T
 
g‘_cu¼_lb
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	mlb
[index]; }

181 
T
 
g‘_cu¼_ub
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	mub
[index]; }

182 
ST
 
g‘_cu¼_¡
(
kmp_ušt64
 
šdex
ècÚ¡ {  
	m¡
[index]; }

183 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> vŞ©*
g‘_cu¼_sh
(
kmp_ušt64
 
šdex
) {

184  &(
	msh
[
šdex
]);

209 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	ccÜe_b¬r›r_im¶
 {

210 
šlše
 
kmp_ušt64
 
	$g‘_wa™_v®
(
num_aùive
) {

211 
kmp_ušt64
 
wa™_v®
 = 0LL;

212 
num_aùive
) {

214 
wa™_v®
 = 0x0101LL;

217 
wa™_v®
 = 0x010101LL;

220 
wa™_v®
 = 0x01010101LL;

223 
wa™_v®
 = 0x0101010101LL;

226 
wa™_v®
 = 0x010101010101LL;

229 
wa™_v®
 = 0x01010101010101LL;

232 
wa™_v®
 = 0x0101010101010101LL;

236 
	`KMP_ASSERT
(0);

238  
wa™_v®
;

241 
public
:

242 
	`»£t_´iv©e
(
kmp_št32
 
num_aùive
,

243 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
);

244 
	`»£t_sh¬ed
(
kmp_št32
 
num_aùive
,

245 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
);

246 
	`b¬r›r
(
kmp_št32
 
id
, 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
,

247 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
);

248 
	}
};

250 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

251 
	gcÜe_b¬r›r_im¶
<
	gT
>::
	$»£t_´iv©e
(
kmp_št32
 
num_aùive
,

252 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

253 
td©a
->
num_aùive
 =‚um_active;

254 
td©a
->
šdex
 = 0;

255 
td©a
->
wa™_v®
[0] =d©a->wa™_v®[1] = 
	`g‘_wa™_v®
(
num_aùive
);

256 
	}
}

257 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

258 
	gcÜe_b¬r›r_im¶
<
	gT
>::
»£t_sh¬ed
(
kmp_št32
 
num_aùive
,

259 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
) {

260 
	gbd©a
->
	gv®
[0] = 
bd©a
->
v®
[1] = 0LL;

261 
	gbd©a
->
	g¡©us
[0] = 
bd©a
->
¡©us
[1] = 0LL;

263 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

264 
	gcÜe_b¬r›r_im¶
<
	gT
>::
b¬r›r
(
kmp_št32
 
id
,

265 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
,

266 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

267 
kmp_ušt64
 
	gcu¼’t_šdex
 = 
td©a
->
šdex
;

268 
kmp_ušt64
 
	gÃxt_šdex
 = 1 - 
cu¼’t_šdex
;

269 
kmp_ušt64
 
	gcu¼’t_wa™_v®ue
 = 
td©a
->
wa™_v®
[
cu¼’t_šdex
];

270 
kmp_ušt64
 
	gÃxt_wa™_v®ue
 =

271 (
cu¼’t_wa™_v®ue
 ? 0 : 
g‘_wa™_v®
(
td©a
->
num_aùive
));

272 
KD_TRACE
(10, ("core_barrier_impl::barrier(): T#%d current_index:%llu "

274 
__kmp_g‘_gtid
(), 
cu¼’t_šdex
, 
Ãxt_šdex
, 
cu¼’t_wa™_v®ue
,

275 
Ãxt_wa™_v®ue
));

276 
	gv
 = (
cu¼’t_wa™_v®ue
 ? 0x1 : 0x0);

277 (
RCAST
(vŞ©*, &(
bd©a
->
v®
[
cu¼’t_šdex
])))[
id
] = 
v
;

278 
	g__kmp_wa™
<
	gkmp_ušt64
>(&(
	gbd©a
->
	gv®
[
cu¼’t_šdex
]), 
	gcu¼’t_wa™_v®ue
,

279 
	g__kmp_eq
<
	gkmp_ušt64
> 
USE_ITT_BUILD_ARG
(
NULL
));

280 
	gtd©a
->
	gwa™_v®
[
cu¼’t_šdex
] = 
Ãxt_wa™_v®ue
;

281 
	gtd©a
->
	gšdex
 = 
Ãxt_šdex
;

286 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	ccouÁ”_b¬r›r_im¶
 {

287 
	mpublic
:

288 
»£t_´iv©e
(
kmp_št32
 
num_aùive
,

289 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
);

290 
»£t_sh¬ed
(
kmp_št32
 
num_aùive
,

291 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
);

292 
b¬r›r
(
kmp_št32
 
id
, 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
,

293 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
);

296 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

297 
	gcouÁ”_b¬r›r_im¶
<
	gT
>::
	$»£t_´iv©e
(
kmp_št32
 
num_aùive
,

298 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

299 
td©a
->
num_aùive
 =‚um_active;

300 
td©a
->
šdex
 = 0;

301 
td©a
->
wa™_v®
[0] =d©a->wa™_v®[1] = (
kmp_ušt64
)
num_aùive
;

302 
	}
}

303 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

304 
	gcouÁ”_b¬r›r_im¶
<
	gT
>::
»£t_sh¬ed
(
kmp_št32
 
num_aùive
,

305 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
) {

306 
	gbd©a
->
	gv®
[0] = 
bd©a
->
v®
[1] = 0LL;

307 
	gbd©a
->
	g¡©us
[0] = 
bd©a
->
¡©us
[1] = 0LL;

309 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

310 
	gcouÁ”_b¬r›r_im¶
<
	gT
>::
b¬r›r
(
kmp_št32
 
id
,

311 
kmp_h›r_sh¬ed_bd©a_t
<
T
> *
bd©a
,

312 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

313 vŞ©
kmp_št64
 *
	gv®
;

314 
kmp_ušt64
 
	gcu¼’t_šdex
 = 
td©a
->
šdex
;

315 
kmp_ušt64
 
	gÃxt_šdex
 = 1 - 
cu¼’t_šdex
;

316 
kmp_ušt64
 
	gcu¼’t_wa™_v®ue
 = 
td©a
->
wa™_v®
[
cu¼’t_šdex
];

317 
kmp_ušt64
 
	gÃxt_wa™_v®ue
 = 
cu¼’t_wa™_v®ue
 + 
td©a
->
num_aùive
;

319 
KD_TRACE
(10, ("counter_barrier_impl::barrier(): T#%d current_index:%llu "

321 
__kmp_g‘_gtid
(), 
cu¼’t_šdex
, 
Ãxt_šdex
, 
cu¼’t_wa™_v®ue
,

322 
Ãxt_wa™_v®ue
));

323 
	gv®
 = 
RCAST
(vŞ©
kmp_št64
 *, &(
bd©a
->
v®
[
cu¼’t_šdex
]));

324 
KMP_TEST_THEN_INC64
(
v®
);

325 
	g__kmp_wa™
<
	gkmp_ušt64
>(&(
	gbd©a
->
	gv®
[
cu¼’t_šdex
]), 
	gcu¼’t_wa™_v®ue
,

326 
	g__kmp_ge
<
	gkmp_ušt64
> 
USE_ITT_BUILD_ARG
(
NULL
));

327 
	gtd©a
->
	gwa™_v®
[
cu¼’t_šdex
] = 
Ãxt_wa™_v®ue
;

328 
	gtd©a
->
	gšdex
 = 
Ãxt_šdex
;

333 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	skmp_h›r_tİ_un™_t
 {

334 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

335 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

336 
kmp_št32
 
	maùive
;

338 
	mdi¥©ch_´iv©e_šfo_‹m¶©e
<
	mT
> 
	mh›r_´
;

339 
	mkmp_h›r_tİ_un™_t
<
	mT
> *
	mh›r_·»Á
;

340 
	mkmp_h›r_sh¬ed_bd©a_t
<
	mT
> 
	mh›r_b¬r›r
;

342 
kmp_št32
 
g‘_h›r_id
(ècÚ¡ {  
	mh›r_´
.
	mh›r_id
; }

343 
»£t_sh¬ed_b¬r›r
() {

344 
KMP_DEBUG_ASSERT
(
aùive
 > 0);

345 ià(
	maùive
 == 1)

347 
	mh›r_b¬r›r
.
z”o
();

348 ià(
	maùive
 >ğ2 && 
aùive
 <= 8) {

349 
cÜe_b¬r›r_im¶
<
T
>::
»£t_sh¬ed
(
aùive
, &
h›r_b¬r›r
);

351 
	mcouÁ”_b¬r›r_im¶
<
	mT
>::
»£t_sh¬ed
(
aùive
, &
h›r_b¬r›r
);

354 
»£t_´iv©e_b¬r›r
(
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

355 
KMP_DEBUG_ASSERT
(
td©a
);

356 
KMP_DEBUG_ASSERT
(
aùive
 > 0);

357 ià(
	maùive
 == 1)

359 ià(
	maùive
 >ğ2 && 
aùive
 <= 8) {

360 
cÜe_b¬r›r_im¶
<
T
>::
»£t_´iv©e
(
aùive
, 
td©a
);

362 
	mcouÁ”_b¬r›r_im¶
<
	mT
>::
»£t_´iv©e
(
aùive
, 
td©a
);

365 
b¬r›r
(
kmp_št32
 
id
, 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
) {

366 
KMP_DEBUG_ASSERT
(
td©a
);

367 
KMP_DEBUG_ASSERT
(
aùive
 > 0);

368 
KMP_DEBUG_ASSERT
(
id
 >ğ0 && id < 
aùive
);

369 ià(
	maùive
 == 1) {

370 
td©a
->
šdex
 = 1 -data->index;

373 ià(
	maùive
 >ğ2 && 
aùive
 <= 8) {

374 
cÜe_b¬r›r_im¶
<
T
>::
b¬r›r
(
id
, &
h›r_b¬r›r
, 
td©a
);

376 
	mcouÁ”_b¬r›r_im¶
<
	mT
>::
b¬r›r
(
id
, &
h›r_b¬r›r
, 
td©a
);

380 
kmp_št32
 
g‘_Ãxt_¡©us
(
kmp_ušt64
 
šdex
) const {

381  
	mh›r_b¬r›r
.
g‘_Ãxt_¡©us
(
šdex
);

383 
T
 
g‘_Ãxt_lb
(
kmp_ušt64
 
šdex
) const {

384  
	mh›r_b¬r›r
.
g‘_Ãxt_lb
(
šdex
);

386 
T
 
g‘_Ãxt_ub
(
kmp_ušt64
 
šdex
) const {

387  
	mh›r_b¬r›r
.
g‘_Ãxt_ub
(
šdex
);

389 
ST
 
g‘_Ãxt_¡
(
kmp_ušt64
 
šdex
) const {

390  
	mh›r_b¬r›r
.
g‘_Ãxt_¡
(
šdex
);

392 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> vŞ©*
g‘_Ãxt_sh
(
kmp_ušt64
 
šdex
) {

393  
	mh›r_b¬r›r
.
g‘_Ãxt_sh
(
šdex
);

396 
kmp_št32
 
g‘_cu¼_¡©us
(
kmp_ušt64
 
šdex
) const {

397  
	mh›r_b¬r›r
.
g‘_cu¼_¡©us
(
šdex
);

399 
T
 
g‘_cu¼_lb
(
kmp_ušt64
 
šdex
) const {

400  
	mh›r_b¬r›r
.
g‘_cu¼_lb
(
šdex
);

402 
T
 
g‘_cu¼_ub
(
kmp_ušt64
 
šdex
) const {

403  
	mh›r_b¬r›r
.
g‘_cu¼_ub
(
šdex
);

405 
ST
 
g‘_cu¼_¡
(
kmp_ušt64
 
šdex
) const {

406  
	mh›r_b¬r›r
.
g‘_cu¼_¡
(
šdex
);

408 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> vŞ©*
g‘_cu¼_sh
(
kmp_ušt64
 
šdex
) {

409  
	mh›r_b¬r›r
.
g‘_cu¼_sh
(
šdex
);

412 
£t_Ãxt_hªd_th»ad
(
T
 
lb
, T 
ub
, 
ST
 
¡
, 
kmp_št32
 
¡©us
,

413 
kmp_ušt64
 
šdex
) {

414 
	mh›r_b¬r›r
.
£t_Ãxt_hªd_th»ad
(
lb
, 
ub
, 
¡
, 
¡©us
, 
šdex
);

416 
£t_Ãxt
(
T
 
lb
, T 
ub
, 
ST
 
¡
, 
kmp_št32
 
¡©us
, 
kmp_ušt64
 
šdex
) {

417 
	mh›r_b¬r›r
.
£t_Ãxt
(
lb
, 
ub
, 
¡
, 
¡©us
, 
šdex
);

419 
	mdi¥©ch_´iv©e_šfo_‹m¶©e
<
	mT
> *
g‘_my_´
(è{  &
	mh›r_´
; }

420 
	mkmp_h›r_tİ_un™_t
<
	mT
> *
g‘_·»Á
(è{  
	mh›r_·»Á
; }

421 
	mdi¥©ch_´iv©e_šfo_‹m¶©e
<
	mT
> *
g‘_·»Á_´
() {

422  &(
	mh›r_·»Á
->
	mh›r_´
);

425 
kmp_št32
 
is_aùive
(ècÚ¡ {  
	maùive
; }

426 
kmp_št32
 
g‘_num_aùive
(ècÚ¡ {  
	maùive
; }

427 #ifdeà
KMP_DEBUG


428 
´št
() {

429 
KD_TRACE
(

432 
aùive
, &
h›r_´
, h›r_´.
u
.
p
.
lb
, h›r_´.u.p.
ub
, h›r_´.u.p.
¡
,

433 
h›r_´
.
u
.
p
.
tc
));

439 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	skmp_h›r_Ïy”_šfo_t
 {

440 
	mnum_aùive
;

441 
kmp_h›r_Ïy”_e
 
	mty³
;

442 
sched_ty³
 
	msched
;

443 
ty³Çme
 
	mŒa™s_t
<
	mT
>::
sigÃd_t
 
chunk
;

444 
	mËngth
;

446 #ifdeà
KMP_DEBUG


448 
´št
() {

449 cÚ¡ *
	mt
 = 
__kmp_g‘_h›r_¡r
(
ty³
);

450 
KD_TRACE
(

454 
num_aùive
, 
t
, 
sched
, 
chunk
, 
Ëngth
));

472 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	skmp_h›r_t
 {

473 
	mpublic
:

474 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

475 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

477 
	m´iv©e
:

478 
Ãxt_»cur£
(
id’t_t
 *
loc
, 
gtid
, 
kmp_h›r_tİ_un™_t
<
T
> *
cu¼’t
,

479 
kmp_št32
 *
p_Ï¡
, 
T
 *
p_lb
, T *
p_ub
, 
ST
 *
p_¡
,

480 
kmp_št32
 
´evious_id
, 
h›r_Ëv–
) {

481 
	m¡©us
;

482 
kmp_šfo_t
 *
	mth
 = 
__kmp_th»ads
[
gtid
];

483 autØ
	m·»Á
 = 
cu¼’t
->
g‘_·»Á
();

484 
boŞ
 
	mÏ¡_Ïy”
 = (
h›r_Ëv–
 =ğ
g‘_num_Ïy”s
() - 1);

485 
KMP_DEBUG_ASSERT
(
th
);

486 
kmp_h›r_´iv©e_bd©a_t
 *
	mtd©a
 = &(
th
->th.
th_h›r_b¬_d©a
[
h›r_Ëv–
]);

487 
KMP_DEBUG_ASSERT
(
cu¼’t
);

488 
KMP_DEBUG_ASSERT
(
h›r_Ëv–
 >= 0);

489 
KMP_DEBUG_ASSERT
(
h›r_Ëv–
 < 
g‘_num_Ïy”s
());

490 
KMP_DEBUG_ASSERT
(
td©a
);

491 
KMP_DEBUG_ASSERT
(
·»Á
 || 
Ï¡_Ïy”
);

493 
KD_TRACE
(

494 1, ("kmp_h›r_t.Ãxt_»cur£(): T#%d (%dèÿÎed\n", 
gtid
, 
h›r_Ëv–
));

496 
T
 
	mh›r_id
 = (T)
cu¼’t
->
g‘_h›r_id
();

498 ià(
	m´evious_id
 == 0) {

499 
KD_TRACE
(1, ("kmp_hier_t.next_recurse(): T#%d (%d) is master of unit\n",

500 
gtid
, 
h›r_Ëv–
));

501 
kmp_št32
 
	mcÚšs_Ï¡
;

502 
T
 
	mmy_lb
, 
	mmy_ub
;

503 
ST
 
	mmy_¡
;

504 
T
 
	mÅroc
;

505 
	mdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	mT
> vŞ©*
	mmy_sh
;

506 
	mdi¥©ch_´iv©e_šfo_‹m¶©e
<
	mT
> *
	mmy_´
;

507 ià(
	mÏ¡_Ïy”
) {

510 
KD_TRACE
(10,

512 
gtid
, 
h›r_Ëv–
));

513 
	mmy_sh
 = 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> volatile *>(

514 
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

515 
	mÅroc
 = (
T
)
g‘_tİ_Ëv–_Åroc
();

519 
KD_TRACE
(10, ("kmp_hier_t.next_recurse(): T#%d (%d) using hier sh\n",

520 
gtid
, 
h›r_Ëv–
));

521 
	mmy_sh
 =

522 
·»Á
->
g‘_cu¼_sh
(
th
->th.
th_h›r_b¬_d©a
[
h›r_Ëv–
 + 1].
šdex
);

523 
	mÅroc
 = (
T
)
·»Á
->
g‘_num_aùive
();

525 
	mmy_´
 = 
cu¼’t
->
g‘_my_´
();

526 
KMP_DEBUG_ASSERT
(
my_sh
);

527 
KMP_DEBUG_ASSERT
(
my_´
);

528 
sched_ty³
 
	mscheduË
 = 
g‘_sched
(
h›r_Ëv–
);

529 
ST
 
	mchunk
 = (ST)
g‘_chunk
(
h›r_Ëv–
);

530 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(
gtid
, 
	mmy_´
, 
	mmy_sh
,

531 &
	mcÚšs_Ï¡
, &
	mmy_lb
, &
	mmy_ub
,

532 &
	mmy_¡
, 
	mÅroc
, 
	mh›r_id
);

533 
KD_TRACE
(

536 
gtid
, 
h›r_Ëv–
, 
¡©us
));

539 ià(
	m¡©us
 =ğ0 && !
Ï¡_Ïy”
) {

540 
¡©us
 = 
Ãxt_»cur£
(
loc
, 
gtid
, 
·»Á
, &
cÚšs_Ï¡
, &
my_lb
, &
my_ub
,

541 &
my_¡
, 
h›r_id
, 
h›r_Ëv–
 + 1);

542 
KD_TRACE
(

545 
gtid
, 
h›r_Ëv–
, 
¡©us
));

546 ià(
	m¡©us
 == 1) {

547 
kmp_h›r_´iv©e_bd©a_t
 *
uµ”_td©a
 =

548 &(
th
->th.
th_h›r_b¬_d©a
[
h›r_Ëv–
 + 1]);

549 
	mmy_sh
 = 
·»Á
->
g‘_cu¼_sh
(
uµ”_td©a
->
šdex
);

550 
KD_TRACE
(10, ("kmp_hier_t.next_recurse(): T#%d (%d)‡bouto init\n",

551 
gtid
, 
h›r_Ëv–
));

552 
__kmp_di¥©ch_š™_®gÜ™hm
(
loc
, 
gtid
, 
my_´
, 
scheduË
,

553 
·»Á
->
g‘_cu¼_lb
(
uµ”_td©a
->
šdex
),

554 
·»Á
->
g‘_cu¼_ub
(
uµ”_td©a
->
šdex
),

555 
·»Á
->
g‘_cu¼_¡
(
uµ”_td©a
->
šdex
),

556 #ià
USE_ITT_BUILD


557 
NULL
,

559 
chunk
, 
Åroc
, 
h›r_id
);

560 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(

561 
gtid
, 
	mmy_´
, 
	mmy_sh
, &
	mcÚšs_Ï¡
, &
	mmy_lb
, &
	mmy_ub
, &
	mmy_¡
, 
	mÅroc
,

562 
	mh›r_id
);

563 ià(!
	m¡©us
) {

564 
KD_TRACE
(10, ("kmp_hier_t.next_recurse(): T#%d (%d) status‚ot 1 "

566 
gtid
, 
h›r_Ëv–
));

567 
	m¡©us
 = 2;

571 
	mcu¼’t
->
£t_Ãxt
(
my_lb
, 
my_ub
, 
my_¡
, 
¡©us
, 
td©a
->
šdex
);

576 ià(
	mcÚšs_Ï¡
) {

580 ià(
	mÏ¡_Ïy”
 || 
	m·»Á
->
	mh›r_´
.
	mæags
.
	mcÚšs_Ï¡
) {

581 
KD_TRACE
(10, ("kmp_hier_t.next_recurse(): T#%d (%d) Settinghis…r "

583 
gtid
, 
h›r_Ëv–
));

584 
	mcu¼’t
->
	mh›r_´
.
	mæags
.
	mcÚšs_Ï¡
 = 
cÚšs_Ï¡
;

586 ià(!
	mcu¼’t
->
	mh›r_´
.
	mæags
.
	mcÚšs_Ï¡
)

587 
	mcÚšs_Ï¡
 = 
FALSE
;

589 ià(
	mp_Ï¡
)

590 *
	mp_Ï¡
 = 
cÚšs_Ï¡
;

592 ià(
	mh›r_Ëv–
 > 0 || !
	m__kmp_di¥©ch_hªd_th»adšg
) {

593 
KD_TRACE
(10,

595 
gtid
, 
h›r_Ëv–
));

596 
	mcu¼’t
->
b¬r›r
(
´evious_id
, 
td©a
);

597 
KD_TRACE
(10,

599 
gtid
, 
h›r_Ëv–
, 
cu¼’t
->
g‘_cu¼_¡©us
(
td©a
->
šdex
)));

601 
KMP_DEBUG_ASSERT
(
´evious_id
 == 0);

602  
	m¡©us
;

604  
	mcu¼’t
->
g‘_cu¼_¡©us
(
td©a
->
šdex
);

607 
	mpublic
:

608 
tİ_Ëv–_Åroc
;

609 
	mnum_Ïy”s
;

610 
boŞ
 
	mv®id
;

611 
	mty³_size
;

612 
	mkmp_h›r_Ïy”_šfo_t
<
	mT
> *
	mšfo
;

613 
	mkmp_h›r_tİ_un™_t
<
	mT
> **
	mÏy”s
;

615 
d—Îoÿ‹
() {

616 
	mi
 = 0; i < 
	mnum_Ïy”s
; ++i)

617 ià(
	mÏy”s
[
i
] !ğ
NULL
) {

618 
__kmp_ä“
(
Ïy”s
[
i
]);

620 ià(
	mÏy”s
 !ğ
NULL
) {

621 
__kmp_ä“
(
Ïy”s
);

622 
	mÏy”s
 = 
NULL
;

624 ià(
	mšfo
 !ğ
NULL
) {

625 
__kmp_ä“
(
šfo
);

626 
	mšfo
 = 
NULL
;

628 
	mnum_Ïy”s
 = 0;

629 
	mv®id
 = 
çl£
;

632 
boŞ
 
Ãed_to_»®loÿ‹
(
n
, cÚ¡ 
kmp_h›r_Ïy”_e
 *
Ãw_Ïy”s
,

633 cÚ¡ 
sched_ty³
 *
Ãw_scheds
,

634 cÚ¡ 
ST
 *
Ãw_chunks
) const {

635 ià(!
	mv®id
 || 
	mÏy”s
 =ğ
NULL
 || 
šfo
 == NULL ||

636 
Œa™s_t
<
T
>::
ty³_size
 !ğty³_siz|| 
n
 !ğ
num_Ïy”s
)

637  
Œue
;

638 
	mi
 = 0; i < 
	mn
; ++i) {

639 ià(
	mšfo
[
i
].
	mty³
 !ğ
Ãw_Ïy”s
[i])

640  
Œue
;

641 ià(
	mšfo
[
i
].
	msched
 !ğ
Ãw_scheds
[i])

642  
Œue
;

643 ià(
	mšfo
[
i
].
	mchunk
 !ğ
Ãw_chunks
[i])

644  
Œue
;

646  
	mçl£
;

653 
®loÿ‹_h›r
(
n
, cÚ¡ 
kmp_h›r_Ïy”_e
 *
Ãw_Ïy”s
,

654 cÚ¡ 
sched_ty³
 *
Ãw_scheds
, cÚ¡ 
ST
 *
Ãw_chunks
) {

655 
	mtİ_Ëv–_Åroc
 = 0;

656 ià(!
Ãed_to_»®loÿ‹
(
n
, 
Ãw_Ïy”s
, 
Ãw_scheds
, 
Ãw_chunks
)) {

657 
KD_TRACE
(

660 
	mi
 = 0; i < 
	mn
; ++i) {

661 
	mšfo
[
i
].
	mnum_aùive
 = 0;

662 
	mj
 = 0; j < 
g‘_Ëngth
(
i
); ++j)

663 
	mÏy”s
[
i
][
j
].
	maùive
 = 0;

667 
KD_TRACE
(10, ("kmp_hier_t<T>::allocate_hier: T#0 full‡lloc\n"));

668 
d—Îoÿ‹
();

669 
	mty³_size
 = 
Œa™s_t
<
T
>::
ty³_size
;

670 
	mnum_Ïy”s
 = 
n
;

671 
	mšfo
 = (
kmp_h›r_Ïy”_šfo_t
<
T
> *)
__kmp_®loÿ‹
(

672 (
kmp_h›r_Ïy”_šfo_t
<
T
>è* 
n
);

673 
	mÏy”s
 = (
kmp_h›r_tİ_un™_t
<
T
> **)
__kmp_®loÿ‹
(

674 (
kmp_h›r_tİ_un™_t
<
T
> *è* 
n
);

675 
	mi
 = 0; i < 
	mn
; ++i) {

676 
	mmax
 = 0;

677 
kmp_h›r_Ïy”_e
 
	mÏy”
 = 
Ãw_Ïy”s
[
i
];

678 
	mšfo
[
i
].
	mnum_aùive
 = 0;

679 
	mšfo
[
i
].
	mty³
 = 
Ïy”
;

680 
	mšfo
[
i
].
	msched
 = 
Ãw_scheds
[i];

681 
	mšfo
[
i
].
	mchunk
 = 
Ãw_chunks
[i];

682 
	mmax
 = 
__kmp_h›r_max_un™s
[
Ïy”
 + 1];

683 ià(
	mmax
 == 0) {

684 
v®id
 = 
çl£
;

685 
KMP_WARNING
(
H›rSchedInv®id
, 
__kmp_g‘_h›r_¡r
(
Ïy”
));

686 
d—Îoÿ‹
();

689 
	mšfo
[
i
].
	mËngth
 = 
max
;

690 
	mÏy”s
[
i
] = (
kmp_h›r_tİ_un™_t
<
T
> *)
__kmp_®loÿ‹
(

691 (
kmp_h›r_tİ_un™_t
<
T
>è* 
max
);

692 
	mj
 = 0; j < 
	mmax
; ++j) {

693 
	mÏy”s
[
i
][
j
].
	maùive
 = 0;

694 
	mÏy”s
[
i
][
j
].
	mh›r_´
.
	mæags
.
	mu£_h›r
 = 
TRUE
;

697 
	mv®id
 = 
Œue
;

710 
Ãxt
(
id’t_t
 *
loc
, 
gtid
, 
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *
´
,

711 
kmp_št32
 *
p_Ï¡
, 
T
 *
p_lb
, T *
p_ub
, 
ST
 *
p_¡
) {

712 
	m¡©us
;

713 
kmp_št32
 
	mcÚšs_Ï¡
 = 0;

714 
kmp_šfo_t
 *
	mth
 = 
__kmp_th»ads
[
gtid
];

715 
kmp_h›r_´iv©e_bd©a_t
 *
	mtd©a
 = &(
th
->th.
th_h›r_b¬_d©a
[0]);

716 autØ
	m·»Á
 = 
´
->
g‘_·»Á
();

717 
KMP_DEBUG_ASSERT
(
·»Á
);

718 
KMP_DEBUG_ASSERT
(
th
);

719 
KMP_DEBUG_ASSERT
(
td©a
);

720 
KMP_DEBUG_ASSERT
(
·»Á
);

721 
T
 
	mÅroc
 = (T)
·»Á
->
g‘_num_aùive
();

722 
T
 
	mun™_id
 = (T)
´
->
g‘_h›r_id
();

723 
KD_TRACE
(

726 
gtid
, 
Åroc
, 
un™_id
));

735 ià(
	m__kmp_di¥©ch_hªd_th»adšg
) {

736 
KD_TRACE
(10,

738 
gtid
));

739 ià(
	mun™_id
 == 0) {

743 autØ
sh
 = &(
·»Á
->
h›r_b¬r›r
.sh[0]);

744 
KMP_DEBUG_ASSERT
(
sh
);

745 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(

746 
gtid
, 
	m´
, 
	msh
, &
	mcÚšs_Ï¡
, 
	mp_lb
, 
	mp_ub
, 
	mp_¡
, 
	mÅroc
, 
	mun™_id
);

747 ià(!
	m¡©us
) {

748 
boŞ
 
	mdÚe
 = 
çl£
;

749 !
	mdÚe
) {

750 
	mdÚe
 = 
Œue
;

751 
	m¡©us
 = 
Ãxt_»cur£
(
loc
, 
gtid
, 
·»Á
, &
cÚšs_Ï¡
, 
p_lb
, 
p_ub
,

752 
p_¡
, 
un™_id
, 0);

753 ià(
	m¡©us
 == 1) {

754 
__kmp_di¥©ch_š™_®gÜ™hm
(
loc
, 
gtid
, 
´
,…r->
scheduË
,

755 
·»Á
->
g‘_Ãxt_lb
(
td©a
->
šdex
),

756 
·»Á
->
g‘_Ãxt_ub
(
td©a
->
šdex
),

757 
·»Á
->
g‘_Ãxt_¡
(
td©a
->
šdex
),

758 #ià
USE_ITT_BUILD


759 
NULL
,

761 
´
->
u
.
p
.
·rm1
, 
Åroc
, 
un™_id
);

762 
	msh
->
	mu
.
	ms
.
	m™”©iÚ
 = 0;

763 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(

764 
gtid
, 
	m´
, 
	msh
, &
	mcÚšs_Ï¡
, 
	mp_lb
, 
	mp_ub
, 
	mp_¡
, 
	mÅroc
,

765 
	mun™_id
);

766 ià(!
	m¡©us
) {

767 
KD_TRACE
(10,

771 
gtid
));

772 
	mdÚe
 = 
çl£
;

774 } ià(
	m¡©us
 == 2) {

775 
KD_TRACE
(10, ("kmp_hier_t.next(): T#%d THREAD LEVEL status == 2 "

777 
gtid
));

778 
	mdÚe
 = 
çl£
;

782 
	m·»Á
->
£t_Ãxt_hªd_th»ad
(*
p_lb
, *
p_ub
, *
p_¡
, 
¡©us
, 
td©a
->
šdex
);

784 
	m·»Á
->
b¬r›r
(
´
->
g‘_h›r_id
(), 
td©a
);

785 ià(
	mun™_id
 != 0) {

786 *
p_lb
 = 
·»Á
->
g‘_cu¼_lb
(
td©a
->
šdex
);

787 *
	mp_ub
 = 
·»Á
->
g‘_cu¼_ub
(
td©a
->
šdex
);

788 *
	mp_¡
 = 
·»Á
->
g‘_cu¼_¡
(
td©a
->
šdex
);

789 
	m¡©us
 = 
·»Á
->
g‘_cu¼_¡©us
(
td©a
->
šdex
);

794 autØ
	msh
 = 
·»Á
->
g‘_cu¼_sh
(
td©a
->
šdex
);

795 
KMP_DEBUG_ASSERT
(
sh
);

796 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(

797 
gtid
, 
	m´
, 
	msh
, &
	mcÚšs_Ï¡
, 
	mp_lb
, 
	mp_ub
, 
	mp_¡
, 
	mÅroc
, 
	mun™_id
);

798 
KD_TRACE
(10,

801 
gtid
, 
¡©us
, 
cÚšs_Ï¡
, *
p_lb
, *
p_ub
, *
p_¡
));

802 ià(!
	m¡©us
) {

803 
boŞ
 
	mdÚe
 = 
çl£
;

804 !
	mdÚe
) {

805 
	mdÚe
 = 
Œue
;

806 
	m¡©us
 = 
Ãxt_»cur£
(
loc
, 
gtid
, 
·»Á
, &
cÚšs_Ï¡
, 
p_lb
, 
p_ub
,

807 
p_¡
, 
un™_id
, 0);

808 ià(
	m¡©us
 == 1) {

809 
sh
 = 
·»Á
->
g‘_cu¼_sh
(
td©a
->
šdex
);

810 
__kmp_di¥©ch_š™_®gÜ™hm
(
loc
, 
gtid
, 
´
,…r->
scheduË
,

811 
·»Á
->
g‘_cu¼_lb
(
td©a
->
šdex
),

812 
·»Á
->
g‘_cu¼_ub
(
td©a
->
šdex
),

813 
·»Á
->
g‘_cu¼_¡
(
td©a
->
šdex
),

814 #ià
USE_ITT_BUILD


815 
NULL
,

817 
´
->
u
.
p
.
·rm1
, 
Åroc
, 
un™_id
);

818 
	m¡©us
 = 
__kmp_di¥©ch_Ãxt_®gÜ™hm
<
T
>(

819 
gtid
, 
	m´
, 
	msh
, &
	mcÚšs_Ï¡
, 
	mp_lb
, 
	mp_ub
, 
	mp_¡
, 
	mÅroc
, 
	mun™_id
);

820 ià(!
	m¡©us
) {

821 
KD_TRACE
(10, ("kmp_hier_t.next(): T#%d THREAD LEVEL status == 0 "

824 
gtid
));

825 
	mdÚe
 = 
çl£
;

827 } ià(
	m¡©us
 == 2) {

828 
KD_TRACE
(10, ("kmp_hier_t.next(): T#%d THREAD LEVEL status == 2 "

830 
gtid
));

831 
	mdÚe
 = 
çl£
;

836 ià(
	mcÚšs_Ï¡
 && !
	m·»Á
->
	mh›r_´
.
	mæags
.contains_last) {

837 
KD_TRACE
(10, ("kmp_hier_t.next(): T#%d THREAD LEVEL„esetting "

839 
gtid
));

840 
	mcÚšs_Ï¡
 = 
FALSE
;

842 ià(
	mp_Ï¡
)

843 *
	mp_Ï¡
 = 
cÚšs_Ï¡
;

844 
KD_TRACE
(10, ("kmp_h›r_t.Ãxt(): T#%d THREAD LEVELƒx™ stu %d\n", 
gtid
,

845 
¡©us
));

846  
	m¡©us
;

850 
kmp_h›r_Ïy”_e
 
g‘_ty³
(
Ëv–
) const {

851 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

852 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

853  
	mšfo
[
Ëv–
].
	mty³
;

856 
sched_ty³
 
g‘_sched
(
Ëv–
) const {

857 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

858 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

859  
	mšfo
[
Ëv–
].
	msched
;

862 
ST
 
g‘_chunk
(
Ëv–
) const {

863 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

864 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

865  
	mšfo
[
Ëv–
].
	mchunk
;

868 
g‘_num_aùive
(
Ëv–
) const {

869 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

870 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

871  
	mšfo
[
Ëv–
].
	mnum_aùive
;

874 
g‘_Ëngth
(
Ëv–
) const {

875 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

876 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

877  
	mšfo
[
Ëv–
].
	mËngth
;

880 
	mkmp_h›r_tİ_un™_t
<
	mT
> *
g‘_un™
(
Ëv–
, 
šdex
) {

881 
KMP_DEBUG_ASSERT
(
Ëv–
 >= 0);

882 
KMP_DEBUG_ASSERT
(
Ëv–
 < 
num_Ïy”s
);

883 
KMP_DEBUG_ASSERT
(
šdex
 >= 0);

884 
KMP_DEBUG_ASSERT
(
šdex
 < 
g‘_Ëngth
(
Ëv–
));

885  &(
	mÏy”s
[
Ëv–
][
šdex
]);

888 
g‘_num_Ïy”s
(ècÚ¡ {  
	mnum_Ïy”s
; }

892 
g‘_tİ_Ëv–_Åroc
(ècÚ¡ {  
	mtİ_Ëv–_Åroc
; }

894 
boŞ
 
is_v®id
(ècÚ¡ {  
	mv®id
; }

895 #ifdeà
KMP_DEBUG


897 
´št
() {

898 
KD_TRACE
(10, ("kmp_hier_t:\n"));

899 
	mi
 = 
num_Ïy”s
 - 1; i >= 0; --i) {

900 
KD_TRACE
(10, ("Info[%d] = ", 
i
));

901 
	mšfo
[
i
].
´št
();

903 
	mi
 = 
num_Ïy”s
 - 1; i >= 0; --i) {

904 
KD_TRACE
(10, ("Lay”[%d] =\n", 
i
));

905 
	mj
 = 0; j < 
	mšfo
[
i
].
	mËngth
; ++j) {

906 
	mÏy”s
[
i
][
j
].
´št
();

913 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

914 
__kmp_di¥©ch_š™_h›¿rchy
(
id’t_t
 *
loc
, 
n
,

915 
kmp_h›r_Ïy”_e
 *
Ãw_Ïy”s
,

916 
sched_ty³
 *
Ãw_scheds
,

917 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
Ãw_chunks
,

918 
T
 
lb
, T 
ub
,

919 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
¡
) {

920 
tid
, 
	ggtid
, 
	gnum_hw_th»ads
, 
	gnum_th»ads_³r_Ïy”1
, 
	gaùive
;

921 
	gmy_bufãr_šdex
;

922 
kmp_šfo_t
 *
	gth
;

923 
kmp_‹am_t
 *
	g‹am
;

924 
	gdi¥©ch_´iv©e_šfo_‹m¶©e
<
	gT
> *
	g´
;

925 
	gdi¥©ch_sh¬ed_šfo_‹m¶©e
<
	gT
> vŞ©*
	gsh
;

926 
	ggtid
 = 
__kmp_’Œy_gtid
();

927 
	gtid
 = 
__kmp_tid_äom_gtid
(
gtid
);

928 #ifdeà
KMP_DEBUG


929 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d called: %d†ayer(s)\n",

930 
gtid
, 
n
));

931 
	gi
 = 0; i < 
	gn
; ++i) {

932 cÚ¡ *
	gÏy”
 = 
__kmp_g‘_h›r_¡r
(
Ãw_Ïy”s
[
i
]);

933 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d:‚ew_layers[%d] = %s, "

935 
gtid
, 
i
, 
Ïy”
, i, ()
Ãw_scheds
[i], i, 
Ãw_chunks
[i]));

938 
KMP_DEBUG_ASSERT
(
n
 > 0);

939 
KMP_DEBUG_ASSERT
(
Ãw_Ïy”s
);

940 
KMP_DEBUG_ASSERT
(
Ãw_scheds
);

941 
KMP_DEBUG_ASSERT
(
Ãw_chunks
);

942 ià(!
TCR_4
(
__kmp_š™_·¿Î–
))

943 
__kmp_·¿Î–_š™Ÿlize
();

944 
__kmp_»sume_if_soá_·u£d
();

946 
	gth
 = 
__kmp_th»ads
[
gtid
];

947 
	g‹am
 = 
th
->th.
th_‹am
;

948 
	gaùive
 = !
‹am
->
t
.
t_£rŸlized
;

949 
	gth
->th.
	gth_id’t
 = 
loc
;

950 
	gnum_hw_th»ads
 = 
__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_THREAD
 + 1];

951 
KMP_DEBUG_ASSERT
(
th
->th.
th_di¥©ch
 ==

952 &
th
->th.
th_‹am
->
t
.
t_di¥©ch
[th->th.
th_šfo
.
ds
.
ds_tid
]);

953 
	gmy_bufãr_šdex
 = 
th
->th.
th_di¥©ch
->
th_di¥_šdex
;

954 
	g´
 = 
»š‹½»t_ÿ¡
<
di¥©ch_´iv©e_šfo_‹m¶©e
<
T
> *>(

955 &
th
->th.
th_di¥©ch


956 ->
th_di¥_bufãr
[
my_bufãr_šdex
 % 
__kmp_di¥©ch_num_bufãrs
]);

957 
	gsh
 = 
»š‹½»t_ÿ¡
<
di¥©ch_sh¬ed_šfo_‹m¶©e
<
T
> volatile *>(

958 &
‹am
->
t
.
t_di¥_bufãr
[
my_bufãr_šdex
 % 
__kmp_di¥©ch_num_bufãrs
]);

959 ià(!
	gaùive
) {

960 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d‚ot‡ctive…arallel. "

962 
gtid
));

963 
KMP_DEBUG_ASSERT
(
´
);

964 
	g´
->
	gæags
.
	gu£_h›r
 = 
FALSE
;

965 
	g´
->
	gæags
.
	gcÚšs_Ï¡
 = 
FALSE
;

968 
KMP_DEBUG_ASSERT
(
´
);

969 
KMP_DEBUG_ASSERT
(
sh
);

970 
	g´
->
	gæags
.
	gu£_h›r
 = 
TRUE
;

971 
	g´
->
	gu
.
	gp
.
	gtc
 = 0;

973 ià(
__kmp_tid_äom_gtid
(
gtid
) == 0) {

974 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d…r:%p sh:%p‡llocating "

976 
gtid
, 
´
, 
sh
));

977 ià(
	gsh
->
	gh›r
 =ğ
NULL
) {

978 
sh
->
h›r
 = (
kmp_h›r_t
<
T
> *)
__kmp_®loÿ‹
((kmp_hier_t<T>));

980 
	gsh
->
	gh›r
->
®loÿ‹_h›r
(
n
, 
Ãw_Ïy”s
, 
Ãw_scheds
, 
Ãw_chunks
);

981 
	gsh
->
	gu
.
	gs
.
	g™”©iÚ
 = 0;

983 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

985 
	gkmp_h›r_t
<
	gT
> *
	gh›r
 = 
sh
->
h›r
;

986 ià(!
	gsh
->
	gh›r
->
is_v®id
()) {

987 
	g´
->
	gæags
.
	gu£_h›r
 = 
FALSE
;

992 ià(
	gth
->th.
	gth_h›r_b¬_d©a
 =ğ
NULL
) {

993 
th
->th.
th_h›r_b¬_d©a
 = (
kmp_h›r_´iv©e_bd©a_t
 *)
__kmp_®loÿ‹
(

994 (
kmp_h›r_´iv©e_bd©a_t
è* 
kmp_h›r_Ïy”_e
::
LAYER_LAST
);

999 
	gi
 = 0; i < 
	gn
; ++i) {

1000 
	gšdex
 = 
__kmp_di¥©ch_g‘_šdex
(
tid
, 
h›r
->
g‘_ty³
(
i
));

1001 
	gkmp_h›r_tİ_un™_t
<
	gT
> *
	gmy_un™
 = 
h›r
->
g‘_un™
(
i
, 
šdex
);

1003 ià(
	gi
 == 0)

1004 
´
->
h›r_·»Á
 = 
my_un™
;

1006 ià(
	gmy_un™
->
is_aùive
()) {

1007 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d my_unit (%p) "

1009 
gtid
, 
my_un™
, my_un™->
aùive
));

1010 
KMP_TEST_THEN_INC32
(&(
my_un™
->
aùive
));

1014 ià(
KMP_COMPARE_AND_STORE_ACQ32
(&(
my_un™
->
aùive
), 0, 1)) {

1016 ià(
	gi
 < 
	gn
 - 1) {

1018 
	gmy_un™
->
g‘_my_´
()->
	gh›r_id
 =

1019 
šdex
 % 
__kmp_di¥©ch_g‘_t1_³r_t2
(
h›r
->
g‘_ty³
(
i
),

1020 
h›r
->
g‘_ty³
(
i
 + 1));

1021 
	g·»Á_šdex
 = 
__kmp_di¥©ch_g‘_šdex
(
tid
, 
h›r
->
g‘_ty³
(
i
 + 1));

1022 
	gmy_un™
->
	gh›r_·»Á
 = 
h›r
->
g‘_un™
(
i
 + 1, 
·»Á_šdex
);

1025 
	gmy_un™
->
g‘_my_´
()->
	gh›r_id
 =

1026 
šdex
 % 
__kmp_di¥©ch_g‘_t1_³r_t2
(
h›r
->
g‘_ty³
(
i
),

1027 
kmp_h›r_Ïy”_e
::
LAYER_LOOP
);

1028 
KMP_TEST_THEN_INC32
(&(
h›r
->
tİ_Ëv–_Åroc
));

1029 
	gmy_un™
->
	gh›r_·»Á
 = 
nuÎ±r
;

1033 
	gmy_un™
->
g‘_my_´
()->
	gu
.
	gp
.
	gtc
 = 0;

1035 
KMP_TEST_THEN_INC32
(&(
h›r
->
šfo
[
i
].
num_aùive
));

1036 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d my_unit (%p) "

1038 
gtid
, 
my_un™
));

1040 
KMP_TEST_THEN_INC32
(&(
my_un™
->
aùive
));

1045 
	gnum_th»ads_³r_Ïy”1
 = 
__kmp_di¥©ch_g‘_t1_³r_t2
(

1046 
kmp_h›r_Ïy”_e
::
LAYER_THREAD
, 
h›r
->
g‘_ty³
(0));

1047 
	g´
->
	gh›r_id
 = 
tid
 % 
num_th»ads_³r_Ïy”1
;

1050 ià(
	gtid
 >ğ
num_hw_th»ads
)

1051 
´
->
h›r_id
 +ğ((
tid
 / 
num_hw_th»ads
è* 
num_th»ads_³r_Ïy”1
);

1052 
KD_TRACE
(

1054 
gtid
, 
´
->
h›r_id
));

1056 
	g´
->
	gæags
.
	gcÚšs_Ï¡
 = 
FALSE
;

1057 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

1062 
	g´ev_id
 = 
´
->
g‘_h›r_id
();

1063 
	gi
 = 0; i < 
	gn
; ++i) {

1064 ià(
	g´ev_id
 != 0)

1066 
	gšdex
 = 
__kmp_di¥©ch_g‘_šdex
(
tid
, 
h›r
->
g‘_ty³
(
i
));

1067 
	gkmp_h›r_tİ_un™_t
<
	gT
> *
	gmy_un™
 = 
h›r
->
g‘_un™
(
i
, 
šdex
);

1069 
KD_TRACE
(10, ("__kmp_dispatch_init_hierarchy: T#%d (%d)…rev_id is 0\n",

1070 
gtid
, 
i
));

1071 
	gmy_un™
->
»£t_sh¬ed_b¬r›r
();

1072 
	gmy_un™
->
	gh›r_´
.
	gæags
.
	gcÚšs_Ï¡
 = 
FALSE
;

1076 ià(
	gi
 =ğ
n
 - 1) {

1077 
__kmp_di¥©ch_š™_®gÜ™hm
<
T
>(

1078 
loc
, 
gtid
, 
my_un™
->
g‘_my_´
(), 
h›r
->
g‘_sched
(
i
), 
lb
, 
ub
, 
¡
,

1079 #ià
USE_ITT_BUILD


1080 
NULL
,

1082 
h›r
->
g‘_chunk
(
i
), h›r->
g‘_num_aùive
(i), 
my_un™
->
g‘_h›r_id
());

1084 
	g´ev_id
 = 
my_un™
->
g‘_h›r_id
();

1087 
	gkmp_h›r_tİ_un™_t
<
	gT
> *
	gun™
 = 
´
->
h›r_·»Á
;

1088 
	gi
 = 0; i < 
	gn
 && 
	gun™
; ++i, un™ = 
un™
->
g‘_·»Á
()) {

1089 
kmp_h›r_´iv©e_bd©a_t
 *
td©a
 = &(
th
->th.
th_h›r_b¬_d©a
[
i
]);

1090 
	gun™
->
»£t_´iv©e_b¬r›r
(
td©a
);

1092 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

1094 #ifdeà
KMP_DEBUG


1095 ià(
__kmp_tid_äom_gtid
(
gtid
) == 0) {

1096 
i
 = 0; 
	gi
 < 
	gn
; ++i) {

1097 
KD_TRACE
(10,

1099 
gtid
, 
i
, 
h›r
->
g‘_num_aùive
(i)));

1101 
	gh›r
->
´št
();

1103 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

	@kmp_environment.cpp

51 
	~"kmp_’vœÚm’t.h
"

53 
	~"kmp.h
"

54 
	~"kmp_i18n.h
"

55 
	~"kmp_os.h
"

56 
	~"kmp_¡r.h
"

58 #ià
KMP_OS_UNIX


59 
	~<¡dlib.h
>

60 
	~<¡ršg.h
>

61 #ià
KMP_OS_DARWIN


62 
	~<üt_ex‹ºs.h
>

63 
	#’vœÚ
 (*
	`_NSG‘EnvœÚ
())

	)

65 **
’vœÚ
;

67 #–ià
KMP_OS_WINDOWS


68 
	~<wšdows.h
>

71 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

76 
šlše
 *
	$®loÿ‹
(
size_t
 
size
) {

77 *
±r
 = 
	`KMP_INTERNAL_MALLOC
(
size
);

78 ià(
±r
 =ğ
NULL
) {

79 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

81  
±r
;

82 
	}
}

84 *
	$__kmp_’v_g‘
(cÚ¡ *
Çme
) {

86 *
»suÉ
 = 
NULL
;

88 #ià
KMP_OS_UNIX


89 cÚ¡ *
v®ue
 = 
	`g‘’v
(
Çme
);

90 ià(
v®ue
 !ğ
NULL
) {

91 
size_t
 
Ën
 = 
	`KMP_STRLEN
(
v®ue
) + 1;

92 
»suÉ
 = (*)
	`KMP_INTERNAL_MALLOC
(
Ën
);

93 ià(
»suÉ
 =ğ
NULL
) {

94 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

96 
	`KMP_STRNCPY_S
(
»suÉ
, 
Ën
, 
v®ue
,†en);

98 #–ià
KMP_OS_WINDOWS


104 
DWORD
 
rc
;

105 
rc
 = 
	`G‘EnvœÚm’tV¬ŸbË
(
Çme
, 
NULL
, 0);

106 ià(!
rc
) {

107 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

108 ià(
”rÜ
 !ğ
ERROR_ENVVAR_NOT_FOUND
) {

109 
	`__kmp_çl
(
	`KMP_MSG
(
CªtG‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

113 
DWORD
 
Ën
 = 
rc
;

114 
»suÉ
 = (*)
	`KMP_INTERNAL_MALLOC
(
Ën
);

115 ià(
»suÉ
 =ğ
NULL
) {

116 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

118 
rc
 = 
	`G‘EnvœÚm’tV¬ŸbË
(
Çme
, 
»suÉ
, 
Ën
);

119 ià(!
rc
) {

122 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

123 ià(
”rÜ
 !ğ
ERROR_SUCCESS
) {

126 
	`__kmp_çl
(
	`KMP_MSG
(
CªtG‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
),

127 
__kmp_msg_nuÎ
);

128 
	`KMP_INTERNAL_FREE
((*)
»suÉ
);

129 
»suÉ
 = 
NULL
;

134 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

137  
»suÉ
;

139 
	}
}

143 
	$__kmp_’v_ä“
(cÚ¡ **
v®ue
) {

145 
	`KMP_DEBUG_ASSERT
(
v®ue
 !ğ
NULL
);

146 
	`KMP_INTERNAL_FREE
(
	`CCAST
(*, *
v®ue
));

147 *
v®ue
 = 
NULL
;

149 
	}
}

151 
	$__kmp_’v_exi¡s
(cÚ¡ *
Çme
) {

153 #ià
KMP_OS_UNIX


154 cÚ¡ *
v®ue
 = 
	`g‘’v
(
Çme
);

155  ((
v®ue
 =ğ
NULL
) ? (0) : (1));

156 #–ià
KMP_OS_WINDOWS


157 
DWORD
 
rc
;

158 
rc
 = 
	`G‘EnvœÚm’tV¬ŸbË
(
Çme
, 
NULL
, 0);

159 ià(
rc
 == 0) {

160 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

161 ià(
”rÜ
 !ğ
ERROR_ENVVAR_NOT_FOUND
) {

162 
	`__kmp_çl
(
	`KMP_MSG
(
CªtG‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

168 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

171 
	}
}

173 
	$__kmp_’v_£t
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
, 
ov”wr™e
) {

175 #ià
KMP_OS_UNIX


176 
rc
 = 
	`£‹nv
(
Çme
, 
v®ue
, 
ov”wr™e
);

177 ià(
rc
 != 0) {

183 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘EnvV¬
, 
Çme
), 
	`KMP_HNT
(
NÙEnoughMemÜy
),

184 
__kmp_msg_nuÎ
);

186 #–ià
KMP_OS_WINDOWS


187 
BOOL
 
rc
;

188 ià(!
ov”wr™e
) {

189 
rc
 = 
	`G‘EnvœÚm’tV¬ŸbË
(
Çme
, 
NULL
, 0);

190 ià(
rc
) {

194 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

195 ià(
”rÜ
 !ğ
ERROR_ENVVAR_NOT_FOUND
) {

196 
	`__kmp_çl
(
	`KMP_MSG
(
CªtG‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

199 
rc
 = 
	`S‘EnvœÚm’tV¬ŸbË
(
Çme
, 
v®ue
);

200 ià(!
rc
) {

201 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

202 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

208 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

211 
	}
}

213 
	$__kmp_’v_un£t
(cÚ¡ *
Çme
) {

215 #ià
KMP_OS_UNIX


216 
	`un£‹nv
(
Çme
);

217 #–ià
KMP_OS_WINDOWS


218 
BOOL
 
rc
 = 
	`S‘EnvœÚm’tV¬ŸbË
(
Çme
, 
NULL
);

219 ià(!
rc
) {

220 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

221 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘EnvV¬
, 
Çme
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

224 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

227 
	}
}

240 
	$___kmp_’v_blk_·r£_¡ršg
(
kmp_’v_blk_t
 *
block
,

241 cÚ¡ *
’v


244 cÚ¡ 
chr_d–im™”
 = '|';

245 cÚ¡ 
¡r_d–im™”
[] = {
chr_d–im™”
, 0};

247 *
bulk
 = 
NULL
;

248 
kmp_’v_v¬_t
 *
v¬s
 = 
NULL
;

249 
couÁ
 = 0;

250 
d–im™”s
 = 0;

253 
bulk
 = 
	`__kmp_¡r_fÜm©
("%s", 
’v
);

258 cÚ¡ *
±r
 = 
bulk
;

260 
±r
 = 
	`¡rchr
ÕŒ, 
chr_d–im™”
);

261 ià(
±r
 =ğ
NULL
) {

264 ++
d–im™”s
;

265 
±r
 += 1;

270 
v¬s
 = (
kmp_’v_v¬_t
 *)
	`®loÿ‹
((
d–im™”s
 + 1) * (kmp_env_var_t));

274 *
v¬
;

275 *
Çme
;

276 *
v®ue
;

277 *
buf
;

278 
v¬
 = 
	`__kmp_¡r_tok’
(
bulk
, 
¡r_d–im™”
, &
buf
);

279 
v¬
 !ğ
NULL
) {

281 
	`__kmp_¡r_¥l™
(
v¬
, '=', &
Çme
, &
v®ue
);

282 
	`KMP_DEBUG_ASSERT
(
couÁ
 < 
d–im™”s
 + 1);

283 
v¬s
[
couÁ
].
Çme
 =‚ame;

284 
v¬s
[
couÁ
].
v®ue
 = value;

285 ++
couÁ
;

287 
v¬
 = 
	`__kmp_¡r_tok’
(
NULL
, 
¡r_d–im™”
, &
buf
);

292 
block
->
bulk
 = bulk;

293 
block
->
v¬s
 = vars;

294 
block
->
couÁ
 = count;

295 
	}
}

307 #ià
KMP_OS_WINDOWS


308 
	$___kmp_’v_blk_·r£_wšdows
(

309 
kmp_’v_blk_t
 *
block
,

310 cÚ¡ *
’v


313 *
bulk
 = 
NULL
;

314 
kmp_’v_v¬_t
 *
v¬s
 = 
NULL
;

315 
couÁ
 = 0;

316 
size
 = 0;

318 *
Çme
;

319 *
v®ue
;

321 ià(
’v
 !ğ
NULL
) {

326 cÚ¡ *
v¬
;

327 
Ën
;

328 
couÁ
 = 0;

329 
v¬
 =

330 
’v
;

331 
Ën
 = 
	`KMP_STRLEN
(
v¬
);

332 
Ën
 != 0) {

333 ++
couÁ
;

334 
size
 = siz+ 
Ën
 + 1;

335 
v¬
 = v¬ + 
Ën
 +

337 
Ën
 = 
	`KMP_STRLEN
(
v¬
);

339 
size
 =

340 
size
 + 1;

344 
bulk
 = (*)
	`®loÿ‹
(
size
);

345 
	`KMP_MEMCPY_S
(
bulk
, 
size
, 
’v
, size);

347 
v¬s
 = (
kmp_’v_v¬_t
 *)
	`®loÿ‹
(
couÁ
 * (kmp_env_var_t));

351 *
v¬
;

352 
Ën
;

353 
couÁ
 = 0;

354 
v¬
 = 
bulk
;

355 
Ën
 = 
	`KMP_STRLEN
(
v¬
);

356 
Ën
 != 0) {

358 
	`__kmp_¡r_¥l™
(
v¬
, '=', &
Çme
, &
v®ue
);

359 
v¬s
[
couÁ
].
Çme
 =‚ame;

360 
v¬s
[
couÁ
].
v®ue
 = value;

361 ++
couÁ
;

363 
v¬
 = v¬ + 
Ën
 + 1;

364 
Ën
 = 
	`KMP_STRLEN
(
v¬
);

370 
block
->
bulk
 = bulk;

371 
block
->
v¬s
 = vars;

372 
block
->
couÁ
 = count;

373 
	}
}

383 
	$___kmp_’v_blk_·r£_unix
(
kmp_’v_blk_t
 *
block
,

384 **
’v


387 *
bulk
 = 
NULL
;

388 
kmp_’v_v¬_t
 *
v¬s
 = 
NULL
;

389 
couÁ
 = 0;

390 
size
 = 0;

394 
couÁ
 = 0;

395 
size
 = 0;

396 
’v
[
couÁ
] !ğ
NULL
) {

397 
size
 +ğ
	`KMP_STRLEN
(
’v
[
couÁ
]) + 1;

398 ++
couÁ
;

403 
bulk
 = (*)
	`®loÿ‹
(
size
);

404 
v¬s
 = (
kmp_’v_v¬_t
 *)
	`®loÿ‹
(
couÁ
 * (kmp_env_var_t));

408 *
v¬
;

409 *
Çme
;

410 *
v®ue
;

411 
Ën
;

412 
i
;

413 
v¬
 = 
bulk
;

414 
i
 = 0; i < 
couÁ
; ++i) {

416 
Ën
 = 
	`KMP_STRLEN
(
’v
[
i
]);

417 
	`KMP_MEMCPY_S
(
v¬
, 
size
, 
’v
[
i
], 
Ën
 + 1);

419 
	`__kmp_¡r_¥l™
(
v¬
, '=', &
Çme
, &
v®ue
);

420 
v¬s
[
i
].
Çme
 =‚ame;

421 
v¬s
[
i
].
v®ue
 = value;

423 
v¬
 +ğ
Ën
 + 1;

428 
block
->
bulk
 = bulk;

429 
block
->
v¬s
 = vars;

430 
block
->
couÁ
 = count;

431 
	}
}

433 
	$__kmp_’v_blk_š™
(
kmp_’v_blk_t
 *
block
,

434 cÚ¡ *
bulk


437 ià(
bulk
 !ğ
NULL
) {

438 
	`___kmp_’v_blk_·r£_¡ršg
(
block
, 
bulk
);

440 #ià
KMP_OS_UNIX


441 
	`___kmp_’v_blk_·r£_unix
(
block
, 
’vœÚ
);

442 #–ià
KMP_OS_WINDOWS


444 *
mem
 = 
	`G‘EnvœÚm’tSŒšgs
();

445 ià(
mem
 =ğ
NULL
) {

446 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

447 
	`__kmp_çl
(
	`KMP_MSG
(
CªtG‘EnvœÚm’t
), 
	`KMP_ERR
(
”rÜ
),

448 
__kmp_msg_nuÎ
);

450 
	`___kmp_’v_blk_·r£_wšdows
(
block
, 
mem
);

451 
	`F»eEnvœÚm’tSŒšgs
(
mem
);

454 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

458 
	}
}

460 
	$___kmp_’v_v¬_cmp
(

461 
kmp_’v_v¬_t
 cÚ¡ *
lhs
, kmp_’v_v¬_ˆcÚ¡ *
rhs
) {

462  
	`¡rcmp
(
lhs
->
Çme
, 
rhs
->name);

463 
	}
}

465 
	$__kmp_’v_blk_sÜt
(

466 
kmp_’v_blk_t
 *
block


469 
	`qsÜt
(
	`CCAST
(
kmp_’v_v¬_t
 *, 
block
->
v¬s
), block->
couÁ
,

470 (
kmp_’v_v¬_t
),

471 ((*)(cÚ¡ *, cÚ¡ *)è& 
___kmp_’v_v¬_cmp
);

473 
	}
}

475 
	$__kmp_’v_blk_ä“
(

476 
kmp_’v_blk_t
 *
block


479 
	`KMP_INTERNAL_FREE
(
	`CCAST
(
kmp_’v_v¬_t
 *, 
block
->
v¬s
));

480 
	`__kmp_¡r_ä“
(&(
block
->
bulk
));

482 
block
->
couÁ
 = 0;

483 
block
->
v¬s
 = 
NULL
;

485 
	}
}

488 
	$__kmp_’v_blk_v¬
(

489 
kmp_’v_blk_t
 *
block
,

490 cÚ¡ *
Çme


493 
i
;

494 
i
 = 0; i < 
block
->
couÁ
; ++i) {

495 ià(
	`¡rcmp
(
block
->
v¬s
[
i
].
Çme
,‚ame) == 0) {

496  
block
->
v¬s
[
i
].
v®ue
;

499  
NULL
;

501 
	}
}

	@kmp_environment.h

13 #iâdeà
KMP_ENVIRONMENT_H


14 
	#KMP_ENVIRONMENT_H


	)

16 #ifdeà
__ılu¥lus


23 *
__kmp_’v_g‘
(cÚ¡ *
Çme
);

24 
__kmp_’v_ä“
(cÚ¡ **
v®ue
);

27 
__kmp_’v_exi¡s
(cÚ¡ *
Çme
);

30 
__kmp_’v_£t
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
, 
ov”wr™e
);

33 
__kmp_’v_un£t
(cÚ¡ *
Çme
);

53 
	s__kmp_’v_v¬
 {

54 *
Çme
;

55 *
v®ue
;

57 
__kmp_’v_v¬
 
	tkmp_’v_v¬_t
;

59 
	s__kmp_’v_blk
 {

60 *
bulk
;

61 
kmp_’v_v¬_t
 *
v¬s
;

62 
couÁ
;

64 
__kmp_’v_blk
 
	tkmp_’v_blk_t
;

66 
__kmp_’v_blk_š™
(
kmp_’v_blk_t
 *
block
, cÚ¡ *
bulk
);

67 
__kmp_’v_blk_ä“
(
kmp_’v_blk_t
 *
block
);

68 
__kmp_’v_blk_sÜt
(
kmp_’v_blk_t
 *
block
);

69 cÚ¡ *
__kmp_’v_blk_v¬
(
kmp_’v_blk_t
 *
block
, cÚ¡ *
Çme
);

71 #ifdeà
__ılu¥lus


	@kmp_error.cpp

13 
	~"kmp.h
"

14 
	~"kmp_”rÜ.h
"

15 
	~"kmp_i18n.h
"

16 
	~"kmp_¡r.h
"

20 
	#MIN_STACK
 100

	)

22 cÚ¡ *
	gcÚs_‹xt_c
[] = {

35 
	#g‘_¤c
(
id’t
è((id’tè=ğ
NULL
 ? NULL : (id’t)->
psourû
)

	)

37 
	#PUSH_MSG
(
ù
, 
id’t
) \

38 "\ushšg oÀ¡ack: % (%s)\n", 
cÚs_‹xt_c
[(
ù
)], 
	`g‘_¤c
((
id’t
))

	)

39 
	#POP_MSG
(
p
) \

40 "\İpšg ofà¡ack: % (%s)\n", 
cÚs_‹xt_c
[(
p
)->
¡ack_d©a
[
tos
].
ty³
], \

41 
	`g‘_¤c
((
p
)->
¡ack_d©a
[
tos
].
id’t
)

	)

43 cÚ¡ 
	gcÚs_‹xt_c_num
 = (
cÚs_‹xt_c
) / (const *);

47 
	$__kmp_check_nuÎ_func
() {

48 
	}
}

50 
	$__kmp_ex·nd_cÚs_¡ack
(
gtid
, 
cÚs_h—d”
 *
p
) {

51 
i
;

52 
cÚs_d©a
 *
d
;

55 ià(
gtid
 < 0)

56 
	`__kmp_check_nuÎ_func
();

58 
	`KE_TRACE
(10, ("ex·nd cÚs_¡ack (%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

60 
d
 = 
p
->
¡ack_d©a
;

62 
p
->
¡ack_size
 = (p->stack_size * 2) + 100;

65 
p
->
¡ack_d©a
 = (
cÚs_d©a
 *)
	`__kmp_®loÿ‹
((cons_data) *

66 (
p
->
¡ack_size
 + 1));

68 
i
 = 
p
->
¡ack_tİ
; i >= 0; --i)

69 
p
->
¡ack_d©a
[
i
] = 
d
[i];

72 
	}
}

75 *
	$__kmp_´agma
(
ù
, 
id’t_t
 cÚ¡ *
id’t
) {

76 cÚ¡ *
cÚs
 = 
NULL
;

77 *
fe
 = 
NULL
;

78 *
func
 = 
NULL
;

79 *
lše
 = 
NULL
;

80 
kmp_¡r_buf_t
 
bufãr
;

81 
kmp_msg_t
 
´gm
;

82 
	`__kmp_¡r_buf_š™
(&
bufãr
);

83 ià(0 < 
ù
 && cˆ< 
cÚs_‹xt_c_num
) {

84 
cÚs
 = 
cÚs_‹xt_c
[
ù
];

86 
	`KMP_DEBUG_ASSERT
(0);

88 ià(
id’t
 !ğ
NULL
 && id’t->
psourû
 != NULL) {

89 *

 = 
NULL
;

90 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s",

91 
id’t
->
psourû
);

93 

 = 
bufãr
.
¡r
;

94 
	`__kmp_¡r_¥l™
(

, ';', 
NULL
, &tail);

95 
	`__kmp_¡r_¥l™
(

, ';', &
fe
, &tail);

96 
	`__kmp_¡r_¥l™
(

, ';', &
func
, &tail);

97 
	`__kmp_¡r_¥l™
(

, ';', &
lše
, &tail);

99 
´gm
 = 
	`__kmp_msg_fÜm©
(
kmp_i18n_fmt_P¿gma
, 
cÚs
, 
fe
, 
func
, 
lše
);

100 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

101  
´gm
.
¡r
;

102 
	}
}

106 
	$__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_id_t
 
id
,

107 
cÚs_ty³
 
ù
,

108 
id’t_t
 cÚ¡ *
id’t


110 *
cÚ¡ruù
 = 
	`__kmp_´agma
(
ù
, 
id’t
);

111 
	`__kmp_çl
(
	`__kmp_msg_fÜm©
(
id
, 
cÚ¡ruù
), 
__kmp_msg_nuÎ
);

112 
	`KMP_INTERNAL_FREE
(
cÚ¡ruù
);

113 
	}
}

115 
	$__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_id_t
 
id
,

116 
cÚs_ty³
 
ù
,

117 
id’t_t
 cÚ¡ *
id’t
,

118 
cÚs_d©a
 cÚ¡ *
cÚs


120 *
cÚ¡ruù1
 = 
	`__kmp_´agma
(
ù
, 
id’t
);

121 *
cÚ¡ruù2
 = 
	`__kmp_´agma
(
cÚs
->
ty³
, cÚs->
id’t
);

122 
	`__kmp_çl
(
	`__kmp_msg_fÜm©
(
id
, 
cÚ¡ruù1
, 
cÚ¡ruù2
), 
__kmp_msg_nuÎ
);

123 
	`KMP_INTERNAL_FREE
(
cÚ¡ruù1
);

124 
	`KMP_INTERNAL_FREE
(
cÚ¡ruù2
);

125 
	}
}

127 
cÚs_h—d”
 *
	$__kmp_®loÿ‹_cÚs_¡ack
(
gtid
) {

128 
cÚs_h—d”
 *
p
;

131 ià(
gtid
 < 0) {

132 
	`__kmp_check_nuÎ_func
();

134 
	`KE_TRACE
(10, ("®loÿ‹ cÚs_¡ack (%d)\n", 
gtid
));

135 
p
 = (
cÚs_h—d”
 *)
	`__kmp_®loÿ‹
((cons_header));

136 
p
->
p_tİ
 =…->
w_tİ
 =…->
s_tİ
 = 0;

137 
p
->
¡ack_d©a
 = (
cÚs_d©a
 *)
	`__kmp_®loÿ‹
((cons_data) *

138 (
MIN_STACK
 + 1));

139 
p
->
¡ack_size
 = 
MIN_STACK
;

140 
p
->
¡ack_tİ
 = 0;

141 
p
->
¡ack_d©a
[0].
ty³
 = 
ù_nÚe
;

142 
p
->
¡ack_d©a
[0].
´ev
 = 0;

143 
p
->
¡ack_d©a
[0].
id’t
 = 
NULL
;

144  
p
;

145 
	}
}

147 
	$__kmp_ä“_cÚs_¡ack
(*
±r
) {

148 
cÚs_h—d”
 *
p
 = (cÚs_h—d” *)
±r
;

149 ià(
p
 !ğ
NULL
) {

150 ià(
p
->
¡ack_d©a
 !ğ
NULL
) {

151 
	`__kmp_ä“
(
p
->
¡ack_d©a
);

152 
p
->
¡ack_d©a
 = 
NULL
;

154 
	`__kmp_ä“
(
p
);

156 
	}
}

158 #ià
KMP_DEBUG


159 
	$dump_cÚs_¡ack
(
gtid
, 
cÚs_h—d”
 *
p
) {

160 
i
;

161 
tos
 = 
p
->
¡ack_tİ
;

162 
kmp_¡r_buf_t
 
bufãr
;

163 
	`__kmp_¡r_buf_š™
(&
bufãr
);

164 
	`__kmp_¡r_buf_´št
(

165 &
bufãr
,

167 
	`__kmp_¡r_buf_´št
(&
bufãr
,

169 
tos
, 
gtid
);

170 
	`__kmp_¡r_buf_´št
(&
bufãr
, " sck_tİ=%d { P=%d, W=%d, S=%d }\n", 
tos
,

171 
p
->
p_tİ
,…->
w_tİ
,…->
s_tİ
);

172 
i
 = 
tos
; i > 0; i--) {

173 
cÚs_d©a
 *
c
 = &(
p
->
¡ack_d©a
[
i
]);

174 
	`__kmp_¡r_buf_´št
(

175 &
bufãr
, " sck_d©a[%2d] = { % (%sè%d %°}\n", 
i
,

176 
cÚs_‹xt_c
[
c
->
ty³
], 
	`g‘_¤c
(c->
id’t
), c->
´ev
, c->
Çme
);

178 
	`__kmp_¡r_buf_´št
(&
bufãr
, "End cÚ¡ruù sck fÜh»ad %d\n", 
gtid
);

179 
	`__kmp_¡r_buf_´št
(

180 &
bufãr
,

182 
	`__kmp_debug_´štf
("%s", 
bufãr
.
¡r
);

183 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

184 
	}
}

187 
	$__kmp_push_·¿Î–
(
gtid
, 
id’t_t
 cÚ¡ *
id’t
) {

188 
tos
;

189 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

191 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
);

192 
	`KE_TRACE
(10, ("__kmp_push_·¿Î– (%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

193 
	`KE_TRACE
(100, (
	`PUSH_MSG
(
ù_·¿Î–
, 
id’t
)));

194 ià(
p
->
¡ack_tİ
 >ğp->
¡ack_size
) {

195 
	`__kmp_ex·nd_cÚs_¡ack
(
gtid
, 
p
);

197 
tos
 = ++
p
->
¡ack_tİ
;

198 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù_·¿Î–
;

199 
p
->
¡ack_d©a
[
tos
].
´ev
 =…->
p_tİ
;

200 
p
->
¡ack_d©a
[
tos
].
id’t
 = ident;

201 
p
->
¡ack_d©a
[
tos
].
Çme
 = 
NULL
;

202 
p
->
p_tİ
 = 
tos
;

203 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

204 
	}
}

206 
	$__kmp_check_wÜksh¬e
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
) {

207 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

209 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
);

210 
	`KE_TRACE
(10, ("__kmp_check_wÜksh¬(%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

212 ià(
p
->
¡ack_tİ
 >ğp->
¡ack_size
) {

213 
	`__kmp_ex·nd_cÚs_¡ack
(
gtid
, 
p
);

215 ià(
p
->
w_tİ
 >…->
p_tİ
) {

217 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

218 &
p
->
¡ack_d©a
[p->
w_tİ
]);

220 ià(
p
->
s_tİ
 >…->
p_tİ
) {

222 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

223 &
p
->
¡ack_d©a
[p->
s_tİ
]);

225 
	}
}

227 
	$__kmp_push_wÜksh¬e
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
) {

228 
tos
;

229 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

230 
	`KE_TRACE
(10, ("__kmp_push_wÜksh¬(%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

231 
	`__kmp_check_wÜksh¬e
(
gtid
, 
ù
, 
id’t
);

232 
	`KE_TRACE
(100, (
	`PUSH_MSG
(
ù
, 
id’t
)));

233 
tos
 = ++
p
->
¡ack_tİ
;

234 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù
;

235 
p
->
¡ack_d©a
[
tos
].
´ev
 =…->
w_tİ
;

236 
p
->
¡ack_d©a
[
tos
].
id’t
 = ident;

237 
p
->
¡ack_d©a
[
tos
].
Çme
 = 
NULL
;

238 
p
->
w_tİ
 = 
tos
;

239 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

240 
	}
}

243 #ià
KMP_USE_DYNAMIC_LOCK


244 
	$__kmp_check_sync
Ğ
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ * 
id’t
, 
kmp_u£r_lock_p
 
lck
, 
kmp_ušt32
 
£q
 )

246 
	$__kmp_check_sync
Ğ
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ * 
id’t
, 
kmp_u£r_lock_p
 
lck
 )

249 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

251 
	`KE_TRACE
(10, ("__kmp_check_synø(gtid=%d)\n", 
	`__kmp_g‘_gtid
()));

253 ià(
p
->
¡ack_tİ
 >ğp->
¡ack_size
)

254 
	`__kmp_ex·nd_cÚs_¡ack
(
gtid
, 
p
);

256 ià(
ù
 =ğ
ù_Üd”ed_š_·¿Î–
 || cˆ=ğ
ù_Üd”ed_š_pdo
) {

257 ià(
p
->
w_tİ
 <ğp->
p_tİ
) {

259 #ifdeà
BUILD_PARALLEL_ORDERED


261 
	`KMP_ASSERT
(
ù
 =ğ
ù_Üd”ed_š_·¿Î–
);

263 
	`__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsBoundToWÜksh¬šg
, 
ù
, 
id’t
);

267 ià(!
	`IS_CONS_TYPE_ORDERED
(
p
->
¡ack_d©a
[p->
w_tİ
].
ty³
)) {

268 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsNoOrd”edCÏu£
, 
ù
, 
id’t
,

269 &
p
->
¡ack_d©a
[p->
w_tİ
]);

272 ià(
p
->
s_tİ
 >…->
p_tİ
 &&…->s_tİ >…->
w_tİ
) {

274 
šdex
 = 
p
->
s_tİ
;

275 
cÚs_ty³
 
¡ack_ty³
;

277 
¡ack_ty³
 = 
p
->
¡ack_d©a
[
šdex
].
ty³
;

279 ià(
¡ack_ty³
 =ğ
ù_ü™iÿl
 ||

280 ((
¡ack_ty³
 =ğ
ù_Üd”ed_š_·¿Î–
 ||

281 
¡ack_ty³
 =ğ
ù_Üd”ed_š_pdo
) &&

283 
p
->
¡ack_d©a
[
šdex
].
id’t
 !ğ
NULL
 &&

284 (
p
->
¡ack_d©a
[
šdex
].
id’t
->
æags
 & 
KMP_IDENT_KMPC
))) {

286 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

287 &
p
->
¡ack_d©a
[
šdex
]);

290 } ià(
ù
 =ğ
ù_ü™iÿl
) {

291 #ià
KMP_USE_DYNAMIC_LOCK


292 ià(
lck
 !ğ
NULL
 &&

293 
	`__kmp_g‘_u£r_lock_owÃr
(
lck
, 
£q
) ==

294 
gtid
) {

296 ià(
lck
 !ğ
NULL
 &&

297 
	`__kmp_g‘_u£r_lock_owÃr
(
lck
) ==

298 
gtid
) {

300 
šdex
 = 
p
->
s_tİ
;

301 
cÚs_d©a
 
cÚs
 = {
NULL
, 
ù_ü™iÿl
, 0, NULL};

303 
šdex
 !ğ0 && 
p
->
¡ack_d©a
[šdex].
Çme
 !ğ
lck
) {

304 
šdex
 = 
p
->
¡ack_d©a
[šdex].
´ev
;

306 ià(
šdex
 != 0) {

309 
cÚs
 = 
p
->
¡ack_d©a
[
šdex
];

312 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsNe¡šgSameName
, 
ù
, 
id’t
, &
cÚs
);

314 } ià(
ù
 =ğ
ù_ma¡”
 || cˆ=ğ
ù_»duû
) {

315 ià(
p
->
w_tİ
 >…->
p_tİ
) {

317 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

318 &
p
->
¡ack_d©a
[p->
w_tİ
]);

320 ià(
ù
 =ğ
ù_»duû
 && 
p
->
s_tİ
 >…->
p_tİ
) {

322 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

323 &
p
->
¡ack_d©a
[p->
s_tİ
]);

326 
	}
}

329 #ià
KMP_USE_DYNAMIC_LOCK


330 
	$__kmp_push_sync
Ğ
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ * 
id’t
, 
kmp_u£r_lock_p
 
lck
, 
kmp_ušt32
 
£q
 )

332 
	$__kmp_push_sync
Ğ
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ * 
id’t
, 
kmp_u£r_lock_p
 
lck
 )

335 
tos
;

336 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

338 
	`KMP_ASSERT
(
gtid
 =ğ
	`__kmp_g‘_gtid
());

339 
	`KE_TRACE
(10, ("__kmp_push_synø(gtid=%d)\n", 
gtid
));

340 #ià
KMP_USE_DYNAMIC_LOCK


341 
	`__kmp_check_sync
(
gtid
, 
ù
, 
id’t
, 
lck
, 
£q
);

343 
	`__kmp_check_sync
(
gtid
, 
ù
, 
id’t
, 
lck
);

345 
	`KE_TRACE
(100, (
	`PUSH_MSG
(
ù
, 
id’t
)));

346 
tos
 = ++
p
->
¡ack_tİ
;

347 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù
;

348 
p
->
¡ack_d©a
[
tos
].
´ev
 =…->
s_tİ
;

349 
p
->
¡ack_d©a
[
tos
].
id’t
 = ident;

350 
p
->
¡ack_d©a
[
tos
].
Çme
 = 
lck
;

351 
p
->
s_tİ
 = 
tos
;

352 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

353 
	}
}

357 
	$__kmp_pİ_·¿Î–
(
gtid
, 
id’t_t
 cÚ¡ *
id’t
) {

358 
tos
;

359 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

360 
tos
 = 
p
->
¡ack_tİ
;

361 
	`KE_TRACE
(10, ("__kmp_pİ_·¿Î– (%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

362 ià(
tos
 =ğ0 || 
p
->
p_tİ
 == 0) {

363 
	`__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsD‘eùedEnd
, 
ù_·¿Î–
, 
id’t
);

365 ià(
tos
 !ğ
p
->
p_tİ
 ||…->
¡ack_d©a
[tos].
ty³
 !ğ
ù_·¿Î–
) {

366 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsEx³ùedEnd
, 
ù_·¿Î–
, 
id’t
,

367 &
p
->
¡ack_d©a
[
tos
]);

369 
	`KE_TRACE
(100, (
	`POP_MSG
(
p
)));

370 
p
->
p_tİ
 =…->
¡ack_d©a
[
tos
].
´ev
;

371 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù_nÚe
;

372 
p
->
¡ack_d©a
[
tos
].
id’t
 = 
NULL
;

373 
p
->
¡ack_tİ
 = 
tos
 - 1;

374 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

375 
	}
}

377 
cÚs_ty³
 
	$__kmp_pİ_wÜksh¬e
(
gtid
, 
cÚs_ty³
 
ù
,

378 
id’t_t
 cÚ¡ *
id’t
) {

379 
tos
;

380 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

382 
tos
 = 
p
->
¡ack_tİ
;

383 
	`KE_TRACE
(10, ("__kmp_pİ_wÜksh¬(%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

384 ià(
tos
 =ğ0 || 
p
->
w_tİ
 == 0) {

385 
	`__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsD‘eùedEnd
, 
ù
, 
id’t
);

388 ià(
tos
 !ğ
p
->
w_tİ
 ||

389 (
p
->
¡ack_d©a
[
tos
].
ty³
 !ğ
ù
 &&

391 !(
p
->
¡ack_d©a
[
tos
].
ty³
 =ğ
ù_pdo_Üd”ed
 && 
ù
 =ğ
ù_pdo
))) {

392 
	`__kmp_check_nuÎ_func
();

393 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsEx³ùedEnd
, 
ù
, 
id’t
,

394 &
p
->
¡ack_d©a
[
tos
]);

396 
	`KE_TRACE
(100, (
	`POP_MSG
(
p
)));

397 
p
->
w_tİ
 =…->
¡ack_d©a
[
tos
].
´ev
;

398 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù_nÚe
;

399 
p
->
¡ack_d©a
[
tos
].
id’t
 = 
NULL
;

400 
p
->
¡ack_tİ
 = 
tos
 - 1;

401 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

402  
p
->
¡ack_d©a
[p->
w_tİ
].
ty³
;

403 
	}
}

405 
	$__kmp_pİ_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
) {

406 
tos
;

407 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

408 
tos
 = 
p
->
¡ack_tİ
;

409 
	`KE_TRACE
(10, ("__kmp_pİ_synø(%d %d)\n", 
gtid
, 
	`__kmp_g‘_gtid
()));

410 ià(
tos
 =ğ0 || 
p
->
s_tİ
 == 0) {

411 
	`__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsD‘eùedEnd
, 
ù
, 
id’t
);

413 ià(
tos
 !ğ
p
->
s_tİ
 ||…->
¡ack_d©a
[tos].
ty³
 !ğ
ù
) {

414 
	`__kmp_check_nuÎ_func
();

415 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsEx³ùedEnd
, 
ù
, 
id’t
,

416 &
p
->
¡ack_d©a
[
tos
]);

418 ià(
gtid
 < 0) {

419 
	`__kmp_check_nuÎ_func
();

421 
	`KE_TRACE
(100, (
	`POP_MSG
(
p
)));

422 
p
->
s_tİ
 =…->
¡ack_d©a
[
tos
].
´ev
;

423 
p
->
¡ack_d©a
[
tos
].
ty³
 = 
ù_nÚe
;

424 
p
->
¡ack_d©a
[
tos
].
id’t
 = 
NULL
;

425 
p
->
¡ack_tİ
 = 
tos
 - 1;

426 
	`KE_DUMP
(1000, 
	`dump_cÚs_¡ack
(
gtid
, 
p
));

427 
	}
}

431 
	$__kmp_check_b¬r›r
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
) {

432 
cÚs_h—d”
 *
p
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cÚs
;

433 
	`KE_TRACE
(10, ("__kmp_check_b¬r›¸Öoc: %p, gtid: %d %d)\n", 
id’t
, 
gtid
,

434 
	`__kmp_g‘_gtid
()));

435 ià(
id’t
 != 0) {

436 
	`__kmp_check_nuÎ_func
();

438 ià(
p
->
w_tİ
 >…->
p_tİ
) {

440 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

441 &
p
->
¡ack_d©a
[p->
w_tİ
]);

443 ià(
p
->
s_tİ
 >…->
p_tİ
) {

445 
	`__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_msg_CnsInv®idNe¡šg
, 
ù
, 
id’t
,

446 &
p
->
¡ack_d©a
[p->
s_tİ
]);

448 
	}
}

	@kmp_error.h

13 #iâdeà
KMP_ERROR_H


14 
	#KMP_ERROR_H


	)

16 
	~"kmp_i18n.h
"

19 #ifdeà
__ılu¥lus


23 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_id_t
 
id
, 
cÚs_ty³
 
ù
,

24 
id’t_t
 cÚ¡ *
id’t
);

25 
__kmp_”rÜ_cÚ¡ruù2
(
kmp_i18n_id_t
 
id
, 
cÚs_ty³
 
ù
,

26 
id’t_t
 cÚ¡ *
id’t
, 
cÚs_d©a
 cÚ¡ *
cÚs
);

28 
cÚs_h—d”
 *
__kmp_®loÿ‹_cÚs_¡ack
(
gtid
);

29 
__kmp_ä“_cÚs_¡ack
(*
±r
);

31 
__kmp_push_·¿Î–
(
gtid
, 
id’t_t
 cÚ¡ *
id’t
);

32 
__kmp_push_wÜksh¬e
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
);

33 #ià
KMP_USE_DYNAMIC_LOCK


34 
__kmp_push_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
,

35 
kmp_u£r_lock_p
 
Çme
, 
kmp_ušt32
);

37 
__kmp_push_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
,

38 
kmp_u£r_lock_p
 
Çme
);

41 
__kmp_check_wÜksh¬e
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
);

42 #ià
KMP_USE_DYNAMIC_LOCK


43 
__kmp_check_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
,

44 
kmp_u£r_lock_p
 
Çme
, 
kmp_ušt32
);

46 
__kmp_check_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
,

47 
kmp_u£r_lock_p
 
Çme
);

50 
__kmp_pİ_·¿Î–
(
gtid
, 
id’t_t
 cÚ¡ *
id’t
);

51 
cÚs_ty³
 
__kmp_pİ_wÜksh¬e
(
gtid
, cÚs_ty³ 
ù
,

52 
id’t_t
 cÚ¡ *
id’t
);

53 
__kmp_pİ_sync
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
);

54 
__kmp_check_b¬r›r
(
gtid
, 
cÚs_ty³
 
ù
, 
id’t_t
 cÚ¡ *
id’t
);

56 #ifdeà
__ılu¥lus


	@kmp_ftn_cdecl.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

16 #ià
KMP_OS_WINDOWS


17 #ià
defšed
 
KMP_WIN_CDECL
 || !
KMP_DYNAMIC_LIB


18 
	#KMP_FTN_ENTRIES
 
KMP_FTN_UPPER


	)

20 #–ià
KMP_OS_UNIX


21 
	#KMP_FTN_ENTRIES
 
KMP_FTN_PLAIN


	)

25 cÚ¡ 
	g__kmp_v”siÚ_áncdeş
[] =

26 
KMP_VERSION_PREFIX
 "Fortran __cdecl OMP support: "

27 #ifdeà
KMP_FTN_ENTRIES


29 
	#FTN_STDCALL


	)

30 
	~"kmp_án_os.h
"

31 
	~"kmp_án_’Œy.h
"

	@kmp_ftn_entry.h

13 #iâdeà
FTN_STDCALL


14 #”rÜ 
The
 
suµÜt
 
fe
 
kmp_án_’Œy
.
h
 
should
 
nÙ
 
be
 
comped
 
by
 
™£lf
.

17 #ifdeà
KMP_STUB


18 
	~"kmp_¡ub.h
"

21 
	~"kmp_i18n.h
"

24 
	~"kmp_io.h
"

25 
	~"kmp_¡r.h
"

27 #ià
OMPT_SUPPORT


28 
	~"om±-¥ecific.h
"

31 #ifdeà
__ılu¥lus


43 #ifdeà
KMP_GOMP_COMPAT


44 #ià(
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_PLAIN
è|| (KMP_FTN_ENTRIES =ğ
KMP_FTN_UPPER
)

45 
	#PASS_ARGS_BY_VALUE
 1

	)

48 #ià
KMP_OS_WINDOWS


49 #ià(
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_PLAIN
è|| (KMP_FTN_ENTRIES =ğ
KMP_FTN_APPEND
)

50 
	#PASS_ARGS_BY_VALUE
 1

	)

55 #ifdeà
PASS_ARGS_BY_VALUE


56 
	#KMP_DEREF


	)

58 
	#KMP_DEREF
 *

	)

61 
FTN_STDCALL
 
FTN_SET_STACKSIZE
(
KMP_DEREF
 
¬g
) {

62 #ifdeà
KMP_STUB


63 
__kmps_£t_¡acksize
(
KMP_DEREF
 
¬g
);

66 
__kmp_aux_£t_¡acksize
((
size_t
)
KMP_DEREF
 
¬g
);

70 
FTN_STDCALL
 
FTN_SET_STACKSIZE_S
(
size_t
 
KMP_DEREF
 
¬g
) {

71 #ifdeà
KMP_STUB


72 
__kmps_£t_¡acksize
(
KMP_DEREF
 
¬g
);

75 
__kmp_aux_£t_¡acksize
(
KMP_DEREF
 
¬g
);

79 
FTN_STDCALL
 
FTN_GET_STACKSIZE
() {

80 #ifdeà
KMP_STUB


81  
__kmps_g‘_¡acksize
();

83 ià(!
__kmp_š™_£rŸl
) {

84 
__kmp_£rŸl_š™Ÿlize
();

86  ()
__kmp_¡ksize
;

90 
size_t
 
FTN_STDCALL
 
FTN_GET_STACKSIZE_S
() {

91 #ifdeà
KMP_STUB


92  
__kmps_g‘_¡acksize
();

94 ià(!
__kmp_š™_£rŸl
) {

95 
__kmp_£rŸl_š™Ÿlize
();

97  
__kmp_¡ksize
;

101 
FTN_STDCALL
 
FTN_SET_BLOCKTIME
(
KMP_DEREF
 
¬g
) {

102 #ifdeà
KMP_STUB


103 
__kmps_£t_blocktime
(
KMP_DEREF
 
¬g
);

105 
gtid
, 
tid
;

106 
kmp_šfo_t
 *
th»ad
;

108 
gtid
 = 
__kmp_’Œy_gtid
();

109 
tid
 = 
__kmp_tid_äom_gtid
(
gtid
);

110 
th»ad
 = 
__kmp_th»ad_äom_gtid
(
gtid
);

112 
__kmp_aux_£t_blocktime
(
KMP_DEREF
 
¬g
, 
th»ad
, 
tid
);

116 
FTN_STDCALL
 
FTN_GET_BLOCKTIME
() {

117 #ifdeà
KMP_STUB


118  
__kmps_g‘_blocktime
();

120 
gtid
, 
tid
;

121 
kmp_šfo_t
 *
th»ad
;

122 
kmp_‹am_p
 *
‹am
;

124 
gtid
 = 
__kmp_’Œy_gtid
();

125 
tid
 = 
__kmp_tid_äom_gtid
(
gtid
);

126 
th»ad
 = 
__kmp_th»ad_äom_gtid
(
gtid
);

127 
‹am
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
;

130 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
) {

131 
KF_TRACE
(10, ("kmp_g‘_blocktime: T#%d(%d:%d), blocktime=%d\n", 
gtid
,

132 
‹am
->
t
.
t_id
, 
tid
, 
KMP_MAX_BLOCKTIME
));

133  
KMP_MAX_BLOCKTIME
;

135 #ifdeà
KMP_ADJUST_BLOCKTIME


136 ià(
__kmp_z”o_bt
 && !
g‘__bt_£t
(
‹am
, 
tid
)) {

137 
KF_TRACE
(10, ("kmp_g‘_blocktime: T#%d(%d:%d), blocktime=%d\n", 
gtid
,

138 
‹am
->
t
.
t_id
, 
tid
, 0));

143 
KF_TRACE
(10, ("kmp_g‘_blocktime: T#%d(%d:%d), blocktime=%d\n", 
gtid
,

144 
‹am
->
t
.
t_id
, 
tid
, 
g‘__blocktime
(team,id)));

145  
g‘__blocktime
(
‹am
, 
tid
);

150 
FTN_STDCALL
 
FTN_SET_LIBRARY_SERIAL
() {

151 #ifdeà
KMP_STUB


152 
__kmps_£t_lib¿ry
(
lib¿ry_£rŸl
);

155 
__kmp_u£r_£t_lib¿ry
(
lib¿ry_£rŸl
);

159 
FTN_STDCALL
 
FTN_SET_LIBRARY_TURNAROUND
() {

160 #ifdeà
KMP_STUB


161 
__kmps_£t_lib¿ry
(
lib¿ry_tuº¬ound
);

164 
__kmp_u£r_£t_lib¿ry
(
lib¿ry_tuº¬ound
);

168 
FTN_STDCALL
 
FTN_SET_LIBRARY_THROUGHPUT
() {

169 #ifdeà
KMP_STUB


170 
__kmps_£t_lib¿ry
(
lib¿ry_throughput
);

173 
__kmp_u£r_£t_lib¿ry
(
lib¿ry_throughput
);

177 
FTN_STDCALL
 
FTN_SET_LIBRARY
(
KMP_DEREF
 
¬g
) {

178 #ifdeà
KMP_STUB


179 
__kmps_£t_lib¿ry
(
KMP_DEREF
 
¬g
);

181 
lib¿ry_ty³
 
lib
;

182 
lib
 = (
lib¿ry_ty³
)
KMP_DEREF
 
¬g
;

184 
__kmp_u£r_£t_lib¿ry
(
lib
);

188 
FTN_STDCALL
 
FTN_GET_LIBRARY
() {

189 #ifdeà
KMP_STUB


190  
__kmps_g‘_lib¿ry
();

192 ià(!
__kmp_š™_£rŸl
) {

193 
__kmp_£rŸl_š™Ÿlize
();

195  (()
__kmp_lib¿ry
);

199 
FTN_STDCALL
 
FTN_SET_DISP_NUM_BUFFERS
(
KMP_DEREF
 
¬g
) {

200 #ifdeà
KMP_STUB


205 ià(
__kmp_š™_£rŸl
 =ğ0 && (
KMP_DEREF
 
¬g
) > 0)

206 
__kmp_di¥©ch_num_bufãrs
 = 
KMP_DEREF
 
¬g
;

210 
FTN_STDCALL
 
FTN_SET_AFFINITY
(**
mask
) {

211 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


214 ià(!
TCR_4
(
__kmp_š™_middË
)) {

215 
__kmp_middË_š™Ÿlize
();

217  
__kmp_aux_£t_affš™y
(
mask
);

221 
FTN_STDCALL
 
FTN_GET_AFFINITY
(**
mask
) {

222 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


225 ià(!
TCR_4
(
__kmp_š™_middË
)) {

226 
__kmp_middË_š™Ÿlize
();

228  
__kmp_aux_g‘_affš™y
(
mask
);

232 
FTN_STDCALL
 
FTN_GET_AFFINITY_MAX_PROC
() {

233 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


237 ià(!
TCR_4
(
__kmp_š™_middË
)) {

238 
__kmp_middË_š™Ÿlize
();

240  
__kmp_aux_g‘_affš™y_max_´oc
();

244 
FTN_STDCALL
 
FTN_CREATE_AFFINITY_MASK
(**
mask
) {

245 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


246 *
mask
 = 
NULL
;

249 
kmp_affš_mask_t
 *
mask_š‹º®s
;

250 ià(!
TCR_4
(
__kmp_š™_middË
)) {

251 
__kmp_middË_š™Ÿlize
();

253 
mask_š‹º®s
 = 
__kmp_affš™y_di¥©ch
->
®loÿ‹_mask
();

254 
KMP_CPU_ZERO
(
mask_š‹º®s
);

255 *
mask
 = 
mask_š‹º®s
;

259 
FTN_STDCALL
 
FTN_DESTROY_AFFINITY_MASK
(**
mask
) {

260 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


264 
kmp_affš_mask_t
 *
mask_š‹º®s
;

265 ià(!
TCR_4
(
__kmp_š™_middË
)) {

266 
__kmp_middË_š™Ÿlize
();

268 ià(
__kmp_’v_cÚsi¡’cy_check
) {

269 ià(*
mask
 =ğ
NULL
) {

270 
KMP_FATAL
(
Affš™yInv®idMask
, "kmp_destroy_affinity_mask");

273 
mask_š‹º®s
 = (
kmp_affš_mask_t
 *)(*
mask
);

274 
__kmp_affš™y_di¥©ch
->
d—Îoÿ‹_mask
(
mask_š‹º®s
);

275 *
mask
 = 
NULL
;

279 
FTN_STDCALL
 
FTN_SET_AFFINITY_MASK_PROC
(
KMP_DEREF
 
´oc
, **
mask
) {

280 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


283 ià(!
TCR_4
(
__kmp_š™_middË
)) {

284 
__kmp_middË_š™Ÿlize
();

286  
__kmp_aux_£t_affš™y_mask_´oc
(
KMP_DEREF
 
´oc
, 
mask
);

290 
FTN_STDCALL
 
FTN_UNSET_AFFINITY_MASK_PROC
(
KMP_DEREF
 
´oc
, **
mask
) {

291 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


294 ià(!
TCR_4
(
__kmp_š™_middË
)) {

295 
__kmp_middË_š™Ÿlize
();

297  
__kmp_aux_un£t_affš™y_mask_´oc
(
KMP_DEREF
 
´oc
, 
mask
);

301 
FTN_STDCALL
 
FTN_GET_AFFINITY_MASK_PROC
(
KMP_DEREF
 
´oc
, **
mask
) {

302 #ià
defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


305 ià(!
TCR_4
(
__kmp_š™_middË
)) {

306 
__kmp_middË_š™Ÿlize
();

308  
__kmp_aux_g‘_affš™y_mask_´oc
(
KMP_DEREF
 
´oc
, 
mask
);

315 
FTN_STDCALL
 
KMP_EXPAND_NAME
(
FTN_SET_NUM_THREADS
)(
KMP_DEREF
 
¬g
) {

316 #ifdeà
KMP_STUB


319 
__kmp_£t_num_th»ads
(
KMP_DEREF
 
¬g
, 
__kmp_’Œy_gtid
());

324 
FTN_STDCALL
 
KMP_EXPAND_NAME
(
FTN_GET_NUM_THREADS
)() {

325 #ifdeà
KMP_STUB


329  
__kmpc_bound_num_th»ads
(
NULL
);

333 
FTN_STDCALL
 
KMP_EXPAND_NAME
(
FTN_GET_MAX_THREADS
)() {

334 #ifdeà
KMP_STUB


337 
gtid
;

338 
kmp_šfo_t
 *
th»ad
;

339 ià(!
TCR_4
(
__kmp_š™_middË
)) {

340 
__kmp_middË_š™Ÿlize
();

342 
gtid
 = 
__kmp_’Œy_gtid
();

343 
th»ad
 = 
__kmp_th»ads
[
gtid
];

346  
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
;

350 
FTN_STDCALL
 
FTN_CONTROL_TOOL
(
commªd
, 
modif›r
, *
¬g
) {

351 #ià
defšed
(
KMP_STUB
è|| !
OMPT_SUPPORT


354 
OMPT_STORE_RETURN_ADDRESS
(
__kmp_’Œy_gtid
());

355 ià(!
TCR_4
(
__kmp_š™_middË
)) {

358 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
__kmp_’Œy_gtid
()];

359 
om±_sk_šfo_t
 *
·»Á_sk_šfo
 = 
OMPT_CUR_TASK_INFO
(
this_thr
);

360 
·»Á_sk_šfo
->
äame
.
’‹r_äame
.
±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

361 
»t
 = 
__kmp_cÚŒŞ_toŞ
(
commªd
, 
modif›r
, 
¬g
);

362 
·»Á_sk_šfo
->
äame
.
’‹r_äame
.
±r
 = 0;

363  
»t
;

368 
omp_®loÿtÜ_hªdË_t
 
FTN_STDCALL


369 
FTN_INIT_ALLOCATOR
(
omp_mem¥aû_hªdË_t
 
KMP_DEREF
 
m
, KMP_DEREF 
Á¿™s
,

370 
omp_®loù¿™_t
 
Œ
[]) {

371 #ifdeà
KMP_STUB


372  
NULL
;

374  
__kmpc_š™_®loÿtÜ
(
__kmp_’Œy_gtid
(), 
KMP_DEREF
 
m
,

375 
KMP_DEREF
 
Á¿™s
, 
Œ
);

379 
FTN_STDCALL
 
FTN_DESTROY_ALLOCATOR
(
omp_®loÿtÜ_hªdË_t
 
®
) {

380 #iâdeà
KMP_STUB


381 
__kmpc_de¡roy_®loÿtÜ
(
__kmp_’Œy_gtid
(), 
®
);

384 
FTN_STDCALL
 
FTN_SET_DEFAULT_ALLOCATOR
(
omp_®loÿtÜ_hªdË_t
 
®
) {

385 #iâdeà
KMP_STUB


386 
__kmpc_£t_deçuÉ_®loÿtÜ
(
__kmp_’Œy_gtid
(), 
®
);

389 
omp_®loÿtÜ_hªdË_t
 
FTN_STDCALL
 
FTN_GET_DEFAULT_ALLOCATOR
() {

390 #ifdeà
KMP_STUB


391  
NULL
;

393  
__kmpc_g‘_deçuÉ_®loÿtÜ
(
__kmp_’Œy_gtid
());

398 #iâdeà
KMP_STUB


399 
__kmp_fÜŒª_¡ºıy_Œunÿ‹
(*
bufãr
, 
size_t
 
buf_size
,

400 cÚ¡ *
c¤c
, 
size_t
 
c¤c_size
) {

401 
size_t
 
ÿµed_¤c_size
 = 
c¤c_size
;

402 ià(
c¤c_size
 >ğ
buf_size
) {

403 
ÿµed_¤c_size
 = 
buf_size
 - 1;

405 
KMP_STRNCPY_S
(
bufãr
, 
buf_size
, 
c¤c
, 
ÿµed_¤c_size
);

406 ià(
c¤c_size
 >ğ
buf_size
) {

407 
KMP_DEBUG_ASSERT
(
bufãr
[
buf_size
 - 1] == '\0');

408 
bufãr
[
buf_size
 - 1] = 
c¤c
[buf_size - 1];

410 
size_t
 
i
 = 
c¤c_size
; i < 
buf_size
; ++i)

411 
bufãr
[
i
] = ' ';

416 şas 
	cCÚv”‹dSŒšg
 {

417 *
buf
;

418 
kmp_šfo_t
 *
th
;

420 
public
:

421 
CÚv”‹dSŒšg
(cÚ¡ *
fÜŒª_¡r
, 
size_t
 
size
) {

422 
th
 = 
__kmp_g‘_th»ad
();

423 
buf
 = (*)
__kmp_th»ad_m®loc
(
th
, 
size
 + 1);

424 
KMP_STRNCPY_S
(
buf
, 
size
 + 1, 
fÜŒª_¡r
, size);

425 
buf
[
size
] = '\0';

427 ~
CÚv”‹dSŒšg
(è{ 
__kmp_th»ad_ä“
(
th
, 
buf
); }

428 cÚ¡ *
g‘
(ècÚ¡ {  
buf
; }

436 
FTN_STDCALL
 
	$FTN_SET_AFFINITY_FORMAT
(cÚ¡ *
fÜm©
, 
size_t
 
size
) {

437 #ifdeà
KMP_STUB


440 ià(!
__kmp_š™_£rŸl
) {

441 
	`__kmp_£rŸl_š™Ÿlize
();

443 
CÚv”‹dSŒšg
 
	`cfÜm©
(
fÜm©
, 
size
);

446 
	`__kmp_¡ºıy_Œunÿ‹
(
__kmp_affš™y_fÜm©
, 
KMP_AFFINITY_FORMAT_SIZE
,

447 
cfÜm©
.
	`g‘
(), 
	`KMP_STRLEN
(cformat.get()));

449 
	}
}

457 
size_t
 
FTN_STDCALL
 
	$FTN_GET_AFFINITY_FORMAT
(*
bufãr
, 
size_t
 
size
) {

458 #ifdeà
KMP_STUB


461 
size_t
 
fÜm©_size
;

462 ià(!
__kmp_š™_£rŸl
) {

463 
	`__kmp_£rŸl_š™Ÿlize
();

465 
fÜm©_size
 = 
	`KMP_STRLEN
(
__kmp_affš™y_fÜm©
);

466 ià(
bufãr
 && 
size
) {

467 
	`__kmp_fÜŒª_¡ºıy_Œunÿ‹
(
bufãr
, 
size
, 
__kmp_affš™y_fÜm©
,

468 
fÜm©_size
);

470  
fÜm©_size
;

472 
	}
}

479 
FTN_STDCALL
 
	$FTN_DISPLAY_AFFINITY
(cÚ¡ *
fÜm©
, 
size_t
 
size
) {

480 #ifdeà
KMP_STUB


483 
gtid
;

484 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

485 
	`__kmp_middË_š™Ÿlize
();

487 
gtid
 = 
	`__kmp_g‘_gtid
();

488 
CÚv”‹dSŒšg
 
	`cfÜm©
(
fÜm©
, 
size
);

489 
	`__kmp_aux_di¥Ïy_affš™y
(
gtid
, 
cfÜm©
.
	`g‘
());

491 
	}
}

503 
size_t
 
FTN_STDCALL
 
	$FTN_CAPTURE_AFFINITY
(*
bufãr
, cÚ¡ *
fÜm©
,

504 
size_t
 
buf_size
, size_ˆ
fÜ_size
) {

505 #ià
	`defšed
(
KMP_STUB
)

508 
gtid
;

509 
size_t
 
num_»quœed
;

510 
kmp_¡r_buf_t
 
ÿ±u»_buf
;

511 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

512 
	`__kmp_middË_š™Ÿlize
();

514 
gtid
 = 
	`__kmp_g‘_gtid
();

515 
	`__kmp_¡r_buf_š™
(&
ÿ±u»_buf
);

516 
CÚv”‹dSŒšg
 
	`cfÜm©
(
fÜm©
, 
fÜ_size
);

517 
num_»quœed
 = 
	`__kmp_aux_ÿ±u»_affš™y
(
gtid
, 
cfÜm©
.
	`g‘
(), &
ÿ±u»_buf
);

518 ià(
bufãr
 && 
buf_size
) {

519 
	`__kmp_fÜŒª_¡ºıy_Œunÿ‹
(
bufãr
, 
buf_size
, 
ÿ±u»_buf
.
¡r
,

520 
ÿ±u»_buf
.
u£d
);

522 
	`__kmp_¡r_buf_ä“
(&
ÿ±u»_buf
);

523  
num_»quœed
;

525 
	}
}

527 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_THREAD_NUM
)() {

528 #ifdeà
KMP_STUB


531 
gtid
;

533 #ià
KMP_OS_DARWIN
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

534 
KMP_OS_HURD
|| 
KMP_OS_OPENBSD


535 
gtid
 = 
	`__kmp_’Œy_gtid
();

536 #–ià
KMP_OS_WINDOWS


537 ià(!
__kmp_š™_·¿Î–
 ||

538 (
gtid
 = ()((
kmp_šŒ_t
)
	`TlsG‘V®ue
(
__kmp_gtid_th»ad´iv©e_key
))) ==

544 --
gtid
;

545 #–ià
KMP_OS_LINUX


546 #ifdeà
KMP_TDATA_GTID


547 ià(
__kmp_gtid_mode
 >= 3) {

548 ià((
gtid
 = 
__kmp_gtid
è=ğ
KMP_GTID_DNE
) {

553 ià(!
__kmp_š™_·¿Î–
 ||

554 (
gtid
 = (
kmp_šŒ_t
)(

555 
	`±h»ad_g‘¥ecific
(
__kmp_gtid_th»ad´iv©e_key
))) == 0) {

558 --
gtid
;

559 #ifdeà
KMP_TDATA_GTID


563 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS


566  
	`__kmp_tid_äom_gtid
(
gtid
);

568 
	}
}

570 
FTN_STDCALL
 
	$FTN_GET_NUM_KNOWN_THREADS
() {

571 #ifdeà
KMP_STUB


574 ià(!
__kmp_š™_£rŸl
) {

575 
	`__kmp_£rŸl_š™Ÿlize
();

579  
	`TCR_4
(
__kmp_Áh
);

581 
	}
}

583 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NUM_PROCS
)() {

584 #ifdeà
KMP_STUB


587 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

588 
	`__kmp_middË_š™Ÿlize
();

590  
__kmp_ava_´oc
;

592 
	}
}

594 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_NESTED
)(
KMP_DEREF
 
æag
) {

595 
	`KMP_INFORM
(
APID•»ÿ‹d
, "omp_set_nested", "omp_set_max_active_levels");

596 #ifdeà
KMP_STUB


597 
	`__kmps_£t_Ã¡ed
(
KMP_DEREF
 
æag
);

599 
kmp_šfo_t
 *
th»ad
;

601 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

602 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

604 
max_aùive_Ëv–s
 = 
	`g‘__max_aùive_Ëv–s
(
th»ad
);

605 ià(
max_aùive_Ëv–s
 == 1)

606 
max_aùive_Ëv–s
 = 
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

607 
	`£t__max_aùive_Ëv–s
(
th»ad
, (
KMP_DEREF
 
æag
è? 
max_aùive_Ëv–s
 : 1);

609 
	}
}

611 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NESTED
)() {

612 
	`KMP_INFORM
(
APID•»ÿ‹d
, "omp_get_nested", "omp_get_max_active_levels");

613 #ifdeà
KMP_STUB


614  
	`__kmps_g‘_Ã¡ed
();

616 
kmp_šfo_t
 *
th»ad
;

617 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

618  
	`g‘__max_aùive_Ëv–s
(
th»ad
) > 1;

620 
	}
}

622 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_DYNAMIC
)(
KMP_DEREF
 
æag
) {

623 #ifdeà
KMP_STUB


624 
	`__kmps_£t_dyÇmic
(
KMP_DEREF
 
æag
 ? 
TRUE
 : 
FALSE
);

626 
kmp_šfo_t
 *
th»ad
;

628 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

630 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

631 
	`£t__dyÇmic
(
th»ad
, 
KMP_DEREF
 
æag
 ? 
TRUE
 : 
FALSE
);

633 
	}
}

635 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_DYNAMIC
)() {

636 #ifdeà
KMP_STUB


637  
	`__kmps_g‘_dyÇmic
();

639 
kmp_šfo_t
 *
th»ad
;

640 
th»ad
 = 
	`__kmp_’Œy_th»ad
();

641  
	`g‘__dyÇmic
(
th»ad
);

643 
	}
}

645 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_IN_PARALLEL
)() {

646 #ifdeà
KMP_STUB


649 
kmp_šfo_t
 *
th
 = 
	`__kmp_’Œy_th»ad
();

650 ià(
th
->th.
th_‹ams_miüÙask
) {

655  (
th
->th.
th_‹am
->
t
.
t_aùive_Ëv–
 ? 1 : 0);

657  (
th
->th.
th_roÙ
->
r
.
r_š_·¿Î–
 ? 
FTN_TRUE
 : 
FTN_FALSE
);

659 
	}
}

661 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_SCHEDULE
)(
kmp_sched_t
 
KMP_DEREF
 
kšd
,

662 
KMP_DEREF
 
modif›r
) {

663 #ifdeà
KMP_STUB


664 
	`__kmps_£t_scheduË
(
KMP_DEREF
 
kšd
, KMP_DEREF 
modif›r
);

667 
	`__kmp_£t_scheduË
(
	`__kmp_’Œy_gtid
(), 
KMP_DEREF
 
kšd
, KMP_DEREF 
modif›r
);

669 
	}
}

671 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_SCHEDULE
)(
kmp_sched_t
 *
kšd
,

672 *
modif›r
) {

673 #ifdeà
KMP_STUB


674 
	`__kmps_g‘_scheduË
(
kšd
, 
modif›r
);

677 
	`__kmp_g‘_scheduË
(
	`__kmp_’Œy_gtid
(), 
kšd
, 
modif›r
);

679 
	}
}

681 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_MAX_ACTIVE_LEVELS
)(
KMP_DEREF
 
¬g
) {

682 #ifdeà
KMP_STUB


686 
	`__kmp_£t_max_aùive_Ëv–s
(
	`__kmp_’Œy_gtid
(), 
KMP_DEREF
 
¬g
);

688 
	}
}

690 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_MAX_ACTIVE_LEVELS
)() {

691 #ifdeà
KMP_STUB


695  
	`__kmp_g‘_max_aùive_Ëv–s
(
	`__kmp_’Œy_gtid
());

697 
	}
}

699 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_ACTIVE_LEVEL
)() {

700 #ifdeà
KMP_STUB


704  
	`__kmp_’Œy_th»ad
()->
th
.
th_‹am
->
t
.
t_aùive_Ëv–
;

706 
	}
}

708 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_LEVEL
)() {

709 #ifdeà
KMP_STUB


713  
	`__kmp_’Œy_th»ad
()->
th
.
th_‹am
->
t
.
t_Ëv–
;

715 
	}
}

717 
FTN_STDCALL


718 
	$KMP_EXPAND_NAME
(
FTN_GET_ANCESTOR_THREAD_NUM
)(
KMP_DEREF
 
Ëv–
) {

719 #ifdeà
KMP_STUB


720  (
KMP_DEREF
 
Ëv–
) ? (-1) : (0);

722  
	`__kmp_g‘_ªû¡Ü_th»ad_num
(
	`__kmp_’Œy_gtid
(), 
KMP_DEREF
 
Ëv–
);

724 
	}
}

726 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_TEAM_SIZE
)(
KMP_DEREF
 
Ëv–
) {

727 #ifdeà
KMP_STUB


728  (
KMP_DEREF
 
Ëv–
) ? (-1) : (1);

730  
	`__kmp_g‘_‹am_size
(
	`__kmp_’Œy_gtid
(), 
KMP_DEREF
 
Ëv–
);

732 
	}
}

734 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_THREAD_LIMIT
)() {

735 #ifdeà
KMP_STUB


738 
gtid
;

739 
kmp_šfo_t
 *
th»ad
;

740 ià(!
__kmp_š™_£rŸl
) {

741 
	`__kmp_£rŸl_š™Ÿlize
();

744 
gtid
 = 
	`__kmp_’Œy_gtid
();

745 
th»ad
 = 
__kmp_th»ads
[
gtid
];

746  
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
;

748 
	}
}

750 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_IN_FINAL
)() {

751 #ifdeà
KMP_STUB


754 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

757  
	`__kmp_’Œy_th»ad
()->
th
.
th_cu¼’t_sk
->
td_æags
.
fš®
;

759 
	}
}

761 
kmp_´oc_bšd_t
 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PROC_BIND
)() {

762 #ifdeà
KMP_STUB


763  
	`__kmps_g‘_´oc_bšd
();

765  
	`g‘__´oc_bšd
(
	`__kmp_’Œy_th»ad
());

767 
	}
}

769 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NUM_PLACES
)() {

770 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


773 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

774 
	`__kmp_middË_š™Ÿlize
();

776 ià(!
	`KMP_AFFINITY_CAPABLE
())

778  
__kmp_affš™y_num_masks
;

780 
	}
}

782 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PLACE_NUM_PROCS
)(
¶aû_num
) {

783 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


786 
i
;

787 
»tv®
 = 0;

788 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

789 
	`__kmp_middË_š™Ÿlize
();

791 ià(!
	`KMP_AFFINITY_CAPABLE
())

793 ià(
¶aû_num
 < 0 ||…Ïû_num >ğ()
__kmp_affš™y_num_masks
)

795 
kmp_affš_mask_t
 *
mask
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
¶aû_num
);

796 
	`KMP_CPU_SET_ITERATE
(
i
, 
mask
) {

797 ià((!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) ||

798 (!
	`KMP_CPU_ISSET
(
i
, 
mask
))) {

801 ++
»tv®
;

803  
»tv®
;

805 
	}
}

807 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PLACE_PROC_IDS
)(
¶aû_num
,

808 *
ids
) {

809 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


812 
i
, 
j
;

813 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

814 
	`__kmp_middË_š™Ÿlize
();

816 ià(!
	`KMP_AFFINITY_CAPABLE
())

818 ià(
¶aû_num
 < 0 ||…Ïû_num >ğ()
__kmp_affš™y_num_masks
)

820 
kmp_affš_mask_t
 *
mask
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
¶aû_num
);

821 
j
 = 0;

822 
	`KMP_CPU_SET_ITERATE
(
i
, 
mask
) {

823 ià((!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) ||

824 (!
	`KMP_CPU_ISSET
(
i
, 
mask
))) {

827 
ids
[
j
++] = 
i
;

830 
	}
}

832 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PLACE_NUM
)() {

833 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


836 
gtid
;

837 
kmp_šfo_t
 *
th»ad
;

838 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

839 
	`__kmp_middË_š™Ÿlize
();

841 ià(!
	`KMP_AFFINITY_CAPABLE
())

843 
gtid
 = 
	`__kmp_’Œy_gtid
();

844 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

845 ià(
th»ad
->
th
.
th_cu¼’t_¶aû
 < 0)

847  
th»ad
->
th
.
th_cu¼’t_¶aû
;

849 
	}
}

851 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PARTITION_NUM_PLACES
)() {

852 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


855 
gtid
, 
num_¶aûs
, 
fœ¡_¶aû
, 
Ï¡_¶aû
;

856 
kmp_šfo_t
 *
th»ad
;

857 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

858 
	`__kmp_middË_š™Ÿlize
();

860 ià(!
	`KMP_AFFINITY_CAPABLE
())

862 
gtid
 = 
	`__kmp_’Œy_gtid
();

863 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

864 
fœ¡_¶aû
 = 
th»ad
->
th
.
th_fœ¡_¶aû
;

865 
Ï¡_¶aû
 = 
th»ad
->
th
.
th_Ï¡_¶aû
;

866 ià(
fœ¡_¶aû
 < 0 || 
Ï¡_¶aû
 < 0)

868 ià(
fœ¡_¶aû
 <ğ
Ï¡_¶aû
)

869 
num_¶aûs
 = 
Ï¡_¶aû
 - 
fœ¡_¶aû
 + 1;

871 
num_¶aûs
 = 
__kmp_affš™y_num_masks
 - 
fœ¡_¶aû
 + 
Ï¡_¶aû
 + 1;

872  
num_¶aûs
;

874 
	}
}

877 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_PARTITION_PLACE_NUMS
)(*
¶aû_nums
) {

878 #ià
	`defšed
(
KMP_STUB
è|| !
KMP_AFFINITY_SUPPORTED


881 
i
, 
gtid
, 
¶aû_num
, 
fœ¡_¶aû
, 
Ï¡_¶aû
, 
¡¬t
, 
’d
;

882 
kmp_šfo_t
 *
th»ad
;

883 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

884 
	`__kmp_middË_š™Ÿlize
();

886 ià(!
	`KMP_AFFINITY_CAPABLE
())

888 
gtid
 = 
	`__kmp_’Œy_gtid
();

889 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

890 
fœ¡_¶aû
 = 
th»ad
->
th
.
th_fœ¡_¶aû
;

891 
Ï¡_¶aû
 = 
th»ad
->
th
.
th_Ï¡_¶aû
;

892 ià(
fœ¡_¶aû
 < 0 || 
Ï¡_¶aû
 < 0)

894 ià(
fœ¡_¶aû
 <ğ
Ï¡_¶aû
) {

895 
¡¬t
 = 
fœ¡_¶aû
;

896 
’d
 = 
Ï¡_¶aû
;

898 
¡¬t
 = 
Ï¡_¶aû
;

899 
’d
 = 
fœ¡_¶aû
;

901 
i
 = 0, 
¶aû_num
 = 
¡¬t
;…Ïû_num <ğ
’d
; ++place_num, ++i) {

902 
¶aû_nums
[
i
] = 
¶aû_num
;

905 
	}
}

907 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NUM_TEAMS
)() {

908 #ifdeà
KMP_STUB


911  
	`__kmp_aux_g‘_num_‹ams
();

913 
	}
}

915 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_TEAM_NUM
)() {

916 #ifdeà
KMP_STUB


919  
	`__kmp_aux_g‘_‹am_num
();

921 
	}
}

923 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_DEFAULT_DEVICE
)() {

924 #ià
KMP_MIC
 || 
KMP_OS_DARWIN
 || 
	`defšed
(
KMP_STUB
)

927  
	`__kmp_’Œy_th»ad
()->
th
.
th_cu¼’t_sk
->
td_icvs
.
deçuÉ_deviû
;

929 
	}
}

931 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_DEFAULT_DEVICE
)(
KMP_DEREF
 
¬g
) {

932 #ià
KMP_MIC
 || 
KMP_OS_DARWIN
 || 
	`defšed
(
KMP_STUB
)

935 
	`__kmp_’Œy_th»ad
()->
th
.
th_cu¼’t_sk
->
td_icvs
.
deçuÉ_deviû
 =

936 
KMP_DEREF
 
¬g
;

938 
	}
}

942 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NUM_DEVICES
)(è
KMP_WEAK_ATTRIBUTE
;

943 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_NUM_DEVICES
)() {

944 #ià
KMP_MIC
 || 
KMP_OS_DARWIN
 || 
KMP_OS_WINDOWS
 || 
	`defšed
(
KMP_STUB
)

947 (*
åŒ
)();

948 ià((*(**)(&
åŒ
èğ
	`dlsym
(
RTLD_DEFAULT
, "_Offload_number_of_devices"))) {

949  (*
åŒ
)();

950 } ià((*(**)(&
åŒ
èğ
	`dlsym
(
RTLD_NEXT
, "omp_get_num_devices"))) {

951  (*
åŒ
)();

956 
	}
}

960 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_IS_INITIAL_DEVICE
)(è
KMP_WEAK_ATTRIBUTE
;

961 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_IS_INITIAL_DEVICE
)() {

963 
	}
}

966 
FTN_STDCALL
 
	$FTN_GET_INITIAL_DEVICE
(è
KMP_WEAK_ATTRIBUTE
;

967 
FTN_STDCALL
 
	$FTN_GET_INITIAL_DEVICE
() {

968 #ià
KMP_MIC
 || 
KMP_OS_DARWIN
 || 
KMP_OS_WINDOWS
 || 
	`defšed
(
KMP_STUB
)

969  
KMP_HOST_DEVICE
;

971 (*
åŒ
)();

972 ià((*(**)(&
åŒ
èğ
	`dlsym
(
RTLD_NEXT
, "omp_get_initial_device"))) {

973  (*
åŒ
)();

975  
KMP_HOST_DEVICE
;

978 
	}
}

980 #ià
	$defšed
(
KMP_STUB
)

983 *
FTN_STDCALL
 
	$FTN_TARGET_ALLOC
(
size_t
 
size
, 
deviû_num
è{  0; 
	}
}

985 
FTN_STDCALL
 
	$FTN_TARGET_FREE
(*
deviû_±r
, 
deviû_num
è{
	}
}

987 
FTN_STDCALL
 
	$FTN_TARGET_IS_PRESENT
(*
±r
, 
deviû_num
è{  0; 
	}
}

989 
FTN_STDCALL
 
	$FTN_TARGET_MEMCPY
(*
d¡
, *
¤c
, 
size_t
 
Ëngth
,

990 
size_t
 
d¡_off£t
, size_ˆ
¤c_off£t
,

991 
d¡_deviû
, 
¤c_deviû
) {

993 
	}
}

995 
FTN_STDCALL
 
	$FTN_TARGET_MEMCPY_RECT
(

996 *
d¡
, *
¤c
, 
size_t
 
–em’t_size
, 
num_dims
,

997 cÚ¡ 
size_t
 *
vŞume
, cÚ¡ size_ˆ*
d¡_off£ts
, cÚ¡ size_ˆ*
¤c_off£ts
,

998 cÚ¡ 
size_t
 *
d¡_dim’siÚs
, cÚ¡ size_ˆ*
¤c_dim’siÚs
, 
d¡_deviû
,

999 
¤c_deviû
) {

1001 
	}
}

1003 
FTN_STDCALL
 
	$FTN_TARGET_ASSOCIATE_PTR
(*
ho¡_±r
, *
deviû_±r
,

1004 
size_t
 
size
, size_ˆ
deviû_off£t
,

1005 
deviû_num
) {

1007 
	}
}

1009 
FTN_STDCALL
 
	$FTN_TARGET_DISASSOCIATE_PTR
(*
ho¡_±r
, 
deviû_num
) {

1011 
	}
}

1014 #ifdeà
KMP_STUB


1015 ’um { 
UNINIT
 = -1, 
UNLOCKED
, 
LOCKED
 } 
	tkmp_¡ub_lock_t
;

1018 #ià
KMP_USE_DYNAMIC_LOCK


1019 
FTN_STDCALL
 
	$FTN_INIT_LOCK_WITH_HINT
(**
u£r_lock
,

1020 
ušŒ_t
 
KMP_DEREF
 
hšt
) {

1021 #ifdeà
KMP_STUB


1022 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNLOCKED
;

1024 
gtid
 = 
	`__kmp_’Œy_gtid
();

1025 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1026 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1028 
	`__kmpc_š™_lock_w™h_hšt
(
NULL
, 
gtid
, 
u£r_lock
, 
KMP_DEREF
 
hšt
);

1030 
	}
}

1032 
FTN_STDCALL
 
	$FTN_INIT_NEST_LOCK_WITH_HINT
(**
u£r_lock
,

1033 
ušŒ_t
 
KMP_DEREF
 
hšt
) {

1034 #ifdeà
KMP_STUB


1035 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNLOCKED
;

1037 
gtid
 = 
	`__kmp_’Œy_gtid
();

1038 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1039 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1041 
	`__kmpc_š™_Ã¡_lock_w™h_hšt
(
NULL
, 
gtid
, 
u£r_lock
, 
KMP_DEREF
 
hšt
);

1043 
	}
}

1047 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_INIT_LOCK
)(**
u£r_lock
) {

1048 #ifdeà
KMP_STUB


1049 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNLOCKED
;

1051 
gtid
 = 
	`__kmp_’Œy_gtid
();

1052 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1053 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1055 
	`__kmpc_š™_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1057 
	}
}

1060 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_INIT_NEST_LOCK
)(**
u£r_lock
) {

1061 #ifdeà
KMP_STUB


1062 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNLOCKED
;

1064 
gtid
 = 
	`__kmp_’Œy_gtid
();

1065 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1066 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1068 
	`__kmpc_š™_Ã¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1070 
	}
}

1072 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_DESTROY_LOCK
)(**
u£r_lock
) {

1073 #ifdeà
KMP_STUB


1074 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNINIT
;

1076 
gtid
 = 
	`__kmp_’Œy_gtid
();

1077 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1078 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1080 
	`__kmpc_de¡roy_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1082 
	}
}

1084 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_DESTROY_NEST_LOCK
)(**
u£r_lock
) {

1085 #ifdeà
KMP_STUB


1086 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNINIT
;

1088 
gtid
 = 
	`__kmp_’Œy_gtid
();

1089 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1090 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1092 
	`__kmpc_de¡roy_Ã¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1094 
	}
}

1096 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_LOCK
)(**
u£r_lock
) {

1097 #ifdeà
KMP_STUB


1098 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1101 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è!ğ
UNLOCKED
) {

1104 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
LOCKED
;

1106 
gtid
 = 
	`__kmp_’Œy_gtid
();

1107 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1108 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1110 
	`__kmpc_£t_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1112 
	}
}

1114 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_SET_NEST_LOCK
)(**
u£r_lock
) {

1115 #ifdeà
KMP_STUB


1116 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1119 (*((*)
u£r_lock
))++;

1121 
gtid
 = 
	`__kmp_’Œy_gtid
();

1122 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1123 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1125 
	`__kmpc_£t_Ã¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1127 
	}
}

1129 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_UNSET_LOCK
)(**
u£r_lock
) {

1130 #ifdeà
KMP_STUB


1131 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1134 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNLOCKED
) {

1137 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
UNLOCKED
;

1139 
gtid
 = 
	`__kmp_’Œy_gtid
();

1140 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1141 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1143 
	`__kmpc_un£t_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1145 
	}
}

1147 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_UNSET_NEST_LOCK
)(**
u£r_lock
) {

1148 #ifdeà
KMP_STUB


1149 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1152 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNLOCKED
) {

1155 (*((*)
u£r_lock
))--;

1157 
gtid
 = 
	`__kmp_’Œy_gtid
();

1158 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1159 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1161 
	`__kmpc_un£t_Ã¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1163 
	}
}

1165 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_TEST_LOCK
)(**
u£r_lock
) {

1166 #ifdeà
KMP_STUB


1167 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1170 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
LOCKED
) {

1173 *((
kmp_¡ub_lock_t
 *)
u£r_lock
èğ
LOCKED
;

1176 
gtid
 = 
	`__kmp_’Œy_gtid
();

1177 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1178 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1180  
	`__kmpc_‹¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1182 
	}
}

1184 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_TEST_NEST_LOCK
)(**
u£r_lock
) {

1185 #ifdeà
KMP_STUB


1186 ià(*((
kmp_¡ub_lock_t
 *)
u£r_lock
è=ğ
UNINIT
) {

1189  ++(*((*)
u£r_lock
));

1191 
gtid
 = 
	`__kmp_’Œy_gtid
();

1192 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1193 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1195  
	`__kmpc_‹¡_Ã¡_lock
(
NULL
, 
gtid
, 
u£r_lock
);

1197 
	}
}

1199 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_WTIME
)() {

1200 #ifdeà
KMP_STUB


1201  
	`__kmps_g‘_wtime
();

1203 
d©a
;

1204 #ià!
KMP_OS_LINUX


1207 ià(!
__kmp_š™_£rŸl
) {

1208 
	`__kmp_£rŸl_š™Ÿlize
();

1211 
	`__kmp_–­£d
(&
d©a
);

1212  
d©a
;

1214 
	}
}

1216 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_WTICK
)() {

1217 #ifdeà
KMP_STUB


1218  
	`__kmps_g‘_wtick
();

1220 
d©a
;

1221 ià(!
__kmp_š™_£rŸl
) {

1222 
	`__kmp_£rŸl_š™Ÿlize
();

1224 
	`__kmp_–­£d_tick
(&
d©a
);

1225  
d©a
;

1227 
	}
}

1231 *
FTN_STDCALL
 
	$FTN_MALLOC
(
size_t
 
KMP_DEREF
 
size
) {

1233  
	`kmpc_m®loc
(
KMP_DEREF
 
size
);

1234 
	}
}

1236 *
FTN_STDCALL
 
	$FTN_ALIGNED_MALLOC
(
size_t
 
KMP_DEREF
 
size
,

1237 
size_t
 
KMP_DEREF
 
®ignm’t
) {

1239  
	`kmpc_®igÃd_m®loc
(
KMP_DEREF
 
size
, KMP_DEREF 
®ignm’t
);

1240 
	}
}

1242 *
FTN_STDCALL
 
	$FTN_CALLOC
(
size_t
 
KMP_DEREF
 
ÃËm
, size_ˆKMP_DEREF 
–size
) {

1244  
	`kmpc_ÿÎoc
(
KMP_DEREF
 
ÃËm
, KMP_DEREF 
–size
);

1245 
	}
}

1247 *
FTN_STDCALL
 
	$FTN_REALLOC
(*
KMP_DEREF
 
±r
, 
size_t
 KMP_DEREF 
size
) {

1249  
	`kmpc_»®loc
(
KMP_DEREF
 
±r
, KMP_DEREF 
size
);

1250 
	}
}

1252 
FTN_STDCALL
 
	$FTN_KFREE
(*
KMP_DEREF
 
±r
) {

1254 
	`kmpc_ä“
(
KMP_DEREF
 
±r
);

1255 
	}
}

1257 
FTN_STDCALL
 
	$FTN_SET_WARNINGS_ON
() {

1258 #iâdeà
KMP_STUB


1259 
__kmp_g’”©e_w¬nšgs
 = 
kmp_w¬nšgs_ex¶ic™
;

1261 
	}
}

1263 
FTN_STDCALL
 
	$FTN_SET_WARNINGS_OFF
() {

1264 #iâdeà
KMP_STUB


1265 
__kmp_g’”©e_w¬nšgs
 = 
FALSE
;

1267 
	}
}

1269 
FTN_STDCALL
 
FTN_SET_DEFAULTS
(cÚ¡ *
¡r


1270 #iâdeà
PASS_ARGS_BY_VALUE


1272 
Ën


1275 #iâdeà
KMP_STUB


1276 #ifdeà
PASS_ARGS_BY_VALUE


1277 
Ën
 = ()
KMP_STRLEN
(
¡r
);

1279 
__kmp_aux_£t_deçuÉs
(
¡r
, 
Ën
);

1286 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_CANCELLATION
)() {

1287 #ifdeà
KMP_STUB


1291 ià(!
__kmp_š™_£rŸl
) {

1292 
	`__kmp_£rŸl_š™Ÿlize
();

1294  
__kmp_omp_ÿnûÎ©iÚ
;

1296 
	}
}

1298 
FTN_STDCALL
 
	$FTN_GET_CANCELLATION_STATUS
(
ÿnûl_kšd
) {

1299 #ifdeà
KMP_STUB


1302  
	`__kmp_g‘_ÿnûÎ©iÚ_¡©us
(
ÿnûl_kšd
);

1304 
	}
}

1307 
FTN_STDCALL
 
	$KMP_EXPAND_NAME
(
FTN_GET_MAX_TASK_PRIORITY
)() {

1308 #ifdeà
KMP_STUB


1311 ià(!
__kmp_š™_£rŸl
) {

1312 
	`__kmp_£rŸl_š™Ÿlize
();

1314  
__kmp_max_sk_´iÜ™y
;

1316 
	}
}

1321 
FTN_STDCALL
 
	$FTN_GET_DEVICE_NUM
(è
KMP_WEAK_ATTRIBUTE
;

1322 
FTN_STDCALL
 
	$FTN_GET_DEVICE_NUM
(è{  
KMP_HOST_DEVICE
; 
	}
}

1325 
FTN_STDCALL
 
	$FTN_PAUSE_RESOURCE
(
kmp_·u£_¡©us_t
 
kšd
, 
deviû_num
) {

1326 #ifdeà
KMP_STUB


1329 ià(
deviû_num
 =ğ
KMP_HOST_DEVICE
)

1330  
	`__kmpc_·u£_»sourû
(
kšd
);

1332 #ià!
KMP_OS_WINDOWS


1333 (*
åŒ
)(
kmp_·u£_¡©us_t
, );

1334 ià((*(**)(&
åŒ
èğ
	`dlsym
(
RTLD_DEFAULT
, "tgt_pause_resource")))

1335  (*
åŒ
)(
kšd
, 
deviû_num
);

1341 
	}
}

1344 
FTN_STDCALL
 
	$FTN_PAUSE_RESOURCE_ALL
(
kmp_·u£_¡©us_t
 
kšd
) {

1345 #ifdeà
KMP_STUB


1348 
çs
 = 0;

1349 #ià!
KMP_OS_WINDOWS


1350 (*
åŒ
)(
kmp_·u£_¡©us_t
, );

1351 ià((*(**)(&
åŒ
èğ
	`dlsym
(
RTLD_DEFAULT
, "tgt_pause_resource")))

1352 
çs
 = (*
åŒ
)(
kšd
, 
KMP_DEVICE_ALL
);

1354 
çs
 +ğ
	`__kmpc_·u£_»sourû
(
kšd
);

1355  
çs
;

1357 
	}
}

1360 
FTN_STDCALL
 
	$FTN_GET_SUPPORTED_ACTIVE_LEVELS
() {

1361 #ifdeà
KMP_STUB


1364  
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

1366 
	}
}

1368 
FTN_STDCALL
 
	$FTN_FULFILL_EVENT
(
kmp_ev’t_t
 *
ev’t
) {

1369 #iâdeà
KMP_STUB


1370 
	`__kmp_fulfl_ev’t
(
ev’t
);

1372 
	}
}

1375 
FTN_STDCALL
 
	$FTN_DISPLAY_ENV
(
v”bo£
) {

1376 #iâdeà
KMP_STUB


1377 
	`__kmp_omp_di¥Ïy_’v
(
v”bo£
);

1379 
	}
}

1382 #ifdeà
KMP_USE_VERSION_SYMBOLS


1404 
KMP_VERSION_SYMBOL
(
FTN_SET_NUM_THREADS
, 10, "OMP_1.0");

1405 
KMP_VERSION_SYMBOL
(
FTN_GET_NUM_THREADS
, 10, "OMP_1.0");

1406 
KMP_VERSION_SYMBOL
(
FTN_GET_MAX_THREADS
, 10, "OMP_1.0");

1407 
KMP_VERSION_SYMBOL
(
FTN_GET_THREAD_NUM
, 10, "OMP_1.0");

1408 
KMP_VERSION_SYMBOL
(
FTN_GET_NUM_PROCS
, 10, "OMP_1.0");

1409 
KMP_VERSION_SYMBOL
(
FTN_IN_PARALLEL
, 10, "OMP_1.0");

1410 
KMP_VERSION_SYMBOL
(
FTN_SET_DYNAMIC
, 10, "OMP_1.0");

1411 
KMP_VERSION_SYMBOL
(
FTN_GET_DYNAMIC
, 10, "OMP_1.0");

1412 
KMP_VERSION_SYMBOL
(
FTN_SET_NESTED
, 10, "OMP_1.0");

1413 
KMP_VERSION_SYMBOL
(
FTN_GET_NESTED
, 10, "OMP_1.0");

1414 
KMP_VERSION_SYMBOL
(
FTN_INIT_LOCK
, 10, "OMP_1.0");

1415 
KMP_VERSION_SYMBOL
(
FTN_INIT_NEST_LOCK
, 10, "OMP_1.0");

1416 
KMP_VERSION_SYMBOL
(
FTN_DESTROY_LOCK
, 10, "OMP_1.0");

1417 
KMP_VERSION_SYMBOL
(
FTN_DESTROY_NEST_LOCK
, 10, "OMP_1.0");

1418 
KMP_VERSION_SYMBOL
(
FTN_SET_LOCK
, 10, "OMP_1.0");

1419 
KMP_VERSION_SYMBOL
(
FTN_SET_NEST_LOCK
, 10, "OMP_1.0");

1420 
KMP_VERSION_SYMBOL
(
FTN_UNSET_LOCK
, 10, "OMP_1.0");

1421 
KMP_VERSION_SYMBOL
(
FTN_UNSET_NEST_LOCK
, 10, "OMP_1.0");

1422 
KMP_VERSION_SYMBOL
(
FTN_TEST_LOCK
, 10, "OMP_1.0");

1423 
KMP_VERSION_SYMBOL
(
FTN_TEST_NEST_LOCK
, 10, "OMP_1.0");

1426 
KMP_VERSION_SYMBOL
(
FTN_GET_WTICK
, 20, "OMP_2.0");

1427 
KMP_VERSION_SYMBOL
(
FTN_GET_WTIME
, 20, "OMP_2.0");

1430 
KMP_VERSION_SYMBOL
(
FTN_SET_SCHEDULE
, 30, "OMP_3.0");

1431 
KMP_VERSION_SYMBOL
(
FTN_GET_SCHEDULE
, 30, "OMP_3.0");

1432 
KMP_VERSION_SYMBOL
(
FTN_GET_THREAD_LIMIT
, 30, "OMP_3.0");

1433 
KMP_VERSION_SYMBOL
(
FTN_SET_MAX_ACTIVE_LEVELS
, 30, "OMP_3.0");

1434 
KMP_VERSION_SYMBOL
(
FTN_GET_MAX_ACTIVE_LEVELS
, 30, "OMP_3.0");

1435 
KMP_VERSION_SYMBOL
(
FTN_GET_ANCESTOR_THREAD_NUM
, 30, "OMP_3.0");

1436 
KMP_VERSION_SYMBOL
(
FTN_GET_LEVEL
, 30, "OMP_3.0");

1437 
KMP_VERSION_SYMBOL
(
FTN_GET_TEAM_SIZE
, 30, "OMP_3.0");

1438 
KMP_VERSION_SYMBOL
(
FTN_GET_ACTIVE_LEVEL
, 30, "OMP_3.0");

1441 
KMP_VERSION_SYMBOL
(
FTN_INIT_LOCK
, 30, "OMP_3.0");

1442 
KMP_VERSION_SYMBOL
(
FTN_INIT_NEST_LOCK
, 30, "OMP_3.0");

1443 
KMP_VERSION_SYMBOL
(
FTN_DESTROY_LOCK
, 30, "OMP_3.0");

1444 
KMP_VERSION_SYMBOL
(
FTN_DESTROY_NEST_LOCK
, 30, "OMP_3.0");

1445 
KMP_VERSION_SYMBOL
(
FTN_SET_LOCK
, 30, "OMP_3.0");

1446 
KMP_VERSION_SYMBOL
(
FTN_SET_NEST_LOCK
, 30, "OMP_3.0");

1447 
KMP_VERSION_SYMBOL
(
FTN_UNSET_LOCK
, 30, "OMP_3.0");

1448 
KMP_VERSION_SYMBOL
(
FTN_UNSET_NEST_LOCK
, 30, "OMP_3.0");

1449 
KMP_VERSION_SYMBOL
(
FTN_TEST_LOCK
, 30, "OMP_3.0");

1450 
KMP_VERSION_SYMBOL
(
FTN_TEST_NEST_LOCK
, 30, "OMP_3.0");

1453 
KMP_VERSION_SYMBOL
(
FTN_IN_FINAL
, 31, "OMP_3.1");

1456 
KMP_VERSION_SYMBOL
(
FTN_GET_PROC_BIND
, 40, "OMP_4.0");

1457 
KMP_VERSION_SYMBOL
(
FTN_GET_NUM_TEAMS
, 40, "OMP_4.0");

1458 
KMP_VERSION_SYMBOL
(
FTN_GET_TEAM_NUM
, 40, "OMP_4.0");

1459 
KMP_VERSION_SYMBOL
(
FTN_GET_CANCELLATION
, 40, "OMP_4.0");

1460 
KMP_VERSION_SYMBOL
(
FTN_GET_DEFAULT_DEVICE
, 40, "OMP_4.0");

1461 
KMP_VERSION_SYMBOL
(
FTN_SET_DEFAULT_DEVICE
, 40, "OMP_4.0");

1462 
KMP_VERSION_SYMBOL
(
FTN_IS_INITIAL_DEVICE
, 40, "OMP_4.0");

1463 
KMP_VERSION_SYMBOL
(
FTN_GET_NUM_DEVICES
, 40, "OMP_4.0");

1466 
KMP_VERSION_SYMBOL
(
FTN_GET_MAX_TASK_PRIORITY
, 45, "OMP_4.5");

1467 
KMP_VERSION_SYMBOL
(
FTN_GET_NUM_PLACES
, 45, "OMP_4.5");

1468 
KMP_VERSION_SYMBOL
(
FTN_GET_PLACE_NUM_PROCS
, 45, "OMP_4.5");

1469 
KMP_VERSION_SYMBOL
(
FTN_GET_PLACE_PROC_IDS
, 45, "OMP_4.5");

1470 
KMP_VERSION_SYMBOL
(
FTN_GET_PLACE_NUM
, 45, "OMP_4.5");

1471 
KMP_VERSION_SYMBOL
(
FTN_GET_PARTITION_NUM_PLACES
, 45, "OMP_4.5");

1472 
KMP_VERSION_SYMBOL
(
FTN_GET_PARTITION_PLACE_NUMS
, 45, "OMP_4.5");

1484 #ifdeà
__ılu¥lus


	@kmp_ftn_extra.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

16 #ià
KMP_OS_WINDOWS


17 
	#KMP_FTN_ENTRIES
 
KMP_FTN_PLAIN


	)

18 #–ià
KMP_OS_UNIX


19 
	#KMP_FTN_ENTRIES
 
KMP_FTN_APPEND


	)

23 cÚ¡ 
	g__kmp_v”siÚ_áÃxŒa
[] =

24 
KMP_VERSION_PREFIX
 "Fortran \"extra\" OMP support: "

25 #ifdeà
KMP_FTN_ENTRIES


27 
	#FTN_STDCALL


	)

28 
	~"kmp_án_os.h
"

29 
	~"kmp_án_’Œy.h
"

	@kmp_ftn_os.h

13 #iâdeà
KMP_FTN_OS_H


14 
	#KMP_FTN_OS_H


	)

21 #ià
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_PLAIN


23 
	#FTN_SET_STACKSIZE
 
kmp_£t_¡acksize


	)

24 
	#FTN_SET_STACKSIZE_S
 
kmp_£t_¡acksize_s


	)

25 
	#FTN_GET_STACKSIZE
 
kmp_g‘_¡acksize


	)

26 
	#FTN_GET_STACKSIZE_S
 
kmp_g‘_¡acksize_s


	)

27 
	#FTN_SET_BLOCKTIME
 
kmp_£t_blocktime


	)

28 
	#FTN_GET_BLOCKTIME
 
kmp_g‘_blocktime


	)

29 
	#FTN_SET_LIBRARY_SERIAL
 
kmp_£t_lib¿ry_£rŸl


	)

30 
	#FTN_SET_LIBRARY_TURNAROUND
 
kmp_£t_lib¿ry_tuº¬ound


	)

31 
	#FTN_SET_LIBRARY_THROUGHPUT
 
kmp_£t_lib¿ry_throughput


	)

32 
	#FTN_SET_LIBRARY
 
kmp_£t_lib¿ry


	)

33 
	#FTN_GET_LIBRARY
 
kmp_g‘_lib¿ry


	)

34 
	#FTN_SET_DEFAULTS
 
kmp_£t_deçuÉs


	)

35 
	#FTN_SET_DISP_NUM_BUFFERS
 
kmp_£t_di¥_num_bufãrs


	)

36 
	#FTN_SET_AFFINITY
 
kmp_£t_affš™y


	)

37 
	#FTN_GET_AFFINITY
 
kmp_g‘_affš™y


	)

38 
	#FTN_GET_AFFINITY_MAX_PROC
 
kmp_g‘_affš™y_max_´oc


	)

39 
	#FTN_CREATE_AFFINITY_MASK
 
kmp_ü—‹_affš™y_mask


	)

40 
	#FTN_DESTROY_AFFINITY_MASK
 
kmp_de¡roy_affš™y_mask


	)

41 
	#FTN_SET_AFFINITY_MASK_PROC
 
kmp_£t_affš™y_mask_´oc


	)

42 
	#FTN_UNSET_AFFINITY_MASK_PROC
 
kmp_un£t_affš™y_mask_´oc


	)

43 
	#FTN_GET_AFFINITY_MASK_PROC
 
kmp_g‘_affš™y_mask_´oc


	)

45 
	#FTN_MALLOC
 
kmp_m®loc


	)

46 
	#FTN_ALIGNED_MALLOC
 
kmp_®igÃd_m®loc


	)

47 
	#FTN_CALLOC
 
kmp_ÿÎoc


	)

48 
	#FTN_REALLOC
 
kmp_»®loc


	)

49 
	#FTN_KFREE
 
kmp_ä“


	)

51 
	#FTN_GET_NUM_KNOWN_THREADS
 
kmp_g‘_num_known_th»ads


	)

53 
	#FTN_SET_NUM_THREADS
 
omp_£t_num_th»ads


	)

54 
	#FTN_GET_NUM_THREADS
 
omp_g‘_num_th»ads


	)

55 
	#FTN_GET_MAX_THREADS
 
omp_g‘_max_th»ads


	)

56 
	#FTN_GET_THREAD_NUM
 
omp_g‘_th»ad_num


	)

57 
	#FTN_GET_NUM_PROCS
 
omp_g‘_num_´ocs


	)

58 
	#FTN_SET_DYNAMIC
 
omp_£t_dyÇmic


	)

59 
	#FTN_GET_DYNAMIC
 
omp_g‘_dyÇmic


	)

60 
	#FTN_SET_NESTED
 
omp_£t_Ã¡ed


	)

61 
	#FTN_GET_NESTED
 
omp_g‘_Ã¡ed


	)

62 
	#FTN_IN_PARALLEL
 
omp_š_·¿Î–


	)

63 
	#FTN_GET_THREAD_LIMIT
 
omp_g‘_th»ad_lim™


	)

64 
	#FTN_SET_SCHEDULE
 
omp_£t_scheduË


	)

65 
	#FTN_GET_SCHEDULE
 
omp_g‘_scheduË


	)

66 
	#FTN_SET_MAX_ACTIVE_LEVELS
 
omp_£t_max_aùive_Ëv–s


	)

67 
	#FTN_GET_MAX_ACTIVE_LEVELS
 
omp_g‘_max_aùive_Ëv–s


	)

68 
	#FTN_GET_ACTIVE_LEVEL
 
omp_g‘_aùive_Ëv–


	)

69 
	#FTN_GET_LEVEL
 
omp_g‘_Ëv–


	)

70 
	#FTN_GET_ANCESTOR_THREAD_NUM
 
omp_g‘_ªû¡Ü_th»ad_num


	)

71 
	#FTN_GET_TEAM_SIZE
 
omp_g‘_‹am_size


	)

72 
	#FTN_IN_FINAL
 
omp_š_fš®


	)

73 
	#FTN_GET_PROC_BIND
 
omp_g‘_´oc_bšd


	)

74 
	#FTN_GET_NUM_TEAMS
 
omp_g‘_num_‹ams


	)

75 
	#FTN_GET_TEAM_NUM
 
omp_g‘_‹am_num


	)

76 
	#FTN_INIT_LOCK
 
omp_š™_lock


	)

77 #ià
KMP_USE_DYNAMIC_LOCK


78 
	#FTN_INIT_LOCK_WITH_HINT
 
omp_š™_lock_w™h_hšt


	)

79 
	#FTN_INIT_NEST_LOCK_WITH_HINT
 
omp_š™_Ã¡_lock_w™h_hšt


	)

81 
	#FTN_DESTROY_LOCK
 
omp_de¡roy_lock


	)

82 
	#FTN_SET_LOCK
 
omp_£t_lock


	)

83 
	#FTN_UNSET_LOCK
 
omp_un£t_lock


	)

84 
	#FTN_TEST_LOCK
 
omp_‹¡_lock


	)

85 
	#FTN_INIT_NEST_LOCK
 
omp_š™_Ã¡_lock


	)

86 
	#FTN_DESTROY_NEST_LOCK
 
omp_de¡roy_Ã¡_lock


	)

87 
	#FTN_SET_NEST_LOCK
 
omp_£t_Ã¡_lock


	)

88 
	#FTN_UNSET_NEST_LOCK
 
omp_un£t_Ã¡_lock


	)

89 
	#FTN_TEST_NEST_LOCK
 
omp_‹¡_Ã¡_lock


	)

91 
	#FTN_SET_WARNINGS_ON
 
kmp_£t_w¬nšgs_Ú


	)

92 
	#FTN_SET_WARNINGS_OFF
 
kmp_£t_w¬nšgs_off


	)

94 
	#FTN_GET_WTIME
 
omp_g‘_wtime


	)

95 
	#FTN_GET_WTICK
 
omp_g‘_wtick


	)

97 
	#FTN_GET_NUM_DEVICES
 
omp_g‘_num_deviûs


	)

98 
	#FTN_GET_DEFAULT_DEVICE
 
omp_g‘_deçuÉ_deviû


	)

99 
	#FTN_SET_DEFAULT_DEVICE
 
omp_£t_deçuÉ_deviû


	)

100 
	#FTN_IS_INITIAL_DEVICE
 
omp_is_š™Ÿl_deviû


	)

102 
	#FTN_GET_CANCELLATION
 
omp_g‘_ÿnûÎ©iÚ


	)

103 
	#FTN_GET_CANCELLATION_STATUS
 
kmp_g‘_ÿnûÎ©iÚ_¡©us


	)

105 
	#FTN_GET_MAX_TASK_PRIORITY
 
omp_g‘_max_sk_´iÜ™y


	)

106 
	#FTN_GET_NUM_PLACES
 
omp_g‘_num_¶aûs


	)

107 
	#FTN_GET_PLACE_NUM_PROCS
 
omp_g‘_¶aû_num_´ocs


	)

108 
	#FTN_GET_PLACE_PROC_IDS
 
omp_g‘_¶aû_´oc_ids


	)

109 
	#FTN_GET_PLACE_NUM
 
omp_g‘_¶aû_num


	)

110 
	#FTN_GET_PARTITION_NUM_PLACES
 
omp_g‘_·¹™iÚ_num_¶aûs


	)

111 
	#FTN_GET_PARTITION_PLACE_NUMS
 
omp_g‘_·¹™iÚ_¶aû_nums


	)

112 
	#FTN_GET_INITIAL_DEVICE
 
omp_g‘_š™Ÿl_deviû


	)

113 #ifdeà
KMP_STUB


114 
	#FTN_TARGET_ALLOC
 
omp_rg‘_®loc


	)

115 
	#FTN_TARGET_FREE
 
omp_rg‘_ä“


	)

116 
	#FTN_TARGET_IS_PRESENT
 
omp_rg‘_is_´e£Á


	)

117 
	#FTN_TARGET_MEMCPY
 
omp_rg‘_memıy


	)

118 
	#FTN_TARGET_MEMCPY_RECT
 
omp_rg‘_memıy_»ù


	)

119 
	#FTN_TARGET_ASSOCIATE_PTR
 
omp_rg‘_assocŸ‹_±r


	)

120 
	#FTN_TARGET_DISASSOCIATE_PTR
 
omp_rg‘_di§ssocŸ‹_±r


	)

123 
	#FTN_CONTROL_TOOL
 
omp_cÚŒŞ_toŞ


	)

124 
	#FTN_INIT_ALLOCATOR
 
omp_š™_®loÿtÜ


	)

125 
	#FTN_DESTROY_ALLOCATOR
 
omp_de¡roy_®loÿtÜ


	)

126 
	#FTN_SET_DEFAULT_ALLOCATOR
 
omp_£t_deçuÉ_®loÿtÜ


	)

127 
	#FTN_GET_DEFAULT_ALLOCATOR
 
omp_g‘_deçuÉ_®loÿtÜ


	)

128 
	#FTN_GET_DEVICE_NUM
 
omp_g‘_deviû_num


	)

129 
	#FTN_SET_AFFINITY_FORMAT
 
omp_£t_affš™y_fÜm©


	)

130 
	#FTN_GET_AFFINITY_FORMAT
 
omp_g‘_affš™y_fÜm©


	)

131 
	#FTN_DISPLAY_AFFINITY
 
omp_di¥Ïy_affš™y


	)

132 
	#FTN_CAPTURE_AFFINITY
 
omp_ÿ±u»_affš™y


	)

133 
	#FTN_PAUSE_RESOURCE
 
omp_·u£_»sourû


	)

134 
	#FTN_PAUSE_RESOURCE_ALL
 
omp_·u£_»sourû_®l


	)

135 
	#FTN_GET_SUPPORTED_ACTIVE_LEVELS
 
omp_g‘_suµÜ‹d_aùive_Ëv–s


	)

136 
	#FTN_DISPLAY_ENV
 
omp_di¥Ïy_’v


	)

137 
	#FTN_FULFILL_EVENT
 
omp_fulfl_ev’t


	)

143 #ià
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_APPEND


145 
	#FTN_SET_STACKSIZE
 
kmp_£t_¡acksize_


	)

146 
	#FTN_SET_STACKSIZE_S
 
kmp_£t_¡acksize_s_


	)

147 
	#FTN_GET_STACKSIZE
 
kmp_g‘_¡acksize_


	)

148 
	#FTN_GET_STACKSIZE_S
 
kmp_g‘_¡acksize_s_


	)

149 
	#FTN_SET_BLOCKTIME
 
kmp_£t_blocktime_


	)

150 
	#FTN_GET_BLOCKTIME
 
kmp_g‘_blocktime_


	)

151 
	#FTN_SET_LIBRARY_SERIAL
 
kmp_£t_lib¿ry_£rŸl_


	)

152 
	#FTN_SET_LIBRARY_TURNAROUND
 
kmp_£t_lib¿ry_tuº¬ound_


	)

153 
	#FTN_SET_LIBRARY_THROUGHPUT
 
kmp_£t_lib¿ry_throughput_


	)

154 
	#FTN_SET_LIBRARY
 
kmp_£t_lib¿ry_


	)

155 
	#FTN_GET_LIBRARY
 
kmp_g‘_lib¿ry_


	)

156 
	#FTN_SET_DEFAULTS
 
kmp_£t_deçuÉs_


	)

157 
	#FTN_SET_DISP_NUM_BUFFERS
 
kmp_£t_di¥_num_bufãrs_


	)

158 
	#FTN_SET_AFFINITY
 
kmp_£t_affš™y_


	)

159 
	#FTN_GET_AFFINITY
 
kmp_g‘_affš™y_


	)

160 
	#FTN_GET_AFFINITY_MAX_PROC
 
kmp_g‘_affš™y_max_´oc_


	)

161 
	#FTN_CREATE_AFFINITY_MASK
 
kmp_ü—‹_affš™y_mask_


	)

162 
	#FTN_DESTROY_AFFINITY_MASK
 
kmp_de¡roy_affš™y_mask_


	)

163 
	#FTN_SET_AFFINITY_MASK_PROC
 
kmp_£t_affš™y_mask_´oc_


	)

164 
	#FTN_UNSET_AFFINITY_MASK_PROC
 
kmp_un£t_affš™y_mask_´oc_


	)

165 
	#FTN_GET_AFFINITY_MASK_PROC
 
kmp_g‘_affš™y_mask_´oc_


	)

167 
	#FTN_MALLOC
 
kmp_m®loc_


	)

168 
	#FTN_ALIGNED_MALLOC
 
kmp_®igÃd_m®loc_


	)

169 
	#FTN_CALLOC
 
kmp_ÿÎoc_


	)

170 
	#FTN_REALLOC
 
kmp_»®loc_


	)

171 
	#FTN_KFREE
 
kmp_ä“_


	)

173 
	#FTN_GET_NUM_KNOWN_THREADS
 
kmp_g‘_num_known_th»ads_


	)

175 
	#FTN_SET_NUM_THREADS
 
omp_£t_num_th»ads_


	)

176 
	#FTN_GET_NUM_THREADS
 
omp_g‘_num_th»ads_


	)

177 
	#FTN_GET_MAX_THREADS
 
omp_g‘_max_th»ads_


	)

178 
	#FTN_GET_THREAD_NUM
 
omp_g‘_th»ad_num_


	)

179 
	#FTN_GET_NUM_PROCS
 
omp_g‘_num_´ocs_


	)

180 
	#FTN_SET_DYNAMIC
 
omp_£t_dyÇmic_


	)

181 
	#FTN_GET_DYNAMIC
 
omp_g‘_dyÇmic_


	)

182 
	#FTN_SET_NESTED
 
omp_£t_Ã¡ed_


	)

183 
	#FTN_GET_NESTED
 
omp_g‘_Ã¡ed_


	)

184 
	#FTN_IN_PARALLEL
 
omp_š_·¿Î–_


	)

185 
	#FTN_GET_THREAD_LIMIT
 
omp_g‘_th»ad_lim™_


	)

186 
	#FTN_SET_SCHEDULE
 
omp_£t_scheduË_


	)

187 
	#FTN_GET_SCHEDULE
 
omp_g‘_scheduË_


	)

188 
	#FTN_SET_MAX_ACTIVE_LEVELS
 
omp_£t_max_aùive_Ëv–s_


	)

189 
	#FTN_GET_MAX_ACTIVE_LEVELS
 
omp_g‘_max_aùive_Ëv–s_


	)

190 
	#FTN_GET_ACTIVE_LEVEL
 
omp_g‘_aùive_Ëv–_


	)

191 
	#FTN_GET_LEVEL
 
omp_g‘_Ëv–_


	)

192 
	#FTN_GET_ANCESTOR_THREAD_NUM
 
omp_g‘_ªû¡Ü_th»ad_num_


	)

193 
	#FTN_GET_TEAM_SIZE
 
omp_g‘_‹am_size_


	)

194 
	#FTN_IN_FINAL
 
omp_š_fš®_


	)

195 
	#FTN_GET_PROC_BIND
 
omp_g‘_´oc_bšd_


	)

196 
	#FTN_GET_NUM_TEAMS
 
omp_g‘_num_‹ams_


	)

197 
	#FTN_GET_TEAM_NUM
 
omp_g‘_‹am_num_


	)

198 
	#FTN_INIT_LOCK
 
omp_š™_lock_


	)

199 #ià
KMP_USE_DYNAMIC_LOCK


200 
	#FTN_INIT_LOCK_WITH_HINT
 
omp_š™_lock_w™h_hšt_


	)

201 
	#FTN_INIT_NEST_LOCK_WITH_HINT
 
omp_š™_Ã¡_lock_w™h_hšt_


	)

203 
	#FTN_DESTROY_LOCK
 
omp_de¡roy_lock_


	)

204 
	#FTN_SET_LOCK
 
omp_£t_lock_


	)

205 
	#FTN_UNSET_LOCK
 
omp_un£t_lock_


	)

206 
	#FTN_TEST_LOCK
 
omp_‹¡_lock_


	)

207 
	#FTN_INIT_NEST_LOCK
 
omp_š™_Ã¡_lock_


	)

208 
	#FTN_DESTROY_NEST_LOCK
 
omp_de¡roy_Ã¡_lock_


	)

209 
	#FTN_SET_NEST_LOCK
 
omp_£t_Ã¡_lock_


	)

210 
	#FTN_UNSET_NEST_LOCK
 
omp_un£t_Ã¡_lock_


	)

211 
	#FTN_TEST_NEST_LOCK
 
omp_‹¡_Ã¡_lock_


	)

213 
	#FTN_SET_WARNINGS_ON
 
kmp_£t_w¬nšgs_Ú_


	)

214 
	#FTN_SET_WARNINGS_OFF
 
kmp_£t_w¬nšgs_off_


	)

216 
	#FTN_GET_WTIME
 
omp_g‘_wtime_


	)

217 
	#FTN_GET_WTICK
 
omp_g‘_wtick_


	)

219 
	#FTN_GET_NUM_DEVICES
 
omp_g‘_num_deviûs_


	)

220 
	#FTN_GET_DEFAULT_DEVICE
 
omp_g‘_deçuÉ_deviû_


	)

221 
	#FTN_SET_DEFAULT_DEVICE
 
omp_£t_deçuÉ_deviû_


	)

222 
	#FTN_IS_INITIAL_DEVICE
 
omp_is_š™Ÿl_deviû_


	)

224 
	#FTN_GET_CANCELLATION
 
omp_g‘_ÿnûÎ©iÚ_


	)

225 
	#FTN_GET_CANCELLATION_STATUS
 
kmp_g‘_ÿnûÎ©iÚ_¡©us_


	)

227 
	#FTN_GET_MAX_TASK_PRIORITY
 
omp_g‘_max_sk_´iÜ™y_


	)

228 
	#FTN_GET_NUM_PLACES
 
omp_g‘_num_¶aûs_


	)

229 
	#FTN_GET_PLACE_NUM_PROCS
 
omp_g‘_¶aû_num_´ocs_


	)

230 
	#FTN_GET_PLACE_PROC_IDS
 
omp_g‘_¶aû_´oc_ids_


	)

231 
	#FTN_GET_PLACE_NUM
 
omp_g‘_¶aû_num_


	)

232 
	#FTN_GET_PARTITION_NUM_PLACES
 
omp_g‘_·¹™iÚ_num_¶aûs_


	)

233 
	#FTN_GET_PARTITION_PLACE_NUMS
 
omp_g‘_·¹™iÚ_¶aû_nums_


	)

234 
	#FTN_GET_INITIAL_DEVICE
 
omp_g‘_š™Ÿl_deviû_


	)

235 #ifdeà
KMP_STUB


236 
	#FTN_TARGET_ALLOC
 
omp_rg‘_®loc_


	)

237 
	#FTN_TARGET_FREE
 
omp_rg‘_ä“_


	)

238 
	#FTN_TARGET_IS_PRESENT
 
omp_rg‘_is_´e£Á_


	)

239 
	#FTN_TARGET_MEMCPY
 
omp_rg‘_memıy_


	)

240 
	#FTN_TARGET_MEMCPY_RECT
 
omp_rg‘_memıy_»ù_


	)

241 
	#FTN_TARGET_ASSOCIATE_PTR
 
omp_rg‘_assocŸ‹_±r_


	)

242 
	#FTN_TARGET_DISASSOCIATE_PTR
 
omp_rg‘_di§ssocŸ‹_±r_


	)

245 
	#FTN_CONTROL_TOOL
 
omp_cÚŒŞ_toŞ_


	)

246 
	#FTN_INIT_ALLOCATOR
 
omp_š™_®loÿtÜ_


	)

247 
	#FTN_DESTROY_ALLOCATOR
 
omp_de¡roy_®loÿtÜ_


	)

248 
	#FTN_SET_DEFAULT_ALLOCATOR
 
omp_£t_deçuÉ_®loÿtÜ_


	)

249 
	#FTN_GET_DEFAULT_ALLOCATOR
 
omp_g‘_deçuÉ_®loÿtÜ_


	)

250 
	#FTN_ALLOC
 
omp_®loc_


	)

251 
	#FTN_FREE
 
omp_ä“_


	)

252 
	#FTN_GET_DEVICE_NUM
 
omp_g‘_deviû_num_


	)

253 
	#FTN_SET_AFFINITY_FORMAT
 
omp_£t_affš™y_fÜm©_


	)

254 
	#FTN_GET_AFFINITY_FORMAT
 
omp_g‘_affš™y_fÜm©_


	)

255 
	#FTN_DISPLAY_AFFINITY
 
omp_di¥Ïy_affš™y_


	)

256 
	#FTN_CAPTURE_AFFINITY
 
omp_ÿ±u»_affš™y_


	)

257 
	#FTN_PAUSE_RESOURCE
 
omp_·u£_»sourû_


	)

258 
	#FTN_PAUSE_RESOURCE_ALL
 
omp_·u£_»sourû_®l_


	)

259 
	#FTN_GET_SUPPORTED_ACTIVE_LEVELS
 
omp_g‘_suµÜ‹d_aùive_Ëv–s_


	)

260 
	#FTN_DISPLAY_ENV
 
omp_di¥Ïy_’v_


	)

261 
	#FTN_FULFILL_EVENT
 
omp_fulfl_ev’t_


	)

267 #ià
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_UPPER


269 
	#FTN_SET_STACKSIZE
 
KMP_SET_STACKSIZE


	)

270 
	#FTN_SET_STACKSIZE_S
 
KMP_SET_STACKSIZE_S


	)

271 
	#FTN_GET_STACKSIZE
 
KMP_GET_STACKSIZE


	)

272 
	#FTN_GET_STACKSIZE_S
 
KMP_GET_STACKSIZE_S


	)

273 
	#FTN_SET_BLOCKTIME
 
KMP_SET_BLOCKTIME


	)

274 
	#FTN_GET_BLOCKTIME
 
KMP_GET_BLOCKTIME


	)

275 
	#FTN_SET_LIBRARY_SERIAL
 
KMP_SET_LIBRARY_SERIAL


	)

276 
	#FTN_SET_LIBRARY_TURNAROUND
 
KMP_SET_LIBRARY_TURNAROUND


	)

277 
	#FTN_SET_LIBRARY_THROUGHPUT
 
KMP_SET_LIBRARY_THROUGHPUT


	)

278 
	#FTN_SET_LIBRARY
 
KMP_SET_LIBRARY


	)

279 
	#FTN_GET_LIBRARY
 
KMP_GET_LIBRARY


	)

280 
	#FTN_SET_DEFAULTS
 
KMP_SET_DEFAULTS


	)

281 
	#FTN_SET_DISP_NUM_BUFFERS
 
KMP_SET_DISP_NUM_BUFFERS


	)

282 
	#FTN_SET_AFFINITY
 
KMP_SET_AFFINITY


	)

283 
	#FTN_GET_AFFINITY
 
KMP_GET_AFFINITY


	)

284 
	#FTN_GET_AFFINITY_MAX_PROC
 
KMP_GET_AFFINITY_MAX_PROC


	)

285 
	#FTN_CREATE_AFFINITY_MASK
 
KMP_CREATE_AFFINITY_MASK


	)

286 
	#FTN_DESTROY_AFFINITY_MASK
 
KMP_DESTROY_AFFINITY_MASK


	)

287 
	#FTN_SET_AFFINITY_MASK_PROC
 
KMP_SET_AFFINITY_MASK_PROC


	)

288 
	#FTN_UNSET_AFFINITY_MASK_PROC
 
KMP_UNSET_AFFINITY_MASK_PROC


	)

289 
	#FTN_GET_AFFINITY_MASK_PROC
 
KMP_GET_AFFINITY_MASK_PROC


	)

291 
	#FTN_MALLOC
 
KMP_MALLOC


	)

292 
	#FTN_ALIGNED_MALLOC
 
KMP_ALIGNED_MALLOC


	)

293 
	#FTN_CALLOC
 
KMP_CALLOC


	)

294 
	#FTN_REALLOC
 
KMP_REALLOC


	)

295 
	#FTN_KFREE
 
KMP_FREE


	)

297 
	#FTN_GET_NUM_KNOWN_THREADS
 
KMP_GET_NUM_KNOWN_THREADS


	)

299 
	#FTN_SET_NUM_THREADS
 
OMP_SET_NUM_THREADS


	)

300 
	#FTN_GET_NUM_THREADS
 
OMP_GET_NUM_THREADS


	)

301 
	#FTN_GET_MAX_THREADS
 
OMP_GET_MAX_THREADS


	)

302 
	#FTN_GET_THREAD_NUM
 
OMP_GET_THREAD_NUM


	)

303 
	#FTN_GET_NUM_PROCS
 
OMP_GET_NUM_PROCS


	)

304 
	#FTN_SET_DYNAMIC
 
OMP_SET_DYNAMIC


	)

305 
	#FTN_GET_DYNAMIC
 
OMP_GET_DYNAMIC


	)

306 
	#FTN_SET_NESTED
 
OMP_SET_NESTED


	)

307 
	#FTN_GET_NESTED
 
OMP_GET_NESTED


	)

308 
	#FTN_IN_PARALLEL
 
OMP_IN_PARALLEL


	)

309 
	#FTN_GET_THREAD_LIMIT
 
OMP_GET_THREAD_LIMIT


	)

310 
	#FTN_SET_SCHEDULE
 
OMP_SET_SCHEDULE


	)

311 
	#FTN_GET_SCHEDULE
 
OMP_GET_SCHEDULE


	)

312 
	#FTN_SET_MAX_ACTIVE_LEVELS
 
OMP_SET_MAX_ACTIVE_LEVELS


	)

313 
	#FTN_GET_MAX_ACTIVE_LEVELS
 
OMP_GET_MAX_ACTIVE_LEVELS


	)

314 
	#FTN_GET_ACTIVE_LEVEL
 
OMP_GET_ACTIVE_LEVEL


	)

315 
	#FTN_GET_LEVEL
 
OMP_GET_LEVEL


	)

316 
	#FTN_GET_ANCESTOR_THREAD_NUM
 
OMP_GET_ANCESTOR_THREAD_NUM


	)

317 
	#FTN_GET_TEAM_SIZE
 
OMP_GET_TEAM_SIZE


	)

318 
	#FTN_IN_FINAL
 
OMP_IN_FINAL


	)

319 
	#FTN_GET_PROC_BIND
 
OMP_GET_PROC_BIND


	)

320 
	#FTN_GET_NUM_TEAMS
 
OMP_GET_NUM_TEAMS


	)

321 
	#FTN_GET_TEAM_NUM
 
OMP_GET_TEAM_NUM


	)

322 
	#FTN_INIT_LOCK
 
OMP_INIT_LOCK


	)

323 #ià
KMP_USE_DYNAMIC_LOCK


324 
	#FTN_INIT_LOCK_WITH_HINT
 
OMP_INIT_LOCK_WITH_HINT


	)

325 
	#FTN_INIT_NEST_LOCK_WITH_HINT
 
OMP_INIT_NEST_LOCK_WITH_HINT


	)

327 
	#FTN_DESTROY_LOCK
 
OMP_DESTROY_LOCK


	)

328 
	#FTN_SET_LOCK
 
OMP_SET_LOCK


	)

329 
	#FTN_UNSET_LOCK
 
OMP_UNSET_LOCK


	)

330 
	#FTN_TEST_LOCK
 
OMP_TEST_LOCK


	)

331 
	#FTN_INIT_NEST_LOCK
 
OMP_INIT_NEST_LOCK


	)

332 
	#FTN_DESTROY_NEST_LOCK
 
OMP_DESTROY_NEST_LOCK


	)

333 
	#FTN_SET_NEST_LOCK
 
OMP_SET_NEST_LOCK


	)

334 
	#FTN_UNSET_NEST_LOCK
 
OMP_UNSET_NEST_LOCK


	)

335 
	#FTN_TEST_NEST_LOCK
 
OMP_TEST_NEST_LOCK


	)

337 
	#FTN_SET_WARNINGS_ON
 
KMP_SET_WARNINGS_ON


	)

338 
	#FTN_SET_WARNINGS_OFF
 
KMP_SET_WARNINGS_OFF


	)

340 
	#FTN_GET_WTIME
 
OMP_GET_WTIME


	)

341 
	#FTN_GET_WTICK
 
OMP_GET_WTICK


	)

343 
	#FTN_GET_NUM_DEVICES
 
OMP_GET_NUM_DEVICES


	)

344 
	#FTN_GET_DEFAULT_DEVICE
 
OMP_GET_DEFAULT_DEVICE


	)

345 
	#FTN_SET_DEFAULT_DEVICE
 
OMP_SET_DEFAULT_DEVICE


	)

346 
	#FTN_IS_INITIAL_DEVICE
 
OMP_IS_INITIAL_DEVICE


	)

348 
	#FTN_GET_CANCELLATION
 
OMP_GET_CANCELLATION


	)

349 
	#FTN_GET_CANCELLATION_STATUS
 
KMP_GET_CANCELLATION_STATUS


	)

351 
	#FTN_GET_MAX_TASK_PRIORITY
 
OMP_GET_MAX_TASK_PRIORITY


	)

352 
	#FTN_GET_NUM_PLACES
 
OMP_GET_NUM_PLACES


	)

353 
	#FTN_GET_PLACE_NUM_PROCS
 
OMP_GET_PLACE_NUM_PROCS


	)

354 
	#FTN_GET_PLACE_PROC_IDS
 
OMP_GET_PLACE_PROC_IDS


	)

355 
	#FTN_GET_PLACE_NUM
 
OMP_GET_PLACE_NUM


	)

356 
	#FTN_GET_PARTITION_NUM_PLACES
 
OMP_GET_PARTITION_NUM_PLACES


	)

357 
	#FTN_GET_PARTITION_PLACE_NUMS
 
OMP_GET_PARTITION_PLACE_NUMS


	)

358 
	#FTN_GET_INITIAL_DEVICE
 
OMP_GET_INITIAL_DEVICE


	)

359 #ifdeà
KMP_STUB


360 
	#FTN_TARGET_ALLOC
 
OMP_TARGET_ALLOC


	)

361 
	#FTN_TARGET_FREE
 
OMP_TARGET_FREE


	)

362 
	#FTN_TARGET_IS_PRESENT
 
OMP_TARGET_IS_PRESENT


	)

363 
	#FTN_TARGET_MEMCPY
 
OMP_TARGET_MEMCPY


	)

364 
	#FTN_TARGET_MEMCPY_RECT
 
OMP_TARGET_MEMCPY_RECT


	)

365 
	#FTN_TARGET_ASSOCIATE_PTR
 
OMP_TARGET_ASSOCIATE_PTR


	)

366 
	#FTN_TARGET_DISASSOCIATE_PTR
 
OMP_TARGET_DISASSOCIATE_PTR


	)

369 
	#FTN_CONTROL_TOOL
 
OMP_CONTROL_TOOL


	)

370 
	#FTN_INIT_ALLOCATOR
 
OMP_INIT_ALLOCATOR


	)

371 
	#FTN_DESTROY_ALLOCATOR
 
OMP_DESTROY_ALLOCATOR


	)

372 
	#FTN_SET_DEFAULT_ALLOCATOR
 
OMP_SET_DEFAULT_ALLOCATOR


	)

373 
	#FTN_GET_DEFAULT_ALLOCATOR
 
OMP_GET_DEFAULT_ALLOCATOR


	)

374 
	#FTN_GET_DEVICE_NUM
 
OMP_GET_DEVICE_NUM


	)

375 
	#FTN_SET_AFFINITY_FORMAT
 
OMP_SET_AFFINITY_FORMAT


	)

376 
	#FTN_GET_AFFINITY_FORMAT
 
OMP_GET_AFFINITY_FORMAT


	)

377 
	#FTN_DISPLAY_AFFINITY
 
OMP_DISPLAY_AFFINITY


	)

378 
	#FTN_CAPTURE_AFFINITY
 
OMP_CAPTURE_AFFINITY


	)

379 
	#FTN_PAUSE_RESOURCE
 
OMP_PAUSE_RESOURCE


	)

380 
	#FTN_PAUSE_RESOURCE_ALL
 
OMP_PAUSE_RESOURCE_ALL


	)

381 
	#FTN_GET_SUPPORTED_ACTIVE_LEVELS
 
OMP_GET_SUPPORTED_ACTIVE_LEVELS


	)

382 
	#FTN_DISPLAY_ENV
 
OMP_DISPLAY_ENV


	)

383 
	#FTN_FULFILL_EVENT
 
OMP_FULFILL_EVENT


	)

389 #ià
KMP_FTN_ENTRIES
 =ğ
KMP_FTN_UAPPEND


391 
	#FTN_SET_STACKSIZE
 
KMP_SET_STACKSIZE_


	)

392 
	#FTN_SET_STACKSIZE_S
 
KMP_SET_STACKSIZE_S_


	)

393 
	#FTN_GET_STACKSIZE
 
KMP_GET_STACKSIZE_


	)

394 
	#FTN_GET_STACKSIZE_S
 
KMP_GET_STACKSIZE_S_


	)

395 
	#FTN_SET_BLOCKTIME
 
KMP_SET_BLOCKTIME_


	)

396 
	#FTN_GET_BLOCKTIME
 
KMP_GET_BLOCKTIME_


	)

397 
	#FTN_SET_LIBRARY_SERIAL
 
KMP_SET_LIBRARY_SERIAL_


	)

398 
	#FTN_SET_LIBRARY_TURNAROUND
 
KMP_SET_LIBRARY_TURNAROUND_


	)

399 
	#FTN_SET_LIBRARY_THROUGHPUT
 
KMP_SET_LIBRARY_THROUGHPUT_


	)

400 
	#FTN_SET_LIBRARY
 
KMP_SET_LIBRARY_


	)

401 
	#FTN_GET_LIBRARY
 
KMP_GET_LIBRARY_


	)

402 
	#FTN_SET_DEFAULTS
 
KMP_SET_DEFAULTS_


	)

403 
	#FTN_SET_DISP_NUM_BUFFERS
 
KMP_SET_DISP_NUM_BUFFERS_


	)

404 
	#FTN_SET_AFFINITY
 
KMP_SET_AFFINITY_


	)

405 
	#FTN_GET_AFFINITY
 
KMP_GET_AFFINITY_


	)

406 
	#FTN_GET_AFFINITY_MAX_PROC
 
KMP_GET_AFFINITY_MAX_PROC_


	)

407 
	#FTN_CREATE_AFFINITY_MASK
 
KMP_CREATE_AFFINITY_MASK_


	)

408 
	#FTN_DESTROY_AFFINITY_MASK
 
KMP_DESTROY_AFFINITY_MASK_


	)

409 
	#FTN_SET_AFFINITY_MASK_PROC
 
KMP_SET_AFFINITY_MASK_PROC_


	)

410 
	#FTN_UNSET_AFFINITY_MASK_PROC
 
KMP_UNSET_AFFINITY_MASK_PROC_


	)

411 
	#FTN_GET_AFFINITY_MASK_PROC
 
KMP_GET_AFFINITY_MASK_PROC_


	)

413 
	#FTN_MALLOC
 
KMP_MALLOC_


	)

414 
	#FTN_ALIGNED_MALLOC
 
KMP_ALIGNED_MALLOC_


	)

415 
	#FTN_CALLOC
 
KMP_CALLOC_


	)

416 
	#FTN_REALLOC
 
KMP_REALLOC_


	)

417 
	#FTN_KFREE
 
KMP_FREE_


	)

419 
	#FTN_GET_NUM_KNOWN_THREADS
 
KMP_GET_NUM_KNOWN_THREADS_


	)

421 
	#FTN_SET_NUM_THREADS
 
OMP_SET_NUM_THREADS_


	)

422 
	#FTN_GET_NUM_THREADS
 
OMP_GET_NUM_THREADS_


	)

423 
	#FTN_GET_MAX_THREADS
 
OMP_GET_MAX_THREADS_


	)

424 
	#FTN_GET_THREAD_NUM
 
OMP_GET_THREAD_NUM_


	)

425 
	#FTN_GET_NUM_PROCS
 
OMP_GET_NUM_PROCS_


	)

426 
	#FTN_SET_DYNAMIC
 
OMP_SET_DYNAMIC_


	)

427 
	#FTN_GET_DYNAMIC
 
OMP_GET_DYNAMIC_


	)

428 
	#FTN_SET_NESTED
 
OMP_SET_NESTED_


	)

429 
	#FTN_GET_NESTED
 
OMP_GET_NESTED_


	)

430 
	#FTN_IN_PARALLEL
 
OMP_IN_PARALLEL_


	)

431 
	#FTN_GET_THREAD_LIMIT
 
OMP_GET_THREAD_LIMIT_


	)

432 
	#FTN_SET_SCHEDULE
 
OMP_SET_SCHEDULE_


	)

433 
	#FTN_GET_SCHEDULE
 
OMP_GET_SCHEDULE_


	)

434 
	#FTN_SET_MAX_ACTIVE_LEVELS
 
OMP_SET_MAX_ACTIVE_LEVELS_


	)

435 
	#FTN_GET_MAX_ACTIVE_LEVELS
 
OMP_GET_MAX_ACTIVE_LEVELS_


	)

436 
	#FTN_GET_ACTIVE_LEVEL
 
OMP_GET_ACTIVE_LEVEL_


	)

437 
	#FTN_GET_LEVEL
 
OMP_GET_LEVEL_


	)

438 
	#FTN_GET_ANCESTOR_THREAD_NUM
 
OMP_GET_ANCESTOR_THREAD_NUM_


	)

439 
	#FTN_GET_TEAM_SIZE
 
OMP_GET_TEAM_SIZE_


	)

440 
	#FTN_IN_FINAL
 
OMP_IN_FINAL_


	)

441 
	#FTN_GET_PROC_BIND
 
OMP_GET_PROC_BIND_


	)

442 
	#FTN_GET_NUM_TEAMS
 
OMP_GET_NUM_TEAMS_


	)

443 
	#FTN_GET_TEAM_NUM
 
OMP_GET_TEAM_NUM_


	)

444 
	#FTN_INIT_LOCK
 
OMP_INIT_LOCK_


	)

445 #ià
KMP_USE_DYNAMIC_LOCK


446 
	#FTN_INIT_LOCK_WITH_HINT
 
OMP_INIT_LOCK_WITH_HINT_


	)

447 
	#FTN_INIT_NEST_LOCK_WITH_HINT
 
OMP_INIT_NEST_LOCK_WITH_HINT_


	)

449 
	#FTN_DESTROY_LOCK
 
OMP_DESTROY_LOCK_


	)

450 
	#FTN_SET_LOCK
 
OMP_SET_LOCK_


	)

451 
	#FTN_UNSET_LOCK
 
OMP_UNSET_LOCK_


	)

452 
	#FTN_TEST_LOCK
 
OMP_TEST_LOCK_


	)

453 
	#FTN_INIT_NEST_LOCK
 
OMP_INIT_NEST_LOCK_


	)

454 
	#FTN_DESTROY_NEST_LOCK
 
OMP_DESTROY_NEST_LOCK_


	)

455 
	#FTN_SET_NEST_LOCK
 
OMP_SET_NEST_LOCK_


	)

456 
	#FTN_UNSET_NEST_LOCK
 
OMP_UNSET_NEST_LOCK_


	)

457 
	#FTN_TEST_NEST_LOCK
 
OMP_TEST_NEST_LOCK_


	)

459 
	#FTN_SET_WARNINGS_ON
 
KMP_SET_WARNINGS_ON_


	)

460 
	#FTN_SET_WARNINGS_OFF
 
KMP_SET_WARNINGS_OFF_


	)

462 
	#FTN_GET_WTIME
 
OMP_GET_WTIME_


	)

463 
	#FTN_GET_WTICK
 
OMP_GET_WTICK_


	)

465 
	#FTN_GET_NUM_DEVICES
 
OMP_GET_NUM_DEVICES_


	)

466 
	#FTN_GET_DEFAULT_DEVICE
 
OMP_GET_DEFAULT_DEVICE_


	)

467 
	#FTN_SET_DEFAULT_DEVICE
 
OMP_SET_DEFAULT_DEVICE_


	)

468 
	#FTN_IS_INITIAL_DEVICE
 
OMP_IS_INITIAL_DEVICE_


	)

470 
	#FTN_GET_CANCELLATION
 
OMP_GET_CANCELLATION_


	)

471 
	#FTN_GET_CANCELLATION_STATUS
 
KMP_GET_CANCELLATION_STATUS_


	)

473 
	#FTN_GET_MAX_TASK_PRIORITY
 
OMP_GET_MAX_TASK_PRIORITY_


	)

474 
	#FTN_GET_NUM_PLACES
 
OMP_GET_NUM_PLACES_


	)

475 
	#FTN_GET_PLACE_NUM_PROCS
 
OMP_GET_PLACE_NUM_PROCS_


	)

476 
	#FTN_GET_PLACE_PROC_IDS
 
OMP_GET_PLACE_PROC_IDS_


	)

477 
	#FTN_GET_PLACE_NUM
 
OMP_GET_PLACE_NUM_


	)

478 
	#FTN_GET_PARTITION_NUM_PLACES
 
OMP_GET_PARTITION_NUM_PLACES_


	)

479 
	#FTN_GET_PARTITION_PLACE_NUMS
 
OMP_GET_PARTITION_PLACE_NUMS_


	)

480 
	#FTN_GET_INITIAL_DEVICE
 
OMP_GET_INITIAL_DEVICE_


	)

481 #ifdeà
KMP_STUB


482 
	#FTN_TARGET_ALLOC
 
OMP_TARGET_ALLOC_


	)

483 
	#FTN_TARGET_FREE
 
OMP_TARGET_FREE_


	)

484 
	#FTN_TARGET_IS_PRESENT
 
OMP_TARGET_IS_PRESENT_


	)

485 
	#FTN_TARGET_MEMCPY
 
OMP_TARGET_MEMCPY_


	)

486 
	#FTN_TARGET_MEMCPY_RECT
 
OMP_TARGET_MEMCPY_RECT_


	)

487 
	#FTN_TARGET_ASSOCIATE_PTR
 
OMP_TARGET_ASSOCIATE_PTR_


	)

488 
	#FTN_TARGET_DISASSOCIATE_PTR
 
OMP_TARGET_DISASSOCIATE_PTR_


	)

491 
	#FTN_CONTROL_TOOL
 
OMP_CONTROL_TOOL_


	)

492 
	#FTN_INIT_ALLOCATOR
 
OMP_INIT_ALLOCATOR_


	)

493 
	#FTN_DESTROY_ALLOCATOR
 
OMP_DESTROY_ALLOCATOR_


	)

494 
	#FTN_SET_DEFAULT_ALLOCATOR
 
OMP_SET_DEFAULT_ALLOCATOR_


	)

495 
	#FTN_GET_DEFAULT_ALLOCATOR
 
OMP_GET_DEFAULT_ALLOCATOR_


	)

496 
	#FTN_ALLOC
 
OMP_ALLOC_


	)

497 
	#FTN_FREE
 
OMP_FREE_


	)

498 
	#FTN_GET_DEVICE_NUM
 
OMP_GET_DEVICE_NUM_


	)

499 
	#FTN_SET_AFFINITY_FORMAT
 
OMP_SET_AFFINITY_FORMAT_


	)

500 
	#FTN_GET_AFFINITY_FORMAT
 
OMP_GET_AFFINITY_FORMAT_


	)

501 
	#FTN_DISPLAY_AFFINITY
 
OMP_DISPLAY_AFFINITY_


	)

502 
	#FTN_CAPTURE_AFFINITY
 
OMP_CAPTURE_AFFINITY_


	)

503 
	#FTN_PAUSE_RESOURCE
 
OMP_PAUSE_RESOURCE_


	)

504 
	#FTN_PAUSE_RESOURCE_ALL
 
OMP_PAUSE_RESOURCE_ALL_


	)

505 
	#FTN_GET_SUPPORTED_ACTIVE_LEVELS
 
OMP_GET_SUPPORTED_ACTIVE_LEVELS_


	)

506 
	#FTN_DISPLAY_ENV
 
OMP_DISPLAY_ENV_


	)

507 
	#FTN_FULFILL_EVENT
 
OMP_FULFILL_EVENT_


	)

513 
	#KMP_API_NAME_GOMP_ATOMIC_END
 
GOMP_©omic_’d


	)

514 
	#KMP_API_NAME_GOMP_ATOMIC_START
 
GOMP_©omic_¡¬t


	)

515 
	#KMP_API_NAME_GOMP_BARRIER
 
GOMP_b¬r›r


	)

516 
	#KMP_API_NAME_GOMP_CRITICAL_END
 
GOMP_ü™iÿl_’d


	)

517 
	#KMP_API_NAME_GOMP_CRITICAL_NAME_END
 
GOMP_ü™iÿl_Çme_’d


	)

518 
	#KMP_API_NAME_GOMP_CRITICAL_NAME_START
 
GOMP_ü™iÿl_Çme_¡¬t


	)

519 
	#KMP_API_NAME_GOMP_CRITICAL_START
 
GOMP_ü™iÿl_¡¬t


	)

520 
	#KMP_API_NAME_GOMP_LOOP_DYNAMIC_NEXT
 
GOMP_loİ_dyÇmic_Ãxt


	)

521 
	#KMP_API_NAME_GOMP_LOOP_DYNAMIC_START
 
GOMP_loİ_dyÇmic_¡¬t


	)

522 
	#KMP_API_NAME_GOMP_LOOP_END
 
GOMP_loİ_’d


	)

523 
	#KMP_API_NAME_GOMP_LOOP_END_NOWAIT
 
GOMP_loİ_’d_nowa™


	)

524 
	#KMP_API_NAME_GOMP_LOOP_GUIDED_NEXT
 
GOMP_loİ_guided_Ãxt


	)

525 
	#KMP_API_NAME_GOMP_LOOP_GUIDED_START
 
GOMP_loİ_guided_¡¬t


	)

526 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_NEXT
 \

527 
GOMP_loİ_Üd”ed_dyÇmic_Ãxt


	)

528 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_START
 \

529 
GOMP_loİ_Üd”ed_dyÇmic_¡¬t


	)

530 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_NEXT
 
GOMP_loİ_Üd”ed_guided_Ãxt


	)

531 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_START
 \

532 
GOMP_loİ_Üd”ed_guided_¡¬t


	)

533 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_NEXT
 \

534 
GOMP_loİ_Üd”ed_ruÁime_Ãxt


	)

535 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_START
 \

536 
GOMP_loİ_Üd”ed_ruÁime_¡¬t


	)

537 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_NEXT
 
GOMP_loİ_Üd”ed_¡©ic_Ãxt


	)

538 
	#KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_START
 \

539 
GOMP_loİ_Üd”ed_¡©ic_¡¬t


	)

540 
	#KMP_API_NAME_GOMP_LOOP_RUNTIME_NEXT
 
GOMP_loİ_ruÁime_Ãxt


	)

541 
	#KMP_API_NAME_GOMP_LOOP_RUNTIME_START
 
GOMP_loİ_ruÁime_¡¬t


	)

542 
	#KMP_API_NAME_GOMP_LOOP_STATIC_NEXT
 
GOMP_loİ_¡©ic_Ãxt


	)

543 
	#KMP_API_NAME_GOMP_LOOP_STATIC_START
 
GOMP_loİ_¡©ic_¡¬t


	)

544 
	#KMP_API_NAME_GOMP_ORDERED_END
 
GOMP_Üd”ed_’d


	)

545 
	#KMP_API_NAME_GOMP_ORDERED_START
 
GOMP_Üd”ed_¡¬t


	)

546 
	#KMP_API_NAME_GOMP_PARALLEL_END
 
GOMP_·¿Î–_’d


	)

547 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC_START
 \

548 
GOMP_·¿Î–_loİ_dyÇmic_¡¬t


	)

549 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED_START
 \

550 
GOMP_·¿Î–_loİ_guided_¡¬t


	)

551 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME_START
 \

552 
GOMP_·¿Î–_loİ_ruÁime_¡¬t


	)

553 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC_START
 \

554 
GOMP_·¿Î–_loİ_¡©ic_¡¬t


	)

555 
	#KMP_API_NAME_GOMP_PARALLEL_SECTIONS_START
 
GOMP_·¿Î–_£ùiÚs_¡¬t


	)

556 
	#KMP_API_NAME_GOMP_PARALLEL_START
 
GOMP_·¿Î–_¡¬t


	)

557 
	#KMP_API_NAME_GOMP_SECTIONS_END
 
GOMP_£ùiÚs_’d


	)

558 
	#KMP_API_NAME_GOMP_SECTIONS_END_NOWAIT
 
GOMP_£ùiÚs_’d_nowa™


	)

559 
	#KMP_API_NAME_GOMP_SECTIONS_NEXT
 
GOMP_£ùiÚs_Ãxt


	)

560 
	#KMP_API_NAME_GOMP_SECTIONS_START
 
GOMP_£ùiÚs_¡¬t


	)

561 
	#KMP_API_NAME_GOMP_SINGLE_COPY_END
 
GOMP_sšgË_cİy_’d


	)

562 
	#KMP_API_NAME_GOMP_SINGLE_COPY_START
 
GOMP_sšgË_cİy_¡¬t


	)

563 
	#KMP_API_NAME_GOMP_SINGLE_START
 
GOMP_sšgË_¡¬t


	)

566 
	#KMP_API_NAME_GOMP_TASK
 
GOMP_sk


	)

567 
	#KMP_API_NAME_GOMP_TASKWAIT
 
GOMP_skwa™


	)

568 
	#KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_NEXT
 
GOMP_loİ_uÎ_dyÇmic_Ãxt


	)

569 
	#KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_START
 
GOMP_loİ_uÎ_dyÇmic_¡¬t


	)

570 
	#KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_NEXT
 
GOMP_loİ_uÎ_guided_Ãxt


	)

571 
	#KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_START
 
GOMP_loİ_uÎ_guided_¡¬t


	)

572 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_NEXT
 \

573 
GOMP_loİ_uÎ_Üd”ed_dyÇmic_Ãxt


	)

574 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_START
 \

575 
GOMP_loİ_uÎ_Üd”ed_dyÇmic_¡¬t


	)

576 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_NEXT
 \

577 
GOMP_loİ_uÎ_Üd”ed_guided_Ãxt


	)

578 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_START
 \

579 
GOMP_loİ_uÎ_Üd”ed_guided_¡¬t


	)

580 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_NEXT
 \

581 
GOMP_loİ_uÎ_Üd”ed_ruÁime_Ãxt


	)

582 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_START
 \

583 
GOMP_loİ_uÎ_Üd”ed_ruÁime_¡¬t


	)

584 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_NEXT
 \

585 
GOMP_loİ_uÎ_Üd”ed_¡©ic_Ãxt


	)

586 
	#KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_START
 \

587 
GOMP_loİ_uÎ_Üd”ed_¡©ic_¡¬t


	)

588 
	#KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_NEXT
 
GOMP_loİ_uÎ_ruÁime_Ãxt


	)

589 
	#KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_START
 
GOMP_loİ_uÎ_ruÁime_¡¬t


	)

590 
	#KMP_API_NAME_GOMP_LOOP_ULL_STATIC_NEXT
 
GOMP_loİ_uÎ_¡©ic_Ãxt


	)

591 
	#KMP_API_NAME_GOMP_LOOP_ULL_STATIC_START
 
GOMP_loİ_uÎ_¡©ic_¡¬t


	)

594 
	#KMP_API_NAME_GOMP_TASKYIELD
 
GOMP_sky›ld


	)

597 
	#KMP_API_NAME_GOMP_BARRIER_CANCEL
 
GOMP_b¬r›r_ÿnûl


	)

598 
	#KMP_API_NAME_GOMP_CANCEL
 
GOMP_ÿnûl


	)

599 
	#KMP_API_NAME_GOMP_CANCELLATION_POINT
 
GOMP_ÿnûÎ©iÚ_pošt


	)

600 
	#KMP_API_NAME_GOMP_LOOP_END_CANCEL
 
GOMP_loİ_’d_ÿnûl


	)

601 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC
 
GOMP_·¿Î–_loİ_dyÇmic


	)

602 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED
 
GOMP_·¿Î–_loİ_guided


	)

603 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME
 
GOMP_·¿Î–_loİ_ruÁime


	)

604 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC
 
GOMP_·¿Î–_loİ_¡©ic


	)

605 
	#KMP_API_NAME_GOMP_PARALLEL_SECTIONS
 
GOMP_·¿Î–_£ùiÚs


	)

606 
	#KMP_API_NAME_GOMP_PARALLEL
 
GOMP_·¿Î–


	)

607 
	#KMP_API_NAME_GOMP_SECTIONS_END_CANCEL
 
GOMP_£ùiÚs_’d_ÿnûl


	)

608 
	#KMP_API_NAME_GOMP_TASKGROUP_START
 
GOMP_skgroup_¡¬t


	)

609 
	#KMP_API_NAME_GOMP_TASKGROUP_END
 
GOMP_skgroup_’d


	)

611 
	#KMP_API_NAME_GOMP_TARGET
 
GOMP_rg‘


	)

612 
	#KMP_API_NAME_GOMP_TARGET_DATA
 
GOMP_rg‘_d©a


	)

613 
	#KMP_API_NAME_GOMP_TARGET_END_DATA
 
GOMP_rg‘_’d_d©a


	)

614 
	#KMP_API_NAME_GOMP_TARGET_UPDATE
 
GOMP_rg‘_upd©e


	)

615 
	#KMP_API_NAME_GOMP_TEAMS
 
GOMP_‹ams


	)

618 
	#KMP_API_NAME_GOMP_TASKLOOP
 
GOMP_skloİ


	)

619 
	#KMP_API_NAME_GOMP_TASKLOOP_ULL
 
GOMP_skloİ_uÎ


	)

620 
	#KMP_API_NAME_GOMP_DOACROSS_POST
 
GOMP_dßüoss_po¡


	)

621 
	#KMP_API_NAME_GOMP_DOACROSS_WAIT
 
GOMP_dßüoss_wa™


	)

622 
	#KMP_API_NAME_GOMP_LOOP_DOACROSS_STATIC_START
 \

623 
GOMP_loİ_dßüoss_¡©ic_¡¬t


	)

624 
	#KMP_API_NAME_GOMP_LOOP_DOACROSS_DYNAMIC_START
 \

625 
GOMP_loİ_dßüoss_dyÇmic_¡¬t


	)

626 
	#KMP_API_NAME_GOMP_LOOP_DOACROSS_GUIDED_START
 \

627 
GOMP_loİ_dßüoss_guided_¡¬t


	)

628 
	#KMP_API_NAME_GOMP_LOOP_DOACROSS_RUNTIME_START
 \

629 
GOMP_loİ_dßüoss_ruÁime_¡¬t


	)

630 
	#KMP_API_NAME_GOMP_DOACROSS_ULL_POST
 
GOMP_dßüoss_uÎ_po¡


	)

631 
	#KMP_API_NAME_GOMP_DOACROSS_ULL_WAIT
 
GOMP_dßüoss_uÎ_wa™


	)

632 
	#KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_STATIC_START
 \

633 
GOMP_loİ_uÎ_dßüoss_¡©ic_¡¬t


	)

634 
	#KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_DYNAMIC_START
 \

635 
GOMP_loİ_uÎ_dßüoss_dyÇmic_¡¬t


	)

636 
	#KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_GUIDED_START
 \

637 
GOMP_loİ_uÎ_dßüoss_guided_¡¬t


	)

638 
	#KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_RUNTIME_START
 \

639 
GOMP_loİ_uÎ_dßüoss_ruÁime_¡¬t


	)

640 
	#KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_NEXT
 \

641 
GOMP_loİ_nÚmÚÙÚic_dyÇmic_Ãxt


	)

642 
	#KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_START
 \

643 
GOMP_loİ_nÚmÚÙÚic_dyÇmic_¡¬t


	)

644 
	#KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_NEXT
 \

645 
GOMP_loİ_nÚmÚÙÚic_guided_Ãxt


	)

646 
	#KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_START
 \

647 
GOMP_loİ_nÚmÚÙÚic_guided_¡¬t


	)

648 
	#KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_NEXT
 \

649 
GOMP_loİ_uÎ_nÚmÚÙÚic_dyÇmic_Ãxt


	)

650 
	#KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_START
 \

651 
GOMP_loİ_uÎ_nÚmÚÙÚic_dyÇmic_¡¬t


	)

652 
	#KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_NEXT
 \

653 
GOMP_loİ_uÎ_nÚmÚÙÚic_guided_Ãxt


	)

654 
	#KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_START
 \

655 
GOMP_loİ_uÎ_nÚmÚÙÚic_guided_¡¬t


	)

656 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_DYNAMIC
 \

657 
GOMP_·¿Î–_loİ_nÚmÚÙÚic_dyÇmic


	)

658 
	#KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_GUIDED
 \

659 
GOMP_·¿Î–_loİ_nÚmÚÙÚic_guided


	)

	@kmp_ftn_stdcall.cpp

13 
	~"kmp.h
"

16 cÚ¡ 
	g__kmp_v”siÚ_án¡dÿÎ
[] =

17 
KMP_VERSION_PREFIX
 "Fortran __stdcall OMP support: "

18 #ifdeà
USE_FTN_STDCALL


24 #ifdeà
USE_FTN_STDCALL


26 
	#FTN_STDCALL
 
KMP_STDCALL


	)

27 
	#KMP_FTN_ENTRIES
 
USE_FTN_STDCALL


	)

29 
	~"kmp_án_’Œy.h
"

30 
	~"kmp_án_os.h
"

	@kmp_global.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 #ià
KMP_USE_HIER_SCHED


16 
	~"kmp_di¥©ch_h›r.h
"

19 
kmp_key_t
 
	g__kmp_gtid_th»ad´iv©e_key
;

21 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


22 
kmp_ıušfo_t
 
	g__kmp_ıušfo
 = {0};

25 #ià
KMP_STATS_ENABLED


26 
	~"kmp_¡©s.h
"

28 
kmp_s_lock_t
 
	g__kmp_¡©s_lock
;

32 
kmp_¡©s_li¡
 *
	g__kmp_¡©s_li¡
;

35 
KMP_THREAD_LOCAL
 
kmp_¡©s_li¡
 *
	g__kmp_¡©s_th»ad_±r
 = 
NULL
;

38 
tsc_tick_couÁ
 
	g__kmp_¡©s_¡¬t_time
;

44 vŞ©
	g__kmp_š™_£rŸl
 = 
FALSE
;

45 vŞ©
	g__kmp_š™_gtid
 = 
FALSE
;

46 vŞ©
	g__kmp_š™_commÚ
 = 
FALSE
;

47 vŞ©
	g__kmp_š™_middË
 = 
FALSE
;

48 vŞ©
	g__kmp_š™_·¿Î–
 = 
FALSE
;

49 #ià
KMP_USE_MONITOR


50 vŞ©
	g__kmp_š™_mÚ™Ü
 =

53 vŞ©
	g__kmp_š™_u£r_locks
 = 
FALSE
;

56 
kmp_ÿched_addr_t
 *
	g__kmp_th»ad´iv_ÿche_li¡
 = 
NULL
;

58 
	g__kmp_š™_couÁ”
 = 0;

59 
	g__kmp_roÙ_couÁ”
 = 0;

60 
	g__kmp_v”siÚ
 = 0;

62 
	g¡d
::
©omic
<
kmp_št32
> 
__kmp_‹am_couÁ”
 = 
ATOMIC_VAR_INIT
(0);

63 
	g¡d
::
©omic
<
kmp_št32
> 
__kmp_sk_couÁ”
 = 
ATOMIC_VAR_INIT
(0);

65 
size_t
 
	g__kmp_¡ksize
 = 
KMP_DEFAULT_STKSIZE
;

66 #ià
KMP_USE_MONITOR


67 
size_t
 
	g__kmp_mÚ™Ü_¡ksize
 = 0;

69 
size_t
 
	g__kmp_¡koff£t
 = 
KMP_DEFAULT_STKOFFSET
;

70 
	g__kmp_¡k·ddšg
 = 
KMP_MIN_STKPADDING
;

72 
size_t
 
	g__kmp_m®loc_poŞ_šü
 = 
KMP_DEFAULT_MALLOC_POOL_INCR
;

76 
kmp_ušt32
 
	g__kmp_b¬r›r_g©h”_bb_dæt
 = 2;

78 
kmp_ušt32
 
	g__kmp_b¬r›r_»Ëa£_bb_dæt
 = 2;

81 
kmp_b¬_·t_e
 
	g__kmp_b¬r›r_g©h”_·t_dæt
 = 
bp_hy³r_b¬
;

83 
kmp_b¬_·t_e
 
	g__kmp_b¬r›r_»Ëa£_·t_dæt
 = 
bp_hy³r_b¬
;

86 
kmp_ušt32
 
	g__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bs_Ï¡_b¬r›r
] = {0};

87 
kmp_ušt32
 
	g__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bs_Ï¡_b¬r›r
] = {0};

88 
kmp_b¬_·t_e
 
	g__kmp_b¬r›r_g©h”_·‰”n
[
bs_Ï¡_b¬r›r
] = {
bp_lš—r_b¬
};

89 
kmp_b¬_·t_e
 
	g__kmp_b¬r›r_»Ëa£_·‰”n
[
bs_Ï¡_b¬r›r
] = {
bp_lš—r_b¬
};

90 cÚ¡ *
	g__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
bs_Ï¡_b¬r›r
] = {

92 #ià
KMP_FAST_REDUCTION_BARRIER


97 cÚ¡ *
	g__kmp_b¬r›r_·‰”n_’v_Çme
[
bs_Ï¡_b¬r›r
] = {

99 #ià
KMP_FAST_REDUCTION_BARRIER


104 cÚ¡ *
	g__kmp_b¬r›r_ty³_Çme
[
bs_Ï¡_b¬r›r
] = {"plain", "forkjoin"

105 #ià
KMP_FAST_REDUCTION_BARRIER


110 cÚ¡ *
	g__kmp_b¬r›r_·‰”n_Çme
[
bp_Ï¡_b¬
] = {"linear", "tree",

113 
	g__kmp_®lTh»adsS³cif›d
 = 0;

114 
size_t
 
	g__kmp_®ign_®loc
 = 
CACHE_LINE
;

116 
	g__kmp_g’”©e_w¬nšgs
 = 
kmp_w¬nšgs_low
;

117 
	g__kmp_»£rve_w¬n
 = 0;

118 
	g__kmp_x´oc
 = 0;

119 
	g__kmp_ava_´oc
 = 0;

120 
size_t
 
	g__kmp_sys_mš_¡ksize
 = 
KMP_MIN_STKSIZE
;

121 
	g__kmp_sys_max_Áh
 = 
KMP_MAX_NTH
;

122 
	g__kmp_max_Áh
 = 0;

123 
	g__kmp_cg_max_Áh
 = 0;

124 
	g__kmp_‹ams_max_Áh
 = 0;

125 
	g__kmp_th»ads_ÿ·c™y
 = 0;

126 
	g__kmp_dæt_‹am_Áh
 = 0;

127 
	g__kmp_dæt_‹am_Áh_ub
 = 0;

128 
	g__kmp__ÿ·c™y
 = 0;

129 
	g__kmp__ÿched
 = 0;

130 
	g__kmp_di¥©ch_num_bufãrs
 = 
KMP_DFLT_DISP_NUM_BUFF
;

131 
	g__kmp_dæt_max_aùive_Ëv–s
 = 1;

132 
boŞ
 
	g__kmp_dæt_max_aùive_Ëv–s_£t
 = 
çl£
;

133 #ià
KMP_NESTED_HOT_TEAMS


134 
	g__kmp_hÙ_‹ams_mode
 = 0;

136 
	g__kmp_hÙ_‹ams_max_Ëv–
 = 1;

138 
lib¿ry_ty³
 
	g__kmp_lib¿ry
 = 
lib¿ry_nÚe
;

139 
sched_ty³
 
	g__kmp_sched
 =

140 
kmp_sch_deçuÉ
;

141 
sched_ty³
 
	g__kmp_¡©ic
 =

142 
kmp_sch_¡©ic_g»edy
;

143 
sched_ty³
 
	g__kmp_guided
 =

144 
kmp_sch_guided_™”©ive_chunked
;

145 
sched_ty³
 
	g__kmp_auto
 =

146 
kmp_sch_guided_ª®ytiÿl_chunked
;

147 #ià
KMP_USE_HIER_SCHED


148 
	g__kmp_di¥©ch_hªd_th»adšg
 = 0;

149 
	g__kmp_h›r_max_un™s
[
kmp_h›r_Ïy”_e
::
LAYER_LAST
 + 1];

150 
	g__kmp_h›r_th»ads_³r
[
kmp_h›r_Ïy”_e
::
LAYER_LAST
 + 1];

151 
kmp_h›r_sched_’v_t
 
	g__kmp_h›r_scheds
 = {0, 0, 
NULL
, NULL, NULL};

153 
	g__kmp_dæt_blocktime
 = 
KMP_DEFAULT_BLOCKTIME
;

154 #ià
KMP_USE_MONITOR


155 
	g__kmp_mÚ™Ü_wakeups
 = 
KMP_MIN_MONITOR_WAKEUPS
;

156 
	g__kmp_bt_š‹rv®s
 = 
KMP_INTERVALS_FROM_BLOCKTIME
(
KMP_DEFAULT_BLOCKTIME
,

157 
KMP_MIN_MONITOR_WAKEUPS
);

159 #ifdeà
KMP_ADJUST_BLOCKTIME


160 
	g__kmp_z”o_bt
 = 
FALSE
;

162 #ifdeà
KMP_DFLT_NTH_CORES


163 
	g__kmp_ncÜes
 = 0;

165 
	g__kmp_chunk
 = 0;

166 
	g__kmp_abÜt_d–ay
 = 0;

167 #ià
KMP_OS_LINUX
 && 
defšed
(
KMP_TDATA_GTID
)

168 
	g__kmp_gtid_mode
 = 3;

169 
	g__kmp_adju¡_gtid_mode
 = 
FALSE
;

170 #–ià
KMP_OS_WINDOWS


171 
	g__kmp_gtid_mode
 = 2;

172 
	g__kmp_adju¡_gtid_mode
 = 
FALSE
;

174 
	g__kmp_gtid_mode
 = 0;

175 
	g__kmp_adju¡_gtid_mode
 = 
TRUE
;

177 #ifdeà
KMP_TDATA_GTID


178 
KMP_THREAD_LOCAL
 
	g__kmp_gtid
 = 
KMP_GTID_DNE
;

180 
	g__kmp_s_gtid_mš
 = 
INT_MAX
;

181 
	g__kmp_fÜeign_
 = 
TRUE
;

182 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


183 
	g__kmp_šh”™_å_cÚŒŞ
 = 
TRUE
;

184 
kmp_št16
 
	g__kmp_š™_x87_åu_cÚŒŞ_wÜd
 = 0;

185 
kmp_ušt32
 
	g__kmp_š™_mxc¤
 = 0;

188 #ifdeà
USE_LOAD_BALANCE


189 
	g__kmp_lßd_b®ªû_š‹rv®
 = 1.0;

192 
kmp_Ã¡ed_Áh»ads_t
 
	g__kmp_Ã¡ed_Áh
 = {
NULL
, 0, 0};

194 #ià
KMP_USE_ADAPTIVE_LOCKS


196 
kmp_ad­tive_backoff_·¿ms_t
 
	g__kmp_ad­tive_backoff_·¿ms
 = {

199 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


200 cÚ¡ *
	g__kmp_¥ecuÏtive_¡©sfe
 = "-";

205 
	g__kmp_di¥Ïy_’v
 = 
FALSE
;

206 
	g__kmp_di¥Ïy_’v_v”bo£
 = 
FALSE
;

207 
	g__kmp_omp_ÿnûÎ©iÚ
 = 
FALSE
;

210 
sched_ty³
 
	g__kmp_sch_m­
[
kmp_sched_uµ”
 - 
kmp_sched_low”_ext
 +

211 
kmp_sched_uµ”_¡d
 - 
kmp_sched_low”
 - 2] = {

212 
kmp_sch_¡©ic_chunked
,

213 
kmp_sch_dyÇmic_chunked
,

214 
kmp_sch_guided_chunked
,

215 
kmp_sch_auto
,

216 
kmp_sch_Œ­ezoid®


221 #ià
KMP_OS_LINUX


222 
şock_funùiÚ_ty³
 
	g__kmp_şock_funùiÚ
;

223 
	g__kmp_şock_funùiÚ_·¿m
;

226 #ià
KMP_MIC_SUPPORTED


227 
mic_ty³
 
	g__kmp_mic_ty³
 = 
nÚ_mic
;

230 #ià
KMP_AFFINITY_SUPPORTED


232 
KMPAffš™y
 *
	g__kmp_affš™y_di¥©ch
 = 
NULL
;

234 #ià
KMP_USE_HWLOC


235 
	g__kmp_hwloc_”rÜ
 = 
FALSE
;

236 
hwloc_tİŞogy_t
 
	g__kmp_hwloc_tİŞogy
 = 
NULL
;

237 
	g__kmp_numa_d‘eùed
 = 
FALSE
;

238 
	g__kmp_te_d•th
 = 0;

241 #ià
KMP_OS_WINDOWS


242 #ià
KMP_GROUP_AFFINITY


243 
	g__kmp_num_´oc_groups
 = 1;

245 
kmp_G‘AùiveProûssÜCouÁ_t
 
	g__kmp_G‘AùiveProûssÜCouÁ
 = 
NULL
;

246 
kmp_G‘AùiveProûssÜGroupCouÁ_t
 
	g__kmp_G‘AùiveProûssÜGroupCouÁ
 = 
NULL
;

247 
kmp_G‘Th»adGroupAffš™y_t
 
	g__kmp_G‘Th»adGroupAffš™y
 = 
NULL
;

248 
kmp_S‘Th»adGroupAffš™y_t
 
	g__kmp_S‘Th»adGroupAffš™y
 = 
NULL
;

251 
size_t
 
	g__kmp_affš_mask_size
 = 0;

252 
affš™y_ty³
 
	g__kmp_affš™y_ty³
 = 
affš™y_deçuÉ
;

253 
affš™y_g¿n
 
	g__kmp_affš™y_g¿n
 = 
affš™y_g¿n_deçuÉ
;

254 
	g__kmp_affš™y_g¿n_Ëv–s
 = -1;

255 
	g__kmp_affš™y_dups
 = 
TRUE
;

256 
affš™y_tİ_m‘hod
 
	g__kmp_affš™y_tİ_m‘hod
 =

257 
affš™y_tİ_m‘hod_deçuÉ
;

258 
	g__kmp_affš™y_com·ù
 = 0;

259 
	g__kmp_affš™y_off£t
 = 0;

260 
	g__kmp_affš™y_v”bo£
 = 
FALSE
;

261 
	g__kmp_affš™y_w¬nšgs
 = 
TRUE
;

262 
	g__kmp_affš™y_»¥eù_mask
 = 
affš™y_»¥eù_mask_deçuÉ
;

263 *
	g__kmp_affš™y_´oşi¡
 = 
NULL
;

264 
kmp_affš_mask_t
 *
	g__kmp_affš™y_masks
 = 
NULL
;

265 
	g__kmp_affš™y_num_masks
 = 0;

267 *
	g__kmp_ıušfo_fe
 = 
NULL
;

271 
kmp_Ã¡ed_´oc_bšd_t
 
	g__kmp_Ã¡ed_´oc_bšd
 = {
NULL
, 0, 0};

272 
	g__kmp_affš™y_num_¶aûs
 = 0;

273 
	g__kmp_di¥Ïy_affš™y
 = 
FALSE
;

274 *
	g__kmp_affš™y_fÜm©
 = 
NULL
;

276 
kmp_hws_™em_t
 
	g__kmp_hws_sock‘
 = {0, 0};

277 
kmp_hws_™em_t
 
	g__kmp_hws_node
 = {0, 0};

278 
kmp_hws_™em_t
 
	g__kmp_hws_te
 = {0, 0};

279 
kmp_hws_™em_t
 
	g__kmp_hws_cÜe
 = {0, 0};

280 
kmp_hws_™em_t
 
	g__kmp_hws_´oc
 = {0, 0};

281 
	g__kmp_hws_»que¡ed
 = 0;

282 
	g__kmp_hws_abs_æag
 = 0;

284 
kmp_št32
 
	g__kmp_deçuÉ_deviû
 = 0;

286 
kmp_skšg_mode_t
 
	g__kmp_skšg_mode
 = 
tskm_sk_‹ams
;

287 
kmp_št32
 
	g__kmp_max_sk_´iÜ™y
 = 0;

288 
kmp_ušt64
 
	g__kmp_skloİ_mš_sks
 = 0;

290 
	g__kmp_memkšd_avaabË
 = 0;

291 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_nuÎ_®loÿtÜ
 = 
NULL
;

292 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_deçuÉ_mem_®loc
 =

293 (
omp_®loÿtÜ_hªdË_t
 const)1;

294 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_Ïrge_ÿp_mem_®loc
 =

295 (
omp_®loÿtÜ_hªdË_t
 const)2;

296 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_cÚ¡_mem_®loc
 =

297 (
omp_®loÿtÜ_hªdË_t
 const)3;

298 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_high_bw_mem_®loc
 =

299 (
omp_®loÿtÜ_hªdË_t
 const)4;

300 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_low_Ït_mem_®loc
 =

301 (
omp_®loÿtÜ_hªdË_t
 const)5;

302 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_cgroup_mem_®loc
 =

303 (
omp_®loÿtÜ_hªdË_t
 const)6;

304 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_±—m_mem_®loc
 =

305 (
omp_®loÿtÜ_hªdË_t
 const)7;

306 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_th»ad_mem_®loc
 =

307 (
omp_®loÿtÜ_hªdË_t
 const)8;

308 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gkmp_max_mem_®loc
 =

309 (
omp_®loÿtÜ_hªdË_t
 const)1024;

310 
omp_®loÿtÜ_hªdË_t
 
	g__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

312 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_deçuÉ_mem_¥aû
 =

313 (
omp_mem¥aû_hªdË_t
 const)0;

314 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_Ïrge_ÿp_mem_¥aû
 =

315 (
omp_mem¥aû_hªdË_t
 const)1;

316 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_cÚ¡_mem_¥aû
 =

317 (
omp_mem¥aû_hªdË_t
 const)2;

318 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_high_bw_mem_¥aû
 =

319 (
omp_mem¥aû_hªdË_t
 const)3;

320 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_low_Ït_mem_¥aû
 =

321 (
omp_mem¥aû_hªdË_t
 const)4;

328 
KMP_BUILD_ASSERT
((
kmp_skšg_æags_t
) == 4);

330 
	g__kmp_sk_¡—lšg_cÚ¡¿št
 = 1;

331 
	g__kmp_’abË_sk_thrÙšg
 = 1;

333 #ifdeà
DEBUG_SUSPEND


334 
	g__kmp_su¥’d_couÁ
 = 0;

337 
	g__kmp_£‰šgs
 = 
FALSE
;

338 
	g__kmp_du¶iÿ‹_lib¿ry_ok
 = 0;

339 #ià
USE_ITT_BUILD


340 
	g__kmp_fÜkjoš_äames
 = 1;

341 
	g__kmp_fÜkjoš_äames_mode
 = 3;

343 
PACKED_REDUCTION_METHOD_T
 
	g__kmp_fÜû_»duùiÚ_m‘hod
 =

344 
»duùiÚ_m‘hod_nÙ_defšed
;

345 
	g__kmp_d‘”m_»d
 = 
FALSE
;

347 #ifdeà
KMP_DEBUG


348 
	gkmp_a_debug
 = 0;

349 
	gkmp_b_debug
 = 0;

350 
	gkmp_c_debug
 = 0;

351 
	gkmp_d_debug
 = 0;

352 
	gkmp_e_debug
 = 0;

353 
	gkmp_f_debug
 = 0;

354 
	gkmp_dŸg
 = 0;

358 
	g__kmp_debug_buf
 =

359 
FALSE
;

360 
	g__kmp_debug_buf_lšes
 =

361 
KMP_DEBUG_BUF_LINES_INIT
;

362 
	g__kmp_debug_buf_ch¬s
 =

363 
KMP_DEBUG_BUF_CHARS_INIT
;

364 
	g__kmp_debug_buf_©omic
 =

365 
FALSE
;

367 *
	g__kmp_debug_bufãr
 = 
NULL
;

368 
	g¡d
::
©omic
<> 
__kmp_debug_couÁ
 =

369 
ATOMIC_VAR_INIT
(0);

370 
	g__kmp_debug_buf_w¬n_ch¬s
 =

374 #ifdeà
KMP_DEBUG


375 
	g__kmp_·r_¿nge
;

377 
	g__kmp_·r_¿nge_routše
[
KMP_PAR_RANGE_ROUTINE_LEN
] = {'\0'};

378 
	g__kmp_·r_¿nge_f’ame
[
KMP_PAR_RANGE_FILENAME_LEN
] = {'\0'};

379 
	g__kmp_·r_¿nge_lb
 = 0;

380 
	g__kmp_·r_¿nge_ub
 = 
INT_MAX
;

384 
	g__kmp_¡Üage_m­
 =

385 
FALSE
;

386 
	g__kmp_¡Üage_m­_v”bo£
 =

387 
FALSE
;

388 
	g__kmp_¡Üage_m­_v”bo£_¥ecif›d
 = 
FALSE
;

391 
	g__kmp_Ãed_»gi¡”_©fÜk
 =

392 
TRUE
;

393 
	g__kmp_Ãed_»gi¡”_©fÜk_¥ecif›d
 = 
TRUE
;

395 
	g__kmp_’v_¡ksize
 = 
FALSE
;

396 
	g__kmp_’v_blocktime
 = 
FALSE
;

397 
	g__kmp_’v_checks
 = 
FALSE
;

398 
	g__kmp_’v_cÚsi¡’cy_check
 = 
FALSE
;

404 
kmp_št32
 
	g__kmp_u£_y›ld
 = 1;

406 
kmp_št32
 
	g__kmp_u£_y›ld_exp_£t
 = 0;

408 
kmp_ušt32
 
	g__kmp_y›ld_š™
 = 
KMP_INIT_WAIT
;

409 
kmp_ušt32
 
	g__kmp_y›ld_Ãxt
 = 
KMP_NEXT_WAIT
;

417 
KMP_ALIGN_CACHE


418 
kmp_šfo_t
 **
	g__kmp_th»ads
 = 
NULL
;

419 
kmp_roÙ_t
 **
	g__kmp_roÙ
 = 
NULL
;

422 
KMP_ALIGN_CACHE


423 vŞ©
	g__kmp_Áh
 = 0;

424 vŞ©
	g__kmp_®l_Áh
 = 0;

425 vŞ©
kmp_šfo_t
 *
	g__kmp_th»ad_poŞ
 = 
NULL
;

426 vŞ©
kmp_‹am_t
 *
	g__kmp_‹am_poŞ
 = 
NULL
;

428 
KMP_ALIGN_CACHE


429 
	g¡d
::
©omic
<> 
__kmp_th»ad_poŞ_aùive_Áh
 = 
ATOMIC_VAR_INIT
(0);

433 
KMP_ALIGN_CACHE


434 
kmp_glob®_t
 
	g__kmp_glob®
;

440 #ià
KMP_USE_INTERNODE_ALIGNMENT


443 
KMP_ALIGN_CACHE_INTERNODE


445 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_š™z_lock
);

446 
KMP_ALIGN_CACHE_INTERNODE


447 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_fÜkjoš_lock
);

448 
KMP_ALIGN_CACHE_INTERNODE


449 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_ex™_lock
);

450 #ià
KMP_USE_MONITOR


452 
KMP_ALIGN_CACHE_INTERNODE


453 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_mÚ™Ü_lock
);

457 
KMP_ALIGN_CACHE_INTERNODE


458 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp__ÿched_lock
);

460 
KMP_ALIGN_CACHE_INTERNODE


461 
KMP_LOCK_INIT
(
__kmp_glob®_lock
);

462 
KMP_ALIGN_CACHE_INTERNODE


463 
kmp_queušg_lock_t
 
	g__kmp_di¥©ch_lock
;

464 
KMP_ALIGN_CACHE_INTERNODE


465 
KMP_LOCK_INIT
(
__kmp_debug_lock
);

467 
KMP_ALIGN_CACHE


469 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_š™z_lock
);

470 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_fÜkjoš_lock
);

471 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_ex™_lock
);

472 #ià
KMP_USE_MONITOR


474 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp_mÚ™Ü_lock
);

478 
KMP_BOOTSTRAP_LOCK_INIT
(
__kmp__ÿched_lock
);

480 
	$KMP_ALIGN
(128)

481 
	`KMP_LOCK_INIT
(
__kmp_glob®_lock
);

482 
	$KMP_ALIGN
(128)

483 
kmp_queušg_lock_t
 
__kmp_di¥©ch_lock
;

484 
	$KMP_ALIGN
(128)

485 
	`KMP_LOCK_INIT
(
__kmp_debug_lock
);

490 #ià
KMP_HANDLE_SIGNALS


510 
__kmp_hªdË_sigÇls
 = 
FALSE
;

513 #ifdeà
DEBUG_SUSPEND


514 
	$g‘_su¥’d_couÁ_
() {

515 
couÁ
 = 
__kmp_su¥’d_couÁ
;

516 
__kmp_su¥’d_couÁ
 = 0;

517  
couÁ
;

518 
	}
}

519 
	$£t_su¥’d_couÁ_
(*
v®ue
è{ 
__kmp_su¥’d_couÁ
 = *v®ue; 
	}
}

523 
	g_You_mu¡_lšk_w™h_exaùly_Úe_O³nMP_lib¿ry
 = 1;

524 
	g_You_mu¡_lšk_w™h_IÁ–_O³nMP_lib¿ry
 = 1;

525 #ià
KMP_OS_WINDOWS
 && (
KMP_VERSION_MAJOR
 > 4)

526 
	g_You_mu¡_lšk_w™h_Miüosoá_O³nMP_lib¿ry
 = 1;

529 
kmp_rg‘_ofæßd_kšd_t
 
	g__kmp_rg‘_ofæßd
 = 
tgt_deçuÉ
;

532 
kmp_·u£_¡©us_t
 
	g__kmp_·u£_¡©us
 = 
kmp_nÙ_·u£d
;

	@kmp_gsupport.cpp

13 
	~"kmp.h
"

14 
	~"kmp_©omic.h
"

16 #ià
OMPT_SUPPORT


17 
	~"om±-¥ecific.h
"

20 #ifdeà
__ılu¥lus


24 
	#MKLOC
(
loc
, 
routše
) \

25 
id’t_t
 
loc
 = {0, 
KMP_IDENT_KMPC
, 0, 0, ";unknown;unknown;0;0;;"};

	)

27 
	~"kmp_án_os.h
"

29 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_BARRIER
)() {

30 
gtid
 = 
__kmp_’Œy_gtid
();

31 
MKLOC
(
loc
, "GOMP_barrier");

32 
KA_TRACE
(20, ("GOMP_b¬r›r: T#%d\n", 
gtid
));

33 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


34 
om±_äame_t
 *
om±_äame
;

35 ià(
om±_’abËd
.
’abËd
) {

36 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

37 
om±_äame
->
’‹r_äame
.
±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

38 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

41 
__kmpc_b¬r›r
(&
loc
, 
gtid
);

42 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


43 ià(
om±_’abËd
.
’abËd
) {

44 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

58 
kmp_ü™iÿl_Çme
 *
__kmp_uÂamed_ü™iÿl_addr
;

60 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CRITICAL_START
)() {

61 
	ggtid
 = 
__kmp_’Œy_gtid
();

62 
MKLOC
(
loc
, "GOMP_critical_start");

63 
KA_TRACE
(20, ("GOMP_ü™iÿl_¡¬t: T#%d\n", 
gtid
));

64 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


65 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

67 
__kmpc_ü™iÿl
(&
loc
, 
gtid
, 
__kmp_uÂamed_ü™iÿl_addr
);

70 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CRITICAL_END
)() {

71 
	ggtid
 = 
__kmp_g‘_gtid
();

72 
MKLOC
(
loc
, "GOMP_critical_end");

73 
KA_TRACE
(20, ("GOMP_ü™iÿl_’d: T#%d\n", 
gtid
));

74 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


75 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

77 
__kmpc_’d_ü™iÿl
(&
loc
, 
gtid
, 
__kmp_uÂamed_ü™iÿl_addr
);

80 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CRITICAL_NAME_START
)(**
	gµŒ
) {

81 
	ggtid
 = 
__kmp_’Œy_gtid
();

82 
MKLOC
(
loc
, "GOMP_critical_name_start");

83 
KA_TRACE
(20, ("GOMP_ü™iÿl_Çme_¡¬t: T#%d\n", 
gtid
));

84 
__kmpc_ü™iÿl
(&
loc
, 
gtid
, (
kmp_ü™iÿl_Çme
 *)
µŒ
);

87 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CRITICAL_NAME_END
)(**
	gµŒ
) {

88 
	ggtid
 = 
__kmp_g‘_gtid
();

89 
MKLOC
(
loc
, "GOMP_critical_name_end");

90 
KA_TRACE
(20, ("GOMP_ü™iÿl_Çme_’d: T#%d\n", 
gtid
));

91 
__kmpc_’d_ü™iÿl
(&
loc
, 
gtid
, (
kmp_ü™iÿl_Çme
 *)
µŒ
);

97 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_ATOMIC_START
)() {

98 
	ggtid
 = 
__kmp_’Œy_gtid
();

99 
KA_TRACE
(20, ("GOMP_©omic_¡¬t: T#%d\n", 
gtid
));

101 #ià
OMPT_SUPPORT


102 
__om±_th»ad_assign_wa™_id
(0);

105 
__kmp_acquœe_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

108 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_ATOMIC_END
)() {

109 
	ggtid
 = 
__kmp_g‘_gtid
();

110 
KA_TRACE
(20, ("GOMP_©omic_’d: T#%d\n", 
gtid
));

111 
__kmp_»Ëa£_©omic_lock
(&
__kmp_©omic_lock
, 
gtid
);

114 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SINGLE_START
)() {

115 
	ggtid
 = 
__kmp_’Œy_gtid
();

116 
MKLOC
(
loc
, "GOMP_single_start");

117 
KA_TRACE
(20, ("GOMP_sšgË_¡¬t: T#%d\n", 
gtid
));

119 ià(!
TCR_4
(
__kmp_š™_·¿Î–
))

120 
__kmp_·¿Î–_š™Ÿlize
();

121 
__kmp_»sume_if_soá_·u£d
();

126 
kmp_št32
 
	grc
 = 
__kmp_’‹r_sšgË
(
gtid
, &
loc
, 
FALSE
);

128 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


129 
kmp_šfo_t
 *
	gthis_thr
 = 
__kmp_th»ads
[
gtid
];

130 
kmp_‹am_t
 *
	g‹am
 = 
this_thr
->
th
.
th_‹am
;

131 
	gtid
 = 
__kmp_tid_äom_gtid
(
gtid
);

133 ià(
	gom±_’abËd
.
	g’abËd
) {

134 ià(
	grc
) {

135 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

136 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

137 
	gom±_wÜk_sšgË_executÜ
, 
	gom±_scİe_begš
,

138 &(
	g‹am
->
	gt
.
	gom±_‹am_šfo
.
	g·¿Î–_d©a
),

139 &(
	g‹am
->
	gt
.
	gt_im¶ic™_sk_skd©a
[
tid
].
	gom±_sk_šfo
.
	gsk_d©a
),

140 1, 
OMPT_GET_RETURN_ADDRESS
(0));

143 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

144 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

145 
	gom±_wÜk_sšgË_Ùh”
, 
	gom±_scİe_begš
,

146 &(
	g‹am
->
	gt
.
	gom±_‹am_šfo
.
	g·¿Î–_d©a
),

147 &(
	g‹am
->
	gt
.
	gt_im¶ic™_sk_skd©a
[
tid
].
	gom±_sk_šfo
.
	gsk_d©a
),

148 1, 
OMPT_GET_RETURN_ADDRESS
(0));

149 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

150 
	gom±_wÜk_sšgË_Ùh”
, 
	gom±_scİe_’d
,

151 &(
	g‹am
->
	gt
.
	gom±_‹am_šfo
.
	g·¿Î–_d©a
),

152 &(
	g‹am
->
	gt
.
	gt_im¶ic™_sk_skd©a
[
tid
].
	gom±_sk_šfo
.
	gsk_d©a
),

153 1, 
OMPT_GET_RETURN_ADDRESS
(0));

159  
	grc
;

162 *
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SINGLE_COPY_START
)() {

163 *
	g»tv®
;

164 
	ggtid
 = 
__kmp_’Œy_gtid
();

165 
MKLOC
(
loc
, "GOMP_single_copy_start");

166 
KA_TRACE
(20, ("GOMP_sšgË_cİy_¡¬t: T#%d\n", 
gtid
));

168 ià(!
TCR_4
(
__kmp_š™_·¿Î–
))

169 
__kmp_·¿Î–_š™Ÿlize
();

170 
__kmp_»sume_if_soá_·u£d
();

175 ià(
__kmp_’‹r_sšgË
(
gtid
, &
loc
, 
FALSE
))

176  
	gNULL
;

181 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


182 
om±_äame_t
 *
	gom±_äame
;

183 ià(
	gom±_’abËd
.
	g’abËd
) {

184 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

185 
	gom±_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

186 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

189 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

193 
	g»tv®
 = 
__kmp_‹am_äom_gtid
(
gtid
)->
t
.
t_cİy´iv_d©a
;

194 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


195 ià(
	gom±_’abËd
.
	g’abËd
) {

196 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

199 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

200 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


201 ià(
	gom±_’abËd
.
	g’abËd
) {

202 
	gom±_äame
->
	g’‹r_äame
 = 
om±_d©a_nÚe
;

205  
	g»tv®
;

208 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SINGLE_COPY_END
)(*
	gd©a
) {

209 
	ggtid
 = 
__kmp_g‘_gtid
();

210 
KA_TRACE
(20, ("GOMP_sšgË_cİy_’d: T#%d\n", 
gtid
));

216 
__kmp_‹am_äom_gtid
(
gtid
)->
	gt
.
	gt_cİy´iv_d©a
 = 
d©a
;

217 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


218 
om±_äame_t
 *
	gom±_äame
;

219 ià(
	gom±_’abËd
.
	g’abËd
) {

220 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

221 
	gom±_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

222 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

225 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

226 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


227 ià(
	gom±_’abËd
.
	g’abËd
) {

228 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

231 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

232 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


233 ià(
	gom±_’abËd
.
	g’abËd
) {

234 
	gom±_äame
->
	g’‹r_äame
 = 
om±_d©a_nÚe
;

239 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_ORDERED_START
)() {

240 
	ggtid
 = 
__kmp_’Œy_gtid
();

241 
MKLOC
(
loc
, "GOMP_ordered_start");

242 
KA_TRACE
(20, ("GOMP_Üd”ed_¡¬t: T#%d\n", 
gtid
));

243 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


244 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

246 
__kmpc_Üd”ed
(&
loc
, 
gtid
);

249 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_ORDERED_END
)() {

250 
	ggtid
 = 
__kmp_g‘_gtid
();

251 
MKLOC
(
loc
, "GOMP_ordered_end");

252 
KA_TRACE
(20, ("GOMP_Üd”ed_¡¬t: T#%d\n", 
gtid
));

253 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


254 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

256 
__kmpc_’d_Üd”ed
(&
loc
, 
gtid
);

264 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_MIPS


265 
	#KMP_DISPATCH_INIT
 
__kmp_aux_di¥©ch_š™_4


	)

266 
	#KMP_DISPATCH_FINI_CHUNK
 
__kmp_aux_di¥©ch_fši_chunk_4


	)

267 
	#KMP_DISPATCH_NEXT
 
__kmpc_di¥©ch_Ãxt_4


	)

269 
	#KMP_DISPATCH_INIT
 
__kmp_aux_di¥©ch_š™_8


	)

270 
	#KMP_DISPATCH_FINI_CHUNK
 
__kmp_aux_di¥©ch_fši_chunk_8


	)

271 
	#KMP_DISPATCH_NEXT
 
__kmpc_di¥©ch_Ãxt_8


	)

274 
	#KMP_DISPATCH_INIT_ULL
 
__kmp_aux_di¥©ch_š™_8u


	)

275 
	#KMP_DISPATCH_FINI_CHUNK_ULL
 
__kmp_aux_di¥©ch_fši_chunk_8u


	)

276 
	#KMP_DISPATCH_NEXT_ULL
 
__kmpc_di¥©ch_Ãxt_8u


	)

280 #iâdeà
KMP_DEBUG


284 
__kmp_GOMP_miüÙask_w¿µ”
(*
gtid
, *
År
, (*
sk
)(*),

285 *
d©a
) {

286 #ià
OMPT_SUPPORT


287 
kmp_šfo_t
 *
	gthr
;

288 
om±_äame_t
 *
	gom±_äame
;

289 
om±_¡©e_t
 
	g’şosšg_¡©e
;

291 ià(
	gom±_’abËd
.
	g’abËd
) {

293 
	gthr
 = 
__kmp_th»ads
[*
gtid
];

296 
	g’şosšg_¡©e
 = 
thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

297 
	gthr
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

300 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

301 
	gom±_äame
->
	gex™_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

305 
sk
(
d©a
);

307 #ià
OMPT_SUPPORT


308 ià(
	gom±_’abËd
.
	g’abËd
) {

310 
	gom±_äame
->
	gex™_äame
 = 
om±_d©a_nÚe
;

313 
	gthr
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
’şosšg_¡©e
;

318 #iâdeà
KMP_DEBUG


322 
__kmp_GOMP_·¿Î–_miüÙask_w¿µ”
(*
gtid
, *
År
,

323 (*
sk
)(*), *
d©a
,

324 
num_th»ads
, 
id’t_t
 *
loc
,

325 
sched_ty³
 
scheduË
, 
¡¬t
,

326 
’d
, 
šü
,

327 
chunk_size
) {

330 
KMP_DISPATCH_INIT
(
loc
, *
gtid
, 
scheduË
, 
¡¬t
, 
’d
, 
šü
, 
chunk_size
,

331 
scheduË
 !ğ
kmp_sch_¡©ic
);

333 #ià
OMPT_SUPPORT


334 
kmp_šfo_t
 *
	gthr
;

335 
om±_äame_t
 *
	gom±_äame
;

336 
om±_¡©e_t
 
	g’şosšg_¡©e
;

338 ià(
	gom±_’abËd
.
	g’abËd
) {

339 
	gthr
 = 
__kmp_th»ads
[*
gtid
];

341 
	g’şosšg_¡©e
 = 
thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

342 
	gthr
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

345 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

346 
	gom±_äame
->
	gex™_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

351 
sk
(
d©a
);

353 #ià
OMPT_SUPPORT


354 ià(
	gom±_’abËd
.
	g’abËd
) {

356 
	gom±_äame
->
	gex™_äame
 = 
om±_d©a_nÚe
;

359 
	gthr
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
’şosšg_¡©e
;

364 #iâdeà
KMP_DEBUG


368 
__kmp_GOMP_fÜk_ÿÎ
(
id’t_t
 *
loc
, 
gtid
, (*
unw¿µed_sk
)(*),

369 
miüÙask_t
 
w¿µ”
, 
¬gc
, ...) {

370 
	grc
;

371 
kmp_šfo_t
 *
	gthr
 = 
__kmp_th»ads
[
gtid
];

372 
kmp_‹am_t
 *
	g‹am
 = 
thr
->
th
.
th_‹am
;

373 
	gtid
 = 
__kmp_tid_äom_gtid
(
gtid
);

375 
va_li¡
 
	g­
;

376 
va_¡¬t
(
­
, 
¬gc
);

378 
	grc
 = 
__kmp_fÜk_ÿÎ
(
loc
, 
gtid
, 
fÜk_cÚ‹xt_gnu
, 
¬gc
, 
w¿µ”
,

379 
__kmp_švoke_sk_func
,

380 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


381 &
­


383 
­


387 
va_’d
(
­
);

389 ià(
	grc
) {

390 
__kmp_run_befÜe_švoked_sk
(
gtid
, 
tid
, 
thr
, 
‹am
);

393 #ià
OMPT_SUPPORT


394 
	gom±_‹am_size
;

395 ià(
	gom±_’abËd
.
	g’abËd
) {

396 
om±_‹am_šfo_t
 *
	g‹am_šfo
 = 
__om±_g‘_‹amšfo
(0, 
NULL
);

397 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

400 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

401 
	gom±_‹am_size
 = 
__kmp_‹am_äom_gtid
(
gtid
)->
t
.
t_Åroc
;

402 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

403 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

404 &(
	gsk_šfo
->
	gsk_d©a
), 
	gom±_‹am_size
, 
__kmp_tid_äom_gtid
(
gtid
), 
	gom±_sk_im¶ic™
);

405 
	gsk_šfo
->
	gth»ad_num
 = 
__kmp_tid_äom_gtid
(
gtid
);

407 
	gthr
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

412 
__kmp_GOMP_£rŸlized_·¿Î–
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

413 (*
sk
)(*)) {

414 #ià
OMPT_SUPPORT


415 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

417 
__kmp_£rŸlized_·¿Î–
(
loc
, 
gtid
);

420 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_START
)((*
	gsk
)(*),

421 *
	gd©a
,

422 
	gnum_th»ads
) {

423 
	ggtid
 = 
__kmp_’Œy_gtid
();

425 #ià
OMPT_SUPPORT


426 
om±_äame_t
 *
	g·»Á_äame
, *
	gäame
;

428 ià(
	gom±_’abËd
.
	g’abËd
) {

429 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
·»Á_äame
, NULL, NULL);

430 
	g·»Á_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

431 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

435 
MKLOC
(
loc
, "GOMP_parallel_start");

436 
KA_TRACE
(20, ("GOMP_·¿Î–_¡¬t: T#%d\n", 
gtid
));

438 ià(
__kmpc_ok_to_fÜk
(&
loc
è&& (
	gnum_th»ads
 != 1)) {

439 ià(
num_th»ads
 != 0) {

440 
__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
);

442 
__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
,

443 (
miüÙask_t
)
__kmp_GOMP_miüÙask_w¿µ”
, 2, 
sk
,

444 
d©a
);

446 
__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
);

449 #ià
OMPT_SUPPORT


450 ià(
	gom±_’abËd
.
	g’abËd
) {

451 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
äame
, NULL, NULL);

452 
	gäame
->
	gex™_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

457 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_END
)() {

458 
	ggtid
 = 
__kmp_g‘_gtid
();

459 
kmp_šfo_t
 *
	gthr
;

461 
	gthr
 = 
__kmp_th»ads
[
gtid
];

463 
MKLOC
(
loc
, "GOMP_parallel_end");

464 
KA_TRACE
(20, ("GOMP_·¿Î–_’d: T#%d\n", 
gtid
));

466 ià(!
	gthr
->
	gth
.
	gth_‹am
->
	gt
.
	gt_£rŸlized
) {

467 
__kmp_run_aá”_švoked_sk
(
gtid
, 
__kmp_tid_äom_gtid
(gtid), 
thr
,

468 
thr
->
th
.
th_‹am
);

470 #ià
OMPT_SUPPORT


471 ià(
	gom±_’abËd
.
	g’abËd
) {

475 
OMPT_CUR_TASK_INFO
(
thr
)->
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

479 
__kmp_još_ÿÎ
(&
loc
, 
gtid


480 #ià
OMPT_SUPPORT


482 
fÜk_cÚ‹xt_gnu


486 
__kmpc_’d_£rŸlized_·¿Î–
(&
loc
, 
gtid
);

514 #ià
OMPT_SUPPORT


515 
	#IF_OMPT_SUPPORT
(
code
è
	)
code

517 
	#IF_OMPT_SUPPORT
(
code
)

	)

520 
	#LOOP_START
(
func
, 
scheduË
) \

521 
	`func
(
lb
, 
ub
, 
¡r
, 
chunk_sz
, *
p_lb
, \

522 *
p_ub
) { \

523 
¡©us
; \

524 
¡ride
; \

525 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

526 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

527 
	`KA_TRACE
( \

529 (
	`KMP_STR
( \

530 
func
) ": T#%d,†b 0x%lx, ub 0x%lx, str 0x%lx, chunk_sz 0x%lx\n", \

531 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

533 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

534 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

535 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

536 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

537 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

538 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

539 
¡©us
 = 
	`KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, (
kmp_št
 *)
p_lb
, \

540 (
kmp_št
 *)
p_ub
, (kmp_šˆ*)&
¡ride
); \

541 ià(
¡©us
) { \

542 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

543 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

546 
¡©us
 = 0; \

549 
	`KA_TRACE
( \

551 (
	`KMP_STR
( \

552 
func
) "ƒxit: T#%d, *p_lb 0x%lx, *p_ub 0x%lx,„eturning %d\n", \

553 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

554  
¡©us
; \

555 }

	)

557 
	#LOOP_RUNTIME_START
(
func
, 
scheduË
) \

558 
	`func
(
lb
, 
ub
, 
¡r
, *
p_lb
, *
p_ub
) { \

559 
¡©us
; \

560 
¡ride
; \

561 
chunk_sz
 = 0; \

562 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

563 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

564 
	`KA_TRACE
( \

566 (
	`KMP_STR
(
func
) ": T#%d,†b 0x%lx, ub 0x%lx, str 0x%lx, chunk_sz %d\n", \

567 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

569 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

570 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

571 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

572 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, 
TRUE
); \

573 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

574 
¡©us
 = 
	`KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, (
kmp_št
 *)
p_lb
, \

575 (
kmp_št
 *)
p_ub
, (kmp_šˆ*)&
¡ride
); \

576 ià(
¡©us
) { \

577 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

578 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

581 
¡©us
 = 0; \

584 
	`KA_TRACE
( \

586 (
	`KMP_STR
( \

587 
func
) "ƒxit: T#%d, *p_lb 0x%lx, *p_ub 0x%lx,„eturning %d\n", \

588 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

589  
¡©us
; \

590 }

	)

592 
	#KMP_DOACROSS_FINI
(
¡©us
, 
gtid
) \

593 ià(!
¡©us
 && 
__kmp_th»ads
[
gtid
]->
th
.
th_di¥©ch
->
th_dßüoss_æags
) { \

594 
	`__kmpc_dßüoss_fši
(
NULL
, 
gtid
); \

595 }

	)

597 
	#LOOP_NEXT
(
func
, 
fši_code
) \

598 
	`func
(*
p_lb
, *
p_ub
) { \

599 
¡©us
; \

600 
¡ride
; \

601 
gtid
 = 
	`__kmp_g‘_gtid
(); \

602 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

603 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
è": T#%d\n", 
gtid
)); \

605 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

606 
fši_code
 
¡©us
 = 
	`KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, (
kmp_št
 *)
p_lb
, \

607 (
kmp_št
 *)
p_ub
, (kmp_šˆ*)&
¡ride
); \

608 ià(
¡©us
) { \

609 *
p_ub
 +ğ(
¡ride
 > 0) ? 1 : -1; \

611 
	`KMP_DOACROSS_FINI
(
¡©us
, 
gtid
) \

613 
	`KA_TRACE
( \

615 (
	`KMP_STR
(
func
) "ƒxit: T#%d, *p_lb 0x%lx, *p_ub 0x%lx, stride 0x%lx, " \

617 
gtid
, *
p_lb
, *
p_ub
, 
¡ride
, 
¡©us
)); \

618  
¡©us
; \

619 }

	)

621 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_STATIC_START
), 
kmp_sch_¡©ic
)

622 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_STATIC_NEXT
), {})

623 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DYNAMIC_START
),

624 
kmp_sch_dyÇmic_chunked
)

625 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_START
),

626 
kmp_sch_dyÇmic_chunked
)

627 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DYNAMIC_NEXT
), {})

628 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_NEXT
), {})

629 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_GUIDED_START
),

630 
kmp_sch_guided_chunked
)

631 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_START
),

632 
kmp_sch_guided_chunked
)

633 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_GUIDED_NEXT
), {})

634 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_NEXT
), {})

635 
LOOP_RUNTIME_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_RUNTIME_START
),

636 
kmp_sch_ruÁime
)

637 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_RUNTIME_NEXT
), {})

639 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_START
),

640 
kmp_Üd_¡©ic
)

641 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_NEXT
),

642 { 
KMP_DISPATCH_FINI_CHUNK
(&
loc
, 
gtid
); })

643 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_START
),

644 
kmp_Üd_dyÇmic_chunked
)

645 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_NEXT
),

646 { 
KMP_DISPATCH_FINI_CHUNK
(&
loc
, 
gtid
); })

647 
LOOP_START
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_START
),

648 
kmp_Üd_guided_chunked
)

649 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_NEXT
),

650 { 
KMP_DISPATCH_FINI_CHUNK
(&
loc
, 
gtid
); })

651 
LOOP_RUNTIME_START
(

652 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_START
),

653 
kmp_Üd_ruÁime
)

654 
LOOP_NEXT
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_NEXT
),

655 { 
KMP_DISPATCH_FINI_CHUNK
(&
loc
, 
gtid
); })

657 
	#LOOP_DOACROSS_START
(
func
, 
scheduË
) \

658 
boŞ
 
	`func
(
ncouÁs
, *
couÁs
, 
chunk_sz
, *
p_lb
, \

659 *
p_ub
) { \

660 
¡©us
; \

661 
¡ride
, 
lb
, 
ub
, 
¡r
; \

662 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

663 
kmp_dim
 *
dims
 = \

664 (
kmp_dim
 *)
	`__kmp_®loÿ‹
((kmp_dimè* 
ncouÁs
); \

665 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

666 
i
 = 0; i < 
ncouÁs
; ++i) { \

667 
dims
[
i
].
lo
 = 0; \

668 
dims
[
i
].
up
 = 
couÁs
[i] - 1; \

669 
dims
[
i
].
¡
 = 1; \

671 
	`__kmpc_dßüoss_š™
(&
loc
, 
gtid
, ()
ncouÁs
, 
dims
); \

672 
lb
 = 0; \

673 
ub
 = 
couÁs
[0]; \

674 
¡r
 = 1; \

675 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
) ": T#%d,‚counts %u,†b 0x%lx, ub 0x%lx, str " \

678 
gtid
, 
ncouÁs
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

680 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

681 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

682 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

683 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

684 
¡©us
 = 
	`KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, (
kmp_št
 *)
p_lb
, \

685 (
kmp_št
 *)
p_ub
, (kmp_šˆ*)&
¡ride
); \

686 ià(
¡©us
) { \

687 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

688 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

691 
¡©us
 = 0; \

693 
	`KMP_DOACROSS_FINI
(
¡©us
, 
gtid
); \

695 
	`KA_TRACE
( \

697 (
	`KMP_STR
( \

698 
func
) "ƒxit: T#%d, *p_lb 0x%lx, *p_ub 0x%lx,„eturning %d\n", \

699 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

700 
	`__kmp_ä“
(
dims
); \

701  
¡©us
; \

702 }

	)

704 
	#LOOP_DOACROSS_RUNTIME_START
(
func
, 
scheduË
) \

705 
	`func
(
ncouÁs
, *
couÁs
, *
p_lb
, *
p_ub
) { \

706 
¡©us
; \

707 
¡ride
, 
lb
, 
ub
, 
¡r
; \

708 
chunk_sz
 = 0; \

709 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

710 
kmp_dim
 *
dims
 = \

711 (
kmp_dim
 *)
	`__kmp_®loÿ‹
((kmp_dimè* 
ncouÁs
); \

712 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

713 
i
 = 0; i < 
ncouÁs
; ++i) { \

714 
dims
[
i
].
lo
 = 0; \

715 
dims
[
i
].
up
 = 
couÁs
[i] - 1; \

716 
dims
[
i
].
¡
 = 1; \

718 
	`__kmpc_dßüoss_š™
(&
loc
, 
gtid
, ()
ncouÁs
, 
dims
); \

719 
lb
 = 0; \

720 
ub
 = 
couÁs
[0]; \

721 
¡r
 = 1; \

722 
	`KA_TRACE
( \

724 (
	`KMP_STR
(
func
) ": T#%d,†b 0x%lx, ub 0x%lx, str 0x%lx, chunk_sz %d\n", \

725 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

727 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

728 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

729 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, 
TRUE
); \

730 
¡©us
 = 
	`KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, (
kmp_št
 *)
p_lb
, \

731 (
kmp_št
 *)
p_ub
, (kmp_šˆ*)&
¡ride
); \

732 ià(
¡©us
) { \

733 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

734 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

737 
¡©us
 = 0; \

739 
	`KMP_DOACROSS_FINI
(
¡©us
, 
gtid
); \

741 
	`KA_TRACE
( \

743 (
	`KMP_STR
( \

744 
func
) "ƒxit: T#%d, *p_lb 0x%lx, *p_ub 0x%lx,„eturning %d\n", \

745 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

746 
	`__kmp_ä“
(
dims
); \

747  
¡©us
; \

748 }

	)

750 
LOOP_DOACROSS_START
(

751 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_STATIC_START
),

752 
kmp_sch_¡©ic
)

753 
LOOP_DOACROSS_START
(

754 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_DYNAMIC_START
),

755 
kmp_sch_dyÇmic_chunked
)

756 
LOOP_DOACROSS_START
(

757 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_GUIDED_START
),

758 
kmp_sch_guided_chunked
)

759 
LOOP_DOACROSS_RUNTIME_START
(

760 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_RUNTIME_START
),

761 
kmp_sch_ruÁime
)

763 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_END
)() {

764 
	ggtid
 = 
__kmp_g‘_gtid
();

765 
KA_TRACE
(20, ("GOMP_loİ_’d: T#%d\n", 
gtid
))

767 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


768 
om±_äame_t
 *
	gom±_äame
;

769 ià(
	gom±_’abËd
.
	g’abËd
) {

770 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

771 
	gom±_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

772 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

775 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

776 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


777 ià(
	gom±_’abËd
.
	g’abËd
) {

778 
	gom±_äame
->
	g’‹r_äame
 = 
om±_d©a_nÚe
;

782 
KA_TRACE
(20, ("GOMP_loİ_’dƒx™: T#%d\n", 
gtid
))

785 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_END_NOWAIT
)() {

786 
KA_TRACE
(20, ("GOMP_loİ_’d_nowa™: T#%d\n", 
__kmp_g‘_gtid
()))

793 
	#LOOP_START_ULL
(
func
, 
scheduË
) \

794 
	`func
(
up
, 
lb
, 
ub
, \

795 
¡r
, 
chunk_sz
, \

796 *
p_lb
, *
p_ub
) { \

797 
¡©us
; \

798 
¡r2
 = 
up
 ? (()
¡r
) : -(()str); \

799 
¡ride
; \

800 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

801 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

803 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
) ": T#%d, up %d,†b 0x%llx, ub 0x%llx, str " \

805 
gtid
, 
up
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

807 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

808 
	`KMP_DISPATCH_INIT_ULL
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

809 (
¡r2
 > 0è? (
ub
 - 1è: (ub + 1), sŒ2, 
chunk_sz
, \

810 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

811 
¡©us
 = \

812 
	`KMP_DISPATCH_NEXT_ULL
(&
loc
, 
gtid
, 
NULL
, (
kmp_ušt64
 *)
p_lb
, \

813 (
kmp_ušt64
 *)
p_ub
, (
kmp_št64
 *)&
¡ride
); \

814 ià(
¡©us
) { \

815 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r2
); \

816 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

819 
¡©us
 = 0; \

822 
	`KA_TRACE
( \

824 (
	`KMP_STR
( \

825 
func
) "ƒxit: T#%d, *p_lb 0x%llx, *p_ub 0x%llx,„eturning %d\n", \

826 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

827  
¡©us
; \

828 }

	)

830 
	#LOOP_RUNTIME_START_ULL
(
func
, 
scheduË
) \

831 
	`func
(
up
, 
lb
, 
ub
, \

832 
¡r
, *
p_lb
, \

833 *
p_ub
) { \

834 
¡©us
; \

835 
¡r2
 = 
up
 ? (()
¡r
) : -(()str); \

836 
¡ride
; \

837 
chunk_sz
 = 0; \

838 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

839 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

841 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
) ": T#%d, up %d,†b 0x%llx, ub 0x%llx, str " \

843 
gtid
, 
up
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

845 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

846 
	`KMP_DISPATCH_INIT_ULL
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

847 (
¡r2
 > 0è? (
ub
 - 1è: (ub + 1), sŒ2, 
chunk_sz
, \

848 
TRUE
); \

849 
¡©us
 = \

850 
	`KMP_DISPATCH_NEXT_ULL
(&
loc
, 
gtid
, 
NULL
, (
kmp_ušt64
 *)
p_lb
, \

851 (
kmp_ušt64
 *)
p_ub
, (
kmp_št64
 *)&
¡ride
); \

852 ià(
¡©us
) { \

853 
	`KMP_DEBUG_ASSERT
(()
¡ride
 =ğ
¡r2
); \

854 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

857 
¡©us
 = 0; \

860 
	`KA_TRACE
( \

862 (
	`KMP_STR
( \

863 
func
) "ƒxit: T#%d, *p_lb 0x%llx, *p_ub 0x%llx,„eturning %d\n", \

864 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

865  
¡©us
; \

866 }

	)

868 
	#LOOP_NEXT_ULL
(
func
, 
fši_code
) \

869 
	`func
(*
p_lb
, *
p_ub
) { \

870 
¡©us
; \

871 
¡ride
; \

872 
gtid
 = 
	`__kmp_g‘_gtid
(); \

873 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

874 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
è": T#%d\n", 
gtid
)); \

876 
fši_code
 
¡©us
 = \

877 
	`KMP_DISPATCH_NEXT_ULL
(&
loc
, 
gtid
, 
NULL
, (
kmp_ušt64
 *)
p_lb
, \

878 (
kmp_ušt64
 *)
p_ub
, (
kmp_št64
 *)&
¡ride
); \

879 ià(
¡©us
) { \

880 *
p_ub
 +ğ(
¡ride
 > 0) ? 1 : -1; \

883 
	`KA_TRACE
( \

885 (
	`KMP_STR
( \

886 
func
) "ƒxit: T#%d, *p_lb 0x%llx, *p_ub 0x%llx, stride 0x%llx, " \

888 
gtid
, *
p_lb
, *
p_ub
, 
¡ride
, 
¡©us
)); \

889  
¡©us
; \

890 }

	)

892 
LOOP_START_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_STATIC_START
),

893 
kmp_sch_¡©ic
)

894 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_STATIC_NEXT
), {})

895 
LOOP_START_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_START
),

896 
kmp_sch_dyÇmic_chunked
)

897 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_NEXT
), {})

898 
LOOP_START_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_START
),

899 
kmp_sch_guided_chunked
)

900 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_NEXT
), {})

901 
LOOP_START_ULL
(

902 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_START
),

903 
kmp_sch_dyÇmic_chunked
)

904 
LOOP_NEXT_ULL
(

905 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_NEXT
), {})

906 
LOOP_START_ULL
(

907 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_START
),

908 
kmp_sch_guided_chunked
)

909 
LOOP_NEXT_ULL
(

910 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_NEXT
), {})

911 
LOOP_RUNTIME_START_ULL
(

912 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_START
), 
kmp_sch_ruÁime
)

913 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_NEXT
), {})

915 
LOOP_START_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_START
),

916 
kmp_Üd_¡©ic
)

917 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_NEXT
),

918 { 
KMP_DISPATCH_FINI_CHUNK_ULL
(&
loc
, 
gtid
); })

919 
LOOP_START_ULL
(

920 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_START
),

921 
kmp_Üd_dyÇmic_chunked
)

922 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_NEXT
),

923 { 
KMP_DISPATCH_FINI_CHUNK_ULL
(&
loc
, 
gtid
); })

924 
LOOP_START_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_START
),

925 
kmp_Üd_guided_chunked
)

926 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_NEXT
),

927 { 
KMP_DISPATCH_FINI_CHUNK_ULL
(&
loc
, 
gtid
); })

928 
LOOP_RUNTIME_START_ULL
(

929 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_START
),

930 
kmp_Üd_ruÁime
)

931 
LOOP_NEXT_ULL
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_NEXT
),

932 { 
KMP_DISPATCH_FINI_CHUNK_ULL
(&
loc
, 
gtid
); })

934 
	#LOOP_DOACROSS_START_ULL
(
func
, 
scheduË
) \

935 
	`func
(
ncouÁs
, *
couÁs
, \

936 
chunk_sz
, *
p_lb
, \

937 *
p_ub
) { \

938 
¡©us
; \

939 
¡ride
, 
¡r
, 
lb
, 
ub
; \

940 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

941 
kmp_dim
 *
dims
 = \

942 (
kmp_dim
 *)
	`__kmp_®loÿ‹
((kmp_dimè* 
ncouÁs
); \

943 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

944 
i
 = 0; i < 
ncouÁs
; ++i) { \

945 
dims
[
i
].
lo
 = 0; \

946 
dims
[
i
].
up
 = 
couÁs
[i] - 1; \

947 
dims
[
i
].
¡
 = 1; \

949 
	`__kmpc_dßüoss_š™
(&
loc
, 
gtid
, ()
ncouÁs
, 
dims
); \

950 
lb
 = 0; \

951 
ub
 = 
couÁs
[0]; \

952 
¡r
 = 1; \

954 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
) ": T#%d,†b 0x%llx, ub 0x%llx, str " \

956 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

958 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

959 
	`KMP_DISPATCH_INIT_ULL
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

960 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

961 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

962 
¡©us
 = \

963 
	`KMP_DISPATCH_NEXT_ULL
(&
loc
, 
gtid
, 
NULL
, (
kmp_ušt64
 *)
p_lb
, \

964 (
kmp_ušt64
 *)
p_ub
, (
kmp_št64
 *)&
¡ride
); \

965 ià(
¡©us
) { \

966 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

967 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

970 
¡©us
 = 0; \

972 
	`KMP_DOACROSS_FINI
(
¡©us
, 
gtid
); \

974 
	`KA_TRACE
( \

976 (
	`KMP_STR
( \

977 
func
) "ƒxit: T#%d, *p_lb 0x%llx, *p_ub 0x%llx,„eturning %d\n", \

978 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

979 
	`__kmp_ä“
(
dims
); \

980  
¡©us
; \

981 }

	)

983 
	#LOOP_DOACROSS_RUNTIME_START_ULL
(
func
, 
scheduË
) \

984 
	`func
(
ncouÁs
, *
couÁs
, \

985 *
p_lb
, *
p_ub
) { \

986 
¡©us
; \

987 
¡ride
, 
¡r
, 
lb
, 
ub
; \

988 
chunk_sz
 = 0; \

989 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

990 
kmp_dim
 *
dims
 = \

991 (
kmp_dim
 *)
	`__kmp_®loÿ‹
((kmp_dimè* 
ncouÁs
); \

992 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

993 
i
 = 0; i < 
ncouÁs
; ++i) { \

994 
dims
[
i
].
lo
 = 0; \

995 
dims
[
i
].
up
 = 
couÁs
[i] - 1; \

996 
dims
[
i
].
¡
 = 1; \

998 
	`__kmpc_dßüoss_š™
(&
loc
, 
gtid
, ()
ncouÁs
, 
dims
); \

999 
lb
 = 0; \

1000 
ub
 = 
couÁs
[0]; \

1001 
¡r
 = 1; \

1002 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
) ": T#%d,†b 0x%llx, ub 0x%llx, str " \

1004 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

1006 ià((
¡r
 > 0è? (
lb
 < 
ub
) : (lb > ub)) { \

1007 
	`KMP_DISPATCH_INIT_ULL
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

1008 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

1009 
TRUE
); \

1010 
¡©us
 = \

1011 
	`KMP_DISPATCH_NEXT_ULL
(&
loc
, 
gtid
, 
NULL
, (
kmp_ušt64
 *)
p_lb
, \

1012 (
kmp_ušt64
 *)
p_ub
, (
kmp_št64
 *)&
¡ride
); \

1013 ià(
¡©us
) { \

1014 
	`KMP_DEBUG_ASSERT
(
¡ride
 =ğ
¡r
); \

1015 *
p_ub
 +ğ(
¡r
 > 0) ? 1 : -1; \

1018 
¡©us
 = 0; \

1020 
	`KMP_DOACROSS_FINI
(
¡©us
, 
gtid
); \

1022 
	`KA_TRACE
( \

1024 (
	`KMP_STR
( \

1025 
func
) "ƒxit: T#%d, *p_lb 0x%llx, *p_ub 0x%llx,„eturning %d\n", \

1026 
gtid
, *
p_lb
, *
p_ub
, 
¡©us
)); \

1027 
	`__kmp_ä“
(
dims
); \

1028  
¡©us
; \

1029 }

	)

1031 
LOOP_DOACROSS_START_ULL
(

1032 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_STATIC_START
),

1033 
kmp_sch_¡©ic
)

1034 
LOOP_DOACROSS_START_ULL
(

1035 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_DYNAMIC_START
),

1036 
kmp_sch_dyÇmic_chunked
)

1037 
LOOP_DOACROSS_START_ULL
(

1038 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_GUIDED_START
),

1039 
kmp_sch_guided_chunked
)

1040 
LOOP_DOACROSS_RUNTIME_START_ULL
(

1041 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_RUNTIME_START
),

1042 
kmp_sch_ruÁime
)

1048 
	#PARALLEL_LOOP_START
(
func
, 
scheduË
, 
om±_´e
, 
om±_po¡
) \

1049 
	`func
((*
sk
)(*), *
d©a
, 
num_th»ads
, 
lb
, \

1050 
ub
, 
¡r
, 
chunk_sz
) { \

1051 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

1052 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

1053 
	`KA_TRACE
( \

1055 (
	`KMP_STR
( \

1056 
func
) ": T#%d,†b 0x%lx, ub 0x%lx, str 0x%lx, chunk_sz 0x%lx\n", \

1057 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

1059 
	`om±_´e
(); \

1061 ià(
	`__kmpc_ok_to_fÜk
(&
loc
è&& (
num_th»ads
 != 1)) { \

1062 ià(
num_th»ads
 != 0) { \

1063 
	`__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
); \

1065 
	`__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
, \

1066 (
miüÙask_t
)
__kmp_GOMP_·¿Î–_miüÙask_w¿µ”
, \

1067 9, 
sk
, 
d©a
, 
num_th»ads
, &
loc
, (
scheduË
), 
lb
, \

1068 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
); \

1069 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
)); \

1071 
	`__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
); \

1072 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
)); \

1075 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

1076 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

1077 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

1079 
	`om±_po¡
(); \

1081 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
è"ƒx™: T#%d\n", 
gtid
)); \

1082 }

	)

1084 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1086 
	#OMPT_LOOP_PRE
() \

1087 
om±_äame_t
 *
·»Á_äame
; \

1088 ià(
om±_’abËd
.
’abËd
) { \

1089 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
·»Á_äame
, NULL, NULL); \

1090 
·»Á_äame
->
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0); \

1091 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
); \

1092 }

	)

1094 
	#OMPT_LOOP_POST
() \

1095 ià(
om±_’abËd
.
’abËd
) { \

1096 
·»Á_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
; \

1097 }

	)

1101 
	#OMPT_LOOP_PRE
()

	)

1103 
	#OMPT_LOOP_POST
()

	)

1107 
PARALLEL_LOOP_START
(

1108 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC_START
),

1109 
kmp_sch_¡©ic
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1110 
PARALLEL_LOOP_START
(

1111 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC_START
),

1112 
kmp_sch_dyÇmic_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1113 
PARALLEL_LOOP_START
(

1114 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED_START
),

1115 
kmp_sch_guided_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1116 
PARALLEL_LOOP_START
(

1117 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME_START
),

1118 
kmp_sch_ruÁime
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1122 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASK
)((*
	gfunc
)(*), *
	gd©a
,

1123 (*
	gcİy_func
)(*, *),

1124 
	g¬g_size
, 
	g¬g_®ign
,

1125 
boŞ
 
	gif_cÚd
, 
	ggomp_æags
,

1126 **
	gd•’d
) {

1127 
MKLOC
(
loc
, "GOMP_task");

1128 
	ggtid
 = 
__kmp_’Œy_gtid
();

1129 
kmp_št32
 
	gæags
 = 0;

1130 
kmp_skšg_æags_t
 *
	gšput_æags
 = (kmp_skšg_æags_ˆ*)&
æags
;

1132 
KA_TRACE
(20, ("GOMP_sk: T#%d\n", 
gtid
));

1135 ià(!(
	ggomp_æags
 & 1)) {

1136 
	gšput_æags
->
	gt›dÃss
 = 1;

1139 ià(
	ggomp_æags
 & 2) {

1140 
	gšput_æags
->
	gfš®
 = 1;

1142 
	gšput_æags
->
	gÇtive
 = 1;

1145 ià(!
	gif_cÚd
) {

1146 
	g¬g_size
 = 0;

1149 
kmp_sk_t
 *
	gsk
 = 
__kmp_sk_®loc
(

1150 &
loc
, 
gtid
, 
šput_æags
, (
kmp_sk_t
),

1151 
¬g_size
 ?‡rg_siz+ 
¬g_®ign
 - 1 : 0, (
kmp_routše_’Œy_t
)
func
);

1153 ià(
	g¬g_size
 > 0) {

1154 ià(
	g¬g_®ign
 > 0) {

1155 
	gsk
->
	gsh¬eds
 = (*)((((
size_t
)
sk
->
sh¬eds
è+ 
¬g_®ign
 - 1) /

1156 
¬g_®ign
 *‡rg_align);

1160 ià(
	gcİy_func
) {

1161 (*
	gcİy_func
)(
	gsk
->
	gsh¬eds
, 
	gd©a
);

1163 
KMP_MEMCPY
(
sk
->
sh¬eds
, 
d©a
, 
¬g_size
);

1167 #ià
OMPT_SUPPORT


1168 
kmp_skd©a_t
 *
	gcu¼’t_sk
;

1169 ià(
	gom±_’abËd
.
	g’abËd
) {

1170 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1171 
	gcu¼’t_sk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

1172 
	gcu¼’t_sk
->
	gom±_sk_šfo
.
	gäame
.
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1176 ià(
	gif_cÚd
) {

1177 ià(
	ggomp_æags
 & 8) {

1178 
KMP_ASSERT
(
d•’d
);

1179 cÚ¡ 
size_t
 
	gnd•s
 = (
kmp_šŒ_t
)
d•’d
[0];

1180 cÚ¡ 
size_t
 
	gnout
 = (
kmp_šŒ_t
)
d•’d
[1];

1181 
kmp_d•’d_šfo_t
 
	gd•_li¡
[
nd•s
];

1183 
size_t
 
	gi
 = 0U; i < 
	gnd•s
; i++) {

1184 
	gd•_li¡
[
i
].
	gba£_addr
 = (
kmp_šŒ_t
)
d•’d
[2U + i];

1185 
	gd•_li¡
[
i
].
	gËn
 = 0U;

1186 
	gd•_li¡
[
i
].
	gæags
.
	gš
 = 1;

1187 
	gd•_li¡
[
i
].
	gæags
.
	gout
 = (˜< 
nout
);

1189 
__kmpc_omp_sk_w™h_d•s
(&
loc
, 
gtid
, 
sk
, 
nd•s
, 
d•_li¡
, 0, 
NULL
);

1191 
__kmpc_omp_sk
(&
loc
, 
gtid
, 
sk
);

1194 #ià
OMPT_SUPPORT


1195 
om±_th»ad_šfo_t
 
	gŞdInfo
;

1196 
kmp_šfo_t
 *
	gth»ad
;

1197 
kmp_skd©a_t
 *
	gskd©a
;

1198 ià(
	gom±_’abËd
.
	g’abËd
) {

1200 
	gth»ad
 = 
__kmp_th»ads
[
gtid
];

1201 
	gskd©a
 = 
KMP_TASK_TO_TASKDATA
(
sk
);

1202 
	gŞdInfo
 = 
th»ad
->
th
.
om±_th»ad_šfo
;

1203 
	gth»ad
->
	gth
.
	gom±_th»ad_šfo
.
	gwa™_id
 = 0;

1204 
	gth»ad
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1205 
	gskd©a
->
	gom±_sk_šfo
.
	gäame
.
	gex™_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1206 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1210 
__kmpc_omp_sk_begš_if0
(&
loc
, 
gtid
, 
sk
);

1211 
func
(
d©a
);

1212 
__kmpc_omp_sk_com¶‘e_if0
(&
loc
, 
gtid
, 
sk
);

1214 #ià
OMPT_SUPPORT


1215 ià(
	gom±_’abËd
.
	g’abËd
) {

1216 
	gth»ad
->
	gth
.
	gom±_th»ad_šfo
 = 
ŞdInfo
;

1217 
	gskd©a
->
	gom±_sk_šfo
.
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

1221 #ià
OMPT_SUPPORT


1222 ià(
	gom±_’abËd
.
	g’abËd
) {

1223 
	gcu¼’t_sk
->
	gom±_sk_šfo
.
	gäame
.
	g’‹r_äame
 = 
om±_d©a_nÚe
;

1227 
KA_TRACE
(20, ("GOMP_skƒx™: T#%d\n", 
gtid
));

1230 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKWAIT
)() {

1231 
MKLOC
(
loc
, "GOMP_taskwait");

1232 
	ggtid
 = 
__kmp_’Œy_gtid
();

1234 #ià
OMPT_SUPPORT


1235 ià(
	gom±_’abËd
.
	g’abËd
)

1236 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1239 
KA_TRACE
(20, ("GOMP_skwa™: T#%d\n", 
gtid
));

1241 
__kmpc_omp_skwa™
(&
loc
, 
gtid
);

1243 
KA_TRACE
(20, ("GOMP_skwa™ƒx™: T#%d\n", 
gtid
));

1255 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SECTIONS_START
)(
	gcouÁ
) {

1256 
	g¡©us
;

1257 
kmp_št
 
	glb
, 
	gub
, 
	g¡ride
;

1258 
	ggtid
 = 
__kmp_’Œy_gtid
();

1259 
MKLOC
(
loc
, "GOMP_sections_start");

1260 
KA_TRACE
(20, ("GOMP_£ùiÚs_¡¬t: T#%d\n", 
gtid
));

1262 
KMP_DISPATCH_INIT
(&
loc
, 
gtid
, 
kmp_nm_dyÇmic_chunked
, 1, 
couÁ
, 1, 1, 
TRUE
);

1264 
	g¡©us
 = 
KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, &
lb
, &
ub
, &
¡ride
);

1265 ià(
	g¡©us
) {

1266 
KMP_DEBUG_ASSERT
(
¡ride
 == 1);

1267 
KMP_DEBUG_ASSERT
(
lb
 > 0);

1268 
KMP_ASSERT
(
lb
 =ğ
ub
);

1270 
	glb
 = 0;

1273 
KA_TRACE
(20, ("GOMP_£ùiÚs_¡¬ˆex™: T#%d„‘uºšg %u\n", 
gtid
,

1274 ()
lb
));

1275  ()
	glb
;

1278 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SECTIONS_NEXT
)() {

1279 
	g¡©us
;

1280 
kmp_št
 
	glb
, 
	gub
, 
	g¡ride
;

1281 
	ggtid
 = 
__kmp_g‘_gtid
();

1282 
MKLOC
(
loc
, "GOMP_sections_next");

1283 
KA_TRACE
(20, ("GOMP_£ùiÚs_Ãxt: T#%d\n", 
gtid
));

1285 #ià
OMPT_SUPPORT


1286 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1289 
	g¡©us
 = 
KMP_DISPATCH_NEXT
(&
loc
, 
gtid
, 
NULL
, &
lb
, &
ub
, &
¡ride
);

1290 ià(
	g¡©us
) {

1291 
KMP_DEBUG_ASSERT
(
¡ride
 == 1);

1292 
KMP_DEBUG_ASSERT
(
lb
 > 0);

1293 
KMP_ASSERT
(
lb
 =ğ
ub
);

1295 
	glb
 = 0;

1298 
KA_TRACE
(

1299 20, ("GOMP_£ùiÚs_Ãxˆex™: T#%d„‘uºšg %u\n", 
gtid
, ()
lb
));

1300  ()
	glb
;

1303 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_SECTIONS_START
)(

1304 (*
	gsk
)(*), *
	gd©a
, 
	gnum_th»ads
, 
	gcouÁ
) {

1305 
	ggtid
 = 
__kmp_’Œy_gtid
();

1307 #ià
OMPT_SUPPORT


1308 
om±_äame_t
 *
	g·»Á_äame
;

1310 ià(
	gom±_’abËd
.
	g’abËd
) {

1311 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
·»Á_äame
, NULL, NULL);

1312 
	g·»Á_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1313 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1317 
MKLOC
(
loc
, "GOMP_parallel_sections_start");

1318 
KA_TRACE
(20, ("GOMP_·¿Î–_£ùiÚs_¡¬t: T#%d\n", 
gtid
));

1320 ià(
__kmpc_ok_to_fÜk
(&
loc
è&& (
	gnum_th»ads
 != 1)) {

1321 ià(
num_th»ads
 != 0) {

1322 
__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
);

1324 
__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
,

1325 (
miüÙask_t
)
__kmp_GOMP_·¿Î–_miüÙask_w¿µ”
, 9,

1326 
sk
, 
d©a
, 
num_th»ads
, &
loc
, 
kmp_nm_dyÇmic_chunked
,

1327 (
kmp_št
)1, (kmp_št)
couÁ
, (kmp_int)1, (kmp_int)1);

1329 
__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
);

1332 #ià
OMPT_SUPPORT


1333 ià(
	gom±_’abËd
.
	g’abËd
) {

1334 
	g·»Á_äame
->
	g’‹r_äame
 = 
om±_d©a_nÚe
;

1338 
KMP_DISPATCH_INIT
(&
loc
, 
gtid
, 
kmp_nm_dyÇmic_chunked
, 1, 
couÁ
, 1, 1, 
TRUE
);

1340 
KA_TRACE
(20, ("GOMP_·¿Î–_£ùiÚs_¡¬ˆex™: T#%d\n", 
gtid
));

1343 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SECTIONS_END
)() {

1344 
	ggtid
 = 
__kmp_g‘_gtid
();

1345 
KA_TRACE
(20, ("GOMP_£ùiÚs_’d: T#%d\n", 
gtid
))

1347 #ià
OMPT_SUPPORT


1348 
om±_äame_t
 *
	gom±_äame
;

1349 ià(
	gom±_’abËd
.
	g’abËd
) {

1350 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

1351 
	gom±_äame
->
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1352 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1355 
__kmp_b¬r›r
(
bs_¶aš_b¬r›r
, 
gtid
, 
FALSE
, 0, 
NULL
, NULL);

1356 #ià
OMPT_SUPPORT


1357 ià(
	gom±_’abËd
.
	g’abËd
) {

1358 
	gom±_äame
->
	g’‹r_äame
 = 
om±_d©a_nÚe
;

1362 
KA_TRACE
(20, ("GOMP_£ùiÚs_’dƒx™: T#%d\n", 
gtid
))

1365 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SECTIONS_END_NOWAIT
)() {

1366 
KA_TRACE
(20, ("GOMP_£ùiÚs_’d_nowa™: T#%d\n", 
__kmp_g‘_gtid
()))

1370 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKYIELD
)() {

1371 
KA_TRACE
(20, ("GOMP_sky›ld: T#%d\n", 
__kmp_g‘_gtid
()))

1375 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL
)((*
	gsk
)(*),

1376 *
	gd©a
,

1377 
	gnum_th»ads
,

1378 
	gæags
) {

1379 
	ggtid
 = 
__kmp_’Œy_gtid
();

1380 
MKLOC
(
loc
, "GOMP_parallel");

1381 
KA_TRACE
(20, ("GOMP_·¿Î–: T#%d\n", 
gtid
));

1383 #ià
OMPT_SUPPORT


1384 
om±_sk_šfo_t
 *
	g·»Á_sk_šfo
, *
	gsk_šfo
;

1385 ià(
	gom±_’abËd
.
	g’abËd
) {

1386 
	g·»Á_sk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

1387 
	g·»Á_sk_šfo
->
	gäame
.
	g’‹r_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1388 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1391 ià(
__kmpc_ok_to_fÜk
(&
loc
è&& (
	gnum_th»ads
 != 1)) {

1392 ià(
num_th»ads
 != 0) {

1393 
__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
);

1395 ià(
	gæags
 != 0) {

1396 
__kmp_push_´oc_bšd
(&
loc
, 
gtid
, (
kmp_´oc_bšd_t
)
æags
);

1398 
__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
,

1399 (
miüÙask_t
)
__kmp_GOMP_miüÙask_w¿µ”
, 2, 
sk
,

1400 
d©a
);

1402 
__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
);

1404 #ià
OMPT_SUPPORT


1405 ià(
	gom±_’abËd
.
	g’abËd
) {

1406 
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

1407 
	gsk_šfo
->
	gäame
.
	gex™_äame
.
	g±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

1410 
sk
(
d©a
);

1411 #ià
OMPT_SUPPORT


1412 ià(
	gom±_’abËd
.
	g’abËd
) {

1413 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1416 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_END
)();

1417 #ià
OMPT_SUPPORT


1418 ià(
	gom±_’abËd
.
	g’abËd
) {

1419 
	gsk_šfo
->
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

1420 
	g·»Á_sk_šfo
->
	gäame
.
	g’‹r_äame
 = 
om±_d©a_nÚe
;

1425 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_SECTIONS
)((*
	gsk
)(*),

1426 *
	gd©a
,

1427 
	gnum_th»ads
,

1428 
	gcouÁ
,

1429 
	gæags
) {

1430 
	ggtid
 = 
__kmp_’Œy_gtid
();

1431 
MKLOC
(
loc
, "GOMP_parallel_sections");

1432 
KA_TRACE
(20, ("GOMP_·¿Î–_£ùiÚs: T#%d\n", 
gtid
));

1434 #ià
OMPT_SUPPORT


1435 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1438 ià(
__kmpc_ok_to_fÜk
(&
loc
è&& (
	gnum_th»ads
 != 1)) {

1439 ià(
num_th»ads
 != 0) {

1440 
__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
);

1442 ià(
	gæags
 != 0) {

1443 
__kmp_push_´oc_bšd
(&
loc
, 
gtid
, (
kmp_´oc_bšd_t
)
æags
);

1445 
__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
,

1446 (
miüÙask_t
)
__kmp_GOMP_·¿Î–_miüÙask_w¿µ”
, 9,

1447 
sk
, 
d©a
, 
num_th»ads
, &
loc
, 
kmp_nm_dyÇmic_chunked
,

1448 (
kmp_št
)1, (kmp_št)
couÁ
, (kmp_int)1, (kmp_int)1);

1450 
__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
);

1453 #ià
OMPT_SUPPORT


1454 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1457 
KMP_DISPATCH_INIT
(&
loc
, 
gtid
, 
kmp_nm_dyÇmic_chunked
, 1, 
couÁ
, 1, 1, 
TRUE
);

1459 
sk
(
d©a
);

1460 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_END
)();

1461 
KA_TRACE
(20, ("GOMP_·¿Î–_£ùiÚ ex™: T#%d\n", 
gtid
));

1464 
	#PARALLEL_LOOP
(
func
, 
scheduË
, 
om±_´e
, 
om±_po¡
) \

1465 
	`func
((*
sk
)(*), *
d©a
, 
num_th»ads
, 
lb
, \

1466 
ub
, 
¡r
, 
chunk_sz
, 
æags
) { \

1467 
gtid
 = 
	`__kmp_’Œy_gtid
(); \

1468 
	`MKLOC
(
loc
, 
	`KMP_STR
(
func
)); \

1469 
	`KA_TRACE
( \

1471 (
	`KMP_STR
( \

1472 
func
) ": T#%d,†b 0x%lx, ub 0x%lx, str 0x%lx, chunk_sz 0x%lx\n", \

1473 
gtid
, 
lb
, 
ub
, 
¡r
, 
chunk_sz
)); \

1475 
	`om±_´e
(); \

1476 ià(
	`__kmpc_ok_to_fÜk
(&
loc
è&& (
num_th»ads
 != 1)) { \

1477 ià(
num_th»ads
 != 0) { \

1478 
	`__kmp_push_num_th»ads
(&
loc
, 
gtid
, 
num_th»ads
); \

1480 ià(
æags
 != 0) { \

1481 
	`__kmp_push_´oc_bšd
(&
loc
, 
gtid
, (
kmp_´oc_bšd_t
)
æags
); \

1483 
	`__kmp_GOMP_fÜk_ÿÎ
(&
loc
, 
gtid
, 
sk
, \

1484 (
miüÙask_t
)
__kmp_GOMP_·¿Î–_miüÙask_w¿µ”
, \

1485 9, 
sk
, 
d©a
, 
num_th»ads
, &
loc
, (
scheduË
), 
lb
, \

1486 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
); \

1488 
	`__kmp_GOMP_£rŸlized_·¿Î–
(&
loc
, 
gtid
, 
sk
); \

1491 
	`IF_OMPT_SUPPORT
(
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);) \

1492 
	`KMP_DISPATCH_INIT
(&
loc
, 
gtid
, (
scheduË
), 
lb
, \

1493 (
¡r
 > 0è? (
ub
 - 1è: (ub + 1), sŒ, 
chunk_sz
, \

1494 (
scheduË
è!ğ
kmp_sch_¡©ic
); \

1495 
	`sk
(
d©a
); \

1496 
	`KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_END
)(); \

1497 
	`om±_po¡
(); \

1499 
	`KA_TRACE
(20, (
	`KMP_STR
(
func
è"ƒx™: T#%d\n", 
gtid
)); \

1500 }

	)

1502 
PARALLEL_LOOP
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC
),

1503 
kmp_sch_¡©ic
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1504 
PARALLEL_LOOP
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC
),

1505 
kmp_sch_dyÇmic_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1506 
PARALLEL_LOOP
(

1507 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_GUIDED
),

1508 
kmp_sch_guided_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1509 
PARALLEL_LOOP
(

1510 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_DYNAMIC
),

1511 
kmp_sch_dyÇmic_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1512 
PARALLEL_LOOP
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED
),

1513 
kmp_sch_guided_chunked
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1514 
PARALLEL_LOOP
(
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME
),

1515 
kmp_sch_ruÁime
, 
OMPT_LOOP_PRE
, 
OMPT_LOOP_POST
)

1517 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKGROUP_START
)() {

1518 
	ggtid
 = 
__kmp_’Œy_gtid
();

1519 
MKLOC
(
loc
, "GOMP_taskgroup_start");

1520 
KA_TRACE
(20, ("GOMP_skgroup_¡¬t: T#%d\n", 
gtid
));

1522 #ià
OMPT_SUPPORT


1523 ià(
	gom±_’abËd
.
	g’abËd
)

1524 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1527 
__kmpc_skgroup
(&
loc
, 
gtid
);

1532 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKGROUP_END
)() {

1533 
	ggtid
 = 
__kmp_g‘_gtid
();

1534 
MKLOC
(
loc
, "GOMP_taskgroup_end");

1535 
KA_TRACE
(20, ("GOMP_skgroup_’d: T#%d\n", 
gtid
));

1537 #ià
OMPT_SUPPORT


1538 ià(
	gom±_’abËd
.
	g’abËd
)

1539 
OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1542 
__kmpc_’d_skgroup
(&
loc
, 
gtid
);

1547 
kmp_št32
 
__kmp_gomp_to_omp_ÿnûÎ©iÚ_kšd
(
gomp_kšd
) {

1548 
kmp_št32
 
	gúş_kšd
 = 0;

1549 
	ggomp_kšd
) {

1551 
úş_kšd
 = 
ÿnûl_·¿Î–
;

1554 
úş_kšd
 = 
ÿnûl_loİ
;

1557 
úş_kšd
 = 
ÿnûl_£ùiÚs
;

1560 
úş_kšd
 = 
ÿnûl_skgroup
;

1563  
	gúş_kšd
;

1567 
boŞ
 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CANCELLATION_POINT
)(
	gwhich
) {

1568 
	ggtid
 = 
__kmp_g‘_gtid
();

1569 
MKLOC
(
loc
, "GOMP_cancellation_point");

1570 
KA_TRACE
(20, ("GOMP_ÿnûÎ©iÚ_pošt: T#%d which:%d\n", 
gtid
, 
which
));

1571 
kmp_št32
 
	gúş_kšd
 = 
__kmp_gomp_to_omp_ÿnûÎ©iÚ_kšd
(
which
);

1572  
__kmpc_ÿnûÎ©iÚpošt
(&
loc
, 
gtid
, 
úş_kšd
);

1576 
boŞ
 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_CANCEL
)(
	gwhich
, boŞ 
	gdo_ÿnûl
) {

1577 
	ggtid
 = 
__kmp_g‘_gtid
();

1578 
MKLOC
(
loc
, "GOMP_cancel");

1579 
KA_TRACE
(20, ("GOMP_ÿnûl: T#%d which:%d do_ÿnûl:%d\n", 
gtid
, 
which
,

1580 ()
do_ÿnûl
));

1581 
kmp_št32
 
	gúş_kšd
 = 
__kmp_gomp_to_omp_ÿnûÎ©iÚ_kšd
(
which
);

1583 ià(
	gdo_ÿnûl
 =ğ
FALSE
) {

1584  
__kmpc_ÿnûÎ©iÚpošt
(&
loc
, 
gtid
, 
úş_kšd
);

1586  
__kmpc_ÿnûl
(&
loc
, 
gtid
, 
úş_kšd
);

1591 
boŞ
 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_BARRIER_CANCEL
)() {

1592 
	ggtid
 = 
__kmp_g‘_gtid
();

1593 
KA_TRACE
(20, ("GOMP_b¬r›r_ÿnûl: T#%d\n", 
gtid
));

1594  
__kmp_b¬r›r_gomp_ÿnûl
(
gtid
);

1598 
boŞ
 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_SECTIONS_END_CANCEL
)() {

1599 
	ggtid
 = 
__kmp_g‘_gtid
();

1600 
KA_TRACE
(20, ("GOMP_£ùiÚs_’d_ÿnûl: T#%d\n", 
gtid
));

1601  
__kmp_b¬r›r_gomp_ÿnûl
(
gtid
);

1605 
boŞ
 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_LOOP_END_CANCEL
)() {

1606 
	ggtid
 = 
__kmp_g‘_gtid
();

1607 
KA_TRACE
(20, ("GOMP_loİ_’d_ÿnûl: T#%d\n", 
gtid
));

1608  
__kmp_b¬r›r_gomp_ÿnûl
(
gtid
);

1612 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TARGET
)(
	gdeviû
, (*
	gâ
)(*),

1613 cÚ¡ *
	gİ’mp_rg‘
,

1614 
size_t
 
	gm­num
, **
	gho¡addrs
,

1615 
size_t
 *
	gsizes
,

1616 *
	gkšds
) {

1620 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TARGET_DATA
)(

1621 
	gdeviû
, cÚ¡ *
	gİ’mp_rg‘
, 
size_t
 
	gm­num
, **
	gho¡addrs
,

1622 
size_t
 *
	gsizes
, *
	gkšds
) {

1626 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TARGET_END_DATA
)() { ; }

1628 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TARGET_UPDATE
)(

1629 
	gdeviû
, cÚ¡ *
	gİ’mp_rg‘
, 
size_t
 
	gm­num
, **
	gho¡addrs
,

1630 
size_t
 *
	gsizes
, *
	gkšds
) {

1634 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TEAMS
)(
	gnum_‹ams
,

1635 
	gth»ad_lim™
) {

1641 
__kmp_gomp_sk_dup
(
kmp_sk_t
 *
de¡
, kmp_sk_ˆ*
¤c
,

1642 
kmp_št32
 
Ï¡_´iv©e
) {

1643 
kmp_skd©a_t
 *
	gskd©a
 = 
KMP_TASK_TO_TASKDATA
(
¤c
);

1644 ià(
	gskd©a
->
	gtd_cİy_func
) {

1645 (
	gskd©a
->
	gtd_cİy_func
)(
	gde¡
->
	gsh¬eds
, 
	g¤c
->shareds);

1649 #ifdeà
__ılu¥lus


1653 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1654 
	$__GOMP_skloİ
((*
func
)(*), *
d©a
,

1655 (*
cİy_func
)(*, *), 
¬g_size
,

1656 
¬g_®ign
, 
gomp_æags
,

1657 
num_sks
, 
´iÜ™y
, 
T
 
¡¬t
, T 
’d
,

1658 
T
 
¡•
) {

1659 (*
	tp_sk_dup_t
)(
	tkmp_sk_t
 *, kmp_sk_ˆ*, 
	tkmp_št32
);

1660 
	`MKLOC
(
loc
, "GOMP_taskloop");

1661 
sched
;

1662 
T
 *
loİ_bounds
;

1663 
gtid
 = 
	`__kmp_’Œy_gtid
();

1664 
kmp_št32
 
æags
 = 0;

1665 
if_v®
 = 
gomp_æags
 & (1u << 10);

1666 
nogroup
 = 
gomp_æags
 & (1u << 11);

1667 
up
 = 
gomp_æags
 & (1u << 8);

1668 
p_sk_dup_t
 
sk_dup
 = 
NULL
;

1669 
kmp_skšg_æags_t
 *
šput_æags
 = (kmp_skšg_æags_ˆ*)&
æags
;

1670 #ifdeà
KMP_DEBUG


1672 *
buff
;

1673 
buff
 = 
	`__kmp_¡r_fÜm©
(

1677 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,raits_t<T>::spec);

1678 
	`KA_TRACE
(20, (
buff
, 
gtid
, 
func
, 
d©a
, 
cİy_func
, 
¬g_size
, 
¬g_®ign
,

1679 
gomp_æags
, 
num_sks
, 
´iÜ™y
, 
¡¬t
, 
’d
, 
¡•
));

1680 
	`__kmp_¡r_ä“
(&
buff
);

1683 
	`KMP_ASSERT
((
size_t
)
¬g_size
 >ğ2 * (
T
));

1684 
	`KMP_ASSERT
(
¬g_®ign
 > 0);

1686 ià(!(
gomp_æags
 & 1)) {

1687 
šput_æags
->
t›dÃss
 = 1;

1690 ià(
gomp_æags
 & 2) {

1691 
šput_æags
->
fš®
 = 1;

1694 ià(!
up
) {

1698 ià(
¡•
 > 0) {

1699 
i
 = (
T
è* 
CHAR_BIT
 - 1; i >= 0L; --i) {

1701 ià(
¡•
 & ((
T
)1 << 
i
))

1703 
¡•
 |ğ((
T
)1 << 
i
);

1707 
šput_æags
->
Çtive
 = 1;

1709 ià(
num_sks
 > 0) {

1710 ià(
gomp_æags
 & (1u << 9))

1711 
sched
 = 1;

1713 
sched
 = 2;

1716 
sched
 = 0;

1720 
kmp_sk_t
 *
sk
 =

1721 
	`__kmp_sk_®loc
(&
loc
, 
gtid
, 
šput_æags
, (
kmp_sk_t
),

1722 
¬g_size
 + 
¬g_®ign
 - 1, (
kmp_routše_’Œy_t
)
func
);

1723 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

1724 
skd©a
->
td_cİy_func
 = 
cİy_func
;

1725 
skd©a
->
td_size_loİ_bounds
 = (
T
);

1729 
sk
->
sh¬eds
 = (*)((((
size_t
éask->sh¬edsè+ 
¬g_®ign
 - 1) /

1730 
¬g_®ign
 *‡rg_align);

1731 ià(
cİy_func
) {

1732 
sk_dup
 = 
__kmp_gomp_sk_dup
;

1734 
	`KMP_MEMCPY
(
sk
->
sh¬eds
, 
d©a
, 
¬g_size
);

1736 
loİ_bounds
 = (
T
 *)
sk
->
sh¬eds
;

1737 
loİ_bounds
[0] = 
¡¬t
;

1738 
loİ_bounds
[1] = 
’d
 + (
up
 ? -1 : 1);

1739 
	`__kmpc_skloİ
(&
loc
, 
gtid
, 
sk
, 
if_v®
, (
kmp_ušt64
 *)&(
loİ_bounds
[0]),

1740 (
kmp_ušt64
 *)&(
loİ_bounds
[1]), (
kmp_št64
)
¡•
, 
nogroup
,

1741 
sched
, (
kmp_ušt64
)
num_sks
, (*)
sk_dup
);

1742 
	}
}

1747 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
boŞ
 
	gÃed_cÚv”siÚ
 = (() == 4)>

1748 
__kmp_GOMP_dßüoss_po¡
(
T
 *
couÁ
);

1750 
	g‹m¶©e
 <> 
	g__kmp_GOMP_dßüoss_po¡
<, 
	gŒue
>(*
	gcouÁ
) {

1751 
	ggtid
 = 
__kmp_’Œy_gtid
();

1752 
kmp_šfo_t
 *
	gth
 = 
__kmp_th»ads
[
gtid
];

1753 
MKLOC
(
loc
, "GOMP_doacross_post");

1754 
kmp_št64
 
	gnum_dims
 = 
th
->th.
th_di¥©ch
->
th_dßüoss_šfo
[0];

1755 
kmp_št64
 *
	gvec
 =

1756 (
kmp_št64
 *)
__kmp_th»ad_m®loc
(
th
, (kmp_št64è* 
num_dims
);

1757 
kmp_št64
 
	gi
 = 0; i < 
	gnum_dims
; ++i) {

1758 
	gvec
[
i
] = (
kmp_št64
)
couÁ
[i];

1760 
__kmpc_dßüoss_po¡
(&
loc
, 
gtid
, 
vec
);

1761 
__kmp_th»ad_ä“
(
th
, 
vec
);

1767 
	g‹m¶©e
 <> 
	g__kmp_GOMP_dßüoss_po¡
<, 
	gçl£
>(*
	gcouÁ
) {

1768 
	ggtid
 = 
__kmp_’Œy_gtid
();

1769 
MKLOC
(
loc
, "GOMP_doacross_post");

1770 
__kmpc_dßüoss_po¡
(&
loc
, 
gtid
, 
RCAST
(
kmp_št64
 *, 
couÁ
));

1773 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$__kmp_GOMP_dßüoss_wa™
(
T
 
fœ¡
, 
va_li¡
 
¬gs
) {

1774 
gtid
 = 
	`__kmp_’Œy_gtid
();

1775 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

1776 
	`MKLOC
(
loc
, "GOMP_doacross_wait");

1777 
kmp_št64
 
num_dims
 = 
th
->th.
th_di¥©ch
->
th_dßüoss_šfo
[0];

1778 
kmp_št64
 *
vec
 =

1779 (
kmp_št64
 *)
	`__kmp_th»ad_m®loc
(
th
, (kmp_št64è* 
num_dims
);

1780 
vec
[0] = (
kmp_št64
)
fœ¡
;

1781 
kmp_št64
 
i
 = 1; i < 
num_dims
; ++i) {

1782 
T
 
™em
 = 
	`va_¬g
(
¬gs
, T);

1783 
vec
[
i
] = (
kmp_št64
)
™em
;

1785 
	`__kmpc_dßüoss_wa™
(&
loc
, 
gtid
, 
vec
);

1786 
	`__kmp_th»ad_ä“
(
th
, 
vec
);

1788 
	}
}

1790 #ifdeà
__ılu¥lus


1794 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKLOOP
)(

1795 (*
func
)(*), *
d©a
, (*
cİy_func
)(*, *),

1796 
¬g_size
, 
¬g_®ign
, 
gomp_æags
, 
num_sks
,

1797 
´iÜ™y
, 
¡¬t
, 
’d
, 
¡•
) {

1798 
__GOMP_skloİ
<>(
func
, 
d©a
, 
cİy_func
, 
¬g_size
, 
¬g_®ign
, 
gomp_æags
,

1799 
num_sks
, 
´iÜ™y
, 
¡¬t
, 
’d
, 
¡•
);

1802 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_TASKLOOP_ULL
)(

1803 (*
func
)(*), *
d©a
, (*
cİy_func
)(*, *),

1804 
¬g_size
, 
¬g_®ign
, 
gomp_æags
, 
num_sks
,

1805 
´iÜ™y
, 
¡¬t
, 
’d
,

1806 
¡•
) {

1807 
__GOMP_skloİ
<>(
func
, 
d©a
, 
cİy_func
, 
¬g_size
,

1808 
¬g_®ign
, 
gomp_æags
, 
num_sks
,

1809 
´iÜ™y
, 
¡¬t
, 
’d
, 
¡•
);

1812 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_DOACROSS_POST
)(*
couÁ
) {

1813 
__kmp_GOMP_dßüoss_po¡
(
couÁ
);

1816 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_DOACROSS_WAIT
)(
fœ¡
, ...) {

1817 
va_li¡
 
¬gs
;

1818 
va_¡¬t
(
¬gs
, 
fœ¡
);

1819 
__kmp_GOMP_dßüoss_wa™
<>(
fœ¡
, 
¬gs
);

1820 
va_’d
(
¬gs
);

1823 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_DOACROSS_ULL_POST
)(

1824 *
couÁ
) {

1825 
gtid
 = 
__kmp_’Œy_gtid
();

1826 
MKLOC
(
loc
, "GOMP_doacross_ull_post");

1827 
__kmpc_dßüoss_po¡
(&
loc
, 
gtid
, 
RCAST
(
kmp_št64
 *, 
couÁ
));

1830 
KMP_EXPAND_NAME
(
KMP_API_NAME_GOMP_DOACROSS_ULL_WAIT
)(

1831 
fœ¡
, ...) {

1832 
va_li¡
 
¬gs
;

1833 
va_¡¬t
(
¬gs
, 
fœ¡
);

1834 
__kmp_GOMP_dßüoss_wa™
<>(
fœ¡
, 
¬gs
);

1835 
va_’d
(
¬gs
);

1843 #ifdeà
KMP_USE_VERSION_SYMBOLS


1845 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_ATOMIC_END
, 10, "GOMP_1.0");

1846 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_ATOMIC_START
, 10, "GOMP_1.0");

1847 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_BARRIER
, 10, "GOMP_1.0");

1848 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CRITICAL_END
, 10, "GOMP_1.0");

1849 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CRITICAL_NAME_END
, 10, "GOMP_1.0");

1850 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CRITICAL_NAME_START
, 10, "GOMP_1.0");

1851 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CRITICAL_START
, 10, "GOMP_1.0");

1852 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DYNAMIC_NEXT
, 10, "GOMP_1.0");

1853 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DYNAMIC_START
, 10, "GOMP_1.0");

1854 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_END
, 10, "GOMP_1.0");

1855 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_END_NOWAIT
, 10, "GOMP_1.0");

1856 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_GUIDED_NEXT
, 10, "GOMP_1.0");

1857 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_GUIDED_START
, 10, "GOMP_1.0");

1858 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_NEXT
, 10, "GOMP_1.0");

1859 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_DYNAMIC_START
, 10,

1861 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_NEXT
, 10, "GOMP_1.0");

1862 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_GUIDED_START
, 10, "GOMP_1.0");

1863 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_NEXT
, 10, "GOMP_1.0");

1864 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_RUNTIME_START
, 10,

1866 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_NEXT
, 10, "GOMP_1.0");

1867 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ORDERED_STATIC_START
, 10, "GOMP_1.0");

1868 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_RUNTIME_NEXT
, 10, "GOMP_1.0");

1869 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_RUNTIME_START
, 10, "GOMP_1.0");

1870 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_STATIC_NEXT
, 10, "GOMP_1.0");

1871 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_STATIC_START
, 10, "GOMP_1.0");

1872 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_ORDERED_END
, 10, "GOMP_1.0");

1873 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_ORDERED_START
, 10, "GOMP_1.0");

1874 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_END
, 10, "GOMP_1.0");

1875 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC_START
, 10,

1877 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED_START
, 10,

1879 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME_START
, 10,

1881 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC_START
, 10,

1883 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_SECTIONS_START
, 10, "GOMP_1.0");

1884 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_START
, 10, "GOMP_1.0");

1885 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SECTIONS_END
, 10, "GOMP_1.0");

1886 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SECTIONS_END_NOWAIT
, 10, "GOMP_1.0");

1887 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SECTIONS_NEXT
, 10, "GOMP_1.0");

1888 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SECTIONS_START
, 10, "GOMP_1.0");

1889 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SINGLE_COPY_END
, 10, "GOMP_1.0");

1890 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SINGLE_COPY_START
, 10, "GOMP_1.0");

1891 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SINGLE_START
, 10, "GOMP_1.0");

1894 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASK
, 20, "GOMP_2.0");

1895 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKWAIT
, 20, "GOMP_2.0");

1896 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_NEXT
, 20, "GOMP_2.0");

1897 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DYNAMIC_START
, 20, "GOMP_2.0");

1898 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_NEXT
, 20, "GOMP_2.0");

1899 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_GUIDED_START
, 20, "GOMP_2.0");

1900 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_NEXT
, 20,

1902 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_DYNAMIC_START
, 20,

1904 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_NEXT
, 20,

1906 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_GUIDED_START
, 20,

1908 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_NEXT
, 20,

1910 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_RUNTIME_START
, 20,

1912 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_NEXT
, 20,

1914 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_ORDERED_STATIC_START
, 20,

1916 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_NEXT
, 20, "GOMP_2.0");

1917 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_RUNTIME_START
, 20, "GOMP_2.0");

1918 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_STATIC_NEXT
, 20, "GOMP_2.0");

1919 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_STATIC_START
, 20, "GOMP_2.0");

1922 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKYIELD
, 30, "GOMP_3.0");

1925 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL
, 40, "GOMP_4.0");

1926 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_SECTIONS
, 40, "GOMP_4.0");

1927 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_DYNAMIC
, 40, "GOMP_4.0");

1928 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_GUIDED
, 40, "GOMP_4.0");

1929 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_RUNTIME
, 40, "GOMP_4.0");

1930 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_STATIC
, 40, "GOMP_4.0");

1931 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKGROUP_START
, 40, "GOMP_4.0");

1932 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKGROUP_END
, 40, "GOMP_4.0");

1933 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_BARRIER_CANCEL
, 40, "GOMP_4.0");

1934 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CANCEL
, 40, "GOMP_4.0");

1935 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_CANCELLATION_POINT
, 40, "GOMP_4.0");

1936 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_END_CANCEL
, 40, "GOMP_4.0");

1937 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_SECTIONS_END_CANCEL
, 40, "GOMP_4.0");

1938 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TARGET
, 40, "GOMP_4.0");

1939 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TARGET_DATA
, 40, "GOMP_4.0");

1940 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TARGET_END_DATA
, 40, "GOMP_4.0");

1941 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TARGET_UPDATE
, 40, "GOMP_4.0");

1942 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TEAMS
, 40, "GOMP_4.0");

1945 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKLOOP
, 45, "GOMP_4.5");

1946 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_TASKLOOP_ULL
, 45, "GOMP_4.5");

1947 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_DOACROSS_POST
, 45, "GOMP_4.5");

1948 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_DOACROSS_WAIT
, 45, "GOMP_4.5");

1949 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_STATIC_START
, 45,

1951 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_DYNAMIC_START
, 45,

1953 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_GUIDED_START
, 45,

1955 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_DOACROSS_RUNTIME_START
, 45,

1957 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_DOACROSS_ULL_POST
, 45, "GOMP_4.5");

1958 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_DOACROSS_ULL_WAIT
, 45, "GOMP_4.5");

1959 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_STATIC_START
, 45,

1961 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_DYNAMIC_START
, 45,

1963 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_GUIDED_START
, 45,

1965 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_DOACROSS_RUNTIME_START
, 45,

1967 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_START
, 45,

1969 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_DYNAMIC_NEXT
, 45,

1971 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_START
, 45,

1973 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_NONMONOTONIC_GUIDED_NEXT
, 45,

1975 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_START
, 45,

1977 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_DYNAMIC_NEXT
, 45,

1979 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_START
, 45,

1981 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_LOOP_ULL_NONMONOTONIC_GUIDED_NEXT
, 45,

1983 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_DYNAMIC
, 45,

1985 
KMP_VERSION_SYMBOL
(
KMP_API_NAME_GOMP_PARALLEL_LOOP_NONMONOTONIC_GUIDED
, 45,

1990 #ifdeà
__ılu¥lus


	@kmp_i18n.cpp

13 
	~"kmp_i18n.h
"

15 
	~"kmp.h
"

16 
	~"kmp_debug.h
"

17 
	~"kmp_io.h
"

18 
	~"kmp_lock.h
"

19 
	~"kmp_os.h
"

21 
	~<”ºo.h
>

22 
	~<loÿË.h
>

23 
	~<¡d¬g.h
>

24 
	~<¡dio.h
>

25 
	~<¡ršg.h
>

27 
	~"kmp_’vœÚm’t.h
"

28 
	~"kmp_i18n_deçuÉ.šc
"

29 
	~"kmp_¡r.h
"

31 #undeà
KMP_I18N_OK


33 
	#g‘_£ùiÚ
(
id
è((idè>> 16)

	)

34 
	#g‘_numb”
(
id
è((id)&0xFFFF)

	)

36 
kmp_msg_t
 
	g__kmp_msg_nuÎ
 = {
kmp_mt_dummy
, 0, 
NULL
, 0};

37 cÚ¡ *
	gno_mes§ge_avaabË
 = "(No message‡vailable)";

39 
__kmp_msg
(
kmp_msg_£v”™y_t
 
£v”™y
, 
kmp_msg_t
 
mes§ge
,

40 
va_li¡
 
­
);

42 
	ekmp_i18n_ÿt_¡©us
 {

43 
	mKMP_I18N_CLOSED
,

44 
	mKMP_I18N_OPENED
,

45 
	mKMP_I18N_ABSENT


47 
kmp_i18n_ÿt_¡©us
 
	tkmp_i18n_ÿt_¡©us_t
;

48 vŞ©
kmp_i18n_ÿt_¡©us_t
 
	g¡©us
 = 
KMP_I18N_CLOSED
;

56 
__kmp_i18n_do_ÿtİ’
();

57 
kmp_boÙ¡¿p_lock_t
 
	glock
 = 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(
lock
);

62 
	$__kmp_i18n_ÿtİ’
() {

63 ià(
¡©us
 =ğ
KMP_I18N_CLOSED
) {

64 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
lock
);

65 ià(
¡©us
 =ğ
KMP_I18N_CLOSED
) {

66 
	`__kmp_i18n_do_ÿtİ’
();

68 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
lock
);

70 
	}
}

73 #ià
KMP_OS_UNIX


74 
	#KMP_I18N_OK


	)

76 
	~<Æ_ty³s.h
>

78 
	#KMP_I18N_NULLCAT
 ((
Æ_ÿtd
)(-1))

	)

79 
Æ_ÿtd
 
	gÿt
 = 
KMP_I18N_NULLCAT
;

80 cÚ¡ *
	gÇme
 =

81 (
KMP_VERSION_MAJOR
 == 4 ? "libguide.cat" : "libomp.cat");

89 
	$__kmp_i18n_do_ÿtİ’
() {

90 
’glish
 = 0;

91 *
Ïng
 = 
	`__kmp_’v_g‘
("LANG");

94 
	`KMP_DEBUG_ASSERT
(
¡©us
 =ğ
KMP_I18N_CLOSED
);

95 
	`KMP_DEBUG_ASSERT
(
ÿt
 =ğ
KMP_I18N_NULLCAT
);

97 
’glish
 = 
Ïng
 =ğ
NULL
 ||

98 
	`¡rcmp
(
Ïng
, "") == 0 || strcmp(lang, " ") == 0 ||

101 
	`¡rcmp
(
Ïng
, "C") == 0 || strcmp(lang, "POSIX") == 0;

103 ià(!
’glish
) {

106 *

 = 
NULL
;

107 
	`__kmp_¡r_¥l™
(
Ïng
, '@', &Ïng, &

);

108 
	`__kmp_¡r_¥l™
(
Ïng
, '.', &Ïng, &

);

109 
	`__kmp_¡r_¥l™
(
Ïng
, '_', &Ïng, &

);

110 
’glish
 = (
	`¡rcmp
(
Ïng
, "en") == 0);

113 
	`KMP_INTERNAL_FREE
(
Ïng
);

117 ià(
’glish
) {

118 
¡©us
 = 
KMP_I18N_ABSENT
;

123 
ÿt
 = 
	`ÿtİ’
(
Çme
, 0);

125 
¡©us
 = (
ÿt
 =ğ
KMP_I18N_NULLCAT
 ? 
KMP_I18N_ABSENT
 : 
KMP_I18N_OPENED
);

127 ià(
¡©us
 =ğ
KMP_I18N_ABSENT
) {

128 ià(
__kmp_g’”©e_w¬nšgs
 > 
kmp_w¬nšgs_low
) {

130 
”rÜ
 = 
”ºo
;

131 *
Æ¥©h
 = 
	`__kmp_’v_g‘
("NLSPATH");

132 *
Ïng
 = 
	`__kmp_’v_g‘
("LANG");

137 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

138 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtO³nMes§geC©®og
, 
Çme
), 
”r_code
,

139 
	`KMP_HNT
(
CheckEnvV¬
, "NLSPATH", 
Æ¥©h
),

140 
	`KMP_HNT
(
CheckEnvV¬
, "LANG", 
Ïng
), 
__kmp_msg_nuÎ
);

141 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

142 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

145 
	`KMP_INFORM
(
WlU£DeçuÉMes§ges
);

146 
	`KMP_INTERNAL_FREE
(
Æ¥©h
);

147 
	`KMP_INTERNAL_FREE
(
Ïng
);

150 
£ùiÚ
 = 
	`g‘_£ùiÚ
(
kmp_i18n_´p_V”siÚ
);

151 
numb”
 = 
	`g‘_numb”
(
kmp_i18n_´p_V”siÚ
);

152 cÚ¡ *
ex³ùed
 = 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
];

154 
kmp_¡r_buf_t
 
v”siÚ
;

155 
	`__kmp_¡r_buf_š™
(&
v”siÚ
);

156 
	`__kmp_¡r_buf_´št
(&
v”siÚ
, "%s", 
	`ÿtg‘s
(
ÿt
, 
£ùiÚ
, 
numb”
, 
NULL
));

159 ià(
	`¡rcmp
(
v”siÚ
.
¡r
, 
ex³ùed
) != 0) {

160 
	`__kmp_i18n_ÿtşo£
();

161 
¡©us
 = 
KMP_I18N_ABSENT
;

162 ià(
__kmp_g’”©e_w¬nšgs
 > 
kmp_w¬nšgs_low
) {

165 cÚ¡ *
Çme
 = "NLSPATH";

166 cÚ¡ *
Æ¥©h
 = 
	`__kmp_’v_g‘
(
Çme
);

167 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

168 
	`KMP_MSG
(
WrÚgMes§geC©®og
, 
Çme
, 
v”siÚ
.
¡r
, 
ex³ùed
),

169 
	`KMP_HNT
(
CheckEnvV¬
, 
Çme
, 
Æ¥©h
), 
__kmp_msg_nuÎ
);

170 
	`KMP_INFORM
(
WlU£DeçuÉMes§ges
);

171 
	`KMP_INTERNAL_FREE
(
	`CCAST
(*, 
Æ¥©h
));

174 
	`__kmp_¡r_buf_ä“
(&
v”siÚ
);

176 
	}
}

178 
	$__kmp_i18n_ÿtşo£
() {

179 ià(
¡©us
 =ğ
KMP_I18N_OPENED
) {

180 
	`KMP_DEBUG_ASSERT
(
ÿt
 !ğ
KMP_I18N_NULLCAT
);

181 
	`ÿtşo£
(
ÿt
);

182 
ÿt
 = 
KMP_I18N_NULLCAT
;

184 
¡©us
 = 
KMP_I18N_CLOSED
;

185 
	}
}

187 cÚ¡ *
	$__kmp_i18n_ÿtg‘s
(
kmp_i18n_id_t
 
id
) {

189 
£ùiÚ
 = 
	`g‘_£ùiÚ
(
id
);

190 
numb”
 = 
	`g‘_numb”
(
id
);

191 cÚ¡ *
mes§ge
 = 
NULL
;

193 ià(1 <ğ
£ùiÚ
 && seùiÚ <ğ
__kmp_i18n_deçuÉ_bË
.
size
) {

194 ià(1 <ğ
numb”
 &&‚umb” <ğ
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
size
) {

195 ià(
¡©us
 =ğ
KMP_I18N_CLOSED
) {

196 
	`__kmp_i18n_ÿtİ’
();

198 ià(
¡©us
 =ğ
KMP_I18N_OPENED
) {

199 
mes§ge
 = 
	`ÿtg‘s
(
ÿt
, 
£ùiÚ
, 
numb”
,

200 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
]);

202 ià(
mes§ge
 =ğ
NULL
) {

203 
mes§ge
 = 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
];

207 ià(
mes§ge
 =ğ
NULL
) {

208 
mes§ge
 = 
no_mes§ge_avaabË
;

210  
mes§ge
;

212 
	}
}

218 #ià
KMP_OS_WINDOWS


219 
	#KMP_I18N_OK


	)

221 
	~"kmp_’vœÚm’t.h
"

222 
	~<wšdows.h
>

224 
	#KMP_I18N_NULLCAT
 
NULL


	)

225 
HMODULE
 
	gÿt
 = 
KMP_I18N_NULLCAT
;

226 cÚ¡ *
	gÇme
 =

227 (
KMP_VERSION_MAJOR
 == 4 ? "libguide40ui.dll" : "libompui.dll");

229 
kmp_i18n_bË_t
 
	gbË
 = {0, 
NULL
};

233 
UINT
 cÚ¡ 
	gdeçuÉ_code_·ge
 = 
CP_OEMCP
;

234 
UINT
 
	gcode_·ge
 = 
deçuÉ_code_·ge
;

236 cÚ¡ *
___ÿtg‘s
(
kmp_i18n_id_t
 
id
);

237 
UINT
 
g‘_code_·ge
();

238 
kmp_i18n_bË_ä“
(
kmp_i18n_bË_t
 *
bË
);

240 
UINT
 
	$g‘_code_·ge
() {

242 
UINT
 
ı
 = 
deçuÉ_code_·ge
;

243 cÚ¡ *
v®ue
 = 
	`__kmp_’v_g‘
("KMP_CODEPAGE");

244 ià(
v®ue
 !ğ
NULL
) {

245 ià(
	`_¡ricmp
(
v®ue
, "ANSI") == 0) {

246 
ı
 = 
CP_ACP
;

247 } ià(
	`_¡ricmp
(
v®ue
, "OEM") == 0) {

248 
ı
 = 
CP_OEMCP
;

249 } ià(
	`_¡ricmp
(
v®ue
, "UTF-8") == 0 || _stricmp(value, "UTF8") == 0) {

250 
ı
 = 
CP_UTF8
;

251 } ià(
	`_¡ricmp
(
v®ue
, "UTF-7") == 0 || _stricmp(value, "UTF7") == 0) {

252 
ı
 = 
CP_UTF7
;

257 
	`KMP_INTERNAL_FREE
((*)
v®ue
);

258  
ı
;

260 
	}
}

262 
	$kmp_i18n_bË_ä“
(
kmp_i18n_bË_t
 *
bË
) {

263 
s
;

264 
m
;

265 
s
 = 0; s < 
bË
->
size
; ++s) {

266 
m
 = 0; m < 
bË
->
£ù
[
s
].
size
; ++m) {

268 
	`KMP_INTERNAL_FREE
((*)
bË
->
£ù
[
s
].
¡r
[
m
]);

269 
bË
->
£ù
[
s
].
¡r
[
m
] = 
NULL
;

271 
bË
->
£ù
[
s
].
size
 = 0;

273 
	`KMP_INTERNAL_FREE
((*)
bË
->
£ù
[
s
].
¡r
);

274 
bË
->
£ù
[
s
].
¡r
 = 
NULL
;

276 
bË
->
size
 = 0;

277 
	`KMP_INTERNAL_FREE
((*)
bË
->
£ù
);

278 
bË
->
£ù
 = 
NULL
;

279 
	}
}

281 
	$__kmp_i18n_do_ÿtİ’
() {

283 
LCID
 
loÿË_id
 = 
	`G‘Th»adLoÿË
();

284 
WORD
 
Ïng_id
 = 
	`LANGIDFROMLCID
(
loÿË_id
);

285 
WORD
 
´im¬y_Ïng_id
 = 
	`PRIMARYLANGID
(
Ïng_id
);

286 
kmp_¡r_buf_t
 
·th
;

288 
	`KMP_DEBUG_ASSERT
(
¡©us
 =ğ
KMP_I18N_CLOSED
);

289 
	`KMP_DEBUG_ASSERT
(
ÿt
 =ğ
KMP_I18N_NULLCAT
);

291 
	`__kmp_¡r_buf_š™
(&
·th
);

295 ià(
´im¬y_Ïng_id
 =ğ
LANG_ENGLISH
) {

296 
¡©us
 = 
KMP_I18N_ABSENT
;

298 
’d
;

307 
HMODULE
 
hªdË
;

308 
BOOL
 
brc
 = 
	`G‘ModuËHªdËEx
(

309 
GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS
 |

310 
GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT
,

311 
»š‹½»t_ÿ¡
<
LPCSTR
>(&
__kmp_i18n_do_ÿtİ’
), &
hªdË
);

312 ià(!
brc
) {

313 
¡©us
 = 
KMP_I18N_ABSENT
;

315 
’d
;

322 
DWORD
 
drc
 = 
	`G‘ModuËFeName
(
hªdË
, 
·th
.
¡r
,…©h.
size
);

323 ià(
drc
 == 0) {

324 
¡©us
 = 
KMP_I18N_ABSENT
;

325 
’d
;

327 ià(
drc
 < 
·th
.
size
) {

328 
·th
.
u£d
 = 
drc
;

331 
	`__kmp_¡r_buf_»£rve
(&
·th
,…©h.
size
 * 2);

335 
kmp_¡r_âame
 
âame
;

336 
	`__kmp_¡r_âame_š™
(&
âame
, 
·th
.
¡r
);

337 
	`__kmp_¡r_buf_ş—r
(&
·th
);

338 
	`__kmp_¡r_buf_´št
(&
·th
, "%s%lu/%s", 
âame
.
dœ
,

339 ()(
loÿË_id
), 
Çme
);

340 
	`__kmp_¡r_âame_ä“
(&
âame
);

345 
ÿt
 = 
	`LßdLib¿ryEx
(
·th
.
¡r
, 
NULL
, 
LOAD_LIBRARY_AS_DATAFILE
);

346 
¡©us
 = (
ÿt
 =ğ
KMP_I18N_NULLCAT
 ? 
KMP_I18N_ABSENT
 : 
KMP_I18N_OPENED
);

348 ià(
¡©us
 =ğ
KMP_I18N_ABSENT
) {

349 ià(
__kmp_g’”©e_w¬nšgs
 > 
kmp_w¬nšgs_low
) {

351 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

365 
kmp_msg_t
 
”r_code
 = 
	`KMP_SYSERRCODE
(
”rÜ
);

366 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtO³nMes§geC©®og
, 
·th
.
¡r
),

367 
”r_code
, (
”rÜ
 =ğ
ERROR_BAD_EXE_FORMAT


368 ? 
	`KMP_HNT
(
BadExeFÜm©
, 
·th
.
¡r
, 
KMP_ARCH_STR
)

369 : 
__kmp_msg_nuÎ
),

370 
__kmp_msg_nuÎ
);

371 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

372 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

374 
	`KMP_INFORM
(
WlU£DeçuÉMes§ges
);

378 
£ùiÚ
 = 
	`g‘_£ùiÚ
(
kmp_i18n_´p_V”siÚ
);

379 
numb”
 = 
	`g‘_numb”
(
kmp_i18n_´p_V”siÚ
);

380 cÚ¡ *
ex³ùed
 = 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
];

381 
kmp_¡r_buf_t
 
v”siÚ
;

382 
	`__kmp_¡r_buf_š™
(&
v”siÚ
);

383 
	`__kmp_¡r_buf_´št
(&
v”siÚ
, "%s", 
	`___ÿtg‘s
(
kmp_i18n_´p_V”siÚ
));

385 ià(
	`¡rcmp
(
v”siÚ
.
¡r
, 
ex³ùed
) != 0) {

387 
	`__kmp_i18n_ÿtşo£
();

388 
¡©us
 = 
KMP_I18N_ABSENT
;

389 ià(
__kmp_g’”©e_w¬nšgs
 > 
kmp_w¬nšgs_low
) {

391 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

392 
	`KMP_MSG
(
WrÚgMes§geC©®og
, 
·th
.
¡r
, 
v”siÚ
.¡r, 
ex³ùed
),

393 
__kmp_msg_nuÎ
);

394 
	`KMP_INFORM
(
WlU£DeçuÉMes§ges
);

397 
	`__kmp_¡r_buf_ä“
(&
v”siÚ
);

399 
code_·ge
 = 
	`g‘_code_·ge
();

401 
’d
:

402 
	`__kmp_¡r_buf_ä“
(&
·th
);

404 
	}
}

406 
	$__kmp_i18n_ÿtşo£
() {

407 ià(
¡©us
 =ğ
KMP_I18N_OPENED
) {

408 
	`KMP_DEBUG_ASSERT
(
ÿt
 !ğ
KMP_I18N_NULLCAT
);

409 
	`kmp_i18n_bË_ä“
(&
bË
);

410 
	`F»eLib¿ry
(
ÿt
);

411 
ÿt
 = 
KMP_I18N_NULLCAT
;

413 
code_·ge
 = 
deçuÉ_code_·ge
;

414 
¡©us
 = 
KMP_I18N_CLOSED
;

415 
	}
}

443 
	$___¡r_üs
(*
¡r
) {

444 
š
 = 0;

445 
out
 = 0;

447 ià(
¡r
[
š
] != '\r') {

448 
¡r
[
out
] = sŒ[
š
];

449 ++
out
;

451 ià(
¡r
[
š
] == 0) {

454 ++
š
;

456  
out
 - 1;

457 
	}
}

459 cÚ¡ *
	$___ÿtg‘s
(
kmp_i18n_id_t
 
id
) {

461 *
»suÉ
 = 
NULL
;

462 
PVOID
 
addr
 = 
NULL
;

463 
wch¬_t
 *
wmsg
 = 
NULL
;

464 
DWORD
 
wËn
 = 0;

465 *
msg
 = 
NULL
;

466 
Ën
 = 0;

467 
rc
;

469 
	`KMP_DEBUG_ASSERT
(
ÿt
 !ğ
KMP_I18N_NULLCAT
);

470 
wËn
 =

471 
	`FÜm©Mes§geW
(
FORMAT_MESSAGE_ALLOCATE_BUFFER
 |

472 
FORMAT_MESSAGE_FROM_HMODULE
 |

473 
FORMAT_MESSAGE_IGNORE_INSERTS
,

474 
ÿt
, 
id
,

476 (
LPWSTR
)&
addr
,

478 
NULL
);

479 ià(
wËn
 <= 0) {

480 
’d
;

482 
wmsg
 = (
wch¬_t
 *)
addr
;

486 
Ën
 = 
	`WideCh¬ToMuÉiBy‹
(
code_·ge
,

488 
wmsg
, 
wËn
,

489 
NULL
, 0,

490 
NULL
, NULL

492 ià(
Ën
 <= 0) {

493 
’d
;

497 
msg
 = (*)
	`KMP_INTERNAL_MALLOC
(
Ën
 + 1);

500 
rc
 = 
	`WideCh¬ToMuÉiBy‹
(
code_·ge
,

502 
wmsg
, 
wËn
,

503 
msg
, 
Ën
,

504 
NULL
, NULL

506 ià(
rc
 <ğ0 ||„ø> 
Ën
) {

507 
’d
;

509 
	`KMP_DEBUG_ASSERT
(
rc
 =ğ
Ën
);

510 
Ën
 = 
rc
;

511 
msg
[
Ën
] = 0;

514 
Ën
 = 
	`___¡r_üs
(
msg
);

517 ià(
Ën
 >ğ1 && 
msg
[len - 1] == '\n') {

518 --
Ën
;

519 
msg
[
Ën
] = 0;

523 
»suÉ
 = 
msg
;

524 
msg
 = 
NULL
;

526 
’d
:

528 ià(
msg
 !ğ
NULL
) {

529 
	`KMP_INTERNAL_FREE
(
msg
);

531 ià(
wmsg
 !ğ
NULL
) {

532 
	`LoÿlF»e
(
wmsg
);

535  
»suÉ
;

537 
	}
}

539 cÚ¡ *
	$__kmp_i18n_ÿtg‘s
(
kmp_i18n_id_t
 
id
) {

541 
£ùiÚ
 = 
	`g‘_£ùiÚ
(
id
);

542 
numb”
 = 
	`g‘_numb”
(
id
);

543 cÚ¡ *
mes§ge
 = 
NULL
;

545 ià(1 <ğ
£ùiÚ
 && seùiÚ <ğ
__kmp_i18n_deçuÉ_bË
.
size
) {

546 ià(1 <ğ
numb”
 &&‚umb” <ğ
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
size
) {

547 ià(
¡©us
 =ğ
KMP_I18N_CLOSED
) {

548 
	`__kmp_i18n_ÿtİ’
();

550 ià(
ÿt
 !ğ
KMP_I18N_NULLCAT
) {

551 ià(
bË
.
size
 == 0) {

552 
bË
.
£ù
 = (
kmp_i18n_£ùiÚ_t
 *)
	`KMP_INTERNAL_CALLOC
(

553 (
__kmp_i18n_deçuÉ_bË
.
size
 + 2), (
kmp_i18n_£ùiÚ_t
));

554 
bË
.
size
 = 
__kmp_i18n_deçuÉ_bË
.size;

556 ià(
bË
.
£ù
[
£ùiÚ
].
size
 == 0) {

557 
bË
.
£ù
[
£ùiÚ
].
¡r
 = (cÚ¡ **)
	`KMP_INTERNAL_CALLOC
(

558 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
size
 + 2,

560 
bË
.
£ù
[
£ùiÚ
].
size
 =

561 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
size
;

563 ià(
bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
] =ğ
NULL
) {

564 
bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
] = 
	`___ÿtg‘s
(
id
);

566 
mes§ge
 = 
bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
];

568 ià(
mes§ge
 =ğ
NULL
) {

571 
mes§ge
 = 
__kmp_i18n_deçuÉ_bË
.
£ù
[
£ùiÚ
].
¡r
[
numb”
];

575 ià(
mes§ge
 =ğ
NULL
) {

576 
mes§ge
 = 
no_mes§ge_avaabË
;

578  
mes§ge
;

580 
	}
}

586 #iâdeà
KMP_I18N_OK


587 #”rÜ 
I18n
 
suµÜt
 
is
 
nÙ
 
im¶em’‹d
 
this
 
OS
.

592 
	$__kmp_i18n_dump_ÿlog
(
kmp_¡r_buf_t
 *
bufãr
) {

594 
	skmp_i18n_id_¿nge_t
 {

595 
kmp_i18n_id_t
 
fœ¡
;

596 
kmp_i18n_id_t
 
Ï¡
;

599 
kmp_i18n_id_¿nge_t
 
¿nges
[] = {

600 {
kmp_i18n_´p_fœ¡
, 
kmp_i18n_´p_Ï¡
},

601 {
kmp_i18n_¡r_fœ¡
, 
kmp_i18n_¡r_Ï¡
},

602 {
kmp_i18n_fmt_fœ¡
, 
kmp_i18n_fmt_Ï¡
},

603 {
kmp_i18n_msg_fœ¡
, 
kmp_i18n_msg_Ï¡
},

604 {
kmp_i18n_hÁ_fœ¡
, 
kmp_i18n_hÁ_Ï¡
}};

606 
num_of_¿nges
 = (
¿nges
è/ (
kmp_i18n_id_¿nge_t
);

607 
¿nge
;

608 
kmp_i18n_id_t
 
id
;

610 
¿nge
 = 0;„ªg< 
num_of_¿nges
; ++range) {

611 
	`__kmp_¡r_buf_´št
(
bufãr
, "*** S‘ #%d ***\n", 
¿nge
 + 1);

612 
id
 = (
kmp_i18n_id_t
)(
¿nges
[
¿nge
].
fœ¡
 + 1); id <„ªges[¿nge].
Ï¡
;

613 
id
 = (
kmp_i18n_id_t
)(id + 1)) {

614 
	`__kmp_¡r_buf_´št
(
bufãr
, "%d: <<%s>>\n", 
id
, 
	`__kmp_i18n_ÿtg‘s
(id));

618 
	`__kmp_´štf
("%s", 
bufãr
->
¡r
);

620 
	}
}

623 
kmp_msg_t
 
	$__kmp_msg_fÜm©
(
id_¬g
, ...) {

625 
kmp_msg_t
 
msg
;

626 
va_li¡
 
¬gs
;

627 
kmp_¡r_buf_t
 
bufãr
;

628 
	`__kmp_¡r_buf_š™
(&
bufãr
);

630 
	`va_¡¬t
(
¬gs
, 
id_¬g
);

635 
kmp_i18n_id_t
 
id
 = (kmp_i18n_id_t)
id_¬g
;

637 #ià
KMP_OS_UNIX


640 
	`__kmp_¡r_buf_v´št
(&
bufãr
, 
	`__kmp_i18n_ÿtg‘s
(
id
), 
¬gs
);

641 #–ià
KMP_OS_WINDOWS


646 
LPTSTR
 
¡r
 = 
NULL
;

647 
Ën
;

648 
	`FÜm©Mes§ge
(
FORMAT_MESSAGE_FROM_STRING
 | 
FORMAT_MESSAGE_ALLOCATE_BUFFER
,

649 
	`__kmp_i18n_ÿtg‘s
(
id
), 0, 0, (
LPTSTR
)(&
¡r
), 0, &
¬gs
);

650 
Ën
 = 
	`___¡r_üs
(
¡r
);

651 
	`__kmp_¡r_buf_ÿt
(&
bufãr
, 
¡r
, 
Ën
);

652 
	`LoÿlF»e
(
¡r
);

657 
	`va_’d
(
¬gs
);

658 
	`__kmp_¡r_buf_d‘ach
(&
bufãr
);

660 
msg
.
ty³
 = (
kmp_msg_ty³_t
)(
id
 >> 16);

661 
msg
.
num
 = 
id
 & 0xFFFF;

662 
msg
.
¡r
 = 
bufãr
.str;

663 
msg
.
Ën
 = 
bufãr
.
u£d
;

665  
msg
;

667 
	}
}

670 *
	$sys_”rÜ
(
”r
) {

672 *
mes§ge
 = 
NULL
;

674 #ià
KMP_OS_WINDOWS


676 
LPVOID
 
bufãr
 = 
NULL
;

677 
Ën
;

678 
DWORD
 
rc
;

679 
rc
 = 
	`FÜm©Mes§ge
(

680 
FORMAT_MESSAGE_ALLOCATE_BUFFER
 | 
FORMAT_MESSAGE_FROM_SYSTEM
, 
NULL
, 
”r
,

681 
	`MAKELANGID
(
LANG_NEUTRAL
, 
SUBLANG_DEFAULT
),

682 (
LPTSTR
)&
bufãr
, 0, 
NULL
);

683 ià(
rc
 > 0) {

685 
mes§ge
 = 
	`__kmp_¡r_fÜm©
("%s", (*)
bufãr
);

686 
Ën
 = 
	`___¡r_üs
(
mes§ge
);

688 
Ën
 > 0 && 
mes§ge
[len - 1] == '\n') {

689 --
Ën
;

691 
mes§ge
[
Ën
] = 0;

698 ià(
bufãr
 !ğ
NULL
) {

699 
	`LoÿlF»e
(
bufãr
);

710 #ià(
	`defšed
(
__GLIBC__
è&& defšed(
_GNU_SOURCE
)) || \

711 (
	`defšed
(
__BIONIC__
è&& defšed(
_GNU_SOURCE
) && \

712 
__ANDROID_API__
 >ğ
__ANDROID_API_M__
)

715 
bufãr
[2048];

716 *cÚ¡ 
”r_msg
 = 
	`¡»¼Ü_r
(
”r
, 
bufãr
, (buffer));

720 
mes§ge
 = 
	`__kmp_¡r_fÜm©
("%s", 
”r_msg
);

724 
size
 = 2048;

725 *
bufãr
 = (*)
	`KMP_INTERNAL_MALLOC
(
size
);

726 
rc
;

727 ià(
bufãr
 =ğ
NULL
) {

728 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

730 
rc
 = 
	`¡»¼Ü_r
(
”r
, 
bufãr
, 
size
);

731 ià(
rc
 == -1) {

732 
rc
 = 
”ºo
;

734 
rc
 =ğ
ERANGE
) {

735 
	`KMP_INTERNAL_FREE
(
bufãr
);

736 
size
 *= 2;

737 
bufãr
 = (*)
	`KMP_INTERNAL_MALLOC
(
size
);

738 ià(
bufãr
 =ğ
NULL
) {

739 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

741 
rc
 = 
	`¡»¼Ü_r
(
”r
, 
bufãr
, 
size
);

742 ià(
rc
 == -1) {

743 
rc
 = 
”ºo
;

746 ià(
rc
 == 0) {

747 
mes§ge
 = 
bufãr
;

749 
	`KMP_INTERNAL_FREE
(
bufãr
);

756 ià(
mes§ge
 =ğ
NULL
) {

758 
mes§ge
 = 
	`__kmp_¡r_fÜm©
("%s", "(No systemƒrror message‡vailable)");

760  
mes§ge
;

761 
	}
}

764 
kmp_msg_t
 
	$__kmp_msg_”rÜ_code
(
code
) {

766 
kmp_msg_t
 
msg
;

767 
msg
.
ty³
 = 
kmp_mt_sy£¼
;

768 
msg
.
num
 = 
code
;

769 
msg
.
¡r
 = 
	`sys_”rÜ
(
code
);

770 
msg
.
Ën
 = 
	`KMP_STRLEN
(msg.
¡r
);

771  
msg
;

773 
	}
}

776 
kmp_msg_t
 
	$__kmp_msg_”rÜ_mesg
(cÚ¡ *
mesg
) {

778 
kmp_msg_t
 
msg
;

779 
msg
.
ty³
 = 
kmp_mt_sy£¼
;

780 
msg
.
num
 = 0;

781 
msg
.
¡r
 = 
	`__kmp_¡r_fÜm©
("%s", 
mesg
);

782 
msg
.
Ën
 = 
	`KMP_STRLEN
(msg.
¡r
);

783  
msg
;

785 
	}
}

788 
	$__kmp_msg
(
kmp_msg_£v”™y_t
 
£v”™y
, 
kmp_msg_t
 
mes§ge
, 
va_li¡
 
¬gs
) {

789 
kmp_i18n_id_t
 
fÜm©
;

790 
kmp_msg_t
 
fmsg
;

791 
kmp_¡r_buf_t
 
bufãr
;

793 ià(
£v”™y
 !ğ
kmp_ms_çl
 && 
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
)

796 
	`__kmp_¡r_buf_š™
(&
bufãr
);

799 
£v”™y
) {

800 
kmp_ms_šfÜm
: {

801 
fÜm©
 = 
kmp_i18n_fmt_Info
;

803 
kmp_ms_w¬nšg
: {

804 
fÜm©
 = 
kmp_i18n_fmt_W¬nšg
;

806 
kmp_ms_çl
: {

807 
fÜm©
 = 
kmp_i18n_fmt_F©®
;

809 : { 
	`KMP_DEBUG_ASSERT
(0); }

811 
fmsg
 = 
	`__kmp_msg_fÜm©
(
fÜm©
, 
mes§ge
.
num
, mes§ge.
¡r
);

812 
	`__kmp_¡r_ä“
(&
mes§ge
.
¡r
);

813 
	`__kmp_¡r_buf_ÿt
(&
bufãr
, 
fmsg
.
¡r
, fmsg.
Ën
);

814 
	`__kmp_¡r_ä“
(&
fmsg
.
¡r
);

818 
mes§ge
 = 
	`va_¬g
(
¬gs
, 
kmp_msg_t
);

819 ià(
mes§ge
.
ty³
 =ğ
kmp_mt_dummy
 && mes§ge.
¡r
 =ğ
NULL
) {

822 
mes§ge
.
ty³
) {

823 
kmp_mt_hšt
: {

824 
fÜm©
 = 
kmp_i18n_fmt_Hšt
;

827 
fmsg
 = 
	`__kmp_msg_fÜm©
(
fÜm©
, 
mes§ge
.
¡r
);

829 
kmp_mt_sy£¼
: {

830 
fÜm©
 = 
kmp_i18n_fmt_SysE¼
;

831 
fmsg
 = 
	`__kmp_msg_fÜm©
(
fÜm©
, 
mes§ge
.
num
, mes§ge.
¡r
);

833 : { 
	`KMP_DEBUG_ASSERT
(0); }

835 
	`__kmp_¡r_ä“
(&
mes§ge
.
¡r
);

836 
	`__kmp_¡r_buf_ÿt
(&
bufãr
, 
fmsg
.
¡r
, fmsg.
Ën
);

837 
	`__kmp_¡r_ä“
(&
fmsg
.
¡r
);

844 
	`__kmp_´štf
("%s", 
bufãr
.
¡r
);

845 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

850 
	}
}

851 
	~<¡dio.h
>

852 
	~<¡d¬g.h
>

853 
	$__kmp_msg
(
kmp_msg_£v”™y_t
 
£v”™y
, 
kmp_msg_t
 
mes§ge
, ...) {

854 
va_li¡
 
¬gs
;

855 
	`va_¡¬t
(
¬gs
, 
mes§ge
);

857 
	`vårštf
(
NULL
,
mes§ge
.
¡r
,
¬gs
);

858 
	`__kmp_msg
(
£v”™y
, 
mes§ge
, 
¬gs
);

859 
	`va_’d
(
¬gs
);

860 
	}
}

862 
	$__kmp_çl
(
kmp_msg_t
 
mes§ge
, ...) {

863 
va_li¡
 
¬gs
;

864 
	`va_¡¬t
(
¬gs
, 
mes§ge
);

865 
	`__kmp_msg
(
kmp_ms_çl
, 
mes§ge
, 
¬gs
);

866 
	`va_’d
(
¬gs
);

867 #ià
KMP_OS_WINDOWS


869 
	`__kmp_th»ad_¦“p
(500);

871 
	`__kmp_abÜt_´oûss
();

872 
	}
}

	@kmp_i18n.h

13 #iâdeà
KMP_I18N_H


14 
	#KMP_I18N_H


	)

16 
	~"kmp_¡r.h
"

18 #ifdeà
__ılu¥lus


25 
	~"kmp_i18n_id.šc
"

42 
__kmp_i18n_ÿtİ’
();

43 
__kmp_i18n_ÿtşo£
();

44 cÚ¡ *
__kmp_i18n_ÿtg‘s
(
kmp_i18n_id_t
 
id
);

46 
	#KMP_I18N_STR
(
id
è
	`__kmp_i18n_ÿtg‘s
(
kmp_i18n_¡r_
##id)

	)

93 
	ekmp_msg_ty³
 {

94 
kmp_mt_dummy
 = 0,

95 
kmp_mt_mesg
 =

97 
kmp_mt_hšt
 = 5,

98 
kmp_mt_sy£¼
 = -1

100 
kmp_msg_ty³
 
	tkmp_msg_ty³_t
;

102 
	skmp_msg
 {

103 
kmp_msg_ty³_t
 
ty³
;

104 
num
;

105 *
¡r
;

106 
Ën
;

108 
kmp_msg
 
	tkmp_msg_t
;

111 
kmp_msg_t
 
__kmp_msg_nuÎ
;

116 
kmp_msg_t
 
__kmp_msg_fÜm©
(
id_¬g
, ...);

117 
kmp_msg_t
 
__kmp_msg_”rÜ_code
(
code
);

118 
kmp_msg_t
 
__kmp_msg_”rÜ_mesg
(cÚ¡ *
mesg
);

121 
	#KMP_MSG
(...è
	`__kmp_msg_fÜm©
(
kmp_i18n_msg_
##
__VA_ARGS__
)

	)

122 
	#KMP_HNT
(...è
	`__kmp_msg_fÜm©
(
kmp_i18n_hÁ_
##
__VA_ARGS__
)

	)

123 
	#KMP_SYSERRCODE
(
code
è
	`__kmp_msg_”rÜ_code
(code)

	)

124 
	#KMP_SYSERRMESG
(
mesg
è
	`__kmp_msg_”rÜ_mesg
(mesg)

	)

125 
	#KMP_ERR
 
KMP_SYSERRCODE


	)

128 
	ekmp_msg_£v”™y
 {

129 
	gkmp_ms_šfÜm
,

130 
	gkmp_ms_w¬nšg
,

131 
	gkmp_ms_çl


133 
kmp_msg_£v”™y
 
	tkmp_msg_£v”™y_t
;

138 
__kmp_msg
(
kmp_msg_£v”™y_t
 
£v”™y
, 
kmp_msg_t
 
mes§ge
, ...);

139 
KMP_NORETURN
 
__kmp_çl
(
kmp_msg_t
 
mes§ge
, ...);

142 
	#KMP_INFORM
(...) \

143 
	`__kmp_msg
(
kmp_ms_šfÜm
, 
	`KMP_MSG
(
__VA_ARGS__
), 
__kmp_msg_nuÎ
)

	)

144 
	#KMP_WARNING
(...) \

145 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
__VA_ARGS__
), 
__kmp_msg_nuÎ
)

	)

146 
	#KMP_FATAL
(...è
	`__kmp_çl
(
	`KMP_MSG
(
__VA_ARGS__
), 
__kmp_msg_nuÎ
)

	)

147 
	#KMP_SYSFAIL
(
func
, 
”rÜ
) \

148 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, 
func
), 
	`KMP_SYSERRCODE
(
”rÜ
), \

149 
__kmp_msg_nuÎ
)

	)

152 
	#KMP_CHECK_SYSFAIL
(
func
, 
”rÜ
) \

154 ià(
”rÜ
) { \

155 
	`KMP_SYSFAIL
(
func
, 
”rÜ
); \

157 }

	)

160 
	#KMP_CHECK_SYSFAIL_ERRNO
(
func
, 
¡©us
) \

162 ià(
¡©us
 != 0) { \

163 
”rÜ
 = 
”ºo
; \

164 
	`KMP_SYSFAIL
(
func
, 
”rÜ
); \

166 }

	)

168 #ifdeà
KMP_DEBUG


169 
__kmp_i18n_dump_ÿlog
(
kmp_¡r_buf_t
 *
bufãr
);

172 #ifdeà
__ılu¥lus


	@kmp_import.cpp

18 #ifdeà
__ılu¥lus


25 
_You_mu¡_lšk_w™h_exaùly_Úe_O³nMP_lib¿ry
 = 1;

26 
_You_mu¡_lšk_w™h_IÁ–_O³nMP_lib¿ry
 = 1;

27 
_You_mu¡_lšk_w™h_Miüosoá_O³nMP_lib¿ry
 = 1;

29 #ifdeà
__ılu¥lus


	@kmp_io.cpp

13 
	~<¡d¬g.h
>

14 
	~<¡ddef.h
>

15 
	~<¡dio.h
>

16 
	~<¡dlib.h
>

17 
	~<¡ršg.h
>

18 #iâdeà
__ABSOFT_WIN


19 
	~<sys/ty³s.h
>

22 
	~"kmp.h
"

23 
	~"kmp_io.h
"

24 
	~"kmp_lock.h
"

25 
	~"kmp_os.h
"

26 
	~"kmp_¡r.h
"

28 #ià
KMP_OS_WINDOWS


29 #ià
KMP_MSVC_COMPAT


30 #´agm¨
w¬nšg
(
push
)

31 #´agm¨
w¬nšg
(
di§bË
 : 271 310)

33 
	~<wšdows.h
>

34 #ià
KMP_MSVC_COMPAT


35 #´agm¨
w¬nšg
(
pİ
)

41 
kmp_boÙ¡¿p_lock_t
 
	g__kmp_¡dio_lock
 = 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(

42 
__kmp_¡dio_lock
);

43 
kmp_boÙ¡¿p_lock_t
 
	g__kmp_cÚsŞe_lock
 = 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(

44 
__kmp_cÚsŞe_lock
);

46 #ià
KMP_OS_WINDOWS


48 
HANDLE
 
	g__kmp_¡dout
 = 
NULL
;

49 
HANDLE
 
	g__kmp_¡d”r
 = 
NULL
;

50 
	g__kmp_cÚsŞe_exi¡s
 = 
FALSE
;

51 
kmp_¡r_buf_t
 
	g__kmp_cÚsŞe_buf
;

53 
	$is_cÚsŞe
() {

54 
bufãr
[128];

55 
DWORD
 
rc
 = 0;

56 
DWORD
 
”r
 = 0;

58 
	`S‘La¡E¼Ü
(0);

61 
rc
 = 
	`G‘CÚsŞeT™Ë
(
bufãr
, (buffer));

62 ià(
rc
 == 0) {

64 
”r
 = 
	`G‘La¡E¼Ü
();

68  
rc
 > 0 || 
”r
 == 0;

69 
	}
}

71 
	$__kmp_şo£_cÚsŞe
() {

74 ià(
__kmp_cÚsŞe_exi¡s
) {

75 
__kmp_¡dout
 = 
NULL
;

76 
__kmp_¡d”r
 = 
NULL
;

77 
	`__kmp_¡r_buf_ä“
(&
__kmp_cÚsŞe_buf
);

78 
__kmp_cÚsŞe_exi¡s
 = 
FALSE
;

80 
	}
}

84 
	$__kmp_»dœeù_ouut
() {

85 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_cÚsŞe_lock
);

87 ià(!
__kmp_cÚsŞe_exi¡s
) {

88 
HANDLE
 
ho
;

89 
HANDLE
 
he
;

91 
	`__kmp_¡r_buf_š™
(&
__kmp_cÚsŞe_buf
);

93 
	`AÎocCÚsŞe
();

99 
ho
 = 
	`G‘StdHªdË
(
STD_OUTPUT_HANDLE
);

100 ià(
ho
 =ğ
INVALID_HANDLE_VALUE
 || hØ=ğ
NULL
) {

102 
DWORD
 
”r
 = 
	`G‘La¡E¼Ü
();

104 
__kmp_¡dout
 = 
NULL
;

108 
__kmp_¡dout
 = 
ho
;

110 
he
 = 
	`G‘StdHªdË
(
STD_ERROR_HANDLE
);

111 ià(
he
 =ğ
INVALID_HANDLE_VALUE
 || h=ğ
NULL
) {

113 
DWORD
 
”r
 = 
	`G‘La¡E¼Ü
();

115 
__kmp_¡d”r
 = 
NULL
;

119 
__kmp_¡d”r
 = 
he
;

121 
__kmp_cÚsŞe_exi¡s
 = 
TRUE
;

123 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_cÚsŞe_lock
);

124 
	}
}

127 
	#__kmp_¡d”r
 (
¡d”r
)

	)

128 
	#__kmp_¡dout
 (
¡dout
)

	)

131 
	$__kmp_v´štf
(
kmp_io
 
out_¡»am
, cÚ¡ *
fÜm©
, 
va_li¡
 
­
) {

132 #ià
KMP_OS_WINDOWS


133 ià(!
__kmp_cÚsŞe_exi¡s
) {

134 
	`__kmp_»dœeù_ouut
();

136 ià(!
__kmp_¡d”r
 && 
out_¡»am
 =ğ
kmp_”r
) {

139 ià(!
__kmp_¡dout
 && 
out_¡»am
 =ğ
kmp_out
) {

143 autØ
¡»am
 = ((
out_¡»am
 =ğ
kmp_out
è? 
__kmp_¡dout
 : 
__kmp_¡d”r
);

145 ià(
__kmp_debug_buf
 && 
__kmp_debug_bufãr
 !ğ
NULL
) {

147 
dc
 = 
__kmp_debug_couÁ
++ % 
__kmp_debug_buf_lšes
;

148 *
db
 = &
__kmp_debug_bufãr
[
dc
 * 
__kmp_debug_buf_ch¬s
];

149 
ch¬s
 = 0;

151 #ifdeà
KMP_DEBUG_PIDS


152 
ch¬s
 = 
	`KMP_SNPRINTF
(
db
, 
__kmp_debug_buf_ch¬s
, "pid=%d: ",

153 (
kmp_št32
)
	`g‘pid
());

155 
ch¬s
 +ğ
	`KMP_VSNPRINTF
(
db
, 
__kmp_debug_buf_ch¬s
, 
fÜm©
, 
­
);

157 ià(
ch¬s
 + 1 > 
__kmp_debug_buf_ch¬s
) {

158 ià(
ch¬s
 + 1 > 
__kmp_debug_buf_w¬n_ch¬s
) {

159 #ià
KMP_OS_WINDOWS


160 
DWORD
 
couÁ
;

161 
	`__kmp_¡r_buf_´št
(&
__kmp_cÚsŞe_buf
, "OMP warning: Debugging buffer "

164 
ch¬s
 + 1);

165 
	`Wr™eFe
(
¡»am
, 
__kmp_cÚsŞe_buf
.
¡r
, __kmp_cÚsŞe_buf.
u£d
, &
couÁ
,

166 
NULL
);

167 
	`__kmp_¡r_buf_ş—r
(&
__kmp_cÚsŞe_buf
);

169 
	`årštf
(
¡»am
, "OMP warning: Debugging buffer overflow; "

171 
ch¬s
 + 1);

172 
	`fæush
(
¡»am
);

174 
__kmp_debug_buf_w¬n_ch¬s
 = 
ch¬s
 + 1;

177 
db
[
__kmp_debug_buf_ch¬s
 - 2] = '\n';

178 
db
[
__kmp_debug_buf_ch¬s
 - 1] = '\0';

181 #ià
KMP_OS_WINDOWS


182 
DWORD
 
couÁ
;

183 #ifdeà
KMP_DEBUG_PIDS


184 
	`__kmp_¡r_buf_´št
(&
__kmp_cÚsŞe_buf
, "pid=%d: ", (
kmp_št32
)
	`g‘pid
());

186 
	`__kmp_¡r_buf_v´št
(&
__kmp_cÚsŞe_buf
, 
fÜm©
, 
­
);

187 
	`Wr™eFe
(
¡»am
, 
__kmp_cÚsŞe_buf
.
¡r
, __kmp_cÚsŞe_buf.
u£d
, &
couÁ
,

188 
NULL
);

189 
	`__kmp_¡r_buf_ş—r
(&
__kmp_cÚsŞe_buf
);

191 #ifdeà
KMP_DEBUG_PIDS


192 
	`årštf
(
¡»am
, "pid=%d: ", (
kmp_št32
)
	`g‘pid
());

194 
	`vårštf
(
¡»am
, 
fÜm©
, 
­
);

195 
	`fæush
(
¡»am
);

198 
	}
}

200 
	$__kmp_´štf
(cÚ¡ *
fÜm©
, ...) {

201 
va_li¡
 
­
;

202 
	`va_¡¬t
(
­
, 
fÜm©
);

204 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

205 
	`__kmp_v´štf
(
kmp_”r
, 
fÜm©
, 
­
);

206 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

208 
	`va_’d
(
­
);

209 
	}
}

211 
	$__kmp_´štf_no_lock
(cÚ¡ *
fÜm©
, ...) {

212 
va_li¡
 
­
;

213 
	`va_¡¬t
(
­
, 
fÜm©
);

215 
	`__kmp_v´štf
(
kmp_”r
, 
fÜm©
, 
­
);

217 
	`va_’d
(
­
);

218 
	}
}

220 
	$__kmp_årštf
(
kmp_io
 
¡»am
, cÚ¡ *
fÜm©
, ...) {

221 
va_li¡
 
­
;

222 
	`va_¡¬t
(
­
, 
fÜm©
);

224 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

225 
	`__kmp_v´štf
(
¡»am
, 
fÜm©
, 
­
);

226 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

228 
	`va_’d
(
­
);

229 
	}
}

	@kmp_io.h

13 #iâdeà
KMP_IO_H


14 
	#KMP_IO_H


	)

16 #ifdeà
__ılu¥lus


22 
	ekmp_io
 { 
kmp_out
 = 0, 
kmp_”r
 };

24 
kmp_boÙ¡¿p_lock_t
 
__kmp_¡dio_lock
;

25 
kmp_boÙ¡¿p_lock_t


26 
__kmp_cÚsŞe_lock
;

28 
__kmp_v´štf
(
kmp_io
 
¡»am
, cÚ¡ *
fÜm©
, 
va_li¡
 
­
);

29 
__kmp_´štf
(cÚ¡ *
fÜm©
, ...);

30 
__kmp_´štf_no_lock
(cÚ¡ *
fÜm©
, ...);

31 
__kmp_årštf
(
kmp_io
 
¡»am
, cÚ¡ *
fÜm©
, ...);

32 
__kmp_şo£_cÚsŞe
();

34 #ifdeà
__ılu¥lus


	@kmp_itt.cpp

1 
	~"kmp_cÚfig.h
"

3 #ià
USE_ITT_BUILD


16 
	~"kmp_™t.h
"

18 #ià
KMP_DEBUG


19 
	~"kmp_™t.šl
"

22 #ià
USE_ITT_NOTIFY


24 
	~"™ŠÙify_cÚfig.h
"

25 
__™t_glob®
 
	g__kmp_™pi_ş—n_glob®
;

26 
__™t_glob®
 
__kmp_™t__™pi_glob®
;

27 
kmp_št32
 
	g__kmp_b¬r›r_domaš_couÁ
;

28 
kmp_št32
 
	g__kmp_»giÚ_domaš_couÁ
;

29 
__™t_domaš
 *
	g__kmp_™t_b¬r›r_domašs
[
KMP_MAX_FRAME_DOMAINS
];

30 
__™t_domaš
 *
	g__kmp_™t_»giÚ_domašs
[
KMP_MAX_FRAME_DOMAINS
];

31 
__™t_domaš
 *
	g__kmp_™t_imb®ªû_domašs
[
KMP_MAX_FRAME_DOMAINS
];

32 
kmp_št32
 
	g__kmp_™t_»giÚ_‹am_size
[
KMP_MAX_FRAME_DOMAINS
];

33 
__™t_domaš
 *
	gm‘ad©a_domaš
 = 
NULL
;

34 
__™t_¡ršg_hªdË
 *
	g¡ršg_hªdË_imbl
 = 
NULL
;

35 
__™t_¡ršg_hªdË
 *
	g¡ršg_hªdË_loİ
 = 
NULL
;

36 
__™t_¡ršg_hªdË
 *
	g¡ršg_hªdË_¢gl
 = 
NULL
;

38 
	~"kmp_i18n.h
"

39 
	~"kmp_¡r.h
"

40 
	~"kmp_v”siÚ.h
"

42 
KMP_BUILD_ASSERT
((
kmp_™t_m¬k_t
è=ğ(
__™t_m¬k_ty³
));

52 
kmp_št32
 
	g__kmp_™t_´•¬e_d–ay
 = 0;

53 
kmp_boÙ¡¿p_lock_t
 
	g__kmp_™t_debug_lock
 =

54 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(
__kmp_™t_debug_lock
);

58 
	$__kmp_™t_»£t
() {

59 #ià
USE_ITT_NOTIFY


60 
__kmp_™t__™pi_glob®
 = 
__kmp_™pi_ş—n_glob®
;

62 
	}
}

64 
	$__kmp_™t_š™Ÿlize
() {

70 #ià
USE_ITT_NOTIFY


72 
__kmp_™pi_ş—n_glob®
 = 
__kmp_™t__™pi_glob®
;

75 
kmp_¡r_buf_t
 
buf
;

76 
__™t_m¬k_ty³
 
v”siÚ
;

77 
	`__kmp_¡r_buf_š™
(&
buf
);

78 
	`__kmp_¡r_buf_´št
(&
buf
, "OMP RTL V”siÚ %d.%d.%d", 
__kmp_v”siÚ_majÜ
,

79 
__kmp_v”siÚ_mšÜ
, 
__kmp_v”siÚ_bud
);

80 ià(
__™t_­i_v”siÚ_±r
 !ğ
NULL
) {

81 
	`__kmp_¡r_buf_´št
(&
buf
, ":%s", 
	`__™t_­i_v”siÚ
());

83 
v”siÚ
 = 
	`__™t_m¬k_ü—‹
(
buf
.
¡r
);

84 
	`__™t_m¬k
(
v”siÚ
, 
NULL
);

85 
	`__kmp_¡r_buf_ä“
(&
buf
);

88 
	}
}

90 
	$__kmp_™t_de¡roy
() {

91 #ià
USE_ITT_NOTIFY


92 
	`__kmp_™t_fši_™ib
();

94 
	}
}

96 "C" 
	$__™t_”rÜ_hªdËr
(
__™t_”rÜ_code
 
”r
, 
va_li¡
 
¬gs
) {

98 
”r
) {

99 
__™t_”rÜ_no_moduË
: {

100 cÚ¡ *
lib¿ry
 = 
	`va_¬g
(
¬gs
, const *);

101 #ià
KMP_OS_WINDOWS


102 
sys_”r
 = 
	`va_¬g
(
¬gs
, );

103 
kmp_msg_t
 
”r_code
 = 
	`KMP_SYSERRCODE
(
sys_”r
);

104 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
I‰LßdLibFaed
, 
lib¿ry
), 
”r_code
,

105 
__kmp_msg_nuÎ
);

106 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

107 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

110 cÚ¡ *
sys_”r
 = 
	`va_¬g
(
¬gs
, const *);

111 
kmp_msg_t
 
”r_code
 = 
	`KMP_SYSERRMESG
(
sys_”r
);

112 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
I‰LßdLibFaed
, 
lib¿ry
), 
”r_code
,

113 
__kmp_msg_nuÎ
);

114 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

115 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

119 
__™t_”rÜ_no_symbŞ
: {

120 cÚ¡ *
lib¿ry
 = 
	`va_¬g
(
¬gs
, const *);

121 cÚ¡ *
symbŞ
 = 
	`va_¬g
(
¬gs
, const *);

122 
	`KMP_WARNING
(
I‰LookupFaed
, 
symbŞ
, 
lib¿ry
);

124 
__™t_”rÜ_unknown_group
: {

125 cÚ¡ *
v¬
 = 
	`va_¬g
(
¬gs
, const *);

126 cÚ¡ *
group
 = 
	`va_¬g
(
¬gs
, const *);

127 
	`KMP_WARNING
(
I‰UnknownGroup
, 
v¬
, 
group
);

129 
__™t_”rÜ_’v_too_lÚg
: {

130 cÚ¡ *
v¬
 = 
	`va_¬g
(
¬gs
, const *);

131 
size_t
 
aù_Ën
 = 
	`va_¬g
(
¬gs
, size_t);

132 
size_t
 
max_Ën
 = 
	`va_¬g
(
¬gs
, size_t);

133 
	`KMP_WARNING
(
I‰EnvV¬TooLÚg
, 
v¬
, ()
aù_Ën
,

134 ()
max_Ën
);

136 
__™t_”rÜ_ÿÁ_»ad_’v
: {

137 cÚ¡ *
v¬
 = 
	`va_¬g
(
¬gs
, const *);

138 
sys_”r
 = 
	`va_¬g
(
¬gs
, );

139 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
sys_”r
);

140 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtG‘EnvV¬
, 
v¬
), 
”r_code
,

141 
__kmp_msg_nuÎ
);

142 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

143 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

146 
__™t_”rÜ_sy¡em
: {

147 cÚ¡ *
func
 = 
	`va_¬g
(
¬gs
, const *);

148 
sys_”r
 = 
	`va_¬g
(
¬gs
, );

149 
kmp_msg_t
 
”r_code
 = 
	`KMP_SYSERRCODE
(
sys_”r
);

150 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
I‰FunùiÚE¼Ü
, 
func
), 
”r_code
,

151 
__kmp_msg_nuÎ
);

152 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

153 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

156 : { 
	`KMP_WARNING
(
I‰UnknownE¼Ü
, 
”r
); }

158 
	}
}

	@kmp_itt.h

1 #ià
USE_ITT_BUILD


14 #iâdeà
KMP_ITT_H


15 
	#KMP_ITT_H


	)

17 
	~"kmp_lock.h
"

19 
	#INTEL_ITTNOTIFY_API_PRIVATE


	)

20 
	~"™ŠÙify.h
"

21 
	~"Ëgacy/™ŠÙify.h
"

23 #ià
KMP_DEBUG


24 
	#__kmp_šlše


25 #–£

	)

26 
	#__kmp_šlše
 
šlše


	)

29 #ià
USE_ITT_NOTIFY


30 
kmp_št32
 
__kmp_™t_´•¬e_d–ay
;

31 #ifdeà
__ılu¥lus


32 "C" 
__kmp_™t_fši_™ib
();

34 
__kmp_™t_fši_™ib
();

40 
	#USE_ITT_BUILD_ARG
(
x
è, 
	)
x

42 
__kmp_™t_š™Ÿlize
();

43 
__kmp_™t_de¡roy
();

44 
__kmp_™t_»£t
();

54 
__kmp_šlše
 

55 
__kmp_™t_»giÚ_fÜkšg
(
gtid
, 
‹am_size
,

56 
b¬r›rs
);

57 
__kmp_šlše
 

58 
__kmp_™t_»giÚ_jošed
(
gtid
);

63 
__kmp_šlše
 
__kmp_™t_äame_subm™
(
gtid
, 
__™t_time¡amp
 
begš
,

64 
__™t_time¡amp
 
’d
, 
imb®ªû
,

65 
id’t_t
 *
loc
, 
‹am_size
,

66 
»giÚ
 = 0);

71 
__kmp_šlše
 
__kmp_™t_m‘ad©a_imb®ªû
(
gtid
, 
kmp_ušt64
 
begš
,

72 
kmp_ušt64
 
’d
,

73 
kmp_ušt64
 
imb®ªû
,

74 
kmp_ušt64
 
»duùiÚ
);

77 
__kmp_šlše
 
__kmp_™t_m‘ad©a_loİ
(
id’t_t
 *
loc
, 
kmp_ušt64
 
sched_ty³
,

78 
kmp_ušt64
 
™”©iÚs
,

79 
kmp_ušt64
 
chunk
);

80 
__kmp_šlše
 
__kmp_™t_m‘ad©a_sšgË
(
id’t_t
 *
loc
);

83 
__kmp_šlše
 *
__kmp_™t_b¬r›r_objeù
(
gtid
, 
bt
, 
£t_Çme
 = 0,

84 
d–
 = 0);

85 
__kmp_šlše
 
__kmp_™t_b¬r›r_¡¬tšg
(
gtid
, *
objeù
);

86 
__kmp_šlše
 
__kmp_™t_b¬r›r_middË
(
gtid
, *
objeù
);

87 
__kmp_šlše
 
__kmp_™t_b¬r›r_fšished
(
gtid
, *
objeù
);

90 
__kmp_šlše
 *
__kmp_™t_skwa™_objeù
(
gtid
);

91 
__kmp_šlše
 
__kmp_™t_skwa™_¡¬tšg
(
gtid
, *
objeù
);

92 
__kmp_šlše
 
__kmp_™t_skwa™_fšished
(
gtid
, *
objeù
);

95 
__kmp_šlše
 
__kmp_™t_sk_¡¬tšg
(*
objeù
);

96 
__kmp_šlše
 
__kmp_™t_sk_fšished
(*
objeù
);

99 #ià
KMP_USE_DYNAMIC_LOCK


100 
__kmp_šlše
 
__kmp_™t_lock_ü—tšg
(
kmp_u£r_lock_p
 
lock
,

101 cÚ¡ 
id’t_t
 *);

103 
__kmp_šlše
 
__kmp_™t_lock_ü—tšg
(
kmp_u£r_lock_p
 
lock
);

105 
__kmp_šlše
 
__kmp_™t_lock_acquœšg
(
kmp_u£r_lock_p
 
lock
);

106 
__kmp_šlše
 
__kmp_™t_lock_acquœed
(
kmp_u£r_lock_p
 
lock
);

107 
__kmp_šlše
 
__kmp_™t_lock_»Ëasšg
(
kmp_u£r_lock_p
 
lock
);

108 
__kmp_šlše
 
__kmp_™t_lock_ÿnûÎed
(
kmp_u£r_lock_p
 
lock
);

109 
__kmp_šlše
 
__kmp_™t_lock_de¡royed
(
kmp_u£r_lock_p
 
lock
);

112 #ià
KMP_USE_DYNAMIC_LOCK


113 
__kmp_šlše
 
__kmp_™t_ü™iÿl_ü—tšg
(
kmp_u£r_lock_p
 
lock
,

114 cÚ¡ 
id’t_t
 *);

116 
__kmp_šlše
 
__kmp_™t_ü™iÿl_ü—tšg
(
kmp_u£r_lock_p
 
lock
);

118 
__kmp_šlše
 
__kmp_™t_ü™iÿl_acquœšg
(
kmp_u£r_lock_p
 
lock
);

119 
__kmp_šlše
 
__kmp_™t_ü™iÿl_acquœed
(
kmp_u£r_lock_p
 
lock
);

120 
__kmp_šlše
 
__kmp_™t_ü™iÿl_»Ëasšg
(
kmp_u£r_lock_p
 
lock
);

121 
__kmp_šlše
 
__kmp_™t_ü™iÿl_de¡royed
(
kmp_u£r_lock_p
 
lock
);

124 
__kmp_šlše
 
__kmp_™t_sšgË_¡¬t
(
gtid
);

125 
__kmp_šlše
 
__kmp_™t_sšgË_’d
(
gtid
);

128 
__kmp_šlše
 
__kmp_™t_Üd”ed_š™
(
gtid
);

129 
__kmp_šlše
 
__kmp_™t_Üd”ed_´•
(
gtid
);

130 
__kmp_šlše
 
__kmp_™t_Üd”ed_¡¬t
(
gtid
);

131 
__kmp_šlše
 
__kmp_™t_Üd”ed_’d
(
gtid
);

134 
__kmp_šlše
 
__kmp_™t_th»ad_ignÜe
();

135 
__kmp_šlše
 
__kmp_™t_th»ad_Çme
(
gtid
);

138 
__kmp_šlše
 
__kmp_™t_sy¡em_objeù_ü—‹d
(*
objeù
,

139 cÚ¡ *
Çme
);

142 
__kmp_šlše
 
__™t_ÿÎ”
 
__kmp_™t_¡ack_ÿÎ”_ü—‹
();

143 
__kmp_šlše
 
__kmp_™t_¡ack_ÿÎ”_de¡roy
(
__™t_ÿÎ”
);

144 
__kmp_šlše
 
__kmp_™t_¡ack_ÿÎ“_’‹r
(
__™t_ÿÎ”
);

145 
__kmp_šlše
 
__kmp_™t_¡ack_ÿÎ“_Ëave
(
__™t_ÿÎ”
);

150 #ià
USE_ITT_NOTIFY


157 #iâdeà
INCLUDE_SSC_MARKS


158 
	#INCLUDE_SSC_MARKS
 (
KMP_OS_LINUX
 && 
KMP_ARCH_X86_64
)

	)

162 #ià(
INCLUDE_SSC_MARKS
 && 
KMP_OS_LINUX
 && 
KMP_ARCH_X86_64
)

165 #ià
defšed
(
__INTEL_COMPILER
)

166 
	#INSERT_SSC_MARK
(
g
è
	`__SSC_MARK
Ñag)

	)

168 
	#INSERT_SSC_MARK
(
g
) \

169 
__asm__
 
	`__vŞ©e__
("movÈ%0, %%ebx; .by‹ 0x64, 0x67, 0x90 " ::"i"(
g
) \

170 : "%ebx")

	)

173 
	#INSERT_SSC_MARK
(
g
è(()0)

	)

180 
	#SSC_MARK_SPIN_START
(è
	`INSERT_SSC_MARK
(0x4376)

	)

181 
	#SSC_MARK_SPIN_END
(è
	`INSERT_SSC_MARK
(0x4377)

	)

189 
	#SSC_MARK_FORKING
(è
	`INSERT_SSC_MARK
(0xd693)

	)

190 
	#SSC_MARK_JOINING
(è
	`INSERT_SSC_MARK
(0xd694)

	)

191 
	#SSC_MARK_INVOKING
(è
	`INSERT_SSC_MARK
(0xd695)

	)

192 
	#SSC_MARK_DISPATCH_INIT
(è
	`INSERT_SSC_MARK
(0xd696)

	)

193 
	#SSC_MARK_DISPATCH_NEXT
(è
	`INSERT_SSC_MARK
(0xd697)

	)

213 
	#KMP_FSYNC_PREPARE
(
obj
è
	`__™t_fsync_´•¬e
((*)(obj))

	)

214 
	#KMP_FSYNC_CANCEL
(
obj
è
	`__™t_fsync_ÿnûl
((*)(obj))

	)

215 
	#KMP_FSYNC_ACQUIRED
(
obj
è
	`__™t_fsync_acquœed
((*)(obj))

	)

216 
	#KMP_FSYNC_RELEASING
(
obj
è
	`__™t_fsync_»Ëasšg
((*)(obj))

	)

224 #undeà
KMP_FSYNC_SPIN_INIT


225 
	#KMP_FSYNC_SPIN_INIT
(
obj
, 
¥š
) \

226 
sync_™”s
 = 0; \

227 ià(
__™t_fsync_´•¬e_±r
) { \

228 ià(
obj
 =ğ
NULL
) { \

229 
obj
 = 
¥š
; \

232 
	`SSC_MARK_SPIN_START
()

	)

234 #undeà
KMP_FSYNC_SPIN_PREPARE


235 
	#KMP_FSYNC_SPIN_PREPARE
(
obj
) \

237 ià(
__™t_fsync_´•¬e_±r
 && 
sync_™”s
 < 
__kmp_™t_´•¬e_d–ay
) { \

238 ++
sync_™”s
; \

239 ià(
sync_™”s
 >ğ
__kmp_™t_´•¬e_d–ay
) { \

240 
	`KMP_FSYNC_PREPARE
((*)
obj
); \

243 } 0)

	)

244 #undeà
KMP_FSYNC_SPIN_ACQUIRED


245 
	#KMP_FSYNC_SPIN_ACQUIRED
(
obj
) \

247 
	`SSC_MARK_SPIN_END
(); \

248 ià(
sync_™”s
 >ğ
__kmp_™t_´•¬e_d–ay
) { \

249 
	`KMP_FSYNC_ACQUIRED
((*)
obj
); \

251 } 0)

	)

258 
	#KMP_ITT_IGNORE
(
¡©em’t
) \

260 
__™t_¡©e_t
 
__™t_¡©e_
; \

261 ià(
__™t_¡©e_g‘_±r
) { \

262 
__™t_¡©e_
 = 
	`__™t_¡©e_g‘
(); \

263 
	`__™t_obj_mode_£t
(
__™t_obj_´İ_ignÜe
, 
__™t_obj_¡©e_£t
); \

265 { 
¡©em’t
 } \

266 ià(
__™t_¡©e_g‘_±r
) { \

267 
	`__™t_¡©e_£t
(
__™t_¡©e_
); \

269 } 0)

	)

271 cÚ¡ 
	gKMP_MAX_FRAME_DOMAINS
 =

274 
kmp_št32
 
__kmp_b¬r›r_domaš_couÁ
;

275 
kmp_št32
 
__kmp_»giÚ_domaš_couÁ
;

276 
__™t_domaš
 *
__kmp_™t_b¬r›r_domašs
[
KMP_MAX_FRAME_DOMAINS
];

277 
__™t_domaš
 *
__kmp_™t_»giÚ_domašs
[
KMP_MAX_FRAME_DOMAINS
];

278 
__™t_domaš
 *
__kmp_™t_imb®ªû_domašs
[
KMP_MAX_FRAME_DOMAINS
];

279 
kmp_št32
 
__kmp_™t_»giÚ_‹am_size
[
KMP_MAX_FRAME_DOMAINS
];

280 
__™t_domaš
 *
m‘ad©a_domaš
;

281 
__™t_¡ršg_hªdË
 *
¡ršg_hªdË_imbl
;

282 
__™t_¡ršg_hªdË
 *
¡ršg_hªdË_loİ
;

283 
__™t_¡ršg_hªdË
 *
¡ršg_hªdË_¢gl
;

288 
	#KMP_FSYNC_PREPARE
(
obj
è(()0)

	)

289 
	#KMP_FSYNC_CANCEL
(
obj
è(()0)

	)

290 
	#KMP_FSYNC_ACQUIRED
(
obj
è(()0)

	)

291 
	#KMP_FSYNC_RELEASING
(
obj
è(()0)

	)

293 
	#KMP_FSYNC_SPIN_INIT
(
obj
, 
¥š
è(()0)

	)

294 
	#KMP_FSYNC_SPIN_PREPARE
(
obj
è(()0)

	)

295 
	#KMP_FSYNC_SPIN_ACQUIRED
(
obj
è(()0)

	)

297 
	#KMP_ITT_IGNORE
(
¡mt
) \

299 
¡mt
 \

300 } 0)

	)

304 #ià!
KMP_DEBUG


306 
	~"kmp_™t.šl
"

316 
	#KMP_FSYNC_PREPARE
(
obj
è(()0)

	)

317 
	#KMP_FSYNC_CANCEL
(
obj
è(()0)

	)

318 
	#KMP_FSYNC_ACQUIRED
(
obj
è(()0)

	)

319 
	#KMP_FSYNC_RELEASING
(
obj
è(()0)

	)

321 
	#KMP_FSYNC_SPIN_INIT
(
obj
, 
¥š
è(()0)

	)

322 
	#KMP_FSYNC_SPIN_PREPARE
(
obj
è(()0)

	)

323 
	#KMP_FSYNC_SPIN_ACQUIRED
(
obj
è(()0)

	)

325 
	#KMP_ITT_IGNORE
(
¡mt
) \

327 
¡mt
 \

328 } 0)

	)

330 
	#USE_ITT_BUILD_ARG
(
x
)

	)

	@kmp_lock.cpp

13 
	~<¡ddef.h
>

14 
	~<©omic
>

16 
	~"kmp.h
"

17 
	~"kmp_i18n.h
"

18 
	~"kmp_io.h
"

19 
	~"kmp_™t.h
"

20 
	~"kmp_lock.h
"

21 
	~"kmp_wa™_»Ëa£.h
"

22 
	~"kmp_w¿µ”_g‘pid.h
"

24 
	~"t§n_ªnÙ©iÚs.h
"

26 #ià
KMP_USE_FUTEX


27 
	~<sys/sysÿÎ.h
>

28 
	~<uni¡d.h
>

34 #iâdeà
FUTEX_WAIT


35 
	#FUTEX_WAIT
 0

	)

37 #iâdeà
FUTEX_WAKE


38 
	#FUTEX_WAKE
 1

	)

45 
	$__kmp_v®id©e_locks
() {

46 
i
;

47 
kmp_ušt32
 
x
, 
y
;

50 
x
 = ~((
kmp_ušt32
)0) - 2;

51 
y
 = 
x
 - 2;

53 
i
 = 0; i < 8; ++i, ++
x
, ++
y
) {

54 
kmp_ušt32
 
z
 = (
x
 - 
y
);

55 
	`KMP_ASSERT
(
z
 == 2);

58 
	`KMP_ASSERT
(
	`off£tof
(
kmp_ba£_queušg_lock
, 
_id
) % 8 == 0);

59 
	}
}

72 
kmp_št32
 
	$__kmp_g‘_s_lock_owÃr
(
kmp_s_lock_t
 *
lck
) {

73  
	`KMP_LOCK_STRIP
(
	`KMP_ATOMIC_LD_RLX
(&
lck
->
lk
.
pŞl
)) - 1;

74 
	}
}

76 
šlše
 
boŞ
 
	$__kmp_is_s_lock_Ã¡abË
(
kmp_s_lock_t
 *
lck
) {

77  
lck
->
lk
.
d•th_locked
 != -1;

78 
	}
}

80 
__fÜûšlše
 

81 
	$__kmp_acquœe_s_lock_timed_‹m¶©e
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

82 
	`KMP_MB
();

84 #ifdeà
USE_LOCK_PROFILE


85 
kmp_ušt32
 
cu¼
 = 
	`KMP_LOCK_STRIP
(
lck
->
lk
.
pŞl
);

86 ià((
cu¼
 !ğ0è&& (cu¼ !ğ
gtid
 + 1))

87 
	`__kmp_´štf
("LOCK CONTENTION: %p\n", 
lck
);

91 
kmp_št32
 
s_ä“
 = 
	`KMP_LOCK_FREE
(
s
);

92 
kmp_št32
 
s_busy
 = 
	`KMP_LOCK_BUSY
(
gtid
 + 1, 
s
);

94 ià(
	`KMP_ATOMIC_LD_RLX
(&
lck
->
lk
.
pŞl
è=ğ
s_ä“
 &&

95 
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
)) {

96 
	`KMP_FSYNC_ACQUIRED
(
lck
);

97  
KMP_LOCK_ACQUIRED_FIRST
;

100 
kmp_ušt32
 
¥šs
;

101 
	`KMP_FSYNC_PREPARE
(
lck
);

102 
	`KMP_INIT_YIELD
(
¥šs
);

103 
kmp_backoff_t
 
backoff
 = 
__kmp_¥š_backoff_·¿ms
;

105 
	`__kmp_¥š_backoff
(&
backoff
);

106 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

107 } 
	`KMP_ATOMIC_LD_RLX
(&
lck
->
lk
.
pŞl
è!ğ
s_ä“
 ||

108 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
));

109 
	`KMP_FSYNC_ACQUIRED
(
lck
);

110  
KMP_LOCK_ACQUIRED_FIRST
;

111 
	}
}

113 
	$__kmp_acquœe_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

114 
»tv®
 = 
	`__kmp_acquœe_s_lock_timed_‹m¶©e
(
lck
, 
gtid
);

115 
	`ANNOTATE_TAS_ACQUIRED
(
lck
);

116  
»tv®
;

117 
	}
}

119 
	$__kmp_acquœe_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

120 
kmp_št32
 
gtid
) {

121 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

122 ià(((
kmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

123 
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

124 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

126 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_s_lock_owÃr
(
lck
) == gtid)) {

127 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

129  
	`__kmp_acquœe_s_lock
(
lck
, 
gtid
);

130 
	}
}

132 
	$__kmp_‹¡_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

133 
kmp_št32
 
s_ä“
 = 
	`KMP_LOCK_FREE
(
s
);

134 
kmp_št32
 
s_busy
 = 
	`KMP_LOCK_BUSY
(
gtid
 + 1, 
s
);

135 ià(
	`KMP_ATOMIC_LD_RLX
(&
lck
->
lk
.
pŞl
è=ğ
s_ä“
 &&

136 
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
lk
.
pŞl
, 
s_ä“
, 
s_busy
)) {

137 
	`KMP_FSYNC_ACQUIRED
(
lck
);

138  
TRUE
;

140  
FALSE
;

141 
	}
}

143 
	$__kmp_‹¡_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

144 
kmp_št32
 
gtid
) {

145 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

146 ià(((
kmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

147 
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

148 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

150  
	`__kmp_‹¡_s_lock
(
lck
, 
gtid
);

151 
	}
}

153 
	$__kmp_»Ëa£_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

154 
	`KMP_MB
();

156 
	`KMP_FSYNC_RELEASING
(
lck
);

157 
	`ANNOTATE_TAS_RELEASED
(
lck
);

158 
	`KMP_ATOMIC_ST_REL
(&
lck
->
lk
.
pŞl
, 
	`KMP_LOCK_FREE
(
s
));

159 
	`KMP_MB
();

161 
	`KMP_YIELD_OVERSUB
();

162  
KMP_LOCK_RELEASED
;

163 
	}
}

165 
	$__kmp_»Ëa£_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

166 
kmp_št32
 
gtid
) {

167 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

168 
	`KMP_MB
();

169 ià(((
kmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

170 
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

171 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

173 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
) == -1) {

174 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

176 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_s_lock_owÃr
(
lck
) >= 0) &&

177 (
	`__kmp_g‘_s_lock_owÃr
(
lck
è!ğ
gtid
)) {

178 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

180  
	`__kmp_»Ëa£_s_lock
(
lck
, 
gtid
);

181 
	}
}

183 
	$__kmp_š™_s_lock
(
kmp_s_lock_t
 *
lck
) {

184 
lck
->
lk
.
pŞl
 = 
	`KMP_LOCK_FREE
(
s
);

185 
	}
}

187 
	$__kmp_de¡roy_s_lock
(
kmp_s_lock_t
 *
lck
è{†ck->
lk
.
pŞl
 = 0; 
	}
}

189 
	$__kmp_de¡roy_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
) {

190 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

191 ià(((
kmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

192 
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

193 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

195 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
) != -1) {

196 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

198 
	`__kmp_de¡roy_s_lock
(
lck
);

199 
	}
}

203 
	$__kmp_acquœe_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

204 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

206 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
è=ğ
gtid
) {

207 
lck
->
lk
.
d•th_locked
 += 1;

208  
KMP_LOCK_ACQUIRED_NEXT
;

210 
	`__kmp_acquœe_s_lock_timed_‹m¶©e
(
lck
, 
gtid
);

211 
	`ANNOTATE_TAS_ACQUIRED
(
lck
);

212 
lck
->
lk
.
d•th_locked
 = 1;

213  
KMP_LOCK_ACQUIRED_FIRST
;

215 
	}
}

217 
	$__kmp_acquœe_Ã¡ed_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

218 
kmp_št32
 
gtid
) {

219 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock";

220 ià(!
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

221 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

223  
	`__kmp_acquœe_Ã¡ed_s_lock
(
lck
, 
gtid
);

224 
	}
}

226 
	$__kmp_‹¡_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

227 
»tv®
;

229 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

231 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
è=ğ
gtid
) {

232 
»tv®
 = ++
lck
->
lk
.
d•th_locked
;

233 } ià(!
	`__kmp_‹¡_s_lock
(
lck
, 
gtid
)) {

234 
»tv®
 = 0;

236 
	`KMP_MB
();

237 
»tv®
 = 
lck
->
lk
.
d•th_locked
 = 1;

239  
»tv®
;

240 
	}
}

242 
	$__kmp_‹¡_Ã¡ed_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

243 
kmp_št32
 
gtid
) {

244 cÚ¡ *cÚ¡ 
func
 = "omp_test_nest_lock";

245 ià(!
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

246 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

248  
	`__kmp_‹¡_Ã¡ed_s_lock
(
lck
, 
gtid
);

249 
	}
}

251 
	$__kmp_»Ëa£_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

252 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

254 
	`KMP_MB
();

255 ià(--(
lck
->
lk
.
d•th_locked
) == 0) {

256 
	`__kmp_»Ëa£_s_lock
(
lck
, 
gtid
);

257  
KMP_LOCK_RELEASED
;

259  
KMP_LOCK_STILL_HELD
;

260 
	}
}

262 
	$__kmp_»Ëa£_Ã¡ed_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
,

263 
kmp_št32
 
gtid
) {

264 cÚ¡ *cÚ¡ 
func
 = "omp_unset_nest_lock";

265 
	`KMP_MB
();

266 ià(!
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

267 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

269 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
) == -1) {

270 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

272 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
è!ğ
gtid
) {

273 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

275  
	`__kmp_»Ëa£_Ã¡ed_s_lock
(
lck
, 
gtid
);

276 
	}
}

278 
	$__kmp_š™_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
) {

279 
	`__kmp_š™_s_lock
(
lck
);

280 
lck
->
lk
.
d•th_locked
 = 0;

281 
	}
}

283 
	$__kmp_de¡roy_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
) {

284 
	`__kmp_de¡roy_s_lock
(
lck
);

285 
lck
->
lk
.
d•th_locked
 = 0;

286 
	}
}

288 
	$__kmp_de¡roy_Ã¡ed_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
) {

289 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_nest_lock";

290 ià(!
	`__kmp_is_s_lock_Ã¡abË
(
lck
)) {

291 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

293 ià(
	`__kmp_g‘_s_lock_owÃr
(
lck
) != -1) {

294 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

296 
	`__kmp_de¡roy_Ã¡ed_s_lock
(
lck
);

297 
	}
}

299 #ià
KMP_USE_FUTEX


309 
kmp_št32
 
	$__kmp_g‘_fu‹x_lock_owÃr
(
kmp_fu‹x_lock_t
 *
lck
) {

310  
	`KMP_LOCK_STRIP
((
	`TCR_4
(
lck
->
lk
.
pŞl
) >> 1)) - 1;

311 
	}
}

313 
šlše
 
boŞ
 
	$__kmp_is_fu‹x_lock_Ã¡abË
(
kmp_fu‹x_lock_t
 *
lck
) {

314  
lck
->
lk
.
d•th_locked
 != -1;

315 
	}
}

317 
__fÜûšlše
 

318 
	$__kmp_acquœe_fu‹x_lock_timed_‹m¶©e
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

319 
kmp_št32
 
gtid_code
 = (
gtid
 + 1) << 1;

321 
	`KMP_MB
();

323 #ifdeà
USE_LOCK_PROFILE


324 
kmp_ušt32
 
cu¼
 = 
	`KMP_LOCK_STRIP
(
	`TCR_4
(
lck
->
lk
.
pŞl
));

325 ià((
cu¼
 !ğ0è&& (cu¼ !ğ
gtid_code
))

326 
	`__kmp_´štf
("LOCK CONTENTION: %p\n", 
lck
);

330 
	`KMP_FSYNC_PREPARE
(
lck
);

331 
	`KA_TRACE
(1000, ("__kmp_acquire_futex_lock:†ck:%p(0x%x), T#%dƒntering\n",

332 
lck
,†ck->
lk
.
pŞl
, 
gtid
));

334 
kmp_št32
 
pŞl_v®
;

336 (
pŞl_v®
 = 
	`KMP_COMPARE_AND_STORE_RET32
(

337 &(
lck
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
),

338 
	`KMP_LOCK_BUSY
(
gtid_code
, 
fu‹x
))è!ğ
	`KMP_LOCK_FREE
(futex)) {

340 
kmp_št32
 
cÚd
 = 
	`KMP_LOCK_STRIP
(
pŞl_v®
) & 1;

341 
	`KA_TRACE
(

344 
lck
, 
gtid
, 
pŞl_v®
, 
cÚd
));

352 ià(!
cÚd
) {

355 ià(!
	`KMP_COMPARE_AND_STORE_REL32
(&(
lck
->
lk
.
pŞl
), 
pŞl_v®
,

356 
pŞl_v®
 | 
	`KMP_LOCK_BUSY
(1, 
fu‹x
))) {

357 
	`KA_TRACE
(

360 
lck
,†ck->
lk
.
pŞl
, 
gtid
));

363 
pŞl_v®
 |ğ
	`KMP_LOCK_BUSY
(1, 
fu‹x
);

365 
	`KA_TRACE
(1000,

366 ("__kmp_acquœe_fu‹x_lock:†ck:%p(0x%x), T#%d b™ 0 s‘\n", 
lck
,

367 
lck
->
lk
.
pŞl
, 
gtid
));

370 
	`KA_TRACE
(

373 
lck
, 
gtid
, 
pŞl_v®
));

375 
kmp_št32
 
rc
;

376 ià((
rc
 = 
	`sysÿÎ
(
__NR_fu‹x
, &(
lck
->
lk
.
pŞl
), 
FUTEX_WAIT
, 
pŞl_v®
, 
NULL
,

377 
NULL
, 0)) != 0) {

378 
	`KA_TRACE
(1000, ("__kmp_acquire_futex_lock:†ck:%p, T#%d futex_wait(0x%x) "

380 
lck
, 
gtid
, 
pŞl_v®
, 
rc
, 
”ºo
));

384 
	`KA_TRACE
(1000,

386 
lck
, 
gtid
, 
pŞl_v®
));

390 
gtid_code
 |= 1;

393 
	`KMP_FSYNC_ACQUIRED
(
lck
);

394 
	`KA_TRACE
(1000, ("__kmp_acquœe_fu‹x_lock:†ck:%p(0x%x), T#%dƒx™šg\n", 
lck
,

395 
lck
->
lk
.
pŞl
, 
gtid
));

396  
KMP_LOCK_ACQUIRED_FIRST
;

397 
	}
}

399 
	$__kmp_acquœe_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

400 
»tv®
 = 
	`__kmp_acquœe_fu‹x_lock_timed_‹m¶©e
(
lck
, 
gtid
);

401 
	`ANNOTATE_FUTEX_ACQUIRED
(
lck
);

402  
»tv®
;

403 
	}
}

405 
	$__kmp_acquœe_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

406 
kmp_št32
 
gtid
) {

407 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

408 ià(((
kmp_fu‹x_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

409 
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

410 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

412 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) == gtid)) {

413 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

415  
	`__kmp_acquœe_fu‹x_lock
(
lck
, 
gtid
);

416 
	}
}

418 
	$__kmp_‹¡_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

419 ià(
	`KMP_COMPARE_AND_STORE_ACQ32
(&(
lck
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
),

420 
	`KMP_LOCK_BUSY
((
gtid
 + 1è<< 1, 
fu‹x
))) {

421 
	`KMP_FSYNC_ACQUIRED
(
lck
);

422  
TRUE
;

424  
FALSE
;

425 
	}
}

427 
	$__kmp_‹¡_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

428 
kmp_št32
 
gtid
) {

429 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

430 ià(((
kmp_fu‹x_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

431 
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

432 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

434  
	`__kmp_‹¡_fu‹x_lock
(
lck
, 
gtid
);

435 
	}
}

437 
	$__kmp_»Ëa£_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

438 
	`KMP_MB
();

440 
	`KA_TRACE
(1000, ("__kmp_release_futex_lock:†ck:%p(0x%x), T#%dƒntering\n",

441 
lck
,†ck->
lk
.
pŞl
, 
gtid
));

443 
	`KMP_FSYNC_RELEASING
(
lck
);

444 
	`ANNOTATE_FUTEX_RELEASED
(
lck
);

446 
kmp_št32
 
pŞl_v®
 = 
	`KMP_XCHG_FIXED32
(&(
lck
->
lk
.
pŞl
), 
	`KMP_LOCK_FREE
(
fu‹x
));

448 
	`KA_TRACE
(1000,

450 
lck
, 
gtid
, 
pŞl_v®
));

452 ià(
	`KMP_LOCK_STRIP
(
pŞl_v®
) & 1) {

453 
	`KA_TRACE
(1000,

455 
lck
, 
gtid
));

456 
	`sysÿÎ
(
__NR_fu‹x
, &(
lck
->
lk
.
pŞl
), 
FUTEX_WAKE
, 
	`KMP_LOCK_BUSY
(1, 
fu‹x
),

457 
NULL
, NULL, 0);

460 
	`KMP_MB
();

462 
	`KA_TRACE
(1000, ("__kmp_»Ëa£_fu‹x_lock:†ck:%p(0x%x), T#%dƒx™šg\n", 
lck
,

463 
lck
->
lk
.
pŞl
, 
gtid
));

465 
	`KMP_YIELD_OVERSUB
();

466  
KMP_LOCK_RELEASED
;

467 
	}
}

469 
	$__kmp_»Ëa£_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

470 
kmp_št32
 
gtid
) {

471 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

472 
	`KMP_MB
();

473 ià(((
kmp_fu‹x_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

474 
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

475 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

477 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) == -1) {

478 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

480 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) >= 0) &&

481 (
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
è!ğ
gtid
)) {

482 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

484  
	`__kmp_»Ëa£_fu‹x_lock
(
lck
, 
gtid
);

485 
	}
}

487 
	$__kmp_š™_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
) {

488 
	`TCW_4
(
lck
->
lk
.
pŞl
, 
	`KMP_LOCK_FREE
(
fu‹x
));

489 
	}
}

491 
	$__kmp_de¡roy_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
è{†ck->
lk
.
pŞl
 = 0; 
	}
}

493 
	$__kmp_de¡roy_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
) {

494 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

495 ià(((
kmp_fu‹x_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

496 
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

497 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

499 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) != -1) {

500 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

502 
	`__kmp_de¡roy_fu‹x_lock
(
lck
);

503 
	}
}

507 
	$__kmp_acquœe_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

508 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

510 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
è=ğ
gtid
) {

511 
lck
->
lk
.
d•th_locked
 += 1;

512  
KMP_LOCK_ACQUIRED_NEXT
;

514 
	`__kmp_acquœe_fu‹x_lock_timed_‹m¶©e
(
lck
, 
gtid
);

515 
	`ANNOTATE_FUTEX_ACQUIRED
(
lck
);

516 
lck
->
lk
.
d•th_locked
 = 1;

517  
KMP_LOCK_ACQUIRED_FIRST
;

519 
	}
}

521 
	$__kmp_acquœe_Ã¡ed_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

522 
kmp_št32
 
gtid
) {

523 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock";

524 ià(!
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

525 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

527  
	`__kmp_acquœe_Ã¡ed_fu‹x_lock
(
lck
, 
gtid
);

528 
	}
}

530 
	$__kmp_‹¡_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

531 
»tv®
;

533 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

535 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
è=ğ
gtid
) {

536 
»tv®
 = ++
lck
->
lk
.
d•th_locked
;

537 } ià(!
	`__kmp_‹¡_fu‹x_lock
(
lck
, 
gtid
)) {

538 
»tv®
 = 0;

540 
	`KMP_MB
();

541 
»tv®
 = 
lck
->
lk
.
d•th_locked
 = 1;

543  
»tv®
;

544 
	}
}

546 
	$__kmp_‹¡_Ã¡ed_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

547 
kmp_št32
 
gtid
) {

548 cÚ¡ *cÚ¡ 
func
 = "omp_test_nest_lock";

549 ià(!
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

550 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

552  
	`__kmp_‹¡_Ã¡ed_fu‹x_lock
(
lck
, 
gtid
);

553 
	}
}

555 
	$__kmp_»Ëa£_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

556 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

558 
	`KMP_MB
();

559 ià(--(
lck
->
lk
.
d•th_locked
) == 0) {

560 
	`__kmp_»Ëa£_fu‹x_lock
(
lck
, 
gtid
);

561  
KMP_LOCK_RELEASED
;

563  
KMP_LOCK_STILL_HELD
;

564 
	}
}

566 
	$__kmp_»Ëa£_Ã¡ed_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
,

567 
kmp_št32
 
gtid
) {

568 cÚ¡ *cÚ¡ 
func
 = "omp_unset_nest_lock";

569 
	`KMP_MB
();

570 ià(!
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

571 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

573 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) == -1) {

574 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

576 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
è!ğ
gtid
) {

577 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

579  
	`__kmp_»Ëa£_Ã¡ed_fu‹x_lock
(
lck
, 
gtid
);

580 
	}
}

582 
	$__kmp_š™_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
) {

583 
	`__kmp_š™_fu‹x_lock
(
lck
);

584 
lck
->
lk
.
d•th_locked
 = 0;

585 
	}
}

587 
	$__kmp_de¡roy_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
) {

588 
	`__kmp_de¡roy_fu‹x_lock
(
lck
);

589 
lck
->
lk
.
d•th_locked
 = 0;

590 
	}
}

592 
	$__kmp_de¡roy_Ã¡ed_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
) {

593 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_nest_lock";

594 ià(!
	`__kmp_is_fu‹x_lock_Ã¡abË
(
lck
)) {

595 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

597 ià(
	`__kmp_g‘_fu‹x_lock_owÃr
(
lck
) != -1) {

598 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

600 
	`__kmp_de¡roy_Ã¡ed_fu‹x_lock
(
lck
);

601 
	}
}

608 
kmp_št32
 
	$__kmp_g‘_tick‘_lock_owÃr
(
kmp_tick‘_lock_t
 *
lck
) {

609  
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
owÃr_id
,

610 
¡d
::
memÜy_Üd”_»Ïxed
) -

612 
	}
}

614 
šlše
 
boŞ
 
	$__kmp_is_tick‘_lock_Ã¡abË
(
kmp_tick‘_lock_t
 *
lck
) {

615  
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
d•th_locked
,

616 
¡d
::
memÜy_Üd”_»Ïxed
) != -1;

617 
	}
}

619 
kmp_ušt32
 
	$__kmp_bak”y_check
(*
now_£rvšg
, 
kmp_ušt32
 
my_tick‘
) {

620  
¡d
::
	`©omic_lßd_ex¶ic™
((¡d::
©omic
<> *)
now_£rvšg
,

621 
¡d
::
memÜy_Üd”_acquœe
è=ğ
my_tick‘
;

622 
	}
}

624 
__fÜûšlše
 

625 
	$__kmp_acquœe_tick‘_lock_timed_‹m¶©e
(
kmp_tick‘_lock_t
 *
lck
,

626 
kmp_št32
 
gtid
) {

627 
kmp_ušt32
 
my_tick‘
 = 
¡d
::
	`©omic_ãtch_add_ex¶ic™
(

628 &
lck
->
lk
.
Ãxt_tick‘
, 1U, 
¡d
::
memÜy_Üd”_»Ïxed
);

630 #ifdeà
USE_LOCK_PROFILE


631 ià(
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
,

632 
¡d
::
memÜy_Üd”_»Ïxed
è!ğ
my_tick‘
)

633 
	`__kmp_´štf
("LOCK CONTENTION: %p\n", 
lck
);

637 ià(
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
,

638 
¡d
::
memÜy_Üd”_acquœe
è=ğ
my_tick‘
) {

639  
KMP_LOCK_ACQUIRED_FIRST
;

641 
	`KMP_WAIT_PTR
(&
lck
->
lk
.
now_£rvšg
, 
my_tick‘
, 
__kmp_bak”y_check
,†ck);

642  
KMP_LOCK_ACQUIRED_FIRST
;

643 
	}
}

645 
	$__kmp_acquœe_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

646 
»tv®
 = 
	`__kmp_acquœe_tick‘_lock_timed_‹m¶©e
(
lck
, 
gtid
);

647 
	`ANNOTATE_TICKET_ACQUIRED
(
lck
);

648  
»tv®
;

649 
	}
}

651 
	$__kmp_acquœe_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

652 
kmp_št32
 
gtid
) {

653 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

655 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

656 
¡d
::
memÜy_Üd”_»Ïxed
)) {

657 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

659 ià(
lck
->
lk
.
£lf
 !=†ck) {

660 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

662 ià(
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

663 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

665 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) == gtid)) {

666 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

669 
	`__kmp_acquœe_tick‘_lock
(
lck
, 
gtid
);

671 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 
gtid
 + 1,

672 
¡d
::
memÜy_Üd”_»Ïxed
);

673  
KMP_LOCK_ACQUIRED_FIRST
;

674 
	}
}

676 
	$__kmp_‹¡_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

677 
kmp_ušt32
 
my_tick‘
 = 
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
Ãxt_tick‘
,

678 
¡d
::
memÜy_Üd”_»Ïxed
);

680 ià(
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
,

681 
¡d
::
memÜy_Üd”_»Ïxed
è=ğ
my_tick‘
) {

682 
kmp_ušt32
 
Ãxt_tick‘
 = 
my_tick‘
 + 1;

683 ià(
¡d
::
	`©omic_com·»_exchªge_¡rÚg_ex¶ic™
(

684 &
lck
->
lk
.
Ãxt_tick‘
, &
my_tick‘
,‚ext_ticket,

685 
¡d
::
memÜy_Üd”_acquœe
, std::memory_order_acquire)) {

686  
TRUE
;

689  
FALSE
;

690 
	}
}

692 
	$__kmp_‹¡_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

693 
kmp_št32
 
gtid
) {

694 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

696 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

697 
¡d
::
memÜy_Üd”_»Ïxed
)) {

698 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

700 ià(
lck
->
lk
.
£lf
 !=†ck) {

701 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

703 ià(
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

704 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

707 
»tv®
 = 
	`__kmp_‹¡_tick‘_lock
(
lck
, 
gtid
);

709 ià(
»tv®
) {

710 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 
gtid
 + 1,

711 
¡d
::
memÜy_Üd”_»Ïxed
);

713  
»tv®
;

714 
	}
}

716 
	$__kmp_»Ëa£_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

717 
kmp_ušt32
 
di¡ªû
 = 
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
Ãxt_tick‘
,

718 
¡d
::
memÜy_Üd”_»Ïxed
) -

719 
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
,

720 
¡d
::
memÜy_Üd”_»Ïxed
);

722 
	`ANNOTATE_TICKET_RELEASED
(
lck
);

723 
¡d
::
	`©omic_ãtch_add_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
, 1U,

724 
¡d
::
memÜy_Üd”_»Ëa£
);

726 
	`KMP_YIELD
(
di¡ªû
 >

727 (
kmp_ušt32
)(
__kmp_ava_´oc
 ? __kmp_ava_´oø: 
__kmp_x´oc
));

728  
KMP_LOCK_RELEASED
;

729 
	}
}

731 
	$__kmp_»Ëa£_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

732 
kmp_št32
 
gtid
) {

733 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

735 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

736 
¡d
::
memÜy_Üd”_»Ïxed
)) {

737 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

739 ià(
lck
->
lk
.
£lf
 !=†ck) {

740 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

742 ià(
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

743 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

745 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) == -1) {

746 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

748 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) >= 0) &&

749 (
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
è!ğ
gtid
)) {

750 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

752 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 0, std::
memÜy_Üd”_»Ïxed
);

753  
	`__kmp_»Ëa£_tick‘_lock
(
lck
, 
gtid
);

754 
	}
}

756 
	$__kmp_š™_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
) {

757 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

758 
lck
->
lk
.
£lf
 =†ck;

759 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
Ãxt_tick‘
, 0U,

760 
¡d
::
memÜy_Üd”_»Ïxed
);

761 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
, 0U,

762 
¡d
::
memÜy_Üd”_»Ïxed
);

763 
¡d
::
	`©omic_¡Üe_ex¶ic™
(

764 &
lck
->
lk
.
owÃr_id
, 0,

765 
¡d
::
memÜy_Üd”_»Ïxed
);

766 
¡d
::
	`©omic_¡Üe_ex¶ic™
(

767 &
lck
->
lk
.
d•th_locked
, -1,

768 
¡d
::
memÜy_Üd”_»Ïxed
);

769 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
, 
Œue
,

770 
¡d
::
memÜy_Üd”_»Ëa£
);

771 
	}
}

773 
	$__kmp_de¡roy_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
) {

774 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
, 
çl£
,

775 
¡d
::
memÜy_Üd”_»Ëa£
);

776 
lck
->
lk
.
£lf
 = 
NULL
;

777 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

778 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
Ãxt_tick‘
, 0U,

779 
¡d
::
memÜy_Üd”_»Ïxed
);

780 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
now_£rvšg
, 0U,

781 
¡d
::
memÜy_Üd”_»Ïxed
);

782 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 0, std::
memÜy_Üd”_»Ïxed
);

783 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, -1,

784 
¡d
::
memÜy_Üd”_»Ïxed
);

785 
	}
}

787 
	$__kmp_de¡roy_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
) {

788 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

790 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

791 
¡d
::
memÜy_Üd”_»Ïxed
)) {

792 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

794 ià(
lck
->
lk
.
£lf
 !=†ck) {

795 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

797 ià(
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

798 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

800 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) != -1) {

801 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

803 
	`__kmp_de¡roy_tick‘_lock
(
lck
);

804 
	}
}

808 
	$__kmp_acquœe_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

809 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

811 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
è=ğ
gtid
) {

812 
¡d
::
	`©omic_ãtch_add_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 1,

813 
¡d
::
memÜy_Üd”_»Ïxed
);

814  
KMP_LOCK_ACQUIRED_NEXT
;

816 
	`__kmp_acquœe_tick‘_lock_timed_‹m¶©e
(
lck
, 
gtid
);

817 
	`ANNOTATE_TICKET_ACQUIRED
(
lck
);

818 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 1,

819 
¡d
::
memÜy_Üd”_»Ïxed
);

820 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 
gtid
 + 1,

821 
¡d
::
memÜy_Üd”_»Ïxed
);

822  
KMP_LOCK_ACQUIRED_FIRST
;

824 
	}
}

826 
	$__kmp_acquœe_Ã¡ed_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

827 
kmp_št32
 
gtid
) {

828 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock";

830 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

831 
¡d
::
memÜy_Üd”_»Ïxed
)) {

832 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

834 ià(
lck
->
lk
.
£lf
 !=†ck) {

835 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

837 ià(!
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

838 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

840  
	`__kmp_acquœe_Ã¡ed_tick‘_lock
(
lck
, 
gtid
);

841 
	}
}

843 
	$__kmp_‹¡_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

844 
»tv®
;

846 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

848 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
è=ğ
gtid
) {

849 
»tv®
 = 
¡d
::
	`©omic_ãtch_add_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 1,

850 
¡d
::
memÜy_Üd”_»Ïxed
) +

852 } ià(!
	`__kmp_‹¡_tick‘_lock
(
lck
, 
gtid
)) {

853 
»tv®
 = 0;

855 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 1,

856 
¡d
::
memÜy_Üd”_»Ïxed
);

857 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 
gtid
 + 1,

858 
¡d
::
memÜy_Üd”_»Ïxed
);

859 
»tv®
 = 1;

861  
»tv®
;

862 
	}
}

864 
	$__kmp_‹¡_Ã¡ed_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

865 
kmp_št32
 
gtid
) {

866 cÚ¡ *cÚ¡ 
func
 = "omp_test_nest_lock";

868 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

869 
¡d
::
memÜy_Üd”_»Ïxed
)) {

870 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

872 ià(
lck
->
lk
.
£lf
 !=†ck) {

873 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

875 ià(!
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

876 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

878  
	`__kmp_‹¡_Ã¡ed_tick‘_lock
(
lck
, 
gtid
);

879 
	}
}

881 
	$__kmp_»Ëa£_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

882 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

884 ià((
¡d
::
	`©omic_ãtch_add_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, -1,

885 
¡d
::
memÜy_Üd”_»Ïxed
) -

887 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
owÃr_id
, 0, std::
memÜy_Üd”_»Ïxed
);

888 
	`__kmp_»Ëa£_tick‘_lock
(
lck
, 
gtid
);

889  
KMP_LOCK_RELEASED
;

891  
KMP_LOCK_STILL_HELD
;

892 
	}
}

894 
	$__kmp_»Ëa£_Ã¡ed_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
,

895 
kmp_št32
 
gtid
) {

896 cÚ¡ *cÚ¡ 
func
 = "omp_unset_nest_lock";

898 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

899 
¡d
::
memÜy_Üd”_»Ïxed
)) {

900 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

902 ià(
lck
->
lk
.
£lf
 !=†ck) {

903 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

905 ià(!
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

906 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

908 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) == -1) {

909 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

911 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
è!ğ
gtid
) {

912 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

914  
	`__kmp_»Ëa£_Ã¡ed_tick‘_lock
(
lck
, 
gtid
);

915 
	}
}

917 
	$__kmp_š™_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
) {

918 
	`__kmp_š™_tick‘_lock
(
lck
);

919 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 0,

920 
¡d
::
memÜy_Üd”_»Ïxed
);

922 
	}
}

924 
	$__kmp_de¡roy_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
) {

925 
	`__kmp_de¡roy_tick‘_lock
(
lck
);

926 
¡d
::
	`©omic_¡Üe_ex¶ic™
(&
lck
->
lk
.
d•th_locked
, 0,

927 
¡d
::
memÜy_Üd”_»Ïxed
);

928 
	}
}

931 
	$__kmp_de¡roy_Ã¡ed_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
) {

932 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_nest_lock";

934 ià(!
¡d
::
	`©omic_lßd_ex¶ic™
(&
lck
->
lk
.
š™Ÿlized
,

935 
¡d
::
memÜy_Üd”_»Ïxed
)) {

936 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

938 ià(
lck
->
lk
.
£lf
 !=†ck) {

939 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

941 ià(!
	`__kmp_is_tick‘_lock_Ã¡abË
(
lck
)) {

942 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

944 ià(
	`__kmp_g‘_tick‘_lock_owÃr
(
lck
) != -1) {

945 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

947 
	`__kmp_de¡roy_Ã¡ed_tick‘_lock
(
lck
);

948 
	}
}

952 cÚ¡ 
id’t_t
 *
	$__kmp_g‘_tick‘_lock_loÿtiÚ
(
kmp_tick‘_lock_t
 *
lck
) {

953  
lck
->
lk
.
loÿtiÚ
;

954 
	}
}

956 
	$__kmp_£t_tick‘_lock_loÿtiÚ
(
kmp_tick‘_lock_t
 *
lck
,

957 cÚ¡ 
id’t_t
 *
loc
) {

958 
lck
->
lk
.
loÿtiÚ
 = 
loc
;

959 
	}
}

961 
kmp_lock_æags_t
 
	$__kmp_g‘_tick‘_lock_æags
(
kmp_tick‘_lock_t
 *
lck
) {

962  
lck
->
lk
.
æags
;

963 
	}
}

965 
	$__kmp_£t_tick‘_lock_æags
(
kmp_tick‘_lock_t
 *
lck
,

966 
kmp_lock_æags_t
 
æags
) {

967 
lck
->
lk
.
æags
 = flags;

968 
	}
}

1025 #ifdeà
DEBUG_QUEUING_LOCKS


1028 
	#TRACE_BUF_ELE
 1024

	)

1029 
	gŒaûs
[
TRACE_BUF_ELE
][128] = {0};

1030 
	gtc
 = 0;

1031 
	#TRACE_LOCK
(
X
, 
Y
) \

1032 
	`KMP_SNPRINTF
(
Œaûs
[
tc
++ % 
TRACE_BUF_ELE
], 128, "t%d‡ˆ%s\n", 
X
, 
Y
);

	)

1033 
	#TRACE_LOCK_T
(
X
, 
Y
, 
Z
) \

1034 
	`KMP_SNPRINTF
(
Œaûs
[
tc
++ % 
TRACE_BUF_ELE
], 128, "t%d‡ˆ%s%d\n", 
X
, 
Y
, 
Z
);

	)

1035 
	#TRACE_LOCK_HT
(
X
, 
Y
, 
Z
, 
Q
) \

1036 
	`KMP_SNPRINTF
(
Œaûs
[
tc
++ % 
TRACE_BUF_ELE
], 128, "t%d‡ˆ% %d,%d\n", 
X
, 
Y
, \

1037 
Z
, 
Q
);

	)

1039 
	$__kmp_dump_queušg_lock
(
kmp_šfo_t
 *
this_thr
, 
kmp_št32
 
gtid
,

1040 
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
h—d_id
,

1041 
kmp_št32
 
_id
) {

1042 
kmp_št32
 
t
, 
i
;

1044 
	`__kmp_´štf_no_lock
("\n__kmp_dump_queuing_lock: TRACE BEGINS HERE! \n");

1046 
i
 = 
tc
 % 
TRACE_BUF_ELE
;

1047 
	`__kmp_´štf_no_lock
("%s\n", 
Œaûs
[
i
]);

1048 
i
 = (˜+ 1è% 
TRACE_BUF_ELE
;

1049 
i
 !ğ(
tc
 % 
TRACE_BUF_ELE
)) {

1050 
	`__kmp_´štf_no_lock
("%s", 
Œaûs
[
i
]);

1051 
i
 = (˜+ 1è% 
TRACE_BUF_ELE
;

1053 
	`__kmp_´štf_no_lock
("\n");

1055 
	`__kmp_´štf_no_lock
("\n__kmp_dump_queuing_lock: gtid+1:%d, spin_here:%d, "

1057 
gtid
 + 1, 
this_thr
->
th
.
th_¥š_h”e
,

1058 
this_thr
->
th
.
th_Ãxt_wa™šg
, 
h—d_id
, 
_id
);

1060 
	`__kmp_´štf_no_lock
("\t\th—d: %d ", 
lck
->
lk
.
h—d_id
);

1062 ià(
lck
->
lk
.
h—d_id
 >= 1) {

1063 
t
 = 
__kmp_th»ads
[
lck
->
lk
.
h—d_id
 - 1]->
th
.
th_Ãxt_wa™šg
;

1064 
t
 > 0) {

1065 
	`__kmp_´štf_no_lock
("-> %d ", 
t
);

1066 
t
 = 
__kmp_th»ads
[ˆ- 1]->
th
.
th_Ãxt_wa™šg
;

1069 
	`__kmp_´štf_no_lock
(";a: %d ", 
lck
->
lk
.
_id
);

1070 
	`__kmp_´štf_no_lock
("\n\n");

1071 
	}
}

1075 
kmp_št32
 
	$__kmp_g‘_queušg_lock_owÃr
(
kmp_queušg_lock_t
 *
lck
) {

1076  
	`TCR_4
(
lck
->
lk
.
owÃr_id
) - 1;

1077 
	}
}

1079 
šlše
 
boŞ
 
	$__kmp_is_queušg_lock_Ã¡abË
(
kmp_queušg_lock_t
 *
lck
) {

1080  
lck
->
lk
.
d•th_locked
 != -1;

1081 
	}
}

1084 
	g‹m¶©e
 <
boŞ
 
	gkeTime
>

1087 
__fÜûšlše
 

1088 
	$__kmp_acquœe_queušg_lock_timed_‹m¶©e
(
kmp_queušg_lock_t
 *
lck
,

1089 
kmp_št32
 
gtid
) {

1090 
kmp_šfo_t
 *
this_thr
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

1091 vŞ©
kmp_št32
 *
h—d_id_p
 = &
lck
->
lk
.
h—d_id
;

1092 vŞ©
kmp_št32
 *
_id_p
 = &
lck
->
lk
.
_id
;

1093 vŞ©
kmp_ušt32
 *
¥š_h”e_p
;

1094 
kmp_št32
 
Ãed_mf
 = 1;

1096 #ià
OMPT_SUPPORT


1097 
om±_¡©e_t
 
´ev_¡©e
 = 
om±_¡©e_undefšed
;

1100 
	`KA_TRACE
(1000,

1101 ("__kmp_acquœe_queušg_lock:†ck:%p, T#%dƒÁ”šg\n", 
lck
, 
gtid
));

1103 
	`KMP_FSYNC_PREPARE
(
lck
);

1104 
	`KMP_DEBUG_ASSERT
(
this_thr
 !ğ
NULL
);

1105 
¥š_h”e_p
 = &
this_thr
->
th
.
th_¥š_h”e
;

1107 #ifdeà
DEBUG_QUEUING_LOCKS


1108 
	`TRACE_LOCK
(
gtid
 + 1, "acqƒnt");

1109 ià(*
¥š_h”e_p
)

1110 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, *
h—d_id_p
, *
_id_p
);

1111 ià(
this_thr
->
th
.
th_Ãxt_wa™šg
 != 0)

1112 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, *
h—d_id_p
, *
_id_p
);

1114 
	`KMP_DEBUG_ASSERT
(!*
¥š_h”e_p
);

1115 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_Ãxt_wa™šg
 == 0);

1124 *
¥š_h”e_p
 = 
TRUE
;

1127 
kmp_št32
 
’queued
;

1128 
kmp_št32
 
h—d
;

1129 
kmp_št32
 

;

1131 
h—d
 = *
h—d_id_p
;

1133 
h—d
) {

1136 #ifdeà
DEBUG_QUEUING_LOCKS


1137 

 = *
_id_p
;

1138 
	`TRACE_LOCK_HT
(
gtid
 + 1, "acq„—d: ", 
h—d
, 

);

1140 

 = 0;

1145 
Ãed_mf
 = 0;

1147 
’queued
 = 
	`KMP_COMPARE_AND_STORE_ACQ64
((vŞ©
kmp_št64
 *)
_id_p
,

1148 
	`KMP_PACK_64
(-1, 0),

1149 
	`KMP_PACK_64
(
gtid
 + 1, gtid + 1));

1150 #ifdeà
DEBUG_QUEUING_LOCKS


1151 ià(
’queued
)

1152 
	`TRACE_LOCK
(
gtid
 + 1, "acqƒnq: (-1,0)->(tid,tid)");

1157 

 = *
_id_p
;

1158 
	`KMP_DEBUG_ASSERT
(

 !ğ
gtid
 + 1);

1160 #ifdeà
DEBUG_QUEUING_LOCKS


1161 
	`TRACE_LOCK_HT
(
gtid
 + 1, "acq„—d: ", 
h—d
, 

);

1164 ià(

 == 0) {

1165 
’queued
 = 
FALSE
;

1167 
Ãed_mf
 = 0;

1169 
’queued
 = 
	`KMP_COMPARE_AND_STORE_ACQ32
(
_id_p
, 

, 
gtid
 + 1);

1171 #ifdeà
DEBUG_QUEUING_LOCKS


1172 ià(
’queued
)

1173 
	`TRACE_LOCK
(
gtid
 + 1, "acqƒnq: (h,t)->(h,tid)");

1180 
kmp_št32
 
g¿bbed_lock
;

1182 #ifdeà
DEBUG_QUEUING_LOCKS


1183 

 = *
_id_p
;

1184 
	`TRACE_LOCK_HT
(
gtid
 + 1, "acq„—d: ", 
h—d
, 

);

1190 
g¿bbed_lock
 = 
	`KMP_COMPARE_AND_STORE_ACQ32
(
h—d_id_p
, 0, -1);

1192 ià(
g¿bbed_lock
) {

1194 *
¥š_h”e_p
 = 
FALSE
;

1196 
	`KA_TRACE
(

1199 
lck
, 
gtid
));

1200 #ifdeà
DEBUG_QUEUING_LOCKS


1201 
	`TRACE_LOCK_HT
(
gtid
 + 1, "acqƒx™: ", 
h—d
, 0);

1204 #ià
OMPT_SUPPORT


1205 ià(
om±_’abËd
.
’abËd
 && 
´ev_¡©e
 !ğ
om±_¡©e_undefšed
) {

1207 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
´ev_¡©e
;

1208 
this_thr
->
th
.
om±_th»ad_šfo
.
wa™_id
 = 0;

1212 
	`KMP_FSYNC_ACQUIRED
(
lck
);

1213  
KMP_LOCK_ACQUIRED_FIRST
;

1215 
’queued
 = 
FALSE
;

1219 #ià
OMPT_SUPPORT


1220 ià(
om±_’abËd
.
’abËd
 && 
´ev_¡©e
 =ğ
om±_¡©e_undefšed
) {

1222 
´ev_¡©e
 = 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

1223 
this_thr
->
th
.
om±_th»ad_šfo
.
wa™_id
 = (
ušt64_t
)
lck
;

1224 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wa™_lock
;

1228 ià(
’queued
) {

1229 ià(

 > 0) {

1230 
kmp_šfo_t
 *
_thr
 = 
	`__kmp_th»ad_äom_gtid
(

 - 1);

1231 
	`KMP_ASSERT
(
_thr
 !ğ
NULL
);

1232 
_thr
->
th
.
th_Ãxt_wa™šg
 = 
gtid
 + 1;

1235 
	`KA_TRACE
(1000,

1237 
lck
, 
gtid
));

1239 
	`KMP_MB
();

1241 
	`KMP_WAIT
(
¥š_h”e_p
, 
FALSE
, 
KMP_EQ
, 
lck
);

1244 
	`KMP_MB
();

1246 #ifdeà
DEBUG_QUEUING_LOCKS


1247 
	`TRACE_LOCK
(
gtid
 + 1, "acq spin");

1249 ià(
this_thr
->
th
.
th_Ãxt_wa™šg
 != 0)

1250 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, *
h—d_id_p
, *
_id_p
);

1252 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_Ãxt_wa™šg
 == 0);

1253 
	`KA_TRACE
(1000, ("__kmp_acquire_queuing_lock:†ck:%p, T#%dƒxiting:‡fter "

1255 
lck
, 
gtid
));

1257 #ifdeà
DEBUG_QUEUING_LOCKS


1258 
	`TRACE_LOCK
(
gtid
 + 1, "acqƒxit 2");

1261 #ià
OMPT_SUPPORT


1263 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
´ev_¡©e
;

1264 
this_thr
->
th
.
om±_th»ad_šfo
.
wa™_id
 = 0;

1268  
KMP_LOCK_ACQUIRED_FIRST
;

1274 
	`KMP_YIELD_OVERSUB
();

1276 #ifdeà
DEBUG_QUEUING_LOCKS


1277 
	`TRACE_LOCK
(
gtid
 + 1, "acq„etry");

1280 
	`KMP_ASSERT2
(0, "should‚ot get here");

1281  
KMP_LOCK_ACQUIRED_FIRST
;

1282 
	}
}

1284 
	$__kmp_acquœe_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1285 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1287 
»tv®
 = 
__kmp_acquœe_queušg_lock_timed_‹m¶©e
<
çl£
>(
lck
, 
gtid
);

1288 
	`ANNOTATE_QUEUING_ACQUIRED
(
lck
);

1289  
»tv®
;

1290 
	}
}

1292 
	$__kmp_acquœe_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1293 
kmp_št32
 
gtid
) {

1294 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

1295 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1296 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1298 ià(
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1299 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

1301 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
è=ğ
gtid
) {

1302 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

1305 
	`__kmp_acquœe_queušg_lock
(
lck
, 
gtid
);

1307 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

1308  
KMP_LOCK_ACQUIRED_FIRST
;

1309 
	}
}

1311 
	$__kmp_‹¡_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1312 vŞ©
kmp_št32
 *
h—d_id_p
 = &
lck
->
lk
.
h—d_id
;

1313 
kmp_št32
 
h—d
;

1314 #ifdeà
KMP_DEBUG


1315 
kmp_šfo_t
 *
this_thr
;

1318 
	`KA_TRACE
(1000, ("__kmp_‹¡_queušg_lock: T#%dƒÁ”šg\n", 
gtid
));

1319 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1320 #ifdeà
KMP_DEBUG


1321 
this_thr
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

1322 
	`KMP_DEBUG_ASSERT
(
this_thr
 !ğ
NULL
);

1323 
	`KMP_DEBUG_ASSERT
(!
this_thr
->
th
.
th_¥š_h”e
);

1326 
h—d
 = *
h—d_id_p
;

1328 ià(
h—d
 == 0) {

1330 ià(
	`KMP_COMPARE_AND_STORE_ACQ32
(
h—d_id_p
, 0, -1)) {

1331 
	`KA_TRACE
(1000,

1332 ("__kmp_‹¡_queušg_lock: T#%dƒx™šg: hŞdšg†ock\n", 
gtid
));

1333 
	`KMP_FSYNC_ACQUIRED
(
lck
);

1334 
	`ANNOTATE_QUEUING_ACQUIRED
(
lck
);

1335  
TRUE
;

1339 
	`KA_TRACE
(1000,

1340 ("__kmp_‹¡_queušg_lock: T#%dƒx™šg: w™houˆlock\n", 
gtid
));

1341  
FALSE
;

1342 
	}
}

1344 
	$__kmp_‹¡_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1345 
kmp_št32
 
gtid
) {

1346 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

1347 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1348 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1350 ià(
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1351 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

1354 
»tv®
 = 
	`__kmp_‹¡_queušg_lock
(
lck
, 
gtid
);

1356 ià(
»tv®
) {

1357 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

1359  
»tv®
;

1360 
	}
}

1362 
	$__kmp_»Ëa£_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1363 
kmp_šfo_t
 *
this_thr
;

1364 vŞ©
kmp_št32
 *
h—d_id_p
 = &
lck
->
lk
.
h—d_id
;

1365 vŞ©
kmp_št32
 *
_id_p
 = &
lck
->
lk
.
_id
;

1367 
	`KA_TRACE
(1000,

1368 ("__kmp_»Ëa£_queušg_lock:†ck:%p, T#%dƒÁ”šg\n", 
lck
, 
gtid
));

1369 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1370 
this_thr
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

1371 
	`KMP_DEBUG_ASSERT
(
this_thr
 !ğ
NULL
);

1372 #ifdeà
DEBUG_QUEUING_LOCKS


1373 
	`TRACE_LOCK
(
gtid
 + 1, "relƒnt");

1375 ià(
this_thr
->
th
.
th_¥š_h”e
)

1376 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, *
h—d_id_p
, *
_id_p
);

1377 ià(
this_thr
->
th
.
th_Ãxt_wa™šg
 != 0)

1378 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, *
h—d_id_p
, *
_id_p
);

1380 
	`KMP_DEBUG_ASSERT
(!
this_thr
->
th
.
th_¥š_h”e
);

1381 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_Ãxt_wa™šg
 == 0);

1383 
	`KMP_FSYNC_RELEASING
(
lck
);

1384 
	`ANNOTATE_QUEUING_RELEASED
(
lck
);

1387 
kmp_št32
 
dequeued
;

1388 
kmp_št32
 
h—d
;

1389 
kmp_št32
 

;

1391 
h—d
 = *
h—d_id_p
;

1393 #ifdeà
DEBUG_QUEUING_LOCKS


1394 

 = *
_id_p
;

1395 
	`TRACE_LOCK_HT
(
gtid
 + 1, "»È»ad: ", 
h—d
, 

);

1396 ià(
h—d
 == 0)

1397 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, 
h—d
, 

);

1399 
	`KMP_DEBUG_ASSERT
(
h—d
 !=

1402 ià(
h—d
 == -1) {

1404 ià(
	`KMP_COMPARE_AND_STORE_REL32
(
h—d_id_p
, -1, 0)) {

1405 
	`KA_TRACE
(

1408 
lck
, 
gtid
));

1409 #ifdeà
DEBUG_QUEUING_LOCKS


1410 
	`TRACE_LOCK_HT
(
gtid
 + 1, "relƒxit: ", 0, 0);

1413 #ià
OMPT_SUPPORT


1416  
KMP_LOCK_RELEASED
;

1418 
dequeued
 = 
FALSE
;

1420 
	`KMP_MB
();

1421 

 = *
_id_p
;

1422 ià(
h—d
 =ğ

) {

1423 #ifdeà
DEBUG_QUEUING_LOCKS


1424 ià(
h—d
 <= 0)

1425 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, 
h—d
, 

);

1427 
	`KMP_DEBUG_ASSERT
(
h—d
 > 0);

1430 
dequeued
 = 
	`KMP_COMPARE_AND_STORE_REL64
(

1431 
	`RCAST
(vŞ©
kmp_št64
 *, 
_id_p
), 
	`KMP_PACK_64
(
h—d
, head),

1432 
	`KMP_PACK_64
(-1, 0));

1433 #ifdeà
DEBUG_QUEUING_LOCKS


1434 
	`TRACE_LOCK
(
gtid
 + 1, "rel deq: (h,h)->(-1,0)");

1438 vŞ©
kmp_št32
 *
wa™šg_id_p
;

1439 
kmp_šfo_t
 *
h—d_thr
 = 
	`__kmp_th»ad_äom_gtid
(
h—d
 - 1);

1440 
	`KMP_DEBUG_ASSERT
(
h—d_thr
 !ğ
NULL
);

1441 
wa™šg_id_p
 = &
h—d_thr
->
th
.
th_Ãxt_wa™šg
;

1444 #ifdeà
DEBUG_QUEUING_LOCKS


1445 ià(
h—d
 <ğ0 || 

 <= 0)

1446 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, 
h—d
, 

);

1448 
	`KMP_DEBUG_ASSERT
(
h—d
 > 0 && 

 > 0);

1451 
	`KMP_MB
();

1454 *
h—d_id_p
 =

1455 
	`KMP_WAIT
((vŞ©
kmp_ušt32
 *)
wa™šg_id_p
, 0, 
KMP_NEQ
, 
NULL
);

1456 #ifdeà
DEBUG_QUEUING_LOCKS


1457 
	`TRACE_LOCK
(
gtid
 + 1, "rel deq: (h,t)->(h',t)");

1459 
dequeued
 = 
TRUE
;

1463 ià(
dequeued
) {

1464 
kmp_šfo_t
 *
h—d_thr
 = 
	`__kmp_th»ad_äom_gtid
(
h—d
 - 1);

1465 
	`KMP_DEBUG_ASSERT
(
h—d_thr
 !ğ
NULL
);

1468 #ifdeà
DEBUG_QUEUING_LOCKS


1469 ià(
h—d
 <ğ0 || 

 <= 0)

1470 
	`__kmp_dump_queušg_lock
(
this_thr
, 
gtid
, 
lck
, 
h—d
, 

);

1472 
	`KMP_DEBUG_ASSERT
(
h—d
 > 0 && 

 > 0);

1476 
h—d_thr
->
th
.
th_Ãxt_wa™šg
 = 0;

1477 #ifdeà
DEBUG_QUEUING_LOCKS


1478 
	`TRACE_LOCK_T
(
gtid
 + 1, "»Ènw=0 fÜ=", 
h—d
);

1481 
	`KMP_MB
();

1483 
h—d_thr
->
th
.
th_¥š_h”e
 = 
FALSE
;

1485 
	`KA_TRACE
(1000, ("__kmp_release_queuing_lock:†ck:%p, T#%dƒxiting:‡fter "

1487 
lck
, 
gtid
));

1488 #ifdeà
DEBUG_QUEUING_LOCKS


1489 
	`TRACE_LOCK
(
gtid
 + 1, "relƒxit 2");

1491  
KMP_LOCK_RELEASED
;

1496 #ifdeà
DEBUG_QUEUING_LOCKS


1497 
	`TRACE_LOCK
(
gtid
 + 1, "rel„etry");

1501 
	`KMP_ASSERT2
(0, "should‚ot get here");

1502  
KMP_LOCK_RELEASED
;

1503 
	}
}

1505 
	$__kmp_»Ëa£_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1506 
kmp_št32
 
gtid
) {

1507 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

1508 
	`KMP_MB
();

1509 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1510 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1512 ià(
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1513 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

1515 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
) == -1) {

1516 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

1518 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
è!ğ
gtid
) {

1519 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

1521 
lck
->
lk
.
owÃr_id
 = 0;

1522  
	`__kmp_»Ëa£_queušg_lock
(
lck
, 
gtid
);

1523 
	}
}

1525 
	$__kmp_š™_queušg_lock
(
kmp_queušg_lock_t
 *
lck
) {

1526 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

1527 
lck
->
lk
.
h—d_id
 = 0;

1528 
lck
->
lk
.
_id
 = 0;

1529 
lck
->
lk
.
Ãxt_tick‘
 = 0;

1530 
lck
->
lk
.
now_£rvšg
 = 0;

1531 
lck
->
lk
.
owÃr_id
 = 0;

1532 
lck
->
lk
.
d•th_locked
 = -1;

1533 
lck
->
lk
.
š™Ÿlized
 =†ck;

1535 
	`KA_TRACE
(1000, ("__kmp_š™_queušg_lock:†ock %°š™Ÿlized\n", 
lck
));

1536 
	}
}

1538 
	$__kmp_de¡roy_queušg_lock
(
kmp_queušg_lock_t
 *
lck
) {

1539 
lck
->
lk
.
š™Ÿlized
 = 
NULL
;

1540 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

1541 
lck
->
lk
.
h—d_id
 = 0;

1542 
lck
->
lk
.
_id
 = 0;

1543 
lck
->
lk
.
Ãxt_tick‘
 = 0;

1544 
lck
->
lk
.
now_£rvšg
 = 0;

1545 
lck
->
lk
.
owÃr_id
 = 0;

1546 
lck
->
lk
.
d•th_locked
 = -1;

1547 
	}
}

1549 
	$__kmp_de¡roy_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
) {

1550 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

1551 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1552 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1554 ià(
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1555 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

1557 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
) != -1) {

1558 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

1560 
	`__kmp_de¡roy_queušg_lock
(
lck
);

1561 
	}
}

1565 
	$__kmp_acquœe_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1566 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1568 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
è=ğ
gtid
) {

1569 
lck
->
lk
.
d•th_locked
 += 1;

1570  
KMP_LOCK_ACQUIRED_NEXT
;

1572 
__kmp_acquœe_queušg_lock_timed_‹m¶©e
<
çl£
>(
lck
, 
gtid
);

1573 
	`ANNOTATE_QUEUING_ACQUIRED
(
lck
);

1574 
	`KMP_MB
();

1575 
lck
->
lk
.
d•th_locked
 = 1;

1576 
	`KMP_MB
();

1577 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

1578  
KMP_LOCK_ACQUIRED_FIRST
;

1580 
	}
}

1583 
	$__kmp_acquœe_Ã¡ed_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1584 
kmp_št32
 
gtid
) {

1585 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock";

1586 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1587 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1589 ià(!
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1590 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

1592  
	`__kmp_acquœe_Ã¡ed_queušg_lock
(
lck
, 
gtid
);

1593 
	}
}

1595 
	$__kmp_‹¡_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1596 
»tv®
;

1598 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1600 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
è=ğ
gtid
) {

1601 
»tv®
 = ++
lck
->
lk
.
d•th_locked
;

1602 } ià(!
	`__kmp_‹¡_queušg_lock
(
lck
, 
gtid
)) {

1603 
»tv®
 = 0;

1605 
	`KMP_MB
();

1606 
»tv®
 = 
lck
->
lk
.
d•th_locked
 = 1;

1607 
	`KMP_MB
();

1608 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

1610  
»tv®
;

1611 
	}
}

1613 
	$__kmp_‹¡_Ã¡ed_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1614 
kmp_št32
 
gtid
) {

1615 cÚ¡ *cÚ¡ 
func
 = "omp_test_nest_lock";

1616 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1617 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1619 ià(!
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1620 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

1622  
	`__kmp_‹¡_Ã¡ed_queušg_lock
(
lck
, 
gtid
);

1623 
	}
}

1625 
	$__kmp_»Ëa£_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

1626 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

1628 
	`KMP_MB
();

1629 ià(--(
lck
->
lk
.
d•th_locked
) == 0) {

1630 
	`KMP_MB
();

1631 
lck
->
lk
.
owÃr_id
 = 0;

1632 
	`__kmp_»Ëa£_queušg_lock
(
lck
, 
gtid
);

1633  
KMP_LOCK_RELEASED
;

1635  
KMP_LOCK_STILL_HELD
;

1636 
	}
}

1639 
	$__kmp_»Ëa£_Ã¡ed_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

1640 
kmp_št32
 
gtid
) {

1641 cÚ¡ *cÚ¡ 
func
 = "omp_unset_nest_lock";

1642 
	`KMP_MB
();

1643 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1644 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1646 ià(!
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1647 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

1649 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
) == -1) {

1650 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

1652 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
è!ğ
gtid
) {

1653 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

1655  
	`__kmp_»Ëa£_Ã¡ed_queušg_lock
(
lck
, 
gtid
);

1656 
	}
}

1658 
	$__kmp_š™_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
) {

1659 
	`__kmp_š™_queušg_lock
(
lck
);

1660 
lck
->
lk
.
d•th_locked
 = 0;

1661 
	}
}

1663 
	$__kmp_de¡roy_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
) {

1664 
	`__kmp_de¡roy_queušg_lock
(
lck
);

1665 
lck
->
lk
.
d•th_locked
 = 0;

1666 
	}
}

1669 
	$__kmp_de¡roy_Ã¡ed_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
) {

1670 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_nest_lock";

1671 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

1672 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

1674 ià(!
	`__kmp_is_queušg_lock_Ã¡abË
(
lck
)) {

1675 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

1677 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
lck
) != -1) {

1678 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

1680 
	`__kmp_de¡roy_Ã¡ed_queušg_lock
(
lck
);

1681 
	}
}

1685 cÚ¡ 
id’t_t
 *
	$__kmp_g‘_queušg_lock_loÿtiÚ
(
kmp_queušg_lock_t
 *
lck
) {

1686  
lck
->
lk
.
loÿtiÚ
;

1687 
	}
}

1689 
	$__kmp_£t_queušg_lock_loÿtiÚ
(
kmp_queušg_lock_t
 *
lck
,

1690 cÚ¡ 
id’t_t
 *
loc
) {

1691 
lck
->
lk
.
loÿtiÚ
 = 
loc
;

1692 
	}
}

1694 
kmp_lock_æags_t
 
	$__kmp_g‘_queušg_lock_æags
(
kmp_queušg_lock_t
 *
lck
) {

1695  
lck
->
lk
.
æags
;

1696 
	}
}

1698 
	$__kmp_£t_queušg_lock_æags
(
kmp_queušg_lock_t
 *
lck
,

1699 
kmp_lock_æags_t
 
æags
) {

1700 
lck
->
lk
.
æags
 = flags;

1701 
	}
}

1703 #ià
KMP_USE_ADAPTIVE_LOCKS


1707 #ià(
KMP_COMPILER_ICC
 && 
__INTEL_COMPILER
 >= 1300) || \

1708 (
	gKMP_COMPILER_MSVC
 && 
	g_MSC_VER
 >= 1700) || \

1709 (
KMP_COMPILER_CLANG
 && 
KMP_MSVC_COMPAT
)

1711 
	~<immšŒš.h
>

1712 
	#SOFT_ABORT_MASK
 (
_XABORT_RETRY
 | 
_XABORT_CONFLICT
 | 
_XABORT_EXPLICIT
)

	)

1717 
	#_XBEGIN_STARTED
 (~0u)

	)

1718 
	#_XABORT_EXPLICIT
 (1 << 0)

	)

1719 
	#_XABORT_RETRY
 (1 << 1)

	)

1720 
	#_XABORT_CONFLICT
 (1 << 2)

	)

1721 
	#_XABORT_CAPACITY
 (1 << 3)

	)

1722 
	#_XABORT_DEBUG
 (1 << 4)

	)

1723 
	#_XABORT_NESTED
 (1 << 5)

	)

1724 
	#_XABORT_CODE
(
x
è(()(((xè>> 24è& 0xFF))

	)

1727 
	#SOFT_ABORT_MASK
 (
_XABORT_RETRY
 | 
_XABORT_CONFLICT
 | 
_XABORT_EXPLICIT
)

	)

1729 
	#STRINGIZE_INTERNAL
(
¬g
è#¬g

	)

1730 
	#STRINGIZE
(
¬g
è
	`STRINGIZE_INTERNAL
×rg)

	)

1736 
__šlše
 
	$_xbegš
() {

1737 
»s
 = -1;

1739 #ià
KMP_OS_WINDOWS


1740 #ià
KMP_ARCH_X86_64


1741 
_asm
 {

1742 
_em™
 0xC7

1743 
_em™
 0xF8

1744 
_em™
 2

1745 
_em™
 0

1746 
_em™
 0

1747 
_em™
 0

1748 
jmp
 
L2


1749 
mov
 
»s
, 
—x


1750 
L2
:

1753 
_asm
 {

1754 
_em™
 0xC7

1755 
_em™
 0xF8

1756 
_em™
 2

1757 
_em™
 0

1758 
_em™
 0

1759 
_em™
 0

1760 
jmp
 
L2


1761 
mov
 
»s
, 
—x


1762 
L2
:

1773 
__asm__
 volatile("1: .byte 0xC7; .byte 0xF8;\n"

1778 : "+r"(
»s
)::"memory", "%eax");

1780  
»s
;

1781 
	}
}

1784 
__šlše
 
	$_x’d
() {

1785 #ià
KMP_OS_WINDOWS


1786 
__asm
 {

1787 
_em™
 0x0f

1788 
_em™
 0x01

1789 
_em™
 0xd5

1792 
__asm__
 volatile(".byte 0x0f; .byte 0x01; .byte 0xd5" ::: "memory");

1794 
	}
}

1800 #ià
KMP_OS_WINDOWS


1801 
	#_xabÜt
(
ARG
è
_asm
 
_em™
 0xc6 _asm _em™ 0xf8 _asm _em™ 
	)
ARG

1803 
	#_xabÜt
(
ARG
) \

1804 
__asm__
 vŞ©e(".by‹ 0xC6; .by‹ 0xF8; .by‹ " 
	`STRINGIZE
(
ARG
):::"memÜy");

	)

1810 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


1815 
kmp_ad­tive_lock_¡©i¡ics_t
 
	gde¡royedSts
;

1818 
kmp_ad­tive_lock_šfo_t
 
	gliveLocks
;

1821 
kmp_boÙ¡¿p_lock_t
 
	gchaš_lock
 =

1822 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(
chaš_lock
);

1825 
	$__kmp_š™_¥ecuÏtive_¡©s
() {

1826 
kmp_ad­tive_lock_šfo_t
 *
lck
 = &
liveLocks
;

1828 
	`mem£t
(
	`CCAST
(
kmp_ad­tive_lock_¡©i¡ics_t
 *, &(
lck
->
¡©s
)), 0,

1829 (
lck
->
¡©s
));

1830 
lck
->
¡©s
.
Ãxt
 =†ck;

1831 
lck
->
¡©s
.
´ev
 =†ck;

1833 
	`KMP_ASSERT
(
lck
->
¡©s
.
Ãxt
->¡©s.
´ev
 ==†ck);

1834 
	`KMP_ASSERT
(
lck
->
¡©s
.
´ev
->¡©s.
Ãxt
 ==†ck);

1836 
	`__kmp_š™_boÙ¡¿p_lock
(&
chaš_lock
);

1837 
	}
}

1840 
	$__kmp_»memb”_lock
(
kmp_ad­tive_lock_šfo_t
 *
lck
) {

1841 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
chaš_lock
);

1843 
lck
->
¡©s
.
Ãxt
 = 
liveLocks
.stats.next;

1844 
lck
->
¡©s
.
´ev
 = &
liveLocks
;

1846 
liveLocks
.
¡©s
.
Ãxt
 = 
lck
;

1847 
lck
->
¡©s
.
Ãxt
->¡©s.
´ev
 =†ck;

1849 
	`KMP_ASSERT
(
lck
->
¡©s
.
Ãxt
->¡©s.
´ev
 ==†ck);

1850 
	`KMP_ASSERT
(
lck
->
¡©s
.
´ev
->¡©s.
Ãxt
 ==†ck);

1852 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
chaš_lock
);

1853 
	}
}

1855 
	$__kmp_fÜg‘_lock
(
kmp_ad­tive_lock_šfo_t
 *
lck
) {

1856 
	`KMP_ASSERT
(
lck
->
¡©s
.
Ãxt
->¡©s.
´ev
 ==†ck);

1857 
	`KMP_ASSERT
(
lck
->
¡©s
.
´ev
->¡©s.
Ãxt
 ==†ck);

1859 
kmp_ad­tive_lock_šfo_t
 *
n
 = 
lck
->
¡©s
.
Ãxt
;

1860 
kmp_ad­tive_lock_šfo_t
 *
p
 = 
lck
->
¡©s
.
´ev
;

1862 
n
->
¡©s
.
´ev
 = 
p
;

1863 
p
->
¡©s
.
Ãxt
 = 
n
;

1864 
	}
}

1866 
	$__kmp_z”o_¥ecuÏtive_¡©s
(
kmp_ad­tive_lock_šfo_t
 *
lck
) {

1867 
	`mem£t
(
	`CCAST
(
kmp_ad­tive_lock_¡©i¡ics_t
 *, &
lck
->
¡©s
), 0,

1868 (
lck
->
¡©s
));

1869 
	`__kmp_»memb”_lock
(
lck
);

1870 
	}
}

1872 
	$__kmp_add_¡©s
(
kmp_ad­tive_lock_¡©i¡ics_t
 *
t
,

1873 
kmp_ad­tive_lock_šfo_t
 *
lck
) {

1874 
kmp_ad­tive_lock_¡©i¡ics_t
 vŞ©*
s
 = &
lck
->
¡©s
;

1876 
t
->
nÚS³cuÏtiveAcquœeA‰em±s
 +ğ
lck
->
acquœe_©‹m±s
;

1877 
t
->
sucûssfulS³cuÏtiÚs
 +ğ
s
->successfulSpeculations;

1878 
t
->
h¬dFaedS³cuÏtiÚs
 +ğ
s
->hardFailedSpeculations;

1879 
t
->
soáFaedS³cuÏtiÚs
 +ğ
s
->softFailedSpeculations;

1880 
t
->
nÚS³cuÏtiveAcquœes
 +ğ
s
->nonSpeculativeAcquires;

1881 
t
->
ËmmšgY›lds
 +ğ
s
->lemmingYields;

1882 
	}
}

1884 
	$__kmp_accumuÏ‹_¥ecuÏtive_¡©s
(
kmp_ad­tive_lock_šfo_t
 *
lck
) {

1885 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
chaš_lock
);

1887 
	`__kmp_add_¡©s
(&
de¡royedSts
, 
lck
);

1888 
	`__kmp_fÜg‘_lock
(
lck
);

1890 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
chaš_lock
);

1891 
	}
}

1893 
	$³rûÁ
(
kmp_ušt32
 
couÁ
, kmp_ušt32 
tÙ®
) {

1894  (
tÙ®
 =ğ0è? 0.0 : (100.0 * 
couÁ
) /otal;

1895 
	}
}

1897 
FILE
 *
	$__kmp_İ’_¡©s_fe
() {

1898 ià(
	`¡rcmp
(
__kmp_¥ecuÏtive_¡©sfe
, "-") == 0)

1899  
¡dout
;

1901 
size_t
 
buffL’
 = 
	`KMP_STRLEN
(
__kmp_¥ecuÏtive_¡©sfe
) + 20;

1902 
bufãr
[
buffL’
];

1903 
	`KMP_SNPRINTF
(&
bufãr
[0], 
buffL’
, 
__kmp_¥ecuÏtive_¡©sfe
,

1904 (
kmp_št32
)
	`g‘pid
());

1905 
FILE
 *
»suÉ
 = 
	`fİ’
(&
bufãr
[0], "w");

1908  
»suÉ
 ?„esuÉ : 
¡dout
;

1909 
	}
}

1911 
	$__kmp_´št_¥ecuÏtive_¡©s
() {

1912 
kmp_ad­tive_lock_¡©i¡ics_t
 
tÙ®
 = 
de¡royedSts
;

1913 
kmp_ad­tive_lock_šfo_t
 *
lck
;

1915 
lck
 = 
liveLocks
.
¡©s
.
Ãxt
;†ck != &liveLocks;†ck =†ck->stats.next) {

1916 
	`__kmp_add_¡©s
(&
tÙ®
, 
lck
);

1918 
kmp_ad­tive_lock_¡©i¡ics_t
 *
t
 = &
tÙ®
;

1919 
kmp_ušt32
 
tÙ®SeùiÚs
 =

1920 
t
->
nÚS³cuÏtiveAcquœes
 +->
sucûssfulS³cuÏtiÚs
;

1921 
kmp_ušt32
 
tÙ®S³cuÏtiÚs
 = 
t
->
sucûssfulS³cuÏtiÚs
 +

1922 
t
->
h¬dFaedS³cuÏtiÚs
 +

1923 
t
->
soáFaedS³cuÏtiÚs
;

1924 ià(
tÙ®SeùiÚs
 <= 0)

1927 
FILE
 *
¡©sFe
 = 
	`__kmp_İ’_¡©s_fe
();

1929 
	`årštf
(
¡©sFe
, "Speculative†ock statistics (all‡pproximate!)\n");

1930 
	`årštf
(
¡©sFe
, " Lock…arameters: \n"

1933 
__kmp_ad­tive_backoff_·¿ms
.
max_soá_»Œ›s
,

1934 
__kmp_ad­tive_backoff_·¿ms
.
max_badÃss
);

1935 
	`årštf
(
¡©sFe
, " Non-speculative‡cquire‡ttempts : %10d\n",

1936 
t
->
nÚS³cuÏtiveAcquœeA‰em±s
);

1937 
	`årštf
(
¡©sFe
, " Total critical sections : %10d\n",

1938 
tÙ®SeùiÚs
);

1939 
	`årštf
(
¡©sFe
, " Successful speculations : %10d (%5.1f%%)\n",

1940 
t
->
sucûssfulS³cuÏtiÚs
,

1941 
	`³rûÁ
(
t
->
sucûssfulS³cuÏtiÚs
, 
tÙ®SeùiÚs
));

1942 
	`årštf
(
¡©sFe
, " Non-speculative‡cquires : %10d (%5.1f%%)\n",

1943 
t
->
nÚS³cuÏtiveAcquœes
,

1944 
	`³rûÁ
(
t
->
nÚS³cuÏtiveAcquœes
, 
tÙ®SeùiÚs
));

1945 
	`årštf
(
¡©sFe
, " Lemming yields : %10d\n\n",

1946 
t
->
ËmmšgY›lds
);

1948 
	`årštf
(
¡©sFe
, " Speculative‡cquire‡ttempts : %10d\n",

1949 
tÙ®S³cuÏtiÚs
);

1950 
	`årštf
(
¡©sFe
, " Successes : %10d (%5.1f%%)\n",

1951 
t
->
sucûssfulS³cuÏtiÚs
,

1952 
	`³rûÁ
(
t
->
sucûssfulS³cuÏtiÚs
, 
tÙ®S³cuÏtiÚs
));

1953 
	`årštf
(
¡©sFe
, " Soft failures : %10d (%5.1f%%)\n",

1954 
t
->
soáFaedS³cuÏtiÚs
,

1955 
	`³rûÁ
(
t
->
soáFaedS³cuÏtiÚs
, 
tÙ®S³cuÏtiÚs
));

1956 
	`årštf
(
¡©sFe
, " Hard failures : %10d (%5.1f%%)\n",

1957 
t
->
h¬dFaedS³cuÏtiÚs
,

1958 
	`³rûÁ
(
t
->
h¬dFaedS³cuÏtiÚs
, 
tÙ®S³cuÏtiÚs
));

1960 ià(
¡©sFe
 !ğ
¡dout
)

1961 
	`fşo£
(
¡©sFe
);

1962 
	}
}

1964 
	#KMP_INC_STAT
(
lck
, 
¡©
èÖck->
lk
.
ad­tive
.
¡©s
.¡©++)

	)

1966 
	#KMP_INC_STAT
(
lck
, 
¡©
)

	)

1970 
šlše
 
boŞ
 
	$__kmp_is_uÆocked_queušg_lock
(
kmp_queušg_lock_t
 *
lck
) {

1973 
boŞ
 
»s
 = 
lck
->
lk
.
h—d_id
 == 0;

1977 #ià
KMP_COMPILER_ICC


1978 
	`_mm_mãnû
();

1980 
	`__sync_synchrÚize
();

1983  
»s
;

1984 
	}
}

1987 
__šlše
 

1988 
	$__kmp_upd©e_badÃss_aá”_sucûss
(
kmp_ad­tive_lock_t
 *
lck
) {

1990 
lck
->
lk
.
ad­tive
.
badÃss
 = 0;

1991 
	`KMP_INC_STAT
(
lck
, 
sucûssfulS³cuÏtiÚs
);

1992 
	}
}

1995 
__šlše
 
	$__kmp_¡•_badÃss
(
kmp_ad­tive_lock_t
 *
lck
) {

1996 
kmp_ušt32
 
ÃwBadÃss
 = (
lck
->
lk
.
ad­tive
.
badÃss
 << 1) | 1;

1997 ià(
ÃwBadÃss
 > 
lck
->
lk
.
ad­tive
.
max_badÃss
) {

2000 
lck
->
lk
.
ad­tive
.
badÃss
 = 
ÃwBadÃss
;

2002 
	}
}

2005 
__šlše
 
	$__kmp_should_¥ecuÏ‹
(
kmp_ad­tive_lock_t
 *
lck
,

2006 
kmp_št32
 
gtid
) {

2007 
kmp_ušt32
 
badÃss
 = 
lck
->
lk
.
ad­tive
.badness;

2008 
kmp_ušt32
 
©‹m±s
 = 
lck
->
lk
.
ad­tive
.
acquœe_©‹m±s
;

2009 
»s
 = (
©‹m±s
 & 
badÃss
) == 0;

2010  
»s
;

2011 
	}
}

2015 
	$__kmp_‹¡_ad­tive_lock_Úly
(
kmp_ad­tive_lock_t
 *
lck
,

2016 
kmp_št32
 
gtid
) {

2017 
»Œ›s
 = 
lck
->
lk
.
ad­tive
.
max_soá_»Œ›s
;

2024 
kmp_ušt32
 
¡©us
 = 
	`_xbegš
();

2029 ià(
¡©us
 =ğ
_XBEGIN_STARTED
) {

2034 ià(!
	`__kmp_is_uÆocked_queušg_lock
(
	`GET_QLK_PTR
(
lck
))) {

2037 
	`_xabÜt
(0x01);

2038 
	`KMP_ASSERT2
(0, "should‚ot get here");

2043 ià(
¡©us
 & 
SOFT_ABORT_MASK
) {

2044 
	`KMP_INC_STAT
(
lck
, 
soáFaedS³cuÏtiÚs
);

2047 
	`KMP_INC_STAT
(
lck
, 
h¬dFaedS³cuÏtiÚs
);

2052 } 
»Œ›s
--);

2056 
	`__kmp_¡•_badÃss
(
lck
);

2058 
	}
}

2063 
	$__kmp_‹¡_ad­tive_lock
(
kmp_ad­tive_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2065 ià(
	`__kmp_should_¥ecuÏ‹
(
lck
, 
gtid
) &&

2066 
	`__kmp_‹¡_ad­tive_lock_Úly
(
lck
, 
gtid
))

2071 
lck
->
lk
.
ad­tive
.
acquœe_©‹m±s
++;

2074 ià(
	`__kmp_‹¡_queušg_lock
(
	`GET_QLK_PTR
(
lck
), 
gtid
)) {

2075 
	`KMP_INC_STAT
(
lck
, 
nÚS³cuÏtiveAcquœes
);

2080 
	}
}

2082 
	$__kmp_‹¡_ad­tive_lock_w™h_checks
(
kmp_ad­tive_lock_t
 *
lck
,

2083 
kmp_št32
 
gtid
) {

2084 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

2085 ià(
lck
->
lk
.
qlk
.
š™Ÿlized
 !ğ
	`GET_QLK_PTR
(lck)) {

2086 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2089 
»tv®
 = 
	`__kmp_‹¡_ad­tive_lock
(
lck
, 
gtid
);

2091 ià(
»tv®
) {

2092 
lck
->
lk
.
qlk
.
owÃr_id
 = 
gtid
 + 1;

2094  
»tv®
;

2095 
	}
}

2108 
	$__kmp_acquœe_ad­tive_lock
(
kmp_ad­tive_lock_t
 *
lck
,

2109 
kmp_št32
 
gtid
) {

2110 ià(
	`__kmp_should_¥ecuÏ‹
(
lck
, 
gtid
)) {

2111 ià(
	`__kmp_is_uÆocked_queušg_lock
(
	`GET_QLK_PTR
(
lck
))) {

2112 ià(
	`__kmp_‹¡_ad­tive_lock_Úly
(
lck
, 
gtid
))

2121 !
	`__kmp_is_uÆocked_queušg_lock
(
	`GET_QLK_PTR
(
lck
))) {

2122 
	`KMP_INC_STAT
(
lck
, 
ËmmšgY›lds
);

2123 
	`KMP_YIELD
(
TRUE
);

2126 ià(
	`__kmp_‹¡_ad­tive_lock_Úly
(
lck
, 
gtid
))

2133 
lck
->
lk
.
ad­tive
.
acquœe_©‹m±s
++;

2135 
__kmp_acquœe_queušg_lock_timed_‹m¶©e
<
FALSE
>(
	`GET_QLK_PTR
(
lck
), 
gtid
);

2137 
	`KMP_INC_STAT
(
lck
, 
nÚS³cuÏtiveAcquœes
);

2138 
	`ANNOTATE_QUEUING_ACQUIRED
(
lck
);

2139 
	}
}

2141 
	$__kmp_acquœe_ad­tive_lock_w™h_checks
(
kmp_ad­tive_lock_t
 *
lck
,

2142 
kmp_št32
 
gtid
) {

2143 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

2144 ià(
lck
->
lk
.
qlk
.
š™Ÿlized
 !ğ
	`GET_QLK_PTR
(lck)) {

2145 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2147 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
	`GET_QLK_PTR
(
lck
)è=ğ
gtid
) {

2148 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

2151 
	`__kmp_acquœe_ad­tive_lock
(
lck
, 
gtid
);

2153 
lck
->
lk
.
qlk
.
owÃr_id
 = 
gtid
 + 1;

2154 
	}
}

2156 
	$__kmp_»Ëa£_ad­tive_lock
(
kmp_ad­tive_lock_t
 *
lck
,

2157 
kmp_št32
 
gtid
) {

2158 ià(
	`__kmp_is_uÆocked_queušg_lock
(
	`GET_QLK_PTR
(

2159 
lck
))) {

2162 
	`_x’d
();

2163 
	`__kmp_upd©e_badÃss_aá”_sucûss
(
lck
);

2166 
	`__kmp_»Ëa£_queušg_lock
(
	`GET_QLK_PTR
(
lck
), 
gtid
);

2168  
KMP_LOCK_RELEASED
;

2169 
	}
}

2171 
	$__kmp_»Ëa£_ad­tive_lock_w™h_checks
(
kmp_ad­tive_lock_t
 *
lck
,

2172 
kmp_št32
 
gtid
) {

2173 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

2174 
	`KMP_MB
();

2175 ià(
lck
->
lk
.
qlk
.
š™Ÿlized
 !ğ
	`GET_QLK_PTR
(lck)) {

2176 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2178 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
	`GET_QLK_PTR
(
lck
)) == -1) {

2179 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

2181 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
	`GET_QLK_PTR
(
lck
)è!ğ
gtid
) {

2182 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

2184 
lck
->
lk
.
qlk
.
owÃr_id
 = 0;

2185 
	`__kmp_»Ëa£_ad­tive_lock
(
lck
, 
gtid
);

2186  
KMP_LOCK_RELEASED
;

2187 
	}
}

2189 
	$__kmp_š™_ad­tive_lock
(
kmp_ad­tive_lock_t
 *
lck
) {

2190 
	`__kmp_š™_queušg_lock
(
	`GET_QLK_PTR
(
lck
));

2191 
lck
->
lk
.
ad­tive
.
badÃss
 = 0;

2192 
lck
->
lk
.
ad­tive
.
acquœe_©‹m±s
 = 0;

2193 
lck
->
lk
.
ad­tive
.
max_soá_»Œ›s
 =

2194 
__kmp_ad­tive_backoff_·¿ms
.
max_soá_»Œ›s
;

2195 
lck
->
lk
.
ad­tive
.
max_badÃss
 = 
__kmp_ad­tive_backoff_·¿ms
.max_badness;

2196 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


2197 
	`__kmp_z”o_¥ecuÏtive_¡©s
(&
lck
->
lk
.
ad­tive
);

2199 
	`KA_TRACE
(1000, ("__kmp_š™_ad­tive_lock:†ock %°š™Ÿlized\n", 
lck
));

2200 
	}
}

2202 
	$__kmp_de¡roy_ad­tive_lock
(
kmp_ad­tive_lock_t
 *
lck
) {

2203 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


2204 
	`__kmp_accumuÏ‹_¥ecuÏtive_¡©s
(&
lck
->
lk
.
ad­tive
);

2206 
	`__kmp_de¡roy_queušg_lock
(
	`GET_QLK_PTR
(
lck
));

2208 
	}
}

2210 
	$__kmp_de¡roy_ad­tive_lock_w™h_checks
(
kmp_ad­tive_lock_t
 *
lck
) {

2211 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

2212 ià(
lck
->
lk
.
qlk
.
š™Ÿlized
 !ğ
	`GET_QLK_PTR
(lck)) {

2213 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2215 ià(
	`__kmp_g‘_queušg_lock_owÃr
(
	`GET_QLK_PTR
(
lck
)) != -1) {

2216 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

2218 
	`__kmp_de¡roy_ad­tive_lock
(
lck
);

2219 
	}
}

2227 
kmp_št32
 
	$__kmp_g‘_drd·_lock_owÃr
(
kmp_drd·_lock_t
 *
lck
) {

2228  
lck
->
lk
.
owÃr_id
 - 1;

2229 
	}
}

2231 
šlše
 
boŞ
 
	$__kmp_is_drd·_lock_Ã¡abË
(
kmp_drd·_lock_t
 *
lck
) {

2232  
lck
->
lk
.
d•th_locked
 != -1;

2233 
	}
}

2235 
__fÜûšlše
 

2236 
	$__kmp_acquœe_drd·_lock_timed_‹m¶©e
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2237 
kmp_ušt64
 
tick‘
 = 
	`KMP_ATOMIC_INC
(&
lck
->
lk
.
Ãxt_tick‘
);

2238 
kmp_ušt64
 
mask
 = 
lck
->
lk
.mask;

2239 
¡d
::
©omic
<
kmp_ušt64
> *
pŞls
 = 
lck
->
lk
.polls;

2241 #ifdeà
USE_LOCK_PROFILE


2242 ià(
pŞls
[
tick‘
 & 
mask
] !=icket)

2243 
	`__kmp_´štf
("LOCK CONTENTION: %p\n", 
lck
);

2254 
kmp_ušt32
 
¥šs
;

2255 
	`KMP_FSYNC_PREPARE
(
lck
);

2256 
	`KMP_INIT_YIELD
(
¥šs
);

2257 
pŞls
[
tick‘
 & 
mask
] <icket) {

2258 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

2266 
mask
 = 
lck
->
lk
.mask;

2267 
pŞls
 = 
lck
->
lk
.polls;

2271 
	`KMP_FSYNC_ACQUIRED
(
lck
);

2272 
	`KA_TRACE
(1000, ("__kmp_acquire_drdpa_lock:icket #%lld‡cquired†ock %p\n",

2273 
tick‘
, 
lck
));

2274 
lck
->
lk
.
now_£rvšg
 = 
tick‘
;

2281 ià((
lck
->
lk
.
Şd_pŞls
 !ğ
NULL
è&& (
tick‘
 >ğlck->lk.
ş—nup_tick‘
)) {

2282 
	`__kmp_ä“
(
lck
->
lk
.
Şd_pŞls
);

2283 
lck
->
lk
.
Şd_pŞls
 = 
NULL
;

2284 
lck
->
lk
.
ş—nup_tick‘
 = 0;

2290 ià(
lck
->
lk
.
Şd_pŞls
 =ğ
NULL
) {

2291 
boŞ
 
»cÚfigu»
 = 
çl£
;

2292 
¡d
::
©omic
<
kmp_ušt64
> *
Şd_pŞls
 = 
pŞls
;

2293 
kmp_ušt32
 
num_pŞls
 = 
	`TCR_4
(
lck
->
lk
.num_polls);

2295 ià(
	`TCR_4
(
__kmp_Áh
) >

2296 (
__kmp_ava_´oc
 ? __kmp_ava_´oø: 
__kmp_x´oc
)) {

2299 ià(
num_pŞls
 > 1) {

2300 
»cÚfigu»
 = 
Œue
;

2301 
num_pŞls
 = 
	`TCR_4
(
lck
->
lk
.num_polls);

2302 
mask
 = 0;

2303 
num_pŞls
 = 1;

2304 
pŞls
 = (
¡d
::
©omic
<
kmp_ušt64
> *)
	`__kmp_®loÿ‹
(
num_pŞls
 *

2305 (*
pŞls
));

2306 
pŞls
[0] = 
tick‘
;

2312 
kmp_ušt64
 
num_wa™šg
 = 
	`TCR_8
(
lck
->
lk
.
Ãxt_tick‘
è- 
tick‘
 - 1;

2313 ià(
num_wa™šg
 > 
num_pŞls
) {

2314 
kmp_ušt32
 
Şd_num_pŞls
 = 
num_pŞls
;

2315 
»cÚfigu»
 = 
Œue
;

2317 
mask
 = (mask << 1) | 1;

2318 
num_pŞls
 *= 2;

2319 } 
num_pŞls
 <ğ
num_wa™šg
);

2325 
pŞls
 = (
¡d
::
©omic
<
kmp_ušt64
> *)
	`__kmp_®loÿ‹
(
num_pŞls
 *

2326 (*
pŞls
));

2327 
kmp_ušt32
 
i
;

2328 
i
 = 0; i < 
Şd_num_pŞls
; i++) {

2329 
pŞls
[
i
].
	`¡Üe
(
Şd_pŞls
[i]);

2334 ià(
»cÚfigu»
) {

2344 
	`KA_TRACE
(1000, ("__kmp_acquire_drdpa_lock:icket #%lld„econfiguring "

2346 
tick‘
, 
lck
, 
num_pŞls
));

2348 
lck
->
lk
.
Şd_pŞls
 = old_polls;

2349 
lck
->
lk
.
pŞls
 =…olls;

2351 
	`KMP_MB
();

2353 
lck
->
lk
.
num_pŞls
 =‚um_polls;

2354 
lck
->
lk
.
mask
 = mask;

2356 
	`KMP_MB
();

2362 
lck
->
lk
.
ş—nup_tick‘
 =†ck->lk.
Ãxt_tick‘
;

2365  
KMP_LOCK_ACQUIRED_FIRST
;

2366 
	}
}

2368 
	$__kmp_acquœe_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2369 
»tv®
 = 
	`__kmp_acquœe_drd·_lock_timed_‹m¶©e
(
lck
, 
gtid
);

2370 
	`ANNOTATE_DRDPA_ACQUIRED
(
lck
);

2371  
»tv®
;

2372 
	}
}

2374 
	$__kmp_acquœe_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2375 
kmp_št32
 
gtid
) {

2376 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock";

2377 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2378 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2380 ià(
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2381 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

2383 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) == gtid)) {

2384 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
);

2387 
	`__kmp_acquœe_drd·_lock
(
lck
, 
gtid
);

2389 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

2390  
KMP_LOCK_ACQUIRED_FIRST
;

2391 
	}
}

2393 
	$__kmp_‹¡_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2396 
kmp_ušt64
 
tick‘
 = 
lck
->
lk
.
Ãxt_tick‘
;

2397 
¡d
::
©omic
<
kmp_ušt64
> *
pŞls
 = 
lck
->
lk
.polls;

2398 
kmp_ušt64
 
mask
 = 
lck
->
lk
.mask;

2399 ià(
pŞls
[
tick‘
 & 
mask
] ==icket) {

2400 
kmp_ušt64
 
Ãxt_tick‘
 = 
tick‘
 + 1;

2401 ià(
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
lk
.
Ãxt_tick‘
, 
tick‘
,

2402 
Ãxt_tick‘
)) {

2403 
	`KMP_FSYNC_ACQUIRED
(
lck
);

2404 
	`KA_TRACE
(1000, ("__kmp_test_drdpa_lock:icket #%lld‡cquired†ock %p\n",

2405 
tick‘
, 
lck
));

2406 
lck
->
lk
.
now_£rvšg
 = 
tick‘
;

2414  
TRUE
;

2417  
FALSE
;

2418 
	}
}

2420 
	$__kmp_‹¡_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2421 
kmp_št32
 
gtid
) {

2422 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

2423 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2424 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2426 ià(
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2427 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

2430 
»tv®
 = 
	`__kmp_‹¡_drd·_lock
(
lck
, 
gtid
);

2432 ià(
»tv®
) {

2433 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

2435  
»tv®
;

2436 
	}
}

2438 
	$__kmp_»Ëa£_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2441 
kmp_ušt64
 
tick‘
 = 
lck
->
lk
.
now_£rvšg
 + 1;

2442 
¡d
::
©omic
<
kmp_ušt64
> *
pŞls
 = 
lck
->
lk
.polls;

2443 
kmp_ušt64
 
mask
 = 
lck
->
lk
.mask;

2444 
	`KA_TRACE
(1000, ("__kmp_release_drdpa_lock:icket #%lld„eleased†ock %p\n",

2445 
tick‘
 - 1, 
lck
));

2446 
	`KMP_FSYNC_RELEASING
(
lck
);

2447 
	`ANNOTATE_DRDPA_RELEASED
(
lck
);

2448 
pŞls
[
tick‘
 & 
mask
] =icket;

2449  
KMP_LOCK_RELEASED
;

2450 
	}
}

2452 
	$__kmp_»Ëa£_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2453 
kmp_št32
 
gtid
) {

2454 cÚ¡ *cÚ¡ 
func
 = "omp_unset_lock";

2455 
	`KMP_MB
();

2456 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2457 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2459 ià(
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2460 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

2462 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) == -1) {

2463 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

2465 ià((
gtid
 >ğ0è&& (
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) >= 0) &&

2466 (
	`__kmp_g‘_drd·_lock_owÃr
(
lck
è!ğ
gtid
)) {

2467 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

2469 
lck
->
lk
.
owÃr_id
 = 0;

2470  
	`__kmp_»Ëa£_drd·_lock
(
lck
, 
gtid
);

2471 
	}
}

2473 
	$__kmp_š™_drd·_lock
(
kmp_drd·_lock_t
 *
lck
) {

2474 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

2475 
lck
->
lk
.
mask
 = 0;

2476 
lck
->
lk
.
num_pŞls
 = 1;

2477 
lck
->
lk
.
pŞls
 = (
¡d
::
©omic
<
kmp_ušt64
> *)
	`__kmp_®loÿ‹
(

2478 
lck
->
lk
.
num_pŞls
 * (*Öck->lk.
pŞls
)));

2479 
lck
->
lk
.
ş—nup_tick‘
 = 0;

2480 
lck
->
lk
.
Şd_pŞls
 = 
NULL
;

2481 
lck
->
lk
.
Ãxt_tick‘
 = 0;

2482 
lck
->
lk
.
now_£rvšg
 = 0;

2483 
lck
->
lk
.
owÃr_id
 = 0;

2484 
lck
->
lk
.
d•th_locked
 = -1;

2485 
lck
->
lk
.
š™Ÿlized
 =†ck;

2487 
	`KA_TRACE
(1000, ("__kmp_š™_drd·_lock:†ock %°š™Ÿlized\n", 
lck
));

2488 
	}
}

2490 
	$__kmp_de¡roy_drd·_lock
(
kmp_drd·_lock_t
 *
lck
) {

2491 
lck
->
lk
.
š™Ÿlized
 = 
NULL
;

2492 
lck
->
lk
.
loÿtiÚ
 = 
NULL
;

2493 ià(
lck
->
lk
.
pŞls
.
	`lßd
(è!ğ
NULL
) {

2494 
	`__kmp_ä“
(
lck
->
lk
.
pŞls
.
	`lßd
());

2495 
lck
->
lk
.
pŞls
 = 
NULL
;

2497 ià(
lck
->
lk
.
Şd_pŞls
 !ğ
NULL
) {

2498 
	`__kmp_ä“
(
lck
->
lk
.
Şd_pŞls
);

2499 
lck
->
lk
.
Şd_pŞls
 = 
NULL
;

2501 
lck
->
lk
.
mask
 = 0;

2502 
lck
->
lk
.
num_pŞls
 = 0;

2503 
lck
->
lk
.
ş—nup_tick‘
 = 0;

2504 
lck
->
lk
.
Ãxt_tick‘
 = 0;

2505 
lck
->
lk
.
now_£rvšg
 = 0;

2506 
lck
->
lk
.
owÃr_id
 = 0;

2507 
lck
->
lk
.
d•th_locked
 = -1;

2508 
	}
}

2510 
	$__kmp_de¡roy_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
) {

2511 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_lock";

2512 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2513 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2515 ià(
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2516 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

2518 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) != -1) {

2519 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

2521 
	`__kmp_de¡roy_drd·_lock
(
lck
);

2522 
	}
}

2526 
	$__kmp_acquœe_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2527 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

2529 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
è=ğ
gtid
) {

2530 
lck
->
lk
.
d•th_locked
 += 1;

2531  
KMP_LOCK_ACQUIRED_NEXT
;

2533 
	`__kmp_acquœe_drd·_lock_timed_‹m¶©e
(
lck
, 
gtid
);

2534 
	`ANNOTATE_DRDPA_ACQUIRED
(
lck
);

2535 
	`KMP_MB
();

2536 
lck
->
lk
.
d•th_locked
 = 1;

2537 
	`KMP_MB
();

2538 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

2539  
KMP_LOCK_ACQUIRED_FIRST
;

2541 
	}
}

2543 
	$__kmp_acquœe_Ã¡ed_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2544 
kmp_št32
 
gtid
) {

2545 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock";

2546 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2547 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2549 ià(!
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2550 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

2552 
	`__kmp_acquœe_Ã¡ed_drd·_lock
(
lck
, 
gtid
);

2553 
	}
}

2555 
	$__kmp_‹¡_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2556 
»tv®
;

2558 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

2560 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
è=ğ
gtid
) {

2561 
»tv®
 = ++
lck
->
lk
.
d•th_locked
;

2562 } ià(!
	`__kmp_‹¡_drd·_lock
(
lck
, 
gtid
)) {

2563 
»tv®
 = 0;

2565 
	`KMP_MB
();

2566 
»tv®
 = 
lck
->
lk
.
d•th_locked
 = 1;

2567 
	`KMP_MB
();

2568 
lck
->
lk
.
owÃr_id
 = 
gtid
 + 1;

2570  
»tv®
;

2571 
	}
}

2573 
	$__kmp_‹¡_Ã¡ed_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2574 
kmp_št32
 
gtid
) {

2575 cÚ¡ *cÚ¡ 
func
 = "omp_test_nest_lock";

2576 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2577 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2579 ià(!
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2580 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

2582  
	`__kmp_‹¡_Ã¡ed_drd·_lock
(
lck
, 
gtid
);

2583 
	}
}

2585 
	$__kmp_»Ëa£_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2586 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

2588 
	`KMP_MB
();

2589 ià(--(
lck
->
lk
.
d•th_locked
) == 0) {

2590 
	`KMP_MB
();

2591 
lck
->
lk
.
owÃr_id
 = 0;

2592 
	`__kmp_»Ëa£_drd·_lock
(
lck
, 
gtid
);

2593  
KMP_LOCK_RELEASED
;

2595  
KMP_LOCK_STILL_HELD
;

2596 
	}
}

2598 
	$__kmp_»Ëa£_Ã¡ed_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
,

2599 
kmp_št32
 
gtid
) {

2600 cÚ¡ *cÚ¡ 
func
 = "omp_unset_nest_lock";

2601 
	`KMP_MB
();

2602 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2603 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2605 ià(!
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2606 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

2608 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) == -1) {

2609 
	`KMP_FATAL
(
LockUn£‰šgF»e
, 
func
);

2611 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
è!ğ
gtid
) {

2612 
	`KMP_FATAL
(
LockUn£‰šgS‘ByAnÙh”
, 
func
);

2614  
	`__kmp_»Ëa£_Ã¡ed_drd·_lock
(
lck
, 
gtid
);

2615 
	}
}

2617 
	$__kmp_š™_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
) {

2618 
	`__kmp_š™_drd·_lock
(
lck
);

2619 
lck
->
lk
.
d•th_locked
 = 0;

2620 
	}
}

2622 
	$__kmp_de¡roy_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
) {

2623 
	`__kmp_de¡roy_drd·_lock
(
lck
);

2624 
lck
->
lk
.
d•th_locked
 = 0;

2625 
	}
}

2627 
	$__kmp_de¡roy_Ã¡ed_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
) {

2628 cÚ¡ *cÚ¡ 
func
 = "omp_destroy_nest_lock";

2629 ià(
lck
->
lk
.
š™Ÿlized
 !=†ck) {

2630 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

2632 ià(!
	`__kmp_is_drd·_lock_Ã¡abË
(
lck
)) {

2633 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

2635 ià(
	`__kmp_g‘_drd·_lock_owÃr
(
lck
) != -1) {

2636 
	`KMP_FATAL
(
LockStlOwÃd
, 
func
);

2638 
	`__kmp_de¡roy_Ã¡ed_drd·_lock
(
lck
);

2639 
	}
}

2643 cÚ¡ 
id’t_t
 *
	$__kmp_g‘_drd·_lock_loÿtiÚ
(
kmp_drd·_lock_t
 *
lck
) {

2644  
lck
->
lk
.
loÿtiÚ
;

2645 
	}
}

2647 
	$__kmp_£t_drd·_lock_loÿtiÚ
(
kmp_drd·_lock_t
 *
lck
,

2648 cÚ¡ 
id’t_t
 *
loc
) {

2649 
lck
->
lk
.
loÿtiÚ
 = 
loc
;

2650 
	}
}

2652 
kmp_lock_æags_t
 
	$__kmp_g‘_drd·_lock_æags
(
kmp_drd·_lock_t
 *
lck
) {

2653  
lck
->
lk
.
æags
;

2654 
	}
}

2656 
	$__kmp_£t_drd·_lock_æags
(
kmp_drd·_lock_t
 *
lck
,

2657 
kmp_lock_æags_t
 
æags
) {

2658 
lck
->
lk
.
æags
 = flags;

2659 
	}
}

2662 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2663 
	#__kmp_tsc
(è
	`__kmp_h¬dw¬e_time¡amp
()

	)

2665 
kmp_backoff_t
 
	g__kmp_¥š_backoff_·¿ms
 = {1, 4096, 100};

2668 
kmp_ušt64
 
__kmp_now_n£c
();

2669 
kmp_backoff_t
 
	g__kmp_¥š_backoff_·¿ms
 = {1, 256, 100};

2670 
	#__kmp_tsc
(è
	`__kmp_now_n£c
()

	)

2680 
šlše
 
boŞ
 
	$befÜe
(
kmp_ušt64
 
a
, kmp_ušt64 
b
) {

2681  ((
kmp_št64
)
b
 - (kmp_št64)
a
) > 0;

2682 
	}
}

2685 
	$__kmp_¥š_backoff
(
kmp_backoff_t
 *
boff
) {

2687 
kmp_ušt32
 
i
;

2688 
i
 = 
boff
->
¡•
; i > 0; i--) {

2689 
kmp_ušt64
 
gßl
 = 
	`__kmp_tsc
(è+ 
boff
->
mš_tick
;

2691 
	`KMP_CPU_PAUSE
();

2692 } 
	`befÜe
(
	`__kmp_tsc
(), 
gßl
));

2694 
boff
->
¡•
 = (boff->¡• << 1 | 1è& (boff->
max_backoff
 - 1);

2695 
	}
}

2697 #ià
KMP_USE_DYNAMIC_LOCK


2701 
	$__kmp_š™_dœeù_lock
(
kmp_dyÇ_lock_t
 *
lck
,

2702 
kmp_dyÇ_lock£q_t
 
£q
) {

2703 
	`TCW_4
(*
lck
, 
	`KMP_GET_D_TAG
(
£q
));

2704 
	`KA_TRACE
(

2706 ("__kmp_š™_dœeù_lock: in™Ÿlized dœeù†ock w™hy³#%d\n", 
£q
));

2707 
	}
}

2709 #ià
KMP_USE_TSX


2712 
	#HLE_ACQUIRE
 ".by‹ 0xf2;"

	)

2713 
	#HLE_RELEASE
 ".by‹ 0xf3;"

	)

2715 
šlše
 
kmp_ušt32
 
	$sw­4
(
kmp_ušt32
 vŞ©*
p
, kmp_ušt32 
v
) {

2716 
__asm__
 vŞ©e(
HLE_ACQUIRE
 "xchg %1,%0" : "+r"(
v
), "+m"(*
p
) : : "memory");

2717  
v
;

2718 
	}
}

2720 
	$__kmp_de¡roy_hË_lock
(
kmp_dyÇ_lock_t
 *
lck
è{ 
	`TCW_4
(*lck, 0); 
	}
}

2722 
	$__kmp_de¡roy_hË_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lck
) {

2723 
	`TCW_4
(*
lck
, 0);

2724 
	}
}

2726 
	$__kmp_acquœe_hË_lock
(
kmp_dyÇ_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2728 ià(
	`sw­4
(
lck
, 
	`KMP_LOCK_BUSY
(1, 
hË
)è!ğ
	`KMP_LOCK_FREE
(hle)) {

2729 
d–ay
 = 1;

2731 *(
kmp_ušt32
 vŞ©*)
lck
 !ğ
	`KMP_LOCK_FREE
(
hË
)) {

2732 
i
 = 
d–ay
; i != 0; --i)

2733 
	`KMP_CPU_PAUSE
();

2734 
d–ay
 = ((delay << 1) | 1) & 7;

2736 } 
	`sw­4
(
lck
, 
	`KMP_LOCK_BUSY
(1, 
hË
)è!ğ
	`KMP_LOCK_FREE
(hle));

2738 
	}
}

2740 
	$__kmp_acquœe_hË_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lck
,

2741 
kmp_št32
 
gtid
) {

2742 
	`__kmp_acquœe_hË_lock
(
lck
, 
gtid
);

2743 
	}
}

2745 
	$__kmp_»Ëa£_hË_lock
(
kmp_dyÇ_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2746 
__asm__
 vŞ©e(
HLE_RELEASE
 "movl %1,%0"

2747 : "=m"(*
lck
)

2748 : "r"(
	`KMP_LOCK_FREE
(
hË
))

2750  
KMP_LOCK_RELEASED
;

2751 
	}
}

2753 
	$__kmp_»Ëa£_hË_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lck
,

2754 
kmp_št32
 
gtid
) {

2755  
	`__kmp_»Ëa£_hË_lock
(
lck
, 
gtid
);

2756 
	}
}

2758 
	$__kmp_‹¡_hË_lock
(
kmp_dyÇ_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2759  
	`sw­4
(
lck
, 
	`KMP_LOCK_BUSY
(1, 
hË
)è=ğ
	`KMP_LOCK_FREE
(hle);

2760 
	}
}

2762 
	$__kmp_‹¡_hË_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lck
,

2763 
kmp_št32
 
gtid
) {

2764  
	`__kmp_‹¡_hË_lock
(
lck
, 
gtid
);

2765 
	}
}

2767 
	$__kmp_š™_¹m_lock
(
kmp_queušg_lock_t
 *
lck
) {

2768 
	`__kmp_š™_queušg_lock
(
lck
);

2769 
	}
}

2771 
	$__kmp_de¡roy_¹m_lock
(
kmp_queušg_lock_t
 *
lck
) {

2772 
	`__kmp_de¡roy_queušg_lock
(
lck
);

2773 
	}
}

2775 
	$__kmp_de¡roy_¹m_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
) {

2776 
	`__kmp_de¡roy_queušg_lock_w™h_checks
(
lck
);

2777 
	}
}

2779 
	$__kmp_acquœe_¹m_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2780 
»Œ›s
 = 3, 
¡©us
;

2782 
¡©us
 = 
	`_xbegš
();

2783 ià(
¡©us
 =ğ
_XBEGIN_STARTED
) {

2784 ià(
	`__kmp_is_uÆocked_queušg_lock
(
lck
))

2786 
	`_xabÜt
(0xff);

2788 ià((
¡©us
 & 
_XABORT_EXPLICIT
è&& 
	`_XABORT_CODE
(status) == 0xff) {

2790 !
	`__kmp_is_uÆocked_queušg_lock
(
lck
)) {

2791 
	`KMP_YIELD
(
TRUE
);

2793 } ià(!(
¡©us
 & 
_XABORT_RETRY
))

2795 } 
»Œ›s
--);

2798 
	`__kmp_acquœe_queušg_lock
(
lck
, 
gtid
);

2799 
	}
}

2801 
	$__kmp_acquœe_¹m_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

2802 
kmp_št32
 
gtid
) {

2803 
	`__kmp_acquœe_¹m_lock
(
lck
, 
gtid
);

2804 
	}
}

2806 
	$__kmp_»Ëa£_¹m_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2807 ià(
	`__kmp_is_uÆocked_queušg_lock
(
lck
)) {

2809 
	`_x’d
();

2812 
	`__kmp_»Ëa£_queušg_lock
(
lck
, 
gtid
);

2814  
KMP_LOCK_RELEASED
;

2815 
	}
}

2817 
	$__kmp_»Ëa£_¹m_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

2818 
kmp_št32
 
gtid
) {

2819  
	`__kmp_»Ëa£_¹m_lock
(
lck
, 
gtid
);

2820 
	}
}

2822 
	$__kmp_‹¡_¹m_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

2823 
»Œ›s
 = 3, 
¡©us
;

2825 
¡©us
 = 
	`_xbegš
();

2826 ià(
¡©us
 =ğ
_XBEGIN_STARTED
 && 
	`__kmp_is_uÆocked_queušg_lock
(
lck
)) {

2829 ià(!(
¡©us
 & 
_XABORT_RETRY
))

2831 } 
»Œ›s
--);

2833  (
	`__kmp_is_uÆocked_queušg_lock
(
lck
)) ? 1 : 0;

2834 
	}
}

2836 
	$__kmp_‹¡_¹m_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
,

2837 
kmp_št32
 
gtid
) {

2838  
	`__kmp_‹¡_¹m_lock
(
lck
, 
gtid
);

2839 
	}
}

2844 
__kmp_š™_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
l
,

2845 
kmp_dyÇ_lock£q_t
 
g
);

2846 
__kmp_de¡roy_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
);

2847 
__kmp_£t_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
);

2848 
__kmp_un£t_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
);

2849 
__kmp_‹¡_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
);

2850 
__kmp_£t_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

2851 
kmp_št32
);

2852 
__kmp_un£t_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

2853 
kmp_št32
);

2854 
__kmp_‹¡_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

2855 
kmp_št32
);

2858 
	#KMP_FOREACH_LOCK_KIND
(
m
, 
a
è
	`m
(
tick‘
,‡èm(
queušg
,‡èm(
drd·
,‡)

	)

2860 
	#ex·nd1
(
lk
, 
İ
) \

2861 
__kmp_
##
İ
##
_
##
lk
##_##
	`lock
(
kmp_u£r_lock_p
 
lock
) { \

2862 
__kmp_
##
İ
##
_
##
lk
##_##
	`lock
(&
lock
->lk); \

2863 }

	)

2864 
	#ex·nd2
(
lk
, 
İ
) \

2865 
__kmp_
##
İ
##
_
##
lk
##_##
	`lock
(
kmp_u£r_lock_p
 
lock
, \

2866 
kmp_št32
 
gtid
) { \

2867  
__kmp_
##
İ
##
_
##
lk
##_##
	`lock
(&
lock
->lk, 
gtid
); \

2868 }

	)

2869 
	#ex·nd3
(
lk
, 
İ
) \

2870 
__kmp_£t_
##
lk
##
_
##
	`lock_æags
(
kmp_u£r_lock_p
 
lock
, \

2871 
kmp_lock_æags_t
 
æags
) { \

2872 
__kmp_£t_
##
lk
##
	`_lock_æags
(&
lock
->lk, 
æags
); \

2873 }

	)

2874 
	#ex·nd4
(
lk
, 
İ
) \

2875 
__kmp_£t_
##
lk
##
_
##
	`lock_loÿtiÚ
(
kmp_u£r_lock_p
 
lock
, \

2876 cÚ¡ 
id’t_t
 *
loc
) { \

2877 
__kmp_£t_
##
lk
##
	`_lock_loÿtiÚ
(&
lock
->lk, 
loc
); \

2878 }

	)

2880 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd1
, 
š™
)

2881 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd1
, 
š™_Ã¡ed
)

2882 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd1
, 
de¡roy
)

2883 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd1
, 
de¡roy_Ã¡ed
)

2884 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
acquœe
)

2885 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
acquœe_Ã¡ed
)

2886 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
»Ëa£
)

2887 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
»Ëa£_Ã¡ed
)

2888 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
‹¡
)

2889 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd2
, 
‹¡_Ã¡ed
)

2890 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd3
, )

2891 
	$KMP_FOREACH_LOCK_KIND
(
ex·nd4
, )

2893 #undeà
ex·nd1


2894 #undeà
ex·nd2


2895 #undeà
ex·nd3


2896 #undeà
ex·nd4


2902 
	#ex·nd
(
l
, 
İ
è0, 
__kmp_š™_dœeù_lock
,

	)

2903 (*
__kmp_dœeù_š™
[])(
kmp_dyÇ_lock_t
 *, 
kmp_dyÇ_lock£q_t
) = {

2904 
__kmp_š™_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
š™
)
	}
};

2905 #undeà
ex·nd


2908 
	#ex·nd
(
l
, 
İ
è0, ((*)(
kmp_dyÇ_lock_t
 *))
__kmp_
##İ##
_
##l##
_lock
,

	)

2909 (*
dœeù_de¡roy
[])(
kmp_dyÇ_lock_t
 *) = {

2910 
__kmp_de¡roy_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
de¡roy
)
	}
};

2911 #undeà
ex·nd


2912 
	#ex·nd
(
l
, 
İ
) \

2913 0, ((*)(
kmp_dyÇ_lock_t
 *))
__kmp_de¡roy_
##
l
##
_lock_w™h_checks
,

	)

2914 (*
dœeù_de¡roy_check
[])(
kmp_dyÇ_lock_t
 *) = {

2915 
__kmp_de¡roy_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
de¡roy
)
	}
};

2916 #undeà
ex·nd


2919 
	#ex·nd
(
l
, 
İ
) \

2920 0, ((*)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
))
__kmp_
##
İ
##
_
##
l
##
_lock
,

	)

2921 (*
dœeù_£t
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2922 
__kmp_£t_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
acquœe
)
	}
};

2923 #undeà
ex·nd


2924 
	#ex·nd
(
l
, 
İ
) \

2925 0, ((*)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
))
__kmp_
##
İ
##
_
##
l
##
_lock_w™h_checks
,

	)

2926 (*
dœeù_£t_check
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2927 
__kmp_£t_šdœeù_lock_w™h_checks
, 0,

2928 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
acquœe
)
	}
};

2929 #undeà
ex·nd


2932 
	#ex·nd
(
l
, 
İ
) \

2933 0, ((*)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
))
__kmp_
##
İ
##
_
##
l
##
_lock
,

	)

2934 (*
dœeù_un£t
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2935 
__kmp_un£t_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
»Ëa£
)
	}
};

2936 (*
dœeù_‹¡
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2937 
__kmp_‹¡_šdœeù_lock
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
‹¡
)
	}
};

2938 #undeà
ex·nd


2939 
	#ex·nd
(
l
, 
İ
) \

2940 0, ((*)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
))
__kmp_
##
İ
##
_
##
l
##
_lock_w™h_checks
,

	)

2941 (*
dœeù_un£t_check
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2942 
__kmp_un£t_šdœeù_lock_w™h_checks
, 0,

2943 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
»Ëa£
)
	}
};

2944 (*
dœeù_‹¡_check
[])(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = {

2945 
__kmp_‹¡_šdœeù_lock_w™h_checks
, 0, 
	`KMP_FOREACH_D_LOCK
(
ex·nd
, 
‹¡
)
	}
};

2946 #undeà
ex·nd


2949 (**
__kmp_dœeù_de¡roy
)(
kmp_dyÇ_lock_t
 *) = 0;

2950 (**
__kmp_dœeù_£t
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = 0;

2951 (**
__kmp_dœeù_un£t
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = 0;

2952 (**
__kmp_dœeù_‹¡
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
) = 0;

2955 
	#ex·nd
(
l
, 
İ
è((*)(
kmp_u£r_lock_p
)è
__kmp_
##İ##
_
##l##_##
lock
,

	)

2956 (*
__kmp_šdœeù_š™
[])(
kmp_u£r_lock_p
) = {

2957 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
š™
)
	}
};

2958 #undeà
ex·nd


2960 
	#ex·nd
(
l
, 
İ
è((*)(
kmp_u£r_lock_p
)è
__kmp_
##İ##
_
##l##_##
lock
,

	)

2961 (*
šdœeù_de¡roy
[])(
kmp_u£r_lock_p
) = {

2962 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
de¡roy
)
	}
};

2963 #undeà
ex·nd


2964 
	#ex·nd
(
l
, 
İ
) \

2965 ((*)(
kmp_u£r_lock_p
)è
__kmp_
##
İ
##
_
##
l
##_##
lock_w™h_checks
,

	)

2966 (*
šdœeù_de¡roy_check
[])(
kmp_u£r_lock_p
) = {

2967 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
de¡roy
)
	}
};

2968 #undeà
ex·nd


2971 
	#ex·nd
(
l
, 
İ
) \

2972 ((*)(
kmp_u£r_lock_p
, 
kmp_št32
)è
__kmp_
##
İ
##
_
##
l
##_##
lock
,

	)

2973 (*
šdœeù_£t
[])(
kmp_u£r_lock_p
,

2974 
kmp_št32
èğ{
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
acquœe
)
	}
};

2975 #undeà
ex·nd


2976 
	#ex·nd
(
l
, 
İ
) \

2977 ((*)(
kmp_u£r_lock_p
, 
kmp_št32
)è
__kmp_
##
İ
##
_
##
l
##_##
lock_w™h_checks
,

	)

2978 (*
šdœeù_£t_check
[])(
kmp_u£r_lock_p
, 
kmp_št32
) = {

2979 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
acquœe
)
	}
};

2980 #undeà
ex·nd


2983 
	#ex·nd
(
l
, 
İ
) \

2984 ((*)(
kmp_u£r_lock_p
, 
kmp_št32
)è
__kmp_
##
İ
##
_
##
l
##_##
lock
,

	)

2985 (*
šdœeù_un£t
[])(
kmp_u£r_lock_p
, 
kmp_št32
) = {

2986 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
»Ëa£
)
	}
};

2987 (*
šdœeù_‹¡
[])(
kmp_u£r_lock_p
,

2988 
kmp_št32
èğ{
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
‹¡
)
	}
};

2989 #undeà
ex·nd


2990 
	#ex·nd
(
l
, 
İ
) \

2991 ((*)(
kmp_u£r_lock_p
, 
kmp_št32
)è
__kmp_
##
İ
##
_
##
l
##_##
lock_w™h_checks
,

	)

2992 (*
šdœeù_un£t_check
[])(
kmp_u£r_lock_p
, 
kmp_št32
) = {

2993 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
»Ëa£
)
	}
};

2994 (*
šdœeù_‹¡_check
[])(
kmp_u£r_lock_p
, 
kmp_št32
) = {

2995 
	`KMP_FOREACH_I_LOCK
(
ex·nd
, 
‹¡
)
	}
};

2996 #undeà
ex·nd


2999 (**
__kmp_šdœeù_de¡roy
)(
kmp_u£r_lock_p
) = 0;

3000 (**
__kmp_šdœeù_£t
)(
kmp_u£r_lock_p
, 
kmp_št32
) = 0;

3001 (**
__kmp_šdœeù_un£t
)(
kmp_u£r_lock_p
, 
kmp_št32
) = 0;

3002 (**
__kmp_šdœeù_‹¡
)(
kmp_u£r_lock_p
, 
kmp_št32
) = 0;

3005 
kmp_šdœeù_lock_bË_t
 
__kmp_i_lock_bË
;

3008 
kmp_ušt32
 
__kmp_šdœeù_lock_size
[
KMP_NUM_I_LOCKS
] = {0
	}
};

3011 (*
__kmp_šdœeù_£t_loÿtiÚ
[
KMP_NUM_I_LOCKS
])(
kmp_u£r_lock_p
,

3012 cÚ¡ 
id’t_t
 *èğ{0
	}
};

3013 (*
__kmp_šdœeù_£t_æags
[
KMP_NUM_I_LOCKS
])(
kmp_u£r_lock_p
,

3014 
kmp_lock_æags_t
èğ{0
	}
};

3015 cÚ¡ 
	gid’t_t
 *(*
	g__kmp_šdœeù_g‘_loÿtiÚ
[
KMP_NUM_I_LOCKS
])(

3016 
	gkmp_u£r_lock_p
) = {0};

3017 
	$kmp_lock_æags_t
 (*
__kmp_šdœeù_g‘_æags
[
KMP_NUM_I_LOCKS
])(

3018 
kmp_u£r_lock_p
èğ{0
	}
};

3021 
kmp_šdœeù_lock_t
 *
	g__kmp_šdœeù_lock_poŞ
[
KMP_NUM_I_LOCKS
] = {0};

3028 
kmp_šdœeù_lock_t
 *
	$__kmp_®loÿ‹_šdœeù_lock
(**
u£r_lock
,

3029 
kmp_št32
 
gtid
,

3030 
kmp_šdœeù_lockg_t
 
g
) {

3031 
kmp_šdœeù_lock_t
 *
lck
;

3032 
kmp_lock_šdex_t
 
idx
;

3034 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

3036 ià(
__kmp_šdœeù_lock_poŞ
[
g
] !ğ
NULL
) {

3038 
lck
 = 
__kmp_šdœeù_lock_poŞ
[
g
];

3039 ià(
OMP_LOCK_T_SIZE
 < (*))

3040 
idx
 = 
lck
->
lock
->
poŞ
.
šdex
;

3041 
__kmp_šdœeù_lock_poŞ
[
g
] = (
kmp_šdœeù_lock_t
 *)
lck
->
lock
->
poŞ
.
Ãxt
;

3042 
	`KA_TRACE
(20, ("__kmp_allocate_indirect_lock:„eusing‡nƒxisting†ock %p\n",

3043 
lck
));

3045 
idx
 = 
__kmp_i_lock_bË
.
Ãxt
;

3047 ià(
idx
 =ğ
__kmp_i_lock_bË
.
size
) {

3049 
row
 = 
__kmp_i_lock_bË
.
size
 / 
KMP_I_LOCK_CHUNK
;

3050 
kmp_šdœeù_lock_t
 **
Ãw_bË
 = (kmp_šdœeù_lock_ˆ**)
	`__kmp_®loÿ‹
(

3051 2 * 
row
 * (
kmp_šdœeù_lock_t
 *));

3052 
	`KMP_MEMCPY
(
Ãw_bË
, 
__kmp_i_lock_bË
.
bË
,

3053 
row
 * (
kmp_šdœeù_lock_t
 *));

3054 
kmp_šdœeù_lock_t
 **
Şd_bË
 = 
__kmp_i_lock_bË
.
bË
;

3055 
__kmp_i_lock_bË
.
bË
 = 
Ãw_bË
;

3056 
	`__kmp_ä“
(
Şd_bË
);

3058 
i
 = 
row
; i < 2 *„ow; ++i)

3059 *(
__kmp_i_lock_bË
.
bË
 + 
i
èğ(
kmp_šdœeù_lock_t
 *)
	`__kmp_®loÿ‹
(

3060 
KMP_I_LOCK_CHUNK
 * (
kmp_šdœeù_lock_t
));

3061 
__kmp_i_lock_bË
.
size
 = 2 * 
idx
;

3063 
__kmp_i_lock_bË
.
Ãxt
++;

3064 
lck
 = 
	`KMP_GET_I_LOCK
(
idx
);

3066 
lck
->
lock
 = (
kmp_u£r_lock_p
)
	`__kmp_®loÿ‹
(
__kmp_šdœeù_lock_size
[
g
]);

3067 
	`KA_TRACE
(20,

3068 ("__kmp_®loÿ‹_šdœeù_lock:‡Îoÿ‹d‡‚ew†ock %p\n", 
lck
));

3071 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

3073 
lck
->
ty³
 = 
g
;

3075 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3076 *((
kmp_lock_šdex_t
 *)
u£r_lock
èğ
idx


3079 *((
kmp_šdœeù_lock_t
 **)
u£r_lock
èğ
lck
;

3082  
lck
;

3083 
	}
}

3086 
__fÜûšlše
 
kmp_šdœeù_lock_t
 *

3087 
	$__kmp_lookup_šdœeù_lock
(**
u£r_lock
, cÚ¡ *
func
) {

3088 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3089 
kmp_šdœeù_lock_t
 *
lck
 = 
NULL
;

3090 ià(
u£r_lock
 =ğ
NULL
) {

3091 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3093 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3094 
kmp_lock_šdex_t
 
idx
 = 
	`KMP_EXTRACT_I_INDEX
(
u£r_lock
);

3095 ià(
idx
 >ğ
__kmp_i_lock_bË
.
size
) {

3096 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3098 
lck
 = 
	`KMP_GET_I_LOCK
(
idx
);

3100 
lck
 = *((
kmp_šdœeù_lock_t
 **)
u£r_lock
);

3102 ià(
lck
 =ğ
NULL
) {

3103 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3105  
lck
;

3107 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3108  
	`KMP_GET_I_LOCK
(
	`KMP_EXTRACT_I_INDEX
(
u£r_lock
));

3110  *((
kmp_šdœeù_lock_t
 **)
u£r_lock
);

3113 
	}
}

3115 
	$__kmp_š™_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
,

3116 
kmp_dyÇ_lock£q_t
 
£q
) {

3117 #ià
KMP_USE_ADAPTIVE_LOCKS


3118 ià(
£q
 =ğ
lock£q_ad­tive
 && !
__kmp_ıušfo
.
¹m
) {

3119 
	`KMP_WARNING
(
Ad­tiveNÙSuµÜ‹d
, "kmp_lockseq_t", "adaptive");

3120 
£q
 = 
lock£q_queušg
;

3123 #ià
KMP_USE_TSX


3124 ià(
£q
 =ğ
lock£q_¹m
 && !
__kmp_ıušfo
.
¹m
) {

3125 
£q
 = 
lock£q_queušg
;

3128 
kmp_šdœeù_lockg_t
 
g
 = 
	`KMP_GET_I_TAG
(
£q
);

3129 
kmp_šdœeù_lock_t
 *
l
 =

3130 
	`__kmp_®loÿ‹_šdœeù_lock
((**)
lock
, 
	`__kmp_’Œy_gtid
(), 
g
);

3131 
	`KMP_I_LOCK_FUNC
(
l
, 
š™
)Ö->
lock
);

3132 
	`KA_TRACE
(

3134 
£q
));

3135 
	}
}

3137 
	$__kmp_de¡roy_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
) {

3138 
kmp_ušt32
 
gtid
 = 
	`__kmp_’Œy_gtid
();

3139 
kmp_šdœeù_lock_t
 *
l
 =

3140 
	`__kmp_lookup_šdœeù_lock
((**)
lock
, "omp_destroy_lock");

3141 
	`KMP_I_LOCK_FUNC
(
l
, 
de¡roy
)Ö->
lock
);

3142 
kmp_šdœeù_lockg_t
 
g
 = 
l
->
ty³
;

3144 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

3147 
l
->
lock
->
poŞ
.
Ãxt
 = (
kmp_u£r_lock_p
)
__kmp_šdœeù_lock_poŞ
[
g
];

3148 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3149 
l
->
lock
->
poŞ
.
šdex
 = 
	`KMP_EXTRACT_I_INDEX
(lock);

3151 
__kmp_šdœeù_lock_poŞ
[
g
] = 
l
;

3153 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

3154 
	}
}

3156 
	$__kmp_£t_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
 
gtid
) {

3157 
kmp_šdœeù_lock_t
 *
l
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

3158  
	`KMP_I_LOCK_FUNC
(
l
, 
£t
)Ö->
lock
, 
gtid
);

3159 
	}
}

3161 
	$__kmp_un£t_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
 
gtid
) {

3162 
kmp_šdœeù_lock_t
 *
l
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

3163  
	`KMP_I_LOCK_FUNC
(
l
, 
un£t
)Ö->
lock
, 
gtid
);

3164 
	}
}

3166 
	$__kmp_‹¡_šdœeù_lock
(
kmp_dyÇ_lock_t
 *
lock
, 
kmp_št32
 
gtid
) {

3167 
kmp_šdœeù_lock_t
 *
l
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

3168  
	`KMP_I_LOCK_FUNC
(
l
, 
‹¡
)Ö->
lock
, 
gtid
);

3169 
	}
}

3171 
	$__kmp_£t_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

3172 
kmp_št32
 
gtid
) {

3173 
kmp_šdœeù_lock_t
 *
l
 =

3174 
	`__kmp_lookup_šdœeù_lock
((**)
lock
, "omp_set_lock");

3175  
	`KMP_I_LOCK_FUNC
(
l
, 
£t
)Ö->
lock
, 
gtid
);

3176 
	}
}

3178 
	$__kmp_un£t_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

3179 
kmp_št32
 
gtid
) {

3180 
kmp_šdœeù_lock_t
 *
l
 =

3181 
	`__kmp_lookup_šdœeù_lock
((**)
lock
, "omp_unset_lock");

3182  
	`KMP_I_LOCK_FUNC
(
l
, 
un£t
)Ö->
lock
, 
gtid
);

3183 
	}
}

3185 
	$__kmp_‹¡_šdœeù_lock_w™h_checks
(
kmp_dyÇ_lock_t
 *
lock
,

3186 
kmp_št32
 
gtid
) {

3187 
kmp_šdœeù_lock_t
 *
l
 =

3188 
	`__kmp_lookup_šdœeù_lock
((**)
lock
, "omp_test_lock");

3189  
	`KMP_I_LOCK_FUNC
(
l
, 
‹¡
)Ö->
lock
, 
gtid
);

3190 
	}
}

3192 
kmp_dyÇ_lock£q_t
 
	g__kmp_u£r_lock_£q
 = 
lock£q_queušg
;

3195 
kmp_št32
 
	$__kmp_g‘_u£r_lock_owÃr
(
kmp_u£r_lock_p
 
lck
, 
kmp_ušt32
 
£q
) {

3196 
£q
) {

3197 
lock£q_s
:

3198 
lock£q_Ã¡ed_s
:

3199  
	`__kmp_g‘_s_lock_owÃr
((
kmp_s_lock_t
 *)
lck
);

3200 #ià
KMP_USE_FUTEX


3201 
lock£q_fu‹x
:

3202 
lock£q_Ã¡ed_fu‹x
:

3203  
	`__kmp_g‘_fu‹x_lock_owÃr
((
kmp_fu‹x_lock_t
 *)
lck
);

3205 
lock£q_tick‘
:

3206 
lock£q_Ã¡ed_tick‘
:

3207  
	`__kmp_g‘_tick‘_lock_owÃr
((
kmp_tick‘_lock_t
 *)
lck
);

3208 
lock£q_queušg
:

3209 
lock£q_Ã¡ed_queušg
:

3210 #ià
KMP_USE_ADAPTIVE_LOCKS


3211 
lock£q_ad­tive
:

3213  
	`__kmp_g‘_queušg_lock_owÃr
((
kmp_queušg_lock_t
 *)
lck
);

3214 
lock£q_drd·
:

3215 
lock£q_Ã¡ed_drd·
:

3216  
	`__kmp_g‘_drd·_lock_owÃr
((
kmp_drd·_lock_t
 *)
lck
);

3220 
	}
}

3223 
	$__kmp_š™_dyÇmic_u£r_locks
() {

3225 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3226 
__kmp_dœeù_£t
 = 
dœeù_£t_check
;

3227 
__kmp_dœeù_un£t
 = 
dœeù_un£t_check
;

3228 
__kmp_dœeù_‹¡
 = 
dœeù_‹¡_check
;

3229 
__kmp_dœeù_de¡roy
 = 
dœeù_de¡roy_check
;

3230 
__kmp_šdœeù_£t
 = 
šdœeù_£t_check
;

3231 
__kmp_šdœeù_un£t
 = 
šdœeù_un£t_check
;

3232 
__kmp_šdœeù_‹¡
 = 
šdœeù_‹¡_check
;

3233 
__kmp_šdœeù_de¡roy
 = 
šdœeù_de¡roy_check
;

3235 
__kmp_dœeù_£t
 = 
dœeù_£t
;

3236 
__kmp_dœeù_un£t
 = 
dœeù_un£t
;

3237 
__kmp_dœeù_‹¡
 = 
dœeù_‹¡
;

3238 
__kmp_dœeù_de¡roy
 = 
dœeù_de¡roy
;

3239 
__kmp_šdœeù_£t
 = 
šdœeù_£t
;

3240 
__kmp_šdœeù_un£t
 = 
šdœeù_un£t
;

3241 
__kmp_šdœeù_‹¡
 = 
šdœeù_‹¡
;

3242 
__kmp_šdœeù_de¡roy
 = 
šdœeù_de¡roy
;

3247 ià(
__kmp_š™_u£r_locks
)

3251 
__kmp_i_lock_bË
.
size
 = 
KMP_I_LOCK_CHUNK
;

3252 
__kmp_i_lock_bË
.
bË
 =

3253 (
kmp_šdœeù_lock_t
 **)
	`__kmp_®loÿ‹
((kmp_indirect_lock_t *));

3254 *(
__kmp_i_lock_bË
.
bË
èğ(
kmp_šdœeù_lock_t
 *)
	`__kmp_®loÿ‹
(

3255 
KMP_I_LOCK_CHUNK
 * (
kmp_šdœeù_lock_t
));

3256 
__kmp_i_lock_bË
.
Ãxt
 = 0;

3259 
__kmp_šdœeù_lock_size
[
lockg_tick‘
] = (
kmp_tick‘_lock_t
);

3260 
__kmp_šdœeù_lock_size
[
lockg_queušg
] = (
kmp_queušg_lock_t
);

3261 #ià
KMP_USE_ADAPTIVE_LOCKS


3262 
__kmp_šdœeù_lock_size
[
lockg_ad­tive
] = (
kmp_ad­tive_lock_t
);

3264 
__kmp_šdœeù_lock_size
[
lockg_drd·
] = (
kmp_drd·_lock_t
);

3265 #ià
KMP_USE_TSX


3266 
__kmp_šdœeù_lock_size
[
lockg_¹m
] = (
kmp_queušg_lock_t
);

3268 
__kmp_šdœeù_lock_size
[
lockg_Ã¡ed_s
] = (
kmp_s_lock_t
);

3269 #ià
KMP_USE_FUTEX


3270 
__kmp_šdœeù_lock_size
[
lockg_Ã¡ed_fu‹x
] = (
kmp_fu‹x_lock_t
);

3272 
__kmp_šdœeù_lock_size
[
lockg_Ã¡ed_tick‘
] = (
kmp_tick‘_lock_t
);

3273 
__kmp_šdœeù_lock_size
[
lockg_Ã¡ed_queušg
] = (
kmp_queušg_lock_t
);

3274 
__kmp_šdœeù_lock_size
[
lockg_Ã¡ed_drd·
] = (
kmp_drd·_lock_t
);

3277 
	#fl_jumps
(
bË
, 
ex·nd
, 
£p
) \

3279 
bË
[
lockg
##
£p
##
tick‘
] = 
	`ex·nd
(ticket); \

3280 
bË
[
lockg
##
£p
##
queušg
] = 
	`ex·nd
(queuing); \

3281 
bË
[
lockg
##
£p
##
drd·
] = 
	`ex·nd
(drdpa); \

3282 }

	)

3284 #ià
KMP_USE_ADAPTIVE_LOCKS


3285 
	#fl_bË
(
bË
, 
ex·nd
) \

3287 
	`fl_jumps
(
bË
, 
ex·nd
, 
_
); \

3288 
bË
[
lockg_ad­tive
] = 
	`ex·nd
(
queušg
); \

3289 
	`fl_jumps
(
bË
, 
ex·nd
, 
_Ã¡ed_
); \

3290 }

	)

3292 
	#fl_bË
(
bË
, 
ex·nd
) \

3294 
	`fl_jumps
(
bË
, 
ex·nd
, 
_
); \

3295 
	`fl_jumps
(
bË
, 
ex·nd
, 
_Ã¡ed_
); \

3296 }

	)

3299 
	#ex·nd
(
l
) \

3300 ((*)(
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *)è
__kmp_£t_
##
l
##
_lock_loÿtiÚ


	)

3301 
	`fl_bË
(
__kmp_šdœeù_£t_loÿtiÚ
, 
ex·nd
);

3302 #undeà
ex·nd


3303 
	#ex·nd
(
l
) \

3304 ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
)è
__kmp_£t_
##
l
##
_lock_æags


	)

3305 
	`fl_bË
(
__kmp_šdœeù_£t_æags
, 
ex·nd
);

3306 #undeà
ex·nd


3307 
	#ex·nd
(
l
) \

3308 (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
)è
__kmp_g‘_
##
l
##
_lock_loÿtiÚ


	)

3309 
	`fl_bË
(
__kmp_šdœeù_g‘_loÿtiÚ
, 
ex·nd
);

3310 #undeà
ex·nd


3311 
	#ex·nd
(
l
) \

3312 (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
)è
__kmp_g‘_
##
l
##
_lock_æags


	)

3313 
	`fl_bË
(
__kmp_šdœeù_g‘_æags
, 
ex·nd
);

3314 #undeà
ex·nd


3316 
__kmp_š™_u£r_locks
 = 
TRUE
;

3317 
	}
}

3320 
	$__kmp_ş—nup_šdœeù_u£r_locks
() {

3321 
kmp_lock_šdex_t
 
i
;

3322 
k
;

3326 
k
 = 0; k < 
KMP_NUM_I_LOCKS
; ++k) {

3327 
kmp_šdœeù_lock_t
 *
l
 = 
__kmp_šdœeù_lock_poŞ
[
k
];

3328 
l
 !ğ
NULL
) {

3329 
kmp_šdœeù_lock_t
 *
Î
 = 
l
;

3330 
l
 = (
kmp_šdœeù_lock_t
 *î->
lock
->
poŞ
.
Ãxt
;

3331 
	`KA_TRACE
(20, ("__kmp_cleanup_indirect_user_locks: freeing %p from…ool\n",

3332 
Î
));

3333 
	`__kmp_ä“
(
Î
->
lock
);

3334 
Î
->
lock
 = 
NULL
;

3336 
__kmp_šdœeù_lock_poŞ
[
k
] = 
NULL
;

3339 
i
 = 0; i < 
__kmp_i_lock_bË
.
Ãxt
; i++) {

3340 
kmp_šdœeù_lock_t
 *
l
 = 
	`KMP_GET_I_LOCK
(
i
);

3341 ià(
l
->
lock
 !ğ
NULL
) {

3343 
	`KMP_I_LOCK_FUNC
(
l
, 
de¡roy
)Ö->
lock
);

3344 
	`KA_TRACE
(

3347 
l
));

3348 
	`__kmp_ä“
(
l
->
lock
);

3352 
i
 = 0; i < 
__kmp_i_lock_bË
.
size
 / 
KMP_I_LOCK_CHUNK
; i++)

3353 
	`__kmp_ä“
(
__kmp_i_lock_bË
.
bË
[
i
]);

3354 
	`__kmp_ä“
(
__kmp_i_lock_bË
.
bË
);

3356 
__kmp_š™_u£r_locks
 = 
FALSE
;

3357 
	}
}

3359 
kmp_lock_kšd
 
	g__kmp_u£r_lock_kšd
 = 
lk_deçuÉ
;

3360 
	g__kmp_num_locks_š_block
 = 1;

3364 
	$__kmp_š™_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
) {

3365 
	`__kmp_š™_s_lock
(
lck
);

3366 
	}
}

3368 
	$__kmp_š™_Ã¡ed_s_lock_w™h_checks
(
kmp_s_lock_t
 *
lck
) {

3369 
	`__kmp_š™_Ã¡ed_s_lock
(
lck
);

3370 
	}
}

3372 #ià
KMP_USE_FUTEX


3373 
	$__kmp_š™_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
) {

3374 
	`__kmp_š™_fu‹x_lock
(
lck
);

3375 
	}
}

3377 
	$__kmp_š™_Ã¡ed_fu‹x_lock_w™h_checks
(
kmp_fu‹x_lock_t
 *
lck
) {

3378 
	`__kmp_š™_Ã¡ed_fu‹x_lock
(
lck
);

3379 
	}
}

3382 
	$__kmp_is_tick‘_lock_š™Ÿlized
(
kmp_tick‘_lock_t
 *
lck
) {

3383  
lck
 =ğlck->
lk
.
£lf
;

3384 
	}
}

3386 
	$__kmp_š™_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
) {

3387 
	`__kmp_š™_tick‘_lock
(
lck
);

3388 
	}
}

3390 
	$__kmp_š™_Ã¡ed_tick‘_lock_w™h_checks
(
kmp_tick‘_lock_t
 *
lck
) {

3391 
	`__kmp_š™_Ã¡ed_tick‘_lock
(
lck
);

3392 
	}
}

3394 
	$__kmp_is_queušg_lock_š™Ÿlized
(
kmp_queušg_lock_t
 *
lck
) {

3395  
lck
 =ğlck->
lk
.
š™Ÿlized
;

3396 
	}
}

3398 
	$__kmp_š™_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
) {

3399 
	`__kmp_š™_queušg_lock
(
lck
);

3400 
	}
}

3403 
	$__kmp_š™_Ã¡ed_queušg_lock_w™h_checks
(
kmp_queušg_lock_t
 *
lck
) {

3404 
	`__kmp_š™_Ã¡ed_queušg_lock
(
lck
);

3405 
	}
}

3407 #ià
KMP_USE_ADAPTIVE_LOCKS


3408 
	$__kmp_š™_ad­tive_lock_w™h_checks
(
kmp_ad­tive_lock_t
 *
lck
) {

3409 
	`__kmp_š™_ad­tive_lock
(
lck
);

3410 
	}
}

3413 
	$__kmp_is_drd·_lock_š™Ÿlized
(
kmp_drd·_lock_t
 *
lck
) {

3414  
lck
 =ğlck->
lk
.
š™Ÿlized
;

3415 
	}
}

3417 
	$__kmp_š™_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
) {

3418 
	`__kmp_š™_drd·_lock
(
lck
);

3419 
	}
}

3421 
	$__kmp_š™_Ã¡ed_drd·_lock_w™h_checks
(
kmp_drd·_lock_t
 *
lck
) {

3422 
	`__kmp_š™_Ã¡ed_drd·_lock
(
lck
);

3423 
	}
}

3429 
kmp_lock_kšd
 
	g__kmp_u£r_lock_kšd
 = 
lk_deçuÉ
;

3431 
size_t
 
	g__kmp_ba£_u£r_lock_size
 = 0;

3432 
size_t
 
	g__kmp_u£r_lock_size
 = 0;

3434 
	$kmp_št32
 (*
__kmp_g‘_u£r_lock_owÃr_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3435 (*
__kmp_acquœe_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3436 
kmp_št32
 
gtid
èğ
NULL
;

3438 (*
__kmp_‹¡_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3439 
kmp_št32
 
gtid
èğ
NULL
;

3440 (*
__kmp_»Ëa£_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3441 
kmp_št32
 
gtid
èğ
NULL
;

3442 (*
__kmp_š™_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3443 (*
__kmp_de¡roy_u£r_lock_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3444 (*
__kmp_de¡roy_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3445 (*
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3446 
kmp_št32
 
gtid
èğ
NULL
;

3448 (*
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3449 
kmp_št32
 
gtid
èğ
NULL
;

3450 (*
__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

3451 
kmp_št32
 
gtid
èğ
NULL
;

3452 (*
__kmp_š™_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3453 (*
__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3455 (*
__kmp_is_u£r_lock_š™Ÿlized_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3456 cÚ¡ 
id’t_t
 *(*
__kmp_g‘_u£r_lock_loÿtiÚ_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3457 (*
__kmp_£t_u£r_lock_loÿtiÚ_
)(
kmp_u£r_lock_p
 
lck
,

3458 cÚ¡ 
id’t_t
 *
loc
èğ
NULL
;

3459 
	$kmp_lock_æags_t
 (*
__kmp_g‘_u£r_lock_æags_
)(
kmp_u£r_lock_p
 
lck
èğ
NULL
;

3460 (*
__kmp_£t_u£r_lock_æags_
)(
kmp_u£r_lock_p
 
lck
,

3461 
kmp_lock_æags_t
 
æags
èğ
NULL
;

3463 
	$__kmp_£t_u£r_lock_v±rs
(
kmp_lock_kšd_t
 
u£r_lock_kšd
) {

3464 
u£r_lock_kšd
) {

3465 
lk_deçuÉ
:

3467 
	`KMP_ASSERT
(0);

3469 
lk_s
: {

3470 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_s_lock_t
);

3471 
__kmp_u£r_lock_size
 = (
kmp_s_lock_t
);

3473 
__kmp_g‘_u£r_lock_owÃr_
 =

3474 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_s_lock_owÃr
);

3476 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3477 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
s
);

3478 
	`KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
s
);

3480 
	`KMP_BIND_USER_LOCK
(
s
);

3481 
	`KMP_BIND_NESTED_USER_LOCK
(
s
);

3484 
__kmp_de¡roy_u£r_lock_
 =

3485 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_s_lock
);

3487 
__kmp_is_u£r_lock_š™Ÿlized_
 = ((*)(
kmp_u£r_lock_p
))
NULL
;

3489 
__kmp_g‘_u£r_lock_loÿtiÚ_
 = (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))
NULL
;

3491 
__kmp_£t_u£r_lock_loÿtiÚ_
 =

3492 ((*)(
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))
NULL
;

3494 
__kmp_g‘_u£r_lock_æags_
 = (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))
NULL
;

3496 
__kmp_£t_u£r_lock_æags_
 =

3497 ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))
NULL
;

3500 #ià
KMP_USE_FUTEX


3502 
lk_fu‹x
: {

3503 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_fu‹x_lock_t
);

3504 
__kmp_u£r_lock_size
 = (
kmp_fu‹x_lock_t
);

3506 
__kmp_g‘_u£r_lock_owÃr_
 =

3507 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_fu‹x_lock_owÃr
);

3509 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3510 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
fu‹x
);

3511 
	`KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
fu‹x
);

3513 
	`KMP_BIND_USER_LOCK
(
fu‹x
);

3514 
	`KMP_BIND_NESTED_USER_LOCK
(
fu‹x
);

3517 
__kmp_de¡roy_u£r_lock_
 =

3518 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_fu‹x_lock
);

3520 
__kmp_is_u£r_lock_š™Ÿlized_
 = ((*)(
kmp_u£r_lock_p
))
NULL
;

3522 
__kmp_g‘_u£r_lock_loÿtiÚ_
 = (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))
NULL
;

3524 
__kmp_£t_u£r_lock_loÿtiÚ_
 =

3525 ((*)(
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))
NULL
;

3527 
__kmp_g‘_u£r_lock_æags_
 = (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))
NULL
;

3529 
__kmp_£t_u£r_lock_æags_
 =

3530 ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))
NULL
;

3535 
lk_tick‘
: {

3536 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_tick‘_lock_t
);

3537 
__kmp_u£r_lock_size
 = (
kmp_tick‘_lock_t
);

3539 
__kmp_g‘_u£r_lock_owÃr_
 =

3540 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_tick‘_lock_owÃr
);

3542 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3543 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
tick‘
);

3544 
	`KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
tick‘
);

3546 
	`KMP_BIND_USER_LOCK
(
tick‘
);

3547 
	`KMP_BIND_NESTED_USER_LOCK
(
tick‘
);

3550 
__kmp_de¡roy_u£r_lock_
 =

3551 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_tick‘_lock
);

3553 
__kmp_is_u£r_lock_š™Ÿlized_
 =

3554 ((*)(
kmp_u£r_lock_p
))(&
__kmp_is_tick‘_lock_š™Ÿlized
);

3556 
__kmp_g‘_u£r_lock_loÿtiÚ_
 =

3557 (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_tick‘_lock_loÿtiÚ
);

3559 
__kmp_£t_u£r_lock_loÿtiÚ_
 = ((*)(

3560 
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))(&
__kmp_£t_tick‘_lock_loÿtiÚ
);

3562 
__kmp_g‘_u£r_lock_æags_
 =

3563 (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_tick‘_lock_æags
);

3565 
__kmp_£t_u£r_lock_æags_
 = ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))(

3566 &
__kmp_£t_tick‘_lock_æags
);

3569 
lk_queušg
: {

3570 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_queušg_lock_t
);

3571 
__kmp_u£r_lock_size
 = (
kmp_queušg_lock_t
);

3573 
__kmp_g‘_u£r_lock_owÃr_
 =

3574 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_owÃr
);

3576 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3577 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
queušg
);

3578 
	`KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
queušg
);

3580 
	`KMP_BIND_USER_LOCK
(
queušg
);

3581 
	`KMP_BIND_NESTED_USER_LOCK
(
queušg
);

3584 
__kmp_de¡roy_u£r_lock_
 =

3585 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_queušg_lock
);

3587 
__kmp_is_u£r_lock_š™Ÿlized_
 =

3588 ((*)(
kmp_u£r_lock_p
))(&
__kmp_is_queušg_lock_š™Ÿlized
);

3590 
__kmp_g‘_u£r_lock_loÿtiÚ_
 =

3591 (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_loÿtiÚ
);

3593 
__kmp_£t_u£r_lock_loÿtiÚ_
 = ((*)(

3594 
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))(&
__kmp_£t_queušg_lock_loÿtiÚ
);

3596 
__kmp_g‘_u£r_lock_æags_
 =

3597 (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_æags
);

3599 
__kmp_£t_u£r_lock_æags_
 = ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))(

3600 &
__kmp_£t_queušg_lock_æags
);

3603 #ià
KMP_USE_ADAPTIVE_LOCKS


3604 
lk_ad­tive
: {

3605 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_ad­tive_lock_t
);

3606 
__kmp_u£r_lock_size
 = (
kmp_ad­tive_lock_t
);

3608 
__kmp_g‘_u£r_lock_owÃr_
 =

3609 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_owÃr
);

3611 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3612 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
ad­tive
);

3614 
	`KMP_BIND_USER_LOCK
(
ad­tive
);

3617 
__kmp_de¡roy_u£r_lock_
 =

3618 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_ad­tive_lock
);

3620 
__kmp_is_u£r_lock_š™Ÿlized_
 =

3621 ((*)(
kmp_u£r_lock_p
))(&
__kmp_is_queušg_lock_š™Ÿlized
);

3623 
__kmp_g‘_u£r_lock_loÿtiÚ_
 =

3624 (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_loÿtiÚ
);

3626 
__kmp_£t_u£r_lock_loÿtiÚ_
 = ((*)(

3627 
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))(&
__kmp_£t_queušg_lock_loÿtiÚ
);

3629 
__kmp_g‘_u£r_lock_æags_
 =

3630 (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_queušg_lock_æags
);

3632 
__kmp_£t_u£r_lock_æags_
 = ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))(

3633 &
__kmp_£t_queušg_lock_æags
);

3638 
lk_drd·
: {

3639 
__kmp_ba£_u£r_lock_size
 = (
kmp_ba£_drd·_lock_t
);

3640 
__kmp_u£r_lock_size
 = (
kmp_drd·_lock_t
);

3642 
__kmp_g‘_u£r_lock_owÃr_
 =

3643 (
	`kmp_št32
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_drd·_lock_owÃr
);

3645 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3646 
	`KMP_BIND_USER_LOCK_WITH_CHECKS
(
drd·
);

3647 
	`KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
drd·
);

3649 
	`KMP_BIND_USER_LOCK
(
drd·
);

3650 
	`KMP_BIND_NESTED_USER_LOCK
(
drd·
);

3653 
__kmp_de¡roy_u£r_lock_
 =

3654 ((*)(
kmp_u£r_lock_p
))(&
__kmp_de¡roy_drd·_lock
);

3656 
__kmp_is_u£r_lock_š™Ÿlized_
 =

3657 ((*)(
kmp_u£r_lock_p
))(&
__kmp_is_drd·_lock_š™Ÿlized
);

3659 
__kmp_g‘_u£r_lock_loÿtiÚ_
 =

3660 (cÚ¡ 
id’t_t
 *(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_drd·_lock_loÿtiÚ
);

3662 
__kmp_£t_u£r_lock_loÿtiÚ_
 = ((*)(

3663 
kmp_u£r_lock_p
, cÚ¡ 
id’t_t
 *))(&
__kmp_£t_drd·_lock_loÿtiÚ
);

3665 
__kmp_g‘_u£r_lock_æags_
 =

3666 (
	`kmp_lock_æags_t
(*)(
kmp_u£r_lock_p
))(&
__kmp_g‘_drd·_lock_æags
);

3668 
__kmp_£t_u£r_lock_æags_
 = ((*)(
kmp_u£r_lock_p
, 
kmp_lock_æags_t
))(

3669 &
__kmp_£t_drd·_lock_æags
);

3672 
	}
}

3677 
kmp_lock_bË_t
 
	g__kmp_u£r_lock_bË
 = {1, 0, 
NULL
};

3678 
kmp_u£r_lock_p
 
	g__kmp_lock_poŞ
 = 
NULL
;

3681 
kmp_block_of_locks
 *
	g__kmp_lock_blocks
 = 
NULL
;

3682 
	g__kmp_num_locks_š_block
 = 1;

3684 
kmp_lock_šdex_t
 
	$__kmp_lock_bË_š£¹
(
kmp_u£r_lock_p
 
lck
) {

3686 
kmp_lock_šdex_t
 
šdex
;

3687 ià(
__kmp_u£r_lock_bË
.
u£d
 >ğ__kmp_u£r_lock_bË.
®loÿ‹d
) {

3688 
kmp_lock_šdex_t
 
size
;

3689 
kmp_u£r_lock_p
 *
bË
;

3691 ià(
__kmp_u£r_lock_bË
.
®loÿ‹d
 == 0) {

3692 
size
 = 1024;

3694 
size
 = 
__kmp_u£r_lock_bË
.
®loÿ‹d
 * 2;

3696 
bË
 = (
kmp_u£r_lock_p
 *)
	`__kmp_®loÿ‹
((kmp_u£r_lock_pè* 
size
);

3697 
	`KMP_MEMCPY
(
bË
 + 1, 
__kmp_u£r_lock_bË
.table + 1,

3698 (
kmp_u£r_lock_p
è* (
__kmp_u£r_lock_bË
.
u£d
 - 1));

3699 
bË
[0] = (
kmp_u£r_lock_p
)
__kmp_u£r_lock_bË
.table;

3704 
__kmp_u£r_lock_bË
.
bË
 =able;

3705 
__kmp_u£r_lock_bË
.
®loÿ‹d
 = 
size
;

3707 
	`KMP_DEBUG_ASSERT
(
__kmp_u£r_lock_bË
.
u£d
 <

3708 
__kmp_u£r_lock_bË
.
®loÿ‹d
);

3709 
šdex
 = 
__kmp_u£r_lock_bË
.
u£d
;

3710 
__kmp_u£r_lock_bË
.
bË
[
šdex
] = 
lck
;

3711 ++
__kmp_u£r_lock_bË
.
u£d
;

3712  
šdex
;

3713 
	}
}

3715 
kmp_u£r_lock_p
 
	$__kmp_lock_block_®loÿ‹
() {

3717 
Ï¡_šdex
 = 0;

3718 ià((
Ï¡_šdex
 >ğ
__kmp_num_locks_š_block
è|| (
__kmp_lock_blocks
 =ğ
NULL
)) {

3720 
Ï¡_šdex
 = 0;

3722 
	`KMP_DEBUG_ASSERT
(
__kmp_u£r_lock_size
 > 0);

3723 
size_t
 
¥aû_fÜ_locks
 = 
__kmp_u£r_lock_size
 * 
__kmp_num_locks_š_block
;

3724 *
bufãr
 =

3725 (*)
	`__kmp_®loÿ‹
(
¥aû_fÜ_locks
 + (
kmp_block_of_locks
));

3727 
kmp_block_of_locks
 *
Ãw_block
 =

3728 (
kmp_block_of_locks
 *)(&
bufãr
[
¥aû_fÜ_locks
]);

3729 
Ãw_block
->
Ãxt_block
 = 
__kmp_lock_blocks
;

3730 
Ãw_block
->
locks
 = (*)
bufãr
;

3732 
	`KMP_MB
();

3733 
__kmp_lock_blocks
 = 
Ãw_block
;

3735 
kmp_u£r_lock_p
 
»t
 = (kmp_user_lock_p)(&(

3736 ((*)(
__kmp_lock_blocks
->
locks
))[
Ï¡_šdex
 * 
__kmp_u£r_lock_size
]));

3737 
Ï¡_šdex
++;

3738  
»t
;

3739 
	}
}

3743 
kmp_u£r_lock_p
 
	$__kmp_u£r_lock_®loÿ‹
(**
u£r_lock
, 
kmp_št32
 
gtid
,

3744 
kmp_lock_æags_t
 
æags
) {

3745 
kmp_u£r_lock_p
 
lck
;

3746 
kmp_lock_šdex_t
 
šdex
;

3747 
	`KMP_DEBUG_ASSERT
(
u£r_lock
);

3749 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

3751 ià(
__kmp_lock_poŞ
 =ğ
NULL
) {

3756 
	`ANNOTATE_IGNORE_WRITES_BEGIN
();

3757 ià(
__kmp_num_locks_š_block
 <= 1) {

3758 
lck
 = (
kmp_u£r_lock_p
)
	`__kmp_®loÿ‹
(
__kmp_u£r_lock_size
);

3760 
lck
 = 
	`__kmp_lock_block_®loÿ‹
();

3762 
	`ANNOTATE_IGNORE_WRITES_END
();

3766 
šdex
 = 
	`__kmp_lock_bË_š£¹
(
lck
);

3769 
lck
 = 
__kmp_lock_poŞ
;

3770 
šdex
 = 
__kmp_lock_poŞ
->
poŞ
.index;

3771 
__kmp_lock_poŞ
 = __kmp_lock_poŞ->
poŞ
.
Ãxt
;

3776 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3777 *((
kmp_lock_šdex_t
 *)
u£r_lock
èğ
šdex
;

3779 *((
kmp_u£r_lock_p
 *)
u£r_lock
èğ
lck
;

3783 
	`__kmp_£t_u£r_lock_æags
(
lck
, 
æags
);

3785 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

3787  
lck
;

3788 
	}
}

3791 
	$__kmp_u£r_lock_ä“
(**
u£r_lock
, 
kmp_št32
 
gtid
,

3792 
kmp_u£r_lock_p
 
lck
) {

3793 
	`KMP_DEBUG_ASSERT
(
u£r_lock
 !ğ
NULL
);

3794 
	`KMP_DEBUG_ASSERT
(
lck
 !ğ
NULL
);

3796 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

3798 
lck
->
poŞ
.
Ãxt
 = 
__kmp_lock_poŞ
;

3799 
__kmp_lock_poŞ
 = 
lck
;

3800 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3801 
kmp_lock_šdex_t
 
šdex
 = *((kmp_lock_šdex_ˆ*)
u£r_lock
);

3802 
	`KMP_DEBUG_ASSERT
(0 < 
šdex
 && index <ğ
__kmp_u£r_lock_bË
.
u£d
);

3803 
lck
->
poŞ
.
šdex
 = index;

3806 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

3807 
	}
}

3809 
kmp_u£r_lock_p
 
	$__kmp_lookup_u£r_lock
(**
u£r_lock
, cÚ¡ *
func
) {

3810 
kmp_u£r_lock_p
 
lck
 = 
NULL
;

3812 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3813 ià(
u£r_lock
 =ğ
NULL
) {

3814 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3818 ià(
OMP_LOCK_T_SIZE
 < (*)) {

3819 
kmp_lock_šdex_t
 
šdex
 = *((kmp_lock_šdex_ˆ*)
u£r_lock
);

3820 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3821 ià(!(0 < 
šdex
 && index < 
__kmp_u£r_lock_bË
.
u£d
)) {

3822 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3825 
	`KMP_DEBUG_ASSERT
(0 < 
šdex
 && index < 
__kmp_u£r_lock_bË
.
u£d
);

3826 
	`KMP_DEBUG_ASSERT
(
__kmp_u£r_lock_size
 > 0);

3827 
lck
 = 
__kmp_u£r_lock_bË
.
bË
[
šdex
];

3829 
lck
 = *((
kmp_u£r_lock_p
 *)
u£r_lock
);

3832 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3833 ià(
lck
 =ğ
NULL
) {

3834 
	`KMP_FATAL
(
LockIsUnš™Ÿlized
, 
func
);

3838  
lck
;

3839 
	}
}

3841 
	$__kmp_ş—nup_u£r_locks
() {

3844 
__kmp_lock_poŞ
 = 
NULL
;

3846 
	#IS_CRITICAL
(
lck
) \

3847 ((
__kmp_g‘_u£r_lock_æags_
 !ğ
NULL
) && \

3848 ((*
__kmp_g‘_u£r_lock_æags_
)(
lck
)&
kmp_lf_ü™iÿl_£ùiÚ
))

	)

3873 
__kmp_u£r_lock_bË
.
u£d
 > 1) {

3874 cÚ¡ 
id’t
 *
loc
;

3878 
kmp_u£r_lock_p
 
lck
 =

3879 
__kmp_u£r_lock_bË
.
bË
[--__kmp_u£r_lock_bË.
u£d
];

3881 ià((
__kmp_is_u£r_lock_š™Ÿlized_
 !ğ
NULL
) &&

3882 (*
__kmp_is_u£r_lock_š™Ÿlized_
)(
lck
)) {

3886 ià(
__kmp_’v_cÚsi¡’cy_check
 && (!
	`IS_CRITICAL
(
lck
)) &&

3887 ((
loc
 = 
	`__kmp_g‘_u£r_lock_loÿtiÚ
(
lck
)è!ğ
NULL
) &&

3888 (
loc
->
psourû
 !ğ
NULL
)) {

3889 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 0);

3890 
	`KMP_WARNING
(
CnsLockNÙDe¡royed
, 
¡r_loc
.
fe
, sŒ_loc.
lše
);

3891 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

3894 #ifdeà
KMP_DEBUG


3895 ià(
	`IS_CRITICAL
(
lck
)) {

3896 
	`KA_TRACE
(

3899 
lck
, *(**)lck));

3901 
	`KA_TRACE
(20, ("__kmp_ş—nup_u£r_locks: f»lock %°(%p)\n", 
lck
,

3902 *(**)
lck
));

3907 
	`__kmp_de¡roy_u£r_lock
(
lck
);

3911 ià(
__kmp_lock_blocks
 =ğ
NULL
) {

3912 
	`__kmp_ä“
(
lck
);

3916 #undeà
IS_CRITICAL


3919 
kmp_u£r_lock_p
 *
bË_±r
 = 
__kmp_u£r_lock_bË
.
bË
;

3920 
__kmp_u£r_lock_bË
.
bË
 = 
NULL
;

3921 
__kmp_u£r_lock_bË
.
®loÿ‹d
 = 0;

3923 
bË_±r
 !ğ
NULL
) {

3926 
kmp_u£r_lock_p
 *
Ãxt
 = (kmp_u£r_lock_°*)(
bË_±r
[0]);

3927 
	`__kmp_ä“
(
bË_±r
);

3928 
bË_±r
 = 
Ãxt
;

3932 
kmp_block_of_locks_t
 *
block_±r
 = 
__kmp_lock_blocks
;

3933 
__kmp_lock_blocks
 = 
NULL
;

3935 
block_±r
 !ğ
NULL
) {

3936 
kmp_block_of_locks_t
 *
Ãxt
 = 
block_±r
->
Ãxt_block
;

3937 
	`__kmp_ä“
(
block_±r
->
locks
);

3939 
block_±r
 = 
Ãxt
;

3942 
	`TCW_4
(
__kmp_š™_u£r_locks
, 
FALSE
);

3943 
	}
}

	@kmp_lock.h

13 #iâdeà
KMP_LOCK_H


14 
	#KMP_LOCK_H


	)

16 
	~<lim™s.h
>

17 
	~<¡ddef.h
>

19 
	~"kmp_debug.h
"

20 
	~"kmp_os.h
"

22 #ifdeà
__ılu¥lus


23 
	~<©omic
>

32 
	#KMP_PAD
(
ty³
, 
sz
) \

33 ((
ty³
è+ (
sz
 - ((Ñy³è- 1è% (sz)è- 1))

	)

34 
	#KMP_GTID_DNE
 (-2)

	)

38 
id’t
;

39 
id’t
 
	tid’t_t
;

53 #ià
KMP_OS_LINUX
 && 
defšed
(
KMP_GOMP_COMPAT
)

54 
	#OMP_LOCK_T_SIZE
 ()

	)

55 
	#OMP_NEST_LOCK_T_SIZE
 (*)

	)

57 
	#OMP_LOCK_T_SIZE
 (*)

	)

58 
	#OMP_NEST_LOCK_T_SIZE
 (*)

	)

64 
	#OMP_CRITICAL_SIZE
 (*)

	)

65 
	#INTEL_CRITICAL_SIZE
 32

	)

68 
kmp_ušt32
 
	tkmp_lock_æags_t
;

70 
	#kmp_lf_ü™iÿl_£ùiÚ
 1

	)

73 
kmp_ušt32
 
	tkmp_lock_šdex_t
;

77 
	skmp_lock_poŞ
 {

78 
kmp_u£r_lock
 *
Ãxt
;

79 
kmp_lock_šdex_t
 
šdex
;

82 
kmp_lock_poŞ
 
	tkmp_lock_poŞ_t
;

84 
__kmp_v®id©e_locks
();

121 
	skmp_ba£_s_lock
 {

123 
	g¡d
::
©omic
<
kmp_št32
> 
pŞl
;

124 
kmp_št32
 
	gd•th_locked
;

127 
kmp_ba£_s_lock
 
	tkmp_ba£_s_lock_t
;

129 
	ukmp_s_lock
 {

130 
kmp_ba£_s_lock_t
 
	glk
;

131 
kmp_lock_poŞ_t
 
	gpoŞ
;

132 
	glk_®ign
;

135 
kmp_s_lock
 
	tkmp_s_lock_t
;

139 
	#KMP_TAS_LOCK_INITIALIZER
(
lock
) \

141 { 
	`ATOMIC_VAR_INIT
(
	`KMP_LOCK_FREE
(
s
)), 0 } \

142 }

	)

144 
__kmp_acquœe_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

145 
__kmp_‹¡_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

146 
__kmp_»Ëa£_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

147 
__kmp_š™_s_lock
(
kmp_s_lock_t
 *
lck
);

148 
__kmp_de¡roy_s_lock
(
kmp_s_lock_t
 *
lck
);

150 
__kmp_acquœe_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

151 
__kmp_‹¡_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

152 
__kmp_»Ëa£_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

153 
__kmp_š™_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
);

154 
__kmp_de¡roy_Ã¡ed_s_lock
(
kmp_s_lock_t
 *
lck
);

156 
	#KMP_LOCK_RELEASED
 1

	)

157 
	#KMP_LOCK_STILL_HELD
 0

	)

158 
	#KMP_LOCK_ACQUIRED_FIRST
 1

	)

159 
	#KMP_LOCK_ACQUIRED_NEXT
 0

	)

160 #iâdeà
KMP_USE_FUTEX


161 
	#KMP_USE_FUTEX
 \

162 (
KMP_OS_LINUX
 && !
KMP_OS_CNK
 && \

163 (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
))

	)

165 #ià
KMP_USE_FUTEX


178 
	skmp_ba£_fu‹x_lock
 {

179 vŞ©
kmp_št32
 
	gpŞl
;

182 
kmp_št32
 
	gd•th_locked
;

185 
kmp_ba£_fu‹x_lock
 
	tkmp_ba£_fu‹x_lock_t
;

187 
	ukmp_fu‹x_lock
 {

188 
kmp_ba£_fu‹x_lock_t
 
	glk
;

189 
kmp_lock_poŞ_t
 
	gpoŞ
;

190 
	glk_®ign
;

194 
kmp_fu‹x_lock
 
	tkmp_fu‹x_lock_t
;

198 
	#KMP_FUTEX_LOCK_INITIALIZER
(
lock
) \

200 { 
	`KMP_LOCK_FREE
(
fu‹x
), 0 } \

201 }

	)

203 
__kmp_acquœe_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

204 
__kmp_‹¡_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

205 
__kmp_»Ëa£_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

206 
__kmp_š™_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
);

207 
__kmp_de¡roy_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
);

209 
__kmp_acquœe_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
,

210 
kmp_št32
 
gtid
);

211 
__kmp_‹¡_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

212 
__kmp_»Ëa£_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
,

213 
kmp_št32
 
gtid
);

214 
__kmp_š™_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
);

215 
__kmp_de¡roy_Ã¡ed_fu‹x_lock
(
kmp_fu‹x_lock_t
 *
lck
);

222 #ifdeà
__ılu¥lus


224 #ifdeà
_MSC_VER


228 
	skmp_ba£_tick‘_lock
 {

230 
	g¡d
::
©omic_boŞ
 
š™Ÿlized
;

231 vŞ©
kmp_tick‘_lock
 *
	g£lf
;

232 
id’t_t
 cÚ¡ *
	gloÿtiÚ
;

233 
	g¡d
::
©omic_ušt


234 
Ãxt_tick‘
;

235 
	g¡d
::
©omic_ušt
 
now_£rvšg
;

236 
	g¡d
::
©omic_št
 
owÃr_id
;

237 
	g¡d
::
©omic_št
 
d•th_locked
;

238 
kmp_lock_æags_t
 
	gæags
;

241 
	skmp_ba£_tick‘_lock
 {

243 
	g¡d
::
©omic
<
boŞ
> 
š™Ÿlized
;

244 vŞ©
kmp_tick‘_lock
 *
	g£lf
;

245 
id’t_t
 cÚ¡ *
	gloÿtiÚ
;

246 
	g¡d
::
©omic
<>

247 
Ãxt_tick‘
;

248 
	g¡d
::
©omic
<>

249 
now_£rvšg
;

250 
	g¡d
::
©omic
<> 
owÃr_id
;

251 
	g¡d
::
©omic
<> 
d•th_locked
;

252 
kmp_lock_æags_t
 
	gæags
;

258 
	gkmp_ba£_tick‘_lock
;

262 
kmp_ba£_tick‘_lock
 
	tkmp_ba£_tick‘_lock_t
;

264 
KMP_ALIGN_CACHE
 
	gkmp_tick‘_lock
 {

265 
kmp_ba£_tick‘_lock_t


266 
	glk
;

267 
kmp_lock_poŞ_t
 
	gpoŞ
;

268 
	glk_®ign
;

269 
	glk_·d
[
KMP_PAD
(
kmp_ba£_tick‘_lock_t
, 
CACHE_LINE
)];

272 
kmp_tick‘_lock
 
	tkmp_tick‘_lock_t
;

277 
	#KMP_TICKET_LOCK_INITIALIZER
(
lock
) \

280 
	`ATOMIC_VAR_INIT
(
Œue
) \

281 , &(
lock
), 
NULL
, 
	`ATOMIC_VAR_INIT
(0U), ATOMIC_VAR_INIT(0U), \

282 
	`ATOMIC_VAR_INIT
(0), ATOMIC_VAR_INIT(-1) \

284 }

	)

286 
__kmp_acquœe_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

287 
__kmp_‹¡_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

288 
__kmp_‹¡_tick‘_lock_w™h_cheks
(
kmp_tick‘_lock_t
 *
lck
,

289 
kmp_št32
 
gtid
);

290 
__kmp_»Ëa£_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

291 
__kmp_š™_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
);

292 
__kmp_de¡roy_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
);

294 
__kmp_acquœe_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
,

295 
kmp_št32
 
gtid
);

296 
__kmp_‹¡_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
,

297 
kmp_št32
 
gtid
);

298 
__kmp_»Ëa£_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
,

299 
kmp_št32
 
gtid
);

300 
__kmp_š™_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
);

301 
__kmp_de¡roy_Ã¡ed_tick‘_lock
(
kmp_tick‘_lock_t
 *
lck
);

306 #ià
KMP_USE_ADAPTIVE_LOCKS


308 
	gkmp_ad­tive_lock_šfo
;

310 
kmp_ad­tive_lock_šfo
 
	tkmp_ad­tive_lock_šfo_t
;

312 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


314 
	skmp_ad­tive_lock_¡©i¡ics
 {

316 
kmp_ad­tive_lock_šfo_t
 *
	gÃxt
;

317 
kmp_ad­tive_lock_šfo_t
 *
	g´ev
;

320 
kmp_ušt32
 
	gsucûssfulS³cuÏtiÚs
;

321 
kmp_ušt32
 
	gh¬dFaedS³cuÏtiÚs
;

322 
kmp_ušt32
 
	gsoáFaedS³cuÏtiÚs
;

323 
kmp_ušt32
 
	gnÚS³cuÏtiveAcquœes
;

324 
kmp_ušt32
 
	gnÚS³cuÏtiveAcquœeA‰em±s
;

325 
kmp_ušt32
 
	gËmmšgY›lds
;

328 
kmp_ad­tive_lock_¡©i¡ics
 
	tkmp_ad­tive_lock_¡©i¡ics_t
;

330 
__kmp_´št_¥ecuÏtive_¡©s
();

331 
__kmp_š™_¥ecuÏtive_¡©s
();

335 
	skmp_ad­tive_lock_šfo
 {

340 
kmp_ušt32
 vŞ©
	gbadÃss
;

341 
kmp_ušt32
 vŞ©
	gacquœe_©‹m±s
;

343 
kmp_ušt32
 
	gmax_badÃss
;

344 
kmp_ušt32
 
	gmax_soá_»Œ›s
;

346 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


347 
kmp_ad­tive_lock_¡©i¡ics_t
 vŞ©
	g¡©s
;

353 
	skmp_ba£_queušg_lock
 {

356 vŞ©
kmp_queušg_lock


357 *
	gš™Ÿlized
;

359 
id’t_t
 cÚ¡ *
	gloÿtiÚ
;

361 
KMP_ALIGN
(8)

363 vŞ©
kmp_št32


364 
	g_id
;

366 vŞ©
kmp_št32


367 
	gh—d_id
;

370 vŞ©
kmp_ušt32


371 
	gÃxt_tick‘
;

372 vŞ©
kmp_ušt32


373 
	gnow_£rvšg
;

374 vŞ©
kmp_št32
 
	gowÃr_id
;

375 
kmp_št32
 
	gd•th_locked
;

377 
kmp_lock_æags_t
 
	gæags
;

380 
kmp_ba£_queušg_lock
 
	tkmp_ba£_queušg_lock_t
;

382 
KMP_BUILD_ASSERT
(
off£tof
(
kmp_ba£_queušg_lock_t
, 
_id
) % 8 == 0);

384 
KMP_ALIGN_CACHE
 
	gkmp_queušg_lock
 {

385 
kmp_ba£_queušg_lock_t


386 
	glk
;

387 
kmp_lock_poŞ_t
 
	gpoŞ
;

388 
	glk_®ign
;

389 
	glk_·d
[
KMP_PAD
(
kmp_ba£_queušg_lock_t
, 
CACHE_LINE
)];

392 
kmp_queušg_lock
 
	tkmp_queušg_lock_t
;

394 
__kmp_acquœe_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

395 
__kmp_‹¡_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

396 
__kmp_»Ëa£_queušg_lock
(
kmp_queušg_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

397 
__kmp_š™_queušg_lock
(
kmp_queušg_lock_t
 *
lck
);

398 
__kmp_de¡roy_queušg_lock
(
kmp_queušg_lock_t
 *
lck
);

400 
__kmp_acquœe_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
,

401 
kmp_št32
 
gtid
);

402 
__kmp_‹¡_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
,

403 
kmp_št32
 
gtid
);

404 
__kmp_»Ëa£_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
,

405 
kmp_št32
 
gtid
);

406 
__kmp_š™_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
);

407 
__kmp_de¡roy_Ã¡ed_queušg_lock
(
kmp_queušg_lock_t
 *
lck
);

409 #ià
KMP_USE_ADAPTIVE_LOCKS


413 
	skmp_ba£_ad­tive_lock
 {

414 
kmp_ba£_queušg_lock
 
	gqlk
;

415 
KMP_ALIGN
(
CACHE_LINE
)

416 
kmp_ad­tive_lock_šfo_t


417 
	gad­tive
;

420 
kmp_ba£_ad­tive_lock
 
	tkmp_ba£_ad­tive_lock_t
;

422 
KMP_ALIGN_CACHE
 
	gkmp_ad­tive_lock
 {

423 
kmp_ba£_ad­tive_lock_t
 
	glk
;

424 
kmp_lock_poŞ_t
 
	gpoŞ
;

425 
	glk_®ign
;

426 
	glk_·d
[
KMP_PAD
(
kmp_ba£_ad­tive_lock_t
, 
CACHE_LINE
)];

428 
kmp_ad­tive_lock
 
	tkmp_ad­tive_lock_t
;

430 
	#GET_QLK_PTR
(
l
è((
kmp_queušg_lock_t
 *)&Ö)->
lk
.
qlk
)

	)

436 
	skmp_ba£_drd·_lock
 {

443 
KMP_ALIGN_CACHE


445 vŞ©
kmp_drd·_lock


446 *
	gš™Ÿlized
;

447 
id’t_t
 cÚ¡ *
	gloÿtiÚ
;

448 
	g¡d
::
©omic
<
¡d
::©omic<
kmp_ušt64
> *> 
pŞls
;

449 
	g¡d
::
©omic
<
kmp_ušt64
> 
mask
;

450 
kmp_ušt64
 
	gş—nup_tick‘
;

451 
	g¡d
::
©omic
<
kmp_ušt64
> *
Şd_pŞls
;

452 
kmp_ušt32
 
	gnum_pŞls
;

456 
KMP_ALIGN_CACHE


458 
	g¡d
::
©omic
<
kmp_ušt64
> 
Ãxt_tick‘
;

472 
KMP_ALIGN_CACHE


473 
kmp_ušt64
 
	gnow_£rvšg
;

474 vŞ©
kmp_ušt32
 
	gowÃr_id
;

475 
kmp_št32
 
	gd•th_locked
;

476 
kmp_lock_æags_t
 
	gæags
;

479 
kmp_ba£_drd·_lock
 
	tkmp_ba£_drd·_lock_t
;

481 
KMP_ALIGN_CACHE
 
	gkmp_drd·_lock
 {

482 
kmp_ba£_drd·_lock_t


483 
	glk
;

484 
kmp_lock_poŞ_t
 
	gpoŞ
;

485 
	glk_®ign
;

486 
	glk_·d
[
KMP_PAD
(
kmp_ba£_drd·_lock_t
, 
CACHE_LINE
)];

489 
kmp_drd·_lock
 
	tkmp_drd·_lock_t
;

491 
__kmp_acquœe_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

492 
__kmp_‹¡_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

493 
__kmp_»Ëa£_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

494 
__kmp_š™_drd·_lock
(
kmp_drd·_lock_t
 *
lck
);

495 
__kmp_de¡roy_drd·_lock
(
kmp_drd·_lock_t
 *
lck
);

497 
__kmp_acquœe_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
,

498 
kmp_št32
 
gtid
);

499 
__kmp_‹¡_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
, 
kmp_št32
 
gtid
);

500 
__kmp_»Ëa£_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
,

501 
kmp_št32
 
gtid
);

502 
__kmp_š™_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
);

503 
__kmp_de¡roy_Ã¡ed_drd·_lock
(
kmp_drd·_lock_t
 *
lck
);

517 
kmp_tick‘_lock_t
 
	tkmp_boÙ¡¿p_lock_t
;

519 
	#KMP_BOOTSTRAP_LOCK_INITIALIZER
(
lock
è
	`KMP_TICKET_LOCK_INITIALIZER
(Öock))

	)

520 
	#KMP_BOOTSTRAP_LOCK_INIT
(
lock
) \

521 
kmp_boÙ¡¿p_lock_t
 
lock
 = 
	`KMP_TICKET_LOCK_INITIALIZER
Öock)

	)

523 
šlše
 
__kmp_acquœe_boÙ¡¿p_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

524  
__kmp_acquœe_tick‘_lock
(
lck
, 
KMP_GTID_DNE
);

527 
šlše
 
__kmp_‹¡_boÙ¡¿p_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

528  
__kmp_‹¡_tick‘_lock
(
lck
, 
KMP_GTID_DNE
);

531 
šlše
 
__kmp_»Ëa£_boÙ¡¿p_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

532 
__kmp_»Ëa£_tick‘_lock
(
lck
, 
KMP_GTID_DNE
);

535 
šlše
 
__kmp_š™_boÙ¡¿p_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

536 
__kmp_š™_tick‘_lock
(
lck
);

539 
šlše
 
__kmp_de¡roy_boÙ¡¿p_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

540 
__kmp_de¡roy_tick‘_lock
(
lck
);

551 
kmp_tick‘_lock_t
 
	tkmp_lock_t
;

553 
	#KMP_LOCK_INIT
(
lock
è
kmp_lock_t
†ock = 
	`KMP_TICKET_LOCK_INITIALIZER
Öock)

	)

555 
šlše
 
__kmp_acquœe_lock
(
kmp_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

556  
__kmp_acquœe_tick‘_lock
(
lck
, 
gtid
);

559 
šlše
 
__kmp_‹¡_lock
(
kmp_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

560  
__kmp_‹¡_tick‘_lock
(
lck
, 
gtid
);

563 
šlše
 
__kmp_»Ëa£_lock
(
kmp_lock_t
 *
lck
, 
kmp_št32
 
gtid
) {

564 
__kmp_»Ëa£_tick‘_lock
(
lck
, 
gtid
);

567 
šlše
 
__kmp_š™_lock
(
kmp_lock_t
 *
lck
) {

568 
__kmp_š™_tick‘_lock
(
lck
);

571 
šlše
 
__kmp_de¡roy_lock
(
kmp_lock_t
 *
lck
) {

572 
__kmp_de¡roy_tick‘_lock
(
lck
);

582 
	ekmp_lock_kšd
 {

583 
	glk_deçuÉ
 = 0,

584 
	glk_s
,

585 #ià
KMP_USE_FUTEX


586 
	glk_fu‹x
,

588 #ià
KMP_USE_DYNAMIC_LOCK
 && 
KMP_USE_TSX


589 
	glk_hË
,

590 
	glk_¹m
,

592 
	glk_tick‘
,

593 
	glk_queušg
,

594 
	glk_drd·
,

595 #ià
KMP_USE_ADAPTIVE_LOCKS


596 
	glk_ad­tive


600 
kmp_lock_kšd
 
	tkmp_lock_kšd_t
;

602 
kmp_lock_kšd_t
 
__kmp_u£r_lock_kšd
;

604 
	ukmp_u£r_lock
 {

605 
kmp_s_lock_t
 
	gs
;

606 #ià
KMP_USE_FUTEX


607 
kmp_fu‹x_lock_t
 
	gfu‹x
;

609 
kmp_tick‘_lock_t
 
	gtick‘
;

610 
kmp_queušg_lock_t
 
	gqueušg
;

611 
kmp_drd·_lock_t
 
	gdrd·
;

612 #ià
KMP_USE_ADAPTIVE_LOCKS


613 
kmp_ad­tive_lock_t
 
	gad­tive
;

615 
kmp_lock_poŞ_t
 
	gpoŞ
;

618 
kmp_u£r_lock
 *
	tkmp_u£r_lock_p
;

620 #ià!
KMP_USE_DYNAMIC_LOCK


622 
size_t
 
__kmp_ba£_u£r_lock_size
;

623 
size_t
 
__kmp_u£r_lock_size
;

625 
kmp_št32
 (*
__kmp_g‘_u£r_lock_owÃr_
)(
kmp_u£r_lock_p
 
lck
);

627 
šlše
 
kmp_št32
 
__kmp_g‘_u£r_lock_owÃr
(
kmp_u£r_lock_p
 
lck
) {

628 
KMP_DEBUG_ASSERT
(
__kmp_g‘_u£r_lock_owÃr_
 !ğ
NULL
);

629  (*
	g__kmp_g‘_u£r_lock_owÃr_
)(
	glck
);

632 (*
__kmp_acquœe_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

633 
kmp_št32
 
gtid
);

635 #ià
KMP_OS_LINUX
 && \

636 (
	gKMP_ARCH_X86
 || 
	gKMP_ARCH_X86_64
 || 
	gKMP_ARCH_ARM
 || 
	gKMP_ARCH_AARCH64
)

638 
	#__kmp_acquœe_u£r_lock_w™h_checks
(
lck
, 
gtid
) \

639 ià(
__kmp_u£r_lock_kšd
 =ğ
lk_s
) { \

640 ià(
__kmp_’v_cÚsi¡’cy_check
) { \

641 cÚ¡ *cÚ¡ 
func
 = "omp_set_lock"; \

642 ià(((
kmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) && \

643 
lck
->
s
.
lk
.
d•th_locked
 != -1) { \

644 
	`KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
); \

646 ià((
gtid
 >ğ0è&& (
lck
->
s
.
lk
.
pŞl
 - 1 == gtid)) { \

647 
	`KMP_FATAL
(
LockIsAÌ—dyOwÃd
, 
func
); \

650 ià(
lck
->
s
.
lk
.
pŞl
 != 0 || \

651 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1)) { \

652 
kmp_ušt32
 
¥šs
; \

653 
	`KMP_FSYNC_PREPARE
(
lck
); \

654 
	`KMP_INIT_YIELD
(
¥šs
); \

656 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
); \

658 
lck
->
s
.
lk
.
pŞl
 != 0 || \

659 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1)); \

661 
	`KMP_FSYNC_ACQUIRED
(
lck
); \

663 
	`KMP_DEBUG_ASSERT
(
__kmp_acquœe_u£r_lock_w™h_checks_
 !ğ
NULL
); \

664 (*
__kmp_acquœe_u£r_lock_w™h_checks_
)(
lck
, 
gtid
); \

665 }

	)

668 
šlše
 
__kmp_acquœe_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

669 
kmp_št32
 
gtid
) {

670 
KMP_DEBUG_ASSERT
(
__kmp_acquœe_u£r_lock_w™h_checks_
 !ğ
NULL
);

671  (*
	g__kmp_acquœe_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

675 (*
__kmp_‹¡_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

676 
kmp_št32
 
gtid
);

678 #ià
KMP_OS_LINUX
 && \

679 (
	gKMP_ARCH_X86
 || 
	gKMP_ARCH_X86_64
 || 
	gKMP_ARCH_ARM
 || 
	gKMP_ARCH_AARCH64
)

681 
	~"kmp_i18n.h
"

682 
__kmp_’v_cÚsi¡’cy_check
;

683 
šlše
 
__kmp_‹¡_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

684 
kmp_št32
 
gtid
) {

685 ià(
	g__kmp_u£r_lock_kšd
 =ğ
lk_s
) {

686 ià(
__kmp_’v_cÚsi¡’cy_check
) {

687 cÚ¡ *cÚ¡ 
func
 = "omp_test_lock";

688 ià(((
	gkmp_s_lock_t
è<ğ
OMP_LOCK_T_SIZE
) &&

689 
lck
->
s
.
lk
.
d•th_locked
 != -1) {

690 
KMP_FATAL
(
LockNe¡abËU£dAsSim¶e
, 
func
);

693  ((
	glck
->
	gs
.
	glk
.
	gpŞl
 == 0) &&

694 
__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1));

696 
KMP_DEBUG_ASSERT
(
__kmp_‹¡_u£r_lock_w™h_checks_
 !ğ
NULL
);

697  (*
	g__kmp_‹¡_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

701 
šlše
 
__kmp_‹¡_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

702 
kmp_št32
 
gtid
) {

703 
KMP_DEBUG_ASSERT
(
__kmp_‹¡_u£r_lock_w™h_checks_
 !ğ
NULL
);

704  (*
	g__kmp_‹¡_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

708 (*
__kmp_»Ëa£_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

709 
kmp_št32
 
gtid
);

711 
šlše
 
__kmp_»Ëa£_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

712 
kmp_št32
 
gtid
) {

713 
KMP_DEBUG_ASSERT
(
__kmp_»Ëa£_u£r_lock_w™h_checks_
 !ğ
NULL
);

714 (*
	g__kmp_»Ëa£_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

717 (*
__kmp_š™_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
);

719 
šlše
 
__kmp_š™_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
) {

720 
KMP_DEBUG_ASSERT
(
__kmp_š™_u£r_lock_w™h_checks_
 !ğ
NULL
);

721 (*
	g__kmp_š™_u£r_lock_w™h_checks_
)(
	glck
);

726 (*
__kmp_de¡roy_u£r_lock_
)(
kmp_u£r_lock_p
 
lck
);

728 
šlše
 
__kmp_de¡roy_u£r_lock
(
kmp_u£r_lock_p
 
lck
) {

729 
KMP_DEBUG_ASSERT
(
__kmp_de¡roy_u£r_lock_
 !ğ
NULL
);

730 (*
	g__kmp_de¡roy_u£r_lock_
)(
	glck
);

733 (*
__kmp_de¡roy_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
);

735 
šlše
 
__kmp_de¡roy_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
) {

736 
KMP_DEBUG_ASSERT
(
__kmp_de¡roy_u£r_lock_w™h_checks_
 !ğ
NULL
);

737 (*
	g__kmp_de¡roy_u£r_lock_w™h_checks_
)(
	glck
);

740 (*
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

741 
kmp_št32
 
gtid
);

743 #ià
KMP_OS_LINUX
 && (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

745 
	#__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks
(
lck
, 
gtid
, 
d•th
) \

746 ià(
__kmp_u£r_lock_kšd
 =ğ
lk_s
) { \

747 ià(
__kmp_’v_cÚsi¡’cy_check
) { \

748 cÚ¡ *cÚ¡ 
func
 = "omp_set_nest_lock"; \

749 ià(((
kmp_s_lock_t
è<ğ
OMP_NEST_LOCK_T_SIZE
) && \

750 
lck
->
s
.
lk
.
d•th_locked
 == -1) { \

751 
	`KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
); \

754 ià(
lck
->
s
.
lk
.
pŞl
 - 1 =ğ
gtid
) { \

755 
lck
->
s
.
lk
.
d•th_locked
 += 1; \

756 *
d•th
 = 
KMP_LOCK_ACQUIRED_NEXT
; \

758 ià((
lck
->
s
.
lk
.
pŞl
 != 0) || \

759 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1)) { \

760 
kmp_ušt32
 
¥šs
; \

761 
	`KMP_FSYNC_PREPARE
(
lck
); \

762 
	`KMP_INIT_YIELD
(
¥šs
); \

764 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
); \

766 (
lck
->
s
.
lk
.
pŞl
 != 0) || \

767 !
	`__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1)); \

769 
lck
->
s
.
lk
.
d•th_locked
 = 1; \

770 *
d•th
 = 
KMP_LOCK_ACQUIRED_FIRST
; \

772 
	`KMP_FSYNC_ACQUIRED
(
lck
); \

774 
	`KMP_DEBUG_ASSERT
(
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
); \

775 *
d•th
 = (*
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
)(
lck
, 
gtid
); \

776 }

	)

779 
šlše
 

780 
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
, 
kmp_št32
 
gtid
,

781 *
d•th
) {

782 
KMP_DEBUG_ASSERT
(
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

783 *
	gd•th
 = (*
__kmp_acquœe_Ã¡ed_u£r_lock_w™h_checks_
)(
lck
, 
	ggtid
);

787 (*
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

788 
kmp_št32
 
gtid
);

790 #ià
KMP_OS_LINUX
 && (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

791 
šlše
 
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

792 
kmp_št32
 
gtid
) {

793 ià(
	g__kmp_u£r_lock_kšd
 =ğ
lk_s
) {

794 
»tv®
;

795 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

796 cÚ¡ *cÚ¡ 
	gfunc
 = "omp_test_nest_lock";

797 ià(((
	gkmp_s_lock_t
è<ğ
OMP_NEST_LOCK_T_SIZE
) &&

798 
lck
->
s
.
lk
.
d•th_locked
 == -1) {

799 
KMP_FATAL
(
LockSim¶eU£dAsNe¡abË
, 
func
);

802 
KMP_DEBUG_ASSERT
(
gtid
 >= 0);

803 ià(
	glck
->
	gs
.
	glk
.
	gpŞl
 - 1 ==

804 
gtid
) {

805  ++
lck
->
s
.
lk
.
d•th_locked
;

807 
	g»tv®
 = ((
lck
->
s
.
lk
.
pŞl
 == 0) &&

808 
__kmp_©omic_com·»_¡Üe_acq
(&
lck
->
s
.
lk
.
pŞl
, 0, 
gtid
 + 1));

809 ià(
	g»tv®
) {

810 
KMP_MB
();

811 
	glck
->
	gs
.
	glk
.
	gd•th_locked
 = 1;

813  
	g»tv®
;

815 
KMP_DEBUG_ASSERT
(
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

816  (*
	g__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

820 
šlše
 
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

821 
kmp_št32
 
gtid
) {

822 
KMP_DEBUG_ASSERT
(
__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

823  (*
	g__kmp_‹¡_Ã¡ed_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

827 (*
__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
,

828 
kmp_št32
 
gtid
);

830 
šlše
 

831 
__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
,

832 
kmp_št32
 
gtid
) {

833 
KMP_DEBUG_ASSERT
(
__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

834  (*
	g__kmp_»Ëa£_Ã¡ed_u£r_lock_w™h_checks_
)(
	glck
, 
	ggtid
);

837 (*
__kmp_š™_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
);

839 
šlše
 

840 
__kmp_š™_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
) {

841 
KMP_DEBUG_ASSERT
(
__kmp_š™_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

842 (*
	g__kmp_š™_Ã¡ed_u£r_lock_w™h_checks_
)(
	glck
);

845 (*
__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks_
)(
kmp_u£r_lock_p
 
lck
);

847 
šlše
 

848 
__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks
(
kmp_u£r_lock_p
 
lck
) {

849 
KMP_DEBUG_ASSERT
(
__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks_
 !ğ
NULL
);

850 (*
	g__kmp_de¡roy_Ã¡ed_u£r_lock_w™h_checks_
)(
	glck
);

866 (*
__kmp_is_u£r_lock_š™Ÿlized_
)(
kmp_u£r_lock_p
 
lck
);

870 cÚ¡ 
id’t_t
 *(*
__kmp_g‘_u£r_lock_loÿtiÚ_
)(
kmp_u£r_lock_p
 
lck
);

872 
šlše
 cÚ¡ 
id’t_t
 *
__kmp_g‘_u£r_lock_loÿtiÚ
(
kmp_u£r_lock_p
 
lck
) {

873 ià(
	g__kmp_g‘_u£r_lock_loÿtiÚ_
 !ğ
NULL
) {

874  (*
__kmp_g‘_u£r_lock_loÿtiÚ_
)(
lck
);

876  
	gNULL
;

880 (*
__kmp_£t_u£r_lock_loÿtiÚ_
)(
kmp_u£r_lock_p
 
lck
,

881 cÚ¡ 
id’t_t
 *
loc
);

883 
šlše
 
__kmp_£t_u£r_lock_loÿtiÚ
(
kmp_u£r_lock_p
 
lck
,

884 cÚ¡ 
id’t_t
 *
loc
) {

885 ià(
	g__kmp_£t_u£r_lock_loÿtiÚ_
 !ğ
NULL
) {

886 (*
__kmp_£t_u£r_lock_loÿtiÚ_
)(
lck
, 
loc
);

890 
kmp_lock_æags_t
 (*
__kmp_g‘_u£r_lock_æags_
)(
kmp_u£r_lock_p
 
lck
);

892 (*
__kmp_£t_u£r_lock_æags_
)(
kmp_u£r_lock_p
 
lck
,

893 
kmp_lock_æags_t
 
æags
);

895 
šlše
 
__kmp_£t_u£r_lock_æags
(
kmp_u£r_lock_p
 
lck
,

896 
kmp_lock_æags_t
 
æags
) {

897 ià(
	g__kmp_£t_u£r_lock_æags_
 !ğ
NULL
) {

898 (*
__kmp_£t_u£r_lock_æags_
)(
lck
, 
æags
);

903 
__kmp_£t_u£r_lock_v±rs
(
kmp_lock_kšd_t
 
u£r_lock_kšd
);

906 
	#KMP_BIND_USER_LOCK_TEMPLATE
(
Ã¡
, 
kšd
, 
suffix
) \

908 
__kmp_acquœe
##
Ã¡
##
u£r_lock_w™h_checks_
 = ((*)( \

909 
kmp_u£r_lock_p
, 
kmp_št32
))
__kmp_acquœe
##
Ã¡
##
kšd
##
_
##
suffix
; \

910 
__kmp_»Ëa£
##
Ã¡
##
u£r_lock_w™h_checks_
 = ((*)( \

911 
kmp_u£r_lock_p
, 
kmp_št32
))
__kmp_»Ëa£
##
Ã¡
##
kšd
##
_
##
suffix
; \

912 
__kmp_‹¡
##
Ã¡
##
u£r_lock_w™h_checks_
 = ((*)( \

913 
kmp_u£r_lock_p
, 
kmp_št32
))
__kmp_‹¡
##
Ã¡
##
kšd
##
_
##
suffix
; \

914 
__kmp_š™
##
Ã¡
##
u£r_lock_w™h_checks_
 = \

915 ((*)(
kmp_u£r_lock_p
))
__kmp_š™
##
Ã¡
##
kšd
##
_
##
suffix
; \

916 
__kmp_de¡roy
##
Ã¡
##
u£r_lock_w™h_checks_
 = \

917 ((*)(
kmp_u£r_lock_p
))
__kmp_de¡roy
##
Ã¡
##
kšd
##
_
##
suffix
; \

918 }

	)

920 
	#KMP_BIND_USER_LOCK
(
kšd
è
	`KMP_BIND_USER_LOCK_TEMPLATE
(
_
, kšd, 
lock
)

	)

921 
	#KMP_BIND_USER_LOCK_WITH_CHECKS
(
kšd
) \

922 
	`KMP_BIND_USER_LOCK_TEMPLATE
(
_
, 
kšd
, 
lock_w™h_checks
)

	)

923 
	#KMP_BIND_NESTED_USER_LOCK
(
kšd
) \

924 
	`KMP_BIND_USER_LOCK_TEMPLATE
(
_Ã¡ed_
, 
kšd
, 
lock
)

	)

925 
	#KMP_BIND_NESTED_USER_LOCK_WITH_CHECKS
(
kšd
) \

926 
	`KMP_BIND_USER_LOCK_TEMPLATE
(
_Ã¡ed_
, 
kšd
, 
lock_w™h_checks
)

	)

951 
	skmp_lock_bË
 {

952 
kmp_lock_šdex_t
 
	gu£d
;

953 
kmp_lock_šdex_t
 
	g®loÿ‹d
;

954 
kmp_u£r_lock_p
 *
	gbË
;

957 
kmp_lock_bË
 
	tkmp_lock_bË_t
;

959 
kmp_lock_bË_t
 
__kmp_u£r_lock_bË
;

960 
kmp_u£r_lock_p
 
__kmp_lock_poŞ
;

962 
	skmp_block_of_locks
 {

963 
kmp_block_of_locks
 *
	gÃxt_block
;

964 *
	glocks
;

967 
kmp_block_of_locks
 
	tkmp_block_of_locks_t
;

969 
kmp_block_of_locks_t
 *
__kmp_lock_blocks
;

970 
__kmp_num_locks_š_block
;

972 
kmp_u£r_lock_p
 
__kmp_u£r_lock_®loÿ‹
(**
u£r_lock
,

973 
kmp_št32
 
gtid
,

974 
kmp_lock_æags_t
 
æags
);

975 
__kmp_u£r_lock_ä“
(**
u£r_lock
, 
kmp_št32
 
gtid
,

976 
kmp_u£r_lock_p
 
lck
);

977 
kmp_u£r_lock_p
 
__kmp_lookup_u£r_lock
(**
u£r_lock
,

978 cÚ¡ *
func
);

979 
__kmp_ş—nup_u£r_locks
();

981 
	#KMP_CHECK_USER_LOCK_INIT
() \

983 ià(!
	`TCR_4
(
__kmp_š™_u£r_locks
)) { \

984 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
); \

985 ià(!
	`TCR_4
(
__kmp_š™_u£r_locks
)) { \

986 
	`TCW_4
(
__kmp_š™_u£r_locks
, 
TRUE
); \

988 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
); \

990 }

	)

994 #undeà
KMP_PAD


995 #undeà
KMP_GTID_DNE


997 #ià
KMP_USE_DYNAMIC_LOCK


1032 
	~<¡dšt.h
>

1035 
	#KMP_USE_INLINED_TAS
 \

1036 (
KMP_OS_LINUX
 && (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
)è&& 1

	)

1037 
	#KMP_USE_INLINED_FUTEX
 
KMP_USE_FUTEX
 && 0

	)

1042 #ià
KMP_USE_TSX


1043 #ià
KMP_USE_FUTEX


1044 
	#KMP_FOREACH_D_LOCK
(
m
, 
a
è
	`m
(
s
,‡èm(
fu‹x
,‡èm(
hË
,‡)

	)

1045 
	#KMP_FOREACH_I_LOCK
(
m
, 
a
) \

1046 
	`m
(
tick‘
, 
a
èm(
queušg
,‡èm(
ad­tive
,‡èm(
drd·
,‡èm(
¹m
,‡) \

1047 
	`m
(
Ã¡ed_s
, 
a
èm(
Ã¡ed_fu‹x
,‡èm(
Ã¡ed_tick‘
,‡) \

1048 
	`m
(
Ã¡ed_queušg
, 
a
èm(
Ã¡ed_drd·
,‡)

	)

1050 
	#KMP_FOREACH_D_LOCK
(
m
, 
a
è
	`m
(
s
,‡èm(
hË
,‡)

	)

1051 
	#KMP_FOREACH_I_LOCK
(
m
, 
a
) \

1052 
	`m
(
tick‘
, 
a
èm(
queušg
,‡èm(
ad­tive
,‡èm(
drd·
,‡èm(
¹m
,‡) \

1053 
	`m
(
Ã¡ed_s
, 
a
èm(
Ã¡ed_tick‘
,‡èm(
Ã¡ed_queušg
,‡) \

1054 
	`m
(
Ã¡ed_drd·
, 
a
)

	)

1056 
	#KMP_LAST_D_LOCK
 
lock£q_hË


	)

1058 #ià
KMP_USE_FUTEX


1059 
	#KMP_FOREACH_D_LOCK
(
m
, 
a
è
	`m
(
s
,‡èm(
fu‹x
,‡)

	)

1060 
	#KMP_FOREACH_I_LOCK
(
m
, 
a
) \

1061 
	`m
(
tick‘
, 
a
èm(
queušg
,‡èm(
drd·
,‡èm(
Ã¡ed_s
,‡èm(
Ã¡ed_fu‹x
,‡) \

1062 
	`m
(
Ã¡ed_tick‘
, 
a
èm(
Ã¡ed_queušg
,‡èm(
Ã¡ed_drd·
,‡)

	)

1063 
	#KMP_LAST_D_LOCK
 
lock£q_fu‹x


	)

1065 
	#KMP_FOREACH_D_LOCK
(
m
, 
a
è
	`m
(
s
,‡)

	)

1066 
	#KMP_FOREACH_I_LOCK
(
m
, 
a
) \

1067 
	`m
(
tick‘
, 
a
èm(
queušg
,‡èm(
drd·
,‡èm(
Ã¡ed_s
,‡èm(
Ã¡ed_tick‘
,‡) \

1068 
	`m
(
Ã¡ed_queušg
, 
a
èm(
Ã¡ed_drd·
,‡)

	)

1069 
	#KMP_LAST_D_LOCK
 
lock£q_s


	)

1074 
	#KMP_LOCK_SHIFT
 \

1076 
	#KMP_FIRST_D_LOCK
 
lock£q_s


	)

1077 
	#KMP_FIRST_I_LOCK
 
lock£q_tick‘


	)

1078 
	#KMP_LAST_I_LOCK
 
lock£q_Ã¡ed_drd·


	)

1079 
	#KMP_NUM_I_LOCKS
 \

1080 (
lockg_Ã¡ed_drd·
 + 1)

1081 

	)

1083 
kmp_ušt32
 
	tkmp_dyÇ_lock_t
;

1088 
	glock£q_šdœeù
 = 0,

1089 
	#ex·nd_£q
(
l
, 
a
è
lock£q_
##l,

	)

1090 
KMP_FOREACH_D_LOCK
(
ex·nd_£q
, 0è
KMP_FOREACH_I_LOCK
(expand_seq, 0)

1091 #undeà
ex·nd_£q


1092 } 
	tkmp_dyÇ_lock£q_t
;

1096 
	#ex·nd_g
(
l
, 
a
è
lockg_
##l,

	)

1097 
KMP_FOREACH_I_LOCK
(
ex·nd_g
, 0)

1098 #undeà
ex·nd_g


1099 } 
	tkmp_šdœeù_lockg_t
;

1102 
	#KMP_IS_D_LOCK
(
£q
) \

1103 ((
£q
è>ğ
KMP_FIRST_D_LOCK
 && (£qè<ğ
KMP_LAST_D_LOCK
)

	)

1104 
	#KMP_IS_I_LOCK
(
£q
) \

1105 ((
£q
è>ğ
KMP_FIRST_I_LOCK
 && (£qè<ğ
KMP_LAST_I_LOCK
)

	)

1106 
	#KMP_GET_I_TAG
(
£q
è(
kmp_šdœeù_lockg_t
)((£q)-
KMP_FIRST_I_LOCK
)

	)

1107 
	#KMP_GET_D_TAG
(
£q
è((£qè<< 1 | 1)

	)

1111 
	#ex·nd_g
(
l
, 
a
è
lockg_
##Èğ
	`KMP_GET_D_TAG
(
lock£q_
##l),

	)

1112 
KMP_FOREACH_D_LOCK
(
ex·nd_g
, 0)

1113 #undeà
ex·nd_g


1114 } 
	tkmp_dœeù_lockg_t
;

1118 
kmp_u£r_lock_p
 
	glock
;

1119 
kmp_šdœeù_lockg_t
 
	gty³
;

1120 } 
	tkmp_šdœeù_lock_t
;

1124 (*
__kmp_dœeù_š™
[])(
kmp_dyÇ_lock_t
 *, 
kmp_dyÇ_lock£q_t
);

1125 (**
__kmp_dœeù_de¡roy
)(
kmp_dyÇ_lock_t
 *);

1126 (**
__kmp_dœeù_£t
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
);

1127 (**
__kmp_dœeù_un£t
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
);

1128 (**
__kmp_dœeù_‹¡
)(
kmp_dyÇ_lock_t
 *, 
kmp_št32
);

1132 (*
__kmp_šdœeù_š™
[])(
kmp_u£r_lock_p
);

1133 (**
__kmp_šdœeù_de¡roy
)(
kmp_u£r_lock_p
);

1134 (**
__kmp_šdœeù_£t
)(
kmp_u£r_lock_p
, 
kmp_št32
);

1135 (**
__kmp_šdœeù_un£t
)(
kmp_u£r_lock_p
, 
kmp_št32
);

1136 (**
__kmp_šdœeù_‹¡
)(
kmp_u£r_lock_p
, 
kmp_št32
);

1139 
	#KMP_EXTRACT_D_TAG
(
l
) \

1140 (*((
kmp_dyÇ_lock_t
 *)(
l
)è& ((1 << 
KMP_LOCK_SHIFT
) - 1) & \

1141 -(*((
kmp_dyÇ_lock_t
 *)(
l
)è& 1))

	)

1144 
	#KMP_EXTRACT_I_INDEX
(
l
è(*(
kmp_lock_šdex_t
 *)Öè>> 1)

	)

1148 
	#KMP_D_LOCK_FUNC
(
l
, 
İ
è
__kmp_dœeù_
##İ[
	`KMP_EXTRACT_D_TAG
Ö)]

	)

1152 
	#KMP_I_LOCK_FUNC
(
l
, 
İ
) \

1153 
__kmp_šdœeù_
##
İ
[((
kmp_šdœeù_lock_t
 *)(
l
))->
ty³
]

	)

1156 
	#KMP_INIT_D_LOCK
(
l
, 
£q
) \

1157 
__kmp_dœeù_š™
[
	`KMP_GET_D_TAG
(
£q
)]((
kmp_dyÇ_lock_t
 *)
l
, seq)

	)

1160 
	#KMP_INIT_I_LOCK
(
l
, 
£q
) \

1161 
__kmp_dœeù_š™
[0]((
kmp_dyÇ_lock_t
 *)(
l
), 
£q
)

	)

1164 
	#KMP_LOCK_FREE
(
ty³
è(
lockg_
##ty³)

	)

1167 
	#KMP_LOCK_BUSY
(
v
, 
ty³
è((vè<< 
KMP_LOCK_SHIFT
 | 
lockg_
##ty³)

	)

1170 
	#KMP_LOCK_STRIP
(
v
è((vè>> 
KMP_LOCK_SHIFT
)

	)

1174 
__kmp_š™_dyÇmic_u£r_locks
();

1177 
kmp_šdœeù_lock_t
 *

1178 
__kmp_®loÿ‹_šdœeù_lock
(**, 
kmp_št32
, 
kmp_šdœeù_lockg_t
);

1181 
__kmp_ş—nup_šdœeù_u£r_locks
();

1184 
kmp_dyÇ_lock£q_t
 
__kmp_u£r_lock_£q
;

1187 (*
__kmp_šdœeù_£t_loÿtiÚ
[
KMP_NUM_I_LOCKS
])(
kmp_u£r_lock_p
,

1188 cÚ¡ 
id’t_t
 *);

1189 
	#KMP_SET_I_LOCK_LOCATION
(
lck
, 
loc
) \

1191 ià(
__kmp_šdœeù_£t_loÿtiÚ
[(
lck
)->
ty³
] !ğ
NULL
) \

1192 
__kmp_šdœeù_£t_loÿtiÚ
[(
lck
)->
ty³
](Öck)->
lock
, 
loc
); \

1193 }

	)

1196 (*
__kmp_šdœeù_£t_æags
[
KMP_NUM_I_LOCKS
])(
kmp_u£r_lock_p
,

1197 
kmp_lock_æags_t
);

1198 
	#KMP_SET_I_LOCK_FLAGS
(
lck
, 
æag
) \

1200 ià(
__kmp_šdœeù_£t_æags
[(
lck
)->
ty³
] !ğ
NULL
) \

1201 
__kmp_šdœeù_£t_æags
[(
lck
)->
ty³
](Öck)->
lock
, 
æag
); \

1202 }

	)

1205 cÚ¡ 
id’t_t
 *(*
__kmp_šdœeù_g‘_loÿtiÚ
[
KMP_NUM_I_LOCKS
])(

1206 
kmp_u£r_lock_p
);

1207 
	#KMP_GET_I_LOCK_LOCATION
(
lck
) \

1208 (
__kmp_šdœeù_g‘_loÿtiÚ
[(
lck
)->
ty³
] !ğ
NULL
 \

1209 ? 
__kmp_šdœeù_g‘_loÿtiÚ
[(
lck
)->
ty³
](Öck)->
lock
) \

1210 : 
NULL
)

	)

1213 
kmp_lock_æags_t
 (*
__kmp_šdœeù_g‘_æags
[
KMP_NUM_I_LOCKS
])(

1214 
kmp_u£r_lock_p
);

1215 
	#KMP_GET_I_LOCK_FLAGS
(
lck
) \

1216 (
__kmp_šdœeù_g‘_æags
[(
lck
)->
ty³
] !ğ
NULL
 \

1217 ? 
__kmp_šdœeù_g‘_æags
[(
lck
)->
ty³
](Öck)->
lock
) \

1218 : 
NULL
)

	)

1220 
	#KMP_I_LOCK_CHUNK
 \

1222 

	)

1224 
	skmp_šdœeù_lock_bË
 {

1225 
kmp_šdœeù_lock_t
 **
	gbË
;

1226 
kmp_lock_šdex_t
 
	gsize
;

1227 
kmp_lock_šdex_t
 
	gÃxt
;

1228 } 
	tkmp_šdœeù_lock_bË_t
;

1230 
kmp_šdœeù_lock_bË_t
 
__kmp_i_lock_bË
;

1233 
	#KMP_GET_I_LOCK
(
šdex
) \

1234 (*(
__kmp_i_lock_bË
.
bË
 + (
šdex
è/ 
KMP_I_LOCK_CHUNK
) + \

1235 (
šdex
è% 
KMP_I_LOCK_CHUNK
)

	)

1240 
__kmp_num_locks_š_block
;

1243 
	#KMP_LOOKUP_I_LOCK
(
l
) \

1244 ((
OMP_LOCK_T_SIZE
 < (*)è? 
	`KMP_GET_I_LOCK
(
	`KMP_EXTRACT_I_INDEX
(
l
)) \

1245 : *((
kmp_šdœeù_lock_t
 **)(
l
)))

	)

1248 
kmp_št32
 
__kmp_g‘_u£r_lock_owÃr
(
kmp_u£r_lock_p
, 
kmp_ušt32
);

1252 
	#KMP_LOCK_BUSY
(
v
, 
ty³
è(v)

	)

1253 
	#KMP_LOCK_FREE
(
ty³
è0

	)

1254 
	#KMP_LOCK_STRIP
(
v
è(v)

	)

1260 
kmp_ušt32
 
	g¡•
;

1261 
kmp_ušt32
 
	gmax_backoff
;

1262 
kmp_ušt32
 
	gmš_tick
;

1263 } 
	tkmp_backoff_t
;

1266 
kmp_backoff_t
 
__kmp_¥š_backoff_·¿ms
;

1269 
__kmp_¥š_backoff
(
kmp_backoff_t
 *);

1271 #ifdeà
__ılu¥lus


	@kmp_omp.h

1 #ià
USE_DEBUGGER


26 
	#KMP_OMP_VERSION
 9

	)

29 #iâdeà
DEBUG


30 
	#DEBUG


	)

33 
kmp_št32
 
	moff£t
;

34 
kmp_št32
 
	msize
;

35 } 
	toff£t_ªd_size_t
;

38 
kmp_ušt64
 
	maddr
;

39 
kmp_št32
 
	msize
;

40 
kmp_št32
 
	m·ddšg
;

41 } 
	taddr_ªd_size_t
;

44 
kmp_ušt64
 
	mæags
;

45 
kmp_ušt64


46 
	mfe
;

47 
kmp_ušt64
 
	mfunc
;

48 
kmp_št32
 
	mbegš
;

49 
kmp_št32
 
	m’d
;

50 
kmp_št32
 
	mnum_th»ads
;

51 } 
	tkmp_omp_Áhr_™em_t
;

54 
kmp_št32
 
	mnum
;

55 
kmp_ušt64
 
	m¬¿y
;

56 } 
	tkmp_omp_Áhr_šfo_t
;

62 
kmp_št32
 
	mlib_v”siÚ
;

67 
kmp_št32
 
	msizeof_this_¡ruùu»
;

70 
addr_ªd_size_t
 
	mmajÜ
;

71 
addr_ªd_size_t
 
	mmšÜ
;

72 
addr_ªd_size_t
 
	mbud
;

73 
addr_ªd_size_t
 
	mİ’mp_v”siÚ
;

74 
addr_ªd_size_t
 
	mbªÃr
;

77 
addr_ªd_size_t
 
	mth»ads
;

78 
addr_ªd_size_t
 
	mroÙs
;

79 
addr_ªd_size_t
 
	mÿ·c™y
;

80 #ià
KMP_USE_MONITOR


81 
addr_ªd_size_t
 
	mmÚ™Ü
;

83 #ià!
KMP_USE_DYNAMIC_LOCK


84 
addr_ªd_size_t
 
	mlock_bË
;

86 
addr_ªd_size_t
 
	mfunc_miüÙask
;

87 
addr_ªd_size_t
 
	mfunc_fÜk
;

88 
addr_ªd_size_t
 
	mfunc_fÜk_‹ams
;

89 
addr_ªd_size_t
 
	m‹am_couÁ”
;

90 
addr_ªd_size_t
 
	msk_couÁ”
;

91 
addr_ªd_size_t
 
	mÁhr_šfo
;

92 
kmp_št32
 
	madd»ss_width
;

93 
kmp_št32
 
	mšdexed_locks
;

94 
kmp_št32
 
	mÏ¡_b¬r›r
;

95 
kmp_št32
 
	mdeque_size
;

98 
kmp_št32
 
	mth_sizeof_¡ruù
;

99 
off£t_ªd_size_t
 
	mth_šfo
;

100 
off£t_ªd_size_t
 
	mth_‹am
;

101 
off£t_ªd_size_t
 
	mth_roÙ
;

102 
off£t_ªd_size_t
 
	mth_£rŸl_‹am
;

103 
off£t_ªd_size_t
 
	mth_id’t
;

104 
off£t_ªd_size_t
 
	mth_¥š_h”e
;

105 
off£t_ªd_size_t


106 
	mth_Ãxt_wa™šg
;

107 
off£t_ªd_size_t
 
	mth_sk_‹am
;

108 
off£t_ªd_size_t
 
	mth_cu¼’t_sk
;

109 
off£t_ªd_size_t


110 
	mth_sk_¡©e
;

111 
off£t_ªd_size_t
 
	mth_b¬
;

112 
off£t_ªd_size_t
 
	mth_b_wÜk”_¬rived
;

116 
off£t_ªd_size_t
 
	mth_‹ams_miüÙask
;

117 
off£t_ªd_size_t
 
	mth_‹ams_Ëv–
;

118 
off£t_ªd_size_t
 
	mth_‹ams_Á—ms
;

119 
off£t_ªd_size_t


120 
	mth_‹ams_Áh
;

123 
kmp_št32
 
	mds_sizeof_¡ruù
;

124 
off£t_ªd_size_t
 
	mds_tid
;

125 
off£t_ªd_size_t
 
	mds_gtid
;

126 
off£t_ªd_size_t
 
	mds_th»ad
;

129 
kmp_št32
 
	mt_sizeof_¡ruù
;

130 
off£t_ªd_size_t
 
	mt_ma¡”_tid
;

131 
off£t_ªd_size_t
 
	mt_id’t
;

132 
off£t_ªd_size_t
 
	mt_·»Á
;

133 
off£t_ªd_size_t
 
	mt_Åroc
;

134 
off£t_ªd_size_t
 
	mt_th»ads
;

135 
off£t_ªd_size_t
 
	mt_£rŸlized
;

136 
off£t_ªd_size_t
 
	mt_id
;

137 
off£t_ªd_size_t
 
	mt_pkâ
;

138 
off£t_ªd_size_t
 
	mt_sk_‹am
;

139 
off£t_ªd_size_t
 
	mt_im¶ic™_sk
;

140 
off£t_ªd_size_t
 
	mt_ÿnûl_»que¡
;

141 
off£t_ªd_size_t
 
	mt_b¬
;

142 
off£t_ªd_size_t


143 
	mt_b_ma¡”_¬rived
;

144 
off£t_ªd_size_t


145 
	mt_b_‹am_¬rived
;

148 
kmp_št32
 
	mr_sizeof_¡ruù
;

149 
off£t_ªd_size_t
 
	mr_roÙ_‹am
;

150 
off£t_ªd_size_t
 
	mr_hÙ_‹am
;

151 
off£t_ªd_size_t
 
	mr_ub”_th»ad
;

152 
off£t_ªd_size_t
 
	mr_roÙ_id
;

155 
kmp_št32
 
	mid_sizeof_¡ruù
;

156 
off£t_ªd_size_t


157 
	mid_psourû
;

158 
off£t_ªd_size_t
 
	mid_æags
;

161 
kmp_št32
 
	mlk_sizeof_¡ruù
;

162 
off£t_ªd_size_t
 
	mlk_š™Ÿlized
;

163 
off£t_ªd_size_t
 
	mlk_loÿtiÚ
;

164 
off£t_ªd_size_t
 
	mlk__id
;

165 
off£t_ªd_size_t
 
	mlk_h—d_id
;

166 
off£t_ªd_size_t
 
	mlk_Ãxt_tick‘
;

167 
off£t_ªd_size_t
 
	mlk_now_£rvšg
;

168 
off£t_ªd_size_t
 
	mlk_owÃr_id
;

169 
off£t_ªd_size_t
 
	mlk_d•th_locked
;

170 
off£t_ªd_size_t
 
	mlk_lock_æags
;

172 #ià!
KMP_USE_DYNAMIC_LOCK


174 
kmp_št32
 
	mÉ_size_of_¡ruù
;

175 
off£t_ªd_size_t
 
	mÉ_u£d
;

176 
off£t_ªd_size_t
 
	mÉ_®loÿ‹d
;

177 
off£t_ªd_size_t
 
	mÉ_bË
;

181 
kmp_št32
 
	m‰_sizeof_¡ruù
;

182 
off£t_ªd_size_t
 
	m‰_th»ads_d©a
;

183 
off£t_ªd_size_t
 
	m‰_found_sks
;

184 
off£t_ªd_size_t
 
	m‰_Åroc
;

185 
off£t_ªd_size_t
 
	m‰_unfšished_th»ads
;

186 
off£t_ªd_size_t
 
	m‰_aùive
;

189 
kmp_št32
 
	mtd_sizeof_¡ruù
;

190 
off£t_ªd_size_t
 
	mtd_sk_id
;

191 
off£t_ªd_size_t
 
	mtd_æags
;

192 
off£t_ªd_size_t
 
	mtd_‹am
;

193 
off£t_ªd_size_t
 
	mtd_·»Á
;

194 
off£t_ªd_size_t
 
	mtd_Ëv–
;

195 
off£t_ªd_size_t
 
	mtd_id’t
;

196 
off£t_ªd_size_t
 
	mtd_®loÿ‹d_chd_sks
;

198 
off£t_ªd_size_t
 
	mtd_šcom¶‘e_chd_sks
;

201 
off£t_ªd_size_t
 
	mtd_skwa™_id’t
;

202 
off£t_ªd_size_t
 
	mtd_skwa™_couÁ”
;

203 
off£t_ªd_size_t


204 
	mtd_skwa™_th»ad
;

207 
off£t_ªd_size_t
 
	mtd_skgroup
;

208 
off£t_ªd_size_t


209 
	mtd_sk_couÁ
;

210 
off£t_ªd_size_t
 
	mtd_ÿnûl
;

213 
off£t_ªd_size_t


214 
	mtd_d•node
;

215 
off£t_ªd_size_t
 
	mdn_node
;

216 
off£t_ªd_size_t
 
	mdn_Ãxt
;

217 
off£t_ªd_size_t
 
	mdn_sucûssÜs
;

218 
off£t_ªd_size_t
 
	mdn_sk
;

219 
off£t_ªd_size_t
 
	mdn_Å»deûssÜs
;

220 
off£t_ªd_size_t
 
	mdn_Äefs
;

221 
off£t_ªd_size_t
 
	mdn_routše
;

224 
kmp_št32
 
	mhd_sizeof_¡ruù
;

225 
off£t_ªd_size_t
 
	mhd_deque
;

226 
off£t_ªd_size_t
 
	mhd_deque_size
;

227 
off£t_ªd_size_t
 
	mhd_deque_h—d
;

228 
off£t_ªd_size_t
 
	mhd_deque_
;

229 
off£t_ªd_size_t
 
	mhd_deque_Áasks
;

230 
off£t_ªd_size_t
 
	mhd_deque_Ï¡_¡Ş’
;

233 
kmp_ušt64
 
	mÏ¡_f›ld
;

235 } 
	tkmp_omp_¡ruù_šfo_t
;

	@kmp_os.h

13 #iâdeà
KMP_OS_H


14 
	#KMP_OS_H


	)

16 
	~"kmp_cÚfig.h
"

17 
	~<¡dlib.h
>

18 
	~<©omic
>

20 
	#KMP_FTN_PLAIN
 1

	)

21 
	#KMP_FTN_APPEND
 2

	)

22 
	#KMP_FTN_UPPER
 3

	)

28 
	#KMP_PTR_SKIP
 ((*))

	)

32 
	#KMP_OFF
 0

	)

33 
	#KMP_ON
 1

	)

35 
	#KMP_MEM_CONS_VOLATILE
 0

	)

36 
	#KMP_MEM_CONS_FENCE
 1

	)

38 #iâdeà
KMP_MEM_CONS_MODEL


39 
	#KMP_MEM_CONS_MODEL
 
KMP_MEM_CONS_VOLATILE


	)

42 #iâdeà
__has_ıp_©Œibu‹


43 
	#__has_ıp_©Œibu‹
(
x
è0

	)

46 #iâdeà
__has_©Œibu‹


47 
	#__has_©Œibu‹
(
x
è0

	)

51 
	#KMP_COMPILER_ICC
 0

	)

52 
	#KMP_COMPILER_GCC
 0

	)

53 
	#KMP_COMPILER_CLANG
 0

	)

54 
	#KMP_COMPILER_MSVC
 0

	)

56 #ià
defšed
(
__INTEL_COMPILER
)

57 #undeà
KMP_COMPILER_ICC


58 
	#KMP_COMPILER_ICC
 1

	)

59 #–ià
defšed
(
__şªg__
)

60 #undeà
KMP_COMPILER_CLANG


61 
	#KMP_COMPILER_CLANG
 1

	)

62 #–ià
defšed
(
__GNUC__
)

63 #undeà
KMP_COMPILER_GCC


64 
	#KMP_COMPILER_GCC
 1

	)

65 #–ià
defšed
(
_MSC_VER
)

66 #undeà
KMP_COMPILER_MSVC


67 
	#KMP_COMPILER_MSVC
 1

	)

69 #”rÜ 
Unknown
 
comp”


72 #ià(
KMP_OS_LINUX
 || 
KMP_OS_WINDOWS
 || 
KMP_OS_FREEBSD
è&& !
KMP_OS_CNK


73 
	#KMP_AFFINITY_SUPPORTED
 1

	)

74 #ià
KMP_OS_WINDOWS
 && 
KMP_ARCH_X86_64


75 
	#KMP_GROUP_AFFINITY
 1

	)

77 
	#KMP_GROUP_AFFINITY
 0

	)

80 
	#KMP_AFFINITY_SUPPORTED
 0

	)

81 
	#KMP_GROUP_AFFINITY
 0

	)

85 
	#KMP_HAVE_QUAD
 0

	)

86 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


87 #ià
KMP_COMPILER_ICC


89 #undeà
KMP_HAVE_QUAD


90 
	#KMP_HAVE_QUAD
 1

	)

91 #–ià
KMP_COMPILER_CLANG


94 
	t_Quad
;

95 #–ià
KMP_COMPILER_GCC


97 #ià!
KMP_OS_NETBSD


98 
__æßt128
 
	t_Quad
;

99 #undeà
KMP_HAVE_QUAD


100 
	#KMP_HAVE_QUAD
 1

	)

102 #–ià
KMP_COMPILER_MSVC


103 
	t_Quad
;

106 #ià
__LDBL_MAX_EXP__
 >ğ16384 && 
KMP_COMPILER_GCC


107 
	t_Quad
;

108 #undeà
KMP_HAVE_QUAD


109 
	#KMP_HAVE_QUAD
 1

	)

113 
	#KMP_USE_X87CONTROL
 0

	)

114 #ià
KMP_OS_WINDOWS


115 
	#KMP_END_OF_LINE
 "\r\n"

	)

116 
	tkmp_št8
;

117 
	tkmp_ušt8
;

118 
	tkmp_št16
;

119 
	tkmp_ušt16
;

120 
	tkmp_št32
;

121 
	tkmp_ušt32
;

122 
	#KMP_INT32_SPEC
 "d"

	)

123 
	#KMP_UINT32_SPEC
 "u"

	)

124 #iâdeà
KMP_STRUCT64


125 
__št64
 
	tkmp_št64
;

126 
	t__št64
 
	tkmp_ušt64
;

127 
	#KMP_INT64_SPEC
 "I64d"

	)

128 
	#KMP_UINT64_SPEC
 "I64u"

	)

130 
	skmp_¡ruù64
 {

131 
kmp_št32
 
	ma
, 
	mb
;

133 
kmp_¡ruù64
 
	tkmp_št64
;

134 
kmp_¡ruù64
 
	tkmp_ušt64
;

137 #ià
KMP_ARCH_X86
 && 
KMP_MSVC_COMPAT


138 #undeà
KMP_USE_X87CONTROL


139 
	#KMP_USE_X87CONTROL
 1

	)

141 #ià
KMP_ARCH_X86_64


142 
	#KMP_INTPTR
 1

	)

143 
__št64
 
	tkmp_šŒ_t
;

144 
	t__št64
 
	tkmp_ušŒ_t
;

145 
	#KMP_INTPTR_SPEC
 "I64d"

	)

146 
	#KMP_UINTPTR_SPEC
 "I64u"

	)

150 #ià
KMP_OS_UNIX


151 
	#KMP_END_OF_LINE
 "\n"

	)

152 
	tkmp_št8
;

153 
	tkmp_ušt8
;

154 
	tkmp_št16
;

155 
	tkmp_ušt16
;

156 
	tkmp_št32
;

157 
	tkmp_ušt32
;

158 
	tkmp_št64
;

159 
	tkmp_ušt64
;

160 
	#KMP_INT32_SPEC
 "d"

	)

161 
	#KMP_UINT32_SPEC
 "u"

	)

162 
	#KMP_INT64_SPEC
 "Îd"

	)

163 
	#KMP_UINT64_SPEC
 "Îu"

	)

166 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_MIPS


167 
	#KMP_SIZE_T_SPEC
 
KMP_UINT32_SPEC


	)

168 #–ià
KMP_ARCH_X86_64
 || 
KMP_ARCH_PPC64
 || 
KMP_ARCH_AARCH64
 || \

169 
	gKMP_ARCH_MIPS64
 || 
	gKMP_ARCH_RISCV64


170 
	#KMP_SIZE_T_SPEC
 
KMP_UINT64_SPEC


	)

175 #ià
KMP_ARCH_X86


176 
	#KMP_SIZE_T_MAX
 (0xFFFFFFFF)

	)

178 
	#KMP_SIZE_T_MAX
 (0xFFFFFFFFFFFFFFFF)

	)

181 
size_t
 
	tkmp_size_t
;

182 
	tkmp_»®32
;

183 
	tkmp_»®64
;

185 #iâdeà
KMP_INTPTR


186 
	#KMP_INTPTR
 1

	)

187 
	tkmp_šŒ_t
;

188 
	tkmp_ušŒ_t
;

189 
	#KMP_INTPTR_SPEC
 "ld"

	)

190 
	#KMP_UINTPTR_SPEC
 "lu"

	)

193 #ifdeà
BUILD_I8


194 
kmp_št64
 
	tkmp_št
;

195 
kmp_ušt64
 
	tkmp_ušt
;

197 
kmp_št32
 
	tkmp_št
;

198 
kmp_ušt32
 
	tkmp_ušt
;

200 
	#KMP_INT_MAX
 ((
kmp_št32
)0x7FFFFFFF)

	)

201 
	#KMP_INT_MIN
 ((
kmp_št32
)0x80000000)

	)

203 #ifdeà
__ılu¥lus


205 
	#CCAST
(
ty³
, 
v¬
è
cÚ¡_ÿ¡
<ty³>(v¬)

	)

206 
	#RCAST
(
ty³
, 
v¬
è
»š‹½»t_ÿ¡
<ty³>(v¬)

	)

210 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sŒa™s_t
 {};

212 
	g‹m¶©e
 <> 
	gŒa™s_t
<signed > {

213 sigÃd 
	tsigÃd_t
;

214 
	tunsigÃd_t
;

215 
	tæßtšg_t
;

216 cÚ¡ *
	g¥ec
;

217 cÚ¡ 
sigÃd_t
 
	gmax_v®ue
 = 0x7fffffff;

218 cÚ¡ 
sigÃd_t
 
	gmš_v®ue
 = 0x80000000;

219 cÚ¡ 
	gty³_size
 = (
sigÃd_t
);

222 
	g‹m¶©e
 <> 
	gŒa™s_t
<> {

223 sigÃd 
	tsigÃd_t
;

224 
	tunsigÃd_t
;

225 
	tæßtšg_t
;

226 cÚ¡ *
	g¥ec
;

227 cÚ¡ 
unsigÃd_t
 
	gmax_v®ue
 = 0xffffffff;

228 cÚ¡ 
unsigÃd_t
 
	gmš_v®ue
 = 0x00000000;

229 cÚ¡ 
	gty³_size
 = (
unsigÃd_t
);

232 
	g‹m¶©e
 <> 
	gŒa™s_t
<signed > {

233 sigÃd 
	tsigÃd_t
;

234 
	tunsigÃd_t
;

235 
	tæßtšg_t
;

236 cÚ¡ *
	g¥ec
;

237 cÚ¡ 
	gty³_size
 = (
sigÃd_t
);

240 
	g‹m¶©e
 <> 
	gŒa™s_t
<signed > {

241 sigÃd 
	tsigÃd_t
;

242 
	tunsigÃd_t
;

243 
	tæßtšg_t
;

244 cÚ¡ *
	g¥ec
;

245 cÚ¡ 
sigÃd_t
 
	gmax_v®ue
 = 0x7fffffffffffffffLL;

246 cÚ¡ 
sigÃd_t
 
	gmš_v®ue
 = 0x8000000000000000LL;

247 cÚ¡ 
	gty³_size
 = (
sigÃd_t
);

250 
	g‹m¶©e
 <> 
	gŒa™s_t
<> {

251 sigÃd 
	tsigÃd_t
;

252 
	tunsigÃd_t
;

253 
	tæßtšg_t
;

254 cÚ¡ *
	g¥ec
;

255 cÚ¡ 
unsigÃd_t
 
	gmax_v®ue
 = 0xffffffffffffffffLL;

256 cÚ¡ 
unsigÃd_t
 
	gmš_v®ue
 = 0x0000000000000000LL;

257 cÚ¡ 
	gty³_size
 = (
unsigÃd_t
);

261 
	#CCAST
(
ty³
, 
v¬
èÑy³)(v¬)

	)

262 
	#RCAST
(
ty³
, 
v¬
èÑy³)(v¬)

	)

265 
	#KMP_EXPORT
 

	)

267 #ià
__GNUC__
 >ğ4 && !
defšed
(
__MINGW32__
)

268 
	#__fÜûšlše
 
__šlše


	)

271 #ià
KMP_OS_WINDOWS


272 
	~<wšdows.h
>

274 
šlše
 
	$KMP_GET_PAGE_SIZE
() {

275 
SYSTEM_INFO
 
si
;

276 
	`G‘Sy¡emInfo
(&
si
);

277  
si
.
dwPageSize
;

278 
	}
}

280 
	#KMP_GET_PAGE_SIZE
(è
	`g‘·gesize
()

	)

283 
	#PAGE_ALIGNED
(
_addr
) \

284 (!((
size_t
)
_addr
 & (size_t)(
	`KMP_GET_PAGE_SIZE
(è- 1)))

	)

285 
	#ALIGN_TO_PAGE
(
x
) \

286 (*)(((
size_t
)(
x
)è& ~((size_t)(
	`KMP_GET_PAGE_SIZE
(è- 1)))

	)

290 #ifdeà
__ılu¥lus


294 
	#INTERNODE_CACHE_LINE
 4096

	)

297 #iâdeà
CACHE_LINE


298 
	#CACHE_LINE
 128

	)

300 #ià(
CACHE_LINE
 < 64è&& !
defšed
(
KMP_OS_DARWIN
)

302 #w¬nšg 
CACHE_LINE
 
is
 
too
 
sm®l
.

306 
	#KMP_CACHE_PREFETCH
(
ADDR
è

	)

312 #ià
__ılu¥lus
 > 201402L && 
__has_ıp_©Œibu‹
(
çÎthrough
)

313 
	#KMP_FALLTHROUGH
(è[[
çÎthrough
]]

	)

314 #–ià
__has_ıp_©Œibu‹
(
şªg
::
çÎthrough
)

315 
	#KMP_FALLTHROUGH
(è[[
şªg
::
çÎthrough
]]

	)

316 #–ià
__has_©Œibu‹
(
çÎthrough
è|| 
__GNUC__
 >= 7

317 
	#KMP_FALLTHROUGH
(è
	`__©Œibu‹__
((
__çÎthrough__
))

	)

319 
	#KMP_FALLTHROUGH
(è(()0)

	)

323 #ià
__ılu¥lus
 >= 201103L

324 
	#KMP_NORETURN
 [[
nÜ‘uº
]]

	)

325 #–ià
KMP_OS_WINDOWS


326 
	#KMP_NORETURN
 
	`__deş¥ec
(
nÜ‘uº
)

	)

328 
	#KMP_NORETURN
 
	`__©Œibu‹__
((
nÜ‘uº
))

	)

331 #ià
KMP_OS_WINDOWS
 && 
KMP_MSVC_COMPAT


332 
	#KMP_ALIGN
(
by‹s
è
	`__deş¥ec
(
	`®ign
(by‹s))

	)

333 
	#KMP_THREAD_LOCAL
 
	`__deş¥ec
(
th»ad
)

	)

334 
	#KMP_ALIAS


	)

336 
	#KMP_ALIGN
(
by‹s
è
	`__©Œibu‹__
((
	`®igÃd
(by‹s)))

	)

337 
	#KMP_THREAD_LOCAL
 
__th»ad


	)

338 
	#KMP_ALIAS
(
®Ÿs_of
è
	`__©Œibu‹__
((
	`®Ÿs
×lŸs_of)))

	)

341 #ià
KMP_HAVE_WEAK_ATTRIBUTE


342 
	#KMP_WEAK_ATTRIBUTE
 
	`__©Œibu‹__
((
w—k
))

	)

344 
	#KMP_WEAK_ATTRIBUTE


	)

348 #iâdeà
KMP_STR


349 
	#KMP_STR
(
x
è
	`_KMP_STR
(x)

	)

350 
	#_KMP_STR
(
x
è#x

	)

353 #ifdeà
KMP_USE_VERSION_SYMBOLS


356 
	#KMP_EXPAND_NAME
(
­i_Çme
è
	`_KMP_EXPAND_NAME
×pi_Çme)

	)

357 
	#_KMP_EXPAND_NAME
(
­i_Çme
è
__kmp_­i_
##
	)
api_name

358 
	#KMP_VERSION_SYMBOL
(
­i_Çme
, 
v”_num
, 
v”_¡r
) \

359 
	`_KMP_VERSION_SYMBOL
(
­i_Çme
, 
v”_num
, 
v”_¡r
, "VERSION")

	)

360 
	#_KMP_VERSION_SYMBOL
(
­i_Çme
, 
v”_num
, 
v”_¡r
, 
deçuÉ_v”
) \

361 
	`__ty³of__
(
__kmp_­i_
##
­i_Çme
è__kmp_­i_##­i_Çme##
_
##
v”_num
##
_®Ÿs
 \

362 
	`__©Œibu‹__
((
	`®Ÿs
(
	`KMP_STR
(
__kmp_­i_
##
­i_Çme
)))); \

363 
	`__asm__
( \

364 ".symv” " 
	`KMP_STR
(
__kmp_­i_
##
­i_Çme
##
_
##
v”_num
##
_®Ÿs
) "," KMP_STR( \

365 
­i_Çme
è"@" 
v”_¡r
 "\n\t"); \

366 
	`__asm__
(".symv” " 
	`KMP_STR
(
__kmp_­i_
##
­i_Çme
) "," KMP_STR( \

367 
­i_Çme
è"@@" 
deçuÉ_v”
 "\n\t")

	)

369 
	#KMP_EXPAND_NAME
(
­i_Çme
è
	)
api_name

370 
	#KMP_VERSION_SYMBOL
(
­i_Çme
, 
v”_num
, 
v”_¡r
è

	)

375 
	#KMP_DO_ALIGN
(
by‹s
è
	`KMP_ALIGN
(by‹s)

	)

376 
	#KMP_ALIGN_CACHE
 
	`KMP_ALIGN
(
CACHE_LINE
)

	)

377 
	#KMP_ALIGN_CACHE_INTERNODE
 
	`KMP_ALIGN
(
INTERNODE_CACHE_LINE
)

	)

380 
	ekmp_mem_ãnû_ty³
 {

381 
kmp_no_ãnû
,

382 
kmp_acquœe_ãnû
,

383 
kmp_»Ëa£_ãnû
,

384 
kmp_fuÎ_ãnû


389 #ià
KMP_ASM_INTRINS
 && 
KMP_OS_WINDOWS


391 #ià
KMP_MSVC_COMPAT
 && !
KMP_COMPILER_CLANG


392 #´agm¨
šŒšsic
(
IÁ”lockedExchªgeAdd
)

393 #´agm¨
šŒšsic
(
IÁ”lockedCom·»Exchªge
)

394 #´agm¨
šŒšsic
(
IÁ”lockedExchªge
)

395 #´agm¨
šŒšsic
(
IÁ”lockedExchªge64
)

400 
	#KMP_TEST_THEN_INC32
(
p
è
	`IÁ”lockedExchªgeAdd
((vŞ©*)Õ), 1)

	)

401 
	#KMP_TEST_THEN_INC_ACQ32
(
p
) \

402 
	`IÁ”lockedExchªgeAdd
((vŞ©*)(
p
), 1)

	)

403 
	#KMP_TEST_THEN_ADD4_32
(
p
è
	`IÁ”lockedExchªgeAdd
((vŞ©*)Õ), 4)

	)

404 
	#KMP_TEST_THEN_ADD4_ACQ32
(
p
) \

405 
	`IÁ”lockedExchªgeAdd
((vŞ©*)(
p
), 4)

	)

406 
	#KMP_TEST_THEN_DEC32
(
p
è
	`IÁ”lockedExchªgeAdd
((vŞ©*)Õ), -1)

	)

407 
	#KMP_TEST_THEN_DEC_ACQ32
(
p
) \

408 
	`IÁ”lockedExchªgeAdd
((vŞ©*)(
p
), -1)

	)

409 
	#KMP_TEST_THEN_ADD32
(
p
, 
v
) \

410 
	`IÁ”lockedExchªgeAdd
((vŞ©*)(
p
), (
v
))

	)

412 
	#KMP_COMPARE_AND_STORE_RET32
(
p
, 
cv
, 
sv
) \

413 
	`IÁ”lockedCom·»Exchªge
((vŞ©*)(
p
), ()(
sv
), ()(
cv
))

	)

415 
	#KMP_XCHG_FIXED32
(
p
, 
v
) \

416 
	`IÁ”lockedExchªge
((vŞ©*)(
p
), ()(
v
))

	)

417 
	#KMP_XCHG_FIXED64
(
p
, 
v
) \

418 
	`IÁ”lockedExchªge64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
v
))

	)

420 
šlše
 
kmp_»®32
 
KMP_XCHG_REAL32
(vŞ©kmp_»®32 *
p
, kmp_»®32 
v
) {

421 
kmp_št32
 
tmp
 = 
IÁ”lockedExchªge
((vŞ©*)
p
, *(*)&
v
);

422  *(
kmp_»®32
 *)&
tmp
;

426 
kmp_št8
 
__kmp_‹¡_th’_add8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

427 
kmp_št8
 
__kmp_‹¡_th’_Ü8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

428 
kmp_št8
 
__kmp_‹¡_th’_ªd8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

429 
kmp_št32
 
__kmp_‹¡_th’_add32
(vŞ©kmp_št32 *
p
, kmp_št32 
v
);

430 
kmp_ušt32
 
__kmp_‹¡_th’_Ü32
(vŞ©kmp_ušt32 *
p
, kmp_ušt32 
v
);

431 
kmp_ušt32
 
__kmp_‹¡_th’_ªd32
(vŞ©kmp_ušt32 *
p
, kmp_ušt32 
v
);

432 
kmp_št64
 
__kmp_‹¡_th’_add64
(vŞ©kmp_št64 *
p
, kmp_št64 
v
);

433 
kmp_ušt64
 
__kmp_‹¡_th’_Ü64
(vŞ©kmp_ušt64 *
p
, kmp_ušt64 
v
);

434 
kmp_ušt64
 
__kmp_‹¡_th’_ªd64
(vŞ©kmp_ušt64 *
p
, kmp_ušt64 
v
);

436 
kmp_št8
 
__kmp_com·»_ªd_¡Üe8
(vŞ©kmp_št8 *
p
, kmp_št8 
cv
,

437 
kmp_št8
 
sv
);

438 
kmp_št16
 
__kmp_com·»_ªd_¡Üe16
(vŞ©kmp_št16 *
p
, kmp_št16 
cv
,

439 
kmp_št16
 
sv
);

440 
kmp_št32
 
__kmp_com·»_ªd_¡Üe32
(vŞ©kmp_št32 *
p
, kmp_št32 
cv
,

441 
kmp_št32
 
sv
);

442 
kmp_št32
 
__kmp_com·»_ªd_¡Üe64
(vŞ©
kmp_št64
 *
p
, kmp_št64 
cv
,

443 
kmp_št64
 
sv
);

444 
kmp_št8
 
__kmp_com·»_ªd_¡Üe_»t8
(vŞ©kmp_št8 *
p
, kmp_št8 
cv
,

445 
kmp_št8
 
sv
);

446 
kmp_št16
 
__kmp_com·»_ªd_¡Üe_»t16
(vŞ©kmp_št16 *
p
,

447 
kmp_št16
 
cv
, kmp_št16 
sv
);

448 
kmp_št32
 
__kmp_com·»_ªd_¡Üe_»t32
(vŞ©kmp_št32 *
p
,

449 
kmp_št32
 
cv
, kmp_št32 
sv
);

450 
kmp_št64
 
__kmp_com·»_ªd_¡Üe_»t64
(vŞ©kmp_št64 *
p
,

451 
kmp_št64
 
cv
, kmp_št64 
sv
);

453 
kmp_št8
 
__kmp_xchg_fixed8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

454 
kmp_št16
 
__kmp_xchg_fixed16
(vŞ©kmp_št16 *
p
, kmp_št16 
v
);

455 
kmp_št32
 
__kmp_xchg_fixed32
(vŞ©kmp_št32 *
p
, kmp_št32 
v
);

456 
kmp_št64
 
__kmp_xchg_fixed64
(vŞ©kmp_št64 *
p
, kmp_št64 
v
);

457 
kmp_»®32
 
__kmp_xchg_»®32
(vŞ©kmp_»®32 *
p
, kmp_»®32 
v
);

458 
kmp_»®64
 
__kmp_xchg_»®64
(vŞ©kmp_»®64 *
p
, kmp_»®64 
v
);

462 
	#KMP_TEST_THEN_INC64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), 1LL)

	)

463 
	#KMP_TEST_THEN_INC_ACQ64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), 1LL)

	)

466 
	#KMP_TEST_THEN_ADD4_64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), 4LL)

	)

467 
	#KMP_TEST_THEN_ADD4_ACQ64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), 4LL)

	)

470 
	#KMP_TEST_THEN_DEC64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), -1LL)

	)

471 
	#KMP_TEST_THEN_DEC_ACQ64
(
p
è
	`__kmp_‹¡_th’_add64
(Õ), -1LL)

	)

473 
	#KMP_TEST_THEN_ADD8
(
p
, 
v
è
	`__kmp_‹¡_th’_add8
(Õ), (v))

	)

474 
	#KMP_TEST_THEN_ADD64
(
p
, 
v
è
	`__kmp_‹¡_th’_add64
(Õ), (v))

	)

476 
	#KMP_TEST_THEN_OR8
(
p
, 
v
è
	`__kmp_‹¡_th’_Ü8
(Õ), (v))

	)

477 
	#KMP_TEST_THEN_AND8
(
p
, 
v
è
	`__kmp_‹¡_th’_ªd8
(Õ), (v))

	)

478 
	#KMP_TEST_THEN_OR32
(
p
, 
v
è
	`__kmp_‹¡_th’_Ü32
(Õ), (v))

	)

479 
	#KMP_TEST_THEN_AND32
(
p
, 
v
è
	`__kmp_‹¡_th’_ªd32
(Õ), (v))

	)

480 
	#KMP_TEST_THEN_OR64
(
p
, 
v
è
	`__kmp_‹¡_th’_Ü64
(Õ), (v))

	)

481 
	#KMP_TEST_THEN_AND64
(
p
, 
v
è
	`__kmp_‹¡_th’_ªd64
(Õ), (v))

	)

483 
	#KMP_COMPARE_AND_STORE_ACQ8
(
p
, 
cv
, 
sv
) \

484 
	`__kmp_com·»_ªd_¡Üe8
((
p
), (
cv
), (
sv
))

	)

485 
	#KMP_COMPARE_AND_STORE_REL8
(
p
, 
cv
, 
sv
) \

486 
	`__kmp_com·»_ªd_¡Üe8
((
p
), (
cv
), (
sv
))

	)

487 
	#KMP_COMPARE_AND_STORE_ACQ16
(
p
, 
cv
, 
sv
) \

488 
	`__kmp_com·»_ªd_¡Üe16
((
p
), (
cv
), (
sv
))

	)

489 
	#KMP_COMPARE_AND_STORE_REL16
(
p
, 
cv
, 
sv
) \

490 
	`__kmp_com·»_ªd_¡Üe16
((
p
), (
cv
), (
sv
))

	)

491 
	#KMP_COMPARE_AND_STORE_ACQ32
(
p
, 
cv
, 
sv
) \

492 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

493 (
kmp_št32
)(
sv
))

	)

494 
	#KMP_COMPARE_AND_STORE_REL32
(
p
, 
cv
, 
sv
) \

495 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

496 (
kmp_št32
)(
sv
))

	)

497 
	#KMP_COMPARE_AND_STORE_ACQ64
(
p
, 
cv
, 
sv
) \

498 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

499 (
kmp_št64
)(
sv
))

	)

500 
	#KMP_COMPARE_AND_STORE_REL64
(
p
, 
cv
, 
sv
) \

501 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

502 (
kmp_št64
)(
sv
))

	)

504 #ià
KMP_ARCH_X86


505 
	#KMP_COMPARE_AND_STORE_PTR
(
p
, 
cv
, 
sv
) \

506 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

507 (
kmp_št32
)(
sv
))

	)

509 
	#KMP_COMPARE_AND_STORE_PTR
(
p
, 
cv
, 
sv
) \

510 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

511 (
kmp_št64
)(
sv
))

	)

514 
	#KMP_COMPARE_AND_STORE_RET8
(
p
, 
cv
, 
sv
) \

515 
	`__kmp_com·»_ªd_¡Üe_»t8
((
p
), (
cv
), (
sv
))

	)

516 
	#KMP_COMPARE_AND_STORE_RET16
(
p
, 
cv
, 
sv
) \

517 
	`__kmp_com·»_ªd_¡Üe_»t16
((
p
), (
cv
), (
sv
))

	)

518 
	#KMP_COMPARE_AND_STORE_RET64
(
p
, 
cv
, 
sv
) \

519 
	`__kmp_com·»_ªd_¡Üe_»t64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

520 (
kmp_št64
)(
sv
))

	)

522 
	#KMP_XCHG_FIXED8
(
p
, 
v
) \

523 
	`__kmp_xchg_fixed8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
));

	)

524 
	#KMP_XCHG_FIXED16
(
p
, 
v
è
	`__kmp_xchg_fixed16
(Õ), (v));

	)

528 
	#KMP_XCHG_REAL64
(
p
, 
v
è
	`__kmp_xchg_»®64
(Õ), (v));

	)

530 #–ià(
KMP_ASM_INTRINS
 && 
KMP_OS_UNIX
è|| !(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

533 
	#KMP_TEST_THEN_INC32
(
p
) \

534 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

535 
	#KMP_TEST_THEN_INC_ACQ32
(
p
) \

536 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

537 #ià
KMP_ARCH_MIPS


538 
	#KMP_TEST_THEN_INC64
(
p
) \

539 
	`__©omic_ãtch_add
((vŞ©
kmp_št64
 *)(
p
), 1LL, 
__ATOMIC_SEQ_CST
)

	)

540 
	#KMP_TEST_THEN_INC_ACQ64
(
p
) \

541 
	`__©omic_ãtch_add
((vŞ©
kmp_št64
 *)(
p
), 1LL, 
__ATOMIC_SEQ_CST
)

	)

543 
	#KMP_TEST_THEN_INC64
(
p
) \

544 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

545 
	#KMP_TEST_THEN_INC_ACQ64
(
p
) \

546 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

548 
	#KMP_TEST_THEN_ADD4_32
(
p
) \

549 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št32
 *)(
p
), 4)

	)

550 
	#KMP_TEST_THEN_ADD4_ACQ32
(
p
) \

551 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št32
 *)(
p
), 4)

	)

552 #ià
KMP_ARCH_MIPS


553 
	#KMP_TEST_THEN_ADD4_64
(
p
) \

554 
	`__©omic_ãtch_add
((vŞ©
kmp_št64
 *)(
p
), 4LL, 
__ATOMIC_SEQ_CST
)

	)

555 
	#KMP_TEST_THEN_ADD4_ACQ64
(
p
) \

556 
	`__©omic_ãtch_add
((vŞ©
kmp_št64
 *)(
p
), 4LL, 
__ATOMIC_SEQ_CST
)

	)

557 
	#KMP_TEST_THEN_DEC64
(
p
) \

558 
	`__©omic_ãtch_sub
((vŞ©
kmp_št64
 *)(
p
), 1LL, 
__ATOMIC_SEQ_CST
)

	)

559 
	#KMP_TEST_THEN_DEC_ACQ64
(
p
) \

560 
	`__©omic_ãtch_sub
((vŞ©
kmp_št64
 *)(
p
), 1LL, 
__ATOMIC_SEQ_CST
)

	)

562 
	#KMP_TEST_THEN_ADD4_64
(
p
) \

563 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št64
 *)(
p
), 4LL)

	)

564 
	#KMP_TEST_THEN_ADD4_ACQ64
(
p
) \

565 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št64
 *)(
p
), 4LL)

	)

566 
	#KMP_TEST_THEN_DEC64
(
p
) \

567 
	`__sync_ãtch_ªd_sub
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

568 
	#KMP_TEST_THEN_DEC_ACQ64
(
p
) \

569 
	`__sync_ãtch_ªd_sub
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

571 
	#KMP_TEST_THEN_DEC32
(
p
) \

572 
	`__sync_ãtch_ªd_sub
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

573 
	#KMP_TEST_THEN_DEC_ACQ32
(
p
) \

574 
	`__sync_ãtch_ªd_sub
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

575 
	#KMP_TEST_THEN_ADD8
(
p
, 
v
) \

576 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

577 
	#KMP_TEST_THEN_ADD32
(
p
, 
v
) \

578 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
v
))

	)

579 #ià
KMP_ARCH_MIPS


580 
	#KMP_TEST_THEN_ADD64
(
p
, 
v
) \

581 
	`__©omic_ãtch_add
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
), \

582 
__ATOMIC_SEQ_CST
)

	)

584 
	#KMP_TEST_THEN_ADD64
(
p
, 
v
) \

585 
	`__sync_ãtch_ªd_add
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
v
))

	)

588 
	#KMP_TEST_THEN_OR8
(
p
, 
v
) \

589 
	`__sync_ãtch_ªd_Ü
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

590 
	#KMP_TEST_THEN_AND8
(
p
, 
v
) \

591 
	`__sync_ãtch_ªd_ªd
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

592 
	#KMP_TEST_THEN_OR32
(
p
, 
v
) \

593 
	`__sync_ãtch_ªd_Ü
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
v
))

	)

594 
	#KMP_TEST_THEN_AND32
(
p
, 
v
) \

595 
	`__sync_ãtch_ªd_ªd
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
v
))

	)

596 #ià
KMP_ARCH_MIPS


597 
	#KMP_TEST_THEN_OR64
(
p
, 
v
) \

598 
	`__©omic_ãtch_Ü
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
), \

599 
__ATOMIC_SEQ_CST
)

	)

600 
	#KMP_TEST_THEN_AND64
(
p
, 
v
) \

601 
	`__©omic_ãtch_ªd
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
), \

602 
__ATOMIC_SEQ_CST
)

	)

604 
	#KMP_TEST_THEN_OR64
(
p
, 
v
) \

605 
	`__sync_ãtch_ªd_Ü
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
))

	)

606 
	#KMP_TEST_THEN_AND64
(
p
, 
v
) \

607 
	`__sync_ãtch_ªd_ªd
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
))

	)

610 
	#KMP_COMPARE_AND_STORE_ACQ8
(
p
, 
cv
, 
sv
) \

611 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt8
 *)(
p
), (kmp_ušt8)(
cv
), \

612 (
kmp_ušt8
)(
sv
))

	)

613 
	#KMP_COMPARE_AND_STORE_REL8
(
p
, 
cv
, 
sv
) \

614 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt8
 *)(
p
), (kmp_ušt8)(
cv
), \

615 (
kmp_ušt8
)(
sv
))

	)

616 
	#KMP_COMPARE_AND_STORE_ACQ16
(
p
, 
cv
, 
sv
) \

617 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt16
 *)(
p
), (kmp_ušt16)(
cv
), \

618 (
kmp_ušt16
)(
sv
))

	)

619 
	#KMP_COMPARE_AND_STORE_REL16
(
p
, 
cv
, 
sv
) \

620 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt16
 *)(
p
), (kmp_ušt16)(
cv
), \

621 (
kmp_ušt16
)(
sv
))

	)

622 
	#KMP_COMPARE_AND_STORE_ACQ32
(
p
, 
cv
, 
sv
) \

623 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
cv
), \

624 (
kmp_ušt32
)(
sv
))

	)

625 
	#KMP_COMPARE_AND_STORE_REL32
(
p
, 
cv
, 
sv
) \

626 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
cv
), \

627 (
kmp_ušt32
)(
sv
))

	)

628 
	#KMP_COMPARE_AND_STORE_PTR
(
p
, 
cv
, 
sv
) \

629 
	`__sync_boŞ_com·»_ªd_sw­
((*vŞ©*)(
p
), (*)(
cv
), \

630 (*)(
sv
))

	)

632 
	#KMP_COMPARE_AND_STORE_RET8
(
p
, 
cv
, 
sv
) \

633 
	`__sync_v®_com·»_ªd_sw­
((vŞ©
kmp_ušt8
 *)(
p
), (kmp_ušt8)(
cv
), \

634 (
kmp_ušt8
)(
sv
))

	)

635 
	#KMP_COMPARE_AND_STORE_RET16
(
p
, 
cv
, 
sv
) \

636 
	`__sync_v®_com·»_ªd_sw­
((vŞ©
kmp_ušt16
 *)(
p
), (kmp_ušt16)(
cv
), \

637 (
kmp_ušt16
)(
sv
))

	)

638 
	#KMP_COMPARE_AND_STORE_RET32
(
p
, 
cv
, 
sv
) \

639 
	`__sync_v®_com·»_ªd_sw­
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
cv
), \

640 (
kmp_ušt32
)(
sv
))

	)

641 #ià
KMP_ARCH_MIPS


642 
šlše
 
boŞ
 
ms_sync_boŞ_com·»_ªd_sw­
(

643 vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
cv
, kmp_ušt64 
sv
) {

644  
__©omic_com·»_exchªge
(
p
, &
cv
, &
sv
, 
çl£
, 
__ATOMIC_SEQ_CST
,

645 
__ATOMIC_SEQ_CST
);

647 
šlše
 
boŞ
 
ms_sync_v®_com·»_ªd_sw­
(

648 vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
cv
, kmp_ušt64 
sv
) {

649 
__©omic_com·»_exchªge
(
p
, &
cv
, &
sv
, 
çl£
, 
__ATOMIC_SEQ_CST
,

650 
__ATOMIC_SEQ_CST
);

651  
	gcv
;

653 
	#KMP_COMPARE_AND_STORE_ACQ64
(
p
, 
cv
, 
sv
) \

654 
	`ms_sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
),\

655 (
kmp_ušt64
)(
sv
))

	)

656 
	#KMP_COMPARE_AND_STORE_REL64
(
p
, 
cv
, 
sv
) \

657 
	`ms_sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
),\

658 (
kmp_ušt64
)(
sv
))

	)

659 
	#KMP_COMPARE_AND_STORE_RET64
(
p
, 
cv
, 
sv
) \

660 
	`ms_sync_v®_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
), \

661 (
kmp_ušt64
)(
sv
))

	)

663 
	#KMP_COMPARE_AND_STORE_ACQ64
(
p
, 
cv
, 
sv
) \

664 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
), \

665 (
kmp_ušt64
)(
sv
))

	)

666 
	#KMP_COMPARE_AND_STORE_REL64
(
p
, 
cv
, 
sv
) \

667 
	`__sync_boŞ_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
), \

668 (
kmp_ušt64
)(
sv
))

	)

669 
	#KMP_COMPARE_AND_STORE_RET64
(
p
, 
cv
, 
sv
) \

670 
	`__sync_v®_com·»_ªd_sw­
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
cv
), \

671 (
kmp_ušt64
)(
sv
))

	)

674 
	#KMP_XCHG_FIXED8
(
p
, 
v
) \

675 
	`__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt8
 *)(
p
), (kmp_ušt8)(
v
))

	)

676 
	#KMP_XCHG_FIXED16
(
p
, 
v
) \

677 
	`__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt16
 *)(
p
), (kmp_ušt16)(
v
))

	)

678 
	#KMP_XCHG_FIXED32
(
p
, 
v
) \

679 
	`__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
v
))

	)

680 
	#KMP_XCHG_FIXED64
(
p
, 
v
) \

681 
	`__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
))

	)

683 
šlše
 
kmp_»®32
 
KMP_XCHG_REAL32
(vŞ©kmp_»®32 *
p
, kmp_»®32 
v
) {

684 
kmp_št32
 
	gtmp
 =

685 
__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt32
 *)(
p
), *(kmp_ušt32 *)&
v
);

686  *(
	gkmp_»®32
 *)&
	gtmp
;

689 
šlše
 
kmp_»®64
 
KMP_XCHG_REAL64
(vŞ©kmp_»®64 *
p
, kmp_»®64 
v
) {

690 
kmp_št64
 
	gtmp
 =

691 
__sync_lock_‹¡_ªd_£t
((vŞ©
kmp_ušt64
 *)(
p
), *(kmp_ušt64 *)&
v
);

692  *(
	gkmp_»®64
 *)&
	gtmp
;

697 
kmp_št8
 
__kmp_‹¡_th’_add8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

698 
kmp_št8
 
__kmp_‹¡_th’_Ü8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

699 
kmp_št8
 
__kmp_‹¡_th’_ªd8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

700 
kmp_št32
 
__kmp_‹¡_th’_add32
(vŞ©kmp_št32 *
p
, kmp_št32 
v
);

701 
kmp_ušt32
 
__kmp_‹¡_th’_Ü32
(vŞ©kmp_ušt32 *
p
, kmp_ušt32 
v
);

702 
kmp_ušt32
 
__kmp_‹¡_th’_ªd32
(vŞ©kmp_ušt32 *
p
, kmp_ušt32 
v
);

703 
kmp_št64
 
__kmp_‹¡_th’_add64
(vŞ©kmp_št64 *
p
, kmp_št64 
v
);

704 
kmp_ušt64
 
__kmp_‹¡_th’_Ü64
(vŞ©kmp_ušt64 *
p
, kmp_ušt64 
v
);

705 
kmp_ušt64
 
__kmp_‹¡_th’_ªd64
(vŞ©kmp_ušt64 *
p
, kmp_ušt64 
v
);

707 
kmp_št8
 
__kmp_com·»_ªd_¡Üe8
(vŞ©kmp_št8 *
p
, kmp_št8 
cv
,

708 
kmp_št8
 
sv
);

709 
kmp_št16
 
__kmp_com·»_ªd_¡Üe16
(vŞ©kmp_št16 *
p
, kmp_št16 
cv
,

710 
kmp_št16
 
sv
);

711 
kmp_št32
 
__kmp_com·»_ªd_¡Üe32
(vŞ©kmp_št32 *
p
, kmp_št32 
cv
,

712 
kmp_št32
 
sv
);

713 
kmp_št32
 
__kmp_com·»_ªd_¡Üe64
(vŞ©
kmp_št64
 *
p
, kmp_št64 
cv
,

714 
kmp_št64
 
sv
);

715 
kmp_št8
 
__kmp_com·»_ªd_¡Üe_»t8
(vŞ©kmp_št8 *
p
, kmp_št8 
cv
,

716 
kmp_št8
 
sv
);

717 
kmp_št16
 
__kmp_com·»_ªd_¡Üe_»t16
(vŞ©kmp_št16 *
p
,

718 
kmp_št16
 
cv
, kmp_št16 
sv
);

719 
kmp_št32
 
__kmp_com·»_ªd_¡Üe_»t32
(vŞ©kmp_št32 *
p
,

720 
kmp_št32
 
cv
, kmp_št32 
sv
);

721 
kmp_št64
 
__kmp_com·»_ªd_¡Üe_»t64
(vŞ©kmp_št64 *
p
,

722 
kmp_št64
 
cv
, kmp_št64 
sv
);

724 
kmp_št8
 
__kmp_xchg_fixed8
(vŞ©kmp_št8 *
p
, kmp_št8 
v
);

725 
kmp_št16
 
__kmp_xchg_fixed16
(vŞ©kmp_št16 *
p
, kmp_št16 
v
);

726 
kmp_št32
 
__kmp_xchg_fixed32
(vŞ©kmp_št32 *
p
, kmp_št32 
v
);

727 
kmp_št64
 
__kmp_xchg_fixed64
(vŞ©kmp_št64 *
p
, kmp_št64 
v
);

728 
kmp_»®32
 
__kmp_xchg_»®32
(vŞ©kmp_»®32 *
p
, kmp_»®32 
v
);

729 
kmp_»®64
 
__kmp_xchg_»®64
(vŞ©kmp_»®64 *
p
, kmp_»®64 
v
);

731 
	#KMP_TEST_THEN_INC32
(
p
) \

732 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

733 
	#KMP_TEST_THEN_INC_ACQ32
(
p
) \

734 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), 1)

	)

735 
	#KMP_TEST_THEN_INC64
(
p
) \

736 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

737 
	#KMP_TEST_THEN_INC_ACQ64
(
p
) \

738 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), 1LL)

	)

739 
	#KMP_TEST_THEN_ADD4_32
(
p
) \

740 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), 4)

	)

741 
	#KMP_TEST_THEN_ADD4_ACQ32
(
p
) \

742 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), 4)

	)

743 
	#KMP_TEST_THEN_ADD4_64
(
p
) \

744 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), 4LL)

	)

745 
	#KMP_TEST_THEN_ADD4_ACQ64
(
p
) \

746 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), 4LL)

	)

747 
	#KMP_TEST_THEN_DEC32
(
p
) \

748 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), -1)

	)

749 
	#KMP_TEST_THEN_DEC_ACQ32
(
p
) \

750 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), -1)

	)

751 
	#KMP_TEST_THEN_DEC64
(
p
) \

752 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), -1LL)

	)

753 
	#KMP_TEST_THEN_DEC_ACQ64
(
p
) \

754 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), -1LL)

	)

755 
	#KMP_TEST_THEN_ADD8
(
p
, 
v
) \

756 
	`__kmp_‹¡_th’_add8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

757 
	#KMP_TEST_THEN_ADD32
(
p
, 
v
) \

758 
	`__kmp_‹¡_th’_add32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
v
))

	)

759 
	#KMP_TEST_THEN_ADD64
(
p
, 
v
) \

760 
	`__kmp_‹¡_th’_add64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
v
))

	)

762 
	#KMP_TEST_THEN_OR8
(
p
, 
v
) \

763 
	`__kmp_‹¡_th’_Ü8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

764 
	#KMP_TEST_THEN_AND8
(
p
, 
v
) \

765 
	`__kmp_‹¡_th’_ªd8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
))

	)

766 
	#KMP_TEST_THEN_OR32
(
p
, 
v
) \

767 
	`__kmp_‹¡_th’_Ü32
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
v
))

	)

768 
	#KMP_TEST_THEN_AND32
(
p
, 
v
) \

769 
	`__kmp_‹¡_th’_ªd32
((vŞ©
kmp_ušt32
 *)(
p
), (kmp_ušt32)(
v
))

	)

770 
	#KMP_TEST_THEN_OR64
(
p
, 
v
) \

771 
	`__kmp_‹¡_th’_Ü64
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
))

	)

772 
	#KMP_TEST_THEN_AND64
(
p
, 
v
) \

773 
	`__kmp_‹¡_th’_ªd64
((vŞ©
kmp_ušt64
 *)(
p
), (kmp_ušt64)(
v
))

	)

775 
	#KMP_COMPARE_AND_STORE_ACQ8
(
p
, 
cv
, 
sv
) \

776 
	`__kmp_com·»_ªd_¡Üe8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
cv
), \

777 (
kmp_št8
)(
sv
))

	)

778 
	#KMP_COMPARE_AND_STORE_REL8
(
p
, 
cv
, 
sv
) \

779 
	`__kmp_com·»_ªd_¡Üe8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
cv
), \

780 (
kmp_št8
)(
sv
))

	)

781 
	#KMP_COMPARE_AND_STORE_ACQ16
(
p
, 
cv
, 
sv
) \

782 
	`__kmp_com·»_ªd_¡Üe16
((vŞ©
kmp_št16
 *)(
p
), (kmp_št16)(
cv
), \

783 (
kmp_št16
)(
sv
))

	)

784 
	#KMP_COMPARE_AND_STORE_REL16
(
p
, 
cv
, 
sv
) \

785 
	`__kmp_com·»_ªd_¡Üe16
((vŞ©
kmp_št16
 *)(
p
), (kmp_št16)(
cv
), \

786 (
kmp_št16
)(
sv
))

	)

787 
	#KMP_COMPARE_AND_STORE_ACQ32
(
p
, 
cv
, 
sv
) \

788 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

789 (
kmp_št32
)(
sv
))

	)

790 
	#KMP_COMPARE_AND_STORE_REL32
(
p
, 
cv
, 
sv
) \

791 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

792 (
kmp_št32
)(
sv
))

	)

793 
	#KMP_COMPARE_AND_STORE_ACQ64
(
p
, 
cv
, 
sv
) \

794 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

795 (
kmp_št64
)(
sv
))

	)

796 
	#KMP_COMPARE_AND_STORE_REL64
(
p
, 
cv
, 
sv
) \

797 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

798 (
kmp_št64
)(
sv
))

	)

800 #ià
KMP_ARCH_X86


801 
	#KMP_COMPARE_AND_STORE_PTR
(
p
, 
cv
, 
sv
) \

802 
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

803 (
kmp_št32
)(
sv
))

	)

805 
	#KMP_COMPARE_AND_STORE_PTR
(
p
, 
cv
, 
sv
) \

806 
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

807 (
kmp_št64
)(
sv
))

	)

810 
	#KMP_COMPARE_AND_STORE_RET8
(
p
, 
cv
, 
sv
) \

811 
	`__kmp_com·»_ªd_¡Üe_»t8
((
p
), (
cv
), (
sv
))

	)

812 
	#KMP_COMPARE_AND_STORE_RET16
(
p
, 
cv
, 
sv
) \

813 
	`__kmp_com·»_ªd_¡Üe_»t16
((
p
), (
cv
), (
sv
))

	)

814 
	#KMP_COMPARE_AND_STORE_RET32
(
p
, 
cv
, 
sv
) \

815 
	`__kmp_com·»_ªd_¡Üe_»t32
((vŞ©
kmp_št32
 *)(
p
), (kmp_št32)(
cv
), \

816 (
kmp_št32
)(
sv
))

	)

817 
	#KMP_COMPARE_AND_STORE_RET64
(
p
, 
cv
, 
sv
) \

818 
	`__kmp_com·»_ªd_¡Üe_»t64
((vŞ©
kmp_št64
 *)(
p
), (kmp_št64)(
cv
), \

819 (
kmp_št64
)(
sv
))

	)

821 
	#KMP_XCHG_FIXED8
(
p
, 
v
) \

822 
	`__kmp_xchg_fixed8
((vŞ©
kmp_št8
 *)(
p
), (kmp_št8)(
v
));

	)

823 
	#KMP_XCHG_FIXED16
(
p
, 
v
è
	`__kmp_xchg_fixed16
(Õ), (v));

	)

824 
	#KMP_XCHG_FIXED32
(
p
, 
v
è
	`__kmp_xchg_fixed32
(Õ), (v));

	)

825 
	#KMP_XCHG_FIXED64
(
p
, 
v
è
	`__kmp_xchg_fixed64
(Õ), (v));

	)

826 
	#KMP_XCHG_REAL32
(
p
, 
v
è
	`__kmp_xchg_»®32
(Õ), (v));

	)

827 
	#KMP_XCHG_REAL64
(
p
, 
v
è
	`__kmp_xchg_»®64
(Õ), (v));

	)

833 #ià
KMP_OS_WINDOWS


834 #ifdeà
__ABSOFT_WIN


835 
	#KMP_MB
(è
	`asm
("nİ")

	)

836 
	#KMP_IMB
(è
	`asm
("nİ")

	)

838 
	#KMP_MB
(è

	)

839 
	#KMP_IMB
(è

	)

843 #ià
KMP_ARCH_PPC64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
 || 
KMP_ARCH_MIPS
 || \

844 
	gKMP_ARCH_MIPS64
 || 
	gKMP_ARCH_RISCV64


845 
	#KMP_MB
(è
	`__sync_synchrÚize
()

	)

848 #iâdeà
KMP_MB


849 
	#KMP_MB
(è

	)

852 #iâdeà
KMP_IMB


853 
	#KMP_IMB
(è

	)

856 #iâdeà
KMP_ST_REL32


857 
	#KMP_ST_REL32
(
A
, 
D
è(*(Aèğ(D))

	)

860 #iâdeà
KMP_ST_REL64


861 
	#KMP_ST_REL64
(
A
, 
D
è(*(Aèğ(D))

	)

864 #iâdeà
KMP_LD_ACQ32


865 
	#KMP_LD_ACQ32
(
A
è(*(A))

	)

868 #iâdeà
KMP_LD_ACQ64


869 
	#KMP_LD_ACQ64
(
A
è(*(A))

	)

884 
	#TCR_1
(
a
è×)

	)

885 
	#TCW_1
(
a
, 
b
è×èğ(b)

	)

886 
	#TCR_4
(
a
è×)

	)

887 
	#TCW_4
(
a
, 
b
è×èğ(b)

	)

888 
	#TCI_4
(
a
è(++×))

	)

889 
	#TCD_4
(
a
è(--×))

	)

890 
	#TCR_8
(
a
è×)

	)

891 
	#TCW_8
(
a
, 
b
è×èğ(b)

	)

892 
	#TCI_8
(
a
è(++×))

	)

893 
	#TCD_8
(
a
è(--×))

	)

894 
	#TCR_SYNC_4
(
a
è×)

	)

895 
	#TCW_SYNC_4
(
a
, 
b
è×èğ(b)

	)

896 
	#TCX_SYNC_4
(
a
, 
b
, 
c
) \

897 
	`KMP_COMPARE_AND_STORE_REL32
((vŞ©
kmp_št32
 *)(vŞ©*)&(
a
), \

898 (
kmp_št32
)(
b
), (kmp_št32)(
c
))

	)

899 
	#TCR_SYNC_8
(
a
è×)

	)

900 
	#TCW_SYNC_8
(
a
, 
b
è×èğ(b)

	)

901 
	#TCX_SYNC_8
(
a
, 
b
, 
c
) \

902 
	`KMP_COMPARE_AND_STORE_REL64
((vŞ©
kmp_št64
 *)(vŞ©*)&(
a
), \

903 (
kmp_št64
)(
b
), (kmp_št64)(
c
))

	)

905 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_MIPS


907 
	#TCR_PTR
(
a
è((*)
	`TCR_4
×))

	)

908 
	#TCW_PTR
(
a
, 
b
è
	`TCW_4
(×), (b))

	)

909 
	#TCR_SYNC_PTR
(
a
è((*)
	`TCR_SYNC_4
×))

	)

910 
	#TCW_SYNC_PTR
(
a
, 
b
è
	`TCW_SYNC_4
(×), (b))

	)

911 
	#TCX_SYNC_PTR
(
a
, 
b
, 
c
è((*)
	`TCX_SYNC_4
(×), (b), (c)))

	)

915 
	#TCR_PTR
(
a
è((*)
	`TCR_8
×))

	)

916 
	#TCW_PTR
(
a
, 
b
è
	`TCW_8
(×), (b))

	)

917 
	#TCR_SYNC_PTR
(
a
è((*)
	`TCR_SYNC_8
×))

	)

918 
	#TCW_SYNC_PTR
(
a
, 
b
è
	`TCW_SYNC_8
(×), (b))

	)

919 
	#TCX_SYNC_PTR
(
a
, 
b
, 
c
è((*)
	`TCX_SYNC_8
(×), (b), (c)))

	)

926 #iâdeà
FTN_TRUE


927 
	#FTN_TRUE
 
TRUE


	)

930 #iâdeà
FTN_FALSE


931 
	#FTN_FALSE
 
FALSE


	)

934 (*
	gmiüÙask_t
)(*
	tgtid
, *
	tÅr
, ...);

936 #ifdeà
USE_VOLATILE_CAST


937 
	#VOLATILE_CAST
(
x
è(vŞ©x)

	)

939 
	#VOLATILE_CAST
(
x
è(x)

	)

942 
	#KMP_WAIT
 
__kmp_wa™_4


	)

943 
	#KMP_WAIT_PTR
 
__kmp_wa™_4_±r


	)

944 
	#KMP_EQ
 
__kmp_eq_4


	)

945 
	#KMP_NEQ
 
__kmp_Ãq_4


	)

946 
	#KMP_LT
 
__kmp_É_4


	)

947 
	#KMP_GE
 
__kmp_ge_4


	)

948 
	#KMP_LE
 
__kmp_Ë_4


	)

952 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_PPC64
è&& 
KMP_OS_LINUX


953 
	#STATIC_EFI2_WORKAROUND


	)

955 
	#STATIC_EFI2_WORKAROUND
 

	)

959 #iâdeà
KMP_USE_BGET


960 
	#KMP_USE_BGET
 1

	)

964 #iâdeà
USE_CMPXCHG_FIX


965 
	#USE_CMPXCHG_FIX
 1

	)

969 
	#KMP_USE_DYNAMIC_LOCK
 1

	)

973 #ià
KMP_USE_DYNAMIC_LOCK


975 
	#KMP_USE_TSX
 (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
è&& !
KMP_COMPILER_MSVC


	)

976 #ifdeà
KMP_USE_ADAPTIVE_LOCKS


977 #undeà
KMP_USE_ADAPTIVE_LOCKS


979 
	#KMP_USE_ADAPTIVE_LOCKS
 
KMP_USE_TSX


	)

983 #ià
KMP_STATS_ENABLED


984 
	#KMP_HAVE_TICK_TIME
 \

985 (
KMP_OS_LINUX
 && (
KMP_MIC
 || 
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
))

	)

989 
	ekmp_w¬nšgs_Ëv–
 {

990 
	gkmp_w¬nšgs_off
 = 0,

991 
	gkmp_w¬nšgs_low
,

992 
	gkmp_w¬nšgs_ex¶ic™
 = 6,

993 
	gkmp_w¬nšgs_v”bo£


996 #ifdeà
__ılu¥lus


1001 
	#KMP_ATOMIC_LD
(
p
, 
Üd”
èÕ)->
	`lßd
(
¡d
::
memÜy_Üd”_
##Üd”)

	)

1002 
	#KMP_ATOMIC_OP
(
İ
, 
p
, 
v
, 
Üd”
èÕ)->
	`İ
(v, 
¡d
::
memÜy_Üd”_
##Üd”)

	)

1005 
	#KMP_ATOMIC_LD_ACQ
(
p
è
	`KMP_ATOMIC_LD
Õ, 
acquœe
)

	)

1006 
	#KMP_ATOMIC_LD_RLX
(
p
è
	`KMP_ATOMIC_LD
Õ, 
»Ïxed
)

	)

1007 
	#KMP_ATOMIC_ST_REL
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
¡Üe
,…, v, 
»Ëa£
)

	)

1008 
	#KMP_ATOMIC_ST_RLX
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
¡Üe
,…, v, 
»Ïxed
)

	)

1011 
	#KMP_ATOMIC_ADD
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
ãtch_add
,…, v, 
acq_»l
)

	)

1012 
	#KMP_ATOMIC_SUB
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
ãtch_sub
,…, v, 
acq_»l
)

	)

1013 
	#KMP_ATOMIC_AND
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
ãtch_ªd
,…, v, 
acq_»l
)

	)

1014 
	#KMP_ATOMIC_OR
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
ãtch_Ü
,…, v, 
acq_»l
)

	)

1015 
	#KMP_ATOMIC_INC
(
p
è
	`KMP_ATOMIC_OP
(
ãtch_add
,…, 1, 
acq_»l
)

	)

1016 
	#KMP_ATOMIC_DEC
(
p
è
	`KMP_ATOMIC_OP
(
ãtch_sub
,…, 1, 
acq_»l
)

	)

1017 
	#KMP_ATOMIC_ADD_RLX
(
p
, 
v
è
	`KMP_ATOMIC_OP
(
ãtch_add
,…, v, 
»Ïxed
)

	)

1018 
	#KMP_ATOMIC_INC_RLX
(
p
è
	`KMP_ATOMIC_OP
(
ãtch_add
,…, 1, 
»Ïxed
)

	)

1021 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1022 
boŞ
 
__kmp_©omic_com·»_¡Üe
(
¡d
::
©omic
<
T
> *
p
, T 
ex³ùed
, T 
desœed
) {

1023  
	gp
->
com·»_exchªge_¡rÚg
(

1024 
ex³ùed
, 
desœed
, 
¡d
::
memÜy_Üd”_acq_»l
, std::
memÜy_Üd”_»Ïxed
);

1027 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1028 
boŞ
 
__kmp_©omic_com·»_¡Üe_acq
(
¡d
::
©omic
<
T
> *
p
, T 
ex³ùed
, T 
desœed
) {

1029  
	gp
->
com·»_exchªge_¡rÚg
(

1030 
ex³ùed
, 
desœed
, 
¡d
::
memÜy_Üd”_acquœe
, std::
memÜy_Üd”_»Ïxed
);

1033 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1034 
boŞ
 
__kmp_©omic_com·»_¡Üe_»l
(
¡d
::
©omic
<
T
> *
p
, T 
ex³ùed
, T 
desœed
) {

1035  
	gp
->
com·»_exchªge_¡rÚg
(

1036 
ex³ùed
, 
desœed
, 
¡d
::
memÜy_Üd”_»Ëa£
, std::
memÜy_Üd”_»Ïxed
);

1041 
	~"kmp_§ã_c_­i.h
"

	@kmp_platform.h

13 #iâdeà
KMP_PLATFORM_H


14 
	#KMP_PLATFORM_H


	)

18 
	#KMP_OS_LINUX
 0

	)

19 
	#KMP_OS_DRAGONFLY
 0

	)

20 
	#KMP_OS_FREEBSD
 0

	)

21 
	#KMP_OS_NETBSD
 0

	)

22 
	#KMP_OS_OPENBSD
 0

	)

23 
	#KMP_OS_DARWIN
 0

	)

24 
	#KMP_OS_WINDOWS
 0

	)

25 
	#KMP_OS_CNK
 0

	)

26 
	#KMP_OS_HURD
 0

	)

27 
	#KMP_OS_UNIX
 0

	)

29 #ifdeà
_WIN32


30 #undeà
KMP_OS_WINDOWS


31 
	#KMP_OS_WINDOWS
 1

	)

34 #ià(
defšed
 
__APPLE__
 && defšed 
__MACH__
)

35 #undeà
KMP_OS_DARWIN


36 
	#KMP_OS_DARWIN
 1

	)

40 #ià(
defšed
 
__lšux
)

41 #undeà
KMP_OS_LINUX


42 
	#KMP_OS_LINUX
 1

	)

43 #–ià(
defšed
 
__lšux__
)

44 #undeà
KMP_OS_LINUX


45 
	#KMP_OS_LINUX
 1

	)

49 #ià(
defšed
 
__D¿gÚFly__
)

50 #undeà
KMP_OS_DRAGONFLY


51 
	#KMP_OS_DRAGONFLY
 1

	)

54 #ià(
defšed
 
__F»eBSD__
)

55 #undeà
KMP_OS_FREEBSD


56 
	#KMP_OS_FREEBSD
 1

	)

59 #ià(
defšed
 
__N‘BSD__
)

60 #undeà
KMP_OS_NETBSD


61 
	#KMP_OS_NETBSD
 1

	)

64 #ià(
defšed
 
__O³nBSD__
)

65 #undeà
KMP_OS_OPENBSD


66 
	#KMP_OS_OPENBSD
 1

	)

69 #ià(
defšed
 
__bgq__
)

70 #undeà
KMP_OS_CNK


71 
	#KMP_OS_CNK
 1

	)

74 #ià(
defšed
 
__GNU__
)

75 #undeà
KMP_OS_HURD


76 
	#KMP_OS_HURD
 1

	)

80 
	gKMP_OS_LINUX
 + 
	gKMP_OS_DRAGONFLY
 + 
	gKMP_OS_FREEBSD
 + 
	gKMP_OS_NETBSD
 + \

81 
	gKMP_OS_OPENBSD
 + 
	gKMP_OS_DARWIN
 + 
	gKMP_OS_WINDOWS
 + 
	gKMP_OS_HURD
)

82 #”rÜ 
Unknown
 
OS


85 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

86 
	gKMP_OS_OPENBSD
 || 
	gKMP_OS_DARWIN
 || 
	gKMP_OS_HURD


87 #undeà
KMP_OS_UNIX


88 
	#KMP_OS_UNIX
 1

	)

93 
	#KMP_ARCH_X86
 0

	)

94 
	#KMP_ARCH_X86_64
 0

	)

95 
	#KMP_ARCH_AARCH64
 0

	)

96 
	#KMP_ARCH_PPC64_ELFv1
 0

	)

97 
	#KMP_ARCH_PPC64_ELFv2
 0

	)

98 
	#KMP_ARCH_PPC64
 (
KMP_ARCH_PPC64_ELFv2
 || 
KMP_ARCH_PPC64_ELFv1
)

	)

99 
	#KMP_ARCH_MIPS
 0

	)

100 
	#KMP_ARCH_MIPS64
 0

	)

101 
	#KMP_ARCH_RISCV64
 0

	)

103 #ià
KMP_OS_WINDOWS


104 #ià
defšed
(
_M_AMD64
è|| defšed(
__x86_64
)

105 #undeà
KMP_ARCH_X86_64


106 
	#KMP_ARCH_X86_64
 1

	)

108 #undeà
KMP_ARCH_X86


109 
	#KMP_ARCH_X86
 1

	)

113 #ià
KMP_OS_UNIX


114 #ià
defšed
 
__x86_64


115 #undeà
KMP_ARCH_X86_64


116 
	#KMP_ARCH_X86_64
 1

	)

117 #–ià
defšed
 
__i386


118 #undeà
KMP_ARCH_X86


119 
	#KMP_ARCH_X86
 1

	)

120 #–ià
defšed
 
__pow”pc64__


121 #ià
defšed
(
_CALL_ELF
) && _CALL_ELF == 2

122 #undeà
KMP_ARCH_PPC64_ELFv2


123 
	#KMP_ARCH_PPC64_ELFv2
 1

	)

125 #undeà
KMP_ARCH_PPC64_ELFv1


126 
	#KMP_ARCH_PPC64_ELFv1
 1

	)

128 #–ià
defšed
 
__¯rch64__


129 #undeà
KMP_ARCH_AARCH64


130 
	#KMP_ARCH_AARCH64
 1

	)

131 #–ià
defšed
 
__ms__


132 #ià
defšed
 
__ms64


133 #undeà
KMP_ARCH_MIPS64


134 
	#KMP_ARCH_MIPS64
 1

	)

136 #undeà
KMP_ARCH_MIPS


137 
	#KMP_ARCH_MIPS
 1

	)

139 #–ià
defšed
 
__riscv
 && 
__riscv_xËn
 == 64

140 #undeà
KMP_ARCH_RISCV64


141 
	#KMP_ARCH_RISCV64
 1

	)

145 #ià
defšed
(
__ARM_ARCH_7__
è|| defšed(
__ARM_ARCH_7R__
) || \

146 
defšed
(
__ARM_ARCH_7A__
è|| 
	$defšed
(
__ARM_ARCH_7VE__
)

147 
	#KMP_ARCH_ARMV7
 1

	)

150 #ià
	`defšed
(
KMP_ARCH_ARMV7
è|| defšed(
__ARM_ARCH_6__
) || \

151 
	`defšed
(
__ARM_ARCH_6J__
è|| defšed(
__ARM_ARCH_6K__
) || \

152 
	`defšed
(
__ARM_ARCH_6Z__
è|| defšed(
__ARM_ARCH_6T2__
) || \

153 
	$defšed
(
__ARM_ARCH_6ZK__
)

154 
	#KMP_ARCH_ARMV6
 1

	)

157 #ià
	`defšed
(
KMP_ARCH_ARMV6
è|| defšed(
__ARM_ARCH_5T__
) || \

158 
	`defšed
(
__ARM_ARCH_5E__
è|| defšed(
__ARM_ARCH_5TE__
) || \

159 
	$defšed
(
__ARM_ARCH_5TEJ__
)

160 
	#KMP_ARCH_ARMV5
 1

	)

163 #ià
	`defšed
(
KMP_ARCH_ARMV5
è|| defšed(
__ARM_ARCH_4__
) || \

164 
	$defšed
(
__ARM_ARCH_4T__
)

165 
	#KMP_ARCH_ARMV4
 1

	)

168 #ià
	`defšed
(
KMP_ARCH_ARMV4
è|| defšed(
__ARM_ARCH_3__
) || \

169 
	$defšed
(
__ARM_ARCH_3M__
)

170 
	#KMP_ARCH_ARMV3
 1

	)

173 #ià
	`defšed
(
KMP_ARCH_ARMV3
è|| defšed(
__ARM_ARCH_2__
)

174 
	#KMP_ARCH_ARMV2
 1

	)

177 #ià
	`defšed
(
KMP_ARCH_ARMV2
)

178 
	#KMP_ARCH_ARM
 1

	)

181 #ià
	`defšed
(
__MIC__
è|| defšed(
__MIC2__
)

182 
	#KMP_MIC
 1

	)

183 #ià
__MIC2__
 || 
__KNC__


184 
	#KMP_MIC1
 0

	)

185 
	#KMP_MIC2
 1

	)

187 
	#KMP_MIC1
 1

	)

188 
	#KMP_MIC2
 0

	)

191 
	#KMP_MIC
 0

	)

192 
	#KMP_MIC1
 0

	)

193 
	#KMP_MIC2
 0

	)

197 
	#KMP_32_BIT_ARCH
 (
KMP_ARCH_X86
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_MIPS
)

	)

200 
	#KMP_MIC_SUPPORTED
 \

201 ((
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
è&& (
KMP_OS_LINUX
 || 
KMP_OS_WINDOWS
))

	)

205 
KMP_ARCH_X86
 + 
KMP_ARCH_X86_64
 + 
KMP_ARCH_ARM
 + 
KMP_ARCH_PPC64
 + \

206 
KMP_ARCH_AARCH64
 + 
KMP_ARCH_MIPS
 + 
KMP_ARCH_MIPS64
 + 
KMP_ARCH_RISCV64
)

207 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
¬ch™eùu»


	@kmp_runtime.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 
	~"kmp_©omic.h
"

16 
	~"kmp_’vœÚm’t.h
"

17 
	~"kmp_”rÜ.h
"

18 
	~"kmp_i18n.h
"

19 
	~"kmp_io.h
"

20 
	~"kmp_™t.h
"

21 
	~"kmp_£‰šgs.h
"

22 
	~"kmp_¡©s.h
"

23 
	~"kmp_¡r.h
"

24 
	~"kmp_wa™_»Ëa£.h
"

25 
	~"kmp_w¿µ”_g‘pid.h
"

26 
	~"kmp_di¥©ch.h
"

27 #ià
KMP_USE_HIER_SCHED


28 
	~"kmp_di¥©ch_h›r.h
"

31 #ià
OMPT_SUPPORT


32 
	~"om±-¥ecific.h
"

36 
	#KMP_USE_PRCTL
 0

	)

38 #ià
KMP_OS_WINDOWS


39 
	~<´oûss.h
>

42 
	~"t§n_ªnÙ©iÚs.h
"

44 #ià
defšed
(
KMP_GOMP_COMPAT
)

45 cÚ¡ 
	g__kmp_v”siÚ_®t_comp
[] =

46 
KMP_VERSION_PREFIX
 "alternative compiler support: yes";

49 cÚ¡ 
	g__kmp_v”siÚ_omp_­i
[] =

50 
KMP_VERSION_PREFIX
 "API version: 5.0 (201611)";

52 #ifdeà
KMP_DEBUG


53 cÚ¡ 
	g__kmp_v”siÚ_lock
[] =

54 
KMP_VERSION_PREFIX
 "lockype:„unime selectable";

57 
	#KMP_MIN
(
x
, 
y
è((xè< (yè? (xè: (y))

	)

61 #ià
KMP_USE_MONITOR


62 
kmp_šfo_t
 
	g__kmp_mÚ™Ü
;

67 
__kmp_ş—nup
();

69 
__kmp_š™Ÿlize_šfo
(
kmp_šfo_t
 *, 
kmp_‹am_t
 *, 
tid
,

70 
gtid
);

71 
__kmp_š™Ÿlize_‹am
(
kmp_‹am_t
 *
‹am
, 
Ãw_Åroc
,

72 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
,

73 
id’t_t
 *
loc
);

74 #ià
KMP_AFFINITY_SUPPORTED


75 
__kmp_·¹™iÚ_¶aûs
(
kmp_‹am_t
 *
‹am
,

76 
upd©e_ma¡”_Úly
 = 0);

78 
__kmp_do_£rŸl_š™Ÿlize
();

79 
__kmp_fÜk_b¬r›r
(
gtid
, 
tid
);

80 
__kmp_još_b¬r›r
(
gtid
);

81 
__kmp_£tup_icv_cİy
(
kmp_‹am_t
 *
‹am
, 
Ãw_Åroc
,

82 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
, 
id’t_t
 *
loc
);

84 #ifdeà
USE_LOAD_BALANCE


85 
__kmp_lßd_b®ªû_Åroc
(
kmp_roÙ_t
 *
roÙ
, 
£t_Åroc
);

88 
__kmp_ex·nd_th»ads
(
nN“d
);

89 #ià
KMP_OS_WINDOWS


90 
__kmp_uÄegi¡”_roÙ_Ùh”_th»ad
(
gtid
);

92 
__kmp_uÄegi¡”_lib¿ry
();

93 
__kmp_»­_th»ad
(
kmp_šfo_t
 *
th»ad
, 
is_roÙ
);

94 
kmp_šfo_t
 *
	g__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

99 
	$__kmp_g‘_glob®_th»ad_id
() {

100 
i
;

101 
kmp_šfo_t
 **
Ùh”_th»ads
;

102 
size_t
 
¡ack_d©a
;

103 *
¡ack_addr
;

104 
size_t
 
¡ack_size
;

105 *
¡ack_ba£
;

107 
	`KA_TRACE
(

110 
__kmp_Áh
, 
__kmp_®l_Áh
));

117 ià(!
	`TCR_4
(
__kmp_š™_gtid
))

118  
KMP_GTID_DNE
;

120 #ifdeà
KMP_TDATA_GTID


121 ià(
	`TCR_4
(
__kmp_gtid_mode
) >= 3) {

122 
	`KA_TRACE
(1000, ("*** __kmp_get_global_thread_id: using TDATA\n"));

123  
__kmp_gtid
;

126 ià(
	`TCR_4
(
__kmp_gtid_mode
) >= 2) {

127 
	`KA_TRACE
(1000, ("*** __kmp_get_global_thread_id: using keyed TLS\n"));

128  
	`__kmp_gtid_g‘_¥ecific
();

130 
	`KA_TRACE
(1000, ("*** __kmp_get_global_thread_id: using internal‡lg.\n"));

132 
¡ack_addr
 = (*)&
¡ack_d©a
;

133 
Ùh”_th»ads
 = 
__kmp_th»ads
;

146 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++) {

148 
kmp_šfo_t
 *
thr
 = (kmp_šfo_ˆ*)
	`TCR_SYNC_PTR
(
Ùh”_th»ads
[
i
]);

149 ià(!
thr
)

152 
¡ack_size
 = (
size_t
)
	`TCR_PTR
(
thr
->
th
.
th_šfo
.
ds
.
ds_¡acksize
);

153 
¡ack_ba£
 = (*)
	`TCR_PTR
(
thr
->
th
.
th_šfo
.
ds
.
ds_¡ackba£
);

157 ià(
¡ack_addr
 <ğ
¡ack_ba£
) {

158 
size_t
 
¡ack_diff
 = 
¡ack_ba£
 - 
¡ack_addr
;

160 ià(
¡ack_diff
 <ğ
¡ack_size
) {

163 
	`KMP_DEBUG_ASSERT
(
	`__kmp_gtid_g‘_¥ecific
(è=ğ
i
);

164  
i
;

170 
	`KA_TRACE
(1000,

173 
i
 = 
	`__kmp_gtid_g‘_¥ecific
();

178 ià(
i
 < 0)

179  
i
;

183 ià(!
	`TCR_4
(
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡ackgrow
)) {

184 
	`KMP_FATAL
(
SckOv”æow
, 
i
);

187 
¡ack_ba£
 = (*)
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡ackba£
;

188 ià(
¡ack_addr
 > 
¡ack_ba£
) {

189 
	`TCW_PTR
(
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡ackba£
, 
¡ack_addr
);

190 
	`TCW_PTR
(
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡acksize
,

191 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡acksize
 + 
¡ack_addr
 -

192 
¡ack_ba£
);

194 
	`TCW_PTR
(
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡acksize
,

195 
¡ack_ba£
 - 
¡ack_addr
);

199 ià(
__kmp_¡Üage_m­
) {

200 *
¡ack_’d
 = (*)
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡ackba£
;

201 *
¡ack_beg
 = 
¡ack_’d
 - 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡acksize
;

202 
	`__kmp_´št_¡Üage_m­_gtid
(
i
, 
¡ack_beg
, 
¡ack_’d
,

203 
Ùh”_th»ads
[
i
]->
th
.
th_šfo
.
ds
.
ds_¡acksize
,

204 "th_%d sck (»fšem’t)", 
i
);

206  
i
;

207 
	}
}

209 
	$__kmp_g‘_glob®_th»ad_id_»g
() {

210 
gtid
;

212 ià(!
__kmp_š™_£rŸl
) {

213 
gtid
 = 
KMP_GTID_DNE
;

215 #ifdeà
KMP_TDATA_GTID


216 ià(
	`TCR_4
(
__kmp_gtid_mode
) >= 3) {

217 
	`KA_TRACE
(1000, ("*** __kmp_get_global_thread_id_reg: using TDATA\n"));

218 
gtid
 = 
__kmp_gtid
;

221 ià(
	`TCR_4
(
__kmp_gtid_mode
) >= 2) {

222 
	`KA_TRACE
(1000, ("*** __kmp_get_global_thread_id_reg: using keyed TLS\n"));

223 
gtid
 = 
	`__kmp_gtid_g‘_¥ecific
();

225 
	`KA_TRACE
(1000,

227 
gtid
 = 
	`__kmp_g‘_glob®_th»ad_id
();

231 ià(
gtid
 =ğ
KMP_GTID_DNE
) {

232 
	`KA_TRACE
(10,

235 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

236 ià(!
__kmp_š™_£rŸl
) {

237 
	`__kmp_do_£rŸl_š™Ÿlize
();

238 
gtid
 = 
	`__kmp_gtid_g‘_¥ecific
();

240 
gtid
 = 
	`__kmp_»gi¡”_roÙ
(
FALSE
);

242 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

246 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

248  
gtid
;

249 
	}
}

252 
	$__kmp_check_¡ack_ov”Ïp
(
kmp_šfo_t
 *
th
) {

253 
f
;

254 *
¡ack_beg
 = 
NULL
;

255 *
¡ack_’d
 = 
NULL
;

256 
gtid
;

258 
	`KA_TRACE
(10, ("__kmp_check_stack_overlap: called\n"));

259 ià(
__kmp_¡Üage_m­
) {

260 
¡ack_’d
 = (*)
th
->th.
th_šfo
.
ds
.
ds_¡ackba£
;

261 
¡ack_beg
 = 
¡ack_’d
 - 
th
->th.
th_šfo
.
ds
.
ds_¡acksize
;

263 
gtid
 = 
	`__kmp_gtid_äom_th»ad
(
th
);

265 ià(
gtid
 =ğ
KMP_GTID_MONITOR
) {

266 
	`__kmp_´št_¡Üage_m­_gtid
(

267 
gtid
, 
¡ack_beg
, 
¡ack_’d
, 
th
->th.
th_šfo
.
ds
.
ds_¡acksize
,

269 (
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
) ? "initial" : "actual");

271 
	`__kmp_´št_¡Üage_m­_gtid
(

272 
gtid
, 
¡ack_beg
, 
¡ack_’d
, 
th
->th.
th_šfo
.
ds
.
ds_¡acksize
,

273 "th_%d sck (%s)", 
gtid
,

274 (
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
) ? "initial" : "actual");

280 
gtid
 = 
	`__kmp_gtid_äom_th»ad
(
th
);

281 ià(
__kmp_’v_checks
 =ğ
TRUE
 && !
	`KMP_UBER_GTID
(
gtid
)) {

282 
	`KA_TRACE
(10,

284 ià(
¡ack_beg
 =ğ
NULL
) {

285 
¡ack_’d
 = (*)
th
->th.
th_šfo
.
ds
.
ds_¡ackba£
;

286 
¡ack_beg
 = 
¡ack_’d
 - 
th
->th.
th_šfo
.
ds
.
ds_¡acksize
;

289 
f
 = 0; f < 
__kmp_th»ads_ÿ·c™y
; f++) {

290 
kmp_šfo_t
 *
f_th
 = (kmp_šfo_ˆ*)
	`TCR_SYNC_PTR
(
__kmp_th»ads
[
f
]);

292 ià(
f_th
 && f_th !ğ
th
) {

293 *
Ùh”_¡ack_’d
 =

294 (*)
	`TCR_PTR
(
f_th
->
th
.
th_šfo
.
ds
.
ds_¡ackba£
);

295 *
Ùh”_¡ack_beg
 =

296 
Ùh”_¡ack_’d
 - (
size_t
)
	`TCR_PTR
(
f_th
->
th
.
th_šfo
.
ds
.
ds_¡acksize
);

297 ià((
¡ack_beg
 > 
Ùh”_¡ack_beg
 && sck_beg < 
Ùh”_¡ack_’d
) ||

298 (
¡ack_’d
 > 
Ùh”_¡ack_beg
 && sck_’d < 
Ùh”_¡ack_’d
)) {

301 ià(
__kmp_¡Üage_m­
)

302 
	`__kmp_´št_¡Üage_m­_gtid
(

303 -1, 
Ùh”_¡ack_beg
, 
Ùh”_¡ack_’d
,

304 (
size_t
)
	`TCR_PTR
(
f_th
->
th
.
th_šfo
.
ds
.
ds_¡acksize
),

305 "th_%d sck (ov”Ïµed)", 
	`__kmp_gtid_äom_th»ad
(
f_th
));

307 
	`__kmp_çl
(
	`KMP_MSG
(
SckOv”Ïp
), 
	`KMP_HNT
(
ChªgeSckLim™
),

308 
__kmp_msg_nuÎ
);

313 
	`KA_TRACE
(10, ("__kmp_check_stack_overlap:„eturning\n"));

314 
	}
}

318 
	$__kmp_šfš™e_loİ
() {

319 
dÚe
 = 
FALSE
;

321 !
dÚe
) {

322 
	`KMP_YIELD
(
TRUE
);

324 
	}
}

326 
	#MAX_MESSAGE
 512

	)

328 
	$__kmp_´št_¡Üage_m­_gtid
(
gtid
, *
p1
, *
p2
, 
size_t
 
size
,

329 cÚ¡ *
fÜm©
, ...) {

330 
bufãr
[
MAX_MESSAGE
];

331 
va_li¡
 
­
;

333 
	`va_¡¬t
(
­
, 
fÜm©
);

334 
	`KMP_SNPRINTF
(
bufãr
, (bufãr), "OMP stÜagm­: %°%p%8lu %s\n", 
p1
,

335 
p2
, ()
size
, 
fÜm©
);

336 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

337 
	`__kmp_v´štf
(
kmp_”r
, 
bufãr
, 
­
);

338 #ià
KMP_PRINT_DATA_PLACEMENT


339 
node
;

340 ià(
gtid
 >= 0) {

341 ià(
p1
 <ğ
p2
 && (*í2 - (*í1 =ğ
size
) {

342 ià(
__kmp_¡Üage_m­_v”bo£
) {

343 
node
 = 
	`__kmp_g‘_ho¡_node
(
p1
);

344 ià(
node
 < 0)

345 
__kmp_¡Üage_m­_v”bo£
 = 
FALSE
;

347 *
Ï¡
;

348 
Ï¡Node
;

349 
loÿlProc
 = 
	`__kmp_g‘_ıu_äom_gtid
(
gtid
);

351 cÚ¡ 
·ge_size
 = 
	`KMP_GET_PAGE_SIZE
();

353 
p1
 = (*)((
size_t
í1 & ~((size_t)
·ge_size
 - 1));

354 
p2
 = (*)(((
size_t
í2 - 1è& ~((size_t)
·ge_size
 - 1));

355 ià(
loÿlProc
 >= 0)

356 
	`__kmp_´štf_no_lock
(" GTID %d†oÿlNod%d\n", 
gtid
,

357 
loÿlProc
 >> 1);

359 
	`__kmp_´štf_no_lock
(" GTID %d\n", 
gtid
);

360 #ià
KMP_USE_PRCTL


364 
Ï¡
 = 
p1
;

365 
Ï¡Node
 = 
node
;

368 (*)
p1
 +ğ
·ge_size
;

369 } 
p1
 <ğ
p2
 && (
node
 = 
	`__kmp_g‘_ho¡_node
Õ1)è=ğ
Ï¡Node
);

370 
	`__kmp_´štf_no_lock
(" %p-%°memNod%d\n", 
Ï¡
, (*)
p1
 - 1,

371 
Ï¡Node
);

372 } 
p1
 <ğ
p2
);

374 
	`__kmp_´štf_no_lock
(" %p-%°memNod%d\n", 
p1
,

375 (*)
p1
 + (
·ge_size
 - 1),

376 
	`__kmp_g‘_ho¡_node
(
p1
));

377 ià(
p1
 < 
p2
) {

378 
	`__kmp_´štf_no_lock
(" %p-%°memNod%d\n", 
p2
,

379 (*)
p2
 + (
·ge_size
 - 1),

380 
	`__kmp_g‘_ho¡_node
(
p2
));

386 
	`__kmp_´štf_no_lock
(" %s\n", 
	`KMP_I18N_STR
(
StÜageM­W¬nšg
));

389 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

390 
	}
}

392 
	$__kmp_w¬n
(cÚ¡ *
fÜm©
, ...) {

393 
bufãr
[
MAX_MESSAGE
];

394 
va_li¡
 
­
;

396 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

400 
	`va_¡¬t
(
­
, 
fÜm©
);

402 
	`KMP_SNPRINTF
(
bufãr
, (bufãr), "OMP w¬nšg: %s\n", 
fÜm©
);

403 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

404 
	`__kmp_v´štf
(
kmp_”r
, 
bufãr
, 
­
);

405 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

407 
	`va_’d
(
­
);

408 
	}
}

410 
	$__kmp_abÜt_´oûss
() {

412 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_ex™_lock
);

414 ià(
__kmp_debug_buf
) {

415 
	`__kmp_dump_debug_bufãr
();

418 ià(
KMP_OS_WINDOWS
) {

421 
__kmp_glob®
.
g
.
g_abÜt
 = 
SIGABRT
;

432 
	`¿i£
(
SIGABRT
);

433 
	`_ex™
(3);

435 
	`abÜt
();

438 
	`__kmp_šfš™e_loİ
();

439 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_ex™_lock
);

441 
	}
}

443 
	$__kmp_abÜt_th»ad
() {

446 
	`__kmp_šfš™e_loİ
();

447 
	}
}

452 
	$__kmp_´št_th»ad_¡Üage_m­
(
kmp_šfo_t
 *
thr
, 
gtid
) {

453 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, 
thr
,h¸+ 1, (
kmp_šfo_t
), "th_%d",

454 
gtid
);

456 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, &
thr
->
th
.
th_šfo
, &thr->th.
th_‹am
,

457 (
kmp_desc_t
), "th_%d.th_šfo", 
gtid
);

459 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, &
thr
->
th
.
th_loÿl
, &thr->th.
th_´i_h—d
,

460 (
kmp_loÿl_t
), "th_%d.th_loÿl", 
gtid
);

462 
	`__kmp_´št_¡Üage_m­_gtid
(

463 
gtid
, &
thr
->
th
.
th_b¬
[0], &thr->th.th_b¬[
bs_Ï¡_b¬r›r
],

464 (
kmp_b®ign_t
è* 
bs_Ï¡_b¬r›r
, "th_%d.th_b¬", 
gtid
);

466 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, &
thr
->
th
.
th_b¬
[
bs_¶aš_b¬r›r
],

467 &
thr
->
th
.
th_b¬
[
bs_¶aš_b¬r›r
 + 1],

468 (
kmp_b®ign_t
), "th_%d.th_bar[plain]",

469 
gtid
);

471 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, &
thr
->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
],

472 &
thr
->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
 + 1],

473 (
kmp_b®ign_t
), "th_%d.th_bar[forkjoin]",

474 
gtid
);

476 #ià
KMP_FAST_REDUCTION_BARRIER


477 
	`__kmp_´št_¡Üage_m­_gtid
(
gtid
, &
thr
->
th
.
th_b¬
[
bs_»duùiÚ_b¬r›r
],

478 &
thr
->
th
.
th_b¬
[
bs_»duùiÚ_b¬r›r
 + 1],

479 (
kmp_b®ign_t
), "th_%d.th_bar[reduction]",

480 
gtid
);

482 
	}
}

487 
	$__kmp_´št_‹am_¡Üage_m­
(cÚ¡ *
h—d”
, 
kmp_‹am_t
 *
‹am
,

488 
‹am_id
, 
num_thr
) {

489 
num_di¥_buff
 = 
‹am
->
t
.
t_max_Åroc
 > 1 ? 
__kmp_di¥©ch_num_bufãrs
 : 2;

490 
	`__kmp_´št_¡Üage_m­_gtid
(-1, 
‹am
,—m + 1, (
kmp_‹am_t
), "%s_%d",

491 
h—d”
, 
‹am_id
);

493 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_b¬
[0],

494 &
‹am
->
t
.
t_b¬
[
bs_Ï¡_b¬r›r
],

495 (
kmp_b®ign_‹am_t
è* 
bs_Ï¡_b¬r›r
,

496 "%s_%d.t_b¬", 
h—d”
, 
‹am_id
);

498 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_b¬
[
bs_¶aš_b¬r›r
],

499 &
‹am
->
t
.
t_b¬
[
bs_¶aš_b¬r›r
 + 1],

500 (
kmp_b®ign_‹am_t
), "%s_%d.t_bar[plain]",

501 
h—d”
, 
‹am_id
);

503 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_b¬
[
bs_fÜkjoš_b¬r›r
],

504 &
‹am
->
t
.
t_b¬
[
bs_fÜkjoš_b¬r›r
 + 1],

505 (
kmp_b®ign_‹am_t
),

506 "%s_%d.t_b¬[fÜkjoš]", 
h—d”
, 
‹am_id
);

508 #ià
KMP_FAST_REDUCTION_BARRIER


509 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_b¬
[
bs_»duùiÚ_b¬r›r
],

510 &
‹am
->
t
.
t_b¬
[
bs_»duùiÚ_b¬r›r
 + 1],

511 (
kmp_b®ign_‹am_t
),

512 "%s_%d.t_b¬[»duùiÚ]", 
h—d”
, 
‹am_id
);

515 
	`__kmp_´št_¡Üage_m­_gtid
(

516 -1, &
‹am
->
t
.
t_di¥©ch
[0], &‹am->t.t_di¥©ch[
num_thr
],

517 (
kmp_di¥_t
è* 
num_thr
, "%s_%d.t_di¥©ch", 
h—d”
, 
‹am_id
);

519 
	`__kmp_´št_¡Üage_m­_gtid
(

520 -1, &
‹am
->
t
.
t_th»ads
[0], &‹am->t.t_th»ads[
num_thr
],

521 (
kmp_šfo_t
 *è* 
num_thr
, "%s_%d.t_th»ads", 
h—d”
, 
‹am_id
);

523 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_di¥_bufãr
[0],

524 &
‹am
->
t
.
t_di¥_bufãr
[
num_di¥_buff
],

525 (
di¥©ch_sh¬ed_šfo_t
è* 
num_di¥_buff
,

526 "%s_%d.t_di¥_bufãr", 
h—d”
, 
‹am_id
);

527 
	}
}

529 
	$__kmp_š™_®loÿtÜ
(è{ 
	`__kmp_š™_memkšd
(); 
	}
}

530 
	$__kmp_fši_®loÿtÜ
(è{ 
	`__kmp_fši_memkšd
(); 
	}
}

534 #ià
KMP_DYNAMIC_LIB


535 #ià
KMP_OS_WINDOWS


537 
	$__kmp_»£t_lock
(
kmp_boÙ¡¿p_lock_t
 *
lck
) {

539 
	`__kmp_š™_boÙ¡¿p_lock
(
lck
);

540 
	}
}

542 
	$__kmp_»£t_locks_Ú_´oûss_d‘ach
(
gtid_»q
) {

543 
i
;

544 
th»ad_couÁ
;

559 
th»ad_couÁ
 = 0;

560 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; ++i) {

561 ià(!
__kmp_th»ads
)

563 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
i
];

564 ià(
th
 =ğ
NULL
)

566 
gtid
 = 
th
->th.
th_šfo
.
ds
.
ds_gtid
;

567 ià(
gtid
 =ğ
gtid_»q
)

569 ià(
gtid
 < 0)

571 
DWORD
 
ex™_v®
;

572 
®ive
 = 
	`__kmp_is_th»ad_®ive
(
th
, &
ex™_v®
);

573 ià(
®ive
) {

574 ++
th»ad_couÁ
;

577 ià(
th»ad_couÁ
 == 0)

583 
	`__kmp_»£t_lock
(&
__kmp_fÜkjoš_lock
);

584 #ifdeà
KMP_DEBUG


585 
	`__kmp_»£t_lock
(&
__kmp_¡dio_lock
);

587 
	}
}

589 
BOOL
 
WINAPI
 
	$DÎMaš
(
HINSTANCE
 
hIn¡DLL
, 
DWORD
 
fdwR—sÚ
, 
LPVOID
 
ÍRe£rved
) {

592 
fdwR—sÚ
) {

594 
DLL_PROCESS_ATTACH
:

595 
	`KA_TRACE
(10, ("DllMain: PROCESS_ATTACH\n"));

597  
TRUE
;

599 
DLL_PROCESS_DETACH
:

600 
	`KA_TRACE
(10, ("DÎMaš: PROCESS_DETACH T#%d\n", 
	`__kmp_gtid_g‘_¥ecific
()));

602 ià(
ÍRe£rved
 !ğ
NULL
) {

628 
	`__kmp_»£t_locks_Ú_´oûss_d‘ach
(
	`__kmp_gtid_g‘_¥ecific
());

631 
	`__kmp_š‹º®_’d_lib¿ry
(
	`__kmp_gtid_g‘_¥ecific
());

633  
TRUE
;

635 
DLL_THREAD_ATTACH
:

636 
	`KA_TRACE
(10, ("DllMain: THREAD_ATTACH\n"));

640  
TRUE
;

642 
DLL_THREAD_DETACH
:

643 
	`KA_TRACE
(10, ("DÎMaš: THREAD_DETACH T#%d\n", 
	`__kmp_gtid_g‘_¥ecific
()));

645 
	`__kmp_š‹º®_’d_th»ad
(
	`__kmp_gtid_g‘_¥ecific
());

646  
TRUE
;

649  
TRUE
;

650 
	}
}

656 
	$__kmp_·¿Î–_deo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

657 
gtid
 = *
gtid_»f
;

658 #ifdeà
BUILD_PARALLEL_ORDERED


659 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

662 ià(
__kmp_’v_cÚsi¡’cy_check
) {

663 ià(
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
->
r
.
r_aùive
)

664 #ià
KMP_USE_DYNAMIC_LOCK


665 
	`__kmp_push_sync
(
gtid
, 
ù_Üd”ed_š_·¿Î–
, 
loc_»f
, 
NULL
, 0);

667 
	`__kmp_push_sync
(
gtid
, 
ù_Üd”ed_š_·¿Î–
, 
loc_»f
, 
NULL
);

670 #ifdeà
BUILD_PARALLEL_ORDERED


671 ià(!
‹am
->
t
.
t_£rŸlized
) {

672 
	`KMP_MB
();

673 
	`KMP_WAIT
(&
‹am
->
t
.
t_Üd”ed
.
dt
.
t_v®ue
, 
	`__kmp_tid_äom_gtid
(
gtid
), 
KMP_EQ
,

674 
NULL
);

675 
	`KMP_MB
();

678 
	}
}

681 
	$__kmp_·¿Î–_dxo
(*
gtid_»f
, *
cid_»f
, 
id’t_t
 *
loc_»f
) {

682 
gtid
 = *
gtid_»f
;

683 #ifdeà
BUILD_PARALLEL_ORDERED


684 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

685 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

688 ià(
__kmp_’v_cÚsi¡’cy_check
) {

689 ià(
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
->
r
.
r_aùive
)

690 
	`__kmp_pİ_sync
(
gtid
, 
ù_Üd”ed_š_·¿Î–
, 
loc_»f
);

692 #ifdeà
BUILD_PARALLEL_ORDERED


693 ià(!
‹am
->
t
.
t_£rŸlized
) {

694 
	`KMP_MB
();

698 
‹am
->
t
.
t_Üd”ed
.
dt
.
t_v®ue
 = ((
tid
 + 1è%—m->t.
t_Åroc
);

700 
	`KMP_MB
();

703 
	}
}

708 
	$__kmp_’‹r_sšgË
(
gtid
, 
id’t_t
 *
id_»f
, 
push_ws
) {

709 
¡©us
;

710 
kmp_šfo_t
 *
th
;

711 
kmp_‹am_t
 *
‹am
;

713 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

714 
	`__kmp_·¿Î–_š™Ÿlize
();

715 
	`__kmp_»sume_if_soá_·u£d
();

717 
th
 = 
__kmp_th»ads
[
gtid
];

718 
‹am
 = 
th
->th.
th_‹am
;

719 
¡©us
 = 0;

721 
th
->th.
th_id’t
 = 
id_»f
;

723 ià(
‹am
->
t
.
t_£rŸlized
) {

724 
¡©us
 = 1;

726 
kmp_št32
 
Şd_this
 = 
th
->th.
th_loÿl
.
this_cÚ¡ruù
;

728 ++
th
->th.
th_loÿl
.
this_cÚ¡ruù
;

732 ià(
‹am
->
t
.
t_cÚ¡ruù
 =ğ
Şd_this
) {

733 
¡©us
 = 
	`__kmp_©omic_com·»_¡Üe_acq
(&
‹am
->
t
.
t_cÚ¡ruù
, 
Şd_this
,

734 
th
->th.
th_loÿl
.
this_cÚ¡ruù
);

736 #ià
USE_ITT_BUILD


737 ià(
__™t_m‘ad©a_add_±r
 && 
__kmp_fÜkjoš_äames_mode
 == 3 &&

738 
	`KMP_MASTER_GTID
(
gtid
è&& 
th
->th.
th_‹ams_miüÙask
 =ğ
NULL
 &&

739 
‹am
->
t
.
t_aùive_Ëv–
 ==

741 
	`__kmp_™t_m‘ad©a_sšgË
(
id_»f
);

746 ià(
__kmp_’v_cÚsi¡’cy_check
) {

747 ià(
¡©us
 && 
push_ws
) {

748 
	`__kmp_push_wÜksh¬e
(
gtid
, 
ù_psšgË
, 
id_»f
);

750 
	`__kmp_check_wÜksh¬e
(
gtid
, 
ù_psšgË
, 
id_»f
);

753 #ià
USE_ITT_BUILD


754 ià(
¡©us
) {

755 
	`__kmp_™t_sšgË_¡¬t
(
gtid
);

758  
¡©us
;

759 
	}
}

761 
	$__kmp_ex™_sšgË
(
gtid
) {

762 #ià
USE_ITT_BUILD


763 
	`__kmp_™t_sšgË_’d
(
gtid
);

765 ià(
__kmp_’v_cÚsi¡’cy_check
)

766 
	`__kmp_pİ_wÜksh¬e
(
gtid
, 
ù_psšgË
, 
NULL
);

767 
	}
}

775 
	$__kmp_»£rve_th»ads
(
kmp_roÙ_t
 *
roÙ
, 
kmp_‹am_t
 *
·»Á_‹am
,

776 
ma¡”_tid
, 
£t_Áh»ads
,

777 
’‹r_‹ams
) {

778 
ÿ·c™y
;

779 
Ãw_Áh»ads
;

780 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

781 
	`KMP_DEBUG_ASSERT
(
roÙ
 && 
·»Á_‹am
);

782 
kmp_šfo_t
 *
this_thr
 = 
·»Á_‹am
->
t
.
t_th»ads
[
ma¡”_tid
];

786 
Ãw_Áh»ads
 = 
£t_Áh»ads
;

787 ià(!
	`g‘__dyÇmic_2
(
·»Á_‹am
, 
ma¡”_tid
)) {

790 #ifdeà
USE_LOAD_BALANCE


791 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_lßd_b®ªû
) {

792 
Ãw_Áh»ads
 = 
	`__kmp_lßd_b®ªû_Åroc
(
roÙ
, 
£t_Áh»ads
);

793 ià(
Ãw_Áh»ads
 == 1) {

794 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d†oad balance„educed "

796 
ma¡”_tid
));

799 ià(
Ãw_Áh»ads
 < 
£t_Áh»ads
) {

800 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d†oad balance„educed "

802 
ma¡”_tid
, 
Ãw_Áh»ads
));

806 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_th»ad_lim™
) {

807 
Ãw_Áh»ads
 = 
__kmp_ava_´oc
 - 
__kmp_Áh
 +

808 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
);

809 ià(
Ãw_Áh»ads
 <= 1) {

810 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%dhread†imit„educed "

812 
ma¡”_tid
));

815 ià(
Ãw_Áh»ads
 < 
£t_Áh»ads
) {

816 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%dhread†imit„educed "

818 
ma¡”_tid
, 
Ãw_Áh»ads
));

820 
Ãw_Áh»ads
 = 
£t_Áh»ads
;

822 } ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_¿ndom
) {

823 ià(
£t_Áh»ads
 > 2) {

824 
Ãw_Áh»ads
 = 
	`__kmp_g‘_¿ndom
(
·»Á_‹am
->
t
.
t_th»ads
[
ma¡”_tid
]);

825 
Ãw_Áh»ads
 = (Ãw_Áh»ad % 
£t_Áh»ads
) + 1;

826 ià(
Ãw_Áh»ads
 == 1) {

827 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d dynamic„andom„educed "

829 
ma¡”_tid
));

832 ià(
Ãw_Áh»ads
 < 
£t_Áh»ads
) {

833 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d dynamic„andom„educed "

835 
ma¡”_tid
, 
Ãw_Áh»ads
));

839 
	`KMP_ASSERT
(0);

843 ià(
__kmp_Áh
 + 
Ãw_Áh»ads
 -

844 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
) >

845 
__kmp_max_Áh
) {

846 
_Áh»ads
 = 
__kmp_max_Áh
 - 
__kmp_Áh
 +

847 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
);

848 ià(
_Áh»ads
 <= 0) {

849 
_Áh»ads
 = 1;

853 ià(!
	`g‘__dyÇmic_2
(
·»Á_‹am
, 
ma¡”_tid
è&& (!
__kmp_»£rve_w¬n
)) {

854 
__kmp_»£rve_w¬n
 = 1;

855 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

856 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
£t_Áh»ads
, 
_Áh»ads
),

857 
	`KMP_HNT
(
Un£t_ALL_THREADS
), 
__kmp_msg_nuÎ
);

859 ià(
_Áh»ads
 == 1) {

860 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d KMP_DEVICE_THREAD_LIMIT "

862 
ma¡”_tid
));

865 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d KMP_DEVICE_THREAD_LIMIT„educed "

867 
ma¡”_tid
, 
_Áh»ads
));

868 
Ãw_Áh»ads
 = 
_Áh»ads
;

872 
cg_Áh»ads
 = 
this_thr
->
th
.
th_cg_roÙs
->cg_nthreads;

873 
max_cg_th»ads
 = 
this_thr
->
th
.
th_cg_roÙs
->
cg_th»ad_lim™
;

874 ià(
cg_Áh»ads
 + 
Ãw_Áh»ads
 -

875 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
) >

876 
max_cg_th»ads
) {

877 
_Áh»ads
 = 
max_cg_th»ads
 - 
cg_Áh»ads
 +

878 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
);

879 ià(
_Áh»ads
 <= 0) {

880 
_Áh»ads
 = 1;

884 ià(!
	`g‘__dyÇmic_2
(
·»Á_‹am
, 
ma¡”_tid
è&& (!
__kmp_»£rve_w¬n
)) {

885 
__kmp_»£rve_w¬n
 = 1;

886 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

887 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
£t_Áh»ads
, 
_Áh»ads
),

888 
	`KMP_HNT
(
Un£t_ALL_THREADS
), 
__kmp_msg_nuÎ
);

890 ià(
_Áh»ads
 == 1) {

891 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d OMP_THREAD_LIMIT "

893 
ma¡”_tid
));

896 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d OMP_THREAD_LIMIT„educed "

898 
ma¡”_tid
, 
_Áh»ads
));

899 
Ãw_Áh»ads
 = 
_Áh»ads
;

905 
ÿ·c™y
 = 
__kmp_th»ads_ÿ·c™y
;

906 ià(
	`TCR_PTR
(
__kmp_th»ads
[0]è=ğ
NULL
) {

907 --
ÿ·c™y
;

909 ià(
__kmp_Áh
 + 
Ãw_Áh»ads
 -

910 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
) >

911 
ÿ·c™y
) {

913 
¦ÙsRequœed
 = 
__kmp_Áh
 + 
Ãw_Áh»ads
 -

914 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
) -

915 
ÿ·c™y
;

916 
¦ÙsAdded
 = 
	`__kmp_ex·nd_th»ads
(
¦ÙsRequœed
);

917 ià(
¦ÙsAdded
 < 
¦ÙsRequœed
) {

919 
Ãw_Áh»ads
 -ğ(
¦ÙsRequœed
 - 
¦ÙsAdded
);

920 
	`KMP_ASSERT
(
Ãw_Áh»ads
 >= 1);

923 ià(!
	`g‘__dyÇmic_2
(
·»Á_‹am
, 
ma¡”_tid
è&& (!
__kmp_»£rve_w¬n
)) {

924 
__kmp_»£rve_w¬n
 = 1;

925 ià(
__kmp__ÿched
) {

926 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

927 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
£t_Áh»ads
, 
Ãw_Áh»ads
),

928 
	`KMP_HNT
(
S‘_ALL_THREADPRIVATE
, 
__kmp__ÿ·c™y
),

929 
	`KMP_HNT
(
PossibËSy¡emLim™OnTh»ads
), 
__kmp_msg_nuÎ
);

931 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

932 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
£t_Áh»ads
, 
Ãw_Áh»ads
),

933 
	`KMP_HNT
(
Sy¡emLim™OnTh»ads
), 
__kmp_msg_nuÎ
);

939 #ifdeà
KMP_DEBUG


940 ià(
Ãw_Áh»ads
 == 1) {

941 
	`KC_TRACE
(10,

944 
	`__kmp_g‘_gtid
(), 
£t_Áh»ads
));

946 
	`KC_TRACE
(10, ("__kmp_reserve_threads: T#%d‡llocating %dhreads;„equested"

948 
	`__kmp_g‘_gtid
(), 
Ãw_Áh»ads
, 
£t_Áh»ads
));

951  
Ãw_Áh»ads
;

952 
	}
}

957 
	$__kmp_fÜk_‹am_th»ads
(
kmp_roÙ_t
 *
roÙ
, 
kmp_‹am_t
 *
‹am
,

958 
kmp_šfo_t
 *
ma¡”_th
, 
ma¡”_gtid
) {

959 
i
;

960 
u£_hÙ_‹am
;

962 
	`KA_TRACE
(10, ("__kmp_fÜk_‹am_th»ads:‚ew_Åroc ğ%d\n", 
‹am
->
t
.
t_Åroc
));

963 
	`KMP_DEBUG_ASSERT
(
ma¡”_gtid
 =ğ
	`__kmp_g‘_gtid
());

964 
	`KMP_MB
();

967 
ma¡”_th
->
th
.
th_šfo
.
ds
.
ds_tid
 = 0;

968 
ma¡”_th
->
th
.
th_‹am
 = 
‹am
;

969 
ma¡”_th
->
th
.
th_‹am_Åroc
 = 
‹am
->
t
.
t_Åroc
;

970 
ma¡”_th
->
th
.
th_‹am_ma¡”
 = master_th;

971 
ma¡”_th
->
th
.
th_‹am_£rŸlized
 = 
FALSE
;

972 
ma¡”_th
->
th
.
th_di¥©ch
 = &
‹am
->
t
.
t_di¥©ch
[0];

975 #ià
KMP_NESTED_HOT_TEAMS


976 
u£_hÙ_‹am
 = 0;

977 
kmp_hÙ_‹am_±r_t
 *
hÙ_‹ams
 = 
ma¡”_th
->
th
.
th_hÙ_‹ams
;

978 ià(
hÙ_‹ams
) {

980 
Ëv–
 = 
‹am
->
t
.
t_aùive_Ëv–
 - 1;

981 ià(
ma¡”_th
->
th
.
th_‹ams_miüÙask
) {

982 ià(
ma¡”_th
->
th
.
th_‹ams_size
.
Á—ms
 > 1) {

983 ++
Ëv–
;

986 ià(
‹am
->
t
.
t_pkâ
 !ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
 &&

987 
ma¡”_th
->
th
.
th_‹ams_Ëv–
 =ğ
‹am
->
t
.
t_Ëv–
) {

988 ++
Ëv–
;

992 ià(
Ëv–
 < 
__kmp_hÙ_‹ams_max_Ëv–
) {

993 ià(
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
) {

995 
	`KMP_DEBUG_ASSERT
(
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
 =ğ
‹am
);

996 
u£_hÙ_‹am
 = 1;

998 
u£_hÙ_‹am
 = 0;

999 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
 = 
‹am
;

1000 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
 = 
‹am
->
t
.
t_Åroc
;

1003 
u£_hÙ_‹am
 = 0;

1007 
u£_hÙ_‹am
 = 
‹am
 =ğ
roÙ
->
r
.
r_hÙ_‹am
;

1009 ià(!
u£_hÙ_‹am
) {

1012 
‹am
->
t
.
t_th»ads
[0] = 
ma¡”_th
;

1013 
	`__kmp_š™Ÿlize_šfo
(
ma¡”_th
, 
‹am
, 0, 
ma¡”_gtid
);

1016 
i
 = 1; i < 
‹am
->
t
.
t_Åroc
; i++) {

1019 
kmp_šfo_t
 *
thr
 = 
	`__kmp_®loÿ‹_th»ad
(
roÙ
, 
‹am
, 
i
);

1020 
‹am
->
t
.
t_th»ads
[
i
] = 
thr
;

1021 
	`KMP_DEBUG_ASSERT
(
thr
);

1022 
	`KMP_DEBUG_ASSERT
(
thr
->
th
.
th_‹am
 =ğ
‹am
);

1024 
	`KA_TRACE
(20, ("__kmp_fork_team_threads: T#%d(%d:%d) init‡rrived "

1026 
	`__kmp_gtid_äom_tid
(0, 
‹am
),—m->
t
.
t_id
, 0,

1027 
	`__kmp_gtid_äom_tid
(
i
, 
‹am
),—m->
t
.
t_id
, i,

1028 
‹am
->
t
.
t_b¬
[
bs_fÜkjoš_b¬r›r
].
b_¬rived
,

1029 
‹am
->
t
.
t_b¬
[
bs_¶aš_b¬r›r
].
b_¬rived
));

1030 
thr
->
th
.
th_‹ams_miüÙask
 = 
ma¡”_th
->th.th_teams_microtask;

1031 
thr
->
th
.
th_‹ams_Ëv–
 = 
ma¡”_th
->th.th_teams_level;

1032 
thr
->
th
.
th_‹ams_size
 = 
ma¡”_th
->th.th_teams_size;

1034 
b
;

1035 
kmp_b®ign_t
 *
b®ign
 = 
‹am
->
t
.
t_th»ads
[
i
]->
th
.
th_b¬
;

1036 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

1037 
b®ign
[
b
].
bb
.
b_¬rived
 = 
‹am
->
t
.
t_b¬
[b].b_arrived;

1038 
	`KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !ğ
KMP_BARRIER_PARENT_FLAG
);

1039 #ià
USE_DEBUGGER


1040 
b®ign
[
b
].
bb
.
b_wÜk”_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_‹am_¬rived
;

1046 #ià
KMP_AFFINITY_SUPPORTED


1047 
	`__kmp_·¹™iÚ_¶aûs
(
‹am
);

1051 ià(
__kmp_di¥Ïy_affš™y
 && 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

1052 
i
 = 0; i < 
‹am
->
t
.
t_Åroc
; i++) {

1053 
kmp_šfo_t
 *
thr
 = 
‹am
->
t
.
t_th»ads
[
i
];

1054 ià(
thr
->
th
.
th_´ev_num_th»ads
 !ğ
‹am
->
t
.
t_Åroc
 ||

1055 
thr
->
th
.
th_´ev_Ëv–
 !ğ
‹am
->
t
.
t_Ëv–
) {

1056 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

1062 
	`KMP_MB
();

1063 
	}
}

1065 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1069 
šlše
 
	$´İag©eFPCÚŒŞ
(
kmp_‹am_t
 *
‹am
) {

1070 ià(
__kmp_šh”™_å_cÚŒŞ
) {

1071 
kmp_št16
 
x87_åu_cÚŒŞ_wÜd
;

1072 
kmp_ušt32
 
mxc¤
;

1075 
	`__kmp_¡Üe_x87_åu_cÚŒŞ_wÜd
(&
x87_åu_cÚŒŞ_wÜd
);

1076 
	`__kmp_¡Üe_mxc¤
(&
mxc¤
);

1077 
mxc¤
 &ğ
KMP_X86_MXCSR_MASK
;

1088 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_x87_åu_cÚŒŞ_wÜd
, 
x87_åu_cÚŒŞ_wÜd
);

1089 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_mxc¤
, 
mxc¤
);

1092 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_å_cÚŒŞ_§ved
, 
TRUE
);

1096 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_å_cÚŒŞ_§ved
, 
FALSE
);

1098 
	}
}

1102 
šlše
 
	$upd©eHWFPCÚŒŞ
(
kmp_‹am_t
 *
‹am
) {

1103 ià(
__kmp_šh”™_å_cÚŒŞ
 && 
‹am
->
t
.
t_å_cÚŒŞ_§ved
) {

1106 
kmp_št16
 
x87_åu_cÚŒŞ_wÜd
;

1107 
kmp_ušt32
 
mxc¤
;

1108 
	`__kmp_¡Üe_x87_åu_cÚŒŞ_wÜd
(&
x87_åu_cÚŒŞ_wÜd
);

1109 
	`__kmp_¡Üe_mxc¤
(&
mxc¤
);

1110 
mxc¤
 &ğ
KMP_X86_MXCSR_MASK
;

1112 ià(
‹am
->
t
.
t_x87_åu_cÚŒŞ_wÜd
 !ğ
x87_åu_cÚŒŞ_wÜd
) {

1113 
	`__kmp_ş—r_x87_åu_¡©us_wÜd
();

1114 
	`__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(&
‹am
->
t
.
t_x87_åu_cÚŒŞ_wÜd
);

1117 ià(
‹am
->
t
.
t_mxc¤
 !ğ
mxc¤
) {

1118 
	`__kmp_lßd_mxc¤
(&
‹am
->
t
.
t_mxc¤
);

1121 
	}
}

1123 
	#´İag©eFPCÚŒŞ
(
x
è(()0)

	)

1124 
	#upd©eHWFPCÚŒŞ
(
x
è(()0)

	)

1127 
__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
kmp_‹am_t
 *
‹am
,

1128 
»®loc
);

1132 
	$__kmp_£rŸlized_·¿Î–
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
) {

1133 
kmp_šfo_t
 *
this_thr
;

1134 
kmp_‹am_t
 *
£rŸl_‹am
;

1136 
	`KC_TRACE
(10, ("__kmpc_£rŸlized_·¿Î–: c®Ëd by T#%d\n", 
glob®_tid
));

1140 ià(
loc
 !ğ
NULL
 && (loc->
æags
 & 
KMP_IDENT_AUTOPAR
))

1143 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
))

1144 
	`__kmp_·¿Î–_š™Ÿlize
();

1145 
	`__kmp_»sume_if_soá_·u£d
();

1147 
this_thr
 = 
__kmp_th»ads
[
glob®_tid
];

1148 
£rŸl_‹am
 = 
this_thr
->
th
.
th_£rŸl_‹am
;

1151 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
);

1152 
	`KMP_MB
();

1154 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1155 
	`KMP_DEBUG_ASSERT
(

1156 
this_thr
->
th
.
th_sk_‹am
 ==

1157 
this_thr
->
th
.
th_‹am
->
t
.
t_sk_‹am
[this_thr->th.
th_sk_¡©e
]);

1158 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
] ==

1159 
NULL
);

1160 
	`KA_TRACE
(20, ("__kmpc_serialized_parallel: T#%d…ushingask_team %p / "

1162 
glob®_tid
, 
this_thr
->
th
.
th_sk_‹am
,his_thr->th.
th_‹am
));

1163 
this_thr
->
th
.
th_sk_‹am
 = 
NULL
;

1166 
kmp_´oc_bšd_t
 
´oc_bšd
 = 
this_thr
->
th
.
th_£t_´oc_bšd
;

1167 ià(
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
 =ğ
´oc_bšd_çl£
) {

1168 
´oc_bšd
 = 
´oc_bšd_çl£
;

1169 } ià(
´oc_bšd
 =ğ
´oc_bšd_deçuÉ
) {

1172 
´oc_bšd
 = 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.proc_bind;

1175 
this_thr
->
th
.
th_£t_´oc_bšd
 = 
´oc_bšd_deçuÉ
;

1177 #ià
OMPT_SUPPORT


1178 
om±_d©a_t
 
om±_·¿Î–_d©a
 = 
om±_d©a_nÚe
;

1179 
om±_d©a_t
 *
im¶ic™_sk_d©a
;

1180 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
glob®_tid
);

1181 ià(
om±_’abËd
.
’abËd
 &&

1182 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 !ğ
om±_¡©e_ov”h—d
) {

1184 
om±_sk_šfo_t
 *
·»Á_sk_šfo
;

1185 
·»Á_sk_šfo
 = 
	`OMPT_CUR_TASK_INFO
(
this_thr
);

1187 
·»Á_sk_šfo
->
äame
.
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1188 ià(
om±_’abËd
.
om±_ÿÎback_·¿Î–_begš
) {

1189 
‹am_size
 = 1;

1191 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_·¿Î–_begš
)(

1192 &(
·»Á_sk_šfo
->
sk_d©a
), &Õ¬’t_sk_šfo->
äame
),

1193 &
om±_·¿Î–_d©a
, 
‹am_size
,

1194 
om±_·¿Î–_švok”_´og¿m
 | 
om±_·¿Î–_‹am
, 
cod•Œ
);

1199 ià(
this_thr
->
th
.
th_‹am
 !ğ
£rŸl_‹am
) {

1201 
Ëv–
 = 
this_thr
->
th
.
th_‹am
->
t
.
t_Ëv–
;

1203 ià(
£rŸl_‹am
->
t
.
t_£rŸlized
) {

1206 
kmp_‹am_t
 *
Ãw_‹am
;

1208 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1210 
Ãw_‹am
 =

1211 
	`__kmp_®loÿ‹_‹am
(
this_thr
->
th
.
th_roÙ
, 1, 1,

1212 #ià
OMPT_SUPPORT


1213 
om±_·¿Î–_d©a
,

1215 
´oc_bšd
, &
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
,

1216 0 
	`USE_NESTED_HOT_ARG
(
NULL
));

1217 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1218 
	`KMP_ASSERT
(
Ãw_‹am
);

1221 
Ãw_‹am
->
t
.
t_th»ads
[0] = 
this_thr
;

1222 
Ãw_‹am
->
t
.
t_·»Á
 = 
this_thr
->
th
.
th_‹am
;

1223 
£rŸl_‹am
 = 
Ãw_‹am
;

1224 
this_thr
->
th
.
th_£rŸl_‹am
 = 
£rŸl_‹am
;

1226 
	`KF_TRACE
(

1229 
glob®_tid
, 
£rŸl_‹am
));

1235 
	`KF_TRACE
(

1238 
glob®_tid
, 
£rŸl_‹am
));

1242 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
);

1243 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
[0] =ğ
this_thr
);

1244 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 !ğ
£rŸl_‹am
);

1245 
£rŸl_‹am
->
t
.
t_id’t
 = 
loc
;

1246 
£rŸl_‹am
->
t
.
t_£rŸlized
 = 1;

1247 
£rŸl_‹am
->
t
.
t_Åroc
 = 1;

1248 
£rŸl_‹am
->
t
.
t_·»Á
 = 
this_thr
->
th
.
th_‹am
;

1249 
£rŸl_‹am
->
t
.
t_sched
.
sched
 = 
this_thr
->
th
.
th_‹am
->t.t_sched.sched;

1250 
this_thr
->
th
.
th_‹am
 = 
£rŸl_‹am
;

1251 
£rŸl_‹am
->
t
.
t_ma¡”_tid
 = 
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
;

1253 
	`KF_TRACE
(10, ("__kmpc_£rŸlized_·¿Î–: T#d cu¹ask=%p\n", 
glob®_tid
,

1254 
this_thr
->
th
.
th_cu¼’t_sk
));

1255 
	`KMP_ASSERT
(
this_thr
->
th
.
th_cu¼’t_sk
->
td_æags
.
executšg
 == 1);

1256 
this_thr
->
th
.
th_cu¼’t_sk
->
td_æags
.
executšg
 = 0;

1258 
	`__kmp_push_cu¼’t_sk_to_th»ad
(
this_thr
, 
£rŸl_‹am
, 0);

1263 
	`cİy_icvs
(&
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
,

1264 &
this_thr
->
th
.
th_cu¼’t_sk
->
td_·»Á
->
td_icvs
);

1268 ià(
__kmp_Ã¡ed_Áh
.
u£d
 && (
Ëv–
 + 1 < __kmp_nested_nth.used)) {

1269 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
 =

1270 
__kmp_Ã¡ed_Áh
.
Áh
[
Ëv–
 + 1];

1273 ià(
__kmp_Ã¡ed_´oc_bšd
.
u£d
 &&

1274 (
Ëv–
 + 1 < 
__kmp_Ã¡ed_´oc_bšd
.
u£d
)) {

1275 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
 =

1276 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[
Ëv–
 + 1];

1279 #ià
USE_DEBUGGER


1280 
£rŸl_‹am
->
t
.
t_pkâ
 = (
miüÙask_t
)(~0);

1282 
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
 = 0;

1285 
this_thr
->
th
.
th_‹am_Åroc
 = 1;

1286 
this_thr
->
th
.
th_‹am_ma¡”
 =his_thr;

1287 
this_thr
->
th
.
th_‹am_£rŸlized
 = 1;

1289 
£rŸl_‹am
->
t
.
t_Ëv–
 = s”Ÿl_‹am->t.
t_·»Á
->t.t_level + 1;

1290 
£rŸl_‹am
->
t
.
t_aùive_Ëv–
 = s”Ÿl_‹am->t.
t_·»Á
->t.t_active_level;

1291 
£rŸl_‹am
->
t
.
t_def_®loÿtÜ
 = 
this_thr
->
th
.
th_def_®loÿtÜ
;

1293 
	`´İag©eFPCÚŒŞ
(
£rŸl_‹am
);

1296 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_di¥©ch
);

1297 ià(!
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
) {

1298 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
 =

1299 (
di¥©ch_´iv©e_šfo_t
 *)
	`__kmp_®loÿ‹
(

1300 (
di¥©ch_´iv©e_šfo_t
));

1302 
this_thr
->
th
.
th_di¥©ch
 = 
£rŸl_‹am
->
t
.
t_di¥©ch
;

1304 
	`KMP_MB
();

1309 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
£rŸl_‹am
);

1310 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
);

1311 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_th»ads
[0] =ğ
this_thr
);

1312 ++
£rŸl_‹am
->
t
.
t_£rŸlized
;

1313 
this_thr
->
th
.
th_‹am_£rŸlized
 = 
£rŸl_‹am
->
t
.
t_£rŸlized
;

1316 
Ëv–
 = 
this_thr
->
th
.
th_‹am
->
t
.
t_Ëv–
;

1319 ià(
__kmp_Ã¡ed_Áh
.
u£d
 && (
Ëv–
 + 1 < __kmp_nested_nth.used)) {

1320 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
 =

1321 
__kmp_Ã¡ed_Áh
.
Áh
[
Ëv–
 + 1];

1323 
£rŸl_‹am
->
t
.
t_Ëv–
++;

1324 
	`KF_TRACE
(10, ("__kmpc_serialized_parallel: T#%d increasing‚esting†evel "

1326 
glob®_tid
, 
£rŸl_‹am
, s”Ÿl_‹am->
t
.
t_Ëv–
));

1329 
	`KMP_DEBUG_ASSERT
(
£rŸl_‹am
->
t
.
t_di¥©ch
);

1331 
di¥©ch_´iv©e_šfo_t
 *
di¥_bufãr
 =

1332 (
di¥©ch_´iv©e_šfo_t
 *)
	`__kmp_®loÿ‹
(

1333 (
di¥©ch_´iv©e_šfo_t
));

1334 
di¥_bufãr
->
Ãxt
 = 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
;

1335 
£rŸl_‹am
->
t
.
t_di¥©ch
->
th_di¥_bufãr
 = 
di¥_bufãr
;

1337 
this_thr
->
th
.
th_di¥©ch
 = 
£rŸl_‹am
->
t
.
t_di¥©ch
;

1339 
	`KMP_MB
();

1341 
	`KMP_CHECK_UPDATE
(
£rŸl_‹am
->
t
.
t_ÿnûl_»que¡
, 
ÿnûl_nÜeq
);

1345 ià(
__kmp_di¥Ïy_affš™y
) {

1346 ià(
this_thr
->
th
.
th_´ev_Ëv–
 !ğ
£rŸl_‹am
->
t
.
t_Ëv–
 ||

1347 
this_thr
->
th
.
th_´ev_num_th»ads
 != 1) {

1349 
	`__kmp_aux_di¥Ïy_affš™y
(
glob®_tid
, 
NULL
);

1350 
this_thr
->
th
.
th_´ev_Ëv–
 = 
£rŸl_‹am
->
t
.
t_Ëv–
;

1351 
this_thr
->
th
.
th_´ev_num_th»ads
 = 1;

1355 ià(
__kmp_’v_cÚsi¡’cy_check
)

1356 
	`__kmp_push_·¿Î–
(
glob®_tid
, 
NULL
);

1357 #ià
OMPT_SUPPORT


1358 
£rŸl_‹am
->
t
.
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
 = 
cod•Œ
;

1359 ià(
om±_’abËd
.
’abËd
 &&

1360 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 !ğ
om±_¡©e_ov”h—d
) {

1361 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
äame
.
ex™_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1363 
om±_lw_sk‹am_t
 
lw_sk‹am
;

1364 
	`__om±_lw_sk‹am_š™
(&
lw_sk‹am
, 
this_thr
, 
glob®_tid
,

1365 &
om±_·¿Î–_d©a
, 
cod•Œ
);

1367 
	`__om±_lw_sk‹am_lšk
(&
lw_sk‹am
, 
this_thr
, 1);

1371 
im¶ic™_sk_d©a
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
);

1372 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

1373 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1374 
om±_scİe_begš
, 
	`OMPT_CUR_TEAM_DATA
(
this_thr
),

1375 
	`OMPT_CUR_TASK_DATA
(
this_thr
), 1, 
	`__kmp_tid_äom_gtid
(
glob®_tid
), 
om±_sk_im¶ic™
);

1376 
	`OMPT_CUR_TASK_INFO
(
this_thr
)

1377 ->
th»ad_num
 = 
	`__kmp_tid_äom_gtid
(
glob®_tid
);

1381 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1382 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
äame
.
ex™_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1385 
	}
}

1389 
__kmp_fÜk_ÿÎ
(
id’t_t
 *
loc
, 
gtid
,

1390 
fÜk_cÚ‹xt_e
 
ÿÎ_cÚ‹xt
,

1391 
kmp_št32
 
¬gc
, 
miüÙask_t
 
miüÙask
, 
Ïunch_t
 
švok”
,

1393 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


1394 
va_li¡
 *
­


1396 
va_li¡
 
­


1399 **
	g¬gv
;

1400 
	gi
;

1401 
	gma¡”_tid
;

1402 
	gma¡”_this_cÚs
;

1403 
kmp_‹am_t
 *
	g‹am
;

1404 
kmp_‹am_t
 *
	g·»Á_‹am
;

1405 
kmp_šfo_t
 *
	gma¡”_th
;

1406 
kmp_roÙ_t
 *
	groÙ
;

1407 
	gÁh»ads
;

1408 
	gma¡”_aùive
;

1409 
	gma¡”_£t_numth»ads
;

1410 
	gËv–
;

1411 
	gaùive_Ëv–
;

1412 
	g‹ams_Ëv–
;

1413 #ià
KMP_NESTED_HOT_TEAMS


1414 
kmp_hÙ_‹am_±r_t
 **
	gp_hÙ_‹ams
;

1417 
KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_fÜk_ÿÎ
);

1418 
KMP_COUNT_VALUE
(
OMP_PARALLEL_¬gs
, 
¬gc
);

1420 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ:ƒÁ” T#%d\n", 
gtid
));

1421 ià(
	g__kmp_¡k·ddšg
 > 0 && 
	g__kmp_roÙ
[
gtid
] !ğ
NULL
) {

1424 *
dummy
 = 
KMP_ALLOCA
(
__kmp_¡k·ddšg
);

1426 ià(
	g__kmp_¡k·ddšg
 > 
	gKMP_MAX_STKPADDING
)

1427 
	g__kmp_¡k·ddšg
 +ğ()((
kmp_št64
)
dummy
);

1431 
KMP_DEBUG_ASSERT
(

1432 
__kmp_š™_£rŸl
);

1433 ià(!
TCR_4
(
__kmp_š™_·¿Î–
))

1434 
__kmp_·¿Î–_š™Ÿlize
();

1435 
__kmp_»sume_if_soá_·u£d
();

1438 
	gma¡”_th
 = 
__kmp_th»ads
[
gtid
];

1440 
	g·»Á_‹am
 = 
ma¡”_th
->
th
.
th_‹am
;

1441 
	gma¡”_tid
 = 
ma¡”_th
->
th
.
th_šfo
.
ds
.
ds_tid
;

1442 
	gma¡”_this_cÚs
 = 
ma¡”_th
->
th
.
th_loÿl
.
this_cÚ¡ruù
;

1443 
	groÙ
 = 
ma¡”_th
->
th
.
th_roÙ
;

1444 
	gma¡”_aùive
 = 
roÙ
->
r
.
r_aùive
;

1445 
	gma¡”_£t_numth»ads
 = 
ma¡”_th
->
th
.
th_£t_Åroc
;

1447 #ià
OMPT_SUPPORT


1448 
om±_d©a_t
 
	gom±_·¿Î–_d©a
 = 
om±_d©a_nÚe
;

1449 
om±_d©a_t
 *
	g·»Á_sk_d©a
;

1450 
om±_äame_t
 *
	gom±_äame
;

1451 
om±_d©a_t
 *
	gim¶ic™_sk_d©a
;

1452 *
	g»tuº_add»ss
 = 
NULL
;

1454 ià(
	gom±_’abËd
.
	g’abËd
) {

1455 
__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
·»Á_sk_d©a
, &
om±_äame
,

1456 
NULL
, NULL);

1457 
	g»tuº_add»ss
 = 
OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

1462 
	gËv–
 = 
·»Á_‹am
->
t
.
t_Ëv–
;

1464 
	gaùive_Ëv–
 = 
·»Á_‹am
->
t
.
t_aùive_Ëv–
;

1466 
	g‹ams_Ëv–
 = 
ma¡”_th
->
th
.
th_‹ams_Ëv–
;

1467 #ià
KMP_NESTED_HOT_TEAMS


1468 
	gp_hÙ_‹ams
 = &
ma¡”_th
->
th
.
th_hÙ_‹ams
;

1469 ià(*
	gp_hÙ_‹ams
 =ğ
NULL
 && 
__kmp_hÙ_‹ams_max_Ëv–
 > 0) {

1470 *
p_hÙ_‹ams
 = (
kmp_hÙ_‹am_±r_t
 *)
__kmp_®loÿ‹
(

1471 (
kmp_hÙ_‹am_±r_t
è* 
__kmp_hÙ_‹ams_max_Ëv–
);

1472 (*
	gp_hÙ_‹ams
)[0].
	ghÙ_‹am
 = 
roÙ
->
r
.
r_hÙ_‹am
;

1474 (*
	gp_hÙ_‹ams
)[0].
	ghÙ_‹am_Áh
 = 1;

1478 #ià
OMPT_SUPPORT


1479 ià(
	gom±_’abËd
.
	g’abËd
) {

1480 ià(
	gom±_’abËd
.
	gom±_ÿÎback_·¿Î–_begš
) {

1481 
	g‹am_size
 = 
ma¡”_£t_numth»ads


1482 ? 
ma¡”_£t_numth»ads


1483 : 
g‘__Åroc_2
(
·»Á_‹am
, 
ma¡”_tid
);

1484 
	gæags
 = 
OMPT_INVOKER
(
ÿÎ_cÚ‹xt
) |

1485 ((
miüÙask
 =ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
)

1486 ? 
om±_·¿Î–_Ëague


1487 : 
om±_·¿Î–_‹am
);

1488 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_·¿Î–_begš
)(

1489 
	g·»Á_sk_d©a
, 
	gom±_äame
, &
	gom±_·¿Î–_d©a
, 
	g‹am_size
, 
	gæags
,

1490 
	g»tuº_add»ss
);

1492 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

1496 
	gma¡”_th
->
	gth
.
	gth_id’t
 = 
loc
;

1498 ià(
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
 && 
	g­
 &&

1499 
	gmiüÙask
 !ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
 && 
Ëv–
 =ğ
‹ams_Ëv–
) {

1503 
·»Á_‹am
->
t
.
t_id’t
 = 
loc
;

1504 
__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
·»Á_‹am
, 
TRUE
);

1505 
	g·»Á_‹am
->
	gt
.
	gt_¬gc
 = 
¬gc
;

1506 
	g¬gv
 = (**)
·»Á_‹am
->
t
.
t_¬gv
;

1507 
	gi
 = 
¬gc
 - 1; i >= 0; --i)

1509 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


1510 *
	g¬gv
++ = 
va_¬g
(*
­
, *);

1512 *
	g¬gv
++ = 
va_¬g
(
­
, *);

1515 ià(
	g·»Á_‹am
 =ğ
ma¡”_th
->
th
.
th_£rŸl_‹am
) {

1517 
__kmpc_£rŸlized_·¿Î–
(
loc
, 
gtid
);

1518 
KMP_DEBUG_ASSERT
(
·»Á_‹am
->
t
.
t_£rŸlized
 > 1);

1520 #ià
OMPT_SUPPORT


1521 *
	gdummy
;

1522 **
	gex™_äame_p
;

1524 
om±_lw_sk‹am_t
 
	glw_sk‹am
;

1526 ià(
	gom±_’abËd
.
	g’abËd
) {

1527 
__om±_lw_sk‹am_š™
(&
lw_sk‹am
, 
ma¡”_th
, 
gtid
,

1528 &
om±_·¿Î–_d©a
, 
»tuº_add»ss
);

1529 
	gex™_äame_p
 = &(
lw_sk‹am
.
om±_sk_šfo
.
äame
.
ex™_äame
.
±r
);

1531 
__om±_lw_sk‹am_lšk
(&
lw_sk‹am
, 
ma¡”_th
, 0);

1535 
	gim¶ic™_sk_d©a
 = 
OMPT_CUR_TASK_DATA
(
ma¡”_th
);

1536 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1537 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)

1538 ->
	gth»ad_num
 = 
__kmp_tid_äom_gtid
(
gtid
);

1539 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1540 
	gom±_scİe_begš
, 
OMPT_CUR_TEAM_DATA
(
ma¡”_th
),

1541 
	gim¶ic™_sk_d©a
, 1,

1542 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
, 
	gom±_sk_im¶ic™
);

1546 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1548 
	gex™_äame_p
 = &
dummy
;

1553 
	g·»Á_‹am
->
	gt
.
	gt_£rŸlized
--;

1556 
KMP_TIME_PARTITIONED_BLOCK
(
OMP_·¿Î–
);

1557 
KMP_SET_THREAD_STATE_BLOCK
(
IMPLICIT_TASK
);

1558 
__kmp_švoke_miüÙask
(
miüÙask
, 
gtid
, 0, 
¬gc
, 
·»Á_‹am
->
t
.
t_¬gv


1559 #ià
OMPT_SUPPORT


1561 
ex™_äame_p


1566 #ià
OMPT_SUPPORT


1567 ià(
	gom±_’abËd
.
	g’abËd
) {

1568 *
	gex™_äame_p
 = 
NULL
;

1569 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

1570 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1571 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1572 
	gom±_scİe_’d
, 
	gNULL
, 
	gim¶ic™_sk_d©a
, 1,

1573 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
, 
	gom±_sk_im¶ic™
);

1575 
	gom±_·¿Î–_d©a
 = *
OMPT_CUR_TEAM_DATA
(
ma¡”_th
);

1576 
__om±_lw_sk‹am_uÆšk
(
ma¡”_th
);

1577 ià(
	gom±_’abËd
.
	gom±_ÿÎback_·¿Î–_’d
) {

1578 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

1579 &
	gom±_·¿Î–_d©a
, 
OMPT_CUR_TASK_DATA
(
ma¡”_th
),

1580 
OMPT_INVOKER
(
ÿÎ_cÚ‹xt
è| 
	gom±_·¿Î–_‹am
,

1581 
	g»tuº_add»ss
);

1583 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

1586  
	gTRUE
;

1589 
	g·»Á_‹am
->
	gt
.
	gt_pkâ
 = 
miüÙask
;

1590 
	g·»Á_‹am
->
	gt
.
	gt_švoke
 = 
švok”
;

1591 
KMP_ATOMIC_INC
(&
roÙ
->
r
.
r_š_·¿Î–
);

1592 
	g·»Á_‹am
->
	gt
.
	gt_aùive_Ëv–
++;

1593 
	g·»Á_‹am
->
	gt
.
	gt_Ëv–
++;

1594 
	g·»Á_‹am
->
	gt
.
	gt_def_®loÿtÜ
 = 
ma¡”_th
->
th
.
th_def_®loÿtÜ
;

1596 #ià
OMPT_SUPPORT


1597 ià(
	gom±_’abËd
.
	g’abËd
) {

1598 
om±_lw_sk‹am_t
 
	glw_sk‹am
;

1599 
__om±_lw_sk‹am_š™
(&
lw_sk‹am
, 
ma¡”_th
, 
gtid
,

1600 &
om±_·¿Î–_d©a
, 
»tuº_add»ss
);

1601 
__om±_lw_sk‹am_lšk
(&
lw_sk‹am
, 
ma¡”_th
, 1, 
Œue
);

1606 ià(
	gma¡”_£t_numth»ads
) {

1607 ià(
	gma¡”_£t_numth»ads
 < 
	gma¡”_th
->
	gth
.
	gth_‹ams_size
.
	gÁh
) {

1609 
kmp_šfo_t
 **
	gÙh”_th»ads
 = 
·»Á_‹am
->
t
.
t_th»ads
;

1610 
	g·»Á_‹am
->
	gt
.
	gt_Åroc
 = 
ma¡”_£t_numth»ads
;

1611 
	gi
 = 0; i < 
	gma¡”_£t_numth»ads
; ++i) {

1612 
	gÙh”_th»ads
[
i
]->
	gth
.
	gth_‹am_Åroc
 = 
ma¡”_£t_numth»ads
;

1616 
	gma¡”_th
->
	gth
.
	gth_£t_Åroc
 = 0;

1619 #ià
USE_DEBUGGER


1620 ià(
	g__kmp_debuggšg
) {

1621 
	gÁh
 = 
__kmp_omp_num_th»ads
(
loc
);

1622 ià(
	gÁh
 > 0) {

1623 
	gma¡”_£t_numth»ads
 = 
Áh
;

1628 
KF_TRACE
(10, ("__kmp_fork_call: before internal fork:„oot=%p,eam=%p, "

1630 
roÙ
, 
·»Á_‹am
, 
ma¡”_th
, 
gtid
));

1631 
__kmp_š‹º®_fÜk
(
loc
, 
gtid
, 
·»Á_‹am
);

1632 
KF_TRACE
(10, ("__kmp_fork_call:‡fter internal fork:„oot=%p,eam=%p, "

1634 
roÙ
, 
·»Á_‹am
, 
ma¡”_th
, 
gtid
));

1637 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d(%d:0èšvokmiüÙask = %p\n", 
gtid
,

1638 
·»Á_‹am
->
t
.
t_id
,…¬’t_‹am->t.
t_pkâ
));

1640 ià(!
	g·»Á_‹am
->
	gt
.
t_švoke
(
gtid
)) {

1641 
KMP_ASSERT2
(0, "cannot invoke microtask for MASTERhread");

1643 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d(%d:0èdÚmiüÙask = %p\n", 
gtid
,

1644 
·»Á_‹am
->
t
.
t_id
,…¬’t_‹am->t.
t_pkâ
));

1645 
KMP_MB
();

1647 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ:…¬®ËÈex™ T#%d\n", 
gtid
));

1649  
	gTRUE
;

1652 #ià
KMP_DEBUG


1653 ià(
	g__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1654 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_sk_‹am
 ==

1655 
·»Á_‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
]);

1659 ià(
	g·»Á_‹am
->
	gt
.
	gt_aùive_Ëv–
 >=

1660 
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
) {

1661 
Áh»ads
 = 1;

1663 
	g’‹r_‹ams
 = ((
­
 =ğ
NULL
 && 
aùive_Ëv–
 == 0) ||

1664 (
­
 && 
‹ams_Ëv–
 > 0 &&—ms_Ëv– =ğ
Ëv–
));

1665 
	gÁh»ads
 =

1666 
ma¡”_£t_numth»ads


1667 ? 
ma¡”_£t_numth»ads


1668 : 
g‘__Åroc_2
(

1669 
·»Á_‹am
,

1670 
ma¡”_tid
);

1675 ià(
	gÁh»ads
 > 1) {

1676 ià((
g‘__max_aùive_Ëv–s
(
ma¡”_th
) == 1 &&

1677 (
roÙ
->
r
.
r_š_·¿Î–
 && !
’‹r_‹ams
)) ||

1678 (
__kmp_lib¿ry
 =ğ
lib¿ry_£rŸl
)) {

1679 
KC_TRACE
(10, ("__kmp_fork_call: T#%d serializingeam;„equested %d"

1681 
gtid
, 
Áh»ads
));

1682 
	gÁh»ads
 = 1;

1685 ià(
	gÁh»ads
 > 1) {

1687 
__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1692 
	gÁh»ads
 = 
__kmp_»£rve_th»ads
(
roÙ
, 
·»Á_‹am
, 
ma¡”_tid
,

1693 
Áh»ads
, 
’‹r_‹ams
);

1694 ià(
	gÁh»ads
 == 1) {

1698 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1702 
KMP_DEBUG_ASSERT
(
Áh»ads
 > 0);

1705 
	gma¡”_th
->
	gth
.
	gth_£t_Åroc
 = 0;

1708 ià(
	gÁh»ads
 == 1) {

1710 #ià
KMP_OS_LINUX
 && \

1711 (
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
)

1712 *
¬gs
[
¬gc
];

1714 **
	g¬gs
 = (**)
KMP_ALLOCA
(
¬gc
 * (*));

1716 
	gKMP_ARCH_AARCH64
) */

1718 
KA_TRACE
(20,

1719 ("__kmp_fÜk_ÿÎ: T#%d s”Ÿlizšg…¬®ËÈ»giÚ\n", 
gtid
));

1721 
__kmpc_£rŸlized_·¿Î–
(
loc
, 
gtid
);

1723 ià(
	gÿÎ_cÚ‹xt
 =ğ
fÜk_cÚ‹xt_š‹l
) {

1725 
ma¡”_th
->
th
.
th_£rŸl_‹am
->
t
.
t_id’t
 = 
loc
;

1726 ià(!
	g­
) {

1728 
	gma¡”_th
->
	gth
.
	gth_£rŸl_‹am
->
	gt
.
	gt_Ëv–
--;

1731 #ià
OMPT_SUPPORT


1732 *
	gdummy
;

1733 **
	gex™_äame_p
;

1734 
om±_sk_šfo_t
 *
	gsk_šfo
;

1736 
om±_lw_sk‹am_t
 
	glw_sk‹am
;

1738 ià(
	gom±_’abËd
.
	g’abËd
) {

1739 
__om±_lw_sk‹am_š™
(&
lw_sk‹am
, 
ma¡”_th
, 
gtid
,

1740 &
om±_·¿Î–_d©a
, 
»tuº_add»ss
);

1742 
__om±_lw_sk‹am_lšk
(&
lw_sk‹am
, 
ma¡”_th
, 0);

1745 
	gsk_šfo
 = 
OMPT_CUR_TASK_INFO
(
ma¡”_th
);

1746 
	gex™_äame_p
 = &(
sk_šfo
->
äame
.
ex™_äame
.
±r
);

1747 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1748 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)

1749 ->
	gth»ad_num
 = 
__kmp_tid_äom_gtid
(
gtid
);

1750 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1751 
	gom±_scİe_begš
, 
OMPT_CUR_TEAM_DATA
(
ma¡”_th
),

1752 &(
	gsk_šfo
->
	gsk_d©a
), 1,

1753 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
,

1754 
	gom±_sk_im¶ic™
);

1758 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1760 
	gex™_äame_p
 = &
dummy
;

1765 
KMP_TIME_PARTITIONED_BLOCK
(
OMP_·¿Î–
);

1766 
KMP_SET_THREAD_STATE_BLOCK
(
IMPLICIT_TASK
);

1767 
__kmp_švoke_miüÙask
(
miüÙask
, 
gtid
, 0, 
¬gc
,

1768 
·»Á_‹am
->
t
.
t_¬gv


1769 #ià
OMPT_SUPPORT


1771 
ex™_äame_p


1776 #ià
OMPT_SUPPORT


1777 ià(
	gom±_’abËd
.
	g’abËd
) {

1778 *
	gex™_äame_p
 = 
NULL
;

1779 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1780 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1781 
	gom±_scİe_’d
, 
	gNULL
, &(
	gsk_šfo
->
	gsk_d©a
), 1,

1782 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
,

1783 
	gom±_sk_im¶ic™
);

1785 
	gom±_·¿Î–_d©a
 = *
OMPT_CUR_TEAM_DATA
(
ma¡”_th
);

1786 
__om±_lw_sk‹am_uÆšk
(
ma¡”_th
);

1787 ià(
	gom±_’abËd
.
	gom±_ÿÎback_·¿Î–_’d
) {

1788 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

1789 &
	gom±_·¿Î–_d©a
, 
	g·»Á_sk_d©a
,

1790 
OMPT_INVOKER
(
ÿÎ_cÚ‹xt
è| 
	gom±_·¿Î–_‹am
,

1791 
	g»tuº_add»ss
);

1793 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

1796 } ià(
	gmiüÙask
 =ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
) {

1797 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_‹am
 ==

1798 
ma¡”_th
->
th
.
th_£rŸl_‹am
);

1799 
	g‹am
 = 
ma¡”_th
->
th
.
th_‹am
;

1801 
	g‹am
->
	gt
.
	gt_švoke
 = 
švok”
;

1802 
__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
‹am
, 
TRUE
);

1803 
	g‹am
->
	gt
.
	gt_¬gc
 = 
¬gc
;

1804 
	g¬gv
 = (**)
‹am
->
t
.
t_¬gv
;

1805 ià(
	g­
) {

1806 
	gi
 = 
¬gc
 - 1; i >= 0; --i)

1808 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


1809 *
	g¬gv
++ = 
va_¬g
(*
­
, *);

1811 *
	g¬gv
++ = 
va_¬g
(
­
, *);

1814 
	gi
 = 0; i < 
	g¬gc
; ++i)

1816 
	g¬gv
[
i
] = 
·»Á_‹am
->
t
.
t_¬gv
[i];

1820 
	g‹am
->
	gt
.
	gt_Ëv–
--;

1822 
švok”
(
gtid
);

1823 #ià
OMPT_SUPPORT


1824 ià(
	gom±_’abËd
.
	g’abËd
) {

1825 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
OMPT_CUR_TASK_INFO
(
ma¡”_th
);

1826 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1827 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1828 
	gom±_scİe_’d
, 
	gNULL
, &(
	gsk_šfo
->
	gsk_d©a
), 0,

1829 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
, 
	gom±_sk_š™Ÿl
);

1831 ià(
	gom±_’abËd
.
	gom±_ÿÎback_·¿Î–_’d
) {

1832 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

1833 &
	gom±_·¿Î–_d©a
, 
	g·»Á_sk_d©a
,

1834 
OMPT_INVOKER
(
ÿÎ_cÚ‹xt
è| 
	gom±_·¿Î–_Ëague
,

1835 
	g»tuº_add»ss
);

1837 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

1841 
	g¬gv
 = 
¬gs
;

1842 
	gi
 = 
¬gc
 - 1; i >= 0; --i)

1844 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


1845 *
	g¬gv
++ = 
va_¬g
(*
­
, *);

1847 *
	g¬gv
++ = 
va_¬g
(
­
, *);

1849 
KMP_MB
();

1851 #ià
OMPT_SUPPORT


1852 *
	gdummy
;

1853 **
	gex™_äame_p
;

1854 
om±_sk_šfo_t
 *
	gsk_šfo
;

1856 
om±_lw_sk‹am_t
 
	glw_sk‹am
;

1858 ià(
	gom±_’abËd
.
	g’abËd
) {

1859 
__om±_lw_sk‹am_š™
(&
lw_sk‹am
, 
ma¡”_th
, 
gtid
,

1860 &
om±_·¿Î–_d©a
, 
»tuº_add»ss
);

1861 
__om±_lw_sk‹am_lšk
(&
lw_sk‹am
, 
ma¡”_th
, 0);

1863 
	gsk_šfo
 = 
OMPT_CUR_TASK_INFO
(
ma¡”_th
);

1864 
	gex™_äame_p
 = &(
sk_šfo
->
äame
.
ex™_äame
.
±r
);

1867 
	gim¶ic™_sk_d©a
 = 
OMPT_CUR_TASK_DATA
(
ma¡”_th
);

1868 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1869 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1870 
	gom±_scİe_begš
, 
OMPT_CUR_TEAM_DATA
(
ma¡”_th
),

1871 
	gim¶ic™_sk_d©a
, 1, 
__kmp_tid_äom_gtid
(
gtid
),

1872 
	gom±_sk_im¶ic™
);

1873 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)

1874 ->
	gth»ad_num
 = 
__kmp_tid_äom_gtid
(
gtid
);

1878 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

1880 
	gex™_äame_p
 = &
dummy
;

1885 
KMP_TIME_PARTITIONED_BLOCK
(
OMP_·¿Î–
);

1886 
KMP_SET_THREAD_STATE_BLOCK
(
IMPLICIT_TASK
);

1887 
__kmp_švoke_miüÙask
(
miüÙask
, 
gtid
, 0, 
¬gc
, 
¬gs


1888 #ià
OMPT_SUPPORT


1890 
ex™_äame_p


1895 #ià
OMPT_SUPPORT


1896 ià(
	gom±_’abËd
.
	g’abËd
) {

1897 *
	gex™_äame_p
 = 
NULL
;

1898 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

1899 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

1900 
	gom±_scİe_’d
, 
	gNULL
, &(
	gsk_šfo
->
	gsk_d©a
), 1,

1901 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
,

1902 
	gom±_sk_im¶ic™
);

1905 
	gom±_·¿Î–_d©a
 = *
OMPT_CUR_TEAM_DATA
(
ma¡”_th
);

1906 
__om±_lw_sk‹am_uÆšk
(
ma¡”_th
);

1907 ià(
	gom±_’abËd
.
	gom±_ÿÎback_·¿Î–_’d
) {

1908 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

1909 &
	gom±_·¿Î–_d©a
, 
	g·»Á_sk_d©a
,

1910 
OMPT_INVOKER
(
ÿÎ_cÚ‹xt
è| 
	gom±_·¿Î–_‹am
,

1911 
	g»tuº_add»ss
);

1913 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

1917 } ià(
	gÿÎ_cÚ‹xt
 =ğ
fÜk_cÚ‹xt_gnu
) {

1918 #ià
OMPT_SUPPORT


1919 
om±_lw_sk‹am_t
 
lwt
;

1920 
__om±_lw_sk‹am_š™
(&
lwt
, 
ma¡”_th
, 
gtid
, &
om±_·¿Î–_d©a
,

1921 
»tuº_add»ss
);

1923 
	glwt
.
	gom±_sk_šfo
.
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

1924 
__om±_lw_sk‹am_lšk
(&
lwt
, 
ma¡”_th
, 1);

1929 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d s”ŸÈex™\n", 
gtid
));

1930  
	gFALSE
;

1932 
KMP_ASSERT2
(
ÿÎ_cÚ‹xt
 < 
fÜk_cÚ‹xt_Ï¡
,

1936 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d s”ŸÈex™\n", 
gtid
));

1937 
KMP_MB
();

1938  
	gFALSE
;

1943 
KF_TRACE
(10, ("__kmp_fork_call:…arent_team_aclevel=%d, master_th=%p, "

1945 
·»Á_‹am
->
t
.
t_aùive_Ëv–
, 
ma¡”_th
,

1946 
ma¡”_th
->
th
.
th_cu¼’t_sk
,

1947 
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
));

1951 
	gma¡”_th
->
	gth
.
	gth_cu¼’t_sk
->
	gtd_æags
.
	gexecutšg
 = 0;

1953 ià(!
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
 || 
	gËv–
 > 
	g‹ams_Ëv–
) {

1955 
KMP_ATOMIC_INC
(&
roÙ
->
r
.
r_š_·¿Î–
);

1959 
	gÁh»ads_icv
 = 
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
;

1960 ià((
	gËv–
 + 1 < 
	g__kmp_Ã¡ed_Áh
.
	gu£d
) &&

1961 (
	g__kmp_Ã¡ed_Áh
.
	gÁh
[
Ëv–
 + 1] !ğ
Áh»ads_icv
)) {

1962 
Áh»ads_icv
 = 
__kmp_Ã¡ed_Áh
.
Áh
[
Ëv–
 + 1];

1964 
	gÁh»ads_icv
 = 0;

1968 
kmp_´oc_bšd_t
 
	g´oc_bšd
 = 
ma¡”_th
->
th
.
th_£t_´oc_bšd
;

1969 
kmp_´oc_bšd_t
 
	g´oc_bšd_icv
 =

1970 
´oc_bšd_deçuÉ
;

1971 ià(
	gma¡”_th
->
	gth
.
	gth_cu¼’t_sk
->
	gtd_icvs
.
	g´oc_bšd
 =ğ
´oc_bšd_çl£
) {

1972 
´oc_bšd
 = 
´oc_bšd_çl£
;

1974 ià(
	g´oc_bšd
 =ğ
´oc_bšd_deçuÉ
) {

1977 
´oc_bšd
 = 
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
.proc_bind;

1983 ià((
	gËv–
 + 1 < 
	g__kmp_Ã¡ed_´oc_bšd
.
	gu£d
) &&

1984 (
	g__kmp_Ã¡ed_´oc_bšd
.
	gbšd_ty³s
[
Ëv–
 + 1] !=

1985 
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
.
´oc_bšd
)) {

1986 
´oc_bšd_icv
 = 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[
Ëv–
 + 1];

1991 
	gma¡”_th
->
	gth
.
	gth_£t_´oc_bšd
 = 
´oc_bšd_deçuÉ
;

1993 ià((
	gÁh»ads_icv
 > 0è|| (
	g´oc_bšd_icv
 !ğ
´oc_bšd_deçuÉ
)) {

1994 
kmp_š‹º®_cÚŒŞ_t
 
Ãw_icvs
;

1995 
cİy_icvs
(&
Ãw_icvs
, &
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
);

1996 
	gÃw_icvs
.
	gÃxt
 = 
NULL
;

1997 ià(
	gÁh»ads_icv
 > 0) {

1998 
	gÃw_icvs
.
	gÅroc
 = 
Áh»ads_icv
;

2000 ià(
	g´oc_bšd_icv
 !ğ
´oc_bšd_deçuÉ
) {

2001 
Ãw_icvs
.
´oc_bšd
 = 
´oc_bšd_icv
;

2005 
KF_TRACE
(10, ("__kmp_fork_call: before __kmp_allocate_team\n"));

2006 
	g‹am
 = 
__kmp_®loÿ‹_‹am
(
roÙ
, 
Áh»ads
,‚threads,

2007 #ià
OMPT_SUPPORT


2008 
om±_·¿Î–_d©a
,

2010 
´oc_bšd
, &
Ãw_icvs
,

2011 
¬gc
 
USE_NESTED_HOT_ARG
(
ma¡”_th
));

2014 
KF_TRACE
(10, ("__kmp_fork_call: before __kmp_allocate_team\n"));

2015 
	g‹am
 = 
__kmp_®loÿ‹_‹am
(
roÙ
, 
Áh»ads
,‚threads,

2016 #ià
OMPT_SUPPORT


2017 
om±_·¿Î–_d©a
,

2019 
´oc_bšd
,

2020 &
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
,

2021 
¬gc
 
USE_NESTED_HOT_ARG
(
ma¡”_th
));

2023 
KF_TRACE
(

2024 10, ("__kmp_fÜk_ÿÎ:‡á” __kmp_®loÿ‹_‹am -—m = %p\n", 
‹am
));

2027 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_ma¡”_tid
, 
ma¡”_tid
);

2028 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_ma¡”_this_cÚs
, 
ma¡”_this_cÚs
);

2029 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_id’t
, 
loc
);

2030 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_·»Á
, 
·»Á_‹am
);

2031 
KMP_CHECK_UPDATE_SYNC
(
‹am
->
t
.
t_pkâ
, 
miüÙask
);

2032 #ià
OMPT_SUPPORT


2033 
KMP_CHECK_UPDATE_SYNC
(
‹am
->
t
.
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
,

2034 
»tuº_add»ss
);

2036 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_švoke
, 
švok”
);

2038 ià(!
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
 || 
	gËv–
 > 
	g‹ams_Ëv–
) {

2039 
	gÃw_Ëv–
 = 
·»Á_‹am
->
t
.
t_Ëv–
 + 1;

2040 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_Ëv–
, 
Ãw_Ëv–
);

2041 
	gÃw_Ëv–
 = 
·»Á_‹am
->
t
.
t_aùive_Ëv–
 + 1;

2042 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_aùive_Ëv–
, 
Ãw_Ëv–
);

2045 
	gÃw_Ëv–
 = 
·»Á_‹am
->
t
.
t_Ëv–
;

2046 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_Ëv–
, 
Ãw_Ëv–
);

2047 
	gÃw_Ëv–
 = 
·»Á_‹am
->
t
.
t_aùive_Ëv–
;

2048 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_aùive_Ëv–
, 
Ãw_Ëv–
);

2050 
kmp_r_sched_t
 
	gÃw_sched
 = 
g‘__sched_2
(
·»Á_‹am
, 
ma¡”_tid
);

2052 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_sched
.
sched
, 
Ãw_sched
.sched);

2054 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_ÿnûl_»que¡
, 
ÿnûl_nÜeq
);

2055 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_def_®loÿtÜ
, 
ma¡”_th
->
th
.
th_def_®loÿtÜ
);

2058 
´İag©eFPCÚŒŞ
(
‹am
);

2060 ià(
	g__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2063 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_sk_‹am
 ==

2064 
·»Á_‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
]);

2065 
KA_TRACE
(20, ("__kmp_fork_call: Master T#%d…ushingask_team %p /eam "

2067 
__kmp_gtid_äom_th»ad
(
ma¡”_th
),

2068 
ma¡”_th
->
th
.
th_sk_‹am
, 
·»Á_‹am
,

2069 
‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
],eam));

2071 ià(
	gaùive_Ëv–
 || 
	gma¡”_th
->
	gth
.
	gth_sk_‹am
) {

2073 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_sk_¡©e_memo_¡ack
);

2074 ià(
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_tİ
 >=

2075 
ma¡”_th
->
th
.
th_sk_¡©e_¡ack_sz
) {

2076 
kmp_ušt32
 
Ãw_size
 = 2 * 
ma¡”_th
->
th
.
th_sk_¡©e_¡ack_sz
;

2077 
kmp_ušt8
 *
	gŞd_¡ack
, *
	gÃw_¡ack
;

2078 
kmp_ušt32
 
	gi
;

2079 
	gÃw_¡ack
 = (
kmp_ušt8
 *)
__kmp_®loÿ‹
(
Ãw_size
);

2080 
	gi
 = 0; i < 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_¡ack_sz
; ++i) {

2081 
	gÃw_¡ack
[
i
] = 
ma¡”_th
->
th
.
th_sk_¡©e_memo_¡ack
[i];

2083 
	gi
 = 
ma¡”_th
->
th
.
th_sk_¡©e_¡ack_sz
; i < 
	gÃw_size
;

2084 ++
	gi
) {

2085 
	gÃw_¡ack
[
i
] = 0;

2087 
	gŞd_¡ack
 = 
ma¡”_th
->
th
.
th_sk_¡©e_memo_¡ack
;

2088 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_memo_¡ack
 = 
Ãw_¡ack
;

2089 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_¡ack_sz
 = 
Ãw_size
;

2090 
__kmp_ä“
(
Şd_¡ack
);

2093 
	gma¡”_th
->
	gth


2094 .
	gth_sk_¡©e_memo_¡ack
[
ma¡”_th
->
th
.
th_sk_¡©e_tİ
] =

2095 
ma¡”_th
->
th
.
th_sk_¡©e
;

2096 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_tİ
++;

2097 #ià
KMP_NESTED_HOT_TEAMS


2098 ià(
	gma¡”_th
->
	gth
.
	gth_hÙ_‹ams
 &&

2099 
	gaùive_Ëv–
 < 
	g__kmp_hÙ_‹ams_max_Ëv–
 &&

2100 
	g‹am
 =ğ
ma¡”_th
->
th
.
th_hÙ_‹ams
[
aùive_Ëv–
].
hÙ_‹am
) {

2102 
ma¡”_th
->
th
.
th_sk_¡©e
 =

2103 
ma¡”_th
->
th


2104 .
th_sk_¡©e_memo_¡ack
[
ma¡”_th
->
th
.
th_sk_¡©e_tİ
];

2107 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e
 = 0;

2108 #ià
KMP_NESTED_HOT_TEAMS


2112 #ià!
KMP_NESTED_HOT_TEAMS


2113 
KMP_DEBUG_ASSERT
((
ma¡”_th
->
th
.
th_sk_‹am
 =ğ
NULL
) ||

2114 (
‹am
 =ğ
roÙ
->
r
.
r_hÙ_‹am
));

2118 
KA_TRACE
(

2121 
gtid
, 
·»Á_‹am
->
t
.
t_id
, 
‹am
->t.
t_ma¡”_tid
,eam->t.t_id,

2122 
‹am
->
t
.
t_Åroc
));

2123 
KMP_DEBUG_ASSERT
(
‹am
 !ğ
roÙ
->
r
.
r_hÙ_‹am
 ||

2124 (
‹am
->
t
.
t_ma¡”_tid
 == 0 &&

2125 (
‹am
->
t
.
t_·»Á
 =ğ
roÙ
->
r
.
r_roÙ_‹am
 ||

2126 
‹am
->
t
.
t_·»Á
->t.
t_£rŸlized
)));

2127 
KMP_MB
();

2130 
	g¬gv
 = (**)
‹am
->
t
.
t_¬gv
;

2131 ià(
	g­
) {

2132 
	gi
 = 
¬gc
 - 1; i >= 0; --i) {

2134 #ià(
KMP_ARCH_X86_64
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH64
è&& 
KMP_OS_LINUX


2135 *
	gÃw_¬gv
 = 
va_¬g
(*
­
, *);

2137 *
	gÃw_¬gv
 = 
va_¬g
(
­
, *);

2139 
KMP_CHECK_UPDATE
(*
¬gv
, 
Ãw_¬gv
);

2140 
	g¬gv
++;

2143 
	gi
 = 0; i < 
	g¬gc
; ++i) {

2145 
KMP_CHECK_UPDATE
(
¬gv
[
i
], 
‹am
->
t
.
t_·»Á
->t.
t_¬gv
[i]);

2150 
KMP_CHECK_UPDATE
(
‹am
->
t
.
t_ma¡”_aùive
, 
ma¡”_aùive
);

2151 ià(!
	groÙ
->
	gr
.
	gr_aùive
)

2152 
	groÙ
->
	gr
.
	gr_aùive
 = 
TRUE
;

2154 
__kmp_fÜk_‹am_th»ads
(
roÙ
, 
‹am
, 
ma¡”_th
, 
gtid
);

2155 
__kmp_£tup_icv_cİy
(
‹am
, 
Áh»ads
,

2156 &
ma¡”_th
->
th
.
th_cu¼’t_sk
->
td_icvs
, 
loc
);

2158 #ià
OMPT_SUPPORT


2159 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

2162 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

2164 #ià
USE_ITT_BUILD


2165 ià(
	g‹am
->
	gt
.
	gt_aùive_Ëv–
 == 1

2166 && !
ma¡”_th
->
th
.
th_‹ams_miüÙask
) {

2167 #ià
USE_ITT_NOTIFY


2168 ià((
__™t_äame_subm™_v3_±r
 || 
KMP_ITT_DEBUG
) &&

2169 (
__kmp_fÜkjoš_äames_mode
 == 3 ||

2170 
__kmp_fÜkjoš_äames_mode
 == 1)) {

2171 
kmp_ušt64
 
tmp_time
 = 0;

2172 ià(
	g__™t_g‘_time¡amp_±r
)

2173 
	gtmp_time
 = 
__™t_g‘_time¡amp
();

2175 
	gma¡”_th
->
	gth
.
	gth_äame_time
 = 
tmp_time
;

2176 ià(
	g__kmp_fÜkjoš_äames_mode
 == 3)

2177 
‹am
->
t
.
t_»giÚ_time
 = 
tmp_time
;

2181 ià((
	g__™t_äame_begš_v3_±r
 || 
	gKMP_ITT_DEBUG
) &&

2182 
	g__kmp_fÜkjoš_äames
 && !
	g__kmp_fÜkjoš_äames_mode
) {

2184 
__kmp_™t_»giÚ_fÜkšg
(
gtid
, 
‹am
->
t
.
t_Åroc
, 0);

2190 
KMP_DEBUG_ASSERT
(
‹am
 =ğ
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
);

2191 
KMP_MB
();

2192 
KF_TRACE
(10,

2194 
roÙ
, 
‹am
, 
ma¡”_th
, 
gtid
));

2196 #ià
USE_ITT_BUILD


2197 ià(
	g__™t_¡ack_ÿÎ”_ü—‹_±r
) {

2198 
	g‹am
->
	gt
.
	gt_¡ack_id
 =

2199 
__kmp_™t_¡ack_ÿÎ”_ü—‹
();

2206 ià(
	g­
) {

2207 
__kmp_š‹º®_fÜk
(
loc
, 
gtid
, 
‹am
);

2208 
KF_TRACE
(10, ("__kmp_internal_fork :‡fter :„oot=%p,eam=%p, "

2210 
roÙ
, 
‹am
, 
ma¡”_th
, 
gtid
));

2213 ià(
	gÿÎ_cÚ‹xt
 =ğ
fÜk_cÚ‹xt_gnu
) {

2214 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ:…¬®ËÈex™ T#%d\n", 
gtid
));

2215  
	gTRUE
;

2219 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d(%d:0èšvokmiüÙask = %p\n", 
gtid
,

2220 
‹am
->
t
.
t_id
,—m->t.
t_pkâ
));

2223 #ià
KMP_STATS_ENABLED


2225 
¡©s_¡©e_e
 
	g´evious_¡©e
 = 
KMP_GET_THREAD_STATE
();

2226 ià(!
	g­
) {

2227 
KMP_SET_THREAD_STATE
(
¡©s_¡©e_e
::
TEAMS_REGION
);

2231 ià(!
	g‹am
->
	gt
.
t_švoke
(
gtid
)) {

2232 
KMP_ASSERT2
(0, "cannot invoke microtask for MASTERhread");

2235 #ià
KMP_STATS_ENABLED


2237 ià(!
	g­
) {

2238 
KMP_SET_THREAD_STATE
(
´evious_¡©e
);

2242 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ: T#%d(%d:0èdÚmiüÙask = %p\n", 
gtid
,

2243 
‹am
->
t
.
t_id
,—m->t.
t_pkâ
));

2244 
KMP_MB
();

2246 
KA_TRACE
(20, ("__kmp_fÜk_ÿÎ:…¬®ËÈex™ T#%d\n", 
gtid
));

2248 #ià
OMPT_SUPPORT


2249 ià(
	gom±_’abËd
.
	g’abËd
) {

2250 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

2254  
	gTRUE
;

2257 #ià
OMPT_SUPPORT


2258 
šlše
 
	$__kmp_još_»¡Üe_¡©e
(
kmp_šfo_t
 *
th»ad
,

2259 
kmp_‹am_t
 *
‹am
) {

2261 
th»ad
->
th
.
om±_th»ad_šfo
.
¡©e
 =

2262 ((
‹am
->
t
.
t_£rŸlized
è? 
om±_¡©e_wÜk_£rŸl


2263 : 
om±_¡©e_wÜk_·¿Î–
);

2264 
	}
}

2266 
šlše
 
	$__kmp_još_om±
(
gtid
, 
kmp_šfo_t
 *
th»ad
,

2267 
kmp_‹am_t
 *
‹am
, 
om±_d©a_t
 *
·¿Î–_d©a
,

2268 
æags
, *
cod•Œ
) {

2269 
om±_sk_šfo_t
 *
sk_šfo
 = 
	`__om±_g‘_sk_šfo_objeù
(0);

2270 ià(
om±_’abËd
.
om±_ÿÎback_·¿Î–_’d
) {

2271 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_·¿Î–_’d
)(

2272 
·¿Î–_d©a
, &(
sk_šfo
->
sk_d©a
), 
æags
, 
cod•Œ
);

2275 
sk_šfo
->
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

2276 
	`__kmp_još_»¡Üe_¡©e
(
th»ad
, 
‹am
);

2277 
	}
}

2280 
__kmp_još_ÿÎ
(
id’t_t
 *
loc
, 
gtid


2281 #ià
OMPT_SUPPORT


2283 
fÜk_cÚ‹xt_e
 
fÜk_cÚ‹xt


2286 
ex™_‹ams
) {

2287 
KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_još_ÿÎ
);

2288 
kmp_‹am_t
 *
	g‹am
;

2289 
kmp_‹am_t
 *
	g·»Á_‹am
;

2290 
kmp_šfo_t
 *
	gma¡”_th
;

2291 
kmp_roÙ_t
 *
	groÙ
;

2292 
	gma¡”_aùive
;

2294 
KA_TRACE
(20, ("__kmp_još_ÿÎ:ƒÁ” T#%d\n", 
gtid
));

2297 
	gma¡”_th
 = 
__kmp_th»ads
[
gtid
];

2298 
	groÙ
 = 
ma¡”_th
->
th
.
th_roÙ
;

2299 
	g‹am
 = 
ma¡”_th
->
th
.
th_‹am
;

2300 
	g·»Á_‹am
 = 
‹am
->
t
.
t_·»Á
;

2302 
	gma¡”_th
->
	gth
.
	gth_id’t
 = 
loc
;

2304 #ià
OMPT_SUPPORT


2305 *
	g‹am_miüÙask
 = (*)
‹am
->
t
.
t_pkâ
;

2306 ià(
	gom±_’abËd
.
	g’abËd
) {

2307 
	gma¡”_th
->
	gth
.
	gom±_th»ad_šfo
.
	g¡©e
 = 
om±_¡©e_ov”h—d
;

2311 #ià
KMP_DEBUG


2312 ià(
	g__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
 && !
ex™_‹ams
) {

2313 
KA_TRACE
(20, ("__kmp_join_call: T#%d, oldeam = %p oldask_team = %p, "

2315 
__kmp_gtid_äom_th»ad
(
ma¡”_th
), 
‹am
,

2316 
‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
],

2317 
ma¡”_th
->
th
.
th_sk_‹am
));

2318 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_sk_‹am
 ==

2319 
‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
]);

2323 ià(
	g‹am
->
	gt
.
	gt_£rŸlized
) {

2324 ià(
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
) {

2326 
	gËv–
 = 
‹am
->
t
.
t_Ëv–
;

2327 
	gev–
 = 
ma¡”_th
->
th
.
th_‹ams_Ëv–
;

2328 ià(
	gËv–
 =ğ
ev–
) {

2331 
‹am
->
t
.
t_Ëv–
++;

2332 } ià(
	gËv–
 =ğ
ev–
 + 1) {

2336 
‹am
->
t
.
t_£rŸlized
++;

2339 
__kmpc_’d_£rŸlized_·¿Î–
(
loc
, 
gtid
);

2341 #ià
OMPT_SUPPORT


2342 ià(
	gom±_’abËd
.
	g’abËd
) {

2343 
__kmp_još_»¡Üe_¡©e
(
ma¡”_th
, 
·»Á_‹am
);

2350 
	gma¡”_aùive
 = 
‹am
->
t
.
t_ma¡”_aùive
;

2352 ià(!
	gex™_‹ams
) {

2355 
__kmp_š‹º®_još
(
loc
, 
gtid
, 
‹am
);

2357 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e
 =

2361 
KMP_MB
();

2363 #ià
OMPT_SUPPORT


2364 
om±_d©a_t
 *
	g·¿Î–_d©a
 = &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
);

2365 *
	gcod•Œ
 = 
‹am
->
t
.
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
;

2368 #ià
USE_ITT_BUILD


2369 ià(
	g__™t_¡ack_ÿÎ”_ü—‹_±r
) {

2370 
__kmp_™t_¡ack_ÿÎ”_de¡roy
(

2371 (
__™t_ÿÎ”
)
‹am
->
t


2372 .
t_¡ack_id
);

2376 ià(
	g‹am
->
	gt
.
	gt_aùive_Ëv–
 == 1 &&

2377 !
ma¡”_th
->
th
.
th_‹ams_miüÙask
) {

2378 
ma¡”_th
->
th
.
th_id’t
 = 
loc
;

2381 ià((
	g__™t_äame_subm™_v3_±r
 || 
	gKMP_ITT_DEBUG
) &&

2382 
	g__kmp_fÜkjoš_äames_mode
 == 3)

2383 
__kmp_™t_äame_subm™
(
gtid
, 
‹am
->
t
.
t_»giÚ_time
,

2384 
ma¡”_th
->
th
.
th_äame_time
, 0, 
loc
,

2385 
ma¡”_th
->
th
.
th_‹am_Åroc
, 1);

2386 ià((
	g__™t_äame_’d_v3_±r
 || 
	gKMP_ITT_DEBUG
) &&

2387 !
	g__kmp_fÜkjoš_äames_mode
 && 
	g__kmp_fÜkjoš_äames
)

2388 
__kmp_™t_»giÚ_jošed
(
gtid
);

2392 ià(
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
 && !
	gex™_‹ams
 &&

2393 
	g‹am
->
	gt
.
	gt_pkâ
 !ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
 &&

2394 
‹am
->
t
.
t_Ëv–
 =ğ
ma¡”_th
->
th
.
th_‹ams_Ëv–
 + 1) {

2398 #ià
OMPT_SUPPORT


2399 
om±_d©a_t
 
om±_·¿Î–_d©a
 = 
om±_d©a_nÚe
;

2400 ià(
	gom±_’abËd
.
	g’abËd
) {

2401 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

2402 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

2403 
	gom±_‹am_size
 = 
‹am
->
t
.
t_Åroc
;

2404 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

2405 
	gom±_scİe_’d
, 
	gNULL
, &(
	gsk_šfo
->
	gsk_d©a
), 
	gom±_‹am_size
,

2406 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
, 
	gom±_sk_im¶ic™
);

2408 
	gsk_šfo
->
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

2409 
	gsk_šfo
->
	gsk_d©a
 = 
om±_d©a_nÚe
;

2410 
	gom±_·¿Î–_d©a
 = *
OMPT_CUR_TEAM_DATA
(
ma¡”_th
);

2411 
__om±_lw_sk‹am_uÆšk
(
ma¡”_th
);

2415 
	g‹am
->
	gt
.
	gt_Ëv–
--;

2416 
	g‹am
->
	gt
.
	gt_aùive_Ëv–
--;

2417 
KMP_ATOMIC_DEC
(&
roÙ
->
r
.
r_š_·¿Î–
);

2423 ià(
	gma¡”_th
->
	gth
.
	gth_‹am_Åroc
 < ma¡”_th->th.
	gth_‹ams_size
.
	gÁh
) {

2424 
	gŞd_num
 = 
ma¡”_th
->
th
.
th_‹am_Åroc
;

2425 
	gÃw_num
 = 
ma¡”_th
->
th
.
th_‹ams_size
.
Áh
;

2426 
kmp_šfo_t
 **
	gÙh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

2427 
	g‹am
->
	gt
.
	gt_Åroc
 = 
Ãw_num
;

2428 
	gi
 = 0; i < 
	gŞd_num
; ++i) {

2429 
	gÙh”_th»ads
[
i
]->
	gth
.
	gth_‹am_Åroc
 = 
Ãw_num
;

2432 
	gi
 = 
Şd_num
; i < 
	gÃw_num
; ++i) {

2434 
KMP_DEBUG_ASSERT
(
Ùh”_th»ads
[
i
]);

2435 
kmp_b®ign_t
 *
	gb®ign
 = 
Ùh”_th»ads
[
i
]->
th
.
th_b¬
;

2436 
	gb
 = 0; b < 
	gbs_Ï¡_b¬r›r
; ++b) {

2437 
	gb®ign
[
b
].
	gbb
.
	gb_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_¬rived
;

2438 
KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !ğ
KMP_BARRIER_PARENT_FLAG
);

2439 #ià
USE_DEBUGGER


2440 
	gb®ign
[
b
].
	gbb
.
	gb_wÜk”_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_‹am_¬rived
;

2443 ià(
	g__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2445 
Ùh”_th»ads
[
i
]->
th
.
th_sk_¡©e
 = 
ma¡”_th
->th.th_task_state;

2450 #ià
OMPT_SUPPORT


2451 ià(
	gom±_’abËd
.
	g’abËd
) {

2452 
__kmp_još_om±
(
gtid
, 
ma¡”_th
, 
·»Á_‹am
, &
om±_·¿Î–_d©a
,

2453 
OMPT_INVOKER
(
fÜk_cÚ‹xt
è| 
om±_·¿Î–_‹am
, 
cod•Œ
);

2461 
	gma¡”_th
->
	gth
.
	gth_šfo
.
	gds
.
	gds_tid
 = 
‹am
->
t
.
t_ma¡”_tid
;

2462 
	gma¡”_th
->
	gth
.
	gth_loÿl
.
	gthis_cÚ¡ruù
 = 
‹am
->
t
.
t_ma¡”_this_cÚs
;

2464 
	gma¡”_th
->
	gth
.
	gth_di¥©ch
 = &
·»Á_‹am
->
t
.
t_di¥©ch
[
‹am
->t.
t_ma¡”_tid
];

2469 
__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

2471 ià(!
	gma¡”_th
->
	gth
.
	gth_‹ams_miüÙask
 ||

2472 
	g‹am
->
	gt
.
	gt_Ëv–
 > 
	gma¡”_th
->
	gth
.
	gth_‹ams_Ëv–
) {

2474 
KMP_ATOMIC_DEC
(&
roÙ
->
r
.
r_š_·¿Î–
);

2476 
KMP_DEBUG_ASSERT
(
roÙ
->
r
.
r_š_·¿Î–
 >= 0);

2478 #ià
OMPT_SUPPORT


2479 ià(
	gom±_’abËd
.
	g’abËd
) {

2480 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

2481 ià(
	gom±_’abËd
.
	gom±_ÿÎback_im¶ic™_sk
) {

2482 
	gæags
 = (
‹am_miüÙask
 =ğ(*)
__kmp_‹ams_ma¡”
)

2483 ? 
om±_sk_š™Ÿl


2484 : 
om±_sk_im¶ic™
;

2485 
	gom±_‹am_size
 = (
æags
 =ğ
om±_sk_š™Ÿl
è? 0 : 
‹am
->
t
.
t_Åroc
;

2486 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

2487 
	gom±_scİe_’d
, 
	gNULL
, &(
	gsk_šfo
->
	gsk_d©a
), 
	gom±_‹am_size
,

2488 
OMPT_CUR_TASK_INFO
(
ma¡”_th
)->
	gth»ad_num
, 
	gæags
);

2490 
	gsk_šfo
->
	gäame
.
	gex™_äame
 = 
om±_d©a_nÚe
;

2491 
	gsk_šfo
->
	gsk_d©a
 = 
om±_d©a_nÚe
;

2495 
KF_TRACE
(10, ("__kmp_join_call1: T#%d,his_thread=%peam=%p\n", 0,

2496 
ma¡”_th
, 
‹am
));

2497 
__kmp_pİ_cu¼’t_sk_äom_th»ad
(
ma¡”_th
);

2499 #ià
KMP_AFFINITY_SUPPORTED


2501 
	gma¡”_th
->
	gth
.
	gth_fœ¡_¶aû
 = 
‹am
->
t
.
t_fœ¡_¶aû
;

2502 
	gma¡”_th
->
	gth
.
	gth_Ï¡_¶aû
 = 
‹am
->
t
.
t_Ï¡_¶aû
;

2504 
	gma¡”_th
->
	gth
.
	gth_def_®loÿtÜ
 = 
‹am
->
t
.
t_def_®loÿtÜ
;

2506 
upd©eHWFPCÚŒŞ
(
‹am
);

2508 ià(
	groÙ
->
	gr
.
	gr_aùive
 !ğ
ma¡”_aùive
)

2509 
roÙ
->
r
.
r_aùive
 = 
ma¡”_aùive
;

2511 
__kmp_ä“_‹am
(
roÙ
, 
‹am
 
USE_NESTED_HOT_ARG
(

2512 
ma¡”_th
));

2519 
	gma¡”_th
->
	gth
.
	gth_‹am
 = 
·»Á_‹am
;

2520 
	gma¡”_th
->
	gth
.
	gth_‹am_Åroc
 = 
·»Á_‹am
->
t
.
t_Åroc
;

2521 
	gma¡”_th
->
	gth
.
	gth_‹am_ma¡”
 = 
·»Á_‹am
->
t
.
t_th»ads
[0];

2522 
	gma¡”_th
->
	gth
.
	gth_‹am_£rŸlized
 = 
·»Á_‹am
->
t
.
t_£rŸlized
;

2525 ià(
	g·»Á_‹am
->
	gt
.
	gt_£rŸlized
 &&

2526 
	g·»Á_‹am
 !ğ
ma¡”_th
->
th
.
th_£rŸl_‹am
 &&

2527 
·»Á_‹am
 !ğ
roÙ
->
r
.
r_roÙ_‹am
) {

2528 
__kmp_ä“_‹am
(
roÙ
,

2529 
ma¡”_th
->
th
.
th_£rŸl_‹am
 
USE_NESTED_HOT_ARG
(
NULL
));

2530 
	gma¡”_th
->
	gth
.
	gth_£rŸl_‹am
 = 
·»Á_‹am
;

2533 ià(
	g__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2534 ià(
ma¡”_th
->
th
.
th_sk_¡©e_tİ
 >

2536 
KMP_DEBUG_ASSERT
(
ma¡”_th
->
th
.
th_sk_¡©e_memo_¡ack
);

2538 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_memo_¡ack
[
ma¡”_th
->
th
.
th_sk_¡©e_tİ
] =

2539 
ma¡”_th
->
th
.
th_sk_¡©e
;

2540 --
	gma¡”_th
->
	gth
.
	gth_sk_¡©e_tİ
;

2542 
	gma¡”_th
->
	gth
.
	gth_sk_¡©e
 =

2543 
ma¡”_th
->
th


2544 .
th_sk_¡©e_memo_¡ack
[
ma¡”_th
->
th
.
th_sk_¡©e_tİ
];

2547 
	gma¡”_th
->
	gth
.
	gth_sk_‹am
 =

2548 
·»Á_‹am
->
t
.
t_sk_‹am
[
ma¡”_th
->
th
.
th_sk_¡©e
];

2549 
KA_TRACE
(20,

2551 
__kmp_gtid_äom_th»ad
(
ma¡”_th
), ma¡”_th->
th
.
th_sk_‹am
,

2552 
·»Á_‹am
));

2558 
	gma¡”_th
->
	gth
.
	gth_cu¼’t_sk
->
	gtd_æags
.
	gexecutšg
 = 1;

2560 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

2562 #ià
OMPT_SUPPORT


2563 
	gæags
 =

2564 
OMPT_INVOKER
(
fÜk_cÚ‹xt
) |

2565 ((
‹am_miüÙask
 =ğ(*)
__kmp_‹ams_ma¡”
è? 
om±_·¿Î–_Ëague


2566 : 
om±_·¿Î–_‹am
);

2567 ià(
	gom±_’abËd
.
	g’abËd
) {

2568 
__kmp_još_om±
(
gtid
, 
ma¡”_th
, 
·»Á_‹am
, 
·¿Î–_d©a
, 
æags
,

2569 
cod•Œ
);

2573 
KMP_MB
();

2574 
KA_TRACE
(20, ("__kmp_još_ÿÎ:ƒx™ T#%d\n", 
gtid
));

2579 
	$__kmp_§ve_š‹º®_cÚŒŞs
(
kmp_šfo_t
 *
th»ad
) {

2581 ià(
th»ad
->
th
.
th_‹am
 !ğth»ad->th.
th_£rŸl_‹am
) {

2584 ià(
th»ad
->
th
.
th_‹am
->
t
.
t_£rŸlized
 > 1) {

2585 
push
 = 0;

2587 ià(
th»ad
->
th
.
th_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 =ğ
NULL
) {

2588 
push
 = 1;

2590 ià(
th»ad
->
th
.
th_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
->
£rŸl_Ã¡šg_Ëv–
 !=

2591 
th»ad
->
th
.
th_‹am
->
t
.
t_£rŸlized
) {

2592 
push
 = 1;

2595 ià(
push
) {

2596 
kmp_š‹º®_cÚŒŞ_t
 *
cÚŒŞ
 =

2597 (
kmp_š‹º®_cÚŒŞ_t
 *)
	`__kmp_®loÿ‹
(

2598 (
kmp_š‹º®_cÚŒŞ_t
));

2600 
	`cİy_icvs
(
cÚŒŞ
, &
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
);

2602 
cÚŒŞ
->
£rŸl_Ã¡šg_Ëv–
 = 
th»ad
->
th
.
th_‹am
->
t
.
t_£rŸlized
;

2604 
cÚŒŞ
->
Ãxt
 = 
th»ad
->
th
.
th_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
;

2605 
th»ad
->
th
.
th_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 = 
cÚŒŞ
;

2608 
	}
}

2611 
	$__kmp_£t_num_th»ads
(
Ãw_Áh
, 
gtid
) {

2612 
kmp_šfo_t
 *
th»ad
;

2613 
kmp_roÙ_t
 *
roÙ
;

2615 
	`KF_TRACE
(10, ("__kmp_£t_num_th»ads:‚ew __kmp_Áh = %d\n", 
Ãw_Áh
));

2616 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2618 ià(
Ãw_Áh
 < 1)

2619 
Ãw_Áh
 = 1;

2620 ià(
Ãw_Áh
 > 
__kmp_max_Áh
)

2621 
Ãw_Áh
 = 
__kmp_max_Áh
;

2623 
	`KMP_COUNT_VALUE
(
OMP_£t_numth»ads
, 
Ãw_Áh
);

2624 
th»ad
 = 
__kmp_th»ads
[
gtid
];

2625 ià(
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
 =ğ
Ãw_Áh
)

2628 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

2630 
	`£t__Åroc
(
th»ad
, 
Ãw_Áh
);

2635 
roÙ
 = 
th»ad
->
th
.
th_roÙ
;

2636 ià(
__kmp_š™_·¿Î–
 && (!
roÙ
->
r
.
r_aùive
) &&

2637 (
roÙ
->
r
.
r_hÙ_‹am
->
t
.
t_Åroc
 > 
Ãw_Áh
)

2638 #ià
KMP_NESTED_HOT_TEAMS


2639 && 
__kmp_hÙ_‹ams_max_Ëv–
 && !
__kmp_hÙ_‹ams_mode


2642 
kmp_‹am_t
 *
hÙ_‹am
 = 
roÙ
->
r
.
r_hÙ_‹am
;

2643 
f
;

2645 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

2648 
f
 = 
Ãw_Áh
; f < 
hÙ_‹am
->
t
.
t_Åroc
; f++) {

2649 
	`KMP_DEBUG_ASSERT
(
hÙ_‹am
->
t
.
t_th»ads
[
f
] !ğ
NULL
);

2650 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2653 
hÙ_‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_sk_‹am
 = 
NULL
;

2655 
	`__kmp_ä“_th»ad
(
hÙ_‹am
->
t
.
t_th»ads
[
f
]);

2656 
hÙ_‹am
->
t
.
t_th»ads
[
f
] = 
NULL
;

2658 
hÙ_‹am
->
t
.
t_Åroc
 = 
Ãw_Áh
;

2659 #ià
KMP_NESTED_HOT_TEAMS


2660 ià(
th»ad
->
th
.
th_hÙ_‹ams
) {

2661 
	`KMP_DEBUG_ASSERT
(
hÙ_‹am
 =ğ
th»ad
->
th
.
th_hÙ_‹ams
[0].hot_team);

2662 
th»ad
->
th
.
th_hÙ_‹ams
[0].
hÙ_‹am_Áh
 = 
Ãw_Áh
;

2666 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

2669 
f
 = 0; f < 
Ãw_Áh
; f++) {

2670 
	`KMP_DEBUG_ASSERT
(
hÙ_‹am
->
t
.
t_th»ads
[
f
] !ğ
NULL
);

2671 
hÙ_‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_‹am_Åroc
 = 
Ãw_Áh
;

2674 
hÙ_‹am
->
t
.
t_size_chªged
 = -1;

2676 
	}
}

2679 
	$__kmp_£t_max_aùive_Ëv–s
(
gtid
, 
max_aùive_Ëv–s
) {

2680 
kmp_šfo_t
 *
th»ad
;

2682 
	`KF_TRACE
(10, ("__kmp_set_max_active_levels:‚ew max_active_levels forhread "

2684 
gtid
, 
max_aùive_Ëv–s
));

2685 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2688 ià(
max_aùive_Ëv–s
 < 0) {

2689 
	`KMP_WARNING
(
AùiveLev–sNeg©ive
, 
max_aùive_Ëv–s
);

2694 
	`KF_TRACE
(10, ("__kmp_set_max_active_levels:he call is ignored:‚ew "

2696 
gtid
, 
max_aùive_Ëv–s
));

2699 ià(
max_aùive_Ëv–s
 <ğ
KMP_MAX_ACTIVE_LEVELS_LIMIT
) {

2704 
	`KMP_WARNING
(
AùiveLev–sExûedLim™
, 
max_aùive_Ëv–s
,

2705 
KMP_MAX_ACTIVE_LEVELS_LIMIT
);

2706 
max_aùive_Ëv–s
 = 
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

2712 
	`KF_TRACE
(10, ("__kmp_set_max_active_levels:‡fter validation:‚ew "

2714 
gtid
, 
max_aùive_Ëv–s
));

2716 
th»ad
 = 
__kmp_th»ads
[
gtid
];

2718 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

2720 
	`£t__max_aùive_Ëv–s
(
th»ad
, 
max_aùive_Ëv–s
);

2721 
	}
}

2724 
	$__kmp_g‘_max_aùive_Ëv–s
(
gtid
) {

2725 
kmp_šfo_t
 *
th»ad
;

2727 
	`KF_TRACE
(10, ("__kmp_g‘_max_aùive_Ëv–s:h»ad %d\n", 
gtid
));

2728 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2730 
th»ad
 = 
__kmp_th»ads
[
gtid
];

2731 
	`KMP_DEBUG_ASSERT
(
th»ad
->
th
.
th_cu¼’t_sk
);

2732 
	`KF_TRACE
(10, ("__kmp_get_max_active_levels:hread %d, curtask=%p, "

2734 
gtid
, 
th»ad
->
th
.
th_cu¼’t_sk
,

2735 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
));

2736  
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
max_aùive_Ëv–s
;

2737 
	}
}

2739 
KMP_BUILD_ASSERT
((
kmp_sched_t
) == ());

2740 
KMP_BUILD_ASSERT
((
sched_ty³
) == ());

2743 
	$__kmp_£t_scheduË
(
gtid
, 
kmp_sched_t
 
kšd
, 
chunk
) {

2744 
kmp_šfo_t
 *
th»ad
;

2745 
kmp_sched_t
 
Üig_kšd
;

2748 
	`KF_TRACE
(10, ("__kmp_set_schedule:‚ew schedule forhread %d = (%d, %d)\n",

2749 
gtid
, ()
kšd
, 
chunk
));

2750 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2756 
Üig_kšd
 = 
kšd
;

2757 
kšd
 = 
	`__kmp_sched_w™hout_mods
(kind);

2759 ià(
kšd
 <ğ
kmp_sched_low”
 || kšd >ğ
kmp_sched_uµ”
 ||

2760 (
kšd
 <ğ
kmp_sched_low”_ext
 && kšd >ğ
kmp_sched_uµ”_¡d
)) {

2762 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
ScheduËKšdOutOfRªge
, 
kšd
),

2763 
	`KMP_HNT
(
DeçuÉScheduËKšdU£d
, "static,‚o chunk"),

2764 
__kmp_msg_nuÎ
);

2765 
kšd
 = 
kmp_sched_deçuÉ
;

2766 
chunk
 = 0;

2769 
th»ad
 = 
__kmp_th»ads
[
gtid
];

2771 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

2773 ià(
kšd
 < 
kmp_sched_uµ”_¡d
) {

2774 ià(
kšd
 =ğ
kmp_sched_¡©ic
 && 
chunk
 < 
KMP_DEFAULT_CHUNK
) {

2777 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
r_sched_ty³
 = 
kmp_sch_¡©ic
;

2779 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
r_sched_ty³
 =

2780 
__kmp_sch_m­
[
kšd
 - 
kmp_sched_low”
 - 1];

2785 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
r_sched_ty³
 =

2786 
__kmp_sch_m­
[
kšd
 - 
kmp_sched_low”_ext
 + 
kmp_sched_uµ”_¡d
 -

2787 
kmp_sched_low”
 - 2];

2789 
	`__kmp_sched_­¶y_mods_štkšd
(

2790 
Üig_kšd
, &(
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
r_sched_ty³
));

2791 ià(
kšd
 =ğ
kmp_sched_auto
 || 
chunk
 < 1) {

2793 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
chunk
 = 
KMP_DEFAULT_CHUNK
;

2795 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
chunk
 = chunk;

2797 
	}
}

2800 
	$__kmp_g‘_scheduË
(
gtid
, 
kmp_sched_t
 *
kšd
, *
chunk
) {

2801 
kmp_šfo_t
 *
th»ad
;

2802 
sched_ty³
 
th_ty³
;

2804 
	`KF_TRACE
(10, ("__kmp_g‘_scheduË:h»ad %d\n", 
gtid
));

2805 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2807 
th»ad
 = 
__kmp_th»ads
[
gtid
];

2809 
th_ty³
 = 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.
r_sched_ty³
;

2810 
	`SCHEDULE_WITHOUT_MODIFIERS
(
th_ty³
)) {

2811 
kmp_sch_¡©ic
:

2812 
kmp_sch_¡©ic_g»edy
:

2813 
kmp_sch_¡©ic_b®ªûd
:

2814 *
kšd
 = 
kmp_sched_¡©ic
;

2815 
	`__kmp_sched_­¶y_mods_¡dkšd
(
kšd
, 
th_ty³
);

2816 *
chunk
 = 0;

2818 
kmp_sch_¡©ic_chunked
:

2819 *
kšd
 = 
kmp_sched_¡©ic
;

2821 
kmp_sch_dyÇmic_chunked
:

2822 *
kšd
 = 
kmp_sched_dyÇmic
;

2824 
kmp_sch_guided_chunked
:

2825 
kmp_sch_guided_™”©ive_chunked
:

2826 
kmp_sch_guided_ª®ytiÿl_chunked
:

2827 *
kšd
 = 
kmp_sched_guided
;

2829 
kmp_sch_auto
:

2830 *
kšd
 = 
kmp_sched_auto
;

2832 
kmp_sch_Œ­ezoid®
:

2833 *
kšd
 = 
kmp_sched_Œ­ezoid®
;

2835 #ià
KMP_STATIC_STEAL_ENABLED


2836 
kmp_sch_¡©ic_¡—l
:

2837 *
kšd
 = 
kmp_sched_¡©ic_¡—l
;

2841 
	`KMP_FATAL
(
UnknownSchedulšgTy³
, 
th_ty³
);

2844 
	`__kmp_sched_­¶y_mods_¡dkšd
(
kšd
, 
th_ty³
);

2845 *
chunk
 = 
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
sched
.chunk;

2846 
	}
}

2848 
	$__kmp_g‘_ªû¡Ü_th»ad_num
(
gtid
, 
Ëv–
) {

2850 
ii
, 
dd
;

2851 
kmp_‹am_t
 *
‹am
;

2852 
kmp_šfo_t
 *
thr
;

2854 
	`KF_TRACE
(10, ("__kmp_g‘_ªû¡Ü_th»ad_num:h»ad %d %d\n", 
gtid
, 
Ëv–
));

2855 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2858 ià(
Ëv–
 == 0)

2860 ià(
Ëv–
 < 0)

2862 
thr
 = 
__kmp_th»ads
[
gtid
];

2863 
‹am
 = 
thr
->
th
.
th_‹am
;

2864 
ii
 = 
‹am
->
t
.
t_Ëv–
;

2865 ià(
Ëv–
 > 
ii
)

2868 ià(
thr
->
th
.
th_‹ams_miüÙask
) {

2870 
ev–
 = 
thr
->
th
.
th_‹ams_Ëv–
;

2871 ià(
Ëv–
 <=

2872 
ev–
) {

2873 
	`KMP_DEBUG_ASSERT
(
ii
 >ğ
ev–
);

2876 ià(
ii
 =ğ
ev–
) {

2877 
ii
 += 2;

2879 
ii
++;

2884 ià(
ii
 =ğ
Ëv–
)

2885  
	`__kmp_tid_äom_gtid
(
gtid
);

2887 
dd
 = 
‹am
->
t
.
t_£rŸlized
;

2888 
Ëv–
++;

2889 
ii
 > 
Ëv–
) {

2890 
dd
 = 
‹am
->
t
.
t_£rŸlized
; (dd > 0è&& (
ii
 > 
Ëv–
); dd--, ii--) {

2892 ià((
‹am
->
t
.
t_£rŸlized
è&& (!
dd
)) {

2893 
‹am
 =—m->
t
.
t_·»Á
;

2896 ià(
ii
 > 
Ëv–
) {

2897 
‹am
 =—m->
t
.
t_·»Á
;

2898 
dd
 = 
‹am
->
t
.
t_£rŸlized
;

2899 
ii
--;

2903  (
dd
 > 1è? (0è: (
‹am
->
t
.
t_ma¡”_tid
);

2904 
	}
}

2906 
	$__kmp_g‘_‹am_size
(
gtid
, 
Ëv–
) {

2908 
ii
, 
dd
;

2909 
kmp_‹am_t
 *
‹am
;

2910 
kmp_šfo_t
 *
thr
;

2912 
	`KF_TRACE
(10, ("__kmp_g‘_‹am_size:h»ad %d %d\n", 
gtid
, 
Ëv–
));

2913 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

2916 ià(
Ëv–
 == 0)

2918 ià(
Ëv–
 < 0)

2920 
thr
 = 
__kmp_th»ads
[
gtid
];

2921 
‹am
 = 
thr
->
th
.
th_‹am
;

2922 
ii
 = 
‹am
->
t
.
t_Ëv–
;

2923 ià(
Ëv–
 > 
ii
)

2926 ià(
thr
->
th
.
th_‹ams_miüÙask
) {

2928 
ev–
 = 
thr
->
th
.
th_‹ams_Ëv–
;

2929 ià(
Ëv–
 <=

2930 
ev–
) {

2931 
	`KMP_DEBUG_ASSERT
(
ii
 >ğ
ev–
);

2934 ià(
ii
 =ğ
ev–
) {

2935 
ii
 += 2;

2937 
ii
++;

2942 
ii
 > 
Ëv–
) {

2943 
dd
 = 
‹am
->
t
.
t_£rŸlized
; (dd > 0è&& (
ii
 > 
Ëv–
); dd--, ii--) {

2945 ià(
‹am
->
t
.
t_£rŸlized
 && (!
dd
)) {

2946 
‹am
 =—m->
t
.
t_·»Á
;

2949 ià(
ii
 > 
Ëv–
) {

2950 
‹am
 =—m->
t
.
t_·»Á
;

2951 
ii
--;

2955  
‹am
->
t
.
t_Åroc
;

2956 
	}
}

2958 
kmp_r_sched_t
 
	$__kmp_g‘_scheduË_glob®
() {

2963 
kmp_r_sched_t
 
r_sched
;

2969 
sched_ty³
 
s
 = 
	`SCHEDULE_WITHOUT_MODIFIERS
(
__kmp_sched
);

2970 
sched_ty³
 
sched_modif›rs
 = 
	`SCHEDULE_GET_MODIFIERS
(
__kmp_sched
);

2971 ià(
s
 =ğ
kmp_sch_¡©ic
) {

2973 
r_sched
.
r_sched_ty³
 = 
__kmp_¡©ic
;

2974 } ià(
s
 =ğ
kmp_sch_guided_chunked
) {

2976 
r_sched
.
r_sched_ty³
 = 
__kmp_guided
;

2978 
r_sched
.
r_sched_ty³
 = 
__kmp_sched
;

2980 
	`SCHEDULE_SET_MODIFIERS
(
r_sched
.
r_sched_ty³
, 
sched_modif›rs
);

2982 ià(
__kmp_chunk
 < 
KMP_DEFAULT_CHUNK
) {

2984 
r_sched
.
chunk
 = 
KMP_DEFAULT_CHUNK
;

2986 
r_sched
.
chunk
 = 
__kmp_chunk
;

2989  
r_sched
;

2990 
	}
}

2994 
	$__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
kmp_‹am_t
 *
‹am
, 
»®loc
) {

2996 
	`KMP_DEBUG_ASSERT
(
‹am
);

2997 ià(!
»®loc
 || 
¬gc
 > 
‹am
->
t
.
t_max_¬gc
) {

2999 
	`KA_TRACE
(100, ("__kmp_alloc_argv_entries:eam %d:‚eededƒntries=%d, "

3001 
‹am
->
t
.
t_id
, 
¬gc
, (
»®loc
è?—m->t.
t_max_¬gc
 : 0));

3003 ià(
»®loc
 && 
‹am
->
t
.
t_¬gv
 !ğ&‹am->t.
t_šlše_¬gv
[0])

3004 
	`__kmp_ä“
((*)
‹am
->
t
.
t_¬gv
);

3006 ià(
¬gc
 <ğ
KMP_INLINE_ARGV_ENTRIES
) {

3008 
‹am
->
t
.
t_max_¬gc
 = 
KMP_INLINE_ARGV_ENTRIES
;

3009 
	`KA_TRACE
(100, ("__kmp_alloc_argv_entries:eam %d: inline‡llocate %d "

3011 
‹am
->
t
.
t_id
,—m->t.
t_max_¬gc
));

3012 
‹am
->
t
.
t_¬gv
 = &‹am->t.
t_šlše_¬gv
[0];

3013 ià(
__kmp_¡Üage_m­
) {

3014 
	`__kmp_´št_¡Üage_m­_gtid
(

3015 -1, &
‹am
->
t
.
t_šlše_¬gv
[0],

3016 &
‹am
->
t
.
t_šlše_¬gv
[
KMP_INLINE_ARGV_ENTRIES
],

3017 ((*è* 
KMP_INLINE_ARGV_ENTRIES
), "team_%d.t_inline_argv",

3018 
‹am
->
t
.
t_id
);

3022 
‹am
->
t
.
t_max_¬gc
 = (
¬gc
 <ğ(
KMP_MIN_MALLOC_ARGV_ENTRIES
 >> 1))

3023 ? 
KMP_MIN_MALLOC_ARGV_ENTRIES


3024 : 2 * 
¬gc
;

3025 
	`KA_TRACE
(100, ("__kmp_alloc_argv_entries:eam %d: dynamic‡llocate %d "

3027 
‹am
->
t
.
t_id
,—m->t.
t_max_¬gc
));

3028 
‹am
->
t
.
t_¬gv
 =

3029 (**)
	`__kmp_·ge_®loÿ‹
((*è* 
‹am
->
t
.
t_max_¬gc
);

3030 ià(
__kmp_¡Üage_m­
) {

3031 
	`__kmp_´št_¡Üage_m­_gtid
(-1, &
‹am
->
t
.
t_¬gv
[0],

3032 &
‹am
->
t
.
t_¬gv
[‹am->t.
t_max_¬gc
],

3033 (*è* 
‹am
->
t
.
t_max_¬gc
,

3034 "‹am_%d.t_¬gv", 
‹am
->
t
.
t_id
);

3038 
	}
}

3040 
	$__kmp_®loÿ‹_‹am_¬¿ys
(
kmp_‹am_t
 *
‹am
, 
max_Áh
) {

3041 
i
;

3042 
num_di¥_buff
 = 
max_Áh
 > 1 ? 
__kmp_di¥©ch_num_bufãrs
 : 2;

3043 
‹am
->
t
.
t_th»ads
 =

3044 (
kmp_šfo_t
 **)
	`__kmp_®loÿ‹
((kmp_šfo_ˆ*è* 
max_Áh
);

3045 
‹am
->
t
.
t_di¥_bufãr
 = (
di¥©ch_sh¬ed_šfo_t
 *)
	`__kmp_®loÿ‹
(

3046 (
di¥©ch_sh¬ed_šfo_t
è* 
num_di¥_buff
);

3047 
‹am
->
t
.
t_di¥©ch
 =

3048 (
kmp_di¥_t
 *)
	`__kmp_®loÿ‹
((kmp_di¥_tè* 
max_Áh
);

3049 
‹am
->
t
.
t_im¶ic™_sk_skd©a
 =

3050 (
kmp_skd©a_t
 *)
	`__kmp_®loÿ‹
((kmp_skd©a_tè* 
max_Áh
);

3051 
‹am
->
t
.
t_max_Åroc
 = 
max_Áh
;

3054 
i
 = 0; i < 
num_di¥_buff
; ++i) {

3055 
‹am
->
t
.
t_di¥_bufãr
[
i
].
bufãr_šdex
 = i;

3056 
‹am
->
t
.
t_di¥_bufãr
[
i
].
dßüoss_buf_idx
 = i;

3058 
	}
}

3060 
	$__kmp_ä“_‹am_¬¿ys
(
kmp_‹am_t
 *
‹am
) {

3062 
i
;

3063 
i
 = 0; i < 
‹am
->
t
.
t_max_Åroc
; ++i) {

3064 ià(
‹am
->
t
.
t_di¥©ch
[
i
].
th_di¥_bufãr
 !ğ
NULL
) {

3065 
	`__kmp_ä“
(
‹am
->
t
.
t_di¥©ch
[
i
].
th_di¥_bufãr
);

3066 
‹am
->
t
.
t_di¥©ch
[
i
].
th_di¥_bufãr
 = 
NULL
;

3069 #ià
KMP_USE_HIER_SCHED


3070 
	`__kmp_di¥©ch_ä“_h›¿rch›s
(
‹am
);

3072 
	`__kmp_ä“
(
‹am
->
t
.
t_th»ads
);

3073 
	`__kmp_ä“
(
‹am
->
t
.
t_di¥_bufãr
);

3074 
	`__kmp_ä“
(
‹am
->
t
.
t_di¥©ch
);

3075 
	`__kmp_ä“
(
‹am
->
t
.
t_im¶ic™_sk_skd©a
);

3076 
‹am
->
t
.
t_th»ads
 = 
NULL
;

3077 
‹am
->
t
.
t_di¥_bufãr
 = 
NULL
;

3078 
‹am
->
t
.
t_di¥©ch
 = 
NULL
;

3079 
‹am
->
t
.
t_im¶ic™_sk_skd©a
 = 0;

3080 
	}
}

3082 
	$__kmp_»®loÿ‹_‹am_¬¿ys
(
kmp_‹am_t
 *
‹am
, 
max_Áh
) {

3083 
kmp_šfo_t
 **
ŞdTh»ads
 = 
‹am
->
t
.
t_th»ads
;

3085 
	`__kmp_ä“
(
‹am
->
t
.
t_di¥_bufãr
);

3086 
	`__kmp_ä“
(
‹am
->
t
.
t_di¥©ch
);

3087 
	`__kmp_ä“
(
‹am
->
t
.
t_im¶ic™_sk_skd©a
);

3088 
	`__kmp_®loÿ‹_‹am_¬¿ys
(
‹am
, 
max_Áh
);

3090 
	`KMP_MEMCPY
(
‹am
->
t
.
t_th»ads
, 
ŞdTh»ads
,

3091 
‹am
->
t
.
t_Åroc
 * (
kmp_šfo_t
 *));

3093 
	`__kmp_ä“
(
ŞdTh»ads
);

3094 
	}
}

3096 
kmp_š‹º®_cÚŒŞ_t
 
	$__kmp_g‘_glob®_icvs
() {

3098 
kmp_r_sched_t
 
r_sched
 =

3099 
	`__kmp_g‘_scheduË_glob®
();

3101 
	`KMP_DEBUG_ASSERT
(
__kmp_Ã¡ed_´oc_bšd
.
u£d
 > 0);

3103 
kmp_š‹º®_cÚŒŞ_t
 
g_icvs
 = {

3105 (
kmp_št8
)
__kmp_glob®
.
g
.
g_dyÇmic
,

3107 (
kmp_št8
)
__kmp_’v_blocktime
,

3109 
__kmp_dæt_blocktime
,

3110 #ià
KMP_USE_MONITOR


3111 
__kmp_bt_š‹rv®s
,

3114 
__kmp_dæt_‹am_Áh
,

3117 
__kmp_cg_max_Áh
,

3118 
__kmp_dæt_max_aùive_Ëv–s
,

3120 
r_sched
,

3122 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0],

3123 
__kmp_deçuÉ_deviû
,

3124 
NULL


3127  
g_icvs
;

3128 
	}
}

3130 
kmp_š‹º®_cÚŒŞ_t
 
	$__kmp_g‘_x_glob®_icvs
(cÚ¡ 
kmp_‹am_t
 *
‹am
) {

3132 
kmp_š‹º®_cÚŒŞ_t
 
gx_icvs
;

3133 
gx_icvs
.
£rŸl_Ã¡šg_Ëv–
 =

3135 
	`cİy_icvs
(&
gx_icvs
, &
‹am
->
t
.
t_th»ads
[0]->
th
.
th_cu¼’t_sk
->
td_icvs
);

3136 
gx_icvs
.
Ãxt
 = 
NULL
;

3138  
gx_icvs
;

3139 
	}
}

3141 
	$__kmp_š™Ÿlize_roÙ
(
kmp_roÙ_t
 *
roÙ
) {

3142 
f
;

3143 
kmp_‹am_t
 *
roÙ_‹am
;

3144 
kmp_‹am_t
 *
hÙ_‹am
;

3145 
hÙ_‹am_max_Áh
;

3146 
kmp_r_sched_t
 
r_sched
 =

3147 
	`__kmp_g‘_scheduË_glob®
();

3148 
kmp_š‹º®_cÚŒŞ_t
 
r_icvs
 = 
	`__kmp_g‘_glob®_icvs
();

3149 
	`KMP_DEBUG_ASSERT
(
roÙ
);

3150 
	`KMP_ASSERT
(!
roÙ
->
r
.
r_begš
);

3153 
	`__kmp_š™_lock
(&
roÙ
->
r
.
r_begš_lock
);

3154 
roÙ
->
r
.
r_begš
 = 
FALSE
;

3155 
roÙ
->
r
.
r_aùive
 = 
FALSE
;

3156 
roÙ
->
r
.
r_š_·¿Î–
 = 0;

3157 
roÙ
->
r
.
r_blocktime
 = 
__kmp_dæt_blocktime
;

3161 
	`KF_TRACE
(10, ("__kmp_initialize_root: before„oot_team\n"));

3163 
roÙ_‹am
 =

3164 
	`__kmp_®loÿ‹_‹am
(
roÙ
,

3167 #ià
OMPT_SUPPORT


3168 
om±_d©a_nÚe
,

3170 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0], &
r_icvs
,

3172 
	`USE_NESTED_HOT_ARG
(
NULL
)

3174 #ià
USE_DEBUGGER


3177 
	`TCW_SYNC_PTR
(
roÙ_‹am
->
t
.
t_pkâ
, (
miüÙask_t
)(~0));

3180 
	`KF_TRACE
(10, ("__kmp_š™Ÿlize_roÙ:‡á”„oÙ_‹am = %p\n", 
roÙ_‹am
));

3182 
roÙ
->
r
.
r_roÙ_‹am
 = 
roÙ_‹am
;

3183 
roÙ_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 = 
NULL
;

3186 
roÙ_‹am
->
t
.
t_th»ads
[0] = 
NULL
;

3187 
roÙ_‹am
->
t
.
t_Åroc
 = 1;

3188 
roÙ_‹am
->
t
.
t_£rŸlized
 = 1;

3190 
roÙ_‹am
->
t
.
t_sched
.
sched
 = 
r_sched
.sched;

3191 
	`KA_TRACE
(

3194 
roÙ_‹am
->
t
.
t_id
, 
KMP_INIT_BARRIER_STATE
, KMP_INIT_BARRIER_STATE));

3198 
	`KF_TRACE
(10, ("__kmp_initialize_root: before hot_team\n"));

3200 
hÙ_‹am
 =

3201 
	`__kmp_®loÿ‹_‹am
(
roÙ
,

3203 
__kmp_dæt_‹am_Áh_ub
 * 2,

3204 #ià
OMPT_SUPPORT


3205 
om±_d©a_nÚe
,

3207 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0], &
r_icvs
,

3209 
	`USE_NESTED_HOT_ARG
(
NULL
)

3211 
	`KF_TRACE
(10, ("__kmp_š™Ÿlize_roÙ:‡á” hÙ_‹am = %p\n", 
hÙ_‹am
));

3213 
roÙ
->
r
.
r_hÙ_‹am
 = 
hÙ_‹am
;

3214 
roÙ_‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 = 
NULL
;

3217 
hÙ_‹am
->
t
.
t_·»Á
 = 
roÙ_‹am
;

3220 
hÙ_‹am_max_Áh
 = 
hÙ_‹am
->
t
.
t_max_Åroc
;

3221 
f
 = 0; f < 
hÙ_‹am_max_Áh
; ++f) {

3222 
hÙ_‹am
->
t
.
t_th»ads
[
f
] = 
NULL
;

3224 
hÙ_‹am
->
t
.
t_Åroc
 = 1;

3226 
hÙ_‹am
->
t
.
t_sched
.
sched
 = 
r_sched
.sched;

3227 
hÙ_‹am
->
t
.
t_size_chªged
 = 0;

3228 
	}
}

3230 #ifdeà
KMP_DEBUG


3232 
	skmp_‹am_li¡_™em
 {

3233 
kmp_‹am_p
 cÚ¡ *
	m’Œy
;

3234 
kmp_‹am_li¡_™em
 *
	mÃxt
;

3235 } 
	tkmp_‹am_li¡_™em_t
;

3236 
kmp_‹am_li¡_™em_t
 *
	tkmp_‹am_li¡_t
;

3238 
	$__kmp_´št_¡ruùu»_‹am_accum
(

3239 
kmp_‹am_li¡_t
 
li¡
,

3240 
kmp_‹am_p
 cÚ¡ *
‹am


3248 
kmp_‹am_li¡_t
 
l
;

3250 
	`KMP_DEBUG_ASSERT
(
li¡
 !ğ
NULL
);

3251 ià(
‹am
 =ğ
NULL
) {

3255 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
‹am
->
t
.
t_·»Á
);

3256 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
‹am
->
t
.
t_Ãxt_poŞ
);

3259 
l
 = 
li¡
;

3260 
l
->
Ãxt
 !ğ
NULL
 &&†->
’Œy
 !ğ
‹am
) {

3261 
l
 =†->
Ãxt
;

3263 ià(
l
->
Ãxt
 !ğ
NULL
) {

3268 
l
 = 
li¡
;

3269 
l
->
Ãxt
 !ğ
NULL
 &&†->
’Œy
->
t
.
t_id
 <ğ
‹am
->t.t_id) {

3270 
l
 =†->
Ãxt
;

3275 
kmp_‹am_li¡_™em_t
 *
™em
 = (kmp_‹am_li¡_™em_ˆ*)
	`KMP_INTERNAL_MALLOC
(

3276 (
kmp_‹am_li¡_™em_t
));

3277 *
™em
 = *
l
;

3278 
l
->
’Œy
 = 
‹am
;

3279 
l
->
Ãxt
 = 
™em
;

3281 
	}
}

3283 
	$__kmp_´št_¡ruùu»_‹am
(cÚ¡ *
t™Ë
, 
kmp_‹am_p
 cÚ¡ *
‹am


3286 
	`__kmp_´štf
("%s", 
t™Ë
);

3287 ià(
‹am
 !ğ
NULL
) {

3288 
	`__kmp_´štf
("%2x %p\n", 
‹am
->
t
.
t_id
,eam);

3290 
	`__kmp_´štf
(" - (nil)\n");

3292 
	}
}

3294 
	$__kmp_´št_¡ruùu»_th»ad
(cÚ¡ *
t™Ë
,

3295 
kmp_šfo_p
 cÚ¡ *
th»ad
) {

3296 
	`__kmp_´štf
("%s", 
t™Ë
);

3297 ià(
th»ad
 !ğ
NULL
) {

3298 
	`__kmp_´štf
("%2d %p\n", 
th»ad
->
th
.
th_šfo
.
ds
.
ds_gtid
,hread);

3300 
	`__kmp_´štf
(" - (nil)\n");

3302 
	}
}

3304 
	$__kmp_´št_¡ruùu»
() {

3306 
kmp_‹am_li¡_t
 
li¡
;

3309 
li¡
 =

3310 (
kmp_‹am_li¡_™em_t
 *)
	`KMP_INTERNAL_MALLOC
((kmp_team_list_item_t));

3311 
li¡
->
’Œy
 = 
NULL
;

3312 
li¡
->
Ãxt
 = 
NULL
;

3314 
	`__kmp_´štf
("\n------------------------------\nGlobal Thread "

3317 
gtid
;

3318 
gtid
 = 0; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid) {

3319 
	`__kmp_´štf
("%2d", 
gtid
);

3320 ià(
__kmp_th»ads
 !ğ
NULL
) {

3321 
	`__kmp_´štf
(" %p", 
__kmp_th»ads
[
gtid
]);

3323 ià(
__kmp_roÙ
 !ğ
NULL
) {

3324 
	`__kmp_´štf
(" %p", 
__kmp_roÙ
[
gtid
]);

3326 
	`__kmp_´štf
("\n");

3331 
	`__kmp_´štf
("\n------------------------------\nThreads\n--------------------"

3333 ià(
__kmp_th»ads
 !ğ
NULL
) {

3334 
gtid
;

3335 
gtid
 = 0; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid) {

3336 
kmp_šfo_t
 cÚ¡ *
th»ad
 = 
__kmp_th»ads
[
gtid
];

3337 ià(
th»ad
 !ğ
NULL
) {

3338 
	`__kmp_´štf
("GTID %2d %p:\n", 
gtid
, 
th»ad
);

3339 
	`__kmp_´štf
(" Ou¸RoÙ: %p\n", 
th»ad
->
th
.
th_roÙ
);

3340 
	`__kmp_´št_¡ruùu»_‹am
(" Ou¸T—m: ", 
th»ad
->
th
.
th_‹am
);

3341 
	`__kmp_´št_¡ruùu»_‹am
(" Serial Team: ",

3342 
th»ad
->
th
.
th_£rŸl_‹am
);

3343 
	`__kmp_´štf
(" Th»ads: %2d\n", 
th»ad
->
th
.
th_‹am_Åroc
);

3344 
	`__kmp_´št_¡ruùu»_th»ad
(" Master: ",

3345 
th»ad
->
th
.
th_‹am_ma¡”
);

3346 
	`__kmp_´štf
(" S”Ÿlized?: %2d\n", 
th»ad
->
th
.
th_‹am_£rŸlized
);

3347 
	`__kmp_´štf
(" S‘ NProc: %2d\n", 
th»ad
->
th
.
th_£t_Åroc
);

3348 
	`__kmp_´štf
(" S‘ ProøBšd: %2d\n", 
th»ad
->
th
.
th_£t_´oc_bšd
);

3349 
	`__kmp_´št_¡ruùu»_th»ad
(" Next in…ool: ",

3350 
th»ad
->
th
.
th_Ãxt_poŞ
);

3351 
	`__kmp_´štf
("\n");

3352 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
th»ad
->
th
.
th_‹am
);

3353 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
th»ad
->
th
.
th_£rŸl_‹am
);

3357 
	`__kmp_´štf
("Threads‡rray is‚ot‡llocated.\n");

3361 
	`__kmp_´štf
("\n------------------------------\nUbers\n----------------------"

3363 ià(
__kmp_roÙ
 !ğ
NULL
) {

3364 
gtid
;

3365 
gtid
 = 0; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid) {

3366 
kmp_roÙ_t
 cÚ¡ *
roÙ
 = 
__kmp_roÙ
[
gtid
];

3367 ià(
roÙ
 !ğ
NULL
) {

3368 
	`__kmp_´štf
("GTID %2d %p:\n", 
gtid
, 
roÙ
);

3369 
	`__kmp_´št_¡ruùu»_‹am
(" RoÙ T—m: ", 
roÙ
->
r
.
r_roÙ_‹am
);

3370 
	`__kmp_´št_¡ruùu»_‹am
(" HÙ T—m: ", 
roÙ
->
r
.
r_hÙ_‹am
);

3371 
	`__kmp_´št_¡ruùu»_th»ad
(" Uber Thread: ",

3372 
roÙ
->
r
.
r_ub”_th»ad
);

3373 
	`__kmp_´štf
(" Aùive?: %2d\n", 
roÙ
->
r
.
r_aùive
);

3374 
	`__kmp_´štf
(" In Parallel: %2d\n",

3375 
	`KMP_ATOMIC_LD_RLX
(&
roÙ
->
r
.
r_š_·¿Î–
));

3376 
	`__kmp_´štf
("\n");

3377 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
roÙ
->
r
.
r_roÙ_‹am
);

3378 
	`__kmp_´št_¡ruùu»_‹am_accum
(
li¡
, 
roÙ
->
r
.
r_hÙ_‹am
);

3382 
	`__kmp_´štf
("Ubers‡rray is‚ot‡llocated.\n");

3385 
	`__kmp_´štf
("\n------------------------------\nTeams\n----------------------"

3387 
li¡
->
Ãxt
 !ğ
NULL
) {

3388 
kmp_‹am_p
 cÚ¡ *
‹am
 = 
li¡
->
’Œy
;

3389 
i
;

3390 
	`__kmp_´štf
("T—m %2x %p:\n", 
‹am
->
t
.
t_id
,eam);

3391 
	`__kmp_´št_¡ruùu»_‹am
(" P¬’ˆT—m: ", 
‹am
->
t
.
t_·»Á
);

3392 
	`__kmp_´štf
(" Ma¡” TID: %2d\n", 
‹am
->
t
.
t_ma¡”_tid
);

3393 
	`__kmp_´štf
(" Maxh»ads: %2d\n", 
‹am
->
t
.
t_max_Åroc
);

3394 
	`__kmp_´štf
(" Lev– oà£rŸl: %2d\n", 
‹am
->
t
.
t_£rŸlized
);

3395 
	`__kmp_´štf
(" Numb”h»ads: %2d\n", 
‹am
->
t
.
t_Åroc
);

3396 
i
 = 0; i < 
‹am
->
t
.
t_Åroc
; ++i) {

3397 
	`__kmp_´štf
(" Th»ad %2d: ", 
i
);

3398 
	`__kmp_´št_¡ruùu»_th»ad
("", 
‹am
->
t
.
t_th»ads
[
i
]);

3400 
	`__kmp_´št_¡ruùu»_‹am
(" Nexˆš…oŞ: ", 
‹am
->
t
.
t_Ãxt_poŞ
);

3401 
	`__kmp_´štf
("\n");

3402 
li¡
 =†i¡->
Ãxt
;

3406 
	`__kmp_´štf
("\n------------------------------\nPools\n----------------------"

3408 
	`__kmp_´št_¡ruùu»_th»ad
("Thread…ool: ",

3409 
	`CCAST
(
kmp_šfo_t
 *, 
__kmp_th»ad_poŞ
));

3410 
	`__kmp_´št_¡ruùu»_‹am
("Team…ool: ",

3411 
	`CCAST
(
kmp_‹am_t
 *, 
__kmp_‹am_poŞ
));

3412 
	`__kmp_´štf
("\n");

3415 
li¡
 !ğ
NULL
) {

3416 
kmp_‹am_li¡_™em_t
 *
™em
 = 
li¡
;

3417 
li¡
 =†i¡->
Ãxt
;

3418 
	`KMP_INTERNAL_FREE
(
™em
);

3420 
	}
}

3427 cÚ¡ 
	g__kmp_´imes
[] = {

3442 
	$__kmp_g‘_¿ndom
(
kmp_šfo_t
 *
th»ad
) {

3443 
x
 = 
th»ad
->
th
.
th_x
;

3444 
r
 = 
x
 >> 16;

3446 
th»ad
->
th
.
th_x
 = 
x
 *h»ad->th.
th_a
 + 1;

3448 
	`KA_TRACE
(30, ("__kmp_get_random: THREAD: %d, RETURN: %u\n",

3449 
th»ad
->
th
.
th_šfo
.
ds
.
ds_tid
, 
r
));

3451  
r
;

3452 
	}
}

3455 
	$__kmp_š™_¿ndom
(
kmp_šfo_t
 *
th»ad
) {

3456 
£ed
 = 
th»ad
->
th
.
th_šfo
.
ds
.
ds_tid
;

3458 
th»ad
->
th
.
th_a
 =

3459 
__kmp_´imes
[
£ed
 % ((__kmp_primes) / (__kmp_primes[0]))];

3460 
th»ad
->
th
.
th_x
 = (
£ed
 + 1è*h»ad->th.
th_a
 + 1;

3461 
	`KA_TRACE
(30,

3462 ("__kmp_š™_¿ndom: THREAD: %u; A: %u\n", 
£ed
, 
th»ad
->
th
.
th_a
));

3463 
	}
}

3465 #ià
KMP_OS_WINDOWS


3468 
	$__kmp_»şaim_d—d_roÙs
() {

3469 
i
, 
r
 = 0;

3471 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; ++i) {

3472 ià(
	`KMP_UBER_GTID
(
i
) &&

3473 !
	`__kmp_¡l_ruÂšg
((
kmp_šfo_t
 *)
	`TCR_SYNC_PTR
(
__kmp_th»ads
[
i
])) &&

3474 !
__kmp_roÙ
[
i
]

3475 ->
r
.
r_aùive
) {

3476 
r
 +ğ
	`__kmp_uÄegi¡”_roÙ_Ùh”_th»ad
(
i
);

3479  
r
;

3480 
	}
}

3501 
	$__kmp_ex·nd_th»ads
(
nN“d
) {

3502 
added
 = 0;

3503 
mšimumRequœedC­ac™y
;

3504 
ÃwC­ac™y
;

3505 
kmp_šfo_t
 **
ÃwTh»ads
;

3506 
kmp_roÙ_t
 **
ÃwRoÙ
;

3512 #ià
KMP_OS_WINDOWS
 && !
KMP_DYNAMIC_LIB


3515 
added
 = 
	`__kmp_»şaim_d—d_roÙs
();

3517 ià(
nN“d
) {

3518 
nN“d
 -ğ
added
;

3519 ià(
nN“d
 < 0)

3520 
nN“d
 = 0;

3523 ià(
nN“d
 <= 0)

3524  
added
;

3544 
	`KMP_DEBUG_ASSERT
(
__kmp_sys_max_Áh
 >ğ
__kmp_th»ads_ÿ·c™y
);

3547 ià(
__kmp_sys_max_Áh
 - 
__kmp_th»ads_ÿ·c™y
 < 
nN“d
) {

3549  
added
;

3551 
mšimumRequœedC­ac™y
 = 
__kmp_th»ads_ÿ·c™y
 + 
nN“d
;

3553 
ÃwC­ac™y
 = 
__kmp_th»ads_ÿ·c™y
;

3555 
ÃwC­ac™y
 =‚ewC­ac™y <ğ(
__kmp_sys_max_Áh
 >> 1) ? (newCapacity << 1)

3556 : 
__kmp_sys_max_Áh
;

3557 } 
ÃwC­ac™y
 < 
mšimumRequœedC­ac™y
);

3558 
ÃwTh»ads
 = (
kmp_šfo_t
 **)
	`__kmp_®loÿ‹
(

3559 ((
kmp_šfo_t
 *è+ (
kmp_roÙ_t
 *)è* 
ÃwC­ac™y
 + 
CACHE_LINE
);

3560 
ÃwRoÙ
 =

3561 (
kmp_roÙ_t
 **)((*)
ÃwTh»ads
 + (
kmp_šfo_t
 *è* 
ÃwC­ac™y
);

3562 
	`KMP_MEMCPY
(
ÃwTh»ads
, 
__kmp_th»ads
,

3563 
__kmp_th»ads_ÿ·c™y
 * (
kmp_šfo_t
 *));

3564 
	`KMP_MEMCPY
(
ÃwRoÙ
, 
__kmp_roÙ
,

3565 
__kmp_th»ads_ÿ·c™y
 * (
kmp_roÙ_t
 *));

3567 
kmp_šfo_t
 **
‹mp_th»ads
 = 
__kmp_th»ads
;

3568 *(
kmp_šfo_t
 * *vŞ©*)&
__kmp_th»ads
 = 
ÃwTh»ads
;

3569 *(
kmp_roÙ_t
 * *vŞ©*)&
__kmp_roÙ
 = 
ÃwRoÙ
;

3570 
	`__kmp_ä“
(
‹mp_th»ads
);

3571 
added
 +ğ
ÃwC­ac™y
 - 
__kmp_th»ads_ÿ·c™y
;

3572 *(vŞ©*)&
__kmp_th»ads_ÿ·c™y
 = 
ÃwC­ac™y
;

3574 ià(
ÃwC­ac™y
 > 
__kmp__ÿ·c™y
) {

3575 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp__ÿched_lock
);

3576 ià(
__kmp__ÿched
 && 
ÃwC­ac™y
 > 
__kmp__ÿ·c™y
) {

3577 
	`__kmp_th»ad´iv©e_»size_ÿche
(
ÃwC­ac™y
);

3579 *(vŞ©*)&
__kmp__ÿ·c™y
 = 
ÃwC­ac™y
;

3581 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp__ÿched_lock
);

3584  
added
;

3585 
	}
}

3590 
	$__kmp_»gi¡”_roÙ
(
š™Ÿl_th»ad
) {

3591 
kmp_šfo_t
 *
roÙ_th»ad
;

3592 
kmp_roÙ_t
 *
roÙ
;

3593 
gtid
;

3594 
ÿ·c™y
;

3595 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

3596 
	`KA_TRACE
(20, ("__kmp_register_root:ƒntered\n"));

3597 
	`KMP_MB
();

3613 
ÿ·c™y
 = 
__kmp_th»ads_ÿ·c™y
;

3614 ià(!
š™Ÿl_th»ad
 && 
	`TCR_PTR
(
__kmp_th»ads
[0]è=ğ
NULL
) {

3615 --
ÿ·c™y
;

3619 ià(
__kmp_®l_Áh
 >ğ
ÿ·c™y
 && !
	`__kmp_ex·nd_th»ads
(1)) {

3620 ià(
__kmp__ÿched
) {

3621 
	`__kmp_çl
(
	`KMP_MSG
(
CªtRegi¡”NewTh»ad
),

3622 
	`KMP_HNT
(
S‘_ALL_THREADPRIVATE
, 
__kmp__ÿ·c™y
),

3623 
	`KMP_HNT
(
PossibËSy¡emLim™OnTh»ads
), 
__kmp_msg_nuÎ
);

3625 
	`__kmp_çl
(
	`KMP_MSG
(
CªtRegi¡”NewTh»ad
), 
	`KMP_HNT
(
Sy¡emLim™OnTh»ads
),

3626 
__kmp_msg_nuÎ
);

3633 
gtid
 = (
š™Ÿl_th»ad
 ? 0 : 1); 
	`TCR_PTR
(
__kmp_th»ads
[gtid]è!ğ
NULL
;

3634 
gtid
++)

3636 
	`KA_TRACE
(1,

3637 ("__kmp_»gi¡”_roÙ: found slÙ iÀth»ad ¬¿y: T#%d\n", 
gtid
));

3638 
	`KMP_ASSERT
(
gtid
 < 
__kmp_th»ads_ÿ·c™y
);

3641 
__kmp_®l_Áh
++;

3642 
	`TCW_4
(
__kmp_Áh
, __kmp_nth + 1);

3646 ià(
__kmp_adju¡_gtid_mode
) {

3647 ià(
__kmp_®l_Áh
 >ğ
__kmp_s_gtid_mš
) {

3648 ià(
	`TCR_4
(
__kmp_gtid_mode
) != 2) {

3649 
	`TCW_4
(
__kmp_gtid_mode
, 2);

3652 ià(
	`TCR_4
(
__kmp_gtid_mode
) != 1) {

3653 
	`TCW_4
(
__kmp_gtid_mode
, 1);

3658 #ifdeà
KMP_ADJUST_BLOCKTIME


3661 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

3662 ià(
__kmp_Áh
 > 
__kmp_ava_´oc
) {

3663 
__kmp_z”o_bt
 = 
TRUE
;

3669 ià(!(
roÙ
 = 
__kmp_roÙ
[
gtid
])) {

3670 
roÙ
 = 
__kmp_roÙ
[
gtid
] = (
kmp_roÙ_t
 *)
	`__kmp_®loÿ‹
((kmp_root_t));

3671 
	`KMP_DEBUG_ASSERT
(!
roÙ
->
r
.
r_roÙ_‹am
);

3674 #ià
KMP_STATS_ENABLED


3676 
__kmp_¡©s_th»ad_±r
 = 
__kmp_¡©s_li¡
->
	`push_back
(
gtid
);

3677 
__kmp_¡©s_th»ad_±r
->
	`¡¬tLiã
();

3678 
	`KMP_SET_THREAD_STATE
(
SERIAL_REGION
);

3679 
	`KMP_INIT_PARTITIONED_TIMERS
(
OMP_£rŸl
);

3681 
	`__kmp_š™Ÿlize_roÙ
(
roÙ
);

3684 ià(
roÙ
->
r
.
r_ub”_th»ad
) {

3685 
roÙ_th»ad
 = 
roÙ
->
r
.
r_ub”_th»ad
;

3687 
roÙ_th»ad
 = (
kmp_šfo_t
 *)
	`__kmp_®loÿ‹
((kmp_info_t));

3688 ià(
__kmp_¡Üage_m­
) {

3689 
	`__kmp_´št_th»ad_¡Üage_m­
(
roÙ_th»ad
, 
gtid
);

3691 
roÙ_th»ad
->
th
.
th_šfo
.
ds
.
ds_gtid
 = 
gtid
;

3692 #ià
OMPT_SUPPORT


3693 
roÙ_th»ad
->
th
.
om±_th»ad_šfo
.
th»ad_d©a
 = 
om±_d©a_nÚe
;

3695 
roÙ_th»ad
->
th
.
th_roÙ
 = 
roÙ
;

3696 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3697 
roÙ_th»ad
->
th
.
th_cÚs
 = 
	`__kmp_®loÿ‹_cÚs_¡ack
(
gtid
);

3699 #ià
USE_FAST_MEMORY


3700 
	`__kmp_š™Ÿlize_ç¡_memÜy
(
roÙ_th»ad
);

3703 #ià
KMP_USE_BGET


3704 
	`KMP_DEBUG_ASSERT
(
roÙ_th»ad
->
th
.
th_loÿl
.
bg‘_d©a
 =ğ
NULL
);

3705 
	`__kmp_š™Ÿlize_bg‘
(
roÙ_th»ad
);

3707 
	`__kmp_š™_¿ndom
(
roÙ_th»ad
);

3711 ià(!
roÙ_th»ad
->
th
.
th_£rŸl_‹am
) {

3712 
kmp_š‹º®_cÚŒŞ_t
 
r_icvs
 = 
	`__kmp_g‘_glob®_icvs
();

3713 
	`KF_TRACE
(10, ("__kmp_register_root: before serial_team\n"));

3714 
roÙ_th»ad
->
th
.
th_£rŸl_‹am
 = 
	`__kmp_®loÿ‹_‹am
(

3715 
roÙ
, 1, 1,

3716 #ià
OMPT_SUPPORT


3717 
om±_d©a_nÚe
,

3719 
´oc_bšd_deçuÉ
, &
r_icvs
, 0 
	`USE_NESTED_HOT_ARG
(
NULL
));

3721 
	`KMP_ASSERT
(
roÙ_th»ad
->
th
.
th_£rŸl_‹am
);

3722 
	`KF_TRACE
(10, ("__kmp_register_root:‡fter serial_team = %p\n",

3723 
roÙ_th»ad
->
th
.
th_£rŸl_‹am
));

3726 
	`TCW_SYNC_PTR
(
__kmp_th»ads
[
gtid
], 
roÙ_th»ad
);

3728 
roÙ
->
r
.
r_roÙ_‹am
->
t
.
t_th»ads
[0] = 
roÙ_th»ad
;

3729 
roÙ
->
r
.
r_hÙ_‹am
->
t
.
t_th»ads
[0] = 
roÙ_th»ad
;

3730 
roÙ_th»ad
->
th
.
th_£rŸl_‹am
->
t
.
t_th»ads
[0] =„oot_thread;

3732 
roÙ_th»ad
->
th
.
th_£rŸl_‹am
->
t
.
t_£rŸlized
 = 0;

3733 
roÙ
->
r
.
r_ub”_th»ad
 = 
roÙ_th»ad
;

3736 
	`__kmp_š™Ÿlize_šfo
(
roÙ_th»ad
, 
roÙ
->
r
.
r_roÙ_‹am
, 0, 
gtid
);

3737 
	`TCW_4
(
__kmp_š™_gtid
, 
TRUE
);

3740 
	`__kmp_gtid_£t_¥ecific
(
gtid
);

3742 #ià
USE_ITT_BUILD


3743 
	`__kmp_™t_th»ad_Çme
(
gtid
);

3746 #ifdeà
KMP_TDATA_GTID


3747 
__kmp_gtid
 = 
gtid
;

3749 
	`__kmp_ü—‹_wÜk”
(
gtid
, 
roÙ_th»ad
, 
__kmp_¡ksize
);

3750 
	`KMP_DEBUG_ASSERT
(
	`__kmp_gtid_g‘_¥ecific
(è=ğ
gtid
);

3752 
	`KA_TRACE
(20, ("__kmp_register_root: T#%d init T#%d(%d:%d)‡rrived: join=%u, "

3754 
gtid
, 
	`__kmp_gtid_äom_tid
(0, 
roÙ
->
r
.
r_hÙ_‹am
),

3755 
roÙ
->
r
.
r_hÙ_‹am
->
t
.
t_id
, 0, 
KMP_INIT_BARRIER_STATE
,

3756 
KMP_INIT_BARRIER_STATE
));

3758 
b
;

3759 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

3760 
roÙ_th»ad
->
th
.
th_b¬
[
b
].
bb
.
b_¬rived
 = 
KMP_INIT_BARRIER_STATE
;

3761 #ià
USE_DEBUGGER


3762 
roÙ_th»ad
->
th
.
th_b¬
[
b
].
bb
.
b_wÜk”_¬rived
 = 0;

3766 
	`KMP_DEBUG_ASSERT
(
roÙ
->
r
.
r_hÙ_‹am
->
t
.
t_b¬
[
bs_fÜkjoš_b¬r›r
].
b_¬rived
 ==

3767 
KMP_INIT_BARRIER_STATE
);

3769 #ià
KMP_AFFINITY_SUPPORTED


3770 
roÙ_th»ad
->
th
.
th_cu¼’t_¶aû
 = 
KMP_PLACE_UNDEFINED
;

3771 
roÙ_th»ad
->
th
.
th_Ãw_¶aû
 = 
KMP_PLACE_UNDEFINED
;

3772 
roÙ_th»ad
->
th
.
th_fœ¡_¶aû
 = 
KMP_PLACE_UNDEFINED
;

3773 
roÙ_th»ad
->
th
.
th_Ï¡_¶aû
 = 
KMP_PLACE_UNDEFINED
;

3774 ià(
	`TCR_4
(
__kmp_š™_middË
)) {

3775 
	`__kmp_affš™y_£t_š™_mask
(
gtid
, 
TRUE
);

3778 
roÙ_th»ad
->
th
.
th_def_®loÿtÜ
 = 
__kmp_def_®loÿtÜ
;

3779 
roÙ_th»ad
->
th
.
th_´ev_Ëv–
 = 0;

3780 
roÙ_th»ad
->
th
.
th_´ev_num_th»ads
 = 1;

3782 
kmp_cg_roÙ_t
 *
tmp
 = (kmp_cg_roÙ_ˆ*)
	`__kmp_®loÿ‹
((kmp_cg_root_t));

3783 
tmp
->
cg_roÙ
 = 
roÙ_th»ad
;

3784 
tmp
->
cg_th»ad_lim™
 = 
__kmp_cg_max_Áh
;

3785 
tmp
->
cg_Áh»ads
 = 1;

3786 
	`KA_TRACE
(100, ("__kmp_register_root: Thread %p created‚ode %p with"

3788 
roÙ_th»ad
, 
tmp
));

3789 
tmp
->
up
 = 
NULL
;

3790 
roÙ_th»ad
->
th
.
th_cg_roÙs
 = 
tmp
;

3792 
__kmp_roÙ_couÁ”
++;

3794 #ià
OMPT_SUPPORT


3795 ià(!
š™Ÿl_th»ad
 && 
om±_’abËd
.
’abËd
) {

3797 
kmp_šfo_t
 *
roÙ_th»ad
 = 
	`om±_g‘_th»ad
();

3799 
	`om±_£t_th»ad_¡©e
(
roÙ_th»ad
, 
om±_¡©e_ov”h—d
);

3801 ià(
om±_’abËd
.
om±_ÿÎback_th»ad_begš
) {

3802 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_th»ad_begš
)(

3803 
om±_th»ad_š™Ÿl
, 
	`__om±_g‘_th»ad_d©a_š‹º®
());

3805 
om±_d©a_t
 *
sk_d©a
;

3806 
om±_d©a_t
 *
·¿Î–_d©a
;

3807 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, &
·¿Î–_d©a
, NULL);

3808 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

3809 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

3810 
om±_scİe_begš
, 
·¿Î–_d©a
, 
sk_d©a
, 1, 1, 
om±_sk_š™Ÿl
);

3813 
	`om±_£t_th»ad_¡©e
(
roÙ_th»ad
, 
om±_¡©e_wÜk_£rŸl
);

3817 
	`KMP_MB
();

3818 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

3820  
gtid
;

3821 
	}
}

3823 #ià
KMP_NESTED_HOT_TEAMS


3824 
	$__kmp_ä“_hÙ_‹ams
(
kmp_roÙ_t
 *
roÙ
, 
kmp_šfo_t
 *
thr
, 
Ëv–
,

3825 cÚ¡ 
max_Ëv–
) {

3826 
i
, 
n
, 
Áh
;

3827 
kmp_hÙ_‹am_±r_t
 *
hÙ_‹ams
 = 
thr
->
th
.
th_hÙ_‹ams
;

3828 ià(!
hÙ_‹ams
 || !hÙ_‹ams[
Ëv–
].
hÙ_‹am
) {

3831 
	`KMP_DEBUG_ASSERT
(
Ëv–
 < 
max_Ëv–
);

3832 
kmp_‹am_t
 *
‹am
 = 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
;

3833 
Áh
 = 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
;

3834 
n
 = 
Áh
 - 1;

3835 ià(
Ëv–
 < 
max_Ëv–
 - 1) {

3836 
i
 = 0; i < 
Áh
; ++i) {

3837 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
i
];

3838 
n
 +ğ
	`__kmp_ä“_hÙ_‹ams
(
roÙ
, 
th
, 
Ëv–
 + 1, 
max_Ëv–
);

3839 ià(
i
 > 0 && 
th
->th.
th_hÙ_‹ams
) {

3840 
	`__kmp_ä“
(
th
->th.
th_hÙ_‹ams
);

3841 
th
->th.
th_hÙ_‹ams
 = 
NULL
;

3845 
	`__kmp_ä“_‹am
(
roÙ
, 
‹am
, 
NULL
);

3846  
n
;

3847 
	}
}

3852 
	$__kmp_»£t_roÙ
(
gtid
, 
kmp_roÙ_t
 *
roÙ
) {

3853 
kmp_‹am_t
 *
roÙ_‹am
 = 
roÙ
->
r
.
r_roÙ_‹am
;

3854 
kmp_‹am_t
 *
hÙ_‹am
 = 
roÙ
->
r
.
r_hÙ_‹am
;

3855 
n
 = 
hÙ_‹am
->
t
.
t_Åroc
;

3856 
i
;

3858 
	`KMP_DEBUG_ASSERT
(!
roÙ
->
r
.
r_aùive
);

3860 
roÙ
->
r
.
r_roÙ_‹am
 = 
NULL
;

3861 
roÙ
->
r
.
r_hÙ_‹am
 = 
NULL
;

3864 
	`__kmp_ä“_‹am
(
roÙ
, 
roÙ_‹am
 
	`USE_NESTED_HOT_ARG
(
NULL
));

3865 #ià
KMP_NESTED_HOT_TEAMS


3866 ià(
__kmp_hÙ_‹ams_max_Ëv–
 >

3868 
i
 = 0; i < 
hÙ_‹am
->
t
.
t_Åroc
; ++i) {

3869 
kmp_šfo_t
 *
th
 = 
hÙ_‹am
->
t
.
t_th»ads
[
i
];

3870 ià(
__kmp_hÙ_‹ams_max_Ëv–
 > 1) {

3871 
n
 +ğ
	`__kmp_ä“_hÙ_‹ams
(
roÙ
, 
th
, 1, 
__kmp_hÙ_‹ams_max_Ëv–
);

3873 ià(
th
->th.
th_hÙ_‹ams
) {

3874 
	`__kmp_ä“
(
th
->th.
th_hÙ_‹ams
);

3875 
th
->th.
th_hÙ_‹ams
 = 
NULL
;

3880 
	`__kmp_ä“_‹am
(
roÙ
, 
hÙ_‹am
 
	`USE_NESTED_HOT_ARG
(
NULL
));

3885 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

3886 
	`__kmp_wa™_to_uÄef_sk_‹ams
();

3889 #ià
KMP_OS_WINDOWS


3891 
	`KA_TRACE
(

3892 10, ("__kmp_»£t_roÙ: f»hªdË,h = %p, hªdË = %" 
KMP_UINTPTR_SPEC


3894 (
LPVOID
è& (
roÙ
->
r
.
r_ub”_th»ad
->
th
),

3895 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_šfo
.
ds
.
ds_th»ad
));

3896 
	`__kmp_ä“_hªdË
(
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_šfo
.
ds
.
ds_th»ad
);

3899 #ià
OMPT_SUPPORT


3900 
om±_d©a_t
 *
sk_d©a
;

3901 
om±_d©a_t
 *
·¿Î–_d©a
;

3902 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, &
·¿Î–_d©a
, NULL);

3903 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

3904 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

3905 
om±_scİe_’d
, 
·¿Î–_d©a
, 
sk_d©a
, 0, 1, 
om±_sk_š™Ÿl
);

3907 ià(
om±_’abËd
.
om±_ÿÎback_th»ad_’d
) {

3908 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_th»ad_’d
)(

3909 &(
roÙ
->
r
.
r_ub”_th»ad
->
th
.
om±_th»ad_šfo
.
th»ad_d©a
));

3913 
	`TCW_4
(
__kmp_Áh
,

3914 
__kmp_Áh
 - 1);

3915 
i
 = 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
->
cg_Áh»ads
--;

3916 
	`KA_TRACE
(100, ("__kmp_reset_root: Thread %p decrement cg_nthreads on‚ode %p"

3918 
roÙ
->
r
.
r_ub”_th»ad
,„oÙ->r.r_ub”_th»ad->
th
.
th_cg_roÙs
,

3919 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
->
cg_Áh»ads
));

3920 ià(
i
 == 1) {

3922 
	`KMP_DEBUG_ASSERT
(
roÙ
->
r
.
r_ub”_th»ad
 ==

3923 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
->
cg_roÙ
);

3924 
	`KMP_DEBUG_ASSERT
(
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
->
up
 =ğ
NULL
);

3925 
	`__kmp_ä“
(
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
);

3926 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_cg_roÙs
 = 
NULL
;

3928 
	`__kmp_»­_th»ad
(
roÙ
->
r
.
r_ub”_th»ad
, 1);

3932 
roÙ
->
r
.
r_ub”_th»ad
 = 
NULL
;

3934 
roÙ
->
r
.
r_begš
 = 
FALSE
;

3936  
n
;

3937 
	}
}

3939 
	$__kmp_uÄegi¡”_roÙ_cu¼’t_th»ad
(
gtid
) {

3940 
	`KA_TRACE
(1, ("__kmp_uÄegi¡”_roÙ_cu¼’t_th»ad:ƒÁ” T#%d\n", 
gtid
));

3944 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

3945 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
è|| !
__kmp_š™_£rŸl
) {

3946 
	`KC_TRACE
(10, ("__kmp_unregister_root_current_thread:‡lready finished, "

3948 
gtid
));

3949 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

3952 
kmp_roÙ_t
 *
roÙ
 = 
__kmp_roÙ
[
gtid
];

3954 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
 && __kmp_th»ads[
gtid
]);

3955 
	`KMP_ASSERT
(
	`KMP_UBER_GTID
(
gtid
));

3956 
	`KMP_ASSERT
(
roÙ
 =ğ
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
);

3957 
	`KMP_ASSERT
(
roÙ
->
r
.
r_aùive
 =ğ
FALSE
);

3959 
	`KMP_MB
();

3961 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

3962 
kmp_‹am_t
 *
‹am
 = 
th»ad
->
th
.
th_‹am
;

3963 
kmp_sk_‹am_t
 *
sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

3966 ià(
sk_‹am
 !ğ
NULL
 &&ask_‹am->
‰
.
‰_found_´oxy_sks
) {

3967 #ià
OMPT_SUPPORT


3969 
th»ad
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_undefšed
;

3971 
	`__kmp_sk_‹am_wa™
(
th»ad
, 
‹am
 
	`USE_ITT_BUILD_ARG
(
NULL
));

3974 
	`__kmp_»£t_roÙ
(
gtid
, 
roÙ
);

3977 
	`__kmp_gtid_£t_¥ecific
(
KMP_GTID_DNE
);

3978 #ifdeà
KMP_TDATA_GTID


3979 
__kmp_gtid
 = 
KMP_GTID_DNE
;

3982 
	`KMP_MB
();

3983 
	`KC_TRACE
(10,

3984 ("__kmp_uÄegi¡”_roÙ_cu¼’t_th»ad: T#%d uÄegi¡”ed\n", 
gtid
));

3986 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

3987 
	}
}

3989 #ià
KMP_OS_WINDOWS


3993 
	$__kmp_uÄegi¡”_roÙ_Ùh”_th»ad
(
gtid
) {

3994 
kmp_roÙ_t
 *
roÙ
 = 
__kmp_roÙ
[
gtid
];

3995 
r
;

3997 
	`KA_TRACE
(1, ("__kmp_uÄegi¡”_roÙ_Ùh”_th»ad:ƒÁ” T#%d\n", 
gtid
));

3998 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
 && __kmp_th»ads[
gtid
]);

3999 
	`KMP_ASSERT
(
	`KMP_UBER_GTID
(
gtid
));

4000 
	`KMP_ASSERT
(
roÙ
 =ğ
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
);

4001 
	`KMP_ASSERT
(
roÙ
->
r
.
r_aùive
 =ğ
FALSE
);

4003 
r
 = 
	`__kmp_»£t_roÙ
(
gtid
, 
roÙ
);

4004 
	`KC_TRACE
(10,

4005 ("__kmp_uÄegi¡”_roÙ_Ùh”_th»ad: T#%d uÄegi¡”ed\n", 
gtid
));

4006  
r
;

4007 
	}
}

4010 #ià
KMP_DEBUG


4011 
	$__kmp_sk_šfo
() {

4013 
kmp_št32
 
gtid
 = 
	`__kmp_’Œy_gtid
();

4014 
kmp_št32
 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

4015 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

4016 
kmp_‹am_t
 *
¡—m
 = 
this_thr
->
th
.
th_£rŸl_‹am
;

4017 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

4019 
	`__kmp_´štf
(

4022 
gtid
, 
tid
, 
this_thr
, 
‹am
, 
¡—m
,his_thr->
th
.
th_cu¼’t_sk
,

4023 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_·»Á
);

4024 
	}
}

4030 
	$__kmp_š™Ÿlize_šfo
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
,

4031 
tid
, 
gtid
) {

4035 
kmp_šfo_t
 *
ma¡”
 = 
‹am
->
t
.
t_th»ads
[0];

4036 
	`KMP_DEBUG_ASSERT
(
this_thr
 !ğ
NULL
);

4037 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_£rŸl_‹am
);

4038 
	`KMP_DEBUG_ASSERT
(
‹am
);

4039 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
);

4040 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥©ch
);

4041 
	`KMP_DEBUG_ASSERT
(
ma¡”
);

4042 
	`KMP_DEBUG_ASSERT
(
ma¡”
->
th
.
th_roÙ
);

4044 
	`KMP_MB
();

4046 
	`TCW_SYNC_PTR
(
this_thr
->
th
.
th_‹am
, 
‹am
);

4048 
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
 = 
tid
;

4049 
this_thr
->
th
.
th_£t_Åroc
 = 0;

4050 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
)

4053 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_NOT_SAFE_TO_REAP
;

4055 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_SAFE_TO_REAP
;

4056 
this_thr
->
th
.
th_£t_´oc_bšd
 = 
´oc_bšd_deçuÉ
;

4057 #ià
KMP_AFFINITY_SUPPORTED


4058 
this_thr
->
th
.
th_Ãw_¶aû
 =his_thr->th.
th_cu¼’t_¶aû
;

4060 
this_thr
->
th
.
th_roÙ
 = 
ma¡”
->th.th_root;

4063 
this_thr
->
th
.
th_‹am_Åroc
 = 
‹am
->
t
.
t_Åroc
;

4064 
this_thr
->
th
.
th_‹am_ma¡”
 = 
ma¡”
;

4065 
this_thr
->
th
.
th_‹am_£rŸlized
 = 
‹am
->
t
.
t_£rŸlized
;

4066 
	`TCW_PTR
(
this_thr
->
th
.
th_¦“p_loc
, 
NULL
);

4068 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_im¶ic™_sk_skd©a
);

4070 
	`KF_TRACE
(10, ("__kmp_initialize_info1: T#%d:%dhis_thread=%p curtask=%p\n",

4071 
tid
, 
gtid
, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
));

4073 
	`__kmp_š™_im¶ic™_sk
(
this_thr
->
th
.
th_‹am_ma¡”
->th.
th_id’t
,his_thr,

4074 
‹am
, 
tid
, 
TRUE
);

4076 
	`KF_TRACE
(10, ("__kmp_initialize_info2: T#%d:%dhis_thread=%p curtask=%p\n",

4077 
tid
, 
gtid
, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
));

4082 
this_thr
->
th
.
th_di¥©ch
 = &
‹am
->
t
.
t_di¥©ch
[
tid
];

4084 
this_thr
->
th
.
th_loÿl
.
this_cÚ¡ruù
 = 0;

4086 ià(!
this_thr
->
th
.
th_´i_commÚ
) {

4087 
this_thr
->
th
.
th_´i_commÚ
 =

4088 (
commÚ_bË
 *)
	`__kmp_®loÿ‹
((common_table));

4089 ià(
__kmp_¡Üage_m­
) {

4090 
	`__kmp_´št_¡Üage_m­_gtid
(

4091 
gtid
, 
this_thr
->
th
.
th_´i_commÚ
,his_thr->th.th_pri_common + 1,

4092 (
commÚ_bË
), "th_%d.th_´i_commÚ\n", 
gtid
);

4094 
this_thr
->
th
.
th_´i_h—d
 = 
NULL
;

4097 ià(
this_thr
 !ğ
ma¡”
 &&

4098 
this_thr
->
th
.
th_cg_roÙs
 !ğ
ma¡”
->th.th_cg_roots) {

4100 
	`KMP_DEBUG_ASSERT
(
ma¡”
->
th
.
th_cg_roÙs
);

4101 
kmp_cg_roÙ_t
 *
tmp
 = 
this_thr
->
th
.
th_cg_roÙs
;

4102 ià(
tmp
) {

4104 
i
 = 
tmp
->
cg_Áh»ads
--;

4105 
	`KA_TRACE
(100, ("__kmp_initialize_info: Thread %p decrement cg_nthreads"

4107 
this_thr
, 
tmp
,mp->
cg_roÙ
,mp->
cg_Áh»ads
));

4108 ià(
i
 == 1) {

4109 
	`__kmp_ä“
(
tmp
);

4112 
this_thr
->
th
.
th_cg_roÙs
 = 
ma¡”
->th.th_cg_roots;

4114 
this_thr
->
th
.
th_cg_roÙs
->
cg_Áh»ads
++;

4115 
	`KA_TRACE
(100, ("__kmp_initialize_info: Thread %p increment cg_nthreads on"

4117 
this_thr
,his_thr->
th
.
th_cg_roÙs
,

4118 
this_thr
->
th
.
th_cg_roÙs
->
cg_roÙ
,

4119 
this_thr
->
th
.
th_cg_roÙs
->
cg_Áh»ads
));

4120 
this_thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
 =

4121 
this_thr
->
th
.
th_cg_roÙs
->
cg_th»ad_lim™
;

4126 vŞ©
kmp_di¥_t
 *
di¥©ch
 = 
this_thr
->
th
.
th_di¥©ch
;

4128 
size_t
 
di¥_size
 =

4129 (
di¥©ch_´iv©e_šfo_t
) *

4130 (
‹am
->
t
.
t_max_Åroc
 =ğ1 ? 1 : 
__kmp_di¥©ch_num_bufãrs
);

4131 
	`KD_TRACE
(10, ("__kmp_š™Ÿlize_šfo: T#%d max_Åroc: %d\n", 
gtid
,

4132 
‹am
->
t
.
t_max_Åroc
));

4133 
	`KMP_ASSERT
(
di¥©ch
);

4134 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥©ch
);

4135 
	`KMP_DEBUG_ASSERT
(
di¥©ch
 =ğ&
‹am
->
t
.
t_di¥©ch
[
tid
]);

4137 
di¥©ch
->
th_di¥_šdex
 = 0;

4138 
di¥©ch
->
th_dßüoss_buf_idx
 = 0;

4139 ià(!
di¥©ch
->
th_di¥_bufãr
) {

4140 
di¥©ch
->
th_di¥_bufãr
 =

4141 (
di¥©ch_´iv©e_šfo_t
 *)
	`__kmp_®loÿ‹
(
di¥_size
);

4143 ià(
__kmp_¡Üage_m­
) {

4144 
	`__kmp_´št_¡Üage_m­_gtid
(

4145 
gtid
, &
di¥©ch
->
th_di¥_bufãr
[0],

4146 &
di¥©ch
->
th_di¥_bufãr
[
‹am
->
t
.
t_max_Åroc
 == 1

4148 : 
__kmp_di¥©ch_num_bufãrs
],

4149 
di¥_size
, "th_%d.th_dispatch.th_disp_buffer "

4151 
gtid
, 
‹am
->
t
.
t_id
, gtid);

4154 
	`mem£t
(&
di¥©ch
->
th_di¥_bufãr
[0], '\0', 
di¥_size
);

4157 
di¥©ch
->
th_di¥©ch_´_cu¼’t
 = 0;

4158 
di¥©ch
->
th_di¥©ch_sh_cu¼’t
 = 0;

4160 
di¥©ch
->
th_deo_fú
 = 0;

4161 
di¥©ch
->
th_dxo_fú
 = 0;

4164 
this_thr
->
th
.
th_Ãxt_poŞ
 = 
NULL
;

4166 ià(!
this_thr
->
th
.
th_sk_¡©e_memo_¡ack
) {

4167 
size_t
 
i
;

4168 
this_thr
->
th
.
th_sk_¡©e_memo_¡ack
 =

4169 (
kmp_ušt8
 *)
	`__kmp_®loÿ‹
(4 * (kmp_uint8));

4170 
this_thr
->
th
.
th_sk_¡©e_tİ
 = 0;

4171 
this_thr
->
th
.
th_sk_¡©e_¡ack_sz
 = 4;

4172 
i
 = 0; i < 
this_thr
->
th
.
th_sk_¡©e_¡ack_sz
;

4173 ++
i
)

4174 
this_thr
->
th
.
th_sk_¡©e_memo_¡ack
[
i
] = 0;

4177 
	`KMP_DEBUG_ASSERT
(!
this_thr
->
th
.
th_¥š_h”e
);

4178 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_Ãxt_wa™šg
 == 0);

4180 
	`KMP_MB
();

4181 
	}
}

4188 
kmp_šfo_t
 *
	$__kmp_®loÿ‹_th»ad
(
kmp_roÙ_t
 *
roÙ
, 
kmp_‹am_t
 *
‹am
,

4189 
Ãw_tid
) {

4190 
kmp_‹am_t
 *
£rŸl_‹am
;

4191 
kmp_šfo_t
 *
Ãw_thr
;

4192 
Ãw_gtid
;

4194 
	`KA_TRACE
(20, ("__kmp_®loÿ‹_th»ad: T#%d\n", 
	`__kmp_g‘_gtid
()));

4195 
	`KMP_DEBUG_ASSERT
(
roÙ
 && 
‹am
);

4196 #ià!
KMP_NESTED_HOT_TEAMS


4197 
	`KMP_DEBUG_ASSERT
(
	`KMP_MASTER_GTID
(
	`__kmp_g‘_gtid
()));

4199 
	`KMP_MB
();

4202 ià(
__kmp_th»ad_poŞ
) {

4203 
Ãw_thr
 = 
	`CCAST
(
kmp_šfo_t
 *, 
__kmp_th»ad_poŞ
);

4204 
__kmp_th»ad_poŞ
 = (vŞ©
kmp_šfo_t
 *)
Ãw_thr
->
th
.
th_Ãxt_poŞ
;

4205 ià(
Ãw_thr
 =ğ
__kmp_th»ad_poŞ_š£¹_±
) {

4206 
__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

4208 
	`TCW_4
(
Ãw_thr
->
th
.
th_š_poŞ
, 
FALSE
);

4209 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
Ãw_thr
);

4210 
	`__kmp_lock_su¥’d_mx
(
Ãw_thr
);

4211 ià(
Ãw_thr
->
th
.
th_aùive_š_poŞ
 =ğ
TRUE
) {

4212 
	`KMP_DEBUG_ASSERT
(
Ãw_thr
->
th
.
th_aùive
 =ğ
TRUE
);

4213 
	`KMP_ATOMIC_DEC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

4214 
Ãw_thr
->
th
.
th_aùive_š_poŞ
 = 
FALSE
;

4216 
	`__kmp_uÆock_su¥’d_mx
(
Ãw_thr
);

4218 
	`KA_TRACE
(20, ("__kmp_allocate_thread: T#%d usinghread T#%d\n",

4219 
	`__kmp_g‘_gtid
(), 
Ãw_thr
->
th
.
th_šfo
.
ds
.
ds_gtid
));

4220 
	`KMP_ASSERT
(!
Ãw_thr
->
th
.
th_‹am
);

4221 
	`KMP_DEBUG_ASSERT
(
__kmp_Áh
 < 
__kmp_th»ads_ÿ·c™y
);

4224 
	`__kmp_š™Ÿlize_šfo
(
Ãw_thr
, 
‹am
, 
Ãw_tid
,

4225 
Ãw_thr
->
th
.
th_šfo
.
ds
.
ds_gtid
);

4226 
	`KMP_DEBUG_ASSERT
(
Ãw_thr
->
th
.
th_£rŸl_‹am
);

4228 
	`TCW_4
(
__kmp_Áh
, __kmp_nth + 1);

4230 
Ãw_thr
->
th
.
th_sk_¡©e
 = 0;

4231 
Ãw_thr
->
th
.
th_sk_¡©e_tİ
 = 0;

4232 
Ãw_thr
->
th
.
th_sk_¡©e_¡ack_sz
 = 4;

4234 #ifdeà
KMP_ADJUST_BLOCKTIME


4237 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

4238 ià(
__kmp_Áh
 > 
__kmp_ava_´oc
) {

4239 
__kmp_z”o_bt
 = 
TRUE
;

4244 #ià
KMP_DEBUG


4247 
b
;

4248 
kmp_b®ign_t
 *
b®ign
 = 
Ãw_thr
->
th
.
th_b¬
;

4249 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b)

4250 
	`KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !ğ
KMP_BARRIER_PARENT_FLAG
);

4253 
	`KF_TRACE
(10, ("__kmp_allocate_thread: T#%d usinghread %p T#%d\n",

4254 
	`__kmp_g‘_gtid
(), 
Ãw_thr
,‚ew_thr->
th
.
th_šfo
.
ds
.
ds_gtid
));

4256 
	`KMP_MB
();

4257  
Ãw_thr
;

4261 
	`KMP_ASSERT
(
__kmp_Áh
 =ğ
__kmp_®l_Áh
);

4262 
	`KMP_ASSERT
(
__kmp_®l_Áh
 < 
__kmp_th»ads_ÿ·c™y
);

4264 #ià
KMP_USE_MONITOR


4267 ià(!
	`TCR_4
(
__kmp_š™_mÚ™Ü
)) {

4268 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

4269 ià(!
	`TCR_4
(
__kmp_š™_mÚ™Ü
)) {

4270 
	`KF_TRACE
(10, ("before __kmp_create_monitor\n"));

4271 
	`TCW_4
(
__kmp_š™_mÚ™Ü
, 1);

4272 
	`__kmp_ü—‹_mÚ™Ü
(&
__kmp_mÚ™Ü
);

4273 
	`KF_TRACE
(10, ("after __kmp_create_monitor\n"));

4274 #ià
KMP_OS_WINDOWS


4284 
	`TCR_4
(
__kmp_š™_mÚ™Ü
) < 2) {

4285 
	`KMP_YIELD
(
TRUE
);

4287 
	`KF_TRACE
(10, ("after monitorhread has started\n"));

4290 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

4294 
	`KMP_MB
();

4295 
Ãw_gtid
 = 1; 
	`TCR_PTR
(
__kmp_th»ads
[Ãw_gtid]è!ğ
NULL
; ++new_gtid) {

4296 
	`KMP_DEBUG_ASSERT
(
Ãw_gtid
 < 
__kmp_th»ads_ÿ·c™y
);

4300 
Ãw_thr
 = (
kmp_šfo_t
 *)
	`__kmp_®loÿ‹
((kmp_info_t));

4302 
	`TCW_SYNC_PTR
(
__kmp_th»ads
[
Ãw_gtid
], 
Ãw_thr
);

4304 ià(
__kmp_¡Üage_m­
) {

4305 
	`__kmp_´št_th»ad_¡Üage_m­
(
Ãw_thr
, 
Ãw_gtid
);

4310 
kmp_š‹º®_cÚŒŞ_t
 
r_icvs
 = 
	`__kmp_g‘_x_glob®_icvs
(
‹am
);

4311 
	`KF_TRACE
(10, ("__kmp_allocate_thread: beforeh_serial/serial_team\n"));

4312 
Ãw_thr
->
th
.
th_£rŸl_‹am
 = 
£rŸl_‹am
 =

4313 (
kmp_‹am_t
 *)
	`__kmp_®loÿ‹_‹am
(
roÙ
, 1, 1,

4314 #ià
OMPT_SUPPORT


4315 
om±_d©a_nÚe
,

4317 
´oc_bšd_deçuÉ
, &
r_icvs
,

4318 0 
	`USE_NESTED_HOT_ARG
(
NULL
));

4320 
	`KMP_ASSERT
(
£rŸl_‹am
);

4321 
£rŸl_‹am
->
t
.
t_£rŸlized
 = 0;

4323 
£rŸl_‹am
->
t
.
t_th»ads
[0] = 
Ãw_thr
;

4324 
	`KF_TRACE
(10,

4326 
Ãw_thr
));

4329 
	`__kmp_š™Ÿlize_šfo
(
Ãw_thr
, 
‹am
, 
Ãw_tid
, 
Ãw_gtid
);

4331 #ià
USE_FAST_MEMORY


4332 
	`__kmp_š™Ÿlize_ç¡_memÜy
(
Ãw_thr
);

4335 #ià
KMP_USE_BGET


4336 
	`KMP_DEBUG_ASSERT
(
Ãw_thr
->
th
.
th_loÿl
.
bg‘_d©a
 =ğ
NULL
);

4337 
	`__kmp_š™Ÿlize_bg‘
(
Ãw_thr
);

4340 
	`__kmp_š™_¿ndom
(
Ãw_thr
);

4343 
	`KA_TRACE
(20,

4345 
	`__kmp_g‘_gtid
(), 
KMP_INIT_BARRIER_STATE
, KMP_INIT_BARRIER_STATE));

4347 
b
;

4348 
kmp_b®ign_t
 *
b®ign
 = 
Ãw_thr
->
th
.
th_b¬
;

4349 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

4350 
b®ign
[
b
].
bb
.
b_go
 = 
KMP_INIT_BARRIER_STATE
;

4351 
b®ign
[
b
].
bb
.
‹am
 = 
NULL
;

4352 
b®ign
[
b
].
bb
.
wa™_æag
 = 
KMP_BARRIER_NOT_WAITING
;

4353 
b®ign
[
b
].
bb
.
u£_ÚcÜe_b¬r›r
 = 0;

4356 
Ãw_thr
->
th
.
th_¥š_h”e
 = 
FALSE
;

4357 
Ãw_thr
->
th
.
th_Ãxt_wa™šg
 = 0;

4358 #ià
KMP_OS_UNIX


4359 
Ãw_thr
->
th
.
th_blockšg
 = 
çl£
;

4362 #ià
KMP_AFFINITY_SUPPORTED


4363 
Ãw_thr
->
th
.
th_cu¼’t_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4364 
Ãw_thr
->
th
.
th_Ãw_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4365 
Ãw_thr
->
th
.
th_fœ¡_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4366 
Ãw_thr
->
th
.
th_Ï¡_¶aû
 = 
KMP_PLACE_UNDEFINED
;

4368 
Ãw_thr
->
th
.
th_def_®loÿtÜ
 = 
__kmp_def_®loÿtÜ
;

4369 
Ãw_thr
->
th
.
th_´ev_Ëv–
 = 0;

4370 
Ãw_thr
->
th
.
th_´ev_num_th»ads
 = 1;

4372 
	`TCW_4
(
Ãw_thr
->
th
.
th_š_poŞ
, 
FALSE
);

4373 
Ãw_thr
->
th
.
th_aùive_š_poŞ
 = 
FALSE
;

4374 
	`TCW_4
(
Ãw_thr
->
th
.
th_aùive
, 
TRUE
);

4377 
__kmp_®l_Áh
++;

4378 
__kmp_Áh
++;

4382 ià(
__kmp_adju¡_gtid_mode
) {

4383 ià(
__kmp_®l_Áh
 >ğ
__kmp_s_gtid_mš
) {

4384 ià(
	`TCR_4
(
__kmp_gtid_mode
) != 2) {

4385 
	`TCW_4
(
__kmp_gtid_mode
, 2);

4388 ià(
	`TCR_4
(
__kmp_gtid_mode
) != 1) {

4389 
	`TCW_4
(
__kmp_gtid_mode
, 1);

4394 #ifdeà
KMP_ADJUST_BLOCKTIME


4397 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

4398 ià(
__kmp_Áh
 > 
__kmp_ava_´oc
) {

4399 
__kmp_z”o_bt
 = 
TRUE
;

4405 
	`KF_TRACE
(

4406 10, ("__kmp_®loÿ‹_th»ad: befÜ__kmp_ü—‹_wÜk”: %p\n", 
Ãw_thr
));

4407 
	`__kmp_ü—‹_wÜk”
(
Ãw_gtid
, 
Ãw_thr
, 
__kmp_¡ksize
);

4408 
	`KF_TRACE
(10,

4409 ("__kmp_®loÿ‹_th»ad:‡á” __kmp_ü—‹_wÜk”: %p\n", 
Ãw_thr
));

4411 
	`KA_TRACE
(20, ("__kmp_®loÿ‹_th»ad: T#%d fÜked T#%d\n", 
	`__kmp_g‘_gtid
(),

4412 
Ãw_gtid
));

4413 
	`KMP_MB
();

4414  
Ãw_thr
;

4415 
	}
}

4422 
	$__kmp_»š™Ÿlize_‹am
(
kmp_‹am_t
 *
‹am
,

4423 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
,

4424 
id’t_t
 *
loc
) {

4425 
	`KF_TRACE
(10, ("__kmp_reinitialize_team:ƒnterhis_thread=%peam=%p\n",

4426 
‹am
->
t
.
t_th»ads
[0],eam));

4427 
	`KMP_DEBUG_ASSERT
(
‹am
 && 
Ãw_icvs
);

4428 
	`KMP_DEBUG_ASSERT
((!
	`TCR_4
(
__kmp_š™_·¿Î–
)è|| 
Ãw_icvs
->
Åroc
);

4429 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_id’t
, 
loc
);

4431 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_id
, 
	`KMP_GEN_TEAM_ID
());

4433 
	`__kmp_š™_im¶ic™_sk
(
loc
, 
‹am
->
t
.
t_th»ads
[0],—m, 0, 
FALSE
);

4434 
	`cİy_icvs
(&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_icvs
, 
Ãw_icvs
);

4436 
	`KF_TRACE
(10, ("__kmp_reinitialize_team:ƒxithis_thread=%peam=%p\n",

4437 
‹am
->
t
.
t_th»ads
[0],eam));

4438 
	}
}

4443 
	$__kmp_š™Ÿlize_‹am
(
kmp_‹am_t
 *
‹am
, 
Ãw_Åroc
,

4444 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
,

4445 
id’t_t
 *
loc
) {

4446 
	`KF_TRACE
(10, ("__kmp_š™Ÿlize_‹am:ƒÁ”:—m=%p\n", 
‹am
));

4449 
	`KMP_DEBUG_ASSERT
(
‹am
);

4450 
	`KMP_DEBUG_ASSERT
(
Ãw_Åroc
 <ğ
‹am
->
t
.
t_max_Åroc
);

4451 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
);

4452 
	`KMP_MB
();

4454 
‹am
->
t
.
t_ma¡”_tid
 = 0;

4456 
‹am
->
t
.
t_£rŸlized
 = 
Ãw_Åroc
 > 1 ? 0 : 1;

4457 
‹am
->
t
.
t_Åroc
 = 
Ãw_Åroc
;

4460 
‹am
->
t
.
t_Ãxt_poŞ
 = 
NULL
;

4464 
	`TCW_SYNC_PTR
(
‹am
->
t
.
t_pkâ
, 
NULL
);

4465 
‹am
->
t
.
t_švoke
 = 
NULL
;

4468 
‹am
->
t
.
t_sched
.
sched
 = 
Ãw_icvs
->sched.sched;

4470 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


4471 
‹am
->
t
.
t_å_cÚŒŞ_§ved
 = 
FALSE
;

4472 
‹am
->
t
.
t_x87_åu_cÚŒŞ_wÜd
 = 0;

4473 
‹am
->
t
.
t_mxc¤
 = 0;

4476 
‹am
->
t
.
t_cÚ¡ruù
 = 0;

4478 
‹am
->
t
.
t_Üd”ed
.
dt
.
t_v®ue
 = 0;

4479 
‹am
->
t
.
t_ma¡”_aùive
 = 
FALSE
;

4481 #ifdeà
KMP_DEBUG


4482 
‹am
->
t
.
t_cİy´iv_d©a
 = 
NULL
;

4484 #ià
KMP_OS_WINDOWS


4485 
‹am
->
t
.
t_cİyš_couÁ”
 = 0;

4488 
‹am
->
t
.
t_cÚŒŞ_¡ack_tİ
 = 
NULL
;

4490 
	`__kmp_»š™Ÿlize_‹am
(
‹am
, 
Ãw_icvs
, 
loc
);

4492 
	`KMP_MB
();

4493 
	`KF_TRACE
(10, ("__kmp_š™Ÿlize_‹am:ƒx™:—m=%p\n", 
‹am
));

4494 
	}
}

4496 #ià(
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
è&& 
KMP_AFFINITY_SUPPORTED


4499 
	$__kmp_£t_th»ad_affš™y_mask_fuÎ_tmp
(
kmp_affš_mask_t
 *
Şd_mask
) {

4500 ià(
	`KMP_AFFINITY_CAPABLE
()) {

4501 
¡©us
;

4502 ià(
Şd_mask
 !ğ
NULL
) {

4503 
¡©us
 = 
	`__kmp_g‘_sy¡em_affš™y
(
Şd_mask
, 
TRUE
);

4504 
”rÜ
 = 
”ºo
;

4505 ià(
¡©us
 != 0) {

4506 
	`__kmp_çl
(
	`KMP_MSG
(
ChªgeTh»adAffMaskE¼Ü
), 
	`KMP_ERR
(
”rÜ
),

4507 
__kmp_msg_nuÎ
);

4510 
	`__kmp_£t_sy¡em_affš™y
(
__kmp_affš_fuÎMask
, 
TRUE
);

4512 
	}
}

4515 #ià
KMP_AFFINITY_SUPPORTED


4521 
	$__kmp_·¹™iÚ_¶aûs
(
kmp_‹am_t
 *
‹am
, 
upd©e_ma¡”_Úly
) {

4523 
kmp_šfo_t
 *
ma¡”_th
 = 
‹am
->
t
.
t_th»ads
[0];

4524 
	`KMP_DEBUG_ASSERT
(
ma¡”_th
 !ğ
NULL
);

4525 
kmp_´oc_bšd_t
 
´oc_bšd
 = 
‹am
->
t
.
t_´oc_bšd
;

4526 
fœ¡_¶aû
 = 
ma¡”_th
->
th
.
th_fœ¡_¶aû
;

4527 
Ï¡_¶aû
 = 
ma¡”_th
->
th
.
th_Ï¡_¶aû
;

4528 
ma¡”s_¶aû
 = 
ma¡”_th
->
th
.
th_cu¼’t_¶aû
;

4529 
‹am
->
t
.
t_fœ¡_¶aû
 = 
fœ¡_¶aû
;

4530 
‹am
->
t
.
t_Ï¡_¶aû
 = 
Ï¡_¶aû
;

4532 
	`KA_TRACE
(20, ("__kmp_partition_places:ƒnter:…roc_bind = %d T#%d(%d:0) "

4534 
´oc_bšd
, 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[0]),

4535 
‹am
->
t
.
t_id
, 
ma¡”s_¶aû
, 
fœ¡_¶aû
, 
Ï¡_¶aû
));

4537 
´oc_bšd
) {

4539 
´oc_bšd_deçuÉ
:

4542 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_Åroc
 == 1);

4545 
´oc_bšd_ma¡”
: {

4546 
f
;

4547 
n_th
 = 
‹am
->
t
.
t_Åroc
;

4548 
f
 = 1; f < 
n_th
; f++) {

4549 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4550 
	`KMP_DEBUG_ASSERT
(
th
 !ğ
NULL
);

4551 
th
->th.
th_fœ¡_¶aû
 = 
fœ¡_¶aû
;

4552 
th
->th.
th_Ï¡_¶aû
 = 
Ï¡_¶aû
;

4553 
th
->th.
th_Ãw_¶aû
 = 
ma¡”s_¶aû
;

4554 ià(
__kmp_di¥Ïy_affš™y
 && 
ma¡”s_¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4555 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4556 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4559 
	`KA_TRACE
(100, ("__kmp_partition_places: master: T#%d(%d:%d)…lace %d "

4561 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),—m->t.
t_id
,

4562 
f
, 
ma¡”s_¶aû
, 
fœ¡_¶aû
, 
Ï¡_¶aû
));

4566 
´oc_bšd_şo£
: {

4567 
f
;

4568 
n_th
 = 
‹am
->
t
.
t_Åroc
;

4569 
n_¶aûs
;

4570 ià(
fœ¡_¶aû
 <ğ
Ï¡_¶aû
) {

4571 
n_¶aûs
 = 
Ï¡_¶aû
 - 
fœ¡_¶aû
 + 1;

4573 
n_¶aûs
 = 
__kmp_affš™y_num_masks
 - 
fœ¡_¶aû
 + 
Ï¡_¶aû
 + 1;

4575 ià(
n_th
 <ğ
n_¶aûs
) {

4576 
¶aû
 = 
ma¡”s_¶aû
;

4577 
f
 = 1; f < 
n_th
; f++) {

4578 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4579 
	`KMP_DEBUG_ASSERT
(
th
 !ğ
NULL
);

4581 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4582 
¶aû
 = 
fœ¡_¶aû
;

4583 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4584 
¶aû
 = 0;

4586 
¶aû
++;

4588 
th
->th.
th_fœ¡_¶aû
 = 
fœ¡_¶aû
;

4589 
th
->th.
th_Ï¡_¶aû
 = 
Ï¡_¶aû
;

4590 
th
->th.
th_Ãw_¶aû
 = 
¶aû
;

4591 ià(
__kmp_di¥Ïy_affš™y
 && 
¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4592 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4593 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4596 
	`KA_TRACE
(100, ("__kmp_partition_places: close: T#%d(%d:%d)…lace %d "

4598 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),

4599 
‹am
->
t
.
t_id
, 
f
, 
¶aû
, 
fœ¡_¶aû
, 
Ï¡_¶aû
));

4602 
S
, 
»m
, 
g­
, 
s_couÁ
;

4603 
S
 = 
n_th
 / 
n_¶aûs
;

4604 
s_couÁ
 = 0;

4605 
»m
 = 
n_th
 - (
S
 * 
n_¶aûs
);

4606 
g­
 = 
»m
 > 0 ? 
n_¶aûs
 /„em :‚_places;

4607 
¶aû
 = 
ma¡”s_¶aû
;

4608 
g­_ù
 = 
g­
;

4609 
f
 = 0; f < 
n_th
; f++) {

4610 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4611 
	`KMP_DEBUG_ASSERT
(
th
 !ğ
NULL
);

4613 
th
->th.
th_fœ¡_¶aû
 = 
fœ¡_¶aû
;

4614 
th
->th.
th_Ï¡_¶aû
 = 
Ï¡_¶aû
;

4615 
th
->th.
th_Ãw_¶aû
 = 
¶aû
;

4616 ià(
__kmp_di¥Ïy_affš™y
 && 
¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4617 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4618 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4620 
s_couÁ
++;

4622 ià((
s_couÁ
 =ğ
S
è&& 
»m
 && (
g­_ù
 =ğ
g­
)) {

4624 } ià((
s_couÁ
 =ğ
S
 + 1è&& 
»m
 && (
g­_ù
 =ğ
g­
)) {

4626 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4627 
¶aû
 = 
fœ¡_¶aû
;

4628 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4629 
¶aû
 = 0;

4631 
¶aû
++;

4633 
s_couÁ
 = 0;

4634 
g­_ù
 = 1;

4635 
»m
--;

4636 } ià(
s_couÁ
 =ğ
S
) {

4637 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4638 
¶aû
 = 
fœ¡_¶aû
;

4639 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4640 
¶aû
 = 0;

4642 
¶aû
++;

4644 
g­_ù
++;

4645 
s_couÁ
 = 0;

4648 
	`KA_TRACE
(100,

4651 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),—m->t.
t_id
, f,

4652 
th
->th.
th_Ãw_¶aû
, 
fœ¡_¶aû
, 
Ï¡_¶aû
));

4654 
	`KMP_DEBUG_ASSERT
(
¶aû
 =ğ
ma¡”s_¶aû
);

4658 
´oc_bšd_¥»ad
: {

4659 
f
;

4660 
n_th
 = 
‹am
->
t
.
t_Åroc
;

4661 
n_¶aûs
;

4662 
thidx
;

4663 ià(
fœ¡_¶aû
 <ğ
Ï¡_¶aû
) {

4664 
n_¶aûs
 = 
Ï¡_¶aû
 - 
fœ¡_¶aû
 + 1;

4666 
n_¶aûs
 = 
__kmp_affš™y_num_masks
 - 
fœ¡_¶aû
 + 
Ï¡_¶aû
 + 1;

4668 ià(
n_th
 <ğ
n_¶aûs
) {

4669 
¶aû
 = -1;

4671 ià(
n_¶aûs
 !ğ
¡©ic_ÿ¡
<>(
__kmp_affš™y_num_masks
)) {

4672 
S
 = 
n_¶aûs
 / 
n_th
;

4673 
s_couÁ
, 
»m
, 
g­
, 
g­_ù
;

4675 
¶aû
 = 
ma¡”s_¶aû
;

4676 
»m
 = 
n_¶aûs
 - 
n_th
 * 
S
;

4677 
g­
 = 
»m
 ? 
n_th
 /„em : 1;

4678 
g­_ù
 = 
g­
;

4679 
thidx
 = 
n_th
;

4680 ià(
upd©e_ma¡”_Úly
 == 1)

4681 
thidx
 = 1;

4682 
f
 = 0; f < 
thidx
; f++) {

4683 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4684 
	`KMP_DEBUG_ASSERT
(
th
 !ğ
NULL
);

4686 
th
->th.
th_fœ¡_¶aû
 = 
¶aû
;

4687 
th
->th.
th_Ãw_¶aû
 = 
¶aû
;

4688 ià(
__kmp_di¥Ïy_affš™y
 && 
¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4689 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4690 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4692 
s_couÁ
 = 1;

4693 
s_couÁ
 < 
S
) {

4694 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4695 
¶aû
 = 
fœ¡_¶aû
;

4696 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4697 
¶aû
 = 0;

4699 
¶aû
++;

4701 
s_couÁ
++;

4703 ià(
»m
 && (
g­_ù
 =ğ
g­
)) {

4704 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4705 
¶aû
 = 
fœ¡_¶aû
;

4706 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4707 
¶aû
 = 0;

4709 
¶aû
++;

4711 
»m
--;

4712 
g­_ù
 = 0;

4714 
th
->th.
th_Ï¡_¶aû
 = 
¶aû
;

4715 
g­_ù
++;

4717 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4718 
¶aû
 = 
fœ¡_¶aû
;

4719 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4720 
¶aû
 = 0;

4722 
¶aû
++;

4725 
	`KA_TRACE
(100,

4728 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),—m->t.
t_id
,

4729 
f
, 
th
->th.
th_Ãw_¶aû
,h->th.
th_fœ¡_¶aû
,

4730 
th
->th.
th_Ï¡_¶aû
, 
__kmp_affš™y_num_masks
));

4736 
cu¼’t
 = 
¡©ic_ÿ¡
<>(
ma¡”s_¶aû
);

4737 
¥acšg
 =

4738 (
¡©ic_ÿ¡
<>(
n_¶aûs
 + 1è/ stic_ÿ¡<>(
n_th
));

4739 
fœ¡
, 
Ï¡
;

4740 
kmp_šfo_t
 *
th
;

4742 
thidx
 = 
n_th
 + 1;

4743 ià(
upd©e_ma¡”_Úly
 == 1)

4744 
thidx
 = 1;

4745 
f
 = 0; f < 
thidx
; f++) {

4746 
fœ¡
 = 
¡©ic_ÿ¡
<>(
cu¼’t
);

4747 
Ï¡
 = 
¡©ic_ÿ¡
<>(
cu¼’t
 + 
¥acšg
) - 1;

4748 
	`KMP_DEBUG_ASSERT
(
Ï¡
 >ğ
fœ¡
);

4749 ià(
fœ¡
 >ğ
n_¶aûs
) {

4750 ià(
ma¡”s_¶aû
) {

4751 
fœ¡
 -ğ
n_¶aûs
;

4752 
Ï¡
 -ğ
n_¶aûs
;

4753 ià(
fœ¡
 =ğ(
ma¡”s_¶aû
 + 1)) {

4754 
	`KMP_DEBUG_ASSERT
(
f
 =ğ
n_th
);

4755 
fœ¡
--;

4757 ià(
Ï¡
 =ğ
ma¡”s_¶aû
) {

4758 
	`KMP_DEBUG_ASSERT
(
f
 =ğ(
n_th
 - 1));

4759 
Ï¡
--;

4762 
	`KMP_DEBUG_ASSERT
(
f
 =ğ
n_th
);

4763 
fœ¡
 = 0;

4764 
Ï¡
 = 0;

4767 ià(
Ï¡
 >ğ
n_¶aûs
) {

4768 
Ï¡
 = (
n_¶aûs
 - 1);

4770 
¶aû
 = 
fœ¡
;

4771 
cu¼’t
 +ğ
¥acšg
;

4772 ià(
f
 < 
n_th
) {

4773 
	`KMP_DEBUG_ASSERT
(0 <ğ
fœ¡
);

4774 
	`KMP_DEBUG_ASSERT
(
n_¶aûs
 > 
fœ¡
);

4775 
	`KMP_DEBUG_ASSERT
(0 <ğ
Ï¡
);

4776 
	`KMP_DEBUG_ASSERT
(
n_¶aûs
 > 
Ï¡
);

4777 
	`KMP_DEBUG_ASSERT
(
Ï¡_¶aû
 >ğ
fœ¡_¶aû
);

4778 
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4779 
	`KMP_DEBUG_ASSERT
(
th
);

4780 
th
->th.
th_fœ¡_¶aû
 = 
fœ¡
;

4781 
th
->th.
th_Ãw_¶aû
 = 
¶aû
;

4782 
th
->th.
th_Ï¡_¶aû
 = 
Ï¡
;

4783 ià(
__kmp_di¥Ïy_affš™y
 && 
¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4784 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4785 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4787 
	`KA_TRACE
(100,

4790 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),

4791 
‹am
->
t
.
t_id
, 
f
, 
th
->th.
th_Ãw_¶aû
,

4792 
th
->th.
th_fœ¡_¶aû
,h->th.
th_Ï¡_¶aû
, 
¥acšg
));

4796 
	`KMP_DEBUG_ASSERT
(
upd©e_ma¡”_Úly
 || 
¶aû
 =ğ
ma¡”s_¶aû
);

4798 
S
, 
»m
, 
g­
, 
s_couÁ
;

4799 
S
 = 
n_th
 / 
n_¶aûs
;

4800 
s_couÁ
 = 0;

4801 
»m
 = 
n_th
 - (
S
 * 
n_¶aûs
);

4802 
g­
 = 
»m
 > 0 ? 
n_¶aûs
 /„em :‚_places;

4803 
¶aû
 = 
ma¡”s_¶aû
;

4804 
g­_ù
 = 
g­
;

4805 
thidx
 = 
n_th
;

4806 ià(
upd©e_ma¡”_Úly
 == 1)

4807 
thidx
 = 1;

4808 
f
 = 0; f < 
thidx
; f++) {

4809 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

4810 
	`KMP_DEBUG_ASSERT
(
th
 !ğ
NULL
);

4812 
th
->th.
th_fœ¡_¶aû
 = 
¶aû
;

4813 
th
->th.
th_Ï¡_¶aû
 = 
¶aû
;

4814 
th
->th.
th_Ãw_¶aû
 = 
¶aû
;

4815 ià(
__kmp_di¥Ïy_affš™y
 && 
¶aû
 !ğ
th
->th.
th_cu¼’t_¶aû
 &&

4816 
‹am
->
t
.
t_di¥Ïy_affš™y
 != 1) {

4817 
‹am
->
t
.
t_di¥Ïy_affš™y
 = 1;

4819 
s_couÁ
++;

4821 ià((
s_couÁ
 =ğ
S
è&& 
»m
 && (
g­_ù
 =ğ
g­
)) {

4823 } ià((
s_couÁ
 =ğ
S
 + 1è&& 
»m
 && (
g­_ù
 =ğ
g­
)) {

4825 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4826 
¶aû
 = 
fœ¡_¶aû
;

4827 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4828 
¶aû
 = 0;

4830 
¶aû
++;

4832 
s_couÁ
 = 0;

4833 
g­_ù
 = 1;

4834 
»m
--;

4835 } ià(
s_couÁ
 =ğ
S
) {

4836 ià(
¶aû
 =ğ
Ï¡_¶aû
) {

4837 
¶aû
 = 
fœ¡_¶aû
;

4838 } ià(
¶aû
 =ğ()(
__kmp_affš™y_num_masks
 - 1)) {

4839 
¶aû
 = 0;

4841 
¶aû
++;

4843 
g­_ù
++;

4844 
s_couÁ
 = 0;

4847 
	`KA_TRACE
(100, ("__kmp_partition_places: spread: T#%d(%d:%d)…lace %d "

4849 
	`__kmp_gtid_äom_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]),

4850 
‹am
->
t
.
t_id
, 
f
, 
th
->th.
th_Ãw_¶aû
,

4851 
th
->th.
th_fœ¡_¶aû
,h->th.
th_Ï¡_¶aû
));

4853 
	`KMP_DEBUG_ASSERT
(
upd©e_ma¡”_Úly
 || 
¶aû
 =ğ
ma¡”s_¶aû
);

4861 
	`KA_TRACE
(20, ("__kmp_·¹™iÚ_¶aûs:ƒx™ T#%d\n", 
‹am
->
t
.
t_id
));

4862 
	}
}

4868 
kmp_‹am_t
 *

4869 
__kmp_®loÿ‹_‹am
(
kmp_roÙ_t
 *
roÙ
, 
Ãw_Åroc
, 
max_Åroc
,

4870 #ià
OMPT_SUPPORT


4871 
om±_d©a_t
 
om±_·¿Î–_d©a
,

4873 
kmp_´oc_bšd_t
 
Ãw_´oc_bšd
,

4874 
kmp_š‹º®_cÚŒŞ_t
 *
Ãw_icvs
,

4875 
¬gc
 
	$USE_NESTED_HOT_ARG
(
kmp_šfo_t
 *
ma¡”
)) {

4876 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
KMP_®loÿ‹_‹am
);

4877 
f
;

4878 
kmp_‹am_t
 *
‹am
;

4879 
u£_hÙ_‹am
 = !
roÙ
->
r
.
r_aùive
;

4880 
Ëv–
 = 0;

4882 
	`KA_TRACE
(20, ("__kmp_allocate_team: called\n"));

4883 
	`KMP_DEBUG_ASSERT
(
Ãw_Åroc
 >ğ1 && 
¬gc
 >= 0);

4884 
	`KMP_DEBUG_ASSERT
(
max_Åroc
 >ğ
Ãw_Åroc
);

4885 
	`KMP_MB
();

4887 #ià
KMP_NESTED_HOT_TEAMS


4888 
kmp_hÙ_‹am_±r_t
 *
hÙ_‹ams
;

4889 ià(
ma¡”
) {

4890 
‹am
 = 
ma¡”
->
th
.
th_‹am
;

4891 
Ëv–
 = 
‹am
->
t
.
t_aùive_Ëv–
;

4892 ià(
ma¡”
->
th
.
th_‹ams_miüÙask
) {

4893 ià(
ma¡”
->
th
.
th_‹ams_size
.
Á—ms
 > 1 &&

4895 
‹am
->
t
.
t_pkâ
 ==

4896 (
miüÙask_t
)
__kmp_‹ams_ma¡”
 ||

4897 
ma¡”
->
th
.
th_‹ams_Ëv–
 <

4898 
‹am
->
t
.
t_Ëv–
)) {

4899 ++
Ëv–
;

4903 
hÙ_‹ams
 = 
ma¡”
->
th
.
th_hÙ_‹ams
;

4904 ià(
Ëv–
 < 
__kmp_hÙ_‹ams_max_Ëv–
 && 
hÙ_‹ams
 &&

4905 
hÙ_‹ams
[
Ëv–
]

4906 .
hÙ_‹am
) {

4907 
u£_hÙ_‹am
 = 1;

4909 
u£_hÙ_‹am
 = 0;

4914 ià(
u£_hÙ_‹am
 && 
Ãw_Åroc
 > 1) {

4915 
	`KMP_DEBUG_ASSERT
(
Ãw_Åroc
 <ğ
max_Åroc
);

4916 #ià
KMP_NESTED_HOT_TEAMS


4917 
‹am
 = 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
;

4919 
‹am
 = 
roÙ
->
r
.
r_hÙ_‹am
;

4921 #ià
KMP_DEBUG


4922 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

4923 
	`KA_TRACE
(20, ("__kmp_allocate_team: hoteamask_team[0] = %p "

4925 
‹am
->
t
.
t_sk_‹am
[0],eam->t.t_task_team[1]));

4932 ià(
‹am
->
t
.
t_Åroc
 =ğ
Ãw_Åroc
) {

4933 
	`KA_TRACE
(20, ("__kmp_allocate_team:„eusing hoteam\n"));

4936 ià(
‹am
->
t
.
t_size_chªged
 == -1) {

4937 
‹am
->
t
.
t_size_chªged
 = 1;

4939 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_size_chªged
, 0);

4943 
kmp_r_sched_t
 
Ãw_sched
 = 
Ãw_icvs
->
sched
;

4945 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_sched
.
sched
, 
Ãw_sched
.sched);

4947 
	`__kmp_»š™Ÿlize_‹am
(
‹am
, 
Ãw_icvs
,

4948 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_id’t
);

4950 
	`KF_TRACE
(10, ("__kmp_allocate_team2: T#%d,his_thread=%peam=%p\n", 0,

4951 
‹am
->
t
.
t_th»ads
[0],eam));

4952 
	`__kmp_push_cu¼’t_sk_to_th»ad
(
‹am
->
t
.
t_th»ads
[0],eam, 0);

4954 #ià
KMP_AFFINITY_SUPPORTED


4955 ià((
‹am
->
t
.
t_size_chªged
 == 0) &&

4956 (
‹am
->
t
.
t_´oc_bšd
 =ğ
Ãw_´oc_bšd
)) {

4957 ià(
Ãw_´oc_bšd
 =ğ
´oc_bšd_¥»ad
) {

4958 
	`__kmp_·¹™iÚ_¶aûs
(

4959 
‹am
, 1);

4961 
	`KA_TRACE
(200, ("__kmp_allocate_team:„eusing hoteam #%d bindings: "

4963 
‹am
->
t
.
t_id
, 
Ãw_´oc_bšd
,—m->t.
t_fœ¡_¶aû
,

4964 
‹am
->
t
.
t_Ï¡_¶aû
));

4966 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_´oc_bšd
, 
Ãw_´oc_bšd
);

4967 
	`__kmp_·¹™iÚ_¶aûs
(
‹am
);

4970 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_´oc_bšd
, 
Ãw_´oc_bšd
);

4972 } ià(
‹am
->
t
.
t_Åroc
 > 
Ãw_Åroc
) {

4973 
	`KA_TRACE
(20,

4975 
Ãw_Åroc
));

4977 
‹am
->
t
.
t_size_chªged
 = 1;

4978 #ià
KMP_NESTED_HOT_TEAMS


4979 ià(
__kmp_hÙ_‹ams_mode
 == 0) {

4982 
	`KMP_DEBUG_ASSERT
(
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
 =ğ
‹am
->
t
.
t_Åroc
);

4983 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
 = 
Ãw_Åroc
;

4986 
f
 = 
Ãw_Åroc
; f < 
‹am
->
t
.
t_Åroc
; f++) {

4987 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
]);

4988 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

4991 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_sk_‹am
 = 
NULL
;

4993 
	`__kmp_ä“_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]);

4994 
‹am
->
t
.
t_th»ads
[
f
] = 
NULL
;

4996 #ià
KMP_NESTED_HOT_TEAMS


5001 
f
 = 
Ãw_Åroc
; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5002 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
]);

5003 
kmp_b®ign_t
 *
b®ign
 = 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_b¬
;

5004 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5005 ià(
b®ign
[
b
].
bb
.
wa™_æag
 =ğ
KMP_BARRIER_PARENT_FLAG
) {

5006 
b®ign
[
b
].
bb
.
wa™_æag
 = 
KMP_BARRIER_SWITCH_TO_OWN_FLAG
;

5008 
	`KMP_CHECK_UPDATE
(
b®ign
[
b
].
bb
.
Ëaf_kids
, 0);

5013 
‹am
->
t
.
t_Åroc
 = 
Ãw_Åroc
;

5015 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_sched
.
sched
, 
Ãw_icvs
->sched.sched);

5016 
	`__kmp_»š™Ÿlize_‹am
(
‹am
, 
Ãw_icvs
,

5017 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_id’t
);

5020 
f
 = 0; f < 
Ãw_Åroc
; ++f) {

5021 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_‹am_Åroc
 = 
Ãw_Åroc
;

5026 
	`KF_TRACE
(10, ("__kmp_allocate_team: T#%d,his_thread=%peam=%p\n", 0,

5027 
‹am
->
t
.
t_th»ads
[0],eam));

5029 
	`__kmp_push_cu¼’t_sk_to_th»ad
(
‹am
->
t
.
t_th»ads
[0],eam, 0);

5031 #ifdeà
KMP_DEBUG


5032 
f
 = 0; f < 
‹am
->
t
.
t_Åroc
; f++) {

5033 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
] &&

5034 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_‹am_Åroc
 ==

5035 
‹am
->
t
.
t_Åroc
);

5039 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_´oc_bšd
, 
Ãw_´oc_bšd
);

5040 #ià
KMP_AFFINITY_SUPPORTED


5041 
	`__kmp_·¹™iÚ_¶aûs
(
‹am
);

5044 #ià(
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
è&& 
KMP_AFFINITY_SUPPORTED


5045 
kmp_affš_mask_t
 *
Şd_mask
;

5046 ià(
	`KMP_AFFINITY_CAPABLE
()) {

5047 
	`KMP_CPU_ALLOC
(
Şd_mask
);

5051 
	`KA_TRACE
(20,

5053 
Ãw_Åroc
));

5055 
‹am
->
t
.
t_size_chªged
 = 1;

5057 #ià
KMP_NESTED_HOT_TEAMS


5058 
ava_th»ads
 = 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
;

5059 ià(
Ãw_Åroc
 < 
ava_th»ads
)

5060 
ava_th»ads
 = 
Ãw_Åroc
;

5061 
kmp_šfo_t
 **
Ùh”_th»ads
 = 
‹am
->
t
.
t_th»ads
;

5062 
f
 = 
‹am
->
t
.
t_Åroc
; f < 
ava_th»ads
; ++f) {

5065 
b
;

5066 
kmp_b®ign_t
 *
b®ign
 = 
Ùh”_th»ads
[
f
]->
th
.
th_b¬
;

5067 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5068 
b®ign
[
b
].
bb
.
b_¬rived
 = 
‹am
->
t
.
t_b¬
[b].b_arrived;

5069 
	`KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !ğ
KMP_BARRIER_PARENT_FLAG
);

5070 #ià
USE_DEBUGGER


5071 
b®ign
[
b
].
bb
.
b_wÜk”_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_‹am_¬rived
;

5075 ià(
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
 >ğ
Ãw_Åroc
) {

5078 
	`KMP_DEBUG_ASSERT
(
__kmp_hÙ_‹ams_mode
 == 1);

5079 
‹am
->
t
.
t_Åroc
 = 
Ãw_Åroc
;

5082 
‹am
->
t
.
t_Åroc
 =

5083 
hÙ_‹ams
[
Ëv–
]

5084 .
hÙ_‹am_Áh
;

5085 
hÙ_‹ams
[
Ëv–
].
hÙ_‹am_Áh
 = 
Ãw_Åroc
;

5087 ià(
‹am
->
t
.
t_max_Åroc
 < 
Ãw_Åroc
) {

5089 
	`__kmp_»®loÿ‹_‹am_¬¿ys
(
‹am
, 
Ãw_Åroc
);

5090 
	`__kmp_»š™Ÿlize_‹am
(
‹am
, 
Ãw_icvs
, 
NULL
);

5093 #ià(
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
è&& 
KMP_AFFINITY_SUPPORTED


5098 
	`__kmp_£t_th»ad_affš™y_mask_fuÎ_tmp
(
Şd_mask
);

5102 
f
 = 
‹am
->
t
.
t_Åroc
; f < 
Ãw_Åroc
; f++) {

5103 
kmp_šfo_t
 *
Ãw_wÜk”
 = 
	`__kmp_®loÿ‹_th»ad
(
roÙ
, 
‹am
, 
f
);

5104 
	`KMP_DEBUG_ASSERT
(
Ãw_wÜk”
);

5105 
‹am
->
t
.
t_th»ads
[
f
] = 
Ãw_wÜk”
;

5107 
	`KA_TRACE
(20,

5110 
‹am
->
t
.
t_id
, 
	`__kmp_gtid_äom_tid
(
f
,eam),eam->t.t_id, f,

5111 
‹am
->
t
.
t_b¬
[
bs_fÜkjoš_b¬r›r
].
b_¬rived
,

5112 
‹am
->
t
.
t_b¬
[
bs_¶aš_b¬r›r
].
b_¬rived
));

5115 
b
;

5116 
kmp_b®ign_t
 *
b®ign
 = 
Ãw_wÜk”
->
th
.
th_b¬
;

5117 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5118 
b®ign
[
b
].
bb
.
b_¬rived
 = 
‹am
->
t
.
t_b¬
[b].b_arrived;

5119 
	`KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !=

5120 
KMP_BARRIER_PARENT_FLAG
);

5121 #ià
USE_DEBUGGER


5122 
b®ign
[
b
].
bb
.
b_wÜk”_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_‹am_¬rived
;

5128 #ià(
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
è&& 
KMP_AFFINITY_SUPPORTED


5129 ià(
	`KMP_AFFINITY_CAPABLE
()) {

5131 
	`__kmp_£t_sy¡em_affš™y
(
Şd_mask
, 
TRUE
);

5132 
	`KMP_CPU_FREE
(
Şd_mask
);

5135 #ià
KMP_NESTED_HOT_TEAMS


5139 
Şd_Åroc
 = 
‹am
->
t
.
t_Åroc
;

5141 
	`__kmp_š™Ÿlize_‹am
(
‹am
, 
Ãw_Åroc
, 
Ãw_icvs
,

5142 
roÙ
->
r
.
r_ub”_th»ad
->
th
.
th_id’t
);

5145 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_Åroc
 =ğ
Ãw_Åroc
);

5146 
f
 = 0; f < 
‹am
->
t
.
t_Åroc
; ++f)

5147 
	`__kmp_š™Ÿlize_šfo
(
‹am
->
t
.
t_th»ads
[
f
],eam, f,

5148 
	`__kmp_gtid_äom_tid
(
f
, 
‹am
));

5150 ià(
Ëv–
) {

5156 
f
 = 
Şd_Åroc
; f < 
‹am
->
t
.
t_Åroc
; ++f)

5157 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_sk_¡©e
 =

5158 
‹am
->
t
.
t_th»ads
[0]->
th
.
th_sk_¡©e_memo_¡ack
[
Ëv–
];

5160 
Şd_¡©e
 =

5161 
‹am
->
t
.
t_th»ads
[0]->
th
.
th_sk_¡©e
;

5162 
f
 = 
Şd_Åroc
; f < 
‹am
->
t
.
t_Åroc
; ++f)

5163 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_sk_¡©e
 = 
Şd_¡©e
;

5166 #ifdeà
KMP_DEBUG


5167 
f
 = 0; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5168 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
] &&

5169 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_‹am_Åroc
 ==

5170 
‹am
->
t
.
t_Åroc
);

5174 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_´oc_bšd
, 
Ãw_´oc_bšd
);

5175 #ià
KMP_AFFINITY_SUPPORTED


5176 
	`__kmp_·¹™iÚ_¶aûs
(
‹am
);

5180 
kmp_šfo_t
 *
ma¡”
 = 
‹am
->
t
.
t_th»ads
[0];

5181 ià(
ma¡”
->
th
.
th_‹ams_miüÙask
) {

5182 
f
 = 1; f < 
Ãw_Åroc
; ++f) {

5184 
kmp_šfo_t
 *
thr
 = 
‹am
->
t
.
t_th»ads
[
f
];

5185 
thr
->
th
.
th_‹ams_miüÙask
 = 
ma¡”
->th.th_teams_microtask;

5186 
thr
->
th
.
th_‹ams_Ëv–
 = 
ma¡”
->th.th_teams_level;

5187 
thr
->
th
.
th_‹ams_size
 = 
ma¡”
->th.th_teams_size;

5190 #ià
KMP_NESTED_HOT_TEAMS


5191 ià(
Ëv–
) {

5194 
f
 = 1; f < 
Ãw_Åroc
; ++f) {

5195 
kmp_šfo_t
 *
thr
 = 
‹am
->
t
.
t_th»ads
[
f
];

5196 
b
;

5197 
kmp_b®ign_t
 *
b®ign
 = 
thr
->
th
.
th_b¬
;

5198 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5199 
b®ign
[
b
].
bb
.
b_¬rived
 = 
‹am
->
t
.
t_b¬
[b].b_arrived;

5200 
	`KMP_DEBUG_ASSERT
(
b®ign
[
b
].
bb
.
wa™_æag
 !ğ
KMP_BARRIER_PARENT_FLAG
);

5201 #ià
USE_DEBUGGER


5202 
b®ign
[
b
].
bb
.
b_wÜk”_¬rived
 = 
‹am
->
t
.
t_b¬
[b].
b_‹am_¬rived
;

5210 
	`__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
‹am
, 
TRUE
);

5211 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_¬gc
, 
¬gc
);

5215 
	`KF_TRACE
(10, (" hÙ_‹am = %p\n", 
‹am
));

5217 #ià
KMP_DEBUG


5218 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

5219 
	`KA_TRACE
(20, ("__kmp_allocate_team: hoteamask_team[0] = %p "

5221 
‹am
->
t
.
t_sk_‹am
[0],eam->t.t_task_team[1]));

5225 #ià
OMPT_SUPPORT


5226 
	`__om±_‹am_assign_id
(
‹am
, 
om±_·¿Î–_d©a
);

5229 
	`KMP_MB
();

5231  
‹am
;

5235 
	`KMP_MB
();

5236 
‹am
 = 
	`CCAST
(
kmp_‹am_t
 *, 
__kmp_‹am_poŞ
); (team);) {

5239 ià(
‹am
->
t
.
t_max_Åroc
 >ğ
max_Åroc
) {

5241 
__kmp_‹am_poŞ
 = 
‹am
->
t
.
t_Ãxt_poŞ
;

5244 
	`__kmp_š™Ÿlize_‹am
(
‹am
, 
Ãw_Åroc
, 
Ãw_icvs
, 
NULL
);

5246 
	`KA_TRACE
(20, ("__kmp_allocate_team: settingask_team[0] %p‡nd "

5248 &
‹am
->
t
.
t_sk_‹am
[0], &team->t.t_task_team[1]));

5249 
‹am
->
t
.
t_sk_‹am
[0] = 
NULL
;

5250 
‹am
->
t
.
t_sk_‹am
[1] = 
NULL
;

5253 
	`__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
‹am
, 
TRUE
);

5254 
	`KMP_CHECK_UPDATE
(
‹am
->
t
.
t_¬gc
, 
¬gc
);

5256 
	`KA_TRACE
(

5258 
‹am
->
t
.
t_id
, 
KMP_INIT_BARRIER_STATE
, KMP_INIT_BARRIER_STATE));

5260 
b
;

5261 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5262 
‹am
->
t
.
t_b¬
[
b
].
b_¬rived
 = 
KMP_INIT_BARRIER_STATE
;

5263 #ià
USE_DEBUGGER


5264 
‹am
->
t
.
t_b¬
[
b
].
b_ma¡”_¬rived
 = 0;

5265 
‹am
->
t
.
t_b¬
[
b
].
b_‹am_¬rived
 = 0;

5270 
‹am
->
t
.
t_´oc_bšd
 = 
Ãw_´oc_bšd
;

5272 
	`KA_TRACE
(20, ("__kmp_allocate_team: usingeam from…ool %d.\n",

5273 
‹am
->
t
.
t_id
));

5275 #ià
OMPT_SUPPORT


5276 
	`__om±_‹am_assign_id
(
‹am
, 
om±_·¿Î–_d©a
);

5279 
	`KMP_MB
();

5281  
‹am
;

5288 
‹am
 = 
	`__kmp_»­_‹am
(team);

5289 
__kmp_‹am_poŞ
 = 
‹am
;

5293 
	`KMP_MB
();

5294 
‹am
 = (
kmp_‹am_t
 *)
	`__kmp_®loÿ‹
((kmp_team_t));

5297 
‹am
->
t
.
t_max_Åroc
 = 
max_Åroc
;

5300 
	`__kmp_®loÿ‹_‹am_¬¿ys
(
‹am
, 
max_Åroc
);

5302 
	`KA_TRACE
(20, ("__kmp_allocate_team: making‡‚eweam\n"));

5303 
	`__kmp_š™Ÿlize_‹am
(
‹am
, 
Ãw_Åroc
, 
Ãw_icvs
, 
NULL
);

5305 
	`KA_TRACE
(20, ("__kmp_allocate_team: settingask_team[0] %p‡ndask_team[1] "

5307 &
‹am
->
t
.
t_sk_‹am
[0], &team->t.t_task_team[1]));

5308 
‹am
->
t
.
t_sk_‹am
[0] = 
NULL
;

5310 
‹am
->
t
.
t_sk_‹am
[1] = 
NULL
;

5313 ià(
__kmp_¡Üage_m­
) {

5314 
	`__kmp_´št_‹am_¡Üage_m­
("‹am", 
‹am
,—m->
t
.
t_id
, 
Ãw_Åroc
);

5318 
	`__kmp_®loc_¬gv_’Œ›s
(
¬gc
, 
‹am
, 
FALSE
);

5319 
‹am
->
t
.
t_¬gc
 = 
¬gc
;

5321 
	`KA_TRACE
(20,

5323 
‹am
->
t
.
t_id
, 
KMP_INIT_BARRIER_STATE
, KMP_INIT_BARRIER_STATE));

5325 
b
;

5326 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5327 
‹am
->
t
.
t_b¬
[
b
].
b_¬rived
 = 
KMP_INIT_BARRIER_STATE
;

5328 #ià
USE_DEBUGGER


5329 
‹am
->
t
.
t_b¬
[
b
].
b_ma¡”_¬rived
 = 0;

5330 
‹am
->
t
.
t_b¬
[
b
].
b_‹am_¬rived
 = 0;

5335 
‹am
->
t
.
t_´oc_bšd
 = 
Ãw_´oc_bšd
;

5337 #ià
OMPT_SUPPORT


5338 
	`__om±_‹am_assign_id
(
‹am
, 
om±_·¿Î–_d©a
);

5339 
‹am
->
t
.
om±_£rŸlized_‹am_šfo
 = 
NULL
;

5342 
	`KMP_MB
();

5344 
	`KA_TRACE
(20, ("__kmp_allocate_team: done creating‡‚eweam %d.\n",

5345 
‹am
->
t
.
t_id
));

5347  
‹am
;

5355 
	`__kmp_ä“_‹am
(
kmp_roÙ_t
 *
roÙ
,

5356 
kmp_‹am_t
 *
‹am
 
	`USE_NESTED_HOT_ARG
(
kmp_šfo_t
 *
ma¡”
)) {

5357 
f
;

5358 
	`KA_TRACE
(20, ("__kmp_ä“_‹am: T#%d f»ešg—m %d\n", 
	`__kmp_g‘_gtid
(),

5359 
‹am
->
t
.
t_id
));

5362 
	`KMP_DEBUG_ASSERT
(
roÙ
);

5363 
	`KMP_DEBUG_ASSERT
(
‹am
);

5364 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_Åroc
 <ğ‹am->t.
t_max_Åroc
);

5365 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
);

5367 
u£_hÙ_‹am
 = 
‹am
 =ğ
roÙ
->
r
.
r_hÙ_‹am
;

5368 #ià
KMP_NESTED_HOT_TEAMS


5369 
Ëv–
;

5370 
kmp_hÙ_‹am_±r_t
 *
hÙ_‹ams
;

5371 ià(
ma¡”
) {

5372 
Ëv–
 = 
‹am
->
t
.
t_aùive_Ëv–
 - 1;

5373 ià(
ma¡”
->
th
.
th_‹ams_miüÙask
) {

5374 ià(
ma¡”
->
th
.
th_‹ams_size
.
Á—ms
 > 1) {

5375 ++
Ëv–
;

5378 ià(
‹am
->
t
.
t_pkâ
 !ğ(
miüÙask_t
)
__kmp_‹ams_ma¡”
 &&

5379 
ma¡”
->
th
.
th_‹ams_Ëv–
 =ğ
‹am
->
t
.
t_Ëv–
) {

5380 ++
Ëv–
;

5384 
hÙ_‹ams
 = 
ma¡”
->
th
.
th_hÙ_‹ams
;

5385 ià(
Ëv–
 < 
__kmp_hÙ_‹ams_max_Ëv–
) {

5386 
	`KMP_DEBUG_ASSERT
(
‹am
 =ğ
hÙ_‹ams
[
Ëv–
].
hÙ_‹am
);

5387 
u£_hÙ_‹am
 = 1;

5393 
	`TCW_SYNC_PTR
(
‹am
->
t
.
t_pkâ
,

5394 
NULL
);

5395 #ià
KMP_OS_WINDOWS


5396 
‹am
->
t
.
t_cİyš_couÁ”
 = 0;

5401 ià(!
u£_hÙ_‹am
) {

5402 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

5404 
f
 = 1; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5405 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
]);

5406 
kmp_šfo_t
 *
th
 = 
‹am
->
t
.
t_th»ads
[
f
];

5407 vŞ©
kmp_ušt32
 *
¡©e
 = &
th
->th.
th_»­_¡©e
;

5408 *
¡©e
 !ğ
KMP_SAFE_TO_REAP
) {

5409 #ià
KMP_OS_WINDOWS


5411 
DWORD
 
ecode
;

5412 ià(!
	`__kmp_is_th»ad_®ive
(
th
, &
ecode
)) {

5413 *
¡©e
 = 
KMP_SAFE_TO_REAP
;

5418 
kmp_æag_64
 
	`æ
(&
th
->th.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_go
,h);

5419 ià(
æ
.
	`is_¦“pšg
())

5420 
æ
.
	`»sume
(
	`__kmp_gtid_äom_th»ad
(
th
));

5421 
	`KMP_CPU_PAUSE
();

5426 
‰_idx
;

5427 
‰_idx
 = 0;t_idx < 2; ++tt_idx) {

5428 
kmp_sk_‹am_t
 *
sk_‹am
 = 
‹am
->
t
.
t_sk_‹am
[
‰_idx
];

5429 ià(
sk_‹am
 !ğ
NULL
) {

5430 
f
 = 0; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5431 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
]);

5432 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_sk_‹am
 = 
NULL
;

5434 
	`KA_TRACE
(

5437 
	`__kmp_g‘_gtid
(), 
sk_‹am
, 
‹am
->
t
.
t_id
));

5438 #ià
KMP_NESTED_HOT_TEAMS


5439 
	`__kmp_ä“_sk_‹am
(
ma¡”
, 
sk_‹am
);

5441 
‹am
->
t
.
t_sk_‹am
[
‰_idx
] = 
NULL
;

5447 
‹am
->
t
.
t_·»Á
 = 
NULL
;

5448 
‹am
->
t
.
t_Ëv–
 = 0;

5449 
‹am
->
t
.
t_aùive_Ëv–
 = 0;

5452 
f
 = 1; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5453 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
]);

5454 
	`__kmp_ä“_th»ad
(
‹am
->
t
.
t_th»ads
[
f
]);

5455 
‹am
->
t
.
t_th»ads
[
f
] = 
NULL
;

5460 
‹am
->
t
.
t_Ãxt_poŞ
 = 
	`CCAST
(
kmp_‹am_t
 *, 
__kmp_‹am_poŞ
);

5461 
__kmp_‹am_poŞ
 = (vŞ©
kmp_‹am_t
 *)
‹am
;

5464 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[1] &&

5465 
‹am
->
t
.
t_th»ads
[1]->
th
.
th_cg_roÙs
);

5466 ià(
‹am
->
t
.
t_th»ads
[1]->
th
.
th_cg_roÙs
->
cg_roÙ
 ==eam->t.t_threads[1]) {

5468 
f
 = 1; f < 
‹am
->
t
.
t_Åroc
; ++f) {

5469 
kmp_šfo_t
 *
thr
 = 
‹am
->
t
.
t_th»ads
[
f
];

5470 
	`KMP_DEBUG_ASSERT
(
thr
 &&hr->
th
.
th_cg_roÙs
 &&

5471 
thr
->
th
.
th_cg_roÙs
->
cg_roÙ
 ==hr);

5473 
kmp_cg_roÙ_t
 *
tmp
 = 
thr
->
th
.
th_cg_roÙs
;

5474 
thr
->
th
.
th_cg_roÙs
 = 
tmp
->
up
;

5475 
	`KA_TRACE
(100, ("__kmp_free_team: Thread %p…opping‚ode %p‡nd moving"

5477 
thr
, 
tmp
,hr->
th
.
th_cg_roÙs
,mp->
cg_Áh»ads
));

5478 
i
 = 
tmp
->
cg_Áh»ads
--;

5479 ià(
i
 == 1) {

5480 
	`__kmp_ä“
(
tmp
);

5483 ià(
thr
->
th
.
th_cg_roÙs
)

5484 
thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
 =

5485 
thr
->
th
.
th_cg_roÙs
->
cg_th»ad_lim™
;

5490 
	`KMP_MB
();

5494 
kmp_‹am_t
 *
	`__kmp_»­_‹am
(kmp_‹am_ˆ*
‹am
) {

5495 
kmp_‹am_t
 *
Ãxt_poŞ
 = 
‹am
->
t
.
t_Ãxt_poŞ
;

5497 
	`KMP_DEBUG_ASSERT
(
‹am
);

5498 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥©ch
);

5499 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥_bufãr
);

5500 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
);

5501 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_¬gv
);

5506 
	`__kmp_ä“_‹am_¬¿ys
(
‹am
);

5507 ià(
‹am
->
t
.
t_¬gv
 !ğ&‹am->t.
t_šlše_¬gv
[0])

5508 
	`__kmp_ä“
((*)
‹am
->
t
.
t_¬gv
);

5509 
	`__kmp_ä“
(
‹am
);

5511 
	`KMP_MB
();

5512  
Ãxt_poŞ
;

5540 
	`__kmp_ä“_th»ad
(
kmp_šfo_t
 *
this_th
) {

5541 
gtid
;

5542 
kmp_šfo_t
 **
sÿn
;

5544 
	`KA_TRACE
(20, ("__kmp_free_thread: T#%d…utting T#%d back on free…ool.\n",

5545 
	`__kmp_g‘_gtid
(), 
this_th
->
th
.
th_šfo
.
ds
.
ds_gtid
));

5547 
	`KMP_DEBUG_ASSERT
(
this_th
);

5551 
b
;

5552 
kmp_b®ign_t
 *
b®ign
 = 
this_th
->
th
.
th_b¬
;

5553 
b
 = 0; b < 
bs_Ï¡_b¬r›r
; ++b) {

5554 ià(
b®ign
[
b
].
bb
.
wa™_æag
 =ğ
KMP_BARRIER_PARENT_FLAG
)

5555 
b®ign
[
b
].
bb
.
wa™_æag
 = 
KMP_BARRIER_SWITCH_TO_OWN_FLAG
;

5556 
b®ign
[
b
].
bb
.
‹am
 = 
NULL
;

5557 
b®ign
[
b
].
bb
.
Ëaf_kids
 = 0;

5559 
this_th
->
th
.
th_sk_¡©e
 = 0;

5560 
this_th
->
th
.
th_»­_¡©e
 = 
KMP_SAFE_TO_REAP
;

5563 
	`TCW_PTR
(
this_th
->
th
.
th_‹am
, 
NULL
);

5564 
	`TCW_PTR
(
this_th
->
th
.
th_roÙ
, 
NULL
);

5565 
	`TCW_PTR
(
this_th
->
th
.
th_di¥©ch
, 
NULL
);

5567 
this_th
->
th
.
th_cg_roÙs
) {

5568 
this_th
->
th
.
th_cg_roÙs
->
cg_Áh»ads
--;

5569 
	`KA_TRACE
(100, ("__kmp_free_thread: Thread %p decrement cg_nthreads on‚ode"

5571 
this_th
,his_th->
th
.
th_cg_roÙs
,

5572 
this_th
->
th
.
th_cg_roÙs
->
cg_roÙ
,

5573 
this_th
->
th
.
th_cg_roÙs
->
cg_Áh»ads
));

5574 
kmp_cg_roÙ_t
 *
tmp
 = 
this_th
->
th
.
th_cg_roÙs
;

5575 ià(
tmp
->
cg_roÙ
 =ğ
this_th
) {

5576 
	`KMP_DEBUG_ASSERT
(
tmp
->
cg_Áh»ads
 == 0);

5577 
	`KA_TRACE
(

5578 5, ("__kmp_ä“_th»ad: Th»ad %°ä“šg‚od%p\n", 
this_th
, 
tmp
));

5579 
this_th
->
th
.
th_cg_roÙs
 = 
tmp
->
up
;

5580 
	`__kmp_ä“
(
tmp
);

5582 ià(
tmp
->
cg_Áh»ads
 == 0) {

5583 
	`__kmp_ä“
(
tmp
);

5585 
this_th
->
th
.
th_cg_roÙs
 = 
NULL
;

5595 
	`__kmp_ä“_im¶ic™_sk
(
this_th
);

5596 
this_th
->
th
.
th_cu¼’t_sk
 = 
NULL
;

5600 
gtid
 = 
this_th
->
th
.
th_šfo
.
ds
.
ds_gtid
;

5601 ià(
__kmp_th»ad_poŞ_š£¹_±
 !ğ
NULL
) {

5602 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ad_poŞ
 !ğ
NULL
);

5603 ià(
__kmp_th»ad_poŞ_š£¹_±
->
th
.
th_šfo
.
ds
.
ds_gtid
 > 
gtid
) {

5604 
__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

5613 ià(
__kmp_th»ad_poŞ_š£¹_±
 !ğ
NULL
) {

5614 
sÿn
 = &(
__kmp_th»ad_poŞ_š£¹_±
->
th
.
th_Ãxt_poŞ
);

5616 
sÿn
 = 
	`CCAST
(
kmp_šfo_t
 **, &
__kmp_th»ad_poŞ
);

5618 ; (*
sÿn
 !ğ
NULL
è&& ((*sÿn)->
th
.
th_šfo
.
ds
.
ds_gtid
 < 
gtid
);

5619 
sÿn
 = &((*sÿn)->
th
.
th_Ãxt_poŞ
))

5624 
	`TCW_PTR
(
this_th
->
th
.
th_Ãxt_poŞ
, *
sÿn
);

5625 
__kmp_th»ad_poŞ_š£¹_±
 = *
sÿn
 = 
this_th
;

5626 
	`KMP_DEBUG_ASSERT
((
this_th
->
th
.
th_Ãxt_poŞ
 =ğ
NULL
) ||

5627 (
this_th
->
th
.
th_šfo
.
ds
.
ds_gtid
 <

5628 
this_th
->
th
.
th_Ãxt_poŞ
->th.
th_šfo
.
ds
.
ds_gtid
));

5629 
	`TCW_4
(
this_th
->
th
.
th_š_poŞ
, 
TRUE
);

5630 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
this_th
);

5631 
	`__kmp_lock_su¥’d_mx
(
this_th
);

5632 ià(
this_th
->
th
.
th_aùive
 =ğ
TRUE
) {

5633 
	`KMP_ATOMIC_INC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

5634 
this_th
->
th
.
th_aùive_š_poŞ
 = 
TRUE
;

5636 #ià
KMP_DEBUG


5638 
	`KMP_DEBUG_ASSERT
(
this_th
->
th
.
th_aùive_š_poŞ
 =ğ
FALSE
);

5641 
	`__kmp_uÆock_su¥’d_mx
(
this_th
);

5643 
	`TCW_4
(
__kmp_Áh
, __kmp_nth - 1);

5645 #ifdeà
KMP_ADJUST_BLOCKTIME


5648 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

5649 
	`KMP_DEBUG_ASSERT
(
__kmp_ava_´oc
 > 0);

5650 ià(
__kmp_Áh
 <ğ
__kmp_ava_´oc
) {

5651 
__kmp_z”o_bt
 = 
FALSE
;

5656 
	`KMP_MB
();

5661 *
	`__kmp_Ïunch_th»ad
(
kmp_šfo_t
 *
this_thr
) {

5662 
gtid
 = 
this_thr
->
th
.
th_šfo
.
ds
.
ds_gtid
;

5664 
kmp_‹am_t
 **vŞ©
±—m
;

5666 
	`KMP_MB
();

5667 
	`KA_TRACE
(10, ("__kmp_Ïunch_th»ad: T#%d s¹\n", 
gtid
));

5669 ià(
__kmp_’v_cÚsi¡’cy_check
) {

5670 
this_thr
->
th
.
th_cÚs
 = 
	`__kmp_®loÿ‹_cÚs_¡ack
(
gtid
);

5673 #ià
OMPT_SUPPORT


5674 
om±_d©a_t
 *
th»ad_d©a
;

5675 ià(
om±_’abËd
.
’abËd
) {

5676 
th»ad_d©a
 = &(
this_thr
->
th
.
om±_th»ad_šfo
.thread_data);

5677 *
th»ad_d©a
 = 
om±_d©a_nÚe
;

5679 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

5680 
this_thr
->
th
.
om±_th»ad_šfo
.
wa™_id
 = 0;

5681 
this_thr
->
th
.
om±_th»ad_šfo
.
idË_äame
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

5682 
this_thr
->
th
.
om±_th»ad_šfo
.
·¿Î–_æags
 = 0;

5683 ià(
om±_’abËd
.
om±_ÿÎback_th»ad_begš
) {

5684 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_th»ad_begš
)(

5685 
om±_th»ad_wÜk”
, 
th»ad_d©a
);

5687 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_idË
;

5692 !
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

5693 
	`KMP_DEBUG_ASSERT
(
this_thr
 =ğ
__kmp_th»ads
[
gtid
]);

5694 
	`KMP_MB
();

5697 
	`KA_TRACE
(20, ("__kmp_Ïunch_th»ad: T#%d wa™šg fÜ wÜk\n", 
gtid
));

5700 
	`__kmp_fÜk_b¬r›r
(
gtid
, 
KMP_GTID_DNE
);

5702 #ià
OMPT_SUPPORT


5703 ià(
om±_’abËd
.
’abËd
) {

5704 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

5708 
±—m
 = &
this_thr
->
th
.
th_‹am
;

5711 ià(
	`TCR_SYNC_PTR
(*
±—m
è&& !
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

5713 ià(
	`TCR_SYNC_PTR
((*
±—m
)->
t
.
t_pkâ
è!ğ
NULL
) {

5714 
rc
;

5715 
	`KA_TRACE
(20,

5717 
gtid
, (*
±—m
)->
t
.
t_id
, 
	`__kmp_tid_äom_gtid
(gtid),

5718 (*
±—m
)->
t
.
t_pkâ
));

5720 
	`upd©eHWFPCÚŒŞ
(*
±—m
);

5722 #ià
OMPT_SUPPORT


5723 ià(
om±_’abËd
.
’abËd
) {

5724 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_wÜk_·¿Î–
;

5728 
rc
 = (*
±—m
)->
t
.
	`t_švoke
(
gtid
);

5729 
	`KMP_ASSERT
(
rc
);

5731 
	`KMP_MB
();

5732 
	`KA_TRACE
(20, ("__kmp_launch_thread: T#%d(%d:%d) done microtask = %p\n",

5733 
gtid
, (*
±—m
)->
t
.
t_id
, 
	`__kmp_tid_äom_gtid
(gtid),

5734 (*
±—m
)->
t
.
t_pkâ
));

5736 #ià
OMPT_SUPPORT


5737 ià(
om±_’abËd
.
’abËd
) {

5739 
	`__om±_g‘_sk_šfo_objeù
(0)->
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

5741 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

5745 
	`__kmp_još_b¬r›r
(
gtid
);

5748 
	`TCR_SYNC_PTR
((
šŒ_t
)
__kmp_glob®
.
g
.
g_dÚe
);

5750 #ià
OMPT_SUPPORT


5751 ià(
om±_’abËd
.
om±_ÿÎback_th»ad_’d
) {

5752 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_th»ad_’d
)(
th»ad_d©a
);

5756 
this_thr
->
th
.
th_sk_‹am
 = 
NULL
;

5758 
	`__kmp_commÚ_de¡roy_gtid
(
gtid
);

5760 
	`KA_TRACE
(10, ("__kmp_Ïunch_th»ad: T#%d dÚe\n", 
gtid
));

5761 
	`KMP_MB
();

5762  
this_thr
;

5767 
	`__kmp_š‹º®_’d_de¡
(*
¥ecific_gtid
) {

5768 #ià
KMP_COMPILER_ICC


5769 #´agm¨
	`w¬nšg
(
push
)

5770 #´agm¨
	`w¬nšg
(
di§bË
 : 810)

5774 
gtid
 = (
kmp_šŒ_t
)
¥ecific_gtid
 - 1;

5775 #ià
KMP_COMPILER_ICC


5776 #´agm¨
	`w¬nšg
(
pİ
)

5779 
	`KA_TRACE
(30, ("__kmp_š‹º®_’d_de¡: T#%d\n", 
gtid
));

5792 ià(
gtid
 >ğ0 && 
	`KMP_UBER_GTID
(gtid))

5793 
	`__kmp_gtid_£t_¥ecific
(
gtid
);

5794 #ifdeà
KMP_TDATA_GTID


5795 
__kmp_gtid
 = 
gtid
;

5797 
	`__kmp_š‹º®_’d_th»ad
(
gtid
);

5800 #ià
KMP_OS_UNIX
 && 
KMP_DYNAMIC_LIB


5802 
	`__©Œibu‹__
((
de¡ruùÜ
)è
	`__kmp_š‹º®_’d_dtÜ
() {

5803 
	`__kmp_š‹º®_’d_©ex™
();

5810 
	`__kmp_š‹º®_’d_©ex™
() {

5811 
	`KA_TRACE
(30, ("__kmp_internal_end_atexit\n"));

5835 
	`__kmp_š‹º®_’d_lib¿ry
(-1);

5836 #ià
KMP_OS_WINDOWS


5837 
	`__kmp_şo£_cÚsŞe
();

5841 
	`__kmp_»­_th»ad
(
kmp_šfo_t
 *
th»ad
, 
is_roÙ
) {

5844 
gtid
;

5846 
	`KMP_DEBUG_ASSERT
(
th»ad
 !ğ
NULL
);

5848 
gtid
 = 
th»ad
->
th
.
th_šfo
.
ds
.
ds_gtid
;

5850 ià(!
is_roÙ
) {

5851 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

5853 
	`KA_TRACE
(

5855 
gtid
));

5858 
	`ANNOTATE_HAPPENS_BEFORE
(
th»ad
);

5859 
kmp_æag_64
 
	`æag
(&
th»ad
->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_go
,hread);

5860 
	`__kmp_»Ëa£_64
(&
æag
);

5864 
	`__kmp_»­_wÜk”
(
th»ad
);

5876 ià(
th»ad
->
th
.
th_aùive_š_poŞ
) {

5877 
th»ad
->
th
.
th_aùive_š_poŞ
 = 
FALSE
;

5878 
	`KMP_ATOMIC_DEC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

5879 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ad_poŞ_aùive_Áh
 >= 0);

5883 
	`__kmp_ä“_im¶ic™_sk
(
th»ad
);

5886 #ià
USE_FAST_MEMORY


5887 
	`__kmp_ä“_ç¡_memÜy
(
th»ad
);

5890 
	`__kmp_su¥’d_unš™Ÿlize_th»ad
(
th»ad
);

5892 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
[
gtid
] =ğ
th»ad
);

5893 
	`TCW_SYNC_PTR
(
__kmp_th»ads
[
gtid
], 
NULL
);

5895 --
__kmp_®l_Áh
;

5898 #ifdeà
KMP_ADJUST_BLOCKTIME


5901 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

5902 
	`KMP_DEBUG_ASSERT
(
__kmp_ava_´oc
 > 0);

5903 ià(
__kmp_Áh
 <ğ
__kmp_ava_´oc
) {

5904 
__kmp_z”o_bt
 = 
FALSE
;

5910 ià(
__kmp_’v_cÚsi¡’cy_check
) {

5911 ià(
th»ad
->
th
.
th_cÚs
) {

5912 
	`__kmp_ä“_cÚs_¡ack
(
th»ad
->
th
.
th_cÚs
);

5913 
th»ad
->
th
.
th_cÚs
 = 
NULL
;

5917 ià(
th»ad
->
th
.
th_´i_commÚ
 !ğ
NULL
) {

5918 
	`__kmp_ä“
(
th»ad
->
th
.
th_´i_commÚ
);

5919 
th»ad
->
th
.
th_´i_commÚ
 = 
NULL
;

5922 ià(
th»ad
->
th
.
th_sk_¡©e_memo_¡ack
 !ğ
NULL
) {

5923 
	`__kmp_ä“
(
th»ad
->
th
.
th_sk_¡©e_memo_¡ack
);

5924 
th»ad
->
th
.
th_sk_¡©e_memo_¡ack
 = 
NULL
;

5927 #ià
KMP_USE_BGET


5928 ià(
th»ad
->
th
.
th_loÿl
.
bg‘_d©a
 !ğ
NULL
) {

5929 
	`__kmp_fš®ize_bg‘
(
th»ad
);

5933 #ià
KMP_AFFINITY_SUPPORTED


5934 ià(
th»ad
->
th
.
th_affš_mask
 !ğ
NULL
) {

5935 
	`KMP_CPU_FREE
(
th»ad
->
th
.
th_affš_mask
);

5936 
th»ad
->
th
.
th_affš_mask
 = 
NULL
;

5940 #ià
KMP_USE_HIER_SCHED


5941 ià(
th»ad
->
th
.
th_h›r_b¬_d©a
 !ğ
NULL
) {

5942 
	`__kmp_ä“
(
th»ad
->
th
.
th_h›r_b¬_d©a
);

5943 
th»ad
->
th
.
th_h›r_b¬_d©a
 = 
NULL
;

5947 
	`__kmp_»­_‹am
(
th»ad
->
th
.
th_£rŸl_‹am
);

5948 
th»ad
->
th
.
th_£rŸl_‹am
 = 
NULL
;

5949 
	`__kmp_ä“
(
th»ad
);

5951 
	`KMP_MB
();

5955 
	`__kmp_š‹º®_’d
() {

5956 
i
;

5959 
	`__kmp_uÄegi¡”_lib¿ry
();

5961 #ià
KMP_OS_WINDOWS


5966 
	`__kmp_»şaim_d—d_roÙs
();

5970 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++)

5971 ià(
__kmp_roÙ
[
i
])

5972 ià(
__kmp_roÙ
[
i
]->
r
.
r_aùive
)

5974 
	`KMP_MB
();

5975 
	`TCW_SYNC_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
TRUE
);

5977 ià(
i
 < 
__kmp_th»ads_ÿ·c™y
) {

5978 #ià
KMP_USE_MONITOR


5980 
	`KMP_MB
();

5989 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

5990 ià(
	`TCR_4
(
__kmp_š™_mÚ™Ü
)) {

5991 
	`__kmp_»­_mÚ™Ü
(&
__kmp_mÚ™Ü
);

5992 
	`TCW_4
(
__kmp_š™_mÚ™Ü
, 0);

5994 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

5995 
	`KA_TRACE
(10, ("__kmp_internal_end: monitor„eaped\n"));

5999 #ifdeà
KMP_DEBUG


6001 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++) {

6002 ià(
__kmp_roÙ
[
i
]) {

6005 
	`KMP_ASSERT
(!
__kmp_roÙ
[
i
]->
r
.
r_aùive
);

6010 
	`KMP_MB
();

6014 
__kmp_th»ad_poŞ
 !ğ
NULL
) {

6016 
kmp_šfo_t
 *
th»ad
 = 
	`CCAST
(kmp_šfo_ˆ*, 
__kmp_th»ad_poŞ
);

6017 
__kmp_th»ad_poŞ
 = 
th»ad
->
th
.
th_Ãxt_poŞ
;

6019 
	`KMP_DEBUG_ASSERT
(
th»ad
->
th
.
th_»­_¡©e
 =ğ
KMP_SAFE_TO_REAP
);

6020 
th»ad
->
th
.
th_Ãxt_poŞ
 = 
NULL
;

6021 
th»ad
->
th
.
th_š_poŞ
 = 
FALSE
;

6022 
	`__kmp_»­_th»ad
(
th»ad
, 0);

6024 
__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

6027 
__kmp_‹am_poŞ
 !ğ
NULL
) {

6029 
kmp_‹am_t
 *
‹am
 = 
	`CCAST
(kmp_‹am_ˆ*, 
__kmp_‹am_poŞ
);

6030 
__kmp_‹am_poŞ
 = 
‹am
->
t
.
t_Ãxt_poŞ
;

6032 
‹am
->
t
.
t_Ãxt_poŞ
 = 
NULL
;

6033 
	`__kmp_»­_‹am
(
‹am
);

6036 
	`__kmp_»­_sk_‹ams
();

6038 #ià
KMP_OS_UNIX


6043 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++) {

6044 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
i
];

6045 
thr
 && 
	`KMP_ATOMIC_LD_ACQ
(&thr->
th
.
th_blockšg
))

6046 
	`KMP_CPU_PAUSE
();

6050 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; ++i) {

6057 
	`TCW_SYNC_4
(
__kmp_š™_commÚ
, 
FALSE
);

6059 
	`KA_TRACE
(10, ("__kmp_internal_end:‡ll workers„eaped\n"));

6060 
	`KMP_MB
();

6062 #ià
KMP_USE_MONITOR


6067 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

6068 ià(
	`TCR_4
(
__kmp_š™_mÚ™Ü
)) {

6069 
	`__kmp_»­_mÚ™Ü
(&
__kmp_mÚ™Ü
);

6070 
	`TCW_4
(
__kmp_š™_mÚ™Ü
, 0);

6072 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

6073 
	`KA_TRACE
(10, ("__kmp_internal_end: monitor„eaped\n"));

6076 
	`TCW_4
(
__kmp_š™_gtid
, 
FALSE
);

6077 
	`KMP_MB
();

6079 
	`__kmp_ş—nup
();

6080 #ià
OMPT_SUPPORT


6081 
	`om±_fši
();

6085 
	`__kmp_š‹º®_’d_lib¿ry
(
gtid_»q
) {

6092 ià(
__kmp_glob®
.
g
.
g_abÜt
) {

6093 
	`KA_TRACE
(11, ("__kmp_internal_end_library:‡bort,ƒxiting\n"));

6097 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
è|| !
__kmp_š™_£rŸl
) {

6098 
	`KA_TRACE
(10, ("__kmp_internal_end_library:‡lready finished\n"));

6102 
	`KMP_MB
();

6106 
gtid
 = (
gtid_»q
 >ğ0è? gtid_»q : 
	`__kmp_gtid_g‘_¥ecific
();

6107 
	`KA_TRACE
(

6108 10, ("__kmp_š‹º®_’d_lib¿ry:ƒÁ” T#%d (%d)\n", 
gtid
, 
gtid_»q
));

6109 ià(
gtid
 =ğ
KMP_GTID_SHUTDOWN
) {

6110 
	`KA_TRACE
(10, ("__kmp_internal_end_library: !__kmp_init_runtime, system "

6113 } ià(
gtid
 =ğ
KMP_GTID_MONITOR
) {

6114 
	`KA_TRACE
(10, ("__kmp_internal_end_library: monitorhread, gtid‚ot "

6117 } ià(
gtid
 =ğ
KMP_GTID_DNE
) {

6118 
	`KA_TRACE
(10, ("__kmp_internal_end_library: gtid‚ot„egistered or system "

6121 } ià(
	`KMP_UBER_GTID
(
gtid
)) {

6123 ià(
__kmp_roÙ
[
gtid
]->
r
.
r_aùive
) {

6124 
__kmp_glob®
.
g
.
g_abÜt
 = -1;

6125 
	`TCW_SYNC_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
TRUE
);

6126 
	`KA_TRACE
(10,

6128 
gtid
));

6131 
	`KA_TRACE
(

6133 ("__kmp_š‹º®_’d_lib¿ry: uÄegi¡”šg siblšg T#%d\n", 
gtid
));

6134 
	`__kmp_uÄegi¡”_roÙ_cu¼’t_th»ad
(
gtid
);

6141 #ifdeà
DUMP_DEBUG_ON_EXIT


6142 ià(
__kmp_debug_buf
)

6143 
	`__kmp_dump_debug_bufãr
();

6149 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6152 ià(
__kmp_glob®
.
g
.
g_abÜt
) {

6153 
	`KA_TRACE
(10, ("__kmp_internal_end_library:‡bort,ƒxiting\n"));

6155 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6158 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
è|| !
__kmp_š™_£rŸl
) {

6159 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6168 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6171 
	`__kmp_š‹º®_’d
();

6173 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6174 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6176 
	`KA_TRACE
(10, ("__kmp_internal_end_library:ƒxit\n"));

6178 #ifdeà
DUMP_DEBUG_ON_EXIT


6179 ià(
__kmp_debug_buf
)

6180 
	`__kmp_dump_debug_bufãr
();

6183 #ià
KMP_OS_WINDOWS


6184 
	`__kmp_şo£_cÚsŞe
();

6187 
	`__kmp_fši_®loÿtÜ
();

6191 
	`__kmp_š‹º®_’d_th»ad
(
gtid_»q
) {

6192 
i
;

6200 ià(
__kmp_glob®
.
g
.
g_abÜt
) {

6201 
	`KA_TRACE
(11, ("__kmp_internal_end_thread:‡bort,ƒxiting\n"));

6205 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
è|| !
__kmp_š™_£rŸl
) {

6206 
	`KA_TRACE
(10, ("__kmp_internal_end_thread:‡lready finished\n"));

6210 
	`KMP_MB
();

6214 
gtid
 = (
gtid_»q
 >ğ0è? gtid_»q : 
	`__kmp_gtid_g‘_¥ecific
();

6215 
	`KA_TRACE
(10,

6216 ("__kmp_š‹º®_’d_th»ad:ƒÁ” T#%d (%d)\n", 
gtid
, 
gtid_»q
));

6217 ià(
gtid
 =ğ
KMP_GTID_SHUTDOWN
) {

6218 
	`KA_TRACE
(10, ("__kmp_internal_end_thread: !__kmp_init_runtime, system "

6221 } ià(
gtid
 =ğ
KMP_GTID_MONITOR
) {

6222 
	`KA_TRACE
(10, ("__kmp_internal_end_thread: monitorhread, gtid‚ot "

6225 } ià(
gtid
 =ğ
KMP_GTID_DNE
) {

6226 
	`KA_TRACE
(10, ("__kmp_internal_end_thread: gtid‚ot„egistered or system "

6230 } ià(
	`KMP_UBER_GTID
(
gtid
)) {

6232 ià(
__kmp_roÙ
[
gtid
]->
r
.
r_aùive
) {

6233 
__kmp_glob®
.
g
.
g_abÜt
 = -1;

6234 
	`TCW_SYNC_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
TRUE
);

6235 
	`KA_TRACE
(10,

6237 
gtid
));

6240 
	`KA_TRACE
(10, ("__kmp_internal_end_thread: unregistering sibling T#%d\n",

6241 
gtid
));

6242 
	`__kmp_uÄegi¡”_roÙ_cu¼’t_th»ad
(
gtid
);

6246 
	`KA_TRACE
(10, ("__kmp_š‹º®_’d_th»ad: wÜk”h»ad T#%d\n", 
gtid
));

6248 ià(
gtid
 >= 0) {

6249 
__kmp_th»ads
[
gtid
]->
th
.
th_sk_‹am
 = 
NULL
;

6252 
	`KA_TRACE
(10,

6254 
gtid
));

6258 #ià
KMP_DYNAMIC_LIB


6259 ià(
__kmp_·u£_¡©us
 !ğ
kmp_h¬d_·u£d
)

6263 
	`KA_TRACE
(10, ("__kmp_š‹º®_’d_th»ad:ƒx™šg T#%d\n", 
gtid_»q
));

6268 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6271 ià(
__kmp_glob®
.
g
.
g_abÜt
) {

6272 
	`KA_TRACE
(10, ("__kmp_internal_end_thread:‡bort,ƒxiting\n"));

6274 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6277 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
è|| !
__kmp_š™_£rŸl
) {

6278 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6289 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6291 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; ++i) {

6292 ià(
	`KMP_UBER_GTID
(
i
)) {

6293 
	`KA_TRACE
(

6295 ("__kmp_š‹º®_’d_th»ad:„emaššg siblšgask: gtid==%d\n", 
i
));

6296 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6297 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6304 
	`__kmp_š‹º®_’d
();

6306 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6307 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6309 
	`KA_TRACE
(10, ("__kmp_š‹º®_’d_th»ad:ƒx™ T#%d\n", 
gtid_»q
));

6311 #ifdeà
DUMP_DEBUG_ON_EXIT


6312 ià(
__kmp_debug_buf
)

6313 
	`__kmp_dump_debug_bufãr
();

6320 
__kmp_»gi¡¿tiÚ_æag
 = 0;

6322 *
__kmp_»gi¡¿tiÚ_¡r
 = 
NULL
;

6325 
šlše
 *
	`__kmp_»g_¡©us_Çme
() {

6330  
	`__kmp_¡r_fÜm©
("__KMP_REGISTERED_LIB_%d", ()
	`g‘pid
());

6333 
	`__kmp_»gi¡”_lib¿ry_¡¬tup
() {

6335 *
Çme
 = 
	`__kmp_»g_¡©us_Çme
();

6336 
dÚe
 = 0;

6338 
dtime
;

6339 
Éime
;

6340 } 
time
;

6341 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


6342 
	`__kmp_š™Ÿlize_sy¡em_tick
();

6344 
	`__kmp_»ad_sy¡em_time
(&
time
.
dtime
);

6345 
__kmp_»gi¡¿tiÚ_æag
 = 0xCAFE0000L | (
time
.
Éime
 & 0x0000FFFFL);

6346 
__kmp_»gi¡¿tiÚ_¡r
 =

6347 
	`__kmp_¡r_fÜm©
("%p-%lx-%s", &
__kmp_»gi¡¿tiÚ_æag
,

6348 
__kmp_»gi¡¿tiÚ_æag
, 
KMP_LIBRARY_FILE
);

6350 
	`KA_TRACE
(50, ("__kmp_»gi¡”_lib¿ry_¡¬tup: %s=\"%s\"\n", 
Çme
,

6351 
__kmp_»gi¡¿tiÚ_¡r
));

6353 !
dÚe
) {

6355 *
v®ue
 = 
NULL
;

6358 
	`__kmp_’v_£t
(
Çme
, 
__kmp_»gi¡¿tiÚ_¡r
, 0);

6360 
v®ue
 = 
	`__kmp_’v_g‘
(
Çme
);

6361 ià(
v®ue
 !ğ
NULL
 && 
	`¡rcmp
(v®ue, 
__kmp_»gi¡¿tiÚ_¡r
) == 0) {

6363 
dÚe
 = 1;

6369 
ÃighbÜ
 = 0;

6370 *

 = 
v®ue
;

6371 *
æag_addr_¡r
 = 
NULL
;

6372 *
æag_v®_¡r
 = 
NULL
;

6373 cÚ¡ *
fe_Çme
 = 
NULL
;

6374 
	`__kmp_¡r_¥l™
(

, '-', &
æag_addr_¡r
, &tail);

6375 
	`__kmp_¡r_¥l™
(

, '-', &
æag_v®_¡r
, &tail);

6376 
fe_Çme
 = 

;

6377 ià(

 !ğ
NULL
) {

6378 *
æag_addr
 = 0;

6379 
æag_v®
 = 0;

6380 
	`KMP_SSCANF
(
æag_addr_¡r
, "%p", 
	`RCAST
(**, &
æag_addr
));

6381 
	`KMP_SSCANF
(
æag_v®_¡r
, "%lx", &
æag_v®
);

6382 ià(
æag_addr
 !ğ0 && 
æag_v®
 !ğ0 && 
	`¡rcmp
(
fe_Çme
, "") != 0) {

6386 ià(
	`__kmp_is_add»ss_m­³d
(
æag_addr
è&& *æag_add¸=ğ
æag_v®
) {

6387 
ÃighbÜ
 = 1;

6391 
ÃighbÜ
 = 2;

6395 
ÃighbÜ
) {

6400 
fe_Çme
 = "unknown†ibrary";

6401 
	`KMP_FALLTHROUGH
();

6405 *
du¶iÿ‹_ok
 = 
	`__kmp_’v_g‘
("KMP_DUPLICATE_LIB_OK");

6406 ià(!
	`__kmp_¡r_m©ch_Œue
(
du¶iÿ‹_ok
)) {

6408 
	`__kmp_çl
(
	`KMP_MSG
(
Du¶iÿ‹Lib¿ry
, 
KMP_LIBRARY_FILE
, 
fe_Çme
),

6409 
	`KMP_HNT
(
Du¶iÿ‹Lib¿ry
), 
__kmp_msg_nuÎ
);

6411 
	`KMP_INTERNAL_FREE
(
du¶iÿ‹_ok
);

6412 
__kmp_du¶iÿ‹_lib¿ry_ok
 = 1;

6413 
dÚe
 = 1;

6417 
	`__kmp_’v_un£t
(
Çme
);

6419 : { 
	`KMP_DEBUG_ASSERT
(0); } ;

6422 
	`KMP_INTERNAL_FREE
((*)
v®ue
);

6424 
	`KMP_INTERNAL_FREE
((*)
Çme
);

6428 
	`__kmp_uÄegi¡”_lib¿ry
() {

6430 *
Çme
 = 
	`__kmp_»g_¡©us_Çme
();

6431 *
v®ue
 = 
	`__kmp_’v_g‘
(
Çme
);

6433 
	`KMP_DEBUG_ASSERT
(
__kmp_»gi¡¿tiÚ_æag
 != 0);

6434 
	`KMP_DEBUG_ASSERT
(
__kmp_»gi¡¿tiÚ_¡r
 !ğ
NULL
);

6435 ià(
v®ue
 !ğ
NULL
 && 
	`¡rcmp
(v®ue, 
__kmp_»gi¡¿tiÚ_¡r
) == 0) {

6437 
	`__kmp_’v_un£t
(
Çme
);

6440 
	`KMP_INTERNAL_FREE
(
__kmp_»gi¡¿tiÚ_¡r
);

6441 
	`KMP_INTERNAL_FREE
(
v®ue
);

6442 
	`KMP_INTERNAL_FREE
(
Çme
);

6444 
__kmp_»gi¡¿tiÚ_æag
 = 0;

6445 
__kmp_»gi¡¿tiÚ_¡r
 = 
NULL
;

6452 #ià
KMP_MIC_SUPPORTED


6454 
	`__kmp_check_mic_ty³
() {

6455 
kmp_ıuid_t
 
ıuid_¡©e
 = {0};

6456 
kmp_ıuid_t
 *
cs_p
 = &
ıuid_¡©e
;

6457 
	`__kmp_x86_ıuid
(1, 0, 
cs_p
);

6459 ià((
cs_p
->
—x
 & 0xff0) == 0xB10) {

6460 
__kmp_mic_ty³
 = 
mic2
;

6461 } ià((
cs_p
->
—x
 & 0xf0ff0) == 0x50670) {

6462 
__kmp_mic_ty³
 = 
mic3
;

6464 
__kmp_mic_ty³
 = 
nÚ_mic
;

6470 
	`__kmp_do_£rŸl_š™Ÿlize
() {

6471 
i
, 
gtid
;

6472 
size
;

6474 
	`KA_TRACE
(10, ("__kmp_do_serial_initialize:ƒnter\n"));

6476 
	`KMP_DEBUG_ASSERT
((
kmp_št32
) == 4);

6477 
	`KMP_DEBUG_ASSERT
((
kmp_ušt32
) == 4);

6478 
	`KMP_DEBUG_ASSERT
((
kmp_št64
) == 8);

6479 
	`KMP_DEBUG_ASSERT
((
kmp_ušt64
) == 8);

6480 
	`KMP_DEBUG_ASSERT
((
kmp_šŒ_t
) == (*));

6482 #ià
OMPT_SUPPORT


6483 
	`om±_´e_š™
();

6486 
	`__kmp_v®id©e_locks
();

6489 
	`__kmp_š™_®loÿtÜ
();

6494 
	`__kmp_»gi¡”_lib¿ry_¡¬tup
();

6497 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

6498 
	`KA_TRACE
(10, ("__kmp_do_serial_initialize:„einitialization of†ibrary\n"));

6501 
__kmp_glob®
.
g
.
g_abÜt
 = 0;

6502 
	`TCW_SYNC_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
FALSE
);

6505 #ià
KMP_USE_ADAPTIVE_LOCKS


6506 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


6507 
	`__kmp_š™_¥ecuÏtive_¡©s
();

6510 #ià
KMP_STATS_ENABLED


6511 
	`__kmp_¡©s_š™
();

6513 
	`__kmp_š™_lock
(&
__kmp_glob®_lock
);

6514 
	`__kmp_š™_queušg_lock
(&
__kmp_di¥©ch_lock
);

6515 
	`__kmp_š™_lock
(&
__kmp_debug_lock
);

6516 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock
);

6517 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_1i
);

6518 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_2i
);

6519 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_4i
);

6520 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_4r
);

6521 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_8i
);

6522 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_8r
);

6523 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_8c
);

6524 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_10r
);

6525 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_16r
);

6526 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_16c
);

6527 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_20c
);

6528 
	`__kmp_š™_©omic_lock
(&
__kmp_©omic_lock_32c
);

6529 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

6530 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_ex™_lock
);

6531 #ià
KMP_USE_MONITOR


6532 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_mÚ™Ü_lock
);

6534 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp__ÿched_lock
);

6538 
	`__kmp_ruÁime_š™Ÿlize
();

6540 #ià
KMP_MIC_SUPPORTED


6541 
	`__kmp_check_mic_ty³
();

6545 #ifdeà
KMP_DEBUG


6546 
kmp_dŸg
 = 0;

6548 
__kmp_abÜt_d–ay
 = 0;

6552 
__kmp_dæt_‹am_Áh_ub
 = 
__kmp_x´oc
;

6553 ià(
__kmp_dæt_‹am_Áh_ub
 < 
KMP_MIN_NTH
) {

6554 
__kmp_dæt_‹am_Áh_ub
 = 
KMP_MIN_NTH
;

6556 ià(
__kmp_dæt_‹am_Áh_ub
 > 
__kmp_sys_max_Áh
) {

6557 
__kmp_dæt_‹am_Áh_ub
 = 
__kmp_sys_max_Áh
;

6559 
__kmp_max_Áh
 = 
__kmp_sys_max_Áh
;

6560 
__kmp_cg_max_Áh
 = 
__kmp_sys_max_Áh
;

6561 
__kmp_‹ams_max_Áh
 = 
__kmp_x´oc
;

6562 ià(
__kmp_‹ams_max_Áh
 > 
__kmp_sys_max_Áh
) {

6563 
__kmp_‹ams_max_Áh
 = 
__kmp_sys_max_Áh
;

6568 
__kmp_dæt_blocktime
 = 
KMP_DEFAULT_BLOCKTIME
;

6569 #ià
KMP_USE_MONITOR


6570 
__kmp_mÚ™Ü_wakeups
 =

6571 
	`KMP_WAKEUPS_FROM_BLOCKTIME
(
__kmp_dæt_blocktime
, 
__kmp_mÚ™Ü_wakeups
);

6572 
__kmp_bt_š‹rv®s
 =

6573 
	`KMP_INTERVALS_FROM_BLOCKTIME
(
__kmp_dæt_blocktime
, 
__kmp_mÚ™Ü_wakeups
);

6576 
__kmp_lib¿ry
 = 
lib¿ry_throughput
;

6578 
__kmp_¡©ic
 = 
kmp_sch_¡©ic_b®ªûd
;

6585 #ià
KMP_FAST_REDUCTION_BARRIER


6586 
	#kmp_»duùiÚ_b¬r›r_g©h”_bb
 (()1)

	)

6587 
	#kmp_»duùiÚ_b¬r›r_»Ëa£_bb
 (()1)

	)

6588 
	#kmp_»duùiÚ_b¬r›r_g©h”_·t
 
bp_hy³r_b¬


	)

6589 
	#kmp_»duùiÚ_b¬r›r_»Ëa£_·t
 
bp_hy³r_b¬


	)

6591 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; i++) {

6592 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
] = 
__kmp_b¬r›r_g©h”_bb_dæt
;

6593 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] = 
__kmp_b¬r›r_»Ëa£_bb_dæt
;

6594 
__kmp_b¬r›r_g©h”_·‰”n
[
i
] = 
__kmp_b¬r›r_g©h”_·t_dæt
;

6595 
__kmp_b¬r›r_»Ëa£_·‰”n
[
i
] = 
__kmp_b¬r›r_»Ëa£_·t_dæt
;

6596 #ià
KMP_FAST_REDUCTION_BARRIER


6597 ià(
i
 =ğ
bs_»duùiÚ_b¬r›r
) {

6599 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
] = 
kmp_»duùiÚ_b¬r›r_g©h”_bb
;

6600 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] = 
kmp_»duùiÚ_b¬r›r_»Ëa£_bb
;

6601 
__kmp_b¬r›r_g©h”_·‰”n
[
i
] = 
kmp_»duùiÚ_b¬r›r_g©h”_·t
;

6602 
__kmp_b¬r›r_»Ëa£_·‰”n
[
i
] = 
kmp_»duùiÚ_b¬r›r_»Ëa£_·t
;

6606 #ià
KMP_FAST_REDUCTION_BARRIER


6607 #undeà
kmp_»duùiÚ_b¬r›r_»Ëa£_·t


6608 #undeà
kmp_»duùiÚ_b¬r›r_g©h”_·t


6609 #undeà
kmp_»duùiÚ_b¬r›r_»Ëa£_bb


6610 #undeà
kmp_»duùiÚ_b¬r›r_g©h”_bb


6612 #ià
KMP_MIC_SUPPORTED


6613 ià(
__kmp_mic_ty³
 =ğ
mic2
) {

6615 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
bs_¶aš_b¬r›r
] = 3;

6616 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
bs_fÜkjoš_b¬r›r
] =

6618 
__kmp_b¬r›r_g©h”_·‰”n
[
bs_fÜkjoš_b¬r›r
] = 
bp_h›¿rchiÿl_b¬
;

6619 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bs_fÜkjoš_b¬r›r
] = 
bp_h›¿rchiÿl_b¬
;

6621 #ià
KMP_FAST_REDUCTION_BARRIER


6622 ià(
__kmp_mic_ty³
 =ğ
mic2
) {

6623 
__kmp_b¬r›r_g©h”_·‰”n
[
bs_»duùiÚ_b¬r›r
] = 
bp_h›¿rchiÿl_b¬
;

6624 
__kmp_b¬r›r_»Ëa£_·‰”n
[
bs_»duùiÚ_b¬r›r
] = 
bp_h›¿rchiÿl_b¬
;

6630 #ifdeà
KMP_DEBUG


6631 
__kmp_’v_checks
 = 
TRUE
;

6633 
__kmp_’v_checks
 = 
FALSE
;

6637 
__kmp_fÜeign_
 = 
TRUE
;

6639 
__kmp_glob®
.
g
.
g_dyÇmic
 = 
FALSE
;

6640 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_deçuÉ
;

6642 
	`__kmp_’v_š™Ÿlize
(
NULL
);

6645 #ifdeà
KMP_DEBUG


6646 cÚ¡ *
v®
 = 
	`__kmp_’v_g‘
("KMP_DUMP_CATALOG");

6647 ià(
	`__kmp_¡r_m©ch_Œue
(
v®
)) {

6648 
kmp_¡r_buf_t
 
bufãr
;

6649 
	`__kmp_¡r_buf_š™
(&
bufãr
);

6650 
	`__kmp_i18n_dump_ÿlog
(&
bufãr
);

6651 
	`__kmp_´štf
("%s", 
bufãr
.
¡r
);

6652 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

6654 
	`__kmp_’v_ä“
(&
v®
);

6657 
__kmp_th»ads_ÿ·c™y
 =

6658 
	`__kmp_š™Ÿl_th»ads_ÿ·c™y
(
__kmp_dæt_‹am_Áh_ub
);

6660 
__kmp__ÿ·c™y
 = 
	`__kmp_deçuÉ__ÿ·c™y
(

6661 
__kmp_dæt_‹am_Áh_ub
, 
__kmp_max_Áh
, 
__kmp_®lTh»adsS³cif›d
);

6666 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ad_poŞ
 =ğ
NULL
);

6667 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ad_poŞ_š£¹_±
 =ğ
NULL
);

6668 
	`KMP_DEBUG_ASSERT
(
__kmp_‹am_poŞ
 =ğ
NULL
);

6669 
__kmp_th»ad_poŞ
 = 
NULL
;

6670 
__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

6671 
__kmp_‹am_poŞ
 = 
NULL
;

6677 
size
 =

6678 ((
kmp_šfo_t
 *è+ (
kmp_roÙ_t
 *)è* 
__kmp_th»ads_ÿ·c™y
 +

6679 
CACHE_LINE
;

6680 
__kmp_th»ads
 = (
kmp_šfo_t
 **)
	`__kmp_®loÿ‹
(
size
);

6681 
__kmp_roÙ
 = (
kmp_roÙ_t
 **)((*)
__kmp_th»ads
 +

6682 (
kmp_šfo_t
 *è* 
__kmp_th»ads_ÿ·c™y
);

6685 
	`KMP_DEBUG_ASSERT
(
__kmp_®l_Áh
 ==

6687 
	`KMP_DEBUG_ASSERT
(
__kmp_Áh
 == 0);

6688 
__kmp_®l_Áh
 = 0;

6689 
__kmp_Áh
 = 0;

6692 
gtid
 = 
	`__kmp_»gi¡”_roÙ
(
TRUE
);

6693 
	`KA_TRACE
(10, ("__kmp_do_£rŸl_š™Ÿliz T#%d\n", 
gtid
));

6694 
	`KMP_ASSERT
(
	`KMP_UBER_GTID
(
gtid
));

6695 
	`KMP_ASSERT
(
	`KMP_INITIAL_GTID
(
gtid
));

6697 
	`KMP_MB
();

6699 
	`__kmp_commÚ_š™Ÿlize
();

6701 #ià
KMP_OS_UNIX


6703 
	`__kmp_»gi¡”_©fÜk
();

6706 #ià!
KMP_DYNAMIC_LIB


6710 
rc
 = 
	`©ex™
(
__kmp_š‹º®_’d_©ex™
);

6711 ià(
rc
 != 0) {

6712 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, "©ex™()"), 
	`KMP_ERR
(
rc
),

6713 
__kmp_msg_nuÎ
);

6718 #ià
KMP_HANDLE_SIGNALS


6719 #ià
KMP_OS_UNIX


6724 
	`__kmp_š¡®l_sigÇls
(
FALSE
);

6726 #ià
KMP_OS_WINDOWS


6727 
	`__kmp_š¡®l_sigÇls
(
TRUE
);

6732 
__kmp_š™_couÁ”
++;

6734 
__kmp_š™_£rŸl
 = 
TRUE
;

6736 ià(
__kmp_£‰šgs
) {

6737 
	`__kmp_’v_´št
();

6740 ià(
__kmp_di¥Ïy_’v
 || 
__kmp_di¥Ïy_’v_v”bo£
) {

6741 
	`__kmp_’v_´št_2
();

6744 #ià
OMPT_SUPPORT


6745 
	`om±_po¡_š™
();

6748 
	`KMP_MB
();

6750 
	`KA_TRACE
(10, ("__kmp_do_serial_initialize:ƒxit\n"));

6753 
	`__kmp_£rŸl_š™Ÿlize
() {

6754 ià(
__kmp_š™_£rŸl
) {

6757 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6758 ià(
__kmp_š™_£rŸl
) {

6759 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6762 
	`__kmp_do_£rŸl_š™Ÿlize
();

6763 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6766 
	`__kmp_do_middË_š™Ÿlize
() {

6767 
i
, 
j
;

6768 
´ev_dæt_‹am_Áh
;

6770 ià(!
__kmp_š™_£rŸl
) {

6771 
	`__kmp_do_£rŸl_š™Ÿlize
();

6774 
	`KA_TRACE
(10, ("__kmp_middle_initialize:ƒnter\n"));

6778 
´ev_dæt_‹am_Áh
 = 
__kmp_dæt_‹am_Áh
;

6780 #ià
KMP_AFFINITY_SUPPORTED


6783 
	`__kmp_affš™y_š™Ÿlize
();

6787 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++) {

6788 ià(
	`TCR_PTR
(
__kmp_th»ads
[
i
]è!ğ
NULL
) {

6789 
	`__kmp_affš™y_£t_š™_mask
(
i
, 
TRUE
);

6794 
	`KMP_ASSERT
(
__kmp_x´oc
 > 0);

6795 ià(
__kmp_ava_´oc
 == 0) {

6796 
__kmp_ava_´oc
 = 
__kmp_x´oc
;

6801 
j
 = 0;

6802 (
j
 < 
__kmp_Ã¡ed_Áh
.
u£d
è&& !__kmp_Ã¡ed_Áh.
Áh
[j]) {

6803 
__kmp_Ã¡ed_Áh
.
Áh
[
j
] = 
__kmp_dæt_‹am_Áh
 = 
__kmp_dæt_‹am_Áh_ub
 =

6804 
__kmp_ava_´oc
;

6805 
j
++;

6808 ià(
__kmp_dæt_‹am_Áh
 == 0) {

6809 #ifdeà
KMP_DFLT_NTH_CORES


6811 
__kmp_dæt_‹am_Áh
 = 
__kmp_ncÜes
;

6812 
	`KA_TRACE
(20, ("__kmp_middle_initialize: setting __kmp_dflt_team_nth = "

6814 
__kmp_dæt_‹am_Áh
));

6817 
__kmp_dæt_‹am_Áh
 = 
__kmp_ava_´oc
;

6818 
	`KA_TRACE
(20, ("__kmp_middle_initialize: setting __kmp_dflt_team_nth = "

6820 
__kmp_dæt_‹am_Áh
));

6824 ià(
__kmp_dæt_‹am_Áh
 < 
KMP_MIN_NTH
) {

6825 
__kmp_dæt_‹am_Áh
 = 
KMP_MIN_NTH
;

6827 ià(
__kmp_dæt_‹am_Áh
 > 
__kmp_sys_max_Áh
) {

6828 
__kmp_dæt_‹am_Áh
 = 
__kmp_sys_max_Áh
;

6833 
	`KMP_DEBUG_ASSERT
(
__kmp_dæt_‹am_Áh
 <ğ
__kmp_dæt_‹am_Áh_ub
);

6835 ià(
__kmp_dæt_‹am_Áh
 !ğ
´ev_dæt_‹am_Áh
) {

6840 
i
 = 0; i < 
__kmp_th»ads_ÿ·c™y
; i++) {

6841 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
i
];

6842 ià(
th»ad
 =ğ
NULL
)

6844 ià(
th»ad
->
th
.
th_cu¼’t_sk
->
td_icvs
.
Åroc
 != 0)

6847 
	`£t__Åroc
(
__kmp_th»ads
[
i
], 
__kmp_dæt_‹am_Áh
);

6850 
	`KA_TRACE
(

6853 
__kmp_dæt_‹am_Áh
));

6855 #ifdeà
KMP_ADJUST_BLOCKTIME


6857 ià(!
__kmp_’v_blocktime
 && (
__kmp_ava_´oc
 > 0)) {

6858 
	`KMP_DEBUG_ASSERT
(
__kmp_ava_´oc
 > 0);

6859 ià(
__kmp_Áh
 > 
__kmp_ava_´oc
) {

6860 
__kmp_z”o_bt
 = 
TRUE
;

6866 
	`TCW_SYNC_4
(
__kmp_š™_middË
, 
TRUE
);

6868 
	`KA_TRACE
(10, ("__kmp_do_middle_initialize:ƒxit\n"));

6871 
	`__kmp_middË_š™Ÿlize
() {

6872 ià(
__kmp_š™_middË
) {

6875 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6876 ià(
__kmp_š™_middË
) {

6877 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6880 
	`__kmp_do_middË_š™Ÿlize
();

6881 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6884 
	`__kmp_·¿Î–_š™Ÿlize
() {

6885 
gtid
 = 
	`__kmp_’Œy_gtid
();

6888 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
))

6890 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6891 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

6892 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6897 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

6898 
	`KA_TRACE
(

6901 
	`__kmp_šfš™e_loİ
();

6907 ià(!
__kmp_š™_middË
) {

6908 
	`__kmp_do_middË_š™Ÿlize
();

6910 
	`__kmp_»sume_if_h¬d_·u£d
();

6913 
	`KA_TRACE
(10, ("__kmp_parallel_initialize:ƒnter\n"));

6914 
	`KMP_ASSERT
(
	`KMP_UBER_GTID
(
gtid
));

6916 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


6919 
	`__kmp_¡Üe_x87_åu_cÚŒŞ_wÜd
(&
__kmp_š™_x87_åu_cÚŒŞ_wÜd
);

6920 
	`__kmp_¡Üe_mxc¤
(&
__kmp_š™_mxc¤
);

6921 
__kmp_š™_mxc¤
 &ğ
KMP_X86_MXCSR_MASK
;

6924 #ià
KMP_OS_UNIX


6925 #ià
KMP_HANDLE_SIGNALS


6927 
	`__kmp_š¡®l_sigÇls
(
TRUE
);

6931 
	`__kmp_su¥’d_š™Ÿlize
();

6933 #ià
	`defšed
(
USE_LOAD_BALANCE
)

6934 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_deçuÉ
) {

6935 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_lßd_b®ªû
;

6938 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_deçuÉ
) {

6939 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_th»ad_lim™
;

6943 ià(
__kmp_v”siÚ
) {

6944 
	`__kmp_´št_v”siÚ_2
();

6948 
	`TCW_SYNC_4
(
__kmp_š™_·¿Î–
, 
TRUE
);

6950 
	`KMP_MB
();

6951 
	`KA_TRACE
(10, ("__kmp_parallel_initialize:ƒxit\n"));

6953 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

6958 
	`__kmp_run_befÜe_švoked_sk
(
gtid
, 
tid
, 
kmp_šfo_t
 *
this_thr
,

6959 
kmp_‹am_t
 *
‹am
) {

6960 
kmp_di¥_t
 *
di¥©ch
;

6962 
	`KMP_MB
();

6965 
this_thr
->
th
.
th_loÿl
.
this_cÚ¡ruù
 = 0;

6966 #ià
KMP_CACHE_MANAGE


6967 
	`KMP_CACHE_PREFETCH
(&
this_thr
->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_¬rived
);

6969 
di¥©ch
 = (
kmp_di¥_t
 *)
	`TCR_PTR
(
this_thr
->
th
.
th_di¥©ch
);

6970 
	`KMP_DEBUG_ASSERT
(
di¥©ch
);

6971 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥©ch
);

6975 
di¥©ch
->
th_di¥_šdex
 = 0;

6976 
di¥©ch
->
th_dßüoss_buf_idx
 = 0;

6977 ià(
__kmp_’v_cÚsi¡’cy_check
)

6978 
	`__kmp_push_·¿Î–
(
gtid
, 
‹am
->
t
.
t_id’t
);

6980 
	`KMP_MB
();

6983 
	`__kmp_run_aá”_švoked_sk
(
gtid
, 
tid
, 
kmp_šfo_t
 *
this_thr
,

6984 
kmp_‹am_t
 *
‹am
) {

6985 ià(
__kmp_’v_cÚsi¡’cy_check
)

6986 
	`__kmp_pİ_·¿Î–
(
gtid
, 
‹am
->
t
.
t_id’t
);

6988 
	`__kmp_fšish_im¶ic™_sk
(
this_thr
);

6991 
	`__kmp_švoke_sk_func
(
gtid
) {

6992 
rc
;

6993 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

6994 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

6995 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

6997 
	`__kmp_run_befÜe_švoked_sk
(
gtid
, 
tid
, 
this_thr
, 
‹am
);

6998 #ià
USE_ITT_BUILD


6999 ià(
__™t_¡ack_ÿÎ”_ü—‹_±r
) {

7000 
	`__kmp_™t_¡ack_ÿÎ“_’‹r
(

7001 (
__™t_ÿÎ”
)

7002 
‹am
->
t
.
t_¡ack_id
);

7005 #ià
INCLUDE_SSC_MARKS


7006 
	`SSC_MARK_INVOKING
();

7009 #ià
OMPT_SUPPORT


7010 *
dummy
;

7011 **
ex™_äame_p
;

7012 
om±_d©a_t
 *
my_sk_d©a
;

7013 
om±_d©a_t
 *
my_·¿Î–_d©a
;

7014 
om±_‹am_size
;

7016 ià(
om±_’abËd
.
’abËd
) {

7017 
ex™_äame_p
 = &(

7018 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
äame
.
ex™_äame
.
±r
);

7020 
ex™_äame_p
 = &
dummy
;

7023 
my_sk_d©a
 =

7024 &(
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
);

7025 
my_·¿Î–_d©a
 = &(
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
);

7026 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

7027 
om±_‹am_size
 = 
‹am
->
t
.
t_Åroc
;

7028 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

7029 
om±_scİe_begš
, 
my_·¿Î–_d©a
, 
my_sk_d©a
, 
om±_‹am_size
,

7030 
	`__kmp_tid_äom_gtid
(
gtid
), 
om±_sk_im¶ic™
);

7031 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
th»ad_num
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

7035 #ià
KMP_STATS_ENABLED


7036 
¡©s_¡©e_e
 
´evious_¡©e
 = 
	`KMP_GET_THREAD_STATE
();

7037 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
TEAMS_REGION
) {

7038 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_‹ams
);

7040 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_·¿Î–
);

7042 
	`KMP_SET_THREAD_STATE
(
IMPLICIT_TASK
);

7045 
rc
 = 
	`__kmp_švoke_miüÙask
((
miüÙask_t
)
	`TCR_SYNC_PTR
(
‹am
->
t
.
t_pkâ
), 
gtid
,

7046 
tid
, ()
‹am
->
t
.
t_¬gc
, (**é—m->t.
t_¬gv


7047 #ià
OMPT_SUPPORT


7049 
ex™_äame_p


7052 #ià
OMPT_SUPPORT


7053 *
ex™_äame_p
 = 
NULL
;

7054 
this_thr
->
th
.
om±_th»ad_šfo
.
·¿Î–_æags
 |ğ
om±_·¿Î–_‹am
;

7057 #ià
KMP_STATS_ENABLED


7058 ià(
´evious_¡©e
 =ğ
¡©s_¡©e_e
::
TEAMS_REGION
) {

7059 
	`KMP_SET_THREAD_STATE
(
´evious_¡©e
);

7061 
	`KMP_POP_PARTITIONED_TIMER
();

7064 #ià
USE_ITT_BUILD


7065 ià(
__™t_¡ack_ÿÎ”_ü—‹_±r
) {

7066 
	`__kmp_™t_¡ack_ÿÎ“_Ëave
(

7067 (
__™t_ÿÎ”
)

7068 
‹am
->
t
.
t_¡ack_id
);

7071 
	`__kmp_run_aá”_švoked_sk
(
gtid
, 
tid
, 
this_thr
, 
‹am
);

7073  
rc
;

7076 
	`__kmp_‹ams_ma¡”
(
gtid
) {

7078 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

7079 
kmp_‹am_t
 *
‹am
 = 
thr
->
th
.
th_‹am
;

7080 
id’t_t
 *
loc
 = 
‹am
->
t
.
t_id’t
;

7081 
thr
->
th
.
th_£t_Åroc
 =hr->th.
th_‹ams_size
.
Áh
;

7082 
	`KMP_DEBUG_ASSERT
(
thr
->
th
.
th_‹ams_miüÙask
);

7083 
	`KMP_DEBUG_ASSERT
(
thr
->
th
.
th_£t_Åroc
);

7084 
	`KA_TRACE
(20, ("__kmp_‹ams_ma¡”: T#%d, Tid %d, miüÙask %p\n", 
gtid
,

7085 
	`__kmp_tid_äom_gtid
(
gtid
), 
thr
->
th
.
th_‹ams_miüÙask
));

7088 
kmp_cg_roÙ_t
 *
tmp
 = (kmp_cg_roÙ_ˆ*)
	`__kmp_®loÿ‹
((kmp_cg_root_t));

7089 
tmp
->
cg_roÙ
 = 
thr
;

7091 
tmp
->
cg_th»ad_lim™
 = 
thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
;

7092 
tmp
->
cg_Áh»ads
 = 1;

7093 
	`KA_TRACE
(100, ("__kmp_teams_master: Thread %p created‚ode %p‡nd init"

7095 
thr
, 
tmp
));

7096 
tmp
->
up
 = 
thr
->
th
.
th_cg_roÙs
;

7097 
thr
->
th
.
th_cg_roÙs
 = 
tmp
;

7101 #ià
INCLUDE_SSC_MARKS


7102 
	`SSC_MARK_FORKING
();

7104 
	`__kmp_fÜk_ÿÎ
(
loc
, 
gtid
, 
fÜk_cÚ‹xt_š‹l
, 
‹am
->
t
.
t_¬gc
,

7105 (
miüÙask_t
)
thr
->
th
.
th_‹ams_miüÙask
,

7106 
	`VOLATILE_CAST
(
Ïunch_t
è
__kmp_švoke_sk_func
, 
NULL
);

7107 #ià
INCLUDE_SSC_MARKS


7108 
	`SSC_MARK_JOINING
();

7111 ià(
thr
->
th
.
th_‹am_Åroc
 <hr->th.
th_‹ams_size
.
Áh
)

7112 
thr
->
th
.
th_‹ams_size
.
Áh
 =hr->th.
th_‹am_Åroc
;

7115 
	`__kmp_još_ÿÎ
(
loc
, 
gtid


7116 #ià
OMPT_SUPPORT


7118 
fÜk_cÚ‹xt_š‹l


7124 
	`__kmp_švoke_‹ams_ma¡”
(
gtid
) {

7125 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

7126 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

7127 #ià
KMP_DEBUG


7128 ià(!
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
->
t
.
t_£rŸlized
)

7129 
	`KMP_DEBUG_ASSERT
((*)
__kmp_th»ads
[
gtid
]->
th
.
th_‹am
->
t
.
t_pkâ
 ==

7130 (*)
__kmp_‹ams_ma¡”
);

7132 
	`__kmp_run_befÜe_švoked_sk
(
gtid
, 0, 
this_thr
, 
‹am
);

7133 #ià
OMPT_SUPPORT


7134 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

7135 
om±_d©a_t
 *
sk_d©a
 =

7136 &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
om±_sk_šfo
.
sk_d©a
;

7137 
om±_d©a_t
 *
·¿Î–_d©a
 = &
‹am
->
t
.
om±_‹am_šfo
.parallel_data;

7138 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

7139 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

7140 
om±_scİe_begš
, 
·¿Î–_d©a
, 
sk_d©a
, 
‹am
->
t
.
t_Åroc
, 
tid
,

7141 
om±_sk_š™Ÿl
);

7142 
	`OMPT_CUR_TASK_INFO
(
this_thr
)->
th»ad_num
 = 
tid
;

7145 
	`__kmp_‹ams_ma¡”
(
gtid
);

7146 #ià
OMPT_SUPPORT


7147 
this_thr
->
th
.
om±_th»ad_šfo
.
·¿Î–_æags
 |ğ
om±_·¿Î–_Ëague
;

7149 
	`__kmp_run_aá”_švoked_sk
(
gtid
, 0, 
this_thr
, 
‹am
);

7158 
	`__kmp_push_num_th»ads
(
id’t_t
 *
id
, 
gtid
, 
num_th»ads
) {

7159 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

7161 ià(
num_th»ads
 > 0)

7162 
thr
->
th
.
th_£t_Åroc
 = 
num_th»ads
;

7167 
	`__kmp_push_num_‹ams
(
id’t_t
 *
id
, 
gtid
, 
num_‹ams
,

7168 
num_th»ads
) {

7169 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

7170 
	`KMP_DEBUG_ASSERT
(
num_‹ams
 >= 0);

7171 
	`KMP_DEBUG_ASSERT
(
num_th»ads
 >= 0);

7173 ià(
num_‹ams
 == 0)

7174 
num_‹ams
 = 1;

7175 ià(
num_‹ams
 > 
__kmp_‹ams_max_Áh
) {

7176 ià(!
__kmp_»£rve_w¬n
) {

7177 
__kmp_»£rve_w¬n
 = 1;

7178 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

7179 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
num_‹ams
, 
__kmp_‹ams_max_Áh
),

7180 
	`KMP_HNT
(
Un£t_ALL_THREADS
), 
__kmp_msg_nuÎ
);

7182 
num_‹ams
 = 
__kmp_‹ams_max_Áh
;

7186 
thr
->
th
.
th_£t_Åroc
 =hr->th.
th_‹ams_size
.
Á—ms
 = 
num_‹ams
;

7189 ià(!
	`TCR_4
(
__kmp_š™_middË
))

7190 
	`__kmp_middË_š™Ÿlize
();

7191 
	`KMP_DEBUG_ASSERT
(
__kmp_ava_´oc
);

7192 
	`KMP_DEBUG_ASSERT
(
__kmp_dæt_‹am_Áh
);

7193 ià(
num_th»ads
 == 0) {

7194 
num_th»ads
 = 
__kmp_ava_´oc
 / 
num_‹ams
;

7198 ià(
num_th»ads
 > 
__kmp_dæt_‹am_Áh
) {

7199 
num_th»ads
 = 
__kmp_dæt_‹am_Áh
;

7201 ià(
num_th»ads
 > 
thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
) {

7202 
num_th»ads
 = 
thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
;

7204 ià(
num_‹ams
 * 
num_th»ads
 > 
__kmp_‹ams_max_Áh
) {

7205 
num_th»ads
 = 
__kmp_‹ams_max_Áh
 / 
num_‹ams
;

7210 
thr
->
th
.
th_cu¼’t_sk
->
td_icvs
.
th»ad_lim™
 = 
num_th»ads
;

7212 ià(
num_th»ads
 > 
__kmp_dæt_‹am_Áh
) {

7213 
num_th»ads
 = 
__kmp_dæt_‹am_Áh
;

7215 ià(
num_‹ams
 * 
num_th»ads
 > 
__kmp_‹ams_max_Áh
) {

7216 
Ãw_th»ads
 = 
__kmp_‹ams_max_Áh
 / 
num_‹ams
;

7217 ià(!
__kmp_»£rve_w¬n
) {

7218 
__kmp_»£rve_w¬n
 = 1;

7219 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

7220 
	`KMP_MSG
(
CªtFÜmThrT—m
, 
num_th»ads
, 
Ãw_th»ads
),

7221 
	`KMP_HNT
(
Un£t_ALL_THREADS
), 
__kmp_msg_nuÎ
);

7223 
num_th»ads
 = 
Ãw_th»ads
;

7226 
thr
->
th
.
th_‹ams_size
.
Áh
 = 
num_th»ads
;

7230 
	`__kmp_push_´oc_bšd
(
id’t_t
 *
id
, 
gtid
, 
kmp_´oc_bšd_t
 
´oc_bšd
) {

7231 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

7232 
thr
->
th
.
th_£t_´oc_bšd
 = 
´oc_bšd
;

7237 
	`__kmp_š‹º®_fÜk
(
id’t_t
 *
id
, 
gtid
, 
kmp_‹am_t
 *
‹am
) {

7238 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

7240 #ifdeà
KMP_DEBUG


7241 
f
;

7244 
	`KMP_DEBUG_ASSERT
(
‹am
);

7245 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
‹am
);

7246 
	`KMP_ASSERT
(
	`KMP_MASTER_GTID
(
gtid
));

7247 
	`KMP_MB
();

7249 
‹am
->
t
.
t_cÚ¡ruù
 = 0;

7250 
‹am
->
t
.
t_Üd”ed
.
dt
.
t_v®ue
 =

7254 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_di¥_bufãr
);

7255 ià(
‹am
->
t
.
t_max_Åroc
 > 1) {

7256 
i
;

7257 
i
 = 0; i < 
__kmp_di¥©ch_num_bufãrs
; ++i) {

7258 
‹am
->
t
.
t_di¥_bufãr
[
i
].
bufãr_šdex
 = i;

7259 
‹am
->
t
.
t_di¥_bufãr
[
i
].
dßüoss_buf_idx
 = i;

7262 
‹am
->
t
.
t_di¥_bufãr
[0].
bufãr_šdex
 = 0;

7263 
‹am
->
t
.
t_di¥_bufãr
[0].
dßüoss_buf_idx
 = 0;

7266 
	`KMP_MB
();

7267 
	`KMP_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
‹am
);

7269 #ifdeà
KMP_DEBUG


7270 
f
 = 0; f < 
‹am
->
t
.
t_Åroc
; f++) {

7271 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_th»ads
[
f
] &&

7272 
‹am
->
t
.
t_th»ads
[
f
]->
th
.
th_‹am_Åroc
 =ğ‹am->t.
t_Åroc
);

7277 
	`__kmp_fÜk_b¬r›r
(
gtid
, 0);

7280 
	`__kmp_š‹º®_još
(
id’t_t
 *
id
, 
gtid
, 
kmp_‹am_t
 *
‹am
) {

7281 
kmp_šfo_t
 *
this_thr
 = 
__kmp_th»ads
[
gtid
];

7283 
	`KMP_DEBUG_ASSERT
(
‹am
);

7284 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
‹am
);

7285 
	`KMP_ASSERT
(
	`KMP_MASTER_GTID
(
gtid
));

7286 
	`KMP_MB
();

7290 #ifdeà
KMP_DEBUG


7291 ià(
__kmp_th»ads
[
gtid
] &&

7292 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am_Åroc
 !ğ
‹am
->
t
.
t_Åroc
) {

7293 
	`__kmp_´štf
("GTID: %d, __kmp_th»ads[%d]=%p\n", 
gtid
, gtid,

7294 
__kmp_th»ads
[
gtid
]);

7295 
	`__kmp_´štf
("__kmp_threads[%d]->th.th_team_nproc=%d, TEAM: %p, "

7297 
gtid
, 
__kmp_th»ads
[gtid]->
th
.
th_‹am_Åroc
, 
‹am
,

7298 
‹am
->
t
.
t_Åroc
);

7299 
	`__kmp_´št_¡ruùu»
();

7301 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
[
gtid
] &&

7302 
__kmp_th»ads
[
gtid
]->
th
.
th_‹am_Åroc
 =ğ
‹am
->
t
.
t_Åroc
);

7305 
	`__kmp_još_b¬r›r
(
gtid
);

7306 #ià
OMPT_SUPPORT


7307 ià(
om±_’abËd
.
’abËd
 &&

7308 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 =ğ
om±_¡©e_wa™_b¬r›r_im¶ic™
) {

7309 
ds_tid
 = 
this_thr
->
th
.
th_šfo
.
ds
.ds_tid;

7310 
om±_d©a_t
 *
sk_d©a
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
);

7311 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

7312 #ià
OMPT_OPTIONAL


7313 *
cod•Œ
 = 
NULL
;

7314 ià(
	`KMP_MASTER_TID
(
ds_tid
) &&

7315 (
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
) ||

7316 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)))

7317 
cod•Œ
 = 
	`OMPT_CUR_TEAM_INFO
(
this_thr
)->
ma¡”_»tuº_add»ss
;

7319 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

7320 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

7321 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
sk_d©a
,

7322 
cod•Œ
);

7324 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

7325 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

7326 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
sk_d©a
,

7327 
cod•Œ
);

7330 ià(!
	`KMP_MASTER_TID
(
ds_tid
è&& 
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

7331 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

7332 
om±_scİe_’d
, 
NULL
, 
sk_d©a
, 0, 
ds_tid
, 
om±_sk_im¶ic™
);

7337 
	`KMP_MB
();

7338 
	`KMP_ASSERT
(
this_thr
->
th
.
th_‹am
 =ğ
‹am
);

7343 #ifdeà
USE_LOAD_BALANCE


7347 
	`__kmp_aùive_hÙ_‹am_Åroc
(
kmp_roÙ_t
 *
roÙ
) {

7348 
i
;

7349 
»tv®
;

7350 
kmp_‹am_t
 *
hÙ_‹am
;

7352 ià(
roÙ
->
r
.
r_aùive
) {

7355 
hÙ_‹am
 = 
roÙ
->
r
.
r_hÙ_‹am
;

7356 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
) {

7357  
hÙ_‹am
->
t
.
t_Åroc
 - 1;

7361 
»tv®
 = 0;

7362 
i
 = 1; i < 
hÙ_‹am
->
t
.
t_Åroc
; i++) {

7363 ià(
hÙ_‹am
->
t
.
t_th»ads
[
i
]->
th
.
th_aùive
) {

7364 
»tv®
++;

7367  
»tv®
;

7372 
	`__kmp_lßd_b®ªû_Åroc
(
kmp_roÙ_t
 *
roÙ
, 
£t_Åroc
) {

7373 
»tv®
;

7374 
poŞ_aùive
;

7375 
hÙ_‹am_aùive
;

7376 
‹am_cu¼_aùive
;

7377 
sy¡em_aùive
;

7379 
	`KB_TRACE
(20, ("__kmp_lßd_b®ªû_Åroc: c®Ëd„oÙ:%°£t_Åroc:%d\n", 
roÙ
,

7380 
£t_Åroc
));

7381 
	`KMP_DEBUG_ASSERT
(
roÙ
);

7382 
	`KMP_DEBUG_ASSERT
(
roÙ
->
r
.
r_roÙ_‹am
->
t
.
t_th»ads
[0]

7383 ->
th
.
th_cu¼’t_sk
->
td_icvs
.
dyÇmic
 =ğ
TRUE
);

7384 
	`KMP_DEBUG_ASSERT
(
£t_Åroc
 > 1);

7386 ià(
£t_Åroc
 == 1) {

7387 
	`KB_TRACE
(20, ("__kmp_load_balance_nproc: serialƒxecution.\n"));

7396 
poŞ_aùive
 = 
__kmp_th»ad_poŞ_aùive_Áh
;

7397 
hÙ_‹am_aùive
 = 
	`__kmp_aùive_hÙ_‹am_Åroc
(
roÙ
);

7398 
‹am_cu¼_aùive
 = 
poŞ_aùive
 + 
hÙ_‹am_aùive
 + 1;

7401 
sy¡em_aùive
 = 
	`__kmp_g‘_lßd_b®ªû
(
__kmp_ava_´oc
 + 
‹am_cu¼_aùive
);

7402 
	`KB_TRACE
(30, ("__kmp_load_balance_nproc: system‡ctive = %d…ool‡ctive = %d "

7404 
sy¡em_aùive
, 
poŞ_aùive
, 
hÙ_‹am_aùive
));

7406 ià(
sy¡em_aùive
 < 0) {

7410 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_th»ad_lim™
;

7411 
	`KMP_WARNING
(
CªtLßdB®Usšg
, "KMP_DYNAMIC_MODE=thread†imit");

7414 
»tv®
 = 
__kmp_ava_´oc
 - 
__kmp_Áh
 +

7415 (
roÙ
->
r
.
r_aùive
 ? 1 :„oÙ->r.
r_hÙ_‹am
->
t
.
t_Åroc
);

7416 ià(
»tv®
 > 
£t_Åroc
) {

7417 
»tv®
 = 
£t_Åroc
;

7419 ià(
»tv®
 < 
KMP_MIN_NTH
) {

7420 
»tv®
 = 
KMP_MIN_NTH
;

7423 
	`KB_TRACE
(20, ("__kmp_load_balance_nproc:hread†imitƒxit.„etval:%d\n",

7424 
»tv®
));

7425  
»tv®
;

7431 ià(
sy¡em_aùive
 < 
‹am_cu¼_aùive
) {

7432 
sy¡em_aùive
 = 
‹am_cu¼_aùive
;

7434 
»tv®
 = 
__kmp_ava_´oc
 - 
sy¡em_aùive
 + 
‹am_cu¼_aùive
;

7435 ià(
»tv®
 > 
£t_Åroc
) {

7436 
»tv®
 = 
£t_Åroc
;

7438 ià(
»tv®
 < 
KMP_MIN_NTH
) {

7439 
»tv®
 = 
KMP_MIN_NTH
;

7442 
	`KB_TRACE
(20, ("__kmp_lßd_b®ªû_Åroc:ƒx™.„‘v®:%d\n", 
»tv®
));

7443  
»tv®
;

7451 
	`__kmp_ş—nup
() {

7452 
f
;

7454 
	`KA_TRACE
(10, ("__kmp_cleanup:ƒnter\n"));

7456 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

7457 #ià
KMP_HANDLE_SIGNALS


7458 
	`__kmp_»move_sigÇls
();

7460 
	`TCW_4
(
__kmp_š™_·¿Î–
, 
FALSE
);

7463 ià(
	`TCR_4
(
__kmp_š™_middË
)) {

7464 #ià
KMP_AFFINITY_SUPPORTED


7465 
	`__kmp_affš™y_unš™Ÿlize
();

7467 
	`__kmp_ş—nup_h›¿rchy
();

7468 
	`TCW_4
(
__kmp_š™_middË
, 
FALSE
);

7471 
	`KA_TRACE
(10, ("__kmp_cleanup: go serial cleanup\n"));

7473 ià(
__kmp_š™_£rŸl
) {

7474 
	`__kmp_ruÁime_de¡roy
();

7475 
__kmp_š™_£rŸl
 = 
FALSE
;

7478 
	`__kmp_ş—nup_th»ad´iv©e_ÿches
();

7480 
f
 = 0; f < 
__kmp_th»ads_ÿ·c™y
; f++) {

7481 ià(
__kmp_roÙ
[
f
] !ğ
NULL
) {

7482 
	`__kmp_ä“
(
__kmp_roÙ
[
f
]);

7483 
__kmp_roÙ
[
f
] = 
NULL
;

7486 
	`__kmp_ä“
(
__kmp_th»ads
);

7489 
__kmp_th»ads
 = 
NULL
;

7490 
__kmp_roÙ
 = 
NULL
;

7491 
__kmp_th»ads_ÿ·c™y
 = 0;

7493 #ià
KMP_USE_DYNAMIC_LOCK


7494 
	`__kmp_ş—nup_šdœeù_u£r_locks
();

7496 
	`__kmp_ş—nup_u£r_locks
();

7499 #ià
KMP_AFFINITY_SUPPORTED


7500 
	`KMP_INTERNAL_FREE
(
	`CCAST
(*, 
__kmp_ıušfo_fe
));

7501 
__kmp_ıušfo_fe
 = 
NULL
;

7504 #ià
KMP_USE_ADAPTIVE_LOCKS


7505 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


7506 
	`__kmp_´št_¥ecuÏtive_¡©s
();

7509 
	`KMP_INTERNAL_FREE
(
__kmp_Ã¡ed_Áh
.
Áh
);

7510 
__kmp_Ã¡ed_Áh
.
Áh
 = 
NULL
;

7511 
__kmp_Ã¡ed_Áh
.
size
 = 0;

7512 
__kmp_Ã¡ed_Áh
.
u£d
 = 0;

7513 
	`KMP_INTERNAL_FREE
(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
);

7514 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 = 
NULL
;

7515 
__kmp_Ã¡ed_´oc_bšd
.
size
 = 0;

7516 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 0;

7517 ià(
__kmp_affš™y_fÜm©
) {

7518 
	`KMP_INTERNAL_FREE
(
__kmp_affš™y_fÜm©
);

7519 
__kmp_affš™y_fÜm©
 = 
NULL
;

7522 
	`__kmp_i18n_ÿtşo£
();

7524 #ià
KMP_USE_HIER_SCHED


7525 
__kmp_h›r_scheds
.
	`d—Îoÿ‹
();

7528 #ià
KMP_STATS_ENABLED


7529 
	`__kmp_¡©s_fši
();

7532 
	`KA_TRACE
(10, ("__kmp_cleanup:ƒxit\n"));

7537 
	`__kmp_ignÜe_mµbeg
() {

7538 *
’v
;

7540 ià((
’v
 = 
	`g‘’v
("KMP_IGNORE_MPPBEG")è!ğ
NULL
) {

7541 ià(
	`__kmp_¡r_m©ch_çl£
(
’v
))

7542  
FALSE
;

7545  
TRUE
;

7548 
	`__kmp_ignÜe_mµ’d
() {

7549 *
’v
;

7551 ià((
’v
 = 
	`g‘’v
("KMP_IGNORE_MPPEND")è!ğ
NULL
) {

7552 ià(
	`__kmp_¡r_m©ch_çl£
(
’v
))

7553  
FALSE
;

7556  
TRUE
;

7559 
	`__kmp_š‹º®_begš
() {

7560 
gtid
;

7561 
kmp_roÙ_t
 *
roÙ
;

7565 
gtid
 = 
	`__kmp_’Œy_gtid
();

7566 
roÙ
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
;

7567 
	`KMP_ASSERT
(
	`KMP_UBER_GTID
(
gtid
));

7569 ià(
roÙ
->
r
.
r_begš
)

7571 
	`__kmp_acquœe_lock
(&
roÙ
->
r
.
r_begš_lock
, 
gtid
);

7572 ià(
roÙ
->
r
.
r_begš
) {

7573 
	`__kmp_»Ëa£_lock
(&
roÙ
->
r
.
r_begš_lock
, 
gtid
);

7577 
roÙ
->
r
.
r_begš
 = 
TRUE
;

7579 
	`__kmp_»Ëa£_lock
(&
roÙ
->
r
.
r_begš_lock
, 
gtid
);

7584 
	`__kmp_u£r_£t_lib¿ry
(
lib¿ry_ty³
 
¬g
) {

7585 
gtid
;

7586 
kmp_roÙ_t
 *
roÙ
;

7587 
kmp_šfo_t
 *
th»ad
;

7591 
gtid
 = 
	`__kmp_’Œy_gtid
();

7592 
th»ad
 = 
__kmp_th»ads
[
gtid
];

7594 
roÙ
 = 
th»ad
->
th
.
th_roÙ
;

7596 
	`KA_TRACE
(20, ("__kmp_u£r_£t_lib¿ry:ƒÁ” T#%d,‡rg: %d, %d\n", 
gtid
, 
¬g
,

7597 
lib¿ry_£rŸl
));

7598 ià(
roÙ
->
r
.
r_š_·¿Î–
) {

7600 
	`KMP_WARNING
(
S‘Lib¿ryIncÜ»ùC®l
);

7604 
¬g
) {

7605 
lib¿ry_£rŸl
:

7606 
th»ad
->
th
.
th_£t_Åroc
 = 0;

7607 
	`£t__Åroc
(
th»ad
, 1);

7609 
lib¿ry_tuº¬ound
:

7610 
th»ad
->
th
.
th_£t_Åroc
 = 0;

7611 
	`£t__Åroc
(
th»ad
, 
__kmp_dæt_‹am_Áh
 ? __kmp_dflt_team_nth

7612 : 
__kmp_dæt_‹am_Áh_ub
);

7614 
lib¿ry_throughput
:

7615 
th»ad
->
th
.
th_£t_Åroc
 = 0;

7616 
	`£t__Åroc
(
th»ad
, 
__kmp_dæt_‹am_Áh
 ? __kmp_dflt_team_nth

7617 : 
__kmp_dæt_‹am_Áh_ub
);

7620 
	`KMP_FATAL
(
UnknownLib¿ryTy³
, 
¬g
);

7623 
	`__kmp_aux_£t_lib¿ry
(
¬g
);

7626 
	`__kmp_aux_£t_¡acksize
(
size_t
 
¬g
) {

7627 ià(!
__kmp_š™_£rŸl
)

7628 
	`__kmp_£rŸl_š™Ÿlize
();

7630 #ià
KMP_OS_DARWIN


7631 ià(
¬g
 & (0x1000 - 1)) {

7632 
¬g
 &= ~(0x1000 - 1);

7633 ià(
¬g
 + 0x1000)

7634 
¬g
 += 0x1000;

7637 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

7640 ià(!
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

7641 
size_t
 
v®ue
 = 
¬g
;

7643 ià(
v®ue
 < 
__kmp_sys_mš_¡ksize
)

7644 
v®ue
 = 
__kmp_sys_mš_¡ksize
;

7645 ià(
v®ue
 > 
KMP_MAX_STKSIZE
)

7646 
v®ue
 = 
KMP_MAX_STKSIZE
;

7648 
__kmp_¡ksize
 = 
v®ue
;

7650 
__kmp_’v_¡ksize
 = 
TRUE
;

7653 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

7658 
	`__kmp_aux_£t_lib¿ry
(
lib¿ry_ty³
 
¬g
) {

7659 
__kmp_lib¿ry
 = 
¬g
;

7661 
__kmp_lib¿ry
) {

7662 
lib¿ry_£rŸl
: {

7663 
	`KMP_INFORM
(
Lib¿ryIsS”Ÿl
);

7665 
lib¿ry_tuº¬ound
:

7666 ià(
__kmp_u£_y›ld
 =ğ1 && !
__kmp_u£_y›ld_exp_£t
)

7667 
__kmp_u£_y›ld
 = 2;

7669 
lib¿ry_throughput
:

7670 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
)

7671 
__kmp_dæt_blocktime
 = 200;

7674 
	`KMP_FATAL
(
UnknownLib¿ryTy³
, 
¬g
);

7680 
kmp_‹am_t
 *
	`__kmp_aux_g‘_‹am_šfo
(&
‹ams_£rŸlized
) {

7681 
kmp_šfo_t
 *
thr
 = 
	`__kmp_’Œy_th»ad
();

7682 
‹ams_£rŸlized
 = 0;

7683 ià(
thr
->
th
.
th_‹ams_miüÙask
) {

7684 
kmp_‹am_t
 *
‹am
 = 
thr
->
th
.
th_‹am
;

7685 
ev–
 = 
thr
->
th
.
th_‹ams_Ëv–
;

7686 
ii
 = 
‹am
->
t
.
t_Ëv–
;

7687 
‹ams_£rŸlized
 = 
‹am
->
t
.
t_£rŸlized
;

7688 
Ëv–
 = 
ev–
 + 1;

7689 
	`KMP_DEBUG_ASSERT
(
ii
 >ğ
ev–
);

7690 
ii
 > 
Ëv–
) {

7691 
‹ams_£rŸlized
 = 
‹am
->
t
.
t_£rŸlized
;

7692 (
‹ams_£rŸlized
 > 0è&& (
ii
 > 
Ëv–
);eams_serialized--, ii--) {

7694 ià(
‹am
->
t
.
t_£rŸlized
 && (!
‹ams_£rŸlized
)) {

7695 
‹am
 =—m->
t
.
t_·»Á
;

7698 ià(
ii
 > 
Ëv–
) {

7699 
‹am
 =—m->
t
.
t_·»Á
;

7700 
ii
--;

7703  
‹am
;

7705  
NULL
;

7708 
	`__kmp_aux_g‘_‹am_num
() {

7709 
£rŸlized
;

7710 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_aux_g‘_‹am_šfo
(
£rŸlized
);

7711 ià(
‹am
) {

7712 ià(
£rŸlized
 > 1) {

7715  
‹am
->
t
.
t_ma¡”_tid
;

7721 
	`__kmp_aux_g‘_num_‹ams
() {

7722 
£rŸlized
;

7723 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_aux_g‘_‹am_šfo
(
£rŸlized
);

7724 ià(
‹am
) {

7725 ià(
£rŸlized
 > 1) {

7728  
‹am
->
t
.
t_·»Á
->t.
t_Åroc
;

7767 
	skmp_affš™y_fÜm©_f›ld_t
 {

7768 
shÜt_Çme
;

7769 cÚ¡ *
lÚg_Çme
;

7770 
f›ld_fÜm©
;

7772 } 
	tkmp_affš™y_fÜm©_f›ld_t
;

7774 cÚ¡ 
kmp_affš™y_fÜm©_f›ld_t
 
__kmp_affš™y_fÜm©_bË
[] = {

7775 #ià
KMP_AFFINITY_SUPPORTED


7789 
	`__kmp_aux_ÿ±u»_affš™y_f›ld
(
gtid
, cÚ¡ 
kmp_šfo_t
 *
th
,

7790 cÚ¡ **
±r
,

7791 
kmp_¡r_buf_t
 *
f›ld_bufãr
) {

7792 
rc
, 
fÜm©_šdex
, 
f›ld_v®ue
;

7793 cÚ¡ *
width_Ëá
, *
width_right
;

7794 
boŞ
 
·d_z”os
, 
right_ju¡ify
, 
·r£_lÚg_Çme
, 
found_v®id_Çme
;

7795 cÚ¡ 
FORMAT_SIZE
 = 20;

7796 
fÜm©
[
FORMAT_SIZE
] = {0};

7797 
absŞu‹_shÜt_Çme
 = 0;

7799 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

7800 
	`KMP_DEBUG_ASSERT
(
th
);

7801 
	`KMP_DEBUG_ASSERT
(**
±r
 == '%');

7802 
	`KMP_DEBUG_ASSERT
(
f›ld_bufãr
);

7804 
	`__kmp_¡r_buf_ş—r
(
f›ld_bufãr
);

7807 (*
±r
)++;

7810 ià(**
±r
 == '%') {

7811 
	`__kmp_¡r_buf_ÿt
(
f›ld_bufãr
, "%", 1);

7812 (*
±r
)++;

7817 
·d_z”os
 = 
çl£
;

7818 ià(**
±r
 == '0') {

7819 
·d_z”os
 = 
Œue
;

7820 (*
±r
)++;

7822 
right_ju¡ify
 = 
çl£
;

7823 ià(**
±r
 == '.') {

7824 
right_ju¡ify
 = 
Œue
;

7825 (*
±r
)++;

7828 
width_Ëá
 = 
width_right
 = 
NULL
;

7829 ià(**
±r
 >= '0' && **ptr <= '9') {

7830 
width_Ëá
 = *
±r
;

7831 
	`SKIP_DIGITS
(*
±r
);

7832 
width_right
 = *
±r
;

7836 
fÜm©_šdex
 = 0;

7837 
fÜm©
[
fÜm©_šdex
++] = '%';

7838 ià(!
right_ju¡ify
)

7839 
fÜm©
[
fÜm©_šdex
++] = '-';

7840 ià(
·d_z”os
)

7841 
fÜm©
[
fÜm©_šdex
++] = '0';

7842 ià(
width_Ëá
 && 
width_right
) {

7843 
i
 = 0;

7846 
i
 < 8 && 
width_Ëá
 < 
width_right
) {

7847 
fÜm©
[
fÜm©_šdex
++] = *
width_Ëá
;

7848 
width_Ëá
++;

7849 
i
++;

7855 
found_v®id_Çme
 = 
çl£
;

7856 
·r£_lÚg_Çme
 = (**
±r
 == '{');

7857 ià(
·r£_lÚg_Çme
)

7858 (*
±r
)++;

7859 
size_t
 
i
 = 0; i < (
__kmp_affš™y_fÜm©_bË
) /

7860 (
__kmp_affš™y_fÜm©_bË
[0]);

7861 ++
i
) {

7862 
shÜt_Çme
 = 
__kmp_affš™y_fÜm©_bË
[
i
].short_name;

7863 cÚ¡ *
lÚg_Çme
 = 
__kmp_affš™y_fÜm©_bË
[
i
].long_name;

7864 
f›ld_fÜm©
 = 
__kmp_affš™y_fÜm©_bË
[
i
].field_format;

7865 ià(
·r£_lÚg_Çme
) {

7866 
Ëngth
 = 
	`KMP_STRLEN
(
lÚg_Çme
);

7867 ià(
	`¡ºcmp
(*
±r
, 
lÚg_Çme
, 
Ëngth
) == 0) {

7868 
found_v®id_Çme
 = 
Œue
;

7869 (*
±r
è+ğ
Ëngth
;

7871 } ià(**
±r
 =ğ
shÜt_Çme
) {

7872 
found_v®id_Çme
 = 
Œue
;

7873 (*
±r
)++;

7875 ià(
found_v®id_Çme
) {

7876 
fÜm©
[
fÜm©_šdex
++] = 
f›ld_fÜm©
;

7877 
fÜm©
[
fÜm©_šdex
++] = '\0';

7878 
absŞu‹_shÜt_Çme
 = 
shÜt_Çme
;

7882 ià(
·r£_lÚg_Çme
) {

7883 ià(**
±r
 != '}') {

7884 
absŞu‹_shÜt_Çme
 = 0;

7886 (*
±r
)++;

7892 
absŞu‹_shÜt_Çme
) {

7894 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
	`__kmp_aux_g‘_‹am_num
());

7897 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
	`__kmp_aux_g‘_num_‹ams
());

7900 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
th
->th.
th_‹am
->
t
.
t_Ëv–
);

7903 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
	`__kmp_tid_äom_gtid
(
gtid
));

7906 cÚ¡ 
BUFFER_SIZE
 = 256;

7907 
buf
[
BUFFER_SIZE
];

7908 
	`__kmp_ex·nd_ho¡_Çme
(
buf
, 
BUFFER_SIZE
);

7909 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
buf
);

7912 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
	`g‘pid
());

7915 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
	`__kmp_g‘tid
());

7918 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
th
->th.
th_‹am
->
t
.
t_Åroc
);

7921 
f›ld_v®ue
 =

7922 
	`__kmp_g‘_ªû¡Ü_th»ad_num
(
gtid
, 
th
->th.
th_‹am
->
t
.
t_Ëv–
 - 1);

7923 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
f›ld_v®ue
);

7925 #ià
KMP_AFFINITY_SUPPORTED


7927 
kmp_¡r_buf_t
 
buf
;

7928 
	`__kmp_¡r_buf_š™
(&
buf
);

7929 
	`__kmp_affš™y_¡r_buf_mask
(&
buf
, 
th
->th.
th_affš_mask
);

7930 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, 
fÜm©
, 
buf
.
¡r
);

7931 
	`__kmp_¡r_buf_ä“
(&
buf
);

7937 
rc
 = 
	`__kmp_¡r_buf_´št
(
f›ld_bufãr
, "%s", "undefined");

7939 ià(
·r£_lÚg_Çme
) {

7940 
	`SKIP_TOKEN
(*
±r
);

7941 ià(**
±r
 == '}')

7942 (*
±r
)++;

7944 (*
±r
)++;

7948 
	`KMP_ASSERT
(
fÜm©_šdex
 <ğ
FORMAT_SIZE
);

7949  
rc
;

7958 
size_t
 
	`__kmp_aux_ÿ±u»_affš™y
(
gtid
, cÚ¡ *
fÜm©
,

7959 
kmp_¡r_buf_t
 *
bufãr
) {

7960 cÚ¡ *
·r£_±r
;

7961 
size_t
 
»tv®
;

7962 cÚ¡ 
kmp_šfo_t
 *
th
;

7963 
kmp_¡r_buf_t
 
f›ld
;

7965 
	`KMP_DEBUG_ASSERT
(
bufãr
);

7966 
	`KMP_DEBUG_ASSERT
(
gtid
 >= 0);

7968 
	`__kmp_¡r_buf_š™
(&
f›ld
);

7969 
	`__kmp_¡r_buf_ş—r
(
bufãr
);

7971 
th
 = 
__kmp_th»ads
[
gtid
];

7972 
»tv®
 = 0;

7976 
·r£_±r
 = 
fÜm©
;

7977 ià(
·r£_±r
 =ğ
NULL
 || *parse_ptr == '\0') {

7978 
·r£_±r
 = 
__kmp_affš™y_fÜm©
;

7980 
	`KMP_DEBUG_ASSERT
(
·r£_±r
);

7982 *
·r£_±r
 != '\0') {

7984 ià(*
·r£_±r
 == '%') {

7986 
rc
 = 
	`__kmp_aux_ÿ±u»_affš™y_f›ld
(
gtid
, 
th
, &
·r£_±r
, &
f›ld
);

7987 
	`__kmp_¡r_buf_ÿtbuf
(
bufãr
, &
f›ld
);

7988 
»tv®
 +ğ
rc
;

7991 
	`__kmp_¡r_buf_ÿt
(
bufãr
, 
·r£_±r
, 1);

7992 
»tv®
++;

7993 
·r£_±r
++;

7996 
	`__kmp_¡r_buf_ä“
(&
f›ld
);

7997  
»tv®
;

8001 
	`__kmp_aux_di¥Ïy_affš™y
(
gtid
, cÚ¡ *
fÜm©
) {

8002 
kmp_¡r_buf_t
 
buf
;

8003 
	`__kmp_¡r_buf_š™
(&
buf
);

8004 
	`__kmp_aux_ÿ±u»_affš™y
(
gtid
, 
fÜm©
, &
buf
);

8005 
	`__kmp_årštf
(
kmp_out
, "%s" 
KMP_END_OF_LINE
, 
buf
.
¡r
);

8006 
	`__kmp_¡r_buf_ä“
(&
buf
);

8011 
	`__kmp_aux_£t_blocktime
(
¬g
, 
kmp_šfo_t
 *
th»ad
, 
tid
) {

8012 
blocktime
 = 
¬g
;

8013 #ià
KMP_USE_MONITOR


8014 
bt_š‹rv®s
;

8016 
bt_£t
;

8018 
	`__kmp_§ve_š‹º®_cÚŒŞs
(
th»ad
);

8021 ià(
blocktime
 < 
KMP_MIN_BLOCKTIME
)

8022 
blocktime
 = 
KMP_MIN_BLOCKTIME
;

8023 ià(
blocktime
 > 
KMP_MAX_BLOCKTIME
)

8024 
blocktime
 = 
KMP_MAX_BLOCKTIME
;

8026 
	`£t__blocktime_‹am
(
th»ad
->
th
.
th_‹am
, 
tid
, 
blocktime
);

8027 
	`£t__blocktime_‹am
(
th»ad
->
th
.
th_£rŸl_‹am
, 0, 
blocktime
);

8029 #ià
KMP_USE_MONITOR


8031 
bt_š‹rv®s
 = 
	`KMP_INTERVALS_FROM_BLOCKTIME
(
blocktime
, 
__kmp_mÚ™Ü_wakeups
);

8033 
	`£t__bt_š‹rv®s_‹am
(
th»ad
->
th
.
th_‹am
, 
tid
, 
bt_š‹rv®s
);

8034 
	`£t__bt_š‹rv®s_‹am
(
th»ad
->
th
.
th_£rŸl_‹am
, 0, 
bt_š‹rv®s
);

8038 
bt_£t
 = 
TRUE
;

8040 
	`£t__bt_£t_‹am
(
th»ad
->
th
.
th_‹am
, 
tid
, 
bt_£t
);

8041 
	`£t__bt_£t_‹am
(
th»ad
->
th
.
th_£rŸl_‹am
, 0, 
bt_£t
);

8042 #ià
KMP_USE_MONITOR


8043 
	`KF_TRACE
(10, ("kmp_set_blocktime: T#%d(%d:%d), blocktime=%d, "

8045 
	`__kmp_gtid_äom_tid
(
tid
, 
th»ad
->
th
.
th_‹am
),

8046 
th»ad
->
th
.
th_‹am
->
t
.
t_id
, 
tid
, 
blocktime
, 
bt_š‹rv®s
,

8047 
__kmp_mÚ™Ü_wakeups
));

8049 
	`KF_TRACE
(10, ("kmp_set_blocktime: T#%d(%d:%d), blocktime=%d\n",

8050 
	`__kmp_gtid_äom_tid
(
tid
, 
th»ad
->
th
.
th_‹am
),

8051 
th»ad
->
th
.
th_‹am
->
t
.
t_id
, 
tid
, 
blocktime
));

8055 
	`__kmp_aux_£t_deçuÉs
(cÚ¡ *
¡r
, 
Ën
) {

8056 ià(!
__kmp_š™_£rŸl
) {

8057 
	`__kmp_£rŸl_š™Ÿlize
();

8059 
	`__kmp_’v_š™Ÿlize
(
¡r
);

8061 ià(
__kmp_£‰šgs
 || 
__kmp_di¥Ïy_’v
 || 
__kmp_di¥Ïy_’v_v”bo£
) {

8062 
	`__kmp_’v_´št
();

8069 
PACKED_REDUCTION_METHOD_T


8070 
	`__kmp_d‘”mše_»duùiÚ_m‘hod
(

8071 
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, kmp_št32 
num_v¬s
, 
size_t
 
»duû_size
,

8072 *
»duû_d©a
, (*
»duû_func
)(*
lhs_d©a
, *
rhs_d©a
),

8073 
kmp_ü™iÿl_Çme
 *
lck
) {

8084 
PACKED_REDUCTION_METHOD_T
 
»tv®
;

8086 
‹am_size
;

8088 
	`KMP_DEBUG_ASSERT
(
loc
);

8089 
	`KMP_DEBUG_ASSERT
(
lck
);

8091 
	#FAST_REDUCTION_ATOMIC_METHOD_GENERATED
 \

8092 ((
loc
->
æags
 & (
KMP_IDENT_ATOMIC_REDUCE
)è=ğ(KMP_IDENT_ATOMIC_REDUCE))

	)

8093 
	#FAST_REDUCTION_TREE_METHOD_GENERATED
 ((
»duû_d©a
è&& (
»duû_func
))

	)

8095 
»tv®
 = 
ü™iÿl_»duû_block
;

8098 
‹am_size
 = 
	`__kmp_g‘_‹am_num_th»ads
(
glob®_tid
);

8099 ià(
‹am_size
 == 1) {

8101 
»tv®
 = 
em±y_»duû_block
;

8105 
©omic_avaabË
 = 
FAST_REDUCTION_ATOMIC_METHOD_GENERATED
;

8107 #ià
KMP_ARCH_X86_64
 || 
KMP_ARCH_PPC64
 || 
KMP_ARCH_AARCH64
 || \

8108 
KMP_ARCH_MIPS64
 || 
KMP_ARCH_RISCV64


8110 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

8111 
KMP_OS_OPENBSD
 || 
KMP_OS_WINDOWS
 || 
KMP_OS_DARWIN
 || 
KMP_OS_HURD


8113 
‹amsize_cutoff
 = 4;

8115 #ià
KMP_MIC_SUPPORTED


8116 ià(
__kmp_mic_ty³
 !ğ
nÚ_mic
) {

8117 
‹amsize_cutoff
 = 8;

8120 
Œ“_avaabË
 = 
FAST_REDUCTION_TREE_METHOD_GENERATED
;

8121 ià(
Œ“_avaabË
) {

8122 ià(
‹am_size
 <ğ
‹amsize_cutoff
) {

8123 ià(
©omic_avaabË
) {

8124 
»tv®
 = 
©omic_»duû_block
;

8127 
»tv®
 = 
TREE_REDUCE_BLOCK_WITH_REDUCTION_BARRIER
;

8129 } ià(
©omic_avaabË
) {

8130 
»tv®
 = 
©omic_»duû_block
;

8137 #–ià
KMP_ARCH_X86
 || 
KMP_ARCH_ARM
 || 
KMP_ARCH_AARCH
 || 
KMP_ARCH_MIPS


8139 #ià
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_WINDOWS
 || 
KMP_OS_HURD


8143 ià(
©omic_avaabË
) {

8144 ià(
num_v¬s
 <= 2) {

8145 
»tv®
 = 
©omic_»duû_block
;

8149 #–ià
KMP_OS_DARWIN


8151 
Œ“_avaabË
 = 
FAST_REDUCTION_TREE_METHOD_GENERATED
;

8152 ià(
©omic_avaabË
 && (
num_v¬s
 <= 3)) {

8153 
»tv®
 = 
©omic_»duû_block
;

8154 } ià(
Œ“_avaabË
) {

8155 ià((
»duû_size
 > (9 * (
kmp_»®64
))) &&

8156 (
»duû_size
 < (2000 * (
kmp_»®64
)))) {

8157 
»tv®
 = 
TREE_REDUCE_BLOCK_WITH_PLAIN_BARRIER
;

8174 ià(
__kmp_fÜû_»duùiÚ_m‘hod
 !ğ
»duùiÚ_m‘hod_nÙ_defšed
 &&

8175 
‹am_size
 != 1) {

8177 
PACKED_REDUCTION_METHOD_T
 
fÜûd_»tv®
 = 
ü™iÿl_»duû_block
;

8179 
©omic_avaabË
, 
Œ“_avaabË
;

8181 (
fÜûd_»tv®
 = 
__kmp_fÜû_»duùiÚ_m‘hod
)) {

8182 
ü™iÿl_»duû_block
:

8183 
	`KMP_ASSERT
(
lck
);

8186 
©omic_»duû_block
:

8187 
©omic_avaabË
 = 
FAST_REDUCTION_ATOMIC_METHOD_GENERATED
;

8188 ià(!
©omic_avaabË
) {

8189 
	`KMP_WARNING
(
RedM‘hodNÙSuµÜ‹d
, "atomic");

8190 
fÜûd_»tv®
 = 
ü™iÿl_»duû_block
;

8194 
Œ“_»duû_block
:

8195 
Œ“_avaabË
 = 
FAST_REDUCTION_TREE_METHOD_GENERATED
;

8196 ià(!
Œ“_avaabË
) {

8197 
	`KMP_WARNING
(
RedM‘hodNÙSuµÜ‹d
, "tree");

8198 
fÜûd_»tv®
 = 
ü™iÿl_»duû_block
;

8200 #ià
KMP_FAST_REDUCTION_BARRIER


8201 
fÜûd_»tv®
 = 
TREE_REDUCE_BLOCK_WITH_REDUCTION_BARRIER
;

8207 
	`KMP_ASSERT
(0);

8210 
»tv®
 = 
fÜûd_»tv®
;

8213 
	`KA_TRACE
(10, ("»duùiÚ m‘hod s–eùed=%08x\n", 
»tv®
));

8215 #undeà
FAST_REDUCTION_TREE_METHOD_GENERATED


8216 #undeà
FAST_REDUCTION_ATOMIC_METHOD_GENERATED


8218  (
»tv®
);

8221 
kmp_št32
 
	`__kmp_g‘_»duû_m‘hod
() {

8222  ((
	`__kmp_’Œy_th»ad
()->
th
.
th_loÿl
.
·cked_»duùiÚ_m‘hod
) >> 8);

8227 
	`__kmp_soá_·u£
(è{ 
__kmp_·u£_¡©us
 = 
kmp_soá_·u£d
; }

8231 
	`__kmp_h¬d_·u£
() {

8232 
__kmp_·u£_¡©us
 = 
kmp_h¬d_·u£d
;

8233 
	`__kmp_š‹º®_’d_th»ad
(-1);

8237 
	`__kmp_»sume_if_soá_·u£d
() {

8238 ià(
__kmp_·u£_¡©us
 =ğ
kmp_soá_·u£d
) {

8239 
__kmp_·u£_¡©us
 = 
kmp_nÙ_·u£d
;

8241 
gtid
 = 1; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid) {

8242 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

8243 ià(
th»ad
) {

8244 
kmp_æag_64
 
	`æ
(&
th»ad
->
th
.
th_b¬
[
bs_fÜkjoš_b¬r›r
].
bb
.
b_go
,hread);

8245 ià(
æ
.
	`is_¦“pšg
())

8246 
æ
.
	`»sume
(
gtid
);

8247 ià(
	`__kmp_Œy_su¥’d_mx
(
th»ad
)) {

8248 
	`__kmp_uÆock_su¥’d_mx
(
th»ad
);

8251 ià(
æ
.
	`is_¦“pšg
()) {

8252 
æ
.
	`»sume
(
gtid
);

8254 } ià(
	`__kmp_Œy_su¥’d_mx
(
th»ad
)) {

8255 
	`__kmp_uÆock_su¥’d_mx
(
th»ad
);

8267 
	`__kmp_·u£_»sourû
(
kmp_·u£_¡©us_t
 
Ëv–
) {

8268 ià(
Ëv–
 =ğ
kmp_nÙ_·u£d
) {

8269 ià(
__kmp_·u£_¡©us
 =ğ
kmp_nÙ_·u£d
) {

8273 
	`KMP_DEBUG_ASSERT
(
__kmp_·u£_¡©us
 =ğ
kmp_soá_·u£d
 ||

8274 
__kmp_·u£_¡©us
 =ğ
kmp_h¬d_·u£d
);

8275 
__kmp_·u£_¡©us
 = 
kmp_nÙ_·u£d
;

8278 } ià(
Ëv–
 =ğ
kmp_soá_·u£d
) {

8279 ià(
__kmp_·u£_¡©us
 !ğ
kmp_nÙ_·u£d
) {

8283 
	`__kmp_soá_·u£
();

8286 } ià(
Ëv–
 =ğ
kmp_h¬d_·u£d
) {

8287 ià(
__kmp_·u£_¡©us
 !ğ
kmp_nÙ_·u£d
) {

8291 
	`__kmp_h¬d_·u£
();

8301 
	`__kmp_omp_di¥Ïy_’v
(
v”bo£
) {

8302 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

8303 ià(
__kmp_š™_£rŸl
 == 0)

8304 
	`__kmp_do_£rŸl_š™Ÿlize
();

8305 
	`__kmp_di¥Ïy_’v_im¶
(!
v”bo£
, verbose);

8306 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

	@kmp_safe_c_api.h

10 #iâdeà
KMP_SAFE_C_API_H


11 
	#KMP_SAFE_C_API_H


	)

13 
	~"kmp_¶©fÜm.h
"

14 
	~<¡ršg.h
>

20 #ià
KMP_OS_WINDOWS
 && 
KMP_MSVC_COMPAT


22 
	#RSIZE_MAX_STR
 (4UL << 10)

23 

	)

25 
	#KMP_ALLOCA
 
_®loÿ


	)

27 
	#KMP_MEMCPY_S
 
memıy_s


	)

28 
	#KMP_SNPRINTF
 
¥rštf_s


	)

29 
	#KMP_SSCANF
 
ssÿnf_s


	)

30 
	#KMP_STRCPY_S
 
¡rıy_s


	)

31 
	#KMP_STRNCPY_S
 
¡ºıy_s


	)

34 
	#KMP_MEMCPY
(
d¡
, 
¤c
, 
út
è
	`memıy_s
(d¡, cÁ, src, cÁ)

	)

36 
	#KMP_STRLEN
(
¡r
è
	`¡ºËn_s
(¡r, 
RSIZE_MAX_STR
)

	)

39 
	#KMP_STRNCPY
(
d¡
, 
¤c
, 
út
è
	`¡ºıy_s
(d¡, cÁ, src, cÁ)

	)

42 
	#KMP_VSNPRINTF
(
d¡
, 
út
, 
fmt
, 
¬g
) \

43 
	`v¢´štf_s
(
d¡
, 
út
, 
_TRUNCATE
, 
fmt
, 
¬g
)

	)

49 
	#KMP_ALLOCA
 
®loÿ


	)

50 
	#KMP_MEMCPY_S
(
d¡
, 
bsz
, 
¤c
, 
út
è
	`memıy
(d¡, src, cÁ)

	)

51 
	#KMP_SNPRINTF
 
¢´štf


	)

52 
	#KMP_SSCANF
 
ssÿnf


	)

53 
	#KMP_STRCPY_S
(
d¡
, 
bsz
, 
¤c
è
	`¡rıy
(d¡, src)

	)

54 
	#KMP_STRNCPY_S
(
d¡
, 
bsz
, 
¤c
, 
út
è
	`¡ºıy
(d¡, src, cÁ)

	)

55 
	#KMP_VSNPRINTF
 
v¢´štf


	)

56 
	#KMP_STRNCPY
 
¡ºıy


	)

57 
	#KMP_STRLEN
 
¡¾’


	)

58 
	#KMP_MEMCPY
 
memıy


	)

63 
šlše
 
	$__kmp_¡ºıy_Œunÿ‹
(*
bufãr
, 
size_t
 
buf_size
,

64 cÚ¡ *
¤c
, 
size_t
 
¤c_size
) {

65 ià(
¤c_size
 >ğ
buf_size
) {

66 
¤c_size
 = 
buf_size
 - 1;

67 
	`KMP_STRNCPY_S
(
bufãr
, 
buf_size
, 
¤c
, 
¤c_size
);

68 
bufãr
[
buf_size
 - 1] = '\0';

70 
	`KMP_STRNCPY_S
(
bufãr
, 
buf_size
, 
¤c
, 
¤c_size
);

72 
	}
}

	@kmp_sched.cpp

19 
	~"kmp.h
"

20 
	~"kmp_”rÜ.h
"

21 
	~"kmp_i18n.h
"

22 
	~"kmp_™t.h
"

23 
	~"kmp_¡©s.h
"

24 
	~"kmp_¡r.h
"

26 #ià
OMPT_SUPPORT


27 
	~"om±-¥ecific.h
"

30 #ifdeà
KMP_DEBUG


33 cÚ¡ *
	gŒa™s_t
<>::
¥ec
 = "d";

34 cÚ¡ *
	gŒa™s_t
<>::
¥ec
 = "u";

35 cÚ¡ *
	gŒa™s_t
<>::
¥ec
 = "lld";

36 cÚ¡ *
	gŒa™s_t
<>::
¥ec
 = "llu";

37 cÚ¡ *
	gŒa™s_t
<>::
¥ec
 = "ld";

41 #ià
KMP_STATS_ENABLED


42 
	#KMP_STATS_LOOP_END
(
¡©
) \

44 
kmp_št64
 
t
; \

45 
kmp_št64
 
u
 = (kmp_št64)(*
puµ”
); \

46 
kmp_št64
 
l
 = (kmp_št64)(*
¶ow”
); \

47 
kmp_št64
 
i
 = (kmp_št64)
šü
; \

48 ià(
i
 == 1) { \

49 
t
 = 
u
 - 
l
 + 1; \

50 } ià(
i
 == -1) { \

51 
t
 = 
l
 - 
u
 + 1; \

52 } ià(
i
 > 0) { \

53 
t
 = (
u
 - 
l
è/ 
i
 + 1; \

55 
t
 = (
l
 - 
u
è/ (-
i
) + 1; \

57 
	`KMP_COUNT_VALUE
(
¡©
, 
t
); \

58 
	`KMP_POP_PARTITIONED_TIMER
(); \

59 }

	)

61 
	#KMP_STATS_LOOP_END
(
¡©
è

	)

64 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

65 
__kmp_fÜ_¡©ic_š™
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
,

66 
kmp_št32
 
schedty³
, kmp_št32 *
¶a¡™”
,

67 
T
 *
¶ow”
, T *
puµ”
,

68 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
p¡ride
,

69 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
šü
,

70 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk


71 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


73 *
cod•Œ


76 
KMP_COUNT_BLOCK
(
OMP_LOOP_STATIC
);

77 
KMP_PUSH_PARTITIONED_TIMER
(
OMP_loİ_¡©ic
);

78 
KMP_PUSH_PARTITIONED_TIMER
(
OMP_loİ_¡©ic_schedulšg
);

80 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

81 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

83 
kmp_št32
 
	ggtid
 = 
glob®_tid
;

84 
kmp_ušt32
 
	gtid
;

85 
kmp_ušt32
 
	gÁh
;

86 
UT
 
	gŒ_couÁ
;

87 
kmp_‹am_t
 *
	g‹am
;

88 
kmp_šfo_t
 *
	gth
 = 
__kmp_th»ads
[
gtid
];

90 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


91 
om±_‹am_šfo_t
 *
	g‹am_šfo
 = 
NULL
;

92 
om±_sk_šfo_t
 *
	gsk_šfo
 = 
NULL
;

93 
om±_wÜk_t
 
	gom±_wÜk_ty³
 = 
om±_wÜk_loİ
;

95 
kmp_št8
 
	gw¬n
 = 0;

97 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

99 
	g‹am_šfo
 = 
__om±_g‘_‹amšfo
(0, 
NULL
);

100 
	gsk_šfo
 = 
__om±_g‘_sk_šfo_objeù
(0);

102 ià(
	gloc
 !ğ
NULL
) {

103 ià((
loc
->
æags
 & 
KMP_IDENT_WORK_LOOP
) != 0) {

104 
om±_wÜk_ty³
 = 
om±_wÜk_loİ
;

105 } ià((
	gloc
->
	gæags
 & 
	gKMP_IDENT_WORK_SECTIONS
) != 0) {

106 
om±_wÜk_ty³
 = 
om±_wÜk_£ùiÚs
;

107 } ià((
	gloc
->
	gæags
 & 
	gKMP_IDENT_WORK_DISTRIBUTE
) != 0) {

108 
om±_wÜk_ty³
 = 
om±_wÜk_di¡ribu‹
;

110 
kmp_št8
 
	gboŞ_»s
 =

111 
KMP_COMPARE_AND_STORE_ACQ8
(&
w¬n
, (
kmp_št8
)0, (kmp_int8)1);

112 ià(
	gboŞ_»s
)

113 
KMP_WARNING
(
Om±Outd©edWÜksh¬e
);

115 
KMP_DEBUG_ASSERT
(
om±_wÜk_ty³
);

120 
KMP_DEBUG_ASSERT
(
¶a¡™”
 && 
¶ow”
 && 
puµ”
 && 
p¡ride
);

121 
KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_š™ c®Ëd (%d)\n", 
glob®_tid
));

122 #ifdeà
KMP_DEBUG


124 *
	gbuff
;

126 
	gbuff
 = 
__kmp_¡r_fÜm©
(

129 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<T>::¥ec,¿™s_t<
ST
>::spec,

130 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<ST>::¥ec,¿™s_t<
T
>::spec);

131 
KD_TRACE
(100, (
buff
, 
glob®_tid
, 
schedty³
, *
¶a¡™”
, *
¶ow”
, *
puµ”
,

132 *
p¡ride
, 
šü
, 
chunk
));

133 
__kmp_¡r_ä“
(&
buff
);

137 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

138 
__kmp_push_wÜksh¬e
(
glob®_tid
, 
ù_pdo
, 
loc
);

139 ià(
	gšü
 == 0) {

140 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüZ”oProhib™ed
, 
ù_pdo
,

141 
loc
);

145 ià(
	gšü
 > 0 ? (*
	gpuµ”
 < *
	g¶ow”
è: (*
¶ow”
 < *
puµ”
)) {

146 ià(
¶a¡™”
 !ğ
NULL
)

147 *
¶a¡™”
 = 
FALSE
;

149 *
	gp¡ride
 = 
šü
;

154 #ifdeà
KMP_DEBUG


156 *
	gbuff
;

158 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmpc_for_static_init:(ZERO TRIP)†iter=%%d "

161 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

162 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec);

163 
KD_TRACE
(100,

164 (
buff
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, *
p¡ride
, 
loc
->
psourû
));

165 
__kmp_¡r_ä“
(&
buff
);

168 
KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_š™: T#%d„‘uº\n", 
glob®_tid
));

170 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


171 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

172 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

173 
	gom±_wÜk_ty³
, 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

174 &(
	gsk_šfo
->
	gsk_d©a
), 0, 
	gcod•Œ
);

177 
KMP_STATS_LOOP_END
(
OMP_loİ_¡©ic_™”©iÚs
);

185 ià(
	gschedty³
 > 
	gkmp_Üd_uµ”
) {

187 
	gschedty³
 +ğ
kmp_sch_¡©ic
 -

188 
kmp_di¡ribu‹_¡©ic
;

189 
	gtid
 = 
th
->th.
th_‹am
->
t
.
t_ma¡”_tid
;

190 
	g‹am
 = 
th
->th.
th_‹am
->
t
.
t_·»Á
;

192 
	gtid
 = 
__kmp_tid_äom_gtid
(
glob®_tid
);

193 
	g‹am
 = 
th
->th.
th_‹am
;

197 ià(
	g‹am
->
	gt
.
	gt_£rŸlized
) {

199 ià(
	g¶a¡™”
 !ğ
NULL
)

200 *
¶a¡™”
 = 
TRUE
;

202 *
	gp¡ride
 =

203 (
šü
 > 0è? (*
puµ”
 - *
¶ow”
 + 1) : (-(*plower - *pupper + 1));

205 #ifdeà
KMP_DEBUG


207 *
	gbuff
;

209 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmpc_for_static_init: (serial)†iter=%%d "

211 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

212 
Œa™s_t
<
ST
>::
¥ec
);

213 
KD_TRACE
(100, (
buff
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, *
p¡ride
));

214 
__kmp_¡r_ä“
(&
buff
);

217 
KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_š™: T#%d„‘uº\n", 
glob®_tid
));

219 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


220 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

221 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

222 
	gom±_wÜk_ty³
, 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

223 &(
	gsk_šfo
->
	gsk_d©a
), *
	gp¡ride
, 
	gcod•Œ
);

226 
KMP_STATS_LOOP_END
(
OMP_loİ_¡©ic_™”©iÚs
);

229 
	gÁh
 = 
‹am
->
t
.
t_Åroc
;

230 ià(
	gÁh
 == 1) {

231 ià(
¶a¡™”
 !ğ
NULL
)

232 *
¶a¡™”
 = 
TRUE
;

233 *
	gp¡ride
 =

234 (
šü
 > 0è? (*
puµ”
 - *
¶ow”
 + 1) : (-(*plower - *pupper + 1));

235 #ifdeà
KMP_DEBUG


237 *
	gbuff
;

239 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmpc_for_static_init: (serial)†iter=%%d "

241 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

242 
Œa™s_t
<
ST
>::
¥ec
);

243 
KD_TRACE
(100, (
buff
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, *
p¡ride
));

244 
__kmp_¡r_ä“
(&
buff
);

247 
KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_š™: T#%d„‘uº\n", 
glob®_tid
));

249 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


250 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

251 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

252 
	gom±_wÜk_ty³
, 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

253 &(
	gsk_šfo
->
	gsk_d©a
), *
	gp¡ride
, 
	gcod•Œ
);

256 
KMP_STATS_LOOP_END
(
OMP_loİ_¡©ic_™”©iÚs
);

261 ià(
	gšü
 == 1) {

262 
Œ_couÁ
 = *
puµ”
 - *
¶ow”
 + 1;

263 } ià(
	gšü
 == -1) {

264 
Œ_couÁ
 = *
¶ow”
 - *
puµ”
 + 1;

265 } ià(
	gšü
 > 0) {

267 
	gŒ_couÁ
 = (
UT
)(*
puµ”
 - *
¶ow”
è/ 
šü
 + 1;

269 
	gŒ_couÁ
 = (
UT
)(*
¶ow”
 - *
puµ”
è/ (-
šü
) + 1;

272 #ià
KMP_STATS_ENABLED


273 ià(
KMP_MASTER_GTID
(
gtid
)) {

274 
KMP_COUNT_VALUE
(
OMP_loİ_¡©ic_tÙ®_™”©iÚs
, 
Œ_couÁ
);

278 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

280 ià(
	gŒ_couÁ
 =ğ0 && *
puµ”
 !ğ*
¶ow”
) {

281 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsI‹¿tiÚRªgeTooL¬ge
, 
ù_pdo
,

282 
loc
);

287 
	gschedty³
) {

288 
	gkmp_sch_¡©ic
: {

289 ià(
Œ_couÁ
 < 
Áh
) {

290 
KMP_DEBUG_ASSERT
(

291 
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
 ||

292 
__kmp_¡©ic
 ==

293 
kmp_sch_¡©ic_b®ªûd
);

294 ià(
	gtid
 < 
	gŒ_couÁ
) {

295 *
	gpuµ”
 = *
¶ow”
 = *¶ow” + 
tid
 * 
šü
;

297 *
	g¶ow”
 = *
puµ”
 + 
šü
;

299 ià(
	g¶a¡™”
 !ğ
NULL
)

300 *
¶a¡™”
 = (
tid
 =ğ
Œ_couÁ
 - 1);

302 ià(
	g__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_b®ªûd
) {

303 
UT
 
sm®l_chunk
 = 
Œ_couÁ
 / 
Áh
;

304 
UT
 
	gexŒas
 = 
Œ_couÁ
 % 
Áh
;

305 *
	g¶ow”
 +ğ
šü
 * (
tid
 * 
sm®l_chunk
 + (tid < 
exŒas
 ?id :ƒxtras));

306 *
	gpuµ”
 = *
¶ow”
 + 
sm®l_chunk
 * 
šü
 - (
tid
 < 
exŒas
 ? 0 : incr);

307 ià(
	g¶a¡™”
 !ğ
NULL
)

308 *
¶a¡™”
 = (
tid
 =ğ
Áh
 - 1);

310 
T
 
	gbig_chunk_šc_couÁ
 =

311 (
Œ_couÁ
 / 
Áh
 + (Ñr_couÁ %‚thè? 1 : 0)è* 
šü
;

312 
T
 
	gŞd_uµ”
 = *
puµ”
;

314 
KMP_DEBUG_ASSERT
(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
);

317 *
	g¶ow”
 +ğ
tid
 * 
big_chunk_šc_couÁ
;

318 *
	gpuµ”
 = *
¶ow”
 + 
big_chunk_šc_couÁ
 - 
šü
;

319 ià(
	gšü
 > 0) {

320 ià(*
	gpuµ”
 < *
	g¶ow”
)

321 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
max_v®ue
;

322 ià(
	g¶a¡™”
 !ğ
NULL
)

323 *
¶a¡™”
 = *
¶ow”
 <ğ
Şd_uµ”
 && *
puµ”
 > old_uµ” - 
šü
;

324 ià(*
	gpuµ”
 > 
	gŞd_uµ”
)

325 *
	gpuµ”
 = 
Şd_uµ”
;

327 ià(*
	gpuµ”
 > *
	g¶ow”
)

328 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
mš_v®ue
;

329 ià(
	g¶a¡™”
 !ğ
NULL
)

330 *
¶a¡™”
 = *
¶ow”
 >ğ
Şd_uµ”
 && *
puµ”
 < old_uµ” - 
šü
;

331 ià(*
	gpuµ”
 < 
	gŞd_uµ”
)

332 *
	gpuµ”
 = 
Şd_uµ”
;

336 *
	gp¡ride
 = 
Œ_couÁ
;

339 
	gkmp_sch_¡©ic_chunked
: {

340 
ST
 
¥ª
;

341 ià(
	gchunk
 < 1) {

342 
	gchunk
 = 1;

344 
	g¥ª
 = 
chunk
 * 
šü
;

345 *
	gp¡ride
 = 
¥ª
 * 
Áh
;

346 *
	g¶ow”
 = *
¶ow”
 + (
¥ª
 * 
tid
);

347 *
	gpuµ”
 = *
¶ow”
 + 
¥ª
 - 
šü
;

348 ià(
	g¶a¡™”
 !ğ
NULL
)

349 *
¶a¡™”
 = (
tid
 =ğ((
Œ_couÁ
 - 1è/ (
UT
)
chunk
è% 
Áh
);

352 
	gkmp_sch_¡©ic_b®ªûd_chunked
: {

353 
T
 
Şd_uµ”
 = *
puµ”
;

355 
UT
 
	g¥ª
 = (
Œ_couÁ
 + 
Áh
 - 1) /‚th;

358 
	gchunk
 = (
¥ª
 + 
chunk
 - 1) & ~(chunk - 1);

360 
	g¥ª
 = 
chunk
 * 
šü
;

361 *
	g¶ow”
 = *
¶ow”
 + (
¥ª
 * 
tid
);

362 *
	gpuµ”
 = *
¶ow”
 + 
¥ª
 - 
šü
;

363 ià(
	gšü
 > 0) {

364 ià(*
	gpuµ”
 > 
	gŞd_uµ”
)

365 *
	gpuµ”
 = 
Şd_uµ”
;

366 } ià(*
	gpuµ”
 < 
	gŞd_uµ”
)

367 *
	gpuµ”
 = 
Şd_uµ”
;

369 ià(
	g¶a¡™”
 !ğ
NULL
)

370 *
¶a¡™”
 = (
tid
 =ğ((
Œ_couÁ
 - 1è/ (
UT
)
chunk
));

374 
KMP_ASSERT2
(0, "__kmpc_for_static_init: unknown schedulingype");

378 #ià
USE_ITT_BUILD


380 ià(
KMP_MASTER_TID
(
tid
è&& 
	g__™t_m‘ad©a_add_±r
 &&

381 
	g__kmp_fÜkjoš_äames_mode
 =ğ3 && 
th
->th.
th_‹ams_miüÙask
 =ğ
NULL
 &&

382 
‹am
->
t
.
t_aùive_Ëv–
 == 1) {

383 
kmp_ušt64
 
cur_chunk
 = 
chunk
;

386 ià(
	gschedty³
 =ğ
kmp_sch_¡©ic
) {

387 
cur_chunk
 = 
Œ_couÁ
 / 
Áh
 + ((trip_count %‚th) ? 1 : 0);

390 
__kmp_™t_m‘ad©a_loİ
(
loc
, 0, 
Œ_couÁ
, 
cur_chunk
);

393 #ifdeà
KMP_DEBUG


395 *
	gbuff
;

397 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmpc_for_static_init:†iter=%%d†ower=%%%s "

399 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

400 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec);

401 
KD_TRACE
(100, (
buff
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, *
p¡ride
));

402 
__kmp_¡r_ä“
(&
buff
);

405 
KE_TRACE
(10, ("__kmpc_fÜ_¡©ic_š™: T#%d„‘uº\n", 
glob®_tid
));

407 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


408 ià(
	gom±_’abËd
.
	gom±_ÿÎback_wÜk
) {

409 
	gom±_ÿÎbacks
.
om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

410 
	gom±_wÜk_ty³
, 
	gom±_scİe_begš
, &(
	g‹am_šfo
->
	g·¿Î–_d©a
),

411 &(
	gsk_šfo
->
	gsk_d©a
), 
	gŒ_couÁ
, 
	gcod•Œ
);

415 
KMP_STATS_LOOP_END
(
OMP_loİ_¡©ic_™”©iÚs
);

419 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

420 
__kmp_di¡_fÜ_¡©ic_š™
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

421 
kmp_št32
 
scheduË
, kmp_št32 *
¶a¡™”
,

422 
T
 *
¶ow”
, T *
puµ”
, T *
puµ”Di¡
,

423 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
p¡ride
,

424 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
šü
,

425 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk
) {

426 
KMP_COUNT_BLOCK
(
OMP_DISTRIBUTE
);

427 
KMP_PUSH_PARTITIONED_TIMER
(
OMP_di¡ribu‹
);

428 
KMP_PUSH_PARTITIONED_TIMER
(
OMP_di¡ribu‹_schedulšg
);

429 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

430 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

431 
kmp_ušt32
 
	gtid
;

432 
kmp_ušt32
 
	gÁh
;

433 
kmp_ušt32
 
	g‹am_id
;

434 
kmp_ušt32
 
	gÁ—ms
;

435 
UT
 
	gŒ_couÁ
;

436 
kmp_‹am_t
 *
	g‹am
;

437 
kmp_šfo_t
 *
	gth
;

439 
KMP_DEBUG_ASSERT
(
¶a¡™”
 && 
¶ow”
 && 
puµ”
 && 
puµ”Di¡
 && 
p¡ride
);

440 
KE_TRACE
(10, ("__kmpc_di¡_fÜ_¡©ic_š™ c®Ëd (%d)\n", 
gtid
));

441 #ifdeà
KMP_DEBUG


443 *
	gbuff
;

445 
	gbuff
 = 
__kmp_¡r_fÜm©
(

448 
Œa™s_t
<
T
>::
¥ec
,¿™s_t<T>::¥ec,¿™s_t<
ST
>::spec,

449 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec);

450 
KD_TRACE
(100,

451 (
buff
, 
gtid
, 
scheduË
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, 
šü
, 
chunk
));

452 
__kmp_¡r_ä“
(&
buff
);

456 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

457 
__kmp_push_wÜksh¬e
(
gtid
, 
ù_pdo
, 
loc
);

458 ià(
	gšü
 == 0) {

459 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüZ”oProhib™ed
, 
ù_pdo
,

460 
loc
);

462 ià(
	gšü
 > 0 ? (*
	gpuµ”
 < *
	g¶ow”
è: (*
¶ow”
 < *
puµ”
)) {

472 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüIÎeg®
, 
ù_pdo
, 
loc
);

475 
	gtid
 = 
__kmp_tid_äom_gtid
(
gtid
);

476 
	gth
 = 
__kmp_th»ads
[
gtid
];

477 
	gÁh
 = 
th
->th.
th_‹am_Åroc
;

478 
	g‹am
 = 
th
->th.
th_‹am
;

479 
KMP_DEBUG_ASSERT
(
th
->th.
th_‹ams_miüÙask
);

480 
	gÁ—ms
 = 
th
->th.
th_‹ams_size
.
Á—ms
;

481 
	g‹am_id
 = 
‹am
->
t
.
t_ma¡”_tid
;

482 
KMP_DEBUG_ASSERT
(
Á—ms
 =ğ(
kmp_ušt32
)
‹am
->
t
.
t_·»Á
->t.
t_Åroc
);

485 ià(
	gšü
 == 1) {

486 
Œ_couÁ
 = *
puµ”
 - *
¶ow”
 + 1;

487 } ià(
	gšü
 == -1) {

488 
Œ_couÁ
 = *
¶ow”
 - *
puµ”
 + 1;

489 } ià(
	gšü
 > 0) {

491 
	gŒ_couÁ
 = (
UT
)(*
puµ”
 - *
¶ow”
è/ 
šü
 + 1;

493 
	gŒ_couÁ
 = (
UT
)(*
¶ow”
 - *
puµ”
è/ (-
šü
) + 1;

496 *
	gp¡ride
 = *
puµ”
 - *
¶ow”
;

497 ià(
	gŒ_couÁ
 <ğ
Á—ms
) {

498 
KMP_DEBUG_ASSERT
(

499 
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
 ||

500 
__kmp_¡©ic
 ==

501 
kmp_sch_¡©ic_b®ªûd
);

504 ià(
	g‹am_id
 < 
	gŒ_couÁ
 && 
	gtid
 == 0) {

505 *
puµ”
 = *
puµ”Di¡
 = *
¶ow”
 = *¶ow” + 
‹am_id
 * 
šü
;

507 *
	gpuµ”Di¡
 = *
puµ”
;

508 *
	g¶ow”
 = *
puµ”
 + 
šü
;

510 ià(
	g¶a¡™”
 !ğ
NULL
)

511 *
¶a¡™”
 = (
tid
 =ğ0 && 
‹am_id
 =ğ
Œ_couÁ
 - 1);

514 ià(
	g__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_b®ªûd
) {

515 
UT
 
chunkD
 = 
Œ_couÁ
 / 
Á—ms
;

516 
UT
 
	gexŒas
 = 
Œ_couÁ
 % 
Á—ms
;

517 *
	g¶ow”
 +=

518 
šü
 * (
‹am_id
 * 
chunkD
 + (‹am_id < 
exŒas
 ?eam_id :ƒxtras));

519 *
	gpuµ”Di¡
 = *
¶ow”
 + 
chunkD
 * 
šü
 - (
‹am_id
 < 
exŒas
 ? 0 : incr);

520 ià(
	g¶a¡™”
 !ğ
NULL
)

521 *
¶a¡™”
 = (
‹am_id
 =ğ
Á—ms
 - 1);

523 
T
 
	gchunk_šc_couÁ
 =

524 (
Œ_couÁ
 / 
Á—ms
 + (Ñr_couÁ %‚‹amsè? 1 : 0)è* 
šü
;

525 
T
 
	guµ”
 = *
puµ”
;

526 
KMP_DEBUG_ASSERT
(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
);

528 *
	g¶ow”
 +ğ
‹am_id
 * 
chunk_šc_couÁ
;

529 *
	gpuµ”Di¡
 = *
¶ow”
 + 
chunk_šc_couÁ
 - 
šü
;

531 ià(
	gšü
 > 0) {

532 ià(*
	gpuµ”Di¡
 < *
	g¶ow”
)

533 *
	gpuµ”Di¡
 = 
Œa™s_t
<
T
>::
max_v®ue
;

534 ià(
	g¶a¡™”
 !ğ
NULL
)

535 *
¶a¡™”
 = *
¶ow”
 <ğ
uµ”
 && *
puµ”Di¡
 > uµ” - 
šü
;

536 ià(*
	gpuµ”Di¡
 > 
	guµ”
)

537 *
	gpuµ”Di¡
 = 
uµ”
;

538 ià(*
	g¶ow”
 > *
	gpuµ”Di¡
) {

539 *
	gpuµ”
 = *
puµ”Di¡
;

540 
	g’d
;

543 ià(*
	gpuµ”Di¡
 > *
	g¶ow”
)

544 *
	gpuµ”Di¡
 = 
Œa™s_t
<
T
>::
mš_v®ue
;

545 ià(
	g¶a¡™”
 !ğ
NULL
)

546 *
¶a¡™”
 = *
¶ow”
 >ğ
uµ”
 && *
puµ”Di¡
 < uµ” - 
šü
;

547 ià(*
	gpuµ”Di¡
 < 
	guµ”
)

548 *
	gpuµ”Di¡
 = 
uµ”
;

549 ià(*
	g¶ow”
 < *
	gpuµ”Di¡
) {

550 *
	gpuµ”
 = *
puµ”Di¡
;

551 
	g’d
;

557 ià(
	gšü
 == 1) {

558 
Œ_couÁ
 = *
puµ”Di¡
 - *
¶ow”
 + 1;

559 } ià(
	gšü
 == -1) {

560 
Œ_couÁ
 = *
¶ow”
 - *
puµ”Di¡
 + 1;

561 } ià(
	gšü
 > 1) {

563 
	gŒ_couÁ
 = (
UT
)(*
puµ”Di¡
 - *
¶ow”
è/ 
šü
 + 1;

565 
	gŒ_couÁ
 = (
UT
)(*
¶ow”
 - *
puµ”Di¡
è/ (-
šü
) + 1;

567 
KMP_DEBUG_ASSERT
(
Œ_couÁ
);

568 
	gscheduË
) {

569 
	gkmp_sch_¡©ic
: {

570 ià(
Œ_couÁ
 <ğ
Áh
) {

571 
KMP_DEBUG_ASSERT
(

572 
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
 ||

573 
__kmp_¡©ic
 ==

574 
kmp_sch_¡©ic_b®ªûd
);

575 ià(
	gtid
 < 
	gŒ_couÁ
)

576 *
	gpuµ”
 = *
¶ow”
 = *¶ow” + 
tid
 * 
šü
;

578 *
	g¶ow”
 = *
puµ”
 + 
šü
;

579 ià(
	g¶a¡™”
 !ğ
NULL
)

580 ià(*
¶a¡™”
 !ğ0 && !(
tid
 =ğ
Œ_couÁ
 - 1))

581 *
¶a¡™”
 = 0;

583 ià(
	g__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_b®ªûd
) {

584 
UT
 
chunkL
 = 
Œ_couÁ
 / 
Áh
;

585 
UT
 
	gexŒas
 = 
Œ_couÁ
 % 
Áh
;

586 *
	g¶ow”
 +ğ
šü
 * (
tid
 * 
chunkL
 + (tid < 
exŒas
 ?id :ƒxtras));

587 *
	gpuµ”
 = *
¶ow”
 + 
chunkL
 * 
šü
 - (
tid
 < 
exŒas
 ? 0 : incr);

588 ià(
	g¶a¡™”
 !ğ
NULL
)

589 ià(*
¶a¡™”
 !ğ0 && !(
tid
 =ğ
Áh
 - 1))

590 *
¶a¡™”
 = 0;

592 
T
 
	gchunk_šc_couÁ
 =

593 (
Œ_couÁ
 / 
Áh
 + (Ñr_couÁ %‚thè? 1 : 0)è* 
šü
;

594 
T
 
	guµ”
 = *
puµ”Di¡
;

595 
KMP_DEBUG_ASSERT
(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
);

597 *
	g¶ow”
 +ğ
tid
 * 
chunk_šc_couÁ
;

598 *
	gpuµ”
 = *
¶ow”
 + 
chunk_šc_couÁ
 - 
šü
;

599 ià(
	gšü
 > 0) {

600 ià(*
	gpuµ”
 < *
	g¶ow”
)

601 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
max_v®ue
;

602 ià(
	g¶a¡™”
 !ğ
NULL
)

603 ià(*
¶a¡™”
 != 0 &&

604 !(*
¶ow”
 <ğ
uµ”
 && *
puµ”
 > uµ” - 
šü
))

605 *
¶a¡™”
 = 0;

606 ià(*
	gpuµ”
 > 
	guµ”
)

607 *
	gpuµ”
 = 
uµ”
;

609 ià(*
	gpuµ”
 > *
	g¶ow”
)

610 *
	gpuµ”
 = 
Œa™s_t
<
T
>::
mš_v®ue
;

611 ià(
	g¶a¡™”
 !ğ
NULL
)

612 ià(*
¶a¡™”
 != 0 &&

613 !(*
¶ow”
 >ğ
uµ”
 && *
puµ”
 < uµ” - 
šü
))

614 *
¶a¡™”
 = 0;

615 ià(*
	gpuµ”
 < 
	guµ”
)

616 *
	gpuµ”
 = 
uµ”
;

622 
	gkmp_sch_¡©ic_chunked
: {

623 
ST
 
¥ª
;

624 ià(
	gchunk
 < 1)

625 
	gchunk
 = 1;

626 
	g¥ª
 = 
chunk
 * 
šü
;

627 *
	gp¡ride
 = 
¥ª
 * 
Áh
;

628 *
	g¶ow”
 = *
¶ow”
 + (
¥ª
 * 
tid
);

629 *
	gpuµ”
 = *
¶ow”
 + 
¥ª
 - 
šü
;

630 ià(
	g¶a¡™”
 !ğ
NULL
)

631 ià(*
¶a¡™”
 !ğ0 && !(
tid
 =ğ((
Œ_couÁ
 - 1è/ (
UT
)
chunk
è% 
Áh
))

632 *
¶a¡™”
 = 0;

636 
KMP_ASSERT2
(0,

641 
	g’d
:;

642 #ifdeà
KMP_DEBUG


644 *
	gbuff
;

646 
	gbuff
 = 
__kmp_¡r_fÜm©
(

649 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,raits_t<T>::spec,

650 
Œa™s_t
<
ST
>::
¥ec
,¿™s_t<
T
>::spec);

651 
KD_TRACE
(100, (
buff
, *
¶a¡™”
, *
¶ow”
, *
puµ”
, *
puµ”Di¡
, *
p¡ride
));

652 
__kmp_¡r_ä“
(&
buff
);

655 
KE_TRACE
(10, ("__kmpc_di¡_fÜ_¡©ic_š™: T#%d„‘uº\n", 
gtid
));

656 
KMP_STATS_LOOP_END
(
OMP_di¡ribu‹_™”©iÚs
);

660 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

661 
__kmp_‹am_¡©ic_š™
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

662 
kmp_št32
 *
p_Ï¡
, 
T
 *
p_lb
, T *
p_ub
,

663 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 *
p_¡
,

664 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
šü
,

665 
ty³Çme
 
Œa™s_t
<
T
>::
sigÃd_t
 
chunk
) {

671 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tunsigÃd_t
 
	tUT
;

672 
ty³Çme
 
	tŒa™s_t
<
	tT
>::
	tsigÃd_t
 
	tST
;

673 
kmp_ušt32
 
	g‹am_id
;

674 
kmp_ušt32
 
	gÁ—ms
;

675 
UT
 
	gŒ_couÁ
;

676 
T
 
	glow”
;

677 
T
 
	guµ”
;

678 
ST
 
	g¥ª
;

679 
kmp_‹am_t
 *
	g‹am
;

680 
kmp_šfo_t
 *
	gth
;

682 
KMP_DEBUG_ASSERT
(
p_Ï¡
 && 
p_lb
 && 
p_ub
 && 
p_¡
);

683 
KE_TRACE
(10, ("__kmp_‹am_¡©ic_š™ c®Ëd (%d)\n", 
gtid
));

684 #ifdeà
KMP_DEBUG


686 *
	gbuff
;

688 
	gbuff
 = 
__kmp_¡r_fÜm©
("__kmp_team_static_initƒnter: T#%%d†iter=%%d "

690 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

691 
Œa™s_t
<
ST
>::
¥ec
,raits_t<ST>::spec,

692 
Œa™s_t
<
T
>::
¥ec
);

693 
KD_TRACE
(100, (
buff
, 
gtid
, *
p_Ï¡
, *
p_lb
, *
p_ub
, *
p_¡
, 
chunk
));

694 
__kmp_¡r_ä“
(&
buff
);

698 
	glow”
 = *
p_lb
;

699 
	guµ”
 = *
p_ub
;

700 ià(
	g__kmp_’v_cÚsi¡’cy_check
) {

701 ià(
	gšü
 == 0) {

702 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüZ”oProhib™ed
, 
ù_pdo
,

703 
loc
);

705 ià(
	gšü
 > 0 ? (
	guµ”
 < 
	glow”
è: (
low”
 < 
uµ”
)) {

715 
__kmp_”rÜ_cÚ¡ruù
(
kmp_i18n_msg_CnsLoİInüIÎeg®
, 
ù_pdo
, 
loc
);

718 
	gth
 = 
__kmp_th»ads
[
gtid
];

719 
	g‹am
 = 
th
->th.
th_‹am
;

720 
KMP_DEBUG_ASSERT
(
th
->th.
th_‹ams_miüÙask
);

721 
	gÁ—ms
 = 
th
->th.
th_‹ams_size
.
Á—ms
;

722 
	g‹am_id
 = 
‹am
->
t
.
t_ma¡”_tid
;

723 
KMP_DEBUG_ASSERT
(
Á—ms
 =ğ(
kmp_ušt32
)
‹am
->
t
.
t_·»Á
->t.
t_Åroc
);

726 ià(
	gšü
 == 1) {

727 
Œ_couÁ
 = 
uµ”
 - 
low”
 + 1;

728 } ià(
	gšü
 == -1) {

729 
Œ_couÁ
 = 
low”
 - 
uµ”
 + 1;

730 } ià(
	gšü
 > 0) {

732 
	gŒ_couÁ
 = (
UT
)(
uµ”
 - 
low”
è/ 
šü
 + 1;

734 
	gŒ_couÁ
 = (
UT
)(
low”
 - 
uµ”
è/ (-
šü
) + 1;

736 ià(
	gchunk
 < 1)

737 
	gchunk
 = 1;

738 
	g¥ª
 = 
chunk
 * 
šü
;

739 *
	gp_¡
 = 
¥ª
 * 
Á—ms
;

740 *
	gp_lb
 = 
low”
 + (
¥ª
 * 
‹am_id
);

741 *
	gp_ub
 = *
p_lb
 + 
¥ª
 - 
šü
;

742 ià(
	gp_Ï¡
 !ğ
NULL
)

743 *
p_Ï¡
 = (
‹am_id
 =ğ((
Œ_couÁ
 - 1è/ (
UT
)
chunk
è% 
Á—ms
);

745 ià(
	gšü
 > 0) {

746 ià(*
	gp_ub
 < *
	gp_lb
)

747 *
	gp_ub
 = 
Œa™s_t
<
T
>::
max_v®ue
;

748 ià(*
	gp_ub
 > 
	guµ”
)

749 *
	gp_ub
 = 
uµ”
;

751 ià(*
	gp_ub
 > *
	gp_lb
)

752 *
	gp_ub
 = 
Œa™s_t
<
T
>::
mš_v®ue
;

753 ià(*
	gp_ub
 < 
	guµ”
)

754 *
	gp_ub
 = 
uµ”
;

756 #ifdeà
KMP_DEBUG


758 *
	gbuff
;

760 
	gbuff
 =

761 
__kmp_¡r_fÜm©
("__kmp_team_static_initƒxit: T#%%deam%%u†iter=%%d "

763 
Œa™s_t
<
T
>::
¥ec
,raits_t<T>::spec,

764 
Œa™s_t
<
ST
>::
¥ec
,raits_t<ST>::spec);

765 
KD_TRACE
(100, (
buff
, 
gtid
, 
‹am_id
, *
p_Ï¡
, *
p_lb
, *
p_ub
, *
p_¡
, 
chunk
));

766 
__kmp_¡r_ä“
(&
buff
);

794 
__kmpc_fÜ_¡©ic_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 
schedty³
,

795 
kmp_št32
 *
¶a¡™”
, kmp_št32 *
¶ow”
,

796 
kmp_št32
 *
puµ”
, kmp_št32 *
p¡ride
,

797 
kmp_št32
 
šü
, kmp_št32 
chunk
) {

798 
__kmp_fÜ_¡©ic_š™
<
kmp_št32
>(
loc
, 
gtid
, 
schedty³
, 
¶a¡™”
, 
¶ow”
,

799 
puµ”
, 
p¡ride
, 
šü
, 
chunk


800 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


802 
OMPT_GET_RETURN_ADDRESS
(0)

810 
__kmpc_fÜ_¡©ic_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

811 
kmp_št32
 
schedty³
, kmp_št32 *
¶a¡™”
,

812 
kmp_ušt32
 *
¶ow”
, kmp_ušt32 *
puµ”
,

813 
kmp_št32
 *
p¡ride
, kmp_št32 
šü
,

814 
kmp_št32
 
chunk
) {

815 
__kmp_fÜ_¡©ic_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
schedty³
, 
¶a¡™”
, 
¶ow”
,

816 
puµ”
, 
p¡ride
, 
šü
, 
chunk


817 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


819 
OMPT_GET_RETURN_ADDRESS
(0)

827 
__kmpc_fÜ_¡©ic_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 
schedty³
,

828 
kmp_št32
 *
¶a¡™”
, 
kmp_št64
 *
¶ow”
,

829 
kmp_št64
 *
puµ”
, kmp_št64 *
p¡ride
,

830 
kmp_št64
 
šü
, kmp_št64 
chunk
) {

831 
__kmp_fÜ_¡©ic_š™
<
kmp_št64
>(
loc
, 
gtid
, 
schedty³
, 
¶a¡™”
, 
¶ow”
,

832 
puµ”
, 
p¡ride
, 
šü
, 
chunk


833 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


835 
OMPT_GET_RETURN_ADDRESS
(0)

843 
__kmpc_fÜ_¡©ic_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

844 
kmp_št32
 
schedty³
, kmp_št32 *
¶a¡™”
,

845 
kmp_ušt64
 *
¶ow”
, kmp_ušt64 *
puµ”
,

846 
kmp_št64
 *
p¡ride
, kmp_št64 
šü
,

847 
kmp_št64
 
chunk
) {

848 
__kmp_fÜ_¡©ic_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
schedty³
, 
¶a¡™”
, 
¶ow”
,

849 
puµ”
, 
p¡ride
, 
šü
, 
chunk


850 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


852 
OMPT_GET_RETURN_ADDRESS
(0)

882 
__kmpc_di¡_fÜ_¡©ic_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

883 
kmp_št32
 
scheduË
, kmp_št32 *
¶a¡™”
,

884 
kmp_št32
 *
¶ow”
, kmp_št32 *
puµ”
,

885 
kmp_št32
 *
puµ”D
, kmp_št32 *
p¡ride
,

886 
kmp_št32
 
šü
, kmp_št32 
chunk
) {

887 
__kmp_di¡_fÜ_¡©ic_š™
<
kmp_št32
>(
loc
, 
gtid
, 
scheduË
, 
¶a¡™”
, 
¶ow”
,

888 
puµ”
, 
puµ”D
, 
p¡ride
, 
šü
, 
chunk
);

894 
__kmpc_di¡_fÜ_¡©ic_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

895 
kmp_št32
 
scheduË
, kmp_št32 *
¶a¡™”
,

896 
kmp_ušt32
 *
¶ow”
, kmp_ušt32 *
puµ”
,

897 
kmp_ušt32
 *
puµ”D
, 
kmp_št32
 *
p¡ride
,

898 
kmp_št32
 
šü
, kmp_št32 
chunk
) {

899 
__kmp_di¡_fÜ_¡©ic_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
scheduË
, 
¶a¡™”
, 
¶ow”
,

900 
puµ”
, 
puµ”D
, 
p¡ride
, 
šü
, 
chunk
);

906 
__kmpc_di¡_fÜ_¡©ic_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

907 
kmp_št32
 
scheduË
, kmp_št32 *
¶a¡™”
,

908 
kmp_št64
 *
¶ow”
, kmp_št64 *
puµ”
,

909 
kmp_št64
 *
puµ”D
, kmp_št64 *
p¡ride
,

910 
kmp_št64
 
šü
, kmp_št64 
chunk
) {

911 
__kmp_di¡_fÜ_¡©ic_š™
<
kmp_št64
>(
loc
, 
gtid
, 
scheduË
, 
¶a¡™”
, 
¶ow”
,

912 
puµ”
, 
puµ”D
, 
p¡ride
, 
šü
, 
chunk
);

918 
__kmpc_di¡_fÜ_¡©ic_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
,

919 
kmp_št32
 
scheduË
, kmp_št32 *
¶a¡™”
,

920 
kmp_ušt64
 *
¶ow”
, kmp_ušt64 *
puµ”
,

921 
kmp_ušt64
 *
puµ”D
, 
kmp_št64
 *
p¡ride
,

922 
kmp_št64
 
šü
, kmp_št64 
chunk
) {

923 
__kmp_di¡_fÜ_¡©ic_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
scheduË
, 
¶a¡™”
, 
¶ow”
,

924 
puµ”
, 
puµ”D
, 
p¡ride
, 
šü
, 
chunk
);

956 
__kmpc_‹am_¡©ic_š™_4
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

957 
kmp_št32
 *
p_lb
, kmp_št32 *
p_ub
,

958 
kmp_št32
 *
p_¡
, kmp_št32 
šü
,

959 
kmp_št32
 
chunk
) {

960 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

961 
__kmp_‹am_¡©ic_š™
<
kmp_št32
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡
, 
šü
,

962 
chunk
);

968 
__kmpc_‹am_¡©ic_š™_4u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

969 
kmp_ušt32
 *
p_lb
, kmp_ušt32 *
p_ub
,

970 
kmp_št32
 *
p_¡
, kmp_št32 
šü
,

971 
kmp_št32
 
chunk
) {

972 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

973 
__kmp_‹am_¡©ic_š™
<
kmp_ušt32
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡
, 
šü
,

974 
chunk
);

980 
__kmpc_‹am_¡©ic_š™_8
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

981 
kmp_št64
 *
p_lb
, kmp_št64 *
p_ub
,

982 
kmp_št64
 *
p_¡
, kmp_št64 
šü
,

983 
kmp_št64
 
chunk
) {

984 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

985 
__kmp_‹am_¡©ic_š™
<
kmp_št64
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡
, 
šü
,

986 
chunk
);

992 
__kmpc_‹am_¡©ic_š™_8u
(
id’t_t
 *
loc
, 
kmp_št32
 
gtid
, kmp_št32 *
p_Ï¡
,

993 
kmp_ušt64
 *
p_lb
, kmp_ušt64 *
p_ub
,

994 
kmp_št64
 *
p_¡
, kmp_št64 
šü
,

995 
kmp_št64
 
chunk
) {

996 
KMP_DEBUG_ASSERT
(
__kmp_š™_£rŸl
);

997 
__kmp_‹am_¡©ic_š™
<
kmp_ušt64
>(
loc
, 
gtid
, 
p_Ï¡
, 
p_lb
, 
p_ub
, 
p_¡
, 
šü
,

998 
chunk
);

	@kmp_settings.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 
	~"kmp_©omic.h
"

16 #ià
KMP_USE_HIER_SCHED


17 
	~"kmp_di¥©ch_h›r.h
"

19 
	~"kmp_’vœÚm’t.h
"

20 
	~"kmp_i18n.h
"

21 
	~"kmp_io.h
"

22 
	~"kmp_™t.h
"

23 
	~"kmp_lock.h
"

24 
	~"kmp_£‰šgs.h
"

25 
	~"kmp_¡r.h
"

26 
	~"kmp_w¿µ”_g‘pid.h
"

27 
	~<ùy³.h
>

29 
__kmp_’v_toPršt
(cÚ¡ *
Çme
, 
æag
);

31 
boŞ
 
	g__kmp_’v_fÜm©
 = 0;

36 #ifdeà
USE_LOAD_BALANCE


37 
	$__kmp_cÚv”t_to_doubË
(cÚ¡ *
s
) {

38 
»suÉ
;

40 ià(
	`KMP_SSCANF
(
s
, "%lf", &
»suÉ
) < 1) {

41 
»suÉ
 = 0.0;

44  
»suÉ
;

45 
	}
}

48 #ifdeà
KMP_DEBUG


49 
	$__kmp_»ad¡r_w™h_£Áš–
(*
de¡
, cÚ¡ *
¤c
,

50 
size_t
 
Ën
, 
£Áš–
) {

51 
i
;

52 
i
 = 0; i < 
Ën
; i++) {

53 ià((*
¤c
 =ğ'\0'è|| (*¤ø=ğ
£Áš–
)) {

56 *(
de¡
++èğ*(
¤c
++);

58 *
de¡
 = '\0';

59  
i
;

60 
	}
}

63 
	$__kmp_m©ch_w™h_£Áš–
(cÚ¡ *
a
, cÚ¡ *
b
, 
size_t
 
Ën
,

64 
£Áš–
) {

65 
size_t
 
l
 = 0;

67 ià(
a
 =ğ
NULL
)

68 
a
 = "";

69 ià(
b
 =ğ
NULL
)

70 
b
 = "";

71 *
a
 && *
b
 && *b !ğ
£Áš–
) {

72 
ÿ
 = *
a
, 
cb
 = *
b
;

74 ià(
ÿ
 >= 'a' && ca <= 'z')

75 
ÿ
 -= 'a' - 'A';

76 ià(
cb
 >= 'a' && cb <= 'z')

77 
cb
 -= 'a' - 'A';

78 ià(
ÿ
 !ğ
cb
)

79  
FALSE
;

80 ++
l
;

81 ++
a
;

82 ++
b
;

84  
l
 >ğ
Ën
;

85 
	}
}

110 
	$__kmp_m©ch_¡r
(cÚ¡ *
tok’
, cÚ¡ *
buf
,

111 cÚ¡ **
’d
) {

113 
	`KMP_ASSERT
(
tok’
 !ğ
NULL
);

114 
	`KMP_ASSERT
(
buf
 !ğ
NULL
);

115 
	`KMP_ASSERT
(
’d
 !ğ
NULL
);

117 *
tok’
 && *
buf
) {

118 
ù
 = *
tok’
, 
cb
 = *
buf
;

120 ià(
ù
 >= 'a' && ct <= 'z')

121 
ù
 -= 'a' - 'A';

122 ià(
cb
 >= 'a' && cb <= 'z')

123 
cb
 -= 'a' - 'A';

124 ià(
ù
 !ğ
cb
)

125  
FALSE
;

126 ++
tok’
;

127 ++
buf
;

129 ià(*
tok’
) {

130  
FALSE
;

132 *
’d
 = 
buf
;

133  
TRUE
;

134 
	}
}

136 #ià
KMP_OS_DARWIN


137 
size_t
 
	$__kmp_round4k
(
size_t
 
size
) {

138 
size_t
 
_4k
 = 4 * 1024;

139 ià(
size
 & (
_4k
 - 1)) {

140 
size
 &ğ~(
_4k
 - 1);

141 ià(
size
 <ğ
KMP_SIZE_T_MAX
 - 
_4k
) {

142 
size
 +ğ
_4k
;

145  
size
;

146 
	}
}

153 
	$__kmp_cÚv”t_to_mli£cÚds
(cÚ¡ *
d©a
) {

154 
»t
, 
nv®ues
, 
çùÜ
;

155 
muÉ
, 
exŒa
;

156 
v®ue
;

158 ià(
d©a
 =ğ
NULL
)

160 ià(
	`__kmp_¡r_m©ch
("šfš™", -1, 
d©a
))

161  (
INT_MAX
);

162 
v®ue
 = ()0.0;

163 
muÉ
 = '\0';

164 
nv®ues
 = 
	`KMP_SSCANF
(
d©a
, "%lf%c%c", &
v®ue
, &
muÉ
, &
exŒa
);

165 ià(
nv®ues
 < 1)

167 ià(
nv®ues
 == 1)

168 
muÉ
 = '\0';

169 ià(
nv®ues
 == 3)

172 ià(
v®ue
 < 0)

175 
muÉ
) {

178 
çùÜ
 = 1;

182 
çùÜ
 = 1000;

186 
çùÜ
 = 1000 * 60;

190 
çùÜ
 = 1000 * 60 * 60;

194 
çùÜ
 = 1000 * 24 * 60 * 60;

200 ià(
v®ue
 >ğ((
INT_MAX
 - 1è/ 
çùÜ
))

201 
»t
 = 
INT_MAX
 - 1;

203 
»t
 = ()(
v®ue
 * ()
çùÜ
);

205  
»t
;

206 
	}
}

208 
	$__kmp_¡rÿ£cmp_w™h_£Áš–
(cÚ¡ *
a
, cÚ¡ *
b
,

209 
£Áš–
) {

210 ià(
a
 =ğ
NULL
)

211 
a
 = "";

212 ià(
b
 =ğ
NULL
)

213 
b
 = "";

214 *
a
 && *
b
 && *b !ğ
£Áš–
) {

215 
ÿ
 = *
a
, 
cb
 = *
b
;

217 ià(
ÿ
 >= 'a' && ca <= 'z')

218 
ÿ
 -= 'a' - 'A';

219 ià(
cb
 >= 'a' && cb <= 'z')

220 
cb
 -= 'a' - 'A';

221 ià(
ÿ
 !ğ
cb
)

222  ()()*
a
 - ()()*
b
;

223 ++
a
;

224 ++
b
;

226  *
a


227 ? (*
b
 && *b !ğ
£Áš–
)

228 ? ()()*
a
 - ()()*
b


230 : (*
b
 && *b !ğ
£Áš–
) ? -1 : 0;

231 
	}
}

236 
__kmp_£‰šg
 
	tkmp_£‰šg_t
;

237 
__kmp_¡g_ss_d©a
 
	tkmp_¡g_ss_d©a_t
;

238 
__kmp_¡g_wp_d©a
 
	tkmp_¡g_wp_d©a_t
;

239 
__kmp_¡g_ä_d©a
 
	tkmp_¡g_ä_d©a_t
;

241 (*
	tkmp_¡g_·r£_func_t
)(cÚ¡ *
	tÇme
, cÚ¡ *
	tv®ue
,

242 *
	td©a
);

243 (*
	tkmp_¡g_´št_func_t
)(
	tkmp_¡r_buf_t
 *
	tbufãr
, cÚ¡ *
	tÇme
,

244 *
	td©a
);

246 
	s__kmp_£‰šg
 {

247 cÚ¡ *
Çme
;

248 
kmp_¡g_·r£_func_t
 
·r£
;

249 
kmp_¡g_´št_func_t
 
´št
;

250 *
d©a
;

251 
£t
;

253 
defšed
;

256 
	s__kmp_¡g_ss_d©a
 {

257 
size_t
 
çùÜ
;

258 
kmp_£‰šg_t
 **
riv®s
;

261 
	s__kmp_¡g_wp_d©a
 {

262 
omp
;

263 
kmp_£‰šg_t
 **
riv®s
;

266 
	s__kmp_¡g_ä_d©a
 {

267 
fÜû
;

268 
kmp_£‰šg_t
 **
riv®s
;

271 
	`__kmp_¡g_check_riv®s
(

272 cÚ¡ *
Çme
,

273 cÚ¡ *
v®ue
,

274 
kmp_£‰šg_t
 **
riv®s


280 
	$__kmp_¡g_·r£_boŞ
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

281 *
out
) {

282 ià(
	`__kmp_¡r_m©ch_Œue
(
v®ue
)) {

283 *
out
 = 
TRUE
;

284 } ià(
	`__kmp_¡r_m©ch_çl£
(
v®ue
)) {

285 *
out
 = 
FALSE
;

287 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
BadBoŞV®ue
, 
Çme
, 
v®ue
),

288 
	`KMP_HNT
(
V®idBoŞV®ues
), 
__kmp_msg_nuÎ
);

290 
	}
}

293 
	$__kmp_check_¡ksize
(
size_t
 *
v®
) {

295 ià(*
v®
 > 
KMP_DEFAULT_STKSIZE
 * 16)

296 *
v®
 = 
KMP_DEFAULT_STKSIZE
 * 16;

297 ià(*
v®
 < 
KMP_MIN_STKSIZE
)

298 *
v®
 = 
KMP_MIN_STKSIZE
;

299 ià(*
v®
 > 
KMP_MAX_STKSIZE
)

300 *
v®
 = 
KMP_MAX_STKSIZE
;

301 #ià
KMP_OS_DARWIN


302 *
v®
 = 
	`__kmp_round4k
(*val);

304 
	}
}

306 
	$__kmp_¡g_·r£_size
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

307 
size_t
 
size_mš
, size_ˆ
size_max
,

308 *
is_¥ecif›d
, 
size_t
 *
out
,

309 
size_t
 
çùÜ
) {

310 cÚ¡ *
msg
 = 
NULL
;

311 #ià
KMP_OS_DARWIN


312 
size_mš
 = 
	`__kmp_round4k
(size_min);

313 
size_max
 = 
	`__kmp_round4k
(size_max);

315 ià(
v®ue
) {

316 ià(
is_¥ecif›d
 !ğ
NULL
) {

317 *
is_¥ecif›d
 = 1;

319 
	`__kmp_¡r_to_size
(
v®ue
, 
out
, 
çùÜ
, &
msg
);

320 ià(
msg
 =ğ
NULL
) {

321 ià(*
out
 > 
size_max
) {

322 *
out
 = 
size_max
;

323 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

324 } ià(*
out
 < 
size_mš
) {

325 *
out
 = 
size_mš
;

326 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooSm®l
);

328 #ià
KMP_OS_DARWIN


329 
size_t
 
round4k
 = 
	`__kmp_round4k
(*
out
);

330 ià(*
out
 !ğ
round4k
) {

331 *
out
 = 
round4k
;

332 
msg
 = 
	`KMP_I18N_STR
(
NÙMuÉË4K
);

339 ià(*
out
 < 
size_mš
) {

340 *
out
 = 
size_max
;

341 } ià(*
out
 > 
size_max
) {

342 *
out
 = 
size_max
;

345 ià(
msg
 !ğ
NULL
) {

347 
kmp_¡r_buf_t
 
buf
;

348 
	`__kmp_¡r_buf_š™
(&
buf
);

349 
	`__kmp_¡r_buf_´št_size
(&
buf
, *
out
);

350 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

351 
	`KMP_INFORM
(
Usšg_¡r_V®ue
, 
Çme
, 
buf
.
¡r
);

352 
	`__kmp_¡r_buf_ä“
(&
buf
);

355 
	}
}

357 
	$__kmp_¡g_·r£_¡r
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

358 **
out
) {

359 
	`__kmp_¡r_ä“
(
out
);

360 *
out
 = 
	`__kmp_¡r_fÜm©
("%s", 
v®ue
);

361 
	}
}

363 
	$__kmp_¡g_·r£_št
(

365 *
Çme
,

366 cÚ¡ *
v®ue
,

367 
mš
,

368 
max
,

369 *
out


371 cÚ¡ *
msg
 = 
NULL
;

372 
kmp_ušt64
 
ušt
 = *
out
;

373 
	`__kmp_¡r_to_ušt
(
v®ue
, &
ušt
, &
msg
);

374 ià(
msg
 =ğ
NULL
) {

375 ià(
ušt
 < ()
mš
) {

376 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooSm®l
);

377 
ušt
 = 
mš
;

378 } ià(
ušt
 > ()
max
) {

379 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

380 
ušt
 = 
max
;

385 ià(
ušt
 < ()
mš
) {

386 
ušt
 = 
mš
;

387 } ià(
ušt
 > ()
max
) {

388 
ušt
 = 
max
;

391 ià(
msg
 !ğ
NULL
) {

393 
kmp_¡r_buf_t
 
buf
;

394 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

395 
	`__kmp_¡r_buf_š™
(&
buf
);

396 
	`__kmp_¡r_buf_´št
(&
buf
, "%" 
KMP_UINT64_SPEC
 "", 
ušt
);

397 
	`KMP_INFORM
(
Usšg_ušt64_V®ue
, 
Çme
, 
buf
.
¡r
);

398 
	`__kmp_¡r_buf_ä“
(&
buf
);

400 *
out
 = 
ušt
;

401 
	}
}

403 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


404 
	$__kmp_¡g_·r£_fe
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

405 cÚ¡ *
suffix
, **
out
) {

406 
bufãr
[256];

407 *
t
;

408 
hasSuffix
;

409 
	`__kmp_¡r_ä“
(
out
);

410 
t
 = (*)
	`¡¼chr
(
v®ue
, '.');

411 
hasSuffix
 = 
t
 && 
	`__kmp_¡r_eqf
Ñ, 
suffix
);

412 
t
 = 
	`__kmp_¡r_fÜm©
("%s%s", 
v®ue
, 
hasSuffix
 ? "" : 
suffix
);

413 
	`__kmp_ex·nd_fe_Çme
(
bufãr
, (bufãr), 
t
);

414 
	`__kmp_¡r_ä“
(&
t
);

415 *
out
 = 
	`__kmp_¡r_fÜm©
("%s", 
bufãr
);

416 
	}
}

419 #ifdeà
KMP_DEBUG


420 *
	g·r_¿nge_to_´št
 = 
NULL
;

422 
	$__kmp_¡g_·r£_·r_¿nge
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

423 *
out_¿nge
, *
out_routše
,

424 *
out_fe
, *
out_lb
,

425 *
out_ub
) {

426 
size_t
 
Ën
 = 
	`KMP_STRLEN
(
v®ue
) + 1;

427 
·r_¿nge_to_´št
 = (*)
	`KMP_INTERNAL_MALLOC
(
Ën
 + 1);

428 
	`KMP_STRNCPY_S
(
·r_¿nge_to_´št
, 
Ën
 + 1, 
v®ue
,†en + 1);

429 
__kmp_·r_¿nge
 = +1;

430 
__kmp_·r_¿nge_lb
 = 0;

431 
__kmp_·r_¿nge_ub
 = 
INT_MAX
;

433 
Ën
;

434 ià(*
v®ue
 == '\0') {

437 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("routše", 
v®ue
, '=')) {

438 
v®ue
 = 
	`¡rchr
(value, '=') + 1;

439 
Ën
 = 
	`__kmp_»ad¡r_w™h_£Áš–
(
out_routše
, 
v®ue
,

440 
KMP_PAR_RANGE_ROUTINE_LEN
 - 1, ',');

441 ià(
Ën
 == 0) {

442 
·r_¿nge_”rÜ
;

444 
v®ue
 = 
	`¡rchr
(value, ',');

445 ià(
v®ue
 !ğ
NULL
) {

446 
v®ue
++;

450 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("f’ame", 
v®ue
, '=')) {

451 
v®ue
 = 
	`¡rchr
(value, '=') + 1;

452 
Ën
 = 
	`__kmp_»ad¡r_w™h_£Áš–
(
out_fe
, 
v®ue
,

453 
KMP_PAR_RANGE_FILENAME_LEN
 - 1, ',');

454 ià(
Ën
 == 0) {

455 
·r_¿nge_”rÜ
;

457 
v®ue
 = 
	`¡rchr
(value, ',');

458 ià(
v®ue
 !ğ
NULL
) {

459 
v®ue
++;

463 ià((!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("¿nge", 
v®ue
, '=')) ||

464 (!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("šş_¿nge", 
v®ue
, '='))) {

465 
v®ue
 = 
	`¡rchr
(value, '=') + 1;

466 ià(
	`KMP_SSCANF
(
v®ue
, "%d:%d", 
out_lb
, 
out_ub
) != 2) {

467 
·r_¿nge_”rÜ
;

469 *
out_¿nge
 = +1;

470 
v®ue
 = 
	`¡rchr
(value, ',');

471 ià(
v®ue
 !ğ
NULL
) {

472 
v®ue
++;

476 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("exş_¿nge", 
v®ue
, '=')) {

477 
v®ue
 = 
	`¡rchr
(value, '=') + 1;

478 ià(
	`KMP_SSCANF
(
v®ue
, "%d:%d", 
out_lb
, 
out_ub
) != 2) {

479 
·r_¿nge_”rÜ
;

481 *
out_¿nge
 = -1;

482 
v®ue
 = 
	`¡rchr
(value, ',');

483 ià(
v®ue
 !ğ
NULL
) {

484 
v®ue
++;

488 
·r_¿nge_”rÜ
:

489 
	`KMP_WARNING
(
P¬RªgeSyÁax
, 
Çme
);

490 
__kmp_·r_¿nge
 = 0;

493 
	}
}

496 
	$__kmp_š™Ÿl_th»ads_ÿ·c™y
(
»q_Åroc
) {

497 
Áh
 = 32;

501 ià(
Áh
 < (4 * 
»q_Åroc
))

502 
Áh
 = (4 * 
»q_Åroc
);

503 ià(
Áh
 < (4 * 
__kmp_x´oc
))

504 
Áh
 = (4 * 
__kmp_x´oc
);

506 ià(
Áh
 > 
__kmp_max_Áh
)

507 
Áh
 = 
__kmp_max_Áh
;

509  
Áh
;

510 
	}
}

512 
	$__kmp_deçuÉ__ÿ·c™y
(
»q_Åroc
, 
max_Áh
,

513 
®l_th»ads_¥ecif›d
) {

514 
Áh
 = 128;

516 ià(
®l_th»ads_¥ecif›d
)

517  
max_Áh
;

520 ià(
Áh
 < (4 * 
»q_Åroc
))

521 
Áh
 = (4 * 
»q_Åroc
);

522 ià(
Áh
 < (4 * 
__kmp_x´oc
))

523 
Áh
 = (4 * 
__kmp_x´oc
);

525 ià(
Áh
 > 
__kmp_max_Áh
)

526 
Áh
 = 
__kmp_max_Áh
;

528  
Áh
;

529 
	}
}

534 
	$__kmp_¡g_´št_boŞ
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

535 
v®ue
) {

536 ià(
__kmp_’v_fÜm©
) {

537 
KMP_STR_BUF_PRINT_BOOL
;

539 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%s\n", 
Çme
, 
v®ue
 ? "true" : "false");

541 
	}
}

543 
	$__kmp_¡g_´št_št
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

544 
v®ue
) {

545 ià(
__kmp_’v_fÜm©
) {

546 
KMP_STR_BUF_PRINT_INT
;

548 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%d\n", 
Çme
, 
v®ue
);

550 
	}
}

552 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


553 
	$__kmp_¡g_´št_ušt64
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

554 
kmp_ušt64
 
v®ue
) {

555 ià(
__kmp_’v_fÜm©
) {

556 
KMP_STR_BUF_PRINT_UINT64
;

558 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%" 
KMP_UINT64_SPEC
 "\n", 
Çme
, 
v®ue
);

560 
	}
}

563 
	$__kmp_¡g_´št_¡r
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

564 cÚ¡ *
v®ue
) {

565 ià(
__kmp_’v_fÜm©
) {

566 
KMP_STR_BUF_PRINT_STR
;

568 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%s\n", 
Çme
, 
v®ue
);

570 
	}
}

572 
	$__kmp_¡g_´št_size
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

573 
size_t
 
v®ue
) {

574 ià(
__kmp_’v_fÜm©
) {

575 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

576 
	`__kmp_¡r_buf_´št_size
(
bufãr
, 
v®ue
);

577 
	`__kmp_¡r_buf_´št
(
bufãr
, "'\n");

579 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=", 
Çme
);

580 
	`__kmp_¡r_buf_´št_size
(
bufãr
, 
v®ue
);

581 
	`__kmp_¡r_buf_´št
(
bufãr
, "\n");

584 
	}
}

592 
	$__kmp_¡g_·r£_deviû_th»ad_lim™
(cÚ¡ *
Çme
,

593 cÚ¡ *
v®ue
, *
d©a
) {

594 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

595 
rc
;

596 ià(
	`¡rcmp
(
Çme
, "KMP_ALL_THREADS") == 0) {

597 
	`KMP_INFORM
(
EnvV¬D•»ÿ‹d
, 
Çme
, "KMP_DEVICE_THREAD_LIMIT");

599 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
);

600 ià(
rc
) {

603 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("®l", 
v®ue
, 0)) {

604 
__kmp_max_Áh
 = 
__kmp_x´oc
;

605 
__kmp_®lTh»adsS³cif›d
 = 1;

607 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 1, 
__kmp_sys_max_Áh
, &
__kmp_max_Áh
);

608 
__kmp_®lTh»adsS³cif›d
 = 0;

610 
	`K_DIAG
(1, ("__kmp_max_Áh =ğ%d\n", 
__kmp_max_Áh
));

612 
	}
}

614 
	$__kmp_¡g_´št_deviû_th»ad_lim™
(
kmp_¡r_buf_t
 *
bufãr
,

615 cÚ¡ *
Çme
, *
d©a
) {

616 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_max_Áh
);

617 
	}
}

621 
	$__kmp_¡g_·r£_th»ad_lim™
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

622 *
d©a
) {

623 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 1, 
__kmp_sys_max_Áh
, &
__kmp_cg_max_Áh
);

624 
	`K_DIAG
(1, ("__kmp_cg_max_Áh =ğ%d\n", 
__kmp_cg_max_Áh
));

626 
	}
}

628 
	$__kmp_¡g_´št_th»ad_lim™
(
kmp_¡r_buf_t
 *
bufãr
,

629 cÚ¡ *
Çme
, *
d©a
) {

630 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_cg_max_Áh
);

631 
	}
}

635 
	$__kmp_¡g_·r£_‹ams_th»ad_lim™
(cÚ¡ *
Çme
,

636 cÚ¡ *
v®ue
, *
d©a
) {

637 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 1, 
__kmp_sys_max_Áh
, &
__kmp_‹ams_max_Áh
);

638 
	}
}

640 
	$__kmp_¡g_´št_‹ams_th»ad_lim™
(
kmp_¡r_buf_t
 *
bufãr
,

641 cÚ¡ *
Çme
, *
d©a
) {

642 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_‹ams_max_Áh
);

643 
	}
}

647 
	$__kmp_¡g_·r£_u£_y›ld
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

648 *
d©a
) {

649 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 2, &
__kmp_u£_y›ld
);

650 
__kmp_u£_y›ld_exp_£t
 = 1;

651 
	}
}

653 
	$__kmp_¡g_´št_u£_y›ld
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

654 *
d©a
) {

655 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_u£_y›ld
);

656 
	}
}

661 
	$__kmp_¡g_·r£_blocktime
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

662 *
d©a
) {

663 
__kmp_dæt_blocktime
 = 
	`__kmp_cÚv”t_to_mli£cÚds
(
v®ue
);

664 ià(
__kmp_dæt_blocktime
 < 0) {

665 
__kmp_dæt_blocktime
 = 
KMP_DEFAULT_BLOCKTIME
;

666 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
Inv®idV®ue
, 
Çme
, 
v®ue
),

667 
__kmp_msg_nuÎ
);

668 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
Çme
, 
__kmp_dæt_blocktime
);

669 
__kmp_’v_blocktime
 = 
FALSE
;

671 ià(
__kmp_dæt_blocktime
 < 
KMP_MIN_BLOCKTIME
) {

672 
__kmp_dæt_blocktime
 = 
KMP_MIN_BLOCKTIME
;

673 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
Sm®lV®ue
, 
Çme
, 
v®ue
),

674 
__kmp_msg_nuÎ
);

675 
	`KMP_INFORM
(
MšV®ueUsšg
, 
Çme
, 
__kmp_dæt_blocktime
);

676 } ià(
__kmp_dæt_blocktime
 > 
KMP_MAX_BLOCKTIME
) {

677 
__kmp_dæt_blocktime
 = 
KMP_MAX_BLOCKTIME
;

678 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
L¬geV®ue
, 
Çme
, 
v®ue
),

679 
__kmp_msg_nuÎ
);

680 
	`KMP_INFORM
(
MaxV®ueUsšg
, 
Çme
, 
__kmp_dæt_blocktime
);

682 
__kmp_’v_blocktime
 = 
TRUE
;

684 #ià
KMP_USE_MONITOR


687 
__kmp_mÚ™Ü_wakeups
 =

688 
	`KMP_WAKEUPS_FROM_BLOCKTIME
(
__kmp_dæt_blocktime
, 
__kmp_mÚ™Ü_wakeups
);

689 
__kmp_bt_š‹rv®s
 =

690 
	`KMP_INTERVALS_FROM_BLOCKTIME
(
__kmp_dæt_blocktime
, 
__kmp_mÚ™Ü_wakeups
);

692 
	`K_DIAG
(1, ("__kmp_’v_blocktim=ğ%d\n", 
__kmp_’v_blocktime
));

693 ià(
__kmp_’v_blocktime
) {

694 
	`K_DIAG
(1, ("__kmp_dæt_blocktim=ğ%d\n", 
__kmp_dæt_blocktime
));

696 
	}
}

698 
	$__kmp_¡g_´št_blocktime
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

699 *
d©a
) {

700 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_dæt_blocktime
);

701 
	}
}

706 
	$__kmp_¡g_·r£_du¶iÿ‹_lib_ok
(cÚ¡ *
Çme
,

707 cÚ¡ *
v®ue
, *
d©a
) {

710 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_du¶iÿ‹_lib¿ry_ok
);

711 
	}
}

713 
	$__kmp_¡g_´št_du¶iÿ‹_lib_ok
(
kmp_¡r_buf_t
 *
bufãr
,

714 cÚ¡ *
Çme
, *
d©a
) {

715 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_du¶iÿ‹_lib¿ry_ok
);

716 
	}
}

721 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


723 
	$__kmp_¡g_·r£_šh”™_å_cÚŒŞ
(cÚ¡ *
Çme
,

724 cÚ¡ *
v®ue
, *
d©a
) {

725 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_šh”™_å_cÚŒŞ
);

726 
	}
}

728 
	$__kmp_¡g_´št_šh”™_å_cÚŒŞ
(
kmp_¡r_buf_t
 *
bufãr
,

729 cÚ¡ *
Çme
, *
d©a
) {

730 #ià
KMP_DEBUG


731 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_šh”™_å_cÚŒŞ
);

733 
	}
}

738 cÚ¡ *
	gblocktime_¡r
 = 
NULL
;

743 
	$__kmp_¡g_·r£_wa™_pŞicy
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

744 *
d©a
) {

746 
kmp_¡g_wp_d©a_t
 *
wa™
 = (kmp_¡g_wp_d©a_ˆ*)
d©a
;

747 
rc
;

749 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
wa™
->
riv®s
);

750 ià(
rc
) {

754 ià(
wa™
->
omp
) {

755 ià(
	`__kmp_¡r_m©ch
("ACTIVE", 1, 
v®ue
)) {

756 
__kmp_lib¿ry
 = 
lib¿ry_tuº¬ound
;

757 ià(
blocktime_¡r
 =ğ
NULL
) {

759 
__kmp_dæt_blocktime
 = 
KMP_MAX_BLOCKTIME
;

761 } ià(
	`__kmp_¡r_m©ch
("PASSIVE", 1, 
v®ue
)) {

762 
__kmp_lib¿ry
 = 
lib¿ry_throughput
;

763 ià(
blocktime_¡r
 =ğ
NULL
) {

765 
__kmp_dæt_blocktime
 = 0;

768 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

771 ià(
	`__kmp_¡r_m©ch
("£rŸl", 1, 
v®ue
)) {

772 
__kmp_lib¿ry
 = 
lib¿ry_£rŸl
;

773 } ià(
	`__kmp_¡r_m©ch
("throughput", 2, 
v®ue
)) {

774 
__kmp_lib¿ry
 = 
lib¿ry_throughput
;

775 ià(
blocktime_¡r
 =ğ
NULL
) {

777 
__kmp_dæt_blocktime
 = 0;

779 } ià(
	`__kmp_¡r_m©ch
("tuº¬ound", 2, 
v®ue
)) {

780 
__kmp_lib¿ry
 = 
lib¿ry_tuº¬ound
;

781 } ià(
	`__kmp_¡r_m©ch
("dediÿ‹d", 1, 
v®ue
)) {

782 
__kmp_lib¿ry
 = 
lib¿ry_tuº¬ound
;

783 } ià(
	`__kmp_¡r_m©ch
("muÉiu£r", 1, 
v®ue
)) {

784 
__kmp_lib¿ry
 = 
lib¿ry_throughput
;

785 ià(
blocktime_¡r
 =ğ
NULL
) {

787 
__kmp_dæt_blocktime
 = 0;

790 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

793 
	}
}

795 
	$__kmp_¡g_´št_wa™_pŞicy
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

796 *
d©a
) {

798 
kmp_¡g_wp_d©a_t
 *
wa™
 = (kmp_¡g_wp_d©a_ˆ*)
d©a
;

799 cÚ¡ *
v®ue
 = 
NULL
;

801 ià(
wa™
->
omp
) {

802 
__kmp_lib¿ry
) {

803 
lib¿ry_tuº¬ound
: {

804 
v®ue
 = "ACTIVE";

806 
lib¿ry_throughput
: {

807 
v®ue
 = "PASSIVE";

811 
__kmp_lib¿ry
) {

812 
lib¿ry_£rŸl
: {

813 
v®ue
 = "serial";

815 
lib¿ry_tuº¬ound
: {

816 
v®ue
 = "turnaround";

818 
lib¿ry_throughput
: {

819 
v®ue
 = "throughput";

823 ià(
v®ue
 !ğ
NULL
) {

824 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
v®ue
);

827 
	}
}

829 #ià
KMP_USE_MONITOR


833 
	$__kmp_¡g_·r£_mÚ™Ü_¡acksize
(cÚ¡ *
Çme
,

834 cÚ¡ *
v®ue
, *
d©a
) {

835 
	`__kmp_¡g_·r£_size
(
Çme
, 
v®ue
, 
__kmp_sys_mš_¡ksize
, 
KMP_MAX_STKSIZE
,

836 
NULL
, &
__kmp_mÚ™Ü_¡ksize
, 1);

837 
	}
}

839 
	$__kmp_¡g_´št_mÚ™Ü_¡acksize
(
kmp_¡r_buf_t
 *
bufãr
,

840 cÚ¡ *
Çme
, *
d©a
) {

841 ià(
__kmp_’v_fÜm©
) {

842 ià(
__kmp_mÚ™Ü_¡ksize
 > 0)

843 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

845 
KMP_STR_BUF_PRINT_NAME
;

847 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

849 ià(
__kmp_mÚ™Ü_¡ksize
 > 0) {

850 
	`__kmp_¡r_buf_´št_size
(
bufãr
, 
__kmp_mÚ™Ü_¡ksize
);

852 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

854 ià(
__kmp_’v_fÜm©
 && 
__kmp_mÚ™Ü_¡ksize
) {

855 
	`__kmp_¡r_buf_´št
(
bufãr
, "'\n");

857 
	}
}

863 
	$__kmp_¡g_·r£_£‰šgs
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

864 *
d©a
) {

865 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_£‰šgs
);

866 
	}
}

868 
	$__kmp_¡g_´št_£‰šgs
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

869 *
d©a
) {

870 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_£‰šgs
);

871 
	}
}

876 
	$__kmp_¡g_·r£_¡ack·d
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

877 *
d©a
) {

878 
	`__kmp_¡g_·r£_št
(
Çme
,

879 
v®ue
,

880 
KMP_MIN_STKPADDING
,

881 
KMP_MAX_STKPADDING
,

882 &
__kmp_¡k·ddšg


884 
	}
}

886 
	$__kmp_¡g_´št_¡ack·d
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

887 *
d©a
) {

888 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_¡k·ddšg
);

889 
	}
}

894 
	$__kmp_¡g_·r£_¡ackoff£t
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

895 *
d©a
) {

896 
	`__kmp_¡g_·r£_size
(
Çme
,

897 
v®ue
,

898 
KMP_MIN_STKOFFSET
,

899 
KMP_MAX_STKOFFSET
,

900 
NULL
,

901 &
__kmp_¡koff£t
,

903 
	}
}

905 
	$__kmp_¡g_´št_¡ackoff£t
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

906 *
d©a
) {

907 
	`__kmp_¡g_´št_size
(
bufãr
, 
Çme
, 
__kmp_¡koff£t
);

908 
	}
}

913 
	$__kmp_¡g_·r£_¡acksize
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

914 *
d©a
) {

916 
kmp_¡g_ss_d©a_t
 *
¡acksize
 = (kmp_¡g_ss_d©a_ˆ*)
d©a
;

917 
rc
;

919 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
¡acksize
->
riv®s
);

920 ià(
rc
) {

923 
	`__kmp_¡g_·r£_size
(
Çme
,

924 
v®ue
,

925 
__kmp_sys_mš_¡ksize
,

926 
KMP_MAX_STKSIZE
,

927 &
__kmp_’v_¡ksize
,

928 &
__kmp_¡ksize
,

929 
¡acksize
->
çùÜ
);

931 
	}
}

937 
	$__kmp_¡g_´št_¡acksize
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

938 *
d©a
) {

939 
kmp_¡g_ss_d©a_t
 *
¡acksize
 = (kmp_¡g_ss_d©a_ˆ*)
d©a
;

940 ià(
__kmp_’v_fÜm©
) {

941 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

942 
	`__kmp_¡r_buf_´št_size
(
bufãr
, (
__kmp_¡ksize
 % 1024)

943 ? 
__kmp_¡ksize
 / 
¡acksize
->
çùÜ


944 : 
__kmp_¡ksize
);

945 
	`__kmp_¡r_buf_´št
(
bufãr
, "'\n");

947 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=", 
Çme
);

948 
	`__kmp_¡r_buf_´št_size
(
bufãr
, (
__kmp_¡ksize
 % 1024)

949 ? 
__kmp_¡ksize
 / 
¡acksize
->
çùÜ


950 : 
__kmp_¡ksize
);

951 
	`__kmp_¡r_buf_´št
(
bufãr
, "\n");

953 
	}
}

958 
	$__kmp_¡g_·r£_v”siÚ
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

959 *
d©a
) {

960 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_v”siÚ
);

961 
	}
}

963 
	$__kmp_¡g_´št_v”siÚ
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

964 *
d©a
) {

965 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_v”siÚ
);

966 
	}
}

971 
	$__kmp_¡g_·r£_w¬nšgs
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

972 *
d©a
) {

973 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_g’”©e_w¬nšgs
);

974 ià(
__kmp_g’”©e_w¬nšgs
 !ğ
kmp_w¬nšgs_off
) {

977 
__kmp_g’”©e_w¬nšgs
 = 
kmp_w¬nšgs_ex¶ic™
;

979 
	}
}

981 
	$__kmp_¡g_´št_w¬nšgs
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

982 *
d©a
) {

984 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_g’”©e_w¬nšgs
);

985 
	}
}

990 
	$__kmp_¡g_·r£_Ã¡ed
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

991 *
d©a
) {

992 
Ã¡ed
;

993 
	`KMP_INFORM
(
EnvV¬D•»ÿ‹d
, 
Çme
, "OMP_MAX_ACTIVE_LEVELS");

994 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
Ã¡ed
);

995 ià(
Ã¡ed
) {

996 ià(!
__kmp_dæt_max_aùive_Ëv–s_£t
)

997 
__kmp_dæt_max_aùive_Ëv–s
 = 
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

999 
__kmp_dæt_max_aùive_Ëv–s
 = 1;

1000 
__kmp_dæt_max_aùive_Ëv–s_£t
 = 
Œue
;

1002 
	}
}

1004 
	$__kmp_¡g_´št_Ã¡ed
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1005 *
d©a
) {

1006 ià(
__kmp_’v_fÜm©
) {

1007 
KMP_STR_BUF_PRINT_NAME
;

1009 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

1011 
	`__kmp_¡r_buf_´št
(
bufãr
, ": deprecated; max-active-levels-var=%d\n",

1012 
__kmp_dæt_max_aùive_Ëv–s
);

1013 
	}
}

1015 
	$__kmp_·r£_Ã¡ed_num_th»ads
(cÚ¡ *
v¬
, cÚ¡ *
’v
,

1016 
kmp_Ã¡ed_Áh»ads_t
 *
Áh_¬¿y
) {

1017 cÚ¡ *
Ãxt
 = 
’v
;

1018 cÚ¡ *
sÿn
 = 
Ãxt
;

1020 
tÙ®
 = 0;

1021 
´ev_comma
 = 
FALSE
;

1025 
	`SKIP_WS
(
Ãxt
);

1027 ià(*
Ãxt
 == '\0') {

1031 ià(((*
Ãxt
 < '0') || (*next > '9')) && (*next != ',')) {

1032 
	`KMP_WARNING
(
NthSyÁaxE¼Ü
, 
v¬
, 
’v
);

1036 ià(*
Ãxt
 == ',') {

1038 ià(
tÙ®
 =ğ0 || 
´ev_comma
) {

1039 
tÙ®
++;

1041 
´ev_comma
 = 
TRUE
;

1042 
Ãxt
++;

1043 
	`SKIP_WS
(
Ãxt
);

1046 ià(*
Ãxt
 >= '0' && *next <= '9') {

1047 
´ev_comma
 = 
FALSE
;

1048 
	`SKIP_DIGITS
(
Ãxt
);

1049 
tÙ®
++;

1050 cÚ¡ *
tmp
 = 
Ãxt
;

1051 
	`SKIP_WS
(
tmp
);

1052 ià((*
Ãxt
 =ğ' ' || *Ãxˆ=ğ'\t'è&& (*
tmp
 >= '0' && *tmp <= '9')) {

1053 
	`KMP_WARNING
(
NthS·ûsNÙAÎowed
, 
v¬
, 
’v
);

1058 ià(!
__kmp_dæt_max_aùive_Ëv–s_£t
 && 
tÙ®
 > 1)

1059 
__kmp_dæt_max_aùive_Ëv–s
 = 
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

1060 
	`KMP_DEBUG_ASSERT
(
tÙ®
 > 0);

1061 ià(
tÙ®
 <= 0) {

1062 
	`KMP_WARNING
(
NthSyÁaxE¼Ü
, 
v¬
, 
’v
);

1067 ià(!
Áh_¬¿y
->
Áh
) {

1069 
Áh_¬¿y
->
Áh
 = (*)
	`KMP_INTERNAL_MALLOC
((è* 
tÙ®
 * 2);

1070 ià(
Áh_¬¿y
->
Áh
 =ğ
NULL
) {

1071 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

1073 
Áh_¬¿y
->
size
 = 
tÙ®
 * 2;

1075 ià(
Áh_¬¿y
->
size
 < 
tÙ®
) {

1078 
Áh_¬¿y
->
size
 *= 2;

1079 } 
Áh_¬¿y
->
size
 < 
tÙ®
);

1081 
Áh_¬¿y
->
Áh
 = (*)
	`KMP_INTERNAL_REALLOC
(

1082 
Áh_¬¿y
->
Áh
, (è*‚th_¬¿y->
size
);

1083 ià(
Áh_¬¿y
->
Áh
 =ğ
NULL
) {

1084 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

1088 
Áh_¬¿y
->
u£d
 = 
tÙ®
;

1089 
i
 = 0;

1091 
´ev_comma
 = 
FALSE
;

1092 
tÙ®
 = 0;

1095 
	`SKIP_WS
(
sÿn
);

1096 ià(*
sÿn
 == '\0') {

1100 ià(*
sÿn
 == ',') {

1102 ià(
tÙ®
 == 0) {

1106 
Áh_¬¿y
->
Áh
[
i
++] = 0;

1107 
tÙ®
++;

1108 } ià(
´ev_comma
) {

1110 
Áh_¬¿y
->
Áh
[
i
] =‚th_array->nth[i - 1];

1111 
i
++;

1112 
tÙ®
++;

1114 
´ev_comma
 = 
TRUE
;

1115 
sÿn
++;

1116 
	`SKIP_WS
(
sÿn
);

1119 ià(*
sÿn
 >= '0' && *scan <= '9') {

1120 
num
;

1121 cÚ¡ *
buf
 = 
sÿn
;

1122 cÚ¡ *
msg
 = 
NULL
;

1123 
´ev_comma
 = 
FALSE
;

1124 
	`SKIP_DIGITS
(
sÿn
);

1125 
tÙ®
++;

1127 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
sÿn
);

1128 ià(
num
 < 
KMP_MIN_NTH
) {

1129 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooSm®l
);

1130 
num
 = 
KMP_MIN_NTH
;

1131 } ià(
num
 > 
__kmp_sys_max_Áh
) {

1132 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

1133 
num
 = 
__kmp_sys_max_Áh
;

1135 ià(
msg
 !ğ
NULL
) {

1137 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
v¬
, 
’v
, 
msg
);

1138 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
v¬
, 
num
);

1140 
Áh_¬¿y
->
Áh
[
i
++] = 
num
;

1143 
	}
}

1145 
	$__kmp_¡g_·r£_num_th»ads
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1146 *
d©a
) {

1148 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("®l", 
v®ue
, 0)) {

1150 
__kmp_Ã¡ed_Áh
.
Áh
 = (*)
	`KMP_INTERNAL_MALLOC
(());

1151 
__kmp_Ã¡ed_Áh
.
size
 = __kmp_Ã¡ed_Áh.
u£d
 = 1;

1152 
__kmp_Ã¡ed_Áh
.
Áh
[0] = 
__kmp_dæt_‹am_Áh
 = 
__kmp_dæt_‹am_Áh_ub
 =

1153 
__kmp_x´oc
;

1155 
	`__kmp_·r£_Ã¡ed_num_th»ads
(
Çme
, 
v®ue
, &
__kmp_Ã¡ed_Áh
);

1156 ià(
__kmp_Ã¡ed_Áh
.
Áh
) {

1157 
__kmp_dæt_‹am_Áh
 = 
__kmp_Ã¡ed_Áh
.
Áh
[0];

1158 ià(
__kmp_dæt_‹am_Áh_ub
 < 
__kmp_dæt_‹am_Áh
) {

1159 
__kmp_dæt_‹am_Áh_ub
 = 
__kmp_dæt_‹am_Áh
;

1163 
	`K_DIAG
(1, ("__kmp_dæt_‹am_Áh =ğ%d\n", 
__kmp_dæt_‹am_Áh
));

1164 
	}
}

1166 
	$__kmp_¡g_´št_num_th»ads
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1167 *
d©a
) {

1168 ià(
__kmp_’v_fÜm©
) {

1169 
KMP_STR_BUF_PRINT_NAME
;

1171 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

1173 ià(
__kmp_Ã¡ed_Áh
.
u£d
) {

1174 
kmp_¡r_buf_t
 
buf
;

1175 
	`__kmp_¡r_buf_š™
(&
buf
);

1176 
i
 = 0; i < 
__kmp_Ã¡ed_Áh
.
u£d
; i++) {

1177 
	`__kmp_¡r_buf_´št
(&
buf
, "%d", 
__kmp_Ã¡ed_Áh
.
Áh
[
i
]);

1178 ià(
i
 < 
__kmp_Ã¡ed_Áh
.
u£d
 - 1) {

1179 
	`__kmp_¡r_buf_´št
(&
buf
, ",");

1182 
	`__kmp_¡r_buf_´št
(
bufãr
, "='%s'\n", 
buf
.
¡r
);

1183 
	`__kmp_¡r_buf_ä“
(&
buf
);

1185 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

1187 
	}
}

1192 
	$__kmp_¡g_·r£_skšg
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1193 *
d©a
) {

1194 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, ()
tskm_max
,

1195 (*)&
__kmp_skšg_mode
);

1196 
	}
}

1198 
	$__kmp_¡g_´št_skšg
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1199 *
d©a
) {

1200 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_skšg_mode
);

1201 
	}
}

1203 
	$__kmp_¡g_·r£_sk_¡—lšg
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1204 *
d©a
) {

1205 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 1,

1206 (*)&
__kmp_sk_¡—lšg_cÚ¡¿št
);

1207 
	}
}

1209 
	$__kmp_¡g_´št_sk_¡—lšg
(
kmp_¡r_buf_t
 *
bufãr
,

1210 cÚ¡ *
Çme
, *
d©a
) {

1211 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_sk_¡—lšg_cÚ¡¿št
);

1212 
	}
}

1214 
	$__kmp_¡g_·r£_max_aùive_Ëv–s
(cÚ¡ *
Çme
,

1215 cÚ¡ *
v®ue
, *
d©a
) {

1216 
kmp_ušt64
 
tmp_dæt
 = 0;

1217 cÚ¡ *
msg
 = 
NULL
;

1218 ià(!
__kmp_dæt_max_aùive_Ëv–s_£t
) {

1220 
	`__kmp_¡r_to_ušt
(
v®ue
, &
tmp_dæt
, &
msg
);

1221 ià(
msg
 !ğ
NULL
) {

1222 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

1223 } ià(
tmp_dæt
 > 
KMP_MAX_ACTIVE_LEVELS_LIMIT
) {

1225 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

1226 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

1228 
__kmp_dæt_max_aùive_Ëv–s
 = 
tmp_dæt
;

1229 
__kmp_dæt_max_aùive_Ëv–s_£t
 = 
Œue
;

1232 
	}
}

1234 
	$__kmp_¡g_´št_max_aùive_Ëv–s
(
kmp_¡r_buf_t
 *
bufãr
,

1235 cÚ¡ *
Çme
, *
d©a
) {

1236 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_dæt_max_aùive_Ëv–s
);

1237 
	}
}

1241 
	$__kmp_¡g_·r£_deçuÉ_deviû
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1242 *
d©a
) {

1243 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
KMP_MAX_DEFAULT_DEVICE_LIMIT
,

1244 &
__kmp_deçuÉ_deviû
);

1245 
	}
}

1247 
	$__kmp_¡g_´št_deçuÉ_deviû
(
kmp_¡r_buf_t
 *
bufãr
,

1248 cÚ¡ *
Çme
, *
d©a
) {

1249 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_deçuÉ_deviû
);

1250 
	}
}

1254 
	$__kmp_¡g_·r£_rg‘_ofæßd
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1255 *
d©a
) {

1256 cÚ¡ *
Ãxt
 = 
v®ue
;

1257 cÚ¡ *
sÿn
 = 
Ãxt
;

1259 
__kmp_rg‘_ofæßd
 = 
tgt_deçuÉ
;

1260 
	`SKIP_WS
(
Ãxt
);

1261 ià(*
Ãxt
 == '\0')

1263 
sÿn
 = 
Ãxt
;

1264 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("mªd©Üy", 
sÿn
, 0)) {

1265 
__kmp_rg‘_ofæßd
 = 
tgt_mªd©Üy
;

1266 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("di§bËd", 
sÿn
, 0)) {

1267 
__kmp_rg‘_ofæßd
 = 
tgt_di§bËd
;

1268 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("deçuÉ", 
sÿn
, 0)) {

1269 
__kmp_rg‘_ofæßd
 = 
tgt_deçuÉ
;

1271 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
Çme
, "DEFAULT");

1274 
	}
}

1276 
	$__kmp_¡g_´št_rg‘_ofæßd
(
kmp_¡r_buf_t
 *
bufãr
,

1277 cÚ¡ *
Çme
, *
d©a
) {

1278 cÚ¡ *
v®ue
 = 
NULL
;

1279 ià(
__kmp_rg‘_ofæßd
 =ğ
tgt_deçuÉ
)

1280 
v®ue
 = "DEFAULT";

1281 ià(
__kmp_rg‘_ofæßd
 =ğ
tgt_mªd©Üy
)

1282 
v®ue
 = "MANDATORY";

1283 ià(
__kmp_rg‘_ofæßd
 =ğ
tgt_di§bËd
)

1284 
v®ue
 = "DISABLED";

1285 
	`KMP_DEBUG_ASSERT
(
v®ue
);

1286 ià(
__kmp_’v_fÜm©
) {

1287 
KMP_STR_BUF_PRINT_NAME
;

1289 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

1291 
	`__kmp_¡r_buf_´št
(
bufãr
, "=%s\n", 
v®ue
);

1292 
	}
}

1296 
	$__kmp_¡g_·r£_max_sk_´iÜ™y
(cÚ¡ *
Çme
,

1297 cÚ¡ *
v®ue
, *
d©a
) {

1298 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
KMP_MAX_TASK_PRIORITY_LIMIT
,

1299 &
__kmp_max_sk_´iÜ™y
);

1300 
	}
}

1302 
	$__kmp_¡g_´št_max_sk_´iÜ™y
(
kmp_¡r_buf_t
 *
bufãr
,

1303 cÚ¡ *
Çme
, *
d©a
) {

1304 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_max_sk_´iÜ™y
);

1305 
	}
}

1309 
	$__kmp_¡g_·r£_skloİ_mš_sks
(cÚ¡ *
Çme
,

1310 cÚ¡ *
v®ue
, *
d©a
) {

1311 
tmp
;

1312 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
, &
tmp
);

1313 
__kmp_skloİ_mš_sks
 = 
tmp
;

1314 
	}
}

1316 
	$__kmp_¡g_´št_skloİ_mš_sks
(
kmp_¡r_buf_t
 *
bufãr
,

1317 cÚ¡ *
Çme
, *
d©a
) {

1318 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_skloİ_mš_sks
);

1319 
	}
}

1323 
	$__kmp_¡g_·r£_di¥_bufãrs
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1324 *
d©a
) {

1325 ià(
	`TCR_4
(
__kmp_š™_£rŸl
)) {

1326 
	`KMP_WARNING
(
EnvS”ŸlW¬n
, 
Çme
);

1329 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 1, 
KMP_MAX_NTH
, &
__kmp_di¥©ch_num_bufãrs
);

1330 
	}
}

1332 
	$__kmp_¡g_´št_di¥_bufãrs
(
kmp_¡r_buf_t
 *
bufãr
,

1333 cÚ¡ *
Çme
, *
d©a
) {

1334 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_di¥©ch_num_bufãrs
);

1335 
	}
}

1337 #ià
KMP_NESTED_HOT_TEAMS


1341 
	$__kmp_¡g_·r£_hÙ_‹ams_Ëv–
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1342 *
d©a
) {

1343 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

1344 
	`KMP_WARNING
(
EnvP¬®ËlW¬n
, 
Çme
);

1347 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
KMP_MAX_ACTIVE_LEVELS_LIMIT
,

1348 &
__kmp_hÙ_‹ams_max_Ëv–
);

1349 
	}
}

1351 
	$__kmp_¡g_´št_hÙ_‹ams_Ëv–
(
kmp_¡r_buf_t
 *
bufãr
,

1352 cÚ¡ *
Çme
, *
d©a
) {

1353 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_hÙ_‹ams_max_Ëv–
);

1354 
	}
}

1356 
	$__kmp_¡g_·r£_hÙ_‹ams_mode
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1357 *
d©a
) {

1358 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

1359 
	`KMP_WARNING
(
EnvP¬®ËlW¬n
, 
Çme
);

1362 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
KMP_MAX_ACTIVE_LEVELS_LIMIT
,

1363 &
__kmp_hÙ_‹ams_mode
);

1364 
	}
}

1366 
	$__kmp_¡g_´št_hÙ_‹ams_mode
(
kmp_¡r_buf_t
 *
bufãr
,

1367 cÚ¡ *
Çme
, *
d©a
) {

1368 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_hÙ_‹ams_mode
);

1369 
	}
}

1376 #ià
KMP_HANDLE_SIGNALS


1378 
	$__kmp_¡g_·r£_hªdË_sigÇls
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1379 *
d©a
) {

1380 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_hªdË_sigÇls
);

1381 
	}
}

1383 
	$__kmp_¡g_´št_hªdË_sigÇls
(
kmp_¡r_buf_t
 *
bufãr
,

1384 cÚ¡ *
Çme
, *
d©a
) {

1385 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_hªdË_sigÇls
);

1386 
	}
}

1393 #ifdeà
KMP_DEBUG


1395 
	#KMP_STG_X_DEBUG
(
x
) \

1396 
__kmp_¡g_·r£_
##
x
##
	`_debug
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
, \

1397 *
d©a
) { \

1398 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
, &
kmp_
##
x
##
_debug
); \

1400 
__kmp_¡g_´št_
##
x
##
	`_debug
(
kmp_¡r_buf_t
 *
bufãr
, \

1401 cÚ¡ *
Çme
, *
d©a
) { \

1402 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
kmp_
##
x
##
_debug
); \

1403 }

	)

1405 
	$KMP_STG_X_DEBUG
(
a
)

1406 
	$KMP_STG_X_DEBUG
(
b
)

1407 
	$KMP_STG_X_DEBUG
(
c
)

1408 
	$KMP_STG_X_DEBUG
(
d
)

1409 
	$KMP_STG_X_DEBUG
(
e
)

1410 
	$KMP_STG_X_DEBUG
(
f
)

1412 #undeà
KMP_STG_X_DEBUG


1414 
	$__kmp_¡g_·r£_debug
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1415 *
d©a
) {

1416 
debug
 = 0;

1417 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
, &
debug
);

1418 ià(
kmp_a_debug
 < 
debug
) {

1419 
kmp_a_debug
 = 
debug
;

1421 ià(
kmp_b_debug
 < 
debug
) {

1422 
kmp_b_debug
 = 
debug
;

1424 ià(
kmp_c_debug
 < 
debug
) {

1425 
kmp_c_debug
 = 
debug
;

1427 ià(
kmp_d_debug
 < 
debug
) {

1428 
kmp_d_debug
 = 
debug
;

1430 ià(
kmp_e_debug
 < 
debug
) {

1431 
kmp_e_debug
 = 
debug
;

1433 ià(
kmp_f_debug
 < 
debug
) {

1434 
kmp_f_debug
 = 
debug
;

1436 
	}
}

1438 
	$__kmp_¡g_·r£_debug_buf
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1439 *
d©a
) {

1440 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_debug_buf
);

1444 ià(
__kmp_debug_buf
) {

1445 
i
;

1446 
–em’ts
 = 
__kmp_debug_buf_lšes
 * 
__kmp_debug_buf_ch¬s
;

1449 
__kmp_debug_bufãr
 = (*)
	`__kmp_·ge_®loÿ‹
(
–em’ts
 * ());

1450 
i
 = 0; i < 
–em’ts
; i +ğ
__kmp_debug_buf_ch¬s
)

1451 
__kmp_debug_bufãr
[
i
] = '\0';

1453 
__kmp_debug_couÁ
 = 0;

1455 
	`K_DIAG
(1, ("__kmp_debug_buàğ%d\n", 
__kmp_debug_buf
));

1456 
	}
}

1458 
	$__kmp_¡g_´št_debug_buf
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1459 *
d©a
) {

1460 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_debug_buf
);

1461 
	}
}

1463 
	$__kmp_¡g_·r£_debug_buf_©omic
(cÚ¡ *
Çme
,

1464 cÚ¡ *
v®ue
, *
d©a
) {

1465 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_debug_buf_©omic
);

1466 
	}
}

1468 
	$__kmp_¡g_´št_debug_buf_©omic
(
kmp_¡r_buf_t
 *
bufãr
,

1469 cÚ¡ *
Çme
, *
d©a
) {

1470 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_debug_buf_©omic
);

1471 
	}
}

1473 
	$__kmp_¡g_·r£_debug_buf_ch¬s
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1474 *
d©a
) {

1475 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 
KMP_DEBUG_BUF_CHARS_MIN
, 
INT_MAX
,

1476 &
__kmp_debug_buf_ch¬s
);

1477 
	}
}

1479 
	$__kmp_¡g_´št_debug_buf_ch¬s
(
kmp_¡r_buf_t
 *
bufãr
,

1480 cÚ¡ *
Çme
, *
d©a
) {

1481 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_debug_buf_ch¬s
);

1482 
	}
}

1484 
	$__kmp_¡g_·r£_debug_buf_lšes
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1485 *
d©a
) {

1486 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 
KMP_DEBUG_BUF_LINES_MIN
, 
INT_MAX
,

1487 &
__kmp_debug_buf_lšes
);

1488 
	}
}

1490 
	$__kmp_¡g_´št_debug_buf_lšes
(
kmp_¡r_buf_t
 *
bufãr
,

1491 cÚ¡ *
Çme
, *
d©a
) {

1492 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_debug_buf_lšes
);

1493 
	}
}

1495 
	$__kmp_¡g_·r£_dŸg
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1496 *
d©a
) {

1497 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
, &
kmp_dŸg
);

1498 
	}
}

1500 
	$__kmp_¡g_´št_dŸg
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1501 *
d©a
) {

1502 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
kmp_dŸg
);

1503 
	}
}

1510 
	$__kmp_¡g_·r£_®ign_®loc
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1511 *
d©a
) {

1512 
	`__kmp_¡g_·r£_size
(
Çme
, 
v®ue
, 
CACHE_LINE
, 
INT_MAX
, 
NULL
,

1513 &
__kmp_®ign_®loc
, 1);

1514 
	}
}

1516 
	$__kmp_¡g_´št_®ign_®loc
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1517 *
d©a
) {

1518 
	`__kmp_¡g_´št_size
(
bufãr
, 
Çme
, 
__kmp_®ign_®loc
);

1519 
	}
}

1527 
	$__kmp_¡g_·r£_b¬r›r_b¿nch_b™
(cÚ¡ *
Çme
,

1528 cÚ¡ *
v®ue
, *
d©a
) {

1529 cÚ¡ *
v¬
;

1532 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; i++) {

1533 
v¬
 = 
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
i
];

1534 ià((
	`¡rcmp
(
v¬
, 
Çme
è=ğ0è&& (
v®ue
 != 0)) {

1535 *
comma
;

1537 
comma
 = 
	`CCAST
(*, 
	`¡rchr
(
v®ue
, ','));

1538 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
] =

1539 (
kmp_ušt32
)
	`__kmp_¡r_to_št
(
v®ue
, ',');

1541 ià(
comma
 =ğ
NULL
) {

1542 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] = 
__kmp_b¬r›r_»Ëa£_bb_dæt
;

1544 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] =

1545 (
kmp_ušt32
)
	`__kmp_¡r_to_št
(
comma
 + 1, 0);

1547 ià(
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] > 
KMP_MAX_BRANCH_BITS
) {

1548 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

1549 
	`KMP_MSG
(
B¬rR–—£V®ueInv®id
, 
Çme
, 
comma
 + 1),

1550 
__kmp_msg_nuÎ
);

1551 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
] = 
__kmp_b¬r›r_»Ëa£_bb_dæt
;

1554 ià(
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
] > 
KMP_MAX_BRANCH_BITS
) {

1555 
	`KMP_WARNING
(
B¬rG©h”V®ueInv®id
, 
Çme
, 
v®ue
);

1556 
	`KMP_INFORM
(
Usšg_ušt_V®ue
, 
Çme
, 
__kmp_b¬r›r_g©h”_bb_dæt
);

1557 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
] = 
__kmp_b¬r›r_g©h”_bb_dæt
;

1560 
	`K_DIAG
(1, ("% =ğ%d,%d\n", 
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
i
],

1561 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
],

1562 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
]))

1564 
	}
}

1566 
	$__kmp_¡g_´št_b¬r›r_b¿nch_b™
(
kmp_¡r_buf_t
 *
bufãr
,

1567 cÚ¡ *
Çme
, *
d©a
) {

1568 cÚ¡ *
v¬
;

1569 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; i++) {

1570 
v¬
 = 
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
i
];

1571 ià(
	`¡rcmp
(
v¬
, 
Çme
) == 0) {

1572 ià(
__kmp_’v_fÜm©
) {

1573 
	`KMP_STR_BUF_PRINT_NAME_EX
(
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
i
]);

1575 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='",

1576 
__kmp_b¬r›r_b¿nch_b™_’v_Çme
[
i
]);

1578 
	`__kmp_¡r_buf_´št
(
bufãr
, "%d,%d'\n",

1579 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
],

1580 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
]);

1583 
	}
}

1592 
	$__kmp_¡g_·r£_b¬r›r_·‰”n
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1593 *
d©a
) {

1594 cÚ¡ *
v¬
;

1597 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; i++) {

1598 
v¬
 = 
__kmp_b¬r›r_·‰”n_’v_Çme
[
i
];

1600 ià((
	`¡rcmp
(
v¬
, 
Çme
è=ğ0è&& (
v®ue
 != 0)) {

1601 
j
;

1602 *
comma
 = 
	`CCAST
(*, 
	`¡rchr
(
v®ue
, ','));

1605 
j
 = 
bp_lš—r_b¬
; j < 
bp_Ï¡_b¬
; j++) {

1606 ià(
	`__kmp_m©ch_w™h_£Áš–
(
__kmp_b¬r›r_·‰”n_Çme
[
j
], 
v®ue
, 1,

1608 
__kmp_b¬r›r_g©h”_·‰”n
[
i
] = (
kmp_b¬_·t_e
)
j
;

1612 ià(
j
 =ğ
bp_Ï¡_b¬
) {

1613 
	`KMP_WARNING
(
B¬rG©h”V®ueInv®id
, 
Çme
, 
v®ue
);

1614 
	`KMP_INFORM
(
Usšg_¡r_V®ue
, 
Çme
,

1615 
__kmp_b¬r›r_·‰”n_Çme
[
bp_lš—r_b¬
]);

1619 ià(
comma
 !ğ
NULL
) {

1620 
j
 = 
bp_lš—r_b¬
; j < 
bp_Ï¡_b¬
; j++) {

1621 ià(
	`__kmp_¡r_m©ch
(
__kmp_b¬r›r_·‰”n_Çme
[
j
], 1, 
comma
 + 1)) {

1622 
__kmp_b¬r›r_»Ëa£_·‰”n
[
i
] = (
kmp_b¬_·t_e
)
j
;

1626 ià(
j
 =ğ
bp_Ï¡_b¬
) {

1627 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

1628 
	`KMP_MSG
(
B¬rR–—£V®ueInv®id
, 
Çme
, 
comma
 + 1),

1629 
__kmp_msg_nuÎ
);

1630 
	`KMP_INFORM
(
Usšg_¡r_V®ue
, 
Çme
,

1631 
__kmp_b¬r›r_·‰”n_Çme
[
bp_lš—r_b¬
]);

1636 
	}
}

1638 
	$__kmp_¡g_´št_b¬r›r_·‰”n
(
kmp_¡r_buf_t
 *
bufãr
,

1639 cÚ¡ *
Çme
, *
d©a
) {

1640 cÚ¡ *
v¬
;

1641 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; i++) {

1642 
v¬
 = 
__kmp_b¬r›r_·‰”n_’v_Çme
[
i
];

1643 ià(
	`¡rcmp
(
v¬
, 
Çme
) == 0) {

1644 
j
 = 
__kmp_b¬r›r_g©h”_·‰”n
[
i
];

1645 
k
 = 
__kmp_b¬r›r_»Ëa£_·‰”n
[
i
];

1646 ià(
__kmp_’v_fÜm©
) {

1647 
	`KMP_STR_BUF_PRINT_NAME_EX
(
__kmp_b¬r›r_·‰”n_’v_Çme
[
i
]);

1649 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='",

1650 
__kmp_b¬r›r_·‰”n_’v_Çme
[
i
]);

1652 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%s'\n", 
__kmp_b¬r›r_·‰”n_Çme
[
j
],

1653 
__kmp_b¬r›r_·‰”n_Çme
[
k
]);

1656 
	}
}

1661 
	$__kmp_¡g_·r£_abÜt_d–ay
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1662 *
d©a
) {

1665 
d–ay
 = 
__kmp_abÜt_d–ay
 / 1000;

1666 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
 / 1000, &
d–ay
);

1667 
__kmp_abÜt_d–ay
 = 
d–ay
 * 1000;

1668 
	}
}

1670 
	$__kmp_¡g_´št_abÜt_d–ay
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1671 *
d©a
) {

1672 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_abÜt_d–ay
);

1673 
	}
}

1678 
	$__kmp_¡g_·r£_ıušfo_fe
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1679 *
d©a
) {

1680 #ià
KMP_AFFINITY_SUPPORTED


1681 
	`__kmp_¡g_·r£_¡r
(
Çme
, 
v®ue
, &
__kmp_ıušfo_fe
);

1682 
	`K_DIAG
(1, ("__kmp_ıušfo_f=ğ%s\n", 
__kmp_ıušfo_fe
));

1684 
	}
}

1686 
	$__kmp_¡g_´št_ıušfo_fe
(
kmp_¡r_buf_t
 *
bufãr
,

1687 cÚ¡ *
Çme
, *
d©a
) {

1688 #ià
KMP_AFFINITY_SUPPORTED


1689 ià(
__kmp_’v_fÜm©
) {

1690 
KMP_STR_BUF_PRINT_NAME
;

1692 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

1694 ià(
__kmp_ıušfo_fe
) {

1695 
	`__kmp_¡r_buf_´št
(
bufãr
, "='%s'\n", 
__kmp_ıušfo_fe
);

1697 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

1700 
	}
}

1705 
	$__kmp_¡g_·r£_fÜû_»duùiÚ
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1706 *
d©a
) {

1707 
kmp_¡g_ä_d©a_t
 *
»duùiÚ
 = (kmp_¡g_ä_d©a_ˆ*)
d©a
;

1708 
rc
;

1710 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
»duùiÚ
->
riv®s
);

1711 ià(
rc
) {

1714 ià(
»duùiÚ
->
fÜû
) {

1715 ià(
v®ue
 != 0) {

1716 ià(
	`__kmp_¡r_m©ch
("ü™iÿl", 0, 
v®ue
))

1717 
__kmp_fÜû_»duùiÚ_m‘hod
 = 
ü™iÿl_»duû_block
;

1718 ià(
	`__kmp_¡r_m©ch
("©omic", 0, 
v®ue
))

1719 
__kmp_fÜû_»duùiÚ_m‘hod
 = 
©omic_»duû_block
;

1720 ià(
	`__kmp_¡r_m©ch
("Œ“", 0, 
v®ue
))

1721 
__kmp_fÜû_»duùiÚ_m‘hod
 = 
Œ“_»duû_block
;

1723 
	`KMP_FATAL
(
UnknownFÜûReduùiÚ
, 
Çme
, 
v®ue
);

1727 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_d‘”m_»d
);

1728 ià(
__kmp_d‘”m_»d
) {

1729 
__kmp_fÜû_»duùiÚ_m‘hod
 = 
Œ“_»duû_block
;

1731 
__kmp_fÜû_»duùiÚ_m‘hod
 = 
»duùiÚ_m‘hod_nÙ_defšed
;

1734 
	`K_DIAG
(1, ("__kmp_force_reduction_method == %d\n",

1735 
__kmp_fÜû_»duùiÚ_m‘hod
));

1736 
	}
}

1738 
	$__kmp_¡g_´št_fÜû_»duùiÚ
(
kmp_¡r_buf_t
 *
bufãr
,

1739 cÚ¡ *
Çme
, *
d©a
) {

1741 
kmp_¡g_ä_d©a_t
 *
»duùiÚ
 = (kmp_¡g_ä_d©a_ˆ*)
d©a
;

1742 ià(
»duùiÚ
->
fÜû
) {

1743 ià(
__kmp_fÜû_»duùiÚ_m‘hod
 =ğ
ü™iÿl_»duû_block
) {

1744 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "critical");

1745 } ià(
__kmp_fÜû_»duùiÚ_m‘hod
 =ğ
©omic_»duû_block
) {

1746 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "atomic");

1747 } ià(
__kmp_fÜû_»duùiÚ_m‘hod
 =ğ
Œ“_»duû_block
) {

1748 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "tree");

1750 ià(
__kmp_’v_fÜm©
) {

1751 
KMP_STR_BUF_PRINT_NAME
;

1753 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

1755 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

1758 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_d‘”m_»d
);

1761 
	}
}

1766 
	$__kmp_¡g_·r£_¡Üage_m­
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

1767 *
d©a
) {

1768 ià(
	`__kmp_¡r_m©ch
("v”bo£", 1, 
v®ue
)) {

1769 
__kmp_¡Üage_m­
 = 
TRUE
;

1770 
__kmp_¡Üage_m­_v”bo£
 = 
TRUE
;

1771 
__kmp_¡Üage_m­_v”bo£_¥ecif›d
 = 
TRUE
;

1774 
__kmp_¡Üage_m­_v”bo£
 = 
FALSE
;

1775 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_¡Üage_m­
);

1777 
	}
}

1779 
	$__kmp_¡g_´št_¡Üage_m­
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

1780 *
d©a
) {

1781 ià(
__kmp_¡Üage_m­_v”bo£
 || 
__kmp_¡Üage_m­_v”bo£_¥ecif›d
) {

1782 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "verbose");

1784 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_¡Üage_m­
);

1786 
	}
}

1791 
	$__kmp_¡g_·r£_®l_th»ad´iv©e
(cÚ¡ *
Çme
,

1792 cÚ¡ *
v®ue
, *
d©a
) {

1793 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
,

1794 
__kmp_®lTh»adsS³cif›d
 ? 
__kmp_max_Áh
 : 1,

1795 
__kmp_max_Áh
, &
__kmp__ÿ·c™y
);

1796 
	}
}

1798 
	$__kmp_¡g_´št_®l_th»ad´iv©e
(
kmp_¡r_buf_t
 *
bufãr
,

1799 cÚ¡ *
Çme
, *
d©a
) {

1800 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp__ÿ·c™y
);

1801 
	}
}

1806 
	$__kmp_¡g_·r£_fÜeign_th»ads_th»ad´iv©e
(cÚ¡ *
Çme
,

1807 cÚ¡ *
v®ue
,

1808 *
d©a
) {

1809 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_fÜeign_
);

1810 
	}
}

1812 
	$__kmp_¡g_´št_fÜeign_th»ads_th»ad´iv©e
(
kmp_¡r_buf_t
 *
bufãr
,

1813 cÚ¡ *
Çme
,

1814 *
d©a
) {

1815 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_fÜeign_
);

1816 
	}
}

1821 #ià
KMP_AFFINITY_SUPPORTED


1823 
	$__kmp_·r£_affš™y_´oc_id_li¡
(cÚ¡ *
v¬
, cÚ¡ *
’v
,

1824 cÚ¡ **
ÃxtEnv
,

1825 **
´oşi¡
) {

1826 cÚ¡ *
sÿn
 = 
’v
;

1827 cÚ¡ *
Ãxt
 = 
sÿn
;

1828 
em±y
 = 
TRUE
;

1830 *
´oşi¡
 = 
NULL
;

1833 
¡¬t
, 
’d
, 
¡ride
;

1835 
	`SKIP_WS
(
sÿn
);

1836 
Ãxt
 = 
sÿn
;

1837 ià(*
Ãxt
 == '\0') {

1841 ià(*
Ãxt
 == '{') {

1842 
num
;

1843 
Ãxt
++;

1844 
	`SKIP_WS
(
Ãxt
);

1845 
sÿn
 = 
Ãxt
;

1848 ià((*
Ãxt
 < '0') || (*next > '9')) {

1849 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
v¬
);

1850  
FALSE
;

1852 
	`SKIP_DIGITS
(
Ãxt
);

1853 
num
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

1854 
	`KMP_ASSERT
(
num
 >= 0);

1858 
	`SKIP_WS
(
Ãxt
);

1859 ià(*
Ãxt
 == '}') {

1860 
Ãxt
++;

1865 ià(*
Ãxt
 == ',') {

1866 
Ãxt
++;

1868 
	`SKIP_WS
(
Ãxt
);

1871 
sÿn
 = 
Ãxt
;

1872 ià((*
Ãxt
 < '0') || (*next > '9')) {

1873 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
v¬
);

1874  
FALSE
;

1877 
	`SKIP_DIGITS
(
Ãxt
);

1878 
num
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

1879 
	`KMP_ASSERT
(
num
 >= 0);

1881 
em±y
 = 
FALSE
;

1883 
	`SKIP_WS
(
Ãxt
);

1884 ià(*
Ãxt
 == ',') {

1885 
Ãxt
++;

1887 
sÿn
 = 
Ãxt
;

1892 ià((*
Ãxt
 < '0') || (*next > '9')) {

1893 ià(
em±y
) {

1894 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
v¬
);

1895  
FALSE
;

1901 
	`SKIP_DIGITS
(
Ãxt
);

1902 
¡¬t
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

1903 
	`KMP_ASSERT
(
¡¬t
 >= 0);

1904 
	`SKIP_WS
(
Ãxt
);

1907 ià(*
Ãxt
 != '-') {

1908 
em±y
 = 
FALSE
;

1911 ià(*
Ãxt
 == ',') {

1912 
Ãxt
++;

1914 
sÿn
 = 
Ãxt
;

1919 
Ãxt
++;

1920 
	`SKIP_WS
(
Ãxt
);

1921 
sÿn
 = 
Ãxt
;

1922 ià((*
Ãxt
 < '0') || (*next > '9')) {

1923 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
v¬
);

1924  
FALSE
;

1926 
	`SKIP_DIGITS
(
Ãxt
);

1927 
’d
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

1928 
	`KMP_ASSERT
(
’d
 >= 0);

1931 
¡ride
 = 1;

1932 
	`SKIP_WS
(
Ãxt
);

1933 ià(*
Ãxt
 == ':') {

1935 
sign
 = +1;

1936 
Ãxt
++;

1937 
	`SKIP_WS
(
Ãxt
);

1938 
sÿn
 = 
Ãxt
;

1939 ià(*
Ãxt
 == '-') {

1940 
sign
 = -1;

1941 
Ãxt
++;

1942 
	`SKIP_WS
(
Ãxt
);

1943 
sÿn
 = 
Ãxt
;

1945 ià((*
Ãxt
 < '0') || (*next > '9')) {

1946 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
v¬
);

1947  
FALSE
;

1949 
	`SKIP_DIGITS
(
Ãxt
);

1950 
¡ride
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

1951 
	`KMP_ASSERT
(
¡ride
 >= 0);

1952 
¡ride
 *ğ
sign
;

1956 ià(
¡ride
 == 0) {

1957 
	`KMP_WARNING
(
AffZ”oSŒide
, 
v¬
);

1958  
FALSE
;

1960 ià(
¡ride
 > 0) {

1961 ià(
¡¬t
 > 
’d
) {

1962 
	`KMP_WARNING
(
AffS¹G»©”End
, 
v¬
, 
¡¬t
, 
’d
);

1963  
FALSE
;

1966 ià(
¡¬t
 < 
’d
) {

1967 
	`KMP_WARNING
(
AffSŒideLessZ”o
, 
v¬
, 
¡¬t
, 
’d
);

1968  
FALSE
;

1971 ià((
’d
 - 
¡¬t
è/ 
¡ride
 > 65536) {

1972 
	`KMP_WARNING
(
AffRªgeTooBig
, 
v¬
, 
’d
, 
¡¬t
, 
¡ride
);

1973  
FALSE
;

1976 
em±y
 = 
FALSE
;

1979 
	`SKIP_WS
(
Ãxt
);

1980 ià(*
Ãxt
 == ',') {

1981 
Ãxt
++;

1983 
sÿn
 = 
Ãxt
;

1986 *
ÃxtEnv
 = 
Ãxt
;

1989 
Ën
 = 
Ãxt
 - 
’v
;

1990 *
»i¡
 = (*)
	`__kmp_®loÿ‹
((
Ën
 + 1) * ());

1991 
	`KMP_MEMCPY_S
(
»i¡
, (
Ën
 + 1è* (), 
’v
,†en * ());

1992 
»i¡
[
Ën
] = '\0';

1993 *
´oşi¡
 = 
»i¡
;

1995  
TRUE
;

1996 
	}
}

2000 
kmp_£‰šg_t
 *
	g__kmp_affš™y_nÙy³
 = 
NULL
;

2002 
	$__kmp_·r£_affš™y_’v
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

2003 
affš™y_ty³
 *
out_ty³
,

2004 **
out_´oşi¡
, *
out_v”bo£
,

2005 *
out_w¬n
, *
out_»¥eù
,

2006 
affš™y_g¿n
 *
out_g¿n
,

2007 *
out_g¿n_Ëv–s
, *
out_dups
,

2008 *
out_com·ù
, *
out_off£t
) {

2009 *
bufãr
 = 
NULL
;

2010 *
buf
 = 
NULL
;

2011 *
Ãxt
 = 
NULL
;

2012 cÚ¡ *
¡¬t
;

2013 
couÁ
 = 0;

2014 
numb”
[2];

2017 
ty³
 = 0;

2018 
´oşi¡
 = 0;

2019 
v”bo£
 = 0;

2020 
w¬nšgs
 = 0;

2021 
»¥eù
 = 0;

2022 
g¿n
 = 0;

2023 
dups
 = 0;

2025 
	`KMP_ASSERT
(
v®ue
 !ğ
NULL
);

2027 ià(
	`TCR_4
(
__kmp_š™_middË
)) {

2028 
	`KMP_WARNING
(
EnvMiddËW¬n
, 
Çme
);

2029 
	`__kmp_’v_toPršt
(
Çme
, 0);

2032 
	`__kmp_’v_toPršt
(
Çme
, 1);

2034 
bufãr
 =

2035 
	`__kmp_¡r_fÜm©
("%s", 
v®ue
);

2036 
buf
 = 
bufãr
;

2037 
	`SKIP_WS
(
buf
);

2045 
	#EMIT_WARN
(
sk
, 
”¾i¡
) \

2047 
ch
; \

2048 ià(
sk
) { \

2049 
	`SKIP_TO
(
Ãxt
, ','); \

2051 
ch
 = *
Ãxt
; \

2052 *
Ãxt
 = '\0'; \

2053 
KMP_WARNING
 
”¾i¡
; \

2054 *
Ãxt
 = 
ch
; \

2055 ià(
sk
) { \

2056 ià(
ch
 == ',') \

2057 
Ãxt
++; \

2059 
buf
 = 
Ãxt
; \

2060 }

	)

2062 
	#_£t_·¿m
(
_gu¬d
, 
_v¬
, 
_v®
) \

2064 ià(
_gu¬d
 == 0) { \

2065 
_v¬
 = 
_v®
; \

2067 
	`EMIT_WARN
(
FALSE
, (
AffP¬amDefšed
, 
Çme
, 
¡¬t
)); \

2069 ++
_gu¬d
; \

2070 }

	)

2072 
	#£t_ty³
(
v®
è
	`_£t_·¿m
(
ty³
, *
out_ty³
, v®)

	)

2073 
	#£t_v”bo£
(
v®
è
	`_£t_·¿m
(
v”bo£
, *
out_v”bo£
, v®)

	)

2074 
	#£t_w¬nšgs
(
v®
è
	`_£t_·¿m
(
w¬nšgs
, *
out_w¬n
, v®)

	)

2075 
	#£t_»¥eù
(
v®
è
	`_£t_·¿m
(
»¥eù
, *
out_»¥eù
, v®)

	)

2076 
	#£t_dups
(
v®
è
	`_£t_·¿m
(
dups
, *
out_dups
, v®)

	)

2077 
	#£t_´oşi¡
(
v®
è
	`_£t_·¿m
(
´oşi¡
, *
out_´oşi¡
, v®)

	)

2079 
	#£t_g¿n
(
v®
, 
Ëv–s
) \

2081 ià(
g¿n
 == 0) { \

2082 *
out_g¿n
 = 
v®
; \

2083 *
out_g¿n_Ëv–s
 = 
Ëv–s
; \

2085 
	`EMIT_WARN
(
FALSE
, (
AffP¬amDefšed
, 
Çme
, 
¡¬t
)); \

2087 ++
g¿n
; \

2088 }

	)

2090 
	`KMP_DEBUG_ASSERT
((
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 !ğ
NULL
) &&

2091 (
__kmp_Ã¡ed_´oc_bšd
.
u£d
 > 0));

2093 *
buf
 != '\0') {

2094 
¡¬t
 = 
Ãxt
 = 
buf
;

2096 ià(
	`__kmp_m©ch_¡r
("nÚe", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2097 
	`£t_ty³
(
affš™y_nÚe
);

2098 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

2099 
buf
 = 
Ãxt
;

2100 } ià(
	`__kmp_m©ch_¡r
("sÿ‰”", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2101 
	`£t_ty³
(
affš™y_sÿ‰”
);

2102 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2103 
buf
 = 
Ãxt
;

2104 } ià(
	`__kmp_m©ch_¡r
("com·ù", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2105 
	`£t_ty³
(
affš™y_com·ù
);

2106 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2107 
buf
 = 
Ãxt
;

2108 } ià(
	`__kmp_m©ch_¡r
("logiÿl", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2109 
	`£t_ty³
(
affš™y_logiÿl
);

2110 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2111 
buf
 = 
Ãxt
;

2112 } ià(
	`__kmp_m©ch_¡r
("physiÿl", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2113 
	`£t_ty³
(
affš™y_physiÿl
);

2114 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2115 
buf
 = 
Ãxt
;

2116 } ià(
	`__kmp_m©ch_¡r
("ex¶ic™", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2117 
	`£t_ty³
(
affš™y_ex¶ic™
);

2118 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2119 
buf
 = 
Ãxt
;

2120 } ià(
	`__kmp_m©ch_¡r
("b®ªûd", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2121 
	`£t_ty³
(
affš™y_b®ªûd
);

2122 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2123 
buf
 = 
Ãxt
;

2124 } ià(
	`__kmp_m©ch_¡r
("di§bËd", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2125 
	`£t_ty³
(
affš™y_di§bËd
);

2126 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

2127 
buf
 = 
Ãxt
;

2128 } ià(
	`__kmp_m©ch_¡r
("v”bo£", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2129 
	`£t_v”bo£
(
TRUE
);

2130 
buf
 = 
Ãxt
;

2131 } ià(
	`__kmp_m©ch_¡r
("nov”bo£", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2132 
	`£t_v”bo£
(
FALSE
);

2133 
buf
 = 
Ãxt
;

2134 } ià(
	`__kmp_m©ch_¡r
("w¬nšgs", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2135 
	`£t_w¬nšgs
(
TRUE
);

2136 
buf
 = 
Ãxt
;

2137 } ià(
	`__kmp_m©ch_¡r
("now¬nšgs", 
buf
,

2138 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2139 
	`£t_w¬nšgs
(
FALSE
);

2140 
buf
 = 
Ãxt
;

2141 } ià(
	`__kmp_m©ch_¡r
("»¥eù", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2142 
	`£t_»¥eù
(
TRUE
);

2143 
buf
 = 
Ãxt
;

2144 } ià(
	`__kmp_m©ch_¡r
("nÜe¥eù", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2145 
	`£t_»¥eù
(
FALSE
);

2146 
buf
 = 
Ãxt
;

2147 } ià(
	`__kmp_m©ch_¡r
("du¶iÿ‹s", 
buf
,

2148 
	`CCAST
(cÚ¡ **, &
Ãxt
)) ||

2149 
	`__kmp_m©ch_¡r
("dups", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2150 
	`£t_dups
(
TRUE
);

2151 
buf
 = 
Ãxt
;

2152 } ià(
	`__kmp_m©ch_¡r
("nodu¶iÿ‹s", 
buf
,

2153 
	`CCAST
(cÚ¡ **, &
Ãxt
)) ||

2154 
	`__kmp_m©ch_¡r
("nodups", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2155 
	`£t_dups
(
FALSE
);

2156 
buf
 = 
Ãxt
;

2157 } ià(
	`__kmp_m©ch_¡r
("g¿nuÏr™y", 
buf
,

2158 
	`CCAST
(cÚ¡ **, &
Ãxt
)) ||

2159 
	`__kmp_m©ch_¡r
("g¿n", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2160 
	`SKIP_WS
(
Ãxt
);

2161 ià(*
Ãxt
 != '=') {

2162 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2165 
Ãxt
++;

2166 
	`SKIP_WS
(
Ãxt
);

2168 
buf
 = 
Ãxt
;

2169 ià(
	`__kmp_m©ch_¡r
("fše", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2170 
	`£t_g¿n
(
affš™y_g¿n_fše
, -1);

2171 
buf
 = 
Ãxt
;

2172 } ià(
	`__kmp_m©ch_¡r
("th»ad", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2173 
	`£t_g¿n
(
affš™y_g¿n_th»ad
, -1);

2174 
buf
 = 
Ãxt
;

2175 } ià(
	`__kmp_m©ch_¡r
("cÜe", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2176 
	`£t_g¿n
(
affš™y_g¿n_cÜe
, -1);

2177 
buf
 = 
Ãxt
;

2178 #ià
KMP_USE_HWLOC


2179 } ià(
	`__kmp_m©ch_¡r
("te", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2180 
	`£t_g¿n
(
affš™y_g¿n_te
, -1);

2181 
buf
 = 
Ãxt
;

2183 } ià(
	`__kmp_m©ch_¡r
("·ckage", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2184 
	`£t_g¿n
(
affš™y_g¿n_·ckage
, -1);

2185 
buf
 = 
Ãxt
;

2186 } ià(
	`__kmp_m©ch_¡r
("node", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2187 
	`£t_g¿n
(
affš™y_g¿n_node
, -1);

2188 
buf
 = 
Ãxt
;

2189 #ià
KMP_GROUP_AFFINITY


2190 } ià(
	`__kmp_m©ch_¡r
("group", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2191 
	`£t_g¿n
(
affš™y_g¿n_group
, -1);

2192 
buf
 = 
Ãxt
;

2194 } ià((*
buf
 >= '0') && (*buf <= '9')) {

2195 
n
;

2196 
Ãxt
 = 
buf
;

2197 
	`SKIP_DIGITS
(
Ãxt
);

2198 
n
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

2199 
	`KMP_ASSERT
(
n
 >= 0);

2200 
buf
 = 
Ãxt
;

2201 
	`£t_g¿n
(
affš™y_g¿n_deçuÉ
, 
n
);

2203 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2206 } ià(
	`__kmp_m©ch_¡r
("´oşi¡", 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
))) {

2207 *
‹mp_´oşi¡
;

2209 
	`SKIP_WS
(
Ãxt
);

2210 ià(*
Ãxt
 != '=') {

2211 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2214 
Ãxt
++;

2215 
	`SKIP_WS
(
Ãxt
);

2216 ià(*
Ãxt
 != '[') {

2217 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2220 
Ãxt
++;

2221 
buf
 = 
Ãxt
;

2222 ià(!
	`__kmp_·r£_affš™y_´oc_id_li¡
(

2223 
Çme
, 
buf
, 
	`CCAST
(cÚ¡ **, &
Ãxt
), &
‹mp_´oşi¡
)) {

2225 
	`SKIP_TO
(
Ãxt
, ']');

2226 ià(*
Ãxt
 == ']')

2227 
Ãxt
++;

2228 
	`SKIP_TO
(
Ãxt
, ',');

2229 ià(*
Ãxt
 == ',')

2230 
Ãxt
++;

2231 
buf
 = 
Ãxt
;

2234 ià(*
Ãxt
 != ']') {

2235 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2238 
Ãxt
++;

2239 
	`£t_´oşi¡
(
‹mp_´oşi¡
);

2240 } ià((*
buf
 >= '0') && (*buf <= '9')) {

2242 
n
;

2243 
Ãxt
 = 
buf
;

2244 
	`SKIP_DIGITS
(
Ãxt
);

2245 
n
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

2246 
	`KMP_ASSERT
(
n
 >= 0);

2247 
buf
 = 
Ãxt
;

2248 ià(
couÁ
 < 2) {

2249 
numb”
[
couÁ
] = 
n
;

2251 
	`KMP_WARNING
(
AffMªyP¬ams
, 
Çme
, 
¡¬t
);

2253 ++
couÁ
;

2255 
	`EMIT_WARN
(
TRUE
, (
AffInv®idP¬am
, 
Çme
, 
¡¬t
));

2259 
	`SKIP_WS
(
Ãxt
);

2260 ià(*
Ãxt
 == ',') {

2261 
Ãxt
++;

2262 
	`SKIP_WS
(
Ãxt
);

2263 } ià(*
Ãxt
 != '\0') {

2264 cÚ¡ *
‹mp
 = 
Ãxt
;

2265 
	`EMIT_WARN
(
TRUE
, (
P¬£ExŒaCh¬sW¬n
, 
Çme
, 
‹mp
));

2268 
buf
 = 
Ãxt
;

2271 #undeà
EMIT_WARN


2272 #undeà
_£t_·¿m


2273 #undeà
£t_ty³


2274 #undeà
£t_v”bo£


2275 #undeà
£t_w¬nšgs


2276 #undeà
£t_»¥eù


2277 #undeà
£t_g¿nuÏr™y


2279 
	`__kmp_¡r_ä“
(&
bufãr
);

2281 ià(
´oşi¡
) {

2282 ià(!
ty³
) {

2283 
	`KMP_WARNING
(
AffProcLi¡NoTy³
, 
Çme
);

2284 *
out_ty³
 = 
affš™y_ex¶ic™
;

2285 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2286 } ià(*
out_ty³
 !ğ
affš™y_ex¶ic™
) {

2287 
	`KMP_WARNING
(
AffProcLi¡NÙEx¶ic™
, 
Çme
);

2288 
	`KMP_ASSERT
(*
out_´oşi¡
 !ğ
NULL
);

2289 
	`KMP_INTERNAL_FREE
(*
out_´oşi¡
);

2290 *
out_´oşi¡
 = 
NULL
;

2293 *
out_ty³
) {

2294 
affš™y_logiÿl
:

2295 
affš™y_physiÿl
: {

2296 ià(
couÁ
 > 0) {

2297 *
out_off£t
 = 
numb”
[0];

2299 ià(
couÁ
 > 1) {

2300 
	`KMP_WARNING
(
AffMªyP¬amsFÜLogic
, 
Çme
, 
numb”
[1]);

2303 
affš™y_b®ªûd
: {

2304 ià(
couÁ
 > 0) {

2305 *
out_com·ù
 = 
numb”
[0];

2307 ià(
couÁ
 > 1) {

2308 *
out_off£t
 = 
numb”
[1];

2311 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_deçuÉ
) {

2312 #ià
KMP_MIC_SUPPORTED


2313 ià(
__kmp_mic_ty³
 !ğ
nÚ_mic
) {

2314 ià(
__kmp_affš™y_v”bo£
 || 
__kmp_affš™y_w¬nšgs
) {

2315 
	`KMP_WARNING
(
AffG¿nUsšg
, "KMP_AFFINITY", "fine");

2317 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

2321 ià(
__kmp_affš™y_v”bo£
 || 
__kmp_affš™y_w¬nšgs
) {

2322 
	`KMP_WARNING
(
AffG¿nUsšg
, "KMP_AFFINITY", "core");

2324 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_cÜe
;

2328 
affš™y_sÿ‰”
:

2329 
affš™y_com·ù
: {

2330 ià(
couÁ
 > 0) {

2331 *
out_com·ù
 = 
numb”
[0];

2333 ià(
couÁ
 > 1) {

2334 *
out_off£t
 = 
numb”
[1];

2337 
affš™y_ex¶ic™
: {

2338 ià(*
out_´oşi¡
 =ğ
NULL
) {

2339 
	`KMP_WARNING
(
AffNoProcLi¡
, 
Çme
);

2340 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

2342 ià(
couÁ
 > 0) {

2343 
	`KMP_WARNING
(
AffNoP¬am
, 
Çme
, "explicit");

2346 
affš™y_nÚe
: {

2347 ià(
couÁ
 > 0) {

2348 
	`KMP_WARNING
(
AffNoP¬am
, 
Çme
, "none");

2351 
affš™y_di§bËd
: {

2352 ià(
couÁ
 > 0) {

2353 
	`KMP_WARNING
(
AffNoP¬am
, 
Çme
, "disabled");

2356 
affš™y_deçuÉ
: {

2357 ià(
couÁ
 > 0) {

2358 
	`KMP_WARNING
(
AffNoP¬am
, 
Çme
, "default");

2361 : { 
	`KMP_ASSERT
(0); }

2363 
	}
}

2365 
	$__kmp_¡g_·r£_affš™y
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

2366 *
d©a
) {

2367 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

2368 
rc
;

2370 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
);

2371 ià(
rc
) {

2375 
	`__kmp_·r£_affš™y_’v
(
Çme
, 
v®ue
, &
__kmp_affš™y_ty³
,

2376 &
__kmp_affš™y_´oşi¡
, &
__kmp_affš™y_v”bo£
,

2377 &
__kmp_affš™y_w¬nšgs
,

2378 &
__kmp_affš™y_»¥eù_mask
, &
__kmp_affš™y_g¿n
,

2379 &
__kmp_affš™y_g¿n_Ëv–s
, &
__kmp_affš™y_dups
,

2380 &
__kmp_affš™y_com·ù
, &
__kmp_affš™y_off£t
);

2382 
	}
}

2384 
	$__kmp_¡g_´št_affš™y
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

2385 *
d©a
) {

2386 ià(
__kmp_’v_fÜm©
) {

2387 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

2389 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

2391 ià(
__kmp_affš™y_v”bo£
) {

2392 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "verbose");

2394 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "noverbose");

2396 ià(
__kmp_affš™y_w¬nšgs
) {

2397 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "warnings");

2399 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "nowarnings");

2401 ià(
	`KMP_AFFINITY_CAPABLE
()) {

2402 ià(
__kmp_affš™y_»¥eù_mask
) {

2403 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "respect");

2405 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,", "norespect");

2407 
__kmp_affš™y_g¿n
) {

2408 
affš™y_g¿n_deçuÉ
:

2409 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=default,");

2411 
affš™y_g¿n_fše
:

2412 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=fine,");

2414 
affš™y_g¿n_th»ad
:

2415 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=thread,");

2417 
affš™y_g¿n_cÜe
:

2418 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=core,");

2420 
affš™y_g¿n_·ckage
:

2421 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=package,");

2423 
affš™y_g¿n_node
:

2424 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=node,");

2426 #ià
KMP_GROUP_AFFINITY


2427 
affš™y_g¿n_group
:

2428 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "granularity=group,");

2433 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

2434 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "disabled");

2436 
__kmp_affš™y_ty³
) {

2437 
affš™y_nÚe
:

2438 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "none");

2440 
affš™y_physiÿl
:

2441 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d", "physiÿl", 
__kmp_affš™y_off£t
);

2443 
affš™y_logiÿl
:

2444 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d", "logiÿl", 
__kmp_affš™y_off£t
);

2446 
affš™y_com·ù
:

2447 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d,%d", "com·ù", 
__kmp_affš™y_com·ù
,

2448 
__kmp_affš™y_off£t
);

2450 
affš™y_sÿ‰”
:

2451 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d,%d", "sÿ‰”", 
__kmp_affš™y_com·ù
,

2452 
__kmp_affš™y_off£t
);

2454 
affš™y_ex¶ic™
:

2455 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s=[%s],%s", "proclist",

2456 
__kmp_affš™y_´oşi¡
, "explicit");

2458 
affš™y_b®ªûd
:

2459 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d,%d", "balanced",

2460 
__kmp_affš™y_com·ù
, 
__kmp_affš™y_off£t
);

2462 
affš™y_di§bËd
:

2463 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "disabled");

2465 
affš™y_deçuÉ
:

2466 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "default");

2469 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "<unknown>");

2472 
	`__kmp_¡r_buf_´št
(
bufãr
, "'\n");

2473 
	}
}

2475 #ifdeà
KMP_GOMP_COMPAT


2477 
	$__kmp_¡g_·r£_gomp_ıu_affš™y
(cÚ¡ *
Çme
,

2478 cÚ¡ *
v®ue
, *
d©a
) {

2479 cÚ¡ *
Ãxt
 = 
NULL
;

2480 *
‹mp_´oşi¡
;

2481 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

2482 
rc
;

2484 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
);

2485 ià(
rc
) {

2489 ià(
	`TCR_4
(
__kmp_š™_middË
)) {

2490 
	`KMP_WARNING
(
EnvMiddËW¬n
, 
Çme
);

2491 
	`__kmp_’v_toPršt
(
Çme
, 0);

2495 
	`__kmp_’v_toPršt
(
Çme
, 1);

2497 ià(
	`__kmp_·r£_affš™y_´oc_id_li¡
(
Çme
, 
v®ue
, &
Ãxt
, &
‹mp_´oşi¡
)) {

2498 
	`SKIP_WS
(
Ãxt
);

2499 ià(*
Ãxt
 == '\0') {

2501 
__kmp_affš™y_´oşi¡
 = 
‹mp_´oşi¡
;

2502 
__kmp_affš™y_ty³
 = 
affš™y_ex¶ic™
;

2503 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

2504 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

2506 
	`KMP_WARNING
(
AffSyÁaxE¼Ü
, 
Çme
);

2507 ià(
‹mp_´oşi¡
 !ğ
NULL
) {

2508 
	`KMP_INTERNAL_FREE
((*)
‹mp_´oşi¡
);

2513 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

2514 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

2516 
	}
}

2540 
	$__kmp_·r£_sub¶aû_li¡
(cÚ¡ *
v¬
, cÚ¡ **
sÿn
) {

2541 cÚ¡ *
Ãxt
;

2544 
¡¬t
, 
couÁ
, 
¡ride
;

2549 
	`SKIP_WS
(*
sÿn
);

2550 ià((**
sÿn
 < '0') || (**scan > '9')) {

2551 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2552  
FALSE
;

2554 
Ãxt
 = *
sÿn
;

2555 
	`SKIP_DIGITS
(
Ãxt
);

2556 
¡¬t
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

2557 
	`KMP_ASSERT
(
¡¬t
 >= 0);

2558 *
sÿn
 = 
Ãxt
;

2561 
	`SKIP_WS
(*
sÿn
);

2562 ià(**
sÿn
 == '}') {

2565 ià(**
sÿn
 == ',') {

2566 (*
sÿn
)++;

2569 ià(**
sÿn
 != ':') {

2570 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2571  
FALSE
;

2573 (*
sÿn
)++;

2576 
	`SKIP_WS
(*
sÿn
);

2577 ià((**
sÿn
 < '0') || (**scan > '9')) {

2578 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2579  
FALSE
;

2581 
Ãxt
 = *
sÿn
;

2582 
	`SKIP_DIGITS
(
Ãxt
);

2583 
couÁ
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

2584 
	`KMP_ASSERT
(
couÁ
 >= 0);

2585 *
sÿn
 = 
Ãxt
;

2588 
	`SKIP_WS
(*
sÿn
);

2589 ià(**
sÿn
 == '}') {

2592 ià(**
sÿn
 == ',') {

2593 (*
sÿn
)++;

2596 ià(**
sÿn
 != ':') {

2597 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2598  
FALSE
;

2600 (*
sÿn
)++;

2603 
sign
 = +1;

2605 
	`SKIP_WS
(*
sÿn
);

2606 ià(**
sÿn
 == '+') {

2607 (*
sÿn
)++;

2610 ià(**
sÿn
 == '-') {

2611 
sign
 *= -1;

2612 (*
sÿn
)++;

2617 
	`SKIP_WS
(*
sÿn
);

2618 ià((**
sÿn
 < '0') || (**scan > '9')) {

2619 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2620  
FALSE
;

2622 
Ãxt
 = *
sÿn
;

2623 
	`SKIP_DIGITS
(
Ãxt
);

2624 
¡ride
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

2625 
	`KMP_ASSERT
(
¡ride
 >= 0);

2626 *
sÿn
 = 
Ãxt
;

2627 
¡ride
 *ğ
sign
;

2630 
	`SKIP_WS
(*
sÿn
);

2631 ià(**
sÿn
 == '}') {

2634 ià(**
sÿn
 == ',') {

2635 (*
sÿn
)++;

2639 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2640  
FALSE
;

2642  
TRUE
;

2643 
	}
}

2645 
	$__kmp_·r£_¶aû
(cÚ¡ *
v¬
, cÚ¡ **
sÿn
) {

2646 cÚ¡ *
Ãxt
;

2649 
	`SKIP_WS
(*
sÿn
);

2650 ià(**
sÿn
 == '{') {

2651 (*
sÿn
)++;

2652 ià(!
	`__kmp_·r£_sub¶aû_li¡
(
v¬
, 
sÿn
)) {

2653  
FALSE
;

2655 ià(**
sÿn
 != '}') {

2656 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2657  
FALSE
;

2659 (*
sÿn
)++;

2660 } ià(**
sÿn
 == '!') {

2661 (*
sÿn
)++;

2662  
	`__kmp_·r£_¶aû
(
v¬
, 
sÿn
);

2663 } ià((**
sÿn
 >= '0') && (**scan <= '9')) {

2664 
Ãxt
 = *
sÿn
;

2665 
	`SKIP_DIGITS
(
Ãxt
);

2666 
´oc
 = 
	`__kmp_¡r_to_št
(*
sÿn
, *
Ãxt
);

2667 
	`KMP_ASSERT
(
´oc
 >= 0);

2668 *
sÿn
 = 
Ãxt
;

2670 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2671  
FALSE
;

2673  
TRUE
;

2674 
	}
}

2676 
	$__kmp_·r£_¶aû_li¡
(cÚ¡ *
v¬
, cÚ¡ *
’v
,

2677 **
¶aû_li¡
) {

2678 cÚ¡ *
sÿn
 = 
’v
;

2679 cÚ¡ *
Ãxt
 = 
sÿn
;

2682 
couÁ
, 
¡ride
;

2684 ià(!
	`__kmp_·r£_¶aû
(
v¬
, &
sÿn
)) {

2685  
FALSE
;

2689 
	`SKIP_WS
(
sÿn
);

2690 ià(*
sÿn
 == '\0') {

2693 ià(*
sÿn
 == ',') {

2694 
sÿn
++;

2697 ià(*
sÿn
 != ':') {

2698 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2699  
FALSE
;

2701 
sÿn
++;

2704 
	`SKIP_WS
(
sÿn
);

2705 ià((*
sÿn
 < '0') || (*scan > '9')) {

2706 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2707  
FALSE
;

2709 
Ãxt
 = 
sÿn
;

2710 
	`SKIP_DIGITS
(
Ãxt
);

2711 
couÁ
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2712 
	`KMP_ASSERT
(
couÁ
 >= 0);

2713 
sÿn
 = 
Ãxt
;

2716 
	`SKIP_WS
(
sÿn
);

2717 ià(*
sÿn
 == '\0') {

2720 ià(*
sÿn
 == ',') {

2721 
sÿn
++;

2724 ià(*
sÿn
 != ':') {

2725 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2726  
FALSE
;

2728 
sÿn
++;

2731 
sign
 = +1;

2733 
	`SKIP_WS
(
sÿn
);

2734 ià(*
sÿn
 == '+') {

2735 
sÿn
++;

2738 ià(*
sÿn
 == '-') {

2739 
sign
 *= -1;

2740 
sÿn
++;

2745 
	`SKIP_WS
(
sÿn
);

2746 ià((*
sÿn
 < '0') || (*scan > '9')) {

2747 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2748  
FALSE
;

2750 
Ãxt
 = 
sÿn
;

2751 
	`SKIP_DIGITS
(
Ãxt
);

2752 
¡ride
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2753 
	`KMP_ASSERT
(
¡ride
 >= 0);

2754 
sÿn
 = 
Ãxt
;

2755 
¡ride
 *ğ
sign
;

2758 
	`SKIP_WS
(
sÿn
);

2759 ià(*
sÿn
 == '\0') {

2762 ià(*
sÿn
 == ',') {

2763 
sÿn
++;

2767 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
v¬
, "\"threads\"");

2768  
FALSE
;

2772 
Ën
 = 
sÿn
 - 
’v
;

2773 *
»i¡
 = (*)
	`__kmp_®loÿ‹
((
Ën
 + 1) * ());

2774 
	`KMP_MEMCPY_S
(
»i¡
, (
Ën
 + 1è* (), 
’v
,†en * ());

2775 
»i¡
[
Ën
] = '\0';

2776 *
¶aû_li¡
 = 
»i¡
;

2778  
TRUE
;

2779 
	}
}

2781 
	$__kmp_¡g_·r£_¶aûs
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

2782 *
d©a
) {

2783 
couÁ
;

2784 cÚ¡ *
sÿn
 = 
v®ue
;

2785 cÚ¡ *
Ãxt
 = 
sÿn
;

2786 cÚ¡ *
kšd
 = "\"threads\"";

2787 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

2788 
rc
;

2790 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
);

2791 ià(
rc
) {

2797 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_deçuÉ
) {

2798 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_Œue
;

2803 ià(
	`__kmp_m©ch_¡r
("th»ads", 
sÿn
, &
Ãxt
)) {

2804 
sÿn
 = 
Ãxt
;

2805 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

2806 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_th»ad
;

2807 
__kmp_affš™y_dups
 = 
FALSE
;

2808 
kšd
 = "\"threads\"";

2809 } ià(
	`__kmp_m©ch_¡r
("cÜes", 
sÿn
, &
Ãxt
)) {

2810 
sÿn
 = 
Ãxt
;

2811 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

2812 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_cÜe
;

2813 
__kmp_affš™y_dups
 = 
FALSE
;

2814 
kšd
 = "\"cores\"";

2815 #ià
KMP_USE_HWLOC


2816 } ià(
	`__kmp_m©ch_¡r
("tes", 
sÿn
, &
Ãxt
)) {

2817 
sÿn
 = 
Ãxt
;

2818 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

2819 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_te
;

2820 
__kmp_affš™y_dups
 = 
FALSE
;

2821 
kšd
 = "\"tiles\"";

2823 } ià(
	`__kmp_m©ch_¡r
("sock‘s", 
sÿn
, &
Ãxt
)) {

2824 
sÿn
 = 
Ãxt
;

2825 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

2826 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_·ckage
;

2827 
__kmp_affš™y_dups
 = 
FALSE
;

2828 
kšd
 = "\"sockets\"";

2830 ià(
__kmp_affš™y_´oşi¡
 !ğ
NULL
) {

2831 
	`KMP_INTERNAL_FREE
((*)
__kmp_affš™y_´oşi¡
);

2832 
__kmp_affš™y_´oşi¡
 = 
NULL
;

2834 ià(
	`__kmp_·r£_¶aû_li¡
(
Çme
, 
v®ue
, &
__kmp_affš™y_´oşi¡
)) {

2835 
__kmp_affš™y_ty³
 = 
affš™y_ex¶ic™
;

2836 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

2837 
__kmp_affš™y_dups
 = 
FALSE
;

2838 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_deçuÉ
) {

2839 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_Œue
;

2845 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_deçuÉ
) {

2846 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_Œue
;

2849 
	`SKIP_WS
(
sÿn
);

2850 ià(*
sÿn
 == '\0') {

2855 ià(*
sÿn
 != '(') {

2856 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
Çme
, 
kšd
);

2859 
sÿn
++;

2861 
	`SKIP_WS
(
sÿn
);

2862 
Ãxt
 = 
sÿn
;

2863 
	`SKIP_DIGITS
(
Ãxt
);

2864 
couÁ
 = 
	`__kmp_¡r_to_št
(
sÿn
, *
Ãxt
);

2865 
	`KMP_ASSERT
(
couÁ
 >= 0);

2866 
sÿn
 = 
Ãxt
;

2868 
	`SKIP_WS
(
sÿn
);

2869 ià(*
sÿn
 != ')') {

2870 
	`KMP_WARNING
(
SyÁaxE¼ÜUsšg
, 
Çme
, 
kšd
);

2873 
sÿn
++;

2875 
	`SKIP_WS
(
sÿn
);

2876 ià(*
sÿn
 != '\0') {

2877 
	`KMP_WARNING
(
P¬£ExŒaCh¬sW¬n
, 
Çme
, 
sÿn
);

2879 
__kmp_affš™y_num_¶aûs
 = 
couÁ
;

2880 
	}
}

2882 
	$__kmp_¡g_´št_¶aûs
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

2883 *
d©a
) {

2884 ià(
__kmp_’v_fÜm©
) {

2885 
KMP_STR_BUF_PRINT_NAME
;

2887 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

2889 ià((
__kmp_Ã¡ed_´oc_bšd
.
u£d
 == 0) ||

2890 (
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =ğ
NULL
) ||

2891 (
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_çl£
)) {

2892 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

2893 } ià(
__kmp_affš™y_ty³
 =ğ
affš™y_ex¶ic™
) {

2894 ià(
__kmp_affš™y_´oşi¡
 !ğ
NULL
) {

2895 
	`__kmp_¡r_buf_´št
(
bufãr
, "='%s'\n", 
__kmp_affš™y_´oşi¡
);

2897 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

2899 } ià(
__kmp_affš™y_ty³
 =ğ
affš™y_com·ù
) {

2900 
num
;

2901 ià(
__kmp_affš™y_num_masks
 > 0) {

2902 
num
 = 
__kmp_affš™y_num_masks
;

2903 } ià(
__kmp_affš™y_num_¶aûs
 > 0) {

2904 
num
 = 
__kmp_affš™y_num_¶aûs
;

2906 
num
 = 0;

2908 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_th»ad
) {

2909 ià(
num
 > 0) {

2910 
	`__kmp_¡r_buf_´št
(
bufãr
, "='th»ads(%d)'\n", 
num
);

2912 
	`__kmp_¡r_buf_´št
(
bufãr
, "='threads'\n");

2914 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_cÜe
) {

2915 ià(
num
 > 0) {

2916 
	`__kmp_¡r_buf_´št
(
bufãr
, "='cÜes(%d)' \n", 
num
);

2918 
	`__kmp_¡r_buf_´št
(
bufãr
, "='cores'\n");

2920 #ià
KMP_USE_HWLOC


2921 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_te
) {

2922 ià(
num
 > 0) {

2923 
	`__kmp_¡r_buf_´št
(
bufãr
, "='tes(%d)' \n", 
num
);

2925 
	`__kmp_¡r_buf_´št
(
bufãr
, "='tiles'\n");

2928 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_·ckage
) {

2929 ià(
num
 > 0) {

2930 
	`__kmp_¡r_buf_´št
(
bufãr
, "='sock‘s(%d)'\n", 
num
);

2932 
	`__kmp_¡r_buf_´št
(
bufãr
, "='sockets'\n");

2935 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

2938 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

2940 
	}
}

2942 
	$__kmp_¡g_·r£_tİŞogy_m‘hod
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

2943 *
d©a
) {

2944 ià(
	`__kmp_¡r_m©ch
("®l", 1, 
v®ue
)) {

2945 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_®l
;

2947 #ià
KMP_USE_HWLOC


2948 ià(
	`__kmp_¡r_m©ch
("hwloc", 1, 
v®ue
)) {

2949 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_hwloc
;

2952 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


2953 ià(
	`__kmp_¡r_m©ch
("x2­iøid", 9, 
v®ue
) ||

2954 
	`__kmp_¡r_m©ch
("x2­ic_id", 9, 
v®ue
) ||

2955 
	`__kmp_¡r_m©ch
("x2­ic-id", 9, 
v®ue
) ||

2956 
	`__kmp_¡r_m©ch
("x2­icid", 8, 
v®ue
) ||

2957 
	`__kmp_¡r_m©ch
("ıuid†—à11", 13, 
v®ue
) ||

2958 
	`__kmp_¡r_m©ch
("ıuid_Ëaf_11", 13, 
v®ue
) ||

2959 
	`__kmp_¡r_m©ch
("ıuid-Ëaf-11", 13, 
v®ue
) ||

2960 
	`__kmp_¡r_m©ch
("ıuid†—f11", 12, 
v®ue
) ||

2961 
	`__kmp_¡r_m©ch
("ıuid_Ëaf11", 12, 
v®ue
) ||

2962 
	`__kmp_¡r_m©ch
("ıuid-Ëaf11", 12, 
v®ue
) ||

2963 
	`__kmp_¡r_m©ch
("ıuidËaà11", 12, 
v®ue
) ||

2964 
	`__kmp_¡r_m©ch
("ıuidËaf_11", 12, 
v®ue
) ||

2965 
	`__kmp_¡r_m©ch
("ıuidËaf-11", 12, 
v®ue
) ||

2966 
	`__kmp_¡r_m©ch
("ıuidËaf11", 11, 
v®ue
) ||

2967 
	`__kmp_¡r_m©ch
("ıuid 11", 8, 
v®ue
) ||

2968 
	`__kmp_¡r_m©ch
("ıuid_11", 8, 
v®ue
) ||

2969 
	`__kmp_¡r_m©ch
("ıuid-11", 8, 
v®ue
) ||

2970 
	`__kmp_¡r_m©ch
("ıuid11", 7, 
v®ue
) ||

2971 
	`__kmp_¡r_m©ch
("Ëaà11", 7, 
v®ue
) ||

2972 
	`__kmp_¡r_m©ch
("Ëaf_11", 7, 
v®ue
) ||

2973 
	`__kmp_¡r_m©ch
("Ëaf-11", 7, 
v®ue
) ||

2974 
	`__kmp_¡r_m©ch
("Ëaf11", 6, 
v®ue
)) {

2975 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_x2­icid
;

2976 } ià(
	`__kmp_¡r_m©ch
("­iøid", 7, 
v®ue
) ||

2977 
	`__kmp_¡r_m©ch
("­ic_id", 7, 
v®ue
) ||

2978 
	`__kmp_¡r_m©ch
("­ic-id", 7, 
v®ue
) ||

2979 
	`__kmp_¡r_m©ch
("­icid", 6, 
v®ue
) ||

2980 
	`__kmp_¡r_m©ch
("ıuid†—à4", 12, 
v®ue
) ||

2981 
	`__kmp_¡r_m©ch
("ıuid_Ëaf_4", 12, 
v®ue
) ||

2982 
	`__kmp_¡r_m©ch
("ıuid-Ëaf-4", 12, 
v®ue
) ||

2983 
	`__kmp_¡r_m©ch
("ıuid†—f4", 11, 
v®ue
) ||

2984 
	`__kmp_¡r_m©ch
("ıuid_Ëaf4", 11, 
v®ue
) ||

2985 
	`__kmp_¡r_m©ch
("ıuid-Ëaf4", 11, 
v®ue
) ||

2986 
	`__kmp_¡r_m©ch
("ıuidËaà4", 11, 
v®ue
) ||

2987 
	`__kmp_¡r_m©ch
("ıuidËaf_4", 11, 
v®ue
) ||

2988 
	`__kmp_¡r_m©ch
("ıuidËaf-4", 11, 
v®ue
) ||

2989 
	`__kmp_¡r_m©ch
("ıuidËaf4", 10, 
v®ue
) ||

2990 
	`__kmp_¡r_m©ch
("ıuid 4", 7, 
v®ue
) ||

2991 
	`__kmp_¡r_m©ch
("ıuid_4", 7, 
v®ue
) ||

2992 
	`__kmp_¡r_m©ch
("ıuid-4", 7, 
v®ue
) ||

2993 
	`__kmp_¡r_m©ch
("ıuid4", 6, 
v®ue
) ||

2994 
	`__kmp_¡r_m©ch
("Ëaà4", 6, 
v®ue
) ||

2995 
	`__kmp_¡r_m©ch
("Ëaf_4", 6, 
v®ue
) ||

2996 
	`__kmp_¡r_m©ch
("Ëaf-4", 6, 
v®ue
) ||

2997 
	`__kmp_¡r_m©ch
("Ëaf4", 5, 
v®ue
)) {

2998 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_­icid
;

3001 ià(
	`__kmp_¡r_m©ch
("/´oc/ıušfo", 2, 
v®ue
) ||

3002 
	`__kmp_¡r_m©ch
("ıušfo", 5, 
v®ue
)) {

3003 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_ıušfo
;

3005 #ià
KMP_GROUP_AFFINITY


3006 ià(
	`__kmp_¡r_m©ch
("group", 1, 
v®ue
)) {

3007 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_group
;

3010 ià(
	`__kmp_¡r_m©ch
("æ©", 1, 
v®ue
)) {

3011 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_æ©
;

3013 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3015 
	}
}

3017 
	$__kmp_¡g_´št_tİŞogy_m‘hod
(
kmp_¡r_buf_t
 *
bufãr
,

3018 cÚ¡ *
Çme
, *
d©a
) {

3019 cÚ¡ *
v®ue
 = 
NULL
;

3021 
__kmp_affš™y_tİ_m‘hod
) {

3022 
affš™y_tİ_m‘hod_deçuÉ
:

3023 
v®ue
 = "default";

3026 
affš™y_tİ_m‘hod_®l
:

3027 
v®ue
 = "all";

3030 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


3031 
affš™y_tİ_m‘hod_x2­icid
:

3032 
v®ue
 = "x2APIC id";

3035 
affš™y_tİ_m‘hod_­icid
:

3036 
v®ue
 = "APIC id";

3040 #ià
KMP_USE_HWLOC


3041 
affš™y_tİ_m‘hod_hwloc
:

3042 
v®ue
 = "hwloc";

3046 
affš™y_tİ_m‘hod_ıušfo
:

3047 
v®ue
 = "cpuinfo";

3050 #ià
KMP_GROUP_AFFINITY


3051 
affš™y_tİ_m‘hod_group
:

3052 
v®ue
 = "group";

3056 
affš™y_tİ_m‘hod_æ©
:

3057 
v®ue
 = "flat";

3061 ià(
v®ue
 !ğ
NULL
) {

3062 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
v®ue
);

3064 
	}
}

3070 
	$__kmp_¡g_·r£_´oc_bšd
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3071 *
d©a
) {

3072 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

3073 
rc
;

3075 
rc
 = 
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
);

3076 ià(
rc
) {

3081 
	`KMP_DEBUG_ASSERT
((
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 !ğ
NULL
) &&

3082 (
__kmp_Ã¡ed_´oc_bšd
.
u£d
 > 0));

3084 cÚ¡ *
buf
 = 
v®ue
;

3085 cÚ¡ *
Ãxt
;

3086 
num
;

3087 
	`SKIP_WS
(
buf
);

3088 ià((*
buf
 >= '0') && (*buf <= '9')) {

3089 
Ãxt
 = 
buf
;

3090 
	`SKIP_DIGITS
(
Ãxt
);

3091 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

3092 
	`KMP_ASSERT
(
num
 >= 0);

3093 
buf
 = 
Ãxt
;

3094 
	`SKIP_WS
(
buf
);

3096 
num
 = -1;

3099 
Ãxt
 = 
buf
;

3100 ià(
	`__kmp_m©ch_¡r
("di§bËd", 
buf
, &
Ãxt
)) {

3101 
buf
 = 
Ãxt
;

3102 
	`SKIP_WS
(
buf
);

3103 #ià
KMP_AFFINITY_SUPPORTED


3104 
__kmp_affš™y_ty³
 = 
affš™y_di§bËd
;

3106 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 1;

3107 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

3108 } ià((
num
 =ğ()
´oc_bšd_çl£
) ||

3109 
	`__kmp_m©ch_¡r
("çl£", 
buf
, &
Ãxt
)) {

3110 
buf
 = 
Ãxt
;

3111 
	`SKIP_WS
(
buf
);

3112 #ià
KMP_AFFINITY_SUPPORTED


3113 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

3115 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 1;

3116 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

3117 } ià((
num
 =ğ()
´oc_bšd_Œue
) ||

3118 
	`__kmp_m©ch_¡r
("Œue", 
buf
, &
Ãxt
)) {

3119 
buf
 = 
Ãxt
;

3120 
	`SKIP_WS
(
buf
);

3121 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 1;

3122 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_Œue
;

3125 cÚ¡ *
sÿn
;

3126 
ÃËm
 = 1;

3127 
sÿn
 = 
buf
; *scan != '\0'; scan++) {

3128 ià(*
sÿn
 == ',') {

3129 
ÃËm
++;

3134 ià(
__kmp_Ã¡ed_´oc_bšd
.
size
 < 
ÃËm
) {

3135 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =

3136 (
kmp_´oc_bšd_t
 *)
	`KMP_INTERNAL_REALLOC
(

3137 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
,

3138 (
kmp_´oc_bšd_t
è* 
ÃËm
);

3139 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =ğ
NULL
) {

3140 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

3142 
__kmp_Ã¡ed_´oc_bšd
.
size
 = 
ÃËm
;

3144 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 
ÃËm
;

3146 ià(
ÃËm
 > 1 && !
__kmp_dæt_max_aùive_Ëv–s_£t
)

3147 
__kmp_dæt_max_aùive_Ëv–s
 = 
KMP_MAX_ACTIVE_LEVELS_LIMIT
;

3150 
i
 = 0;

3152 
kmp_´oc_bšd_t
 
bšd
;

3154 ià((
num
 =ğ()
´oc_bšd_ma¡”
) ||

3155 
	`__kmp_m©ch_¡r
("ma¡”", 
buf
, &
Ãxt
)) {

3156 
buf
 = 
Ãxt
;

3157 
	`SKIP_WS
(
buf
);

3158 
bšd
 = 
´oc_bšd_ma¡”
;

3159 } ià((
num
 =ğ()
´oc_bšd_şo£
) ||

3160 
	`__kmp_m©ch_¡r
("şo£", 
buf
, &
Ãxt
)) {

3161 
buf
 = 
Ãxt
;

3162 
	`SKIP_WS
(
buf
);

3163 
bšd
 = 
´oc_bšd_şo£
;

3164 } ià((
num
 =ğ()
´oc_bšd_¥»ad
) ||

3165 
	`__kmp_m©ch_¡r
("¥»ad", 
buf
, &
Ãxt
)) {

3166 
buf
 = 
Ãxt
;

3167 
	`SKIP_WS
(
buf
);

3168 
bšd
 = 
´oc_bšd_¥»ad
;

3170 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3171 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

3172 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 1;

3176 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[
i
++] = 
bšd
;

3177 ià(
i
 >ğ
ÃËm
) {

3180 
	`KMP_DEBUG_ASSERT
(*
buf
 == ',');

3181 
buf
++;

3182 
	`SKIP_WS
(
buf
);

3185 ià((*
buf
 >= '0') && (*buf <= '9')) {

3186 
Ãxt
 = 
buf
;

3187 
	`SKIP_DIGITS
(
Ãxt
);

3188 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

3189 
	`KMP_ASSERT
(
num
 >= 0);

3190 
buf
 = 
Ãxt
;

3191 
	`SKIP_WS
(
buf
);

3193 
num
 = -1;

3196 
	`SKIP_WS
(
buf
);

3198 ià(*
buf
 != '\0') {

3199 
	`KMP_WARNING
(
P¬£ExŒaCh¬sW¬n
, 
Çme
, 
buf
);

3201 
	}
}

3203 
	$__kmp_¡g_´št_´oc_bšd
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

3204 *
d©a
) {

3205 
ÃËm
 = 
__kmp_Ã¡ed_´oc_bšd
.
u£d
;

3206 ià(
__kmp_’v_fÜm©
) {

3207 
KMP_STR_BUF_PRINT_NAME
;

3209 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

3211 ià(
ÃËm
 == 0) {

3212 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

3214 
i
;

3215 
	`__kmp_¡r_buf_´št
(
bufãr
, "='", 
Çme
);

3216 
i
 = 0; i < 
ÃËm
; i++) {

3217 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[
i
]) {

3218 
´oc_bšd_çl£
:

3219 
	`__kmp_¡r_buf_´št
(
bufãr
, "false");

3222 
´oc_bšd_Œue
:

3223 
	`__kmp_¡r_buf_´št
(
bufãr
, "true");

3226 
´oc_bšd_ma¡”
:

3227 
	`__kmp_¡r_buf_´št
(
bufãr
, "master");

3230 
´oc_bšd_şo£
:

3231 
	`__kmp_¡r_buf_´št
(
bufãr
, "close");

3234 
´oc_bšd_¥»ad
:

3235 
	`__kmp_¡r_buf_´št
(
bufãr
, "spread");

3238 
´oc_bšd_š‹l
:

3239 
	`__kmp_¡r_buf_´št
(
bufãr
, "intel");

3242 
´oc_bšd_deçuÉ
:

3243 
	`__kmp_¡r_buf_´št
(
bufãr
, "default");

3246 ià(
i
 < 
ÃËm
 - 1) {

3247 
	`__kmp_¡r_buf_´št
(
bufãr
, ",");

3250 
	`__kmp_¡r_buf_´št
(
bufãr
, "'\n");

3252 
	}
}

3254 
	$__kmp_¡g_·r£_di¥Ïy_affš™y
(cÚ¡ *
Çme
,

3255 cÚ¡ *
v®ue
, *
d©a
) {

3256 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_di¥Ïy_affš™y
);

3257 
	}
}

3258 
	$__kmp_¡g_´št_di¥Ïy_affš™y
(
kmp_¡r_buf_t
 *
bufãr
,

3259 cÚ¡ *
Çme
, *
d©a
) {

3260 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_di¥Ïy_affš™y
);

3261 
	}
}

3262 
	$__kmp_¡g_·r£_affš™y_fÜm©
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3263 *
d©a
) {

3264 
size_t
 
Ëngth
 = 
	`KMP_STRLEN
(
v®ue
);

3265 
	`__kmp_¡ºıy_Œunÿ‹
(
__kmp_affš™y_fÜm©
, 
KMP_AFFINITY_FORMAT_SIZE
, 
v®ue
,

3266 
Ëngth
);

3267 
	}
}

3268 
	$__kmp_¡g_´št_affš™y_fÜm©
(
kmp_¡r_buf_t
 *
bufãr
,

3269 cÚ¡ *
Çme
, *
d©a
) {

3270 ià(
__kmp_’v_fÜm©
) {

3271 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

3273 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

3275 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", 
__kmp_affš™y_fÜm©
);

3276 
	}
}

3278 
	$__kmp_¡g_·r£_®loÿtÜ
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3279 *
d©a
) {

3292 cÚ¡ *
buf
 = 
v®ue
;

3293 cÚ¡ *
Ãxt
;

3294 
num
;

3295 
	`SKIP_WS
(
buf
);

3296 ià((*
buf
 > '0') && (*buf < '9')) {

3297 
Ãxt
 = 
buf
;

3298 
	`SKIP_DIGITS
(
Ãxt
);

3299 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

3300 
	`KMP_ASSERT
(
num
 > 0);

3301 
num
) {

3303 ià(
__kmp_memkšd_avaabË
) {

3304 
__kmp_def_®loÿtÜ
 = 
omp_high_bw_mem_®loc
;

3306 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

3307 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_high_bw_mem_alloc"),

3308 
__kmp_msg_nuÎ
);

3309 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3313 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3316 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

3317 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_large_cap_mem_alloc"),

3318 
__kmp_msg_nuÎ
);

3319 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3322 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_const_mem_alloc"),

3323 
__kmp_msg_nuÎ
);

3324 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3327 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

3328 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_low_lat_mem_alloc"),

3329 
__kmp_msg_nuÎ
);

3330 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3333 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_cgroup_mem_alloc"),

3334 
__kmp_msg_nuÎ
);

3335 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3338 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_pteam_mem_alloc"),

3339 
__kmp_msg_nuÎ
);

3340 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3343 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_thread_mem_alloc"),

3344 
__kmp_msg_nuÎ
);

3345 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3350 
Ãxt
 = 
buf
;

3351 ià(
	`__kmp_m©ch_¡r
("omp_high_bw_mem_®loc", 
buf
, &
Ãxt
)) {

3352 ià(
__kmp_memkšd_avaabË
) {

3353 
__kmp_def_®loÿtÜ
 = 
omp_high_bw_mem_®loc
;

3355 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

3356 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_high_bw_mem_alloc"),

3357 
__kmp_msg_nuÎ
);

3358 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3360 } ià(
	`__kmp_m©ch_¡r
("omp_deçuÉ_mem_®loc", 
buf
, &
Ãxt
)) {

3361 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3362 } ià(
	`__kmp_m©ch_¡r
("omp_Ïrge_ÿp_mem_®loc", 
buf
, &
Ãxt
)) {

3363 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

3364 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_large_cap_mem_alloc"),

3365 
__kmp_msg_nuÎ
);

3366 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3367 } ià(
	`__kmp_m©ch_¡r
("omp_cÚ¡_mem_®loc", 
buf
, &
Ãxt
)) {

3368 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_const_mem_alloc"),

3369 
__kmp_msg_nuÎ
);

3370 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3371 } ià(
	`__kmp_m©ch_¡r
("omp_low_Ït_mem_®loc", 
buf
, &
Ãxt
)) {

3372 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_low_lat_mem_alloc"),

3373 
__kmp_msg_nuÎ
);

3374 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3375 } ià(
	`__kmp_m©ch_¡r
("omp_cgroup_mem_®loc", 
buf
, &
Ãxt
)) {

3376 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_cgroup_mem_alloc"),

3377 
__kmp_msg_nuÎ
);

3378 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3379 } ià(
	`__kmp_m©ch_¡r
("omp_±—m_mem_®loc", 
buf
, &
Ãxt
)) {

3380 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_pteam_mem_alloc"),

3381 
__kmp_msg_nuÎ
);

3382 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3383 } ià(
	`__kmp_m©ch_¡r
("omp_th»ad_mem_®loc", 
buf
, &
Ãxt
)) {

3384 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
OmpNoAÎoÿtÜ
, "omp_thread_mem_alloc"),

3385 
__kmp_msg_nuÎ
);

3386 
__kmp_def_®loÿtÜ
 = 
omp_deçuÉ_mem_®loc
;

3388 
buf
 = 
Ãxt
;

3389 
	`SKIP_WS
(
buf
);

3390 ià(*
buf
 != '\0') {

3391 
	`KMP_WARNING
(
P¬£ExŒaCh¬sW¬n
, 
Çme
, 
buf
);

3393 
	}
}

3395 
	$__kmp_¡g_´št_®loÿtÜ
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

3396 *
d©a
) {

3397 ià(
__kmp_def_®loÿtÜ
 =ğ
omp_deçuÉ_mem_®loc
) {

3398 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_default_mem_alloc");

3399 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_high_bw_mem_®loc
) {

3400 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_high_bw_mem_alloc");

3401 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_Ïrge_ÿp_mem_®loc
) {

3402 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_large_cap_mem_alloc");

3403 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_cÚ¡_mem_®loc
) {

3404 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_const_mem_alloc");

3405 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_low_Ït_mem_®loc
) {

3406 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_low_lat_mem_alloc");

3407 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_cgroup_mem_®loc
) {

3408 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_cgroup_mem_alloc");

3409 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_±—m_mem_®loc
) {

3410 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_pteam_mem_alloc");

3411 } ià(
__kmp_def_®loÿtÜ
 =ğ
omp_th»ad_mem_®loc
) {

3412 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "omp_thread_mem_alloc");

3414 
	}
}

3419 
	$__kmp_¡g_·r£_omp_dyÇmic
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3420 *
d©a
) {

3421 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &(
__kmp_glob®
.
g
.
g_dyÇmic
));

3422 
	}
}

3424 
	$__kmp_¡g_´št_omp_dyÇmic
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

3425 *
d©a
) {

3426 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_glob®
.
g
.
g_dyÇmic
);

3427 
	}
}

3429 
	$__kmp_¡g_·r£_kmp_dyÇmic_mode
(cÚ¡ *
Çme
,

3430 cÚ¡ *
v®ue
, *
d©a
) {

3431 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

3432 
	`KMP_WARNING
(
EnvP¬®ËlW¬n
, 
Çme
);

3433 
	`__kmp_’v_toPršt
(
Çme
, 0);

3436 #ifdeà
USE_LOAD_BALANCE


3437 ià(
	`__kmp_¡r_m©ch
("lßd b®ªû", 2, 
v®ue
) ||

3438 
	`__kmp_¡r_m©ch
("lßd_b®ªû", 2, 
v®ue
) ||

3439 
	`__kmp_¡r_m©ch
("lßd-b®ªû", 2, 
v®ue
) ||

3440 
	`__kmp_¡r_m©ch
("lßdb®ªû", 2, 
v®ue
) ||

3441 
	`__kmp_¡r_m©ch
("b®ªû", 1, 
v®ue
)) {

3442 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_lßd_b®ªû
;

3445 ià(
	`__kmp_¡r_m©ch
("th»ad†im™", 1, 
v®ue
) ||

3446 
	`__kmp_¡r_m©ch
("th»ad_lim™", 1, 
v®ue
) ||

3447 
	`__kmp_¡r_m©ch
("th»ad-lim™", 1, 
v®ue
) ||

3448 
	`__kmp_¡r_m©ch
("th»adlim™", 1, 
v®ue
) ||

3449 
	`__kmp_¡r_m©ch
("lim™", 2, 
v®ue
)) {

3450 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_th»ad_lim™
;

3451 } ià(
	`__kmp_¡r_m©ch
("¿ndom", 1, 
v®ue
)) {

3452 
__kmp_glob®
.
g
.
g_dyÇmic_mode
 = 
dyÇmic_¿ndom
;

3454 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3456 
	}
}

3458 
	$__kmp_¡g_´št_kmp_dyÇmic_mode
(
kmp_¡r_buf_t
 *
bufãr
,

3459 cÚ¡ *
Çme
, *
d©a
) {

3460 #ià
KMP_DEBUG


3461 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_deçuÉ
) {

3462 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s: % \n", 
Çme
, 
	`KMP_I18N_STR
(
NÙDefšed
));

3464 #ifdeà
USE_LOAD_BALANCE


3465 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_lßd_b®ªû
) {

3466 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "load balance");

3469 ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_th»ad_lim™
) {

3470 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "thread†imit");

3471 } ià(
__kmp_glob®
.
g
.
g_dyÇmic_mode
 =ğ
dyÇmic_¿ndom
) {

3472 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "random");

3474 
	`KMP_ASSERT
(0);

3477 
	}
}

3479 #ifdeà
USE_LOAD_BALANCE


3484 
	$__kmp_¡g_·r£_ld_b®ªû_š‹rv®
(cÚ¡ *
Çme
,

3485 cÚ¡ *
v®ue
, *
d©a
) {

3486 
š‹rv®
 = 
	`__kmp_cÚv”t_to_doubË
(
v®ue
);

3487 ià(
š‹rv®
 >= 0) {

3488 
__kmp_lßd_b®ªû_š‹rv®
 = 
š‹rv®
;

3490 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3492 
	}
}

3494 
	$__kmp_¡g_´št_ld_b®ªû_š‹rv®
(
kmp_¡r_buf_t
 *
bufãr
,

3495 cÚ¡ *
Çme
, *
d©a
) {

3496 #ià
KMP_DEBUG


3497 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%8.6f\n", 
Çme
,

3498 
__kmp_lßd_b®ªû_š‹rv®
);

3500 
	}
}

3507 
	$__kmp_¡g_·r£_š™_©_fÜk
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3508 *
d©a
) {

3509 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_Ãed_»gi¡”_©fÜk
);

3510 ià(
__kmp_Ãed_»gi¡”_©fÜk
) {

3511 
__kmp_Ãed_»gi¡”_©fÜk_¥ecif›d
 = 
TRUE
;

3513 
	}
}

3515 
	$__kmp_¡g_´št_š™_©_fÜk
(
kmp_¡r_buf_t
 *
bufãr
,

3516 cÚ¡ *
Çme
, *
d©a
) {

3517 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_Ãed_»gi¡”_©fÜk_¥ecif›d
);

3518 
	}
}

3523 
	$__kmp_¡g_·r£_scheduË
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3524 *
d©a
) {

3526 ià(
v®ue
 !ğ
NULL
) {

3527 
size_t
 
Ëngth
 = 
	`KMP_STRLEN
(
v®ue
);

3528 ià(
Ëngth
 > 
INT_MAX
) {

3529 
	`KMP_WARNING
(
LÚgV®ue
, 
Çme
);

3531 cÚ¡ *
£micŞÚ
;

3532 ià(
v®ue
[
Ëngth
 - 1] == '"' || value[length - 1] == '\'')

3533 
	`KMP_WARNING
(
Unb®ªûdQuÙes
, 
Çme
);

3535 
£Áš–
;

3537 
£micŞÚ
 = 
	`¡rchr
(
v®ue
, ';');

3538 ià(*
v®ue
 && 
£micŞÚ
 != value) {

3539 cÚ¡ *
comma
 = 
	`¡rchr
(
v®ue
, ',');

3541 ià(
comma
) {

3542 ++
comma
;

3543 
£Áš–
 = ',';

3545 
£Áš–
 = ';';

3546 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("¡©ic", 
v®ue
, 
£Áš–
)) {

3547 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("g»edy", 
comma
, ';')) {

3548 
__kmp_¡©ic
 = 
kmp_sch_¡©ic_g»edy
;

3550 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("b®ªûd", 
comma
,

3552 
__kmp_¡©ic
 = 
kmp_sch_¡©ic_b®ªûd
;

3555 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("guided", 
v®ue
,

3556 
£Áš–
)) {

3557 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("™”©ive", 
comma
, ';')) {

3558 
__kmp_guided
 = 
kmp_sch_guided_™”©ive_chunked
;

3560 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("ª®ytiÿl", 
comma
,

3563 
__kmp_guided
 = 
kmp_sch_guided_ª®ytiÿl_chunked
;

3567 
	`KMP_WARNING
(
Inv®idCÏu£
, 
Çme
, 
v®ue
);

3569 
	`KMP_WARNING
(
Em±yCÏu£
, 
Çme
);

3570 } (
v®ue
 = 
£micŞÚ
 ? semicŞÚ + 1 : 
NULL
));

3574 
	}
}

3576 
	$__kmp_¡g_´št_scheduË
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

3577 *
d©a
) {

3578 ià(
__kmp_’v_fÜm©
) {

3579 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

3581 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

3583 ià(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_g»edy
) {

3584 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "static,greedy");

3585 } ià(
__kmp_¡©ic
 =ğ
kmp_sch_¡©ic_b®ªûd
) {

3586 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s", "static,balanced");

3588 ià(
__kmp_guided
 =ğ
kmp_sch_guided_™”©ive_chunked
) {

3589 
	`__kmp_¡r_buf_´št
(
bufãr
, ";%s'\n", "guided,iterative");

3590 } ià(
__kmp_guided
 =ğ
kmp_sch_guided_ª®ytiÿl_chunked
) {

3591 
	`__kmp_¡r_buf_´št
(
bufãr
, ";%s'\n", "guided,analytical");

3593 
	}
}

3598 
šlše
 
	$__kmp_omp_scheduË_»¡Üe
() {

3599 #ià
KMP_USE_HIER_SCHED


3600 
__kmp_h›r_scheds
.
	`d—Îoÿ‹
();

3602 
__kmp_chunk
 = 0;

3603 
__kmp_sched
 = 
kmp_sch_deçuÉ
;

3604 
	}
}

3610 cÚ¡ *
	$__kmp_·r£_sšgË_omp_scheduË
(cÚ¡ *
Çme
,

3611 cÚ¡ *
v®ue
,

3612 
boŞ
 
·r£_h›r
 = 
çl£
) {

3614 cÚ¡ *
±r
 = 
v®ue
;

3615 cÚ¡ *
d–im
;

3616 
chunk
 = 0;

3617 
sched_ty³
 
sched
 = 
kmp_sch_deçuÉ
;

3618 ià(*
±r
 == '\0')

3619  
NULL
;

3620 
d–im
 = 
±r
;

3621 *
d–im
 != ',' && *delim != ':' && *delim != '\0')

3622 
d–im
++;

3623 #ià
KMP_USE_HIER_SCHED


3624 
kmp_h›r_Ïy”_e
 
Ïy”
 = kmp_h›r_Ïy”_e::
LAYER_THREAD
;

3625 ià(
·r£_h›r
) {

3626 ià(*
d–im
 == ',') {

3627 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("L1", 
±r
, ',')) {

3628 
Ïy”
 = 
kmp_h›r_Ïy”_e
::
LAYER_L1
;

3629 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("L2", 
±r
, ',')) {

3630 
Ïy”
 = 
kmp_h›r_Ïy”_e
::
LAYER_L2
;

3631 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("L3", 
±r
, ',')) {

3632 
Ïy”
 = 
kmp_h›r_Ïy”_e
::
LAYER_L3
;

3633 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("NUMA", 
±r
, ',')) {

3634 
Ïy”
 = 
kmp_h›r_Ïy”_e
::
LAYER_NUMA
;

3637 ià(
Ïy”
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_THREAD
 && *
d–im
 != ',') {

3639 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3640 
	`__kmp_omp_scheduË_»¡Üe
();

3641  
NULL
;

3642 } ià(
Ïy”
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_THREAD
) {

3643 
±r
 = ++
d–im
;

3644 *
d–im
 != ',' && *delim != ':' && *delim != '\0')

3645 
d–im
++;

3650 
sched_ty³
 
sched_modif›r
 = (sched_type)0;

3651 ià(*
d–im
 == ':') {

3652 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("mÚÙÚic", 
±r
, *
d–im
)) {

3653 
sched_modif›r
 = 
sched_ty³
::
kmp_sch_modif›r_mÚÙÚic
;

3654 
±r
 = ++
d–im
;

3655 *
d–im
 != ',' && *delim != ':' && *delim != '\0')

3656 
d–im
++;

3657 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("nÚmÚÙÚic", 
±r
, *
d–im
)) {

3658 
sched_modif›r
 = 
sched_ty³
::
kmp_sch_modif›r_nÚmÚÙÚic
;

3659 
±r
 = ++
d–im
;

3660 *
d–im
 != ',' && *delim != ':' && *delim != '\0')

3661 
d–im
++;

3662 } ià(!
·r£_h›r
) {

3664 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3665 
	`__kmp_omp_scheduË_»¡Üe
();

3666  
NULL
;

3670 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("dyÇmic", 
±r
, *
d–im
))

3671 
sched
 = 
kmp_sch_dyÇmic_chunked
;

3672 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("guided", 
±r
, *
d–im
))

3673 
sched
 = 
kmp_sch_guided_chunked
;

3675 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("auto", 
±r
, *
d–im
))

3676 
sched
 = 
kmp_sch_auto
;

3677 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("Œ­ezoid®", 
±r
, *
d–im
))

3678 
sched
 = 
kmp_sch_Œ­ezoid®
;

3679 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("¡©ic", 
±r
, *
d–im
))

3680 
sched
 = 
kmp_sch_¡©ic
;

3681 #ià
KMP_STATIC_STEAL_ENABLED


3682 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("¡©ic_¡—l", 
±r
, *
d–im
))

3683 
sched
 = 
kmp_sch_¡©ic_¡—l
;

3687 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3688 
	`__kmp_omp_scheduË_»¡Üe
();

3689  
NULL
;

3693 ià(*
d–im
 == ',') {

3694 
±r
 = 
d–im
 + 1;

3695 
	`SKIP_WS
(
±r
);

3696 ià(!
	`isdig™
(*
±r
)) {

3698 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3699 
	`__kmp_omp_scheduË_»¡Üe
();

3700  
NULL
;

3702 
	`SKIP_DIGITS
(
±r
);

3704 ià(
sched
 =ğ
kmp_sch_auto
) {

3705 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
IgnÜeChunk
, 
Çme
, 
d–im
),

3706 
__kmp_msg_nuÎ
);

3708 ià(
sched
 =ğ
kmp_sch_¡©ic
)

3709 
sched
 = 
kmp_sch_¡©ic_chunked
;

3710 
chunk
 = 
	`__kmp_¡r_to_št
(
d–im
 + 1, *
±r
);

3711 ià(
chunk
 < 1) {

3712 
chunk
 = 
KMP_DEFAULT_CHUNK
;

3713 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
Inv®idChunk
, 
Çme
, 
d–im
),

3714 
__kmp_msg_nuÎ
);

3715 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
Çme
, 
__kmp_chunk
);

3724 } ià(
chunk
 > 
KMP_MAX_CHUNK
) {

3725 
chunk
 = 
KMP_MAX_CHUNK
;

3726 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
L¬geChunk
, 
Çme
, 
d–im
),

3727 
__kmp_msg_nuÎ
);

3728 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
Çme
, 
chunk
);

3732 
±r
 = 
d–im
;

3735 
	`SCHEDULE_SET_MODIFIERS
(
sched
, 
sched_modif›r
);

3737 #ià
KMP_USE_HIER_SCHED


3738 ià(
Ïy”
 !ğ
kmp_h›r_Ïy”_e
::
LAYER_THREAD
) {

3739 
__kmp_h›r_scheds
.
	`­³nd
(
sched
, 
chunk
, 
Ïy”
);

3743 
__kmp_chunk
 = 
chunk
;

3744 
__kmp_sched
 = 
sched
;

3746  
±r
;

3747 
	}
}

3749 
	$__kmp_¡g_·r£_omp_scheduË
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3750 *
d©a
) {

3751 
size_t
 
Ëngth
;

3752 cÚ¡ *
±r
 = 
v®ue
;

3753 
	`SKIP_WS
(
±r
);

3754 ià(
v®ue
) {

3755 
Ëngth
 = 
	`KMP_STRLEN
(
v®ue
);

3756 ià(
Ëngth
) {

3757 ià(
v®ue
[
Ëngth
 - 1] == '"' || value[length - 1] == '\'')

3758 
	`KMP_WARNING
(
Unb®ªûdQuÙes
, 
Çme
);

3760 #ià
KMP_USE_HIER_SCHED


3761 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("EXPERIMENTAL", 
±r
, ' ')) {

3762 
	`SKIP_TOKEN
(
±r
);

3763 
	`SKIP_WS
(
±r
);

3764 (
±r
 = 
	`__kmp_·r£_sšgË_omp_scheduË
(
Çme
,…Œ, 
Œue
))) {

3765 *
±r
 == ' ' || *ptr == '\t' || *ptr == ':')

3766 
±r
++;

3767 ià(*
±r
 == '\0')

3772 
	`__kmp_·r£_sšgË_omp_scheduË
(
Çme
, 
±r
);

3774 
	`KMP_WARNING
(
Em±ySŒšg
, 
Çme
);

3776 #ià
KMP_USE_HIER_SCHED


3777 
__kmp_h›r_scheds
.
	`sÜt
();

3779 
	`K_DIAG
(1, ("__kmp_¡©iø=ğ%d\n", 
__kmp_¡©ic
))

3780 
	`K_DIAG
(1, ("__kmp_guided =ğ%d\n", 
__kmp_guided
))

3781 
	`K_DIAG
(1, ("__kmp_sched =ğ%d\n", 
__kmp_sched
))

3782 
	`K_DIAG
(1, ("__kmp_chunk =ğ%d\n", 
__kmp_chunk
))

3783 
	}
}

3785 
	$__kmp_¡g_´št_omp_scheduË
(
kmp_¡r_buf_t
 *
bufãr
,

3786 cÚ¡ *
Çme
, *
d©a
) {

3787 ià(
__kmp_’v_fÜm©
) {

3788 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

3790 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

3792 
sched_ty³
 
sched
 = 
	`SCHEDULE_WITHOUT_MODIFIERS
(
__kmp_sched
);

3793 ià(
	`SCHEDULE_HAS_MONOTONIC
(
__kmp_sched
)) {

3794 
	`__kmp_¡r_buf_´št
(
bufãr
, "monotonic:");

3795 } ià(
	`SCHEDULE_HAS_NONMONOTONIC
(
__kmp_sched
)) {

3796 
	`__kmp_¡r_buf_´št
(
bufãr
, "nonmonotonic:");

3798 ià(
__kmp_chunk
) {

3799 
sched
) {

3800 
kmp_sch_dyÇmic_chunked
:

3801 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "dyÇmic", 
__kmp_chunk
);

3803 
kmp_sch_guided_™”©ive_chunked
:

3804 
kmp_sch_guided_ª®ytiÿl_chunked
:

3805 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "guided", 
__kmp_chunk
);

3807 
kmp_sch_Œ­ezoid®
:

3808 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "Œ­ezoid®", 
__kmp_chunk
);

3810 
kmp_sch_¡©ic
:

3811 
kmp_sch_¡©ic_chunked
:

3812 
kmp_sch_¡©ic_b®ªûd
:

3813 
kmp_sch_¡©ic_g»edy
:

3814 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "¡©ic", 
__kmp_chunk
);

3816 
kmp_sch_¡©ic_¡—l
:

3817 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "¡©ic_¡—l", 
__kmp_chunk
);

3819 
kmp_sch_auto
:

3820 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s,%d'\n", "auto", 
__kmp_chunk
);

3824 
sched
) {

3825 
kmp_sch_dyÇmic_chunked
:

3826 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "dynamic");

3828 
kmp_sch_guided_™”©ive_chunked
:

3829 
kmp_sch_guided_ª®ytiÿl_chunked
:

3830 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "guided");

3832 
kmp_sch_Œ­ezoid®
:

3833 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "trapezoidal");

3835 
kmp_sch_¡©ic
:

3836 
kmp_sch_¡©ic_chunked
:

3837 
kmp_sch_¡©ic_b®ªûd
:

3838 
kmp_sch_¡©ic_g»edy
:

3839 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "static");

3841 
kmp_sch_¡©ic_¡—l
:

3842 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "static_steal");

3844 
kmp_sch_auto
:

3845 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", "auto");

3849 
	}
}

3851 #ià
KMP_USE_HIER_SCHED


3854 
	$__kmp_¡g_·r£_kmp_hªd_th»ad
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3855 *
d©a
) {

3856 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &(
__kmp_di¥©ch_hªd_th»adšg
));

3857 
	}
}

3859 
	$__kmp_¡g_´št_kmp_hªd_th»ad
(
kmp_¡r_buf_t
 *
bufãr
,

3860 cÚ¡ *
Çme
, *
d©a
) {

3861 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_di¥©ch_hªd_th»adšg
);

3862 
	}
}

3868 
	$__kmp_¡g_·r£_©omic_mode
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3869 *
d©a
) {

3872 
mode
 = 0;

3873 
max
 = 1;

3874 #ifdeà
KMP_GOMP_COMPAT


3875 
max
 = 2;

3877 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
max
, &
mode
);

3881 ià(
mode
 > 0) {

3882 
__kmp_©omic_mode
 = 
mode
;

3884 
	}
}

3886 
	$__kmp_¡g_´št_©omic_mode
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

3887 *
d©a
) {

3888 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_©omic_mode
);

3889 
	}
}

3894 
	$__kmp_¡g_·r£_cÚsi¡’cy_check
(cÚ¡ *
Çme
,

3895 cÚ¡ *
v®ue
, *
d©a
) {

3896 ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("®l", 
v®ue
, 0)) {

3902 
__kmp_’v_cÚsi¡’cy_check
 = 
TRUE
;

3903 } ià(!
	`__kmp_¡rÿ£cmp_w™h_£Áš–
("nÚe", 
v®ue
, 0)) {

3904 
__kmp_’v_cÚsi¡’cy_check
 = 
FALSE
;

3906 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

3908 
	}
}

3910 
	$__kmp_¡g_´št_cÚsi¡’cy_check
(
kmp_¡r_buf_t
 *
bufãr
,

3911 cÚ¡ *
Çme
, *
d©a
) {

3912 #ià
KMP_DEBUG


3913 cÚ¡ *
v®ue
 = 
NULL
;

3915 ià(
__kmp_’v_cÚsi¡’cy_check
) {

3916 
v®ue
 = "all";

3918 
v®ue
 = "none";

3921 ià(
v®ue
 !ğ
NULL
) {

3922 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
v®ue
);

3925 
	}
}

3927 #ià
USE_ITT_BUILD


3931 #ià
USE_ITT_NOTIFY


3933 
	$__kmp_¡g_·r£_™t_´•¬e_d–ay
(cÚ¡ *
Çme
,

3934 cÚ¡ *
v®ue
, *
d©a
) {

3937 
d–ay
 = 0;

3938 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
INT_MAX
, &
d–ay
);

3939 
__kmp_™t_´•¬e_d–ay
 = 
d–ay
;

3940 
	}
}

3942 
	$__kmp_¡g_´št_™t_´•¬e_d–ay
(
kmp_¡r_buf_t
 *
bufãr
,

3943 cÚ¡ *
Çme
, *
d©a
) {

3944 
	`__kmp_¡g_´št_ušt64
(
bufãr
, 
Çme
, 
__kmp_™t_´•¬e_d–ay
);

3946 
	}
}

3954 
	$__kmp_¡g_·r£_m®loc_poŞ_šü
(cÚ¡ *
Çme
,

3955 cÚ¡ *
v®ue
, *
d©a
) {

3956 
	`__kmp_¡g_·r£_size
(
Çme
, 
v®ue
, 
KMP_MIN_MALLOC_POOL_INCR
,

3957 
KMP_MAX_MALLOC_POOL_INCR
, 
NULL
, &
__kmp_m®loc_poŞ_šü
,

3959 
	}
}

3961 
	$__kmp_¡g_´št_m®loc_poŞ_šü
(
kmp_¡r_buf_t
 *
bufãr
,

3962 cÚ¡ *
Çme
, *
d©a
) {

3963 
	`__kmp_¡g_´št_size
(
bufãr
, 
Çme
, 
__kmp_m®loc_poŞ_šü
);

3965 
	}
}

3967 #ifdeà
KMP_DEBUG


3972 
	$__kmp_¡g_·r£_·r_¿nge_’v
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3973 *
d©a
) {

3974 
	`__kmp_¡g_·r£_·r_¿nge
(
Çme
, 
v®ue
, &
__kmp_·r_¿nge
,

3975 
__kmp_·r_¿nge_routše
, 
__kmp_·r_¿nge_f’ame
,

3976 &
__kmp_·r_¿nge_lb
, &
__kmp_·r_¿nge_ub
);

3977 
	}
}

3979 
	$__kmp_¡g_´št_·r_¿nge_’v
(
kmp_¡r_buf_t
 *
bufãr
,

3980 cÚ¡ *
Çme
, *
d©a
) {

3981 ià(
__kmp_·r_¿nge
 != 0) {

3982 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
·r_¿nge_to_´št
);

3984 
	}
}

3991 
	$__kmp_¡g_·r£_gtid_mode
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

3992 *
d©a
) {

3999 
mode
 = 0;

4000 
max
 = 2;

4001 #ifdeà
KMP_TDATA_GTID


4002 
max
 = 3;

4004 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
max
, &
mode
);

4007 ià(
mode
 == 0) {

4008 
__kmp_adju¡_gtid_mode
 = 
TRUE
;

4010 
__kmp_gtid_mode
 = 
mode
;

4011 
__kmp_adju¡_gtid_mode
 = 
FALSE
;

4013 
	}
}

4015 
	$__kmp_¡g_´št_gtid_mode
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

4016 *
d©a
) {

4017 ià(
__kmp_adju¡_gtid_mode
) {

4018 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 0);

4020 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_gtid_mode
);

4022 
	}
}

4027 
	$__kmp_¡g_·r£_lock_block
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4028 *
d©a
) {

4029 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 
KMP_INT_MAX
, &
__kmp_num_locks_š_block
);

4030 
	}
}

4032 
	$__kmp_¡g_´št_lock_block
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

4033 *
d©a
) {

4034 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_num_locks_š_block
);

4035 
	}
}

4040 #ià
KMP_USE_DYNAMIC_LOCK


4041 
	#KMP_STORE_LOCK_SEQ
(
a
è(
__kmp_u£r_lock_£q
 = 
lock£q_
##a)

	)

4043 
	#KMP_STORE_LOCK_SEQ
(
a
)

	)

4046 
	$__kmp_¡g_·r£_lock_kšd
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4047 *
d©a
) {

4048 ià(
__kmp_š™_u£r_locks
) {

4049 
	`KMP_WARNING
(
EnvLockW¬n
, 
Çme
);

4053 ià(
	`__kmp_¡r_m©ch
("s", 2, 
v®ue
) ||

4054 
	`__kmp_¡r_m©ch
("‹¡‡nd s‘", 2, 
v®ue
) ||

4055 
	`__kmp_¡r_m©ch
("‹¡_ªd_£t", 2, 
v®ue
) ||

4056 
	`__kmp_¡r_m©ch
("‹¡-ªd-£t", 2, 
v®ue
) ||

4057 
	`__kmp_¡r_m©ch
("‹¡‡nd£t", 2, 
v®ue
) ||

4058 
	`__kmp_¡r_m©ch
("‹¡_ªd£t", 2, 
v®ue
) ||

4059 
	`__kmp_¡r_m©ch
("‹¡-ªd£t", 2, 
v®ue
) ||

4060 
	`__kmp_¡r_m©ch
("‹¡ªd s‘", 2, 
v®ue
) ||

4061 
	`__kmp_¡r_m©ch
("‹¡ªd_£t", 2, 
v®ue
) ||

4062 
	`__kmp_¡r_m©ch
("‹¡ªd-£t", 2, 
v®ue
) ||

4063 
	`__kmp_¡r_m©ch
("‹¡ªd£t", 2, 
v®ue
)) {

4064 
__kmp_u£r_lock_kšd
 = 
lk_s
;

4065 
	`KMP_STORE_LOCK_SEQ
(
s
);

4067 #ià
KMP_USE_FUTEX


4068 ià(
	`__kmp_¡r_m©ch
("fu‹x", 1, 
v®ue
)) {

4069 ià(
	`__kmp_fu‹x_d‘”mše_ÿ·bË
()) {

4070 
__kmp_u£r_lock_kšd
 = 
lk_fu‹x
;

4071 
	`KMP_STORE_LOCK_SEQ
(
fu‹x
);

4073 
	`KMP_WARNING
(
Fu‹xNÙSuµÜ‹d
, 
Çme
, 
v®ue
);

4077 ià(
	`__kmp_¡r_m©ch
("tick‘", 2, 
v®ue
)) {

4078 
__kmp_u£r_lock_kšd
 = 
lk_tick‘
;

4079 
	`KMP_STORE_LOCK_SEQ
(
tick‘
);

4080 } ià(
	`__kmp_¡r_m©ch
("queušg", 1, 
v®ue
) ||

4081 
	`__kmp_¡r_m©ch
("queue", 1, 
v®ue
)) {

4082 
__kmp_u£r_lock_kšd
 = 
lk_queušg
;

4083 
	`KMP_STORE_LOCK_SEQ
(
queušg
);

4084 } ià(
	`__kmp_¡r_m©ch
("drd·ick‘", 1, 
v®ue
) ||

4085 
	`__kmp_¡r_m©ch
("drd·_tick‘", 1, 
v®ue
) ||

4086 
	`__kmp_¡r_m©ch
("drd·-tick‘", 1, 
v®ue
) ||

4087 
	`__kmp_¡r_m©ch
("drd·tick‘", 1, 
v®ue
) ||

4088 
	`__kmp_¡r_m©ch
("drd·", 1, 
v®ue
)) {

4089 
__kmp_u£r_lock_kšd
 = 
lk_drd·
;

4090 
	`KMP_STORE_LOCK_SEQ
(
drd·
);

4092 #ià
KMP_USE_ADAPTIVE_LOCKS


4093 ià(
	`__kmp_¡r_m©ch
("ad­tive", 1, 
v®ue
)) {

4094 ià(
__kmp_ıušfo
.
¹m
) {

4095 
__kmp_u£r_lock_kšd
 = 
lk_ad­tive
;

4096 
	`KMP_STORE_LOCK_SEQ
(
ad­tive
);

4098 
	`KMP_WARNING
(
Ad­tiveNÙSuµÜ‹d
, 
Çme
, 
v®ue
);

4099 
__kmp_u£r_lock_kšd
 = 
lk_queušg
;

4100 
	`KMP_STORE_LOCK_SEQ
(
queušg
);

4104 #ià
KMP_USE_DYNAMIC_LOCK
 && 
KMP_USE_TSX


4105 ià(
	`__kmp_¡r_m©ch
("¹m", 1, 
v®ue
)) {

4106 ià(
__kmp_ıušfo
.
¹m
) {

4107 
__kmp_u£r_lock_kšd
 = 
lk_¹m
;

4108 
	`KMP_STORE_LOCK_SEQ
(
¹m
);

4110 
	`KMP_WARNING
(
Ad­tiveNÙSuµÜ‹d
, 
Çme
, 
v®ue
);

4111 
__kmp_u£r_lock_kšd
 = 
lk_queušg
;

4112 
	`KMP_STORE_LOCK_SEQ
(
queušg
);

4114 } ià(
	`__kmp_¡r_m©ch
("hË", 1, 
v®ue
)) {

4115 
__kmp_u£r_lock_kšd
 = 
lk_hË
;

4116 
	`KMP_STORE_LOCK_SEQ
(
hË
);

4120 
	`KMP_WARNING
(
StgInv®idV®ue
, 
Çme
, 
v®ue
);

4122 
	}
}

4124 
	$__kmp_¡g_´št_lock_kšd
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

4125 *
d©a
) {

4126 cÚ¡ *
v®ue
 = 
NULL
;

4128 
__kmp_u£r_lock_kšd
) {

4129 
lk_deçuÉ
:

4130 
v®ue
 = "default";

4133 
lk_s
:

4134 
v®ue
 = "tas";

4137 #ià
KMP_USE_FUTEX


4138 
lk_fu‹x
:

4139 
v®ue
 = "futex";

4143 #ià
KMP_USE_DYNAMIC_LOCK
 && 
KMP_USE_TSX


4144 
lk_¹m
:

4145 
v®ue
 = "rtm";

4148 
lk_hË
:

4149 
v®ue
 = "hle";

4153 
lk_tick‘
:

4154 
v®ue
 = "ticket";

4157 
lk_queušg
:

4158 
v®ue
 = "queuing";

4161 
lk_drd·
:

4162 
v®ue
 = "drdpa";

4164 #ià
KMP_USE_ADAPTIVE_LOCKS


4165 
lk_ad­tive
:

4166 
v®ue
 = "adaptive";

4171 ià(
v®ue
 !ğ
NULL
) {

4172 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
v®ue
);

4174 
	}
}

4181 
	$__kmp_¡g_·r£_¥š_backoff_·¿ms
(cÚ¡ *
Çme
,

4182 cÚ¡ *
v®ue
, *
d©a
) {

4183 cÚ¡ *
Ãxt
 = 
v®ue
;

4185 
tÙ®
 = 0;

4186 
´ev_comma
 = 
FALSE
;

4187 
i
;

4189 
kmp_ušt32
 
max_backoff
 = 
__kmp_¥š_backoff_·¿ms
.max_backoff;

4190 
kmp_ušt32
 
mš_tick
 = 
__kmp_¥š_backoff_·¿ms
.min_tick;

4194 
i
 = 0; i < 3; i++) {

4195 
	`SKIP_WS
(
Ãxt
);

4197 ià(*
Ãxt
 == '\0') {

4202 ià(((*
Ãxt
 < '0' || *Ãxˆ> '9'è&& *Ãxˆ!ğ','è|| 
tÙ®
 > 2) {

4203 
	`KMP_WARNING
(
EnvSyÁaxE¼Ü
, 
Çme
, 
v®ue
);

4207 ià(*
Ãxt
 == ',') {

4209 ià(
tÙ®
 =ğ0 || 
´ev_comma
) {

4210 
tÙ®
++;

4212 
´ev_comma
 = 
TRUE
;

4213 
Ãxt
++;

4214 
	`SKIP_WS
(
Ãxt
);

4217 ià(*
Ãxt
 >= '0' && *next <= '9') {

4218 
num
;

4219 cÚ¡ *
buf
 = 
Ãxt
;

4220 cÚ¡ *
msg
 = 
NULL
;

4221 
´ev_comma
 = 
FALSE
;

4222 
	`SKIP_DIGITS
(
Ãxt
);

4223 
tÙ®
++;

4225 cÚ¡ *
tmp
 = 
Ãxt
;

4226 
	`SKIP_WS
(
tmp
);

4227 ià((*
Ãxt
 =ğ' ' || *Ãxˆ=ğ'\t'è&& (*
tmp
 >= '0' && *tmp <= '9')) {

4228 
	`KMP_WARNING
(
EnvS·ûsNÙAÎowed
, 
Çme
, 
v®ue
);

4232 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

4233 ià(
num
 <= 0) {

4234 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooSm®l
);

4235 
num
 = 1;

4236 } ià(
num
 > 
KMP_INT_MAX
) {

4237 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

4238 
num
 = 
KMP_INT_MAX
;

4240 ià(
msg
 !ğ
NULL
) {

4242 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

4243 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
Çme
, 
num
);

4245 ià(
tÙ®
 == 1) {

4246 
max_backoff
 = 
num
;

4247 } ià(
tÙ®
 == 2) {

4248 
mš_tick
 = 
num
;

4252 
	`KMP_DEBUG_ASSERT
(
tÙ®
 > 0);

4253 ià(
tÙ®
 <= 0) {

4254 
	`KMP_WARNING
(
EnvSyÁaxE¼Ü
, 
Çme
, 
v®ue
);

4257 
__kmp_¥š_backoff_·¿ms
.
max_backoff
 = max_backoff;

4258 
__kmp_¥š_backoff_·¿ms
.
mš_tick
 = min_tick;

4259 
	}
}

4261 
	$__kmp_¡g_´št_¥š_backoff_·¿ms
(
kmp_¡r_buf_t
 *
bufãr
,

4262 cÚ¡ *
Çme
, *
d©a
) {

4263 ià(
__kmp_’v_fÜm©
) {

4264 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

4266 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

4268 
	`__kmp_¡r_buf_´št
(
bufãr
, "%d,%d'\n", 
__kmp_¥š_backoff_·¿ms
.
max_backoff
,

4269 
__kmp_¥š_backoff_·¿ms
.
mš_tick
);

4270 
	}
}

4272 #ià
KMP_USE_ADAPTIVE_LOCKS


4279 
	$__kmp_¡g_·r£_ad­tive_lock_´İs
(cÚ¡ *
Çme
,

4280 cÚ¡ *
v®ue
, *
d©a
) {

4281 
max_»Œ›s
 = 0;

4282 
max_badÃss
 = 0;

4284 cÚ¡ *
Ãxt
 = 
v®ue
;

4286 
tÙ®
 = 0;

4287 
´ev_comma
 = 
FALSE
;

4288 
i
;

4293 
i
 = 0; i < 3; i++) {

4294 
	`SKIP_WS
(
Ãxt
);

4296 ià(*
Ãxt
 == '\0') {

4301 ià(((*
Ãxt
 < '0' || *Ãxˆ> '9'è&& *Ãxˆ!ğ','è|| 
tÙ®
 > 2) {

4302 
	`KMP_WARNING
(
EnvSyÁaxE¼Ü
, 
Çme
, 
v®ue
);

4306 ià(*
Ãxt
 == ',') {

4308 ià(
tÙ®
 =ğ0 || 
´ev_comma
) {

4309 
tÙ®
++;

4311 
´ev_comma
 = 
TRUE
;

4312 
Ãxt
++;

4313 
	`SKIP_WS
(
Ãxt
);

4316 ià(*
Ãxt
 >= '0' && *next <= '9') {

4317 
num
;

4318 cÚ¡ *
buf
 = 
Ãxt
;

4319 cÚ¡ *
msg
 = 
NULL
;

4320 
´ev_comma
 = 
FALSE
;

4321 
	`SKIP_DIGITS
(
Ãxt
);

4322 
tÙ®
++;

4324 cÚ¡ *
tmp
 = 
Ãxt
;

4325 
	`SKIP_WS
(
tmp
);

4326 ià((*
Ãxt
 =ğ' ' || *Ãxˆ=ğ'\t'è&& (*
tmp
 >= '0' && *tmp <= '9')) {

4327 
	`KMP_WARNING
(
EnvS·ûsNÙAÎowed
, 
Çme
, 
v®ue
);

4331 
num
 = 
	`__kmp_¡r_to_št
(
buf
, *
Ãxt
);

4332 ià(
num
 < 0) {

4333 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooSm®l
);

4334 
num
 = 1;

4335 } ià(
num
 > 
KMP_INT_MAX
) {

4336 
msg
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

4337 
num
 = 
KMP_INT_MAX
;

4339 ià(
msg
 !ğ
NULL
) {

4341 
	`KMP_WARNING
(
P¬£SizeIÁW¬n
, 
Çme
, 
v®ue
, 
msg
);

4342 
	`KMP_INFORM
(
Usšg_št_V®ue
, 
Çme
, 
num
);

4344 ià(
tÙ®
 == 1) {

4345 
max_»Œ›s
 = 
num
;

4346 } ià(
tÙ®
 == 2) {

4347 
max_badÃss
 = 
num
;

4351 
	`KMP_DEBUG_ASSERT
(
tÙ®
 > 0);

4352 ià(
tÙ®
 <= 0) {

4353 
	`KMP_WARNING
(
EnvSyÁaxE¼Ü
, 
Çme
, 
v®ue
);

4356 
__kmp_ad­tive_backoff_·¿ms
.
max_soá_»Œ›s
 = 
max_»Œ›s
;

4357 
__kmp_ad­tive_backoff_·¿ms
.
max_badÃss
 = max_badness;

4358 
	}
}

4360 
	$__kmp_¡g_´št_ad­tive_lock_´İs
(
kmp_¡r_buf_t
 *
bufãr
,

4361 cÚ¡ *
Çme
, *
d©a
) {

4362 ià(
__kmp_’v_fÜm©
) {

4363 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

4365 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

4367 
	`__kmp_¡r_buf_´št
(
bufãr
, "%d,%d'\n",

4368 
__kmp_ad­tive_backoff_·¿ms
.
max_soá_»Œ›s
,

4369 
__kmp_ad­tive_backoff_·¿ms
.
max_badÃss
);

4370 
	}
}

4372 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


4374 
	$__kmp_¡g_·r£_¥ecuÏtive_¡©sfe
(cÚ¡ *
Çme
,

4375 cÚ¡ *
v®ue
,

4376 *
d©a
) {

4377 
	`__kmp_¡g_·r£_fe
(
Çme
, 
v®ue
, "", 
	`CCAST
(**, &
__kmp_¥ecuÏtive_¡©sfe
));

4378 
	}
}

4380 
	$__kmp_¡g_´št_¥ecuÏtive_¡©sfe
(
kmp_¡r_buf_t
 *
bufãr
,

4381 cÚ¡ *
Çme
,

4382 *
d©a
) {

4383 ià(
	`__kmp_¡r_m©ch
("-", 0, 
__kmp_¥ecuÏtive_¡©sfe
)) {

4384 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "stdout");

4386 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
__kmp_¥ecuÏtive_¡©sfe
);

4389 
	}
}

4402 
	#MAX_T_LEVEL
 5

	)

4403 
	#MAX_STR_LEN
 512

	)

4404 
	$__kmp_¡g_·r£_hw_sub£t
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4405 *
d©a
) {

4408 
kmp_£‰šg_t
 **
riv®s
 = (kmp_£‰šg_ˆ**)
d©a
;

4409 ià(
	`¡rcmp
(
Çme
, "KMP_PLACE_THREADS") == 0) {

4410 
	`KMP_INFORM
(
EnvV¬D•»ÿ‹d
, 
Çme
, "KMP_HW_SUBSET");

4412 ià(
	`__kmp_¡g_check_riv®s
(
Çme
, 
v®ue
, 
riv®s
)) {

4416 *
compÚ’ts
[
MAX_T_LEVEL
];

4417 cÚ¡ *
dig™s
 = "0123456789";

4418 
šput
[
MAX_STR_LEN
];

4419 
size_t
 
Ën
 = 0, 
mËn
 = 
MAX_STR_LEN
;

4420 
Ëv–
 = 0;

4422 *
pos
 = 
	`CCAST
(*, 
v®ue
);

4423 *
pos
 && 
mËn
) {

4424 ià(*
pos
 != ' ') {

4425 ià(
Ën
 =ğ0 && *
pos
 == ':') {

4426 
__kmp_hws_abs_æag
 = 1;

4428 
šput
[
Ën
] = 
	`touµ”
(*
pos
);

4429 ià(
šput
[
Ën
] == 'X')

4430 
šput
[
Ën
] = ',';

4431 ià(
šput
[
Ën
] =ğ'O' && 
	`¡rchr
(
dig™s
, *(
pos
 + 1)))

4432 
šput
[
Ën
] = '@';

4433 
Ën
++;

4436 
mËn
--;

4437 
pos
++;

4439 ià(
Ën
 =ğ0 || 
mËn
 == 0)

4440 
”r
;

4441 
šput
[
Ën
] = '\0';

4442 
__kmp_hws_»que¡ed
 = 1;

4444 
pos
 = 
šput
;

4445 
compÚ’ts
[
Ëv–
++] = 
pos
;

4446 (
pos
 = 
	`¡rchr
(pos, ','))) {

4447 ià(
Ëv–
 >ğ
MAX_T_LEVEL
)

4448 
”r
;

4449 *
pos
 = '\0';

4450 
compÚ’ts
[
Ëv–
++] = ++
pos
;

4453 
i
 = 0; i < 
Ëv–
; ++i) {

4454 
off£t
 = 0;

4455 
num
 = 
	`©oi
(
compÚ’ts
[
i
]);

4456 ià((
pos
 = 
	`¡rchr
(
compÚ’ts
[
i
], '@'))) {

4457 
off£t
 = 
	`©oi
(
pos
 + 1);

4458 *
pos
 = '\0';

4460 
pos
 = 
compÚ’ts
[
i
] + 
	`¡r¥n
(compÚ’ts[i], 
dig™s
);

4461 ià(
pos
 =ğ
compÚ’ts
[
i
])

4462 
”r
;

4464 *
pos
) {

4466 ià(
__kmp_hws_sock‘
.
num
 > 0)

4467 
”r
;

4468 
__kmp_hws_sock‘
.
num
 =‚um;

4469 
__kmp_hws_sock‘
.
off£t
 = offset;

4472 ià(
__kmp_hws_node
.
num
 > 0)

4473 
”r
;

4474 
__kmp_hws_node
.
num
 =‚um;

4475 
__kmp_hws_node
.
off£t
 = offset;

4478 ià(*(
pos
 + 1) == '2') {

4479 ià(
__kmp_hws_te
.
num
 > 0)

4480 
”r
;

4481 
__kmp_hws_te
.
num
 =‚um;

4482 
__kmp_hws_te
.
off£t
 = offset;

4483 } ià(*(
pos
 + 1) == '3') {

4484 ià(
__kmp_hws_sock‘
.
num
 > 0)

4485 
”r
;

4486 
__kmp_hws_sock‘
.
num
 =‚um;

4487 
__kmp_hws_sock‘
.
off£t
 = offset;

4488 } ià(*(
pos
 + 1) == '1') {

4489 ià(
__kmp_hws_cÜe
.
num
 > 0)

4490 
”r
;

4491 
__kmp_hws_cÜe
.
num
 =‚um;

4492 
__kmp_hws_cÜe
.
off£t
 = offset;

4496 ià(*(
pos
 + 1) != 'A') {

4497 ià(
__kmp_hws_cÜe
.
num
 > 0)

4498 
”r
;

4499 
__kmp_hws_cÜe
.
num
 =‚um;

4500 
__kmp_hws_cÜe
.
off£t
 = offset;

4502 *
d
 = 
pos
 + 
	`¡rc¥n
Õos, 
dig™s
);

4503 ià(*
d
 == '2') {

4504 ià(
__kmp_hws_te
.
num
 > 0)

4505 
”r
;

4506 
__kmp_hws_te
.
num
 =‚um;

4507 
__kmp_hws_te
.
off£t
 = offset;

4508 } ià(*
d
 == '3') {

4509 ià(
__kmp_hws_sock‘
.
num
 > 0)

4510 
”r
;

4511 
__kmp_hws_sock‘
.
num
 =‚um;

4512 
__kmp_hws_sock‘
.
off£t
 = offset;

4513 } ià(*
d
 == '1') {

4514 ià(
__kmp_hws_cÜe
.
num
 > 0)

4515 
”r
;

4516 
__kmp_hws_cÜe
.
num
 =‚um;

4517 
__kmp_hws_cÜe
.
off£t
 = offset;

4519 
”r
;

4524 ià(
__kmp_hws_´oc
.
num
 > 0)

4525 
”r
;

4526 
__kmp_hws_´oc
.
num
 =‚um;

4527 
__kmp_hws_´oc
.
off£t
 = offset;

4530 
”r
;

4534 
”r
:

4535 
	`KMP_WARNING
(
AffHWSub£tInv®id
, 
Çme
, 
v®ue
);

4536 
__kmp_hws_»que¡ed
 = 0;

4538 
	}
}

4540 
	$__kmp_¡g_´št_hw_sub£t
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

4541 *
d©a
) {

4542 ià(
__kmp_hws_»que¡ed
) {

4543 
comma
 = 0;

4544 
kmp_¡r_buf_t
 
buf
;

4545 
	`__kmp_¡r_buf_š™
(&
buf
);

4546 ià(
__kmp_’v_fÜm©
)

4547 
	`KMP_STR_BUF_PRINT_NAME_EX
(
Çme
);

4549 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s='", 
Çme
);

4550 ià(
__kmp_hws_sock‘
.
num
) {

4551 
	`__kmp_¡r_buf_´št
(&
buf
, "%ds", 
__kmp_hws_sock‘
.
num
);

4552 ià(
__kmp_hws_sock‘
.
off£t
)

4553 
	`__kmp_¡r_buf_´št
(&
buf
, "@%d", 
__kmp_hws_sock‘
.
off£t
);

4554 
comma
 = 1;

4556 ià(
__kmp_hws_node
.
num
) {

4557 
	`__kmp_¡r_buf_´št
(&
buf
, "%s%dn", 
comma
 ? "," : "", 
__kmp_hws_node
.
num
);

4558 ià(
__kmp_hws_node
.
off£t
)

4559 
	`__kmp_¡r_buf_´št
(&
buf
, "@%d", 
__kmp_hws_node
.
off£t
);

4560 
comma
 = 1;

4562 ià(
__kmp_hws_te
.
num
) {

4563 
	`__kmp_¡r_buf_´št
(&
buf
, "%s%dL2", 
comma
 ? "," : "", 
__kmp_hws_te
.
num
);

4564 ià(
__kmp_hws_te
.
off£t
)

4565 
	`__kmp_¡r_buf_´št
(&
buf
, "@%d", 
__kmp_hws_te
.
off£t
);

4566 
comma
 = 1;

4568 ià(
__kmp_hws_cÜe
.
num
) {

4569 
	`__kmp_¡r_buf_´št
(&
buf
, "%s%dc", 
comma
 ? "," : "", 
__kmp_hws_cÜe
.
num
);

4570 ià(
__kmp_hws_cÜe
.
off£t
)

4571 
	`__kmp_¡r_buf_´št
(&
buf
, "@%d", 
__kmp_hws_cÜe
.
off£t
);

4572 
comma
 = 1;

4574 ià(
__kmp_hws_´oc
.
num
)

4575 
	`__kmp_¡r_buf_´št
(&
buf
, "%s%dt", 
comma
 ? "," : "", 
__kmp_hws_´oc
.
num
);

4576 
	`__kmp_¡r_buf_´št
(
bufãr
, "%s'\n", 
buf
.
¡r
);

4577 
	`__kmp_¡r_buf_ä“
(&
buf
);

4579 
	}
}

4581 #ià
USE_ITT_BUILD


4585 
	$__kmp_¡g_·r£_fÜkjoš_äames
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4586 *
d©a
) {

4587 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_fÜkjoš_äames
);

4588 
	}
}

4590 
	$__kmp_¡g_´št_fÜkjoš_äames
(
kmp_¡r_buf_t
 *
bufãr
,

4591 cÚ¡ *
Çme
, *
d©a
) {

4592 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_fÜkjoš_äames
);

4593 
	}
}

4598 
	$__kmp_¡g_·r£_fÜkjoš_äames_mode
(cÚ¡ *
Çme
,

4599 cÚ¡ *
v®ue
,

4600 *
d©a
) {

4601 
	`__kmp_¡g_·r£_št
(
Çme
, 
v®ue
, 0, 3, &
__kmp_fÜkjoš_äames_mode
);

4602 
	}
}

4604 
	$__kmp_¡g_´št_fÜkjoš_äames_mode
(
kmp_¡r_buf_t
 *
bufãr
,

4605 cÚ¡ *
Çme
, *
d©a
) {

4606 
	`__kmp_¡g_´št_št
(
bufãr
, 
Çme
, 
__kmp_fÜkjoš_äames_mode
);

4607 
	}
}

4613 
	$__kmp_¡g_·r£_sk_thrÙšg
(cÚ¡ *
Çme
,

4614 cÚ¡ *
v®ue
, *
d©a
) {

4615 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_’abË_sk_thrÙšg
);

4616 
	}
}

4619 
	$__kmp_¡g_´št_sk_thrÙšg
(
kmp_¡r_buf_t
 *
bufãr
,

4620 cÚ¡ *
Çme
, *
d©a
) {

4621 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_’abË_sk_thrÙšg
);

4622 
	}
}

4627 
	$__kmp_¡g_·r£_omp_di¥Ïy_’v
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4628 *
d©a
) {

4629 ià(
	`__kmp_¡r_m©ch
("VERBOSE", 1, 
v®ue
)) {

4630 
__kmp_di¥Ïy_’v_v”bo£
 = 
TRUE
;

4632 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_di¥Ïy_’v
);

4634 
	}
}

4636 
	$__kmp_¡g_´št_omp_di¥Ïy_’v
(
kmp_¡r_buf_t
 *
bufãr
,

4637 cÚ¡ *
Çme
, *
d©a
) {

4638 ià(
__kmp_di¥Ïy_’v_v”bo£
) {

4639 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, "VERBOSE");

4641 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_di¥Ïy_’v
);

4643 
	}
}

4645 
	$__kmp_¡g_·r£_omp_ÿnûÎ©iÚ
(cÚ¡ *
Çme
,

4646 cÚ¡ *
v®ue
, *
d©a
) {

4647 ià(
	`TCR_4
(
__kmp_š™_·¿Î–
)) {

4648 
	`KMP_WARNING
(
EnvP¬®ËlW¬n
, 
Çme
);

4651 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_omp_ÿnûÎ©iÚ
);

4652 
	}
}

4654 
	$__kmp_¡g_´št_omp_ÿnûÎ©iÚ
(
kmp_¡r_buf_t
 *
bufãr
,

4655 cÚ¡ *
Çme
, *
d©a
) {

4656 
	`__kmp_¡g_´št_boŞ
(
bufãr
, 
Çme
, 
__kmp_omp_ÿnûÎ©iÚ
);

4657 
	}
}

4659 #ià
OMPT_SUPPORT


4660 
	g__kmp_toŞ
 = 1;

4662 
	$__kmp_¡g_·r£_omp_toŞ
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

4663 *
d©a
) {

4664 
	`__kmp_¡g_·r£_boŞ
(
Çme
, 
v®ue
, &
__kmp_toŞ
);

4665 
	}
}

4667 
	$__kmp_¡g_´št_omp_toŞ
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
Çme
,

4668 *
d©a
) {

4669 ià(
__kmp_’v_fÜm©
) {

4670 
	`KMP_STR_BUF_PRINT_BOOL_EX
(
Çme
, 
__kmp_toŞ
, "enabled", "disabled");

4672 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s=%s\n", 
Çme
,

4673 
__kmp_toŞ
 ? "enabled" : "disabled");

4675 
	}
}

4677 *
	g__kmp_toŞ_lib¿r›s
 = 
NULL
;

4679 
	$__kmp_¡g_·r£_omp_toŞ_lib¿r›s
(cÚ¡ *
Çme
,

4680 cÚ¡ *
v®ue
, *
d©a
) {

4681 
	`__kmp_¡g_·r£_¡r
(
Çme
, 
v®ue
, &
__kmp_toŞ_lib¿r›s
);

4682 
	}
}

4684 
	$__kmp_¡g_´št_omp_toŞ_lib¿r›s
(
kmp_¡r_buf_t
 *
bufãr
,

4685 cÚ¡ *
Çme
, *
d©a
) {

4686 ià(
__kmp_toŞ_lib¿r›s
)

4687 
	`__kmp_¡g_´št_¡r
(
bufãr
, 
Çme
, 
__kmp_toŞ_lib¿r›s
);

4689 ià(
__kmp_’v_fÜm©
) {

4690 
KMP_STR_BUF_PRINT_NAME
;

4692 
	`__kmp_¡r_buf_´št
(
bufãr
, " %s", 
Çme
);

4694 
	`__kmp_¡r_buf_´št
(
bufãr
, ": %s\n", 
	`KMP_I18N_STR
(
NÙDefšed
));

4696 
	}
}

4702 
kmp_£‰šg_t
 
	g__kmp_¡g_bË
[] = {

4704 {"KMP_ALL_THREADS", 
__kmp_¡g_·r£_deviû_th»ad_lim™
, 
NULL
, NULL, 0, 0},

4705 {"KMP_BLOCKTIME", 
__kmp_¡g_·r£_blocktime
, 
__kmp_¡g_´št_blocktime
,

4706 
NULL
, 0, 0},

4707 {"KMP_USE_YIELD", 
__kmp_¡g_·r£_u£_y›ld
, 
__kmp_¡g_´št_u£_y›ld
,

4708 
NULL
, 0, 0},

4709 {"KMP_DUPLICATE_LIB_OK", 
__kmp_¡g_·r£_du¶iÿ‹_lib_ok
,

4710 
__kmp_¡g_´št_du¶iÿ‹_lib_ok
, 
NULL
, 0, 0},

4711 {"KMP_LIBRARY", 
__kmp_¡g_·r£_wa™_pŞicy
, 
__kmp_¡g_´št_wa™_pŞicy
,

4712 
NULL
, 0, 0},

4713 {"KMP_DEVICE_THREAD_LIMIT", 
__kmp_¡g_·r£_deviû_th»ad_lim™
,

4714 
__kmp_¡g_´št_deviû_th»ad_lim™
, 
NULL
, 0, 0},

4715 #ià
KMP_USE_MONITOR


4716 {"KMP_MONITOR_STACKSIZE", 
__kmp_¡g_·r£_mÚ™Ü_¡acksize
,

4717 
__kmp_¡g_´št_mÚ™Ü_¡acksize
, 
NULL
, 0, 0},

4719 {"KMP_SETTINGS", 
__kmp_¡g_·r£_£‰šgs
, 
__kmp_¡g_´št_£‰šgs
, 
NULL
,

4721 {"KMP_STACKOFFSET", 
__kmp_¡g_·r£_¡ackoff£t
,

4722 
__kmp_¡g_´št_¡ackoff£t
, 
NULL
, 0, 0},

4723 {"KMP_STACKSIZE", 
__kmp_¡g_·r£_¡acksize
, 
__kmp_¡g_´št_¡acksize
,

4724 
NULL
, 0, 0},

4725 {"KMP_STACKPAD", 
__kmp_¡g_·r£_¡ack·d
, 
__kmp_¡g_´št_¡ack·d
, 
NULL
,

4727 {"KMP_VERSION", 
__kmp_¡g_·r£_v”siÚ
, 
__kmp_¡g_´št_v”siÚ
, 
NULL
, 0,

4729 {"KMP_WARNINGS", 
__kmp_¡g_·r£_w¬nšgs
, 
__kmp_¡g_´št_w¬nšgs
, 
NULL
,

4732 {"OMP_NESTED", 
__kmp_¡g_·r£_Ã¡ed
, 
__kmp_¡g_´št_Ã¡ed
, 
NULL
, 0, 0},

4733 {"OMP_NUM_THREADS", 
__kmp_¡g_·r£_num_th»ads
,

4734 
__kmp_¡g_´št_num_th»ads
, 
NULL
, 0, 0},

4735 {"OMP_STACKSIZE", 
__kmp_¡g_·r£_¡acksize
, 
__kmp_¡g_´št_¡acksize
,

4736 
NULL
, 0, 0},

4738 {"KMP_TASKING", 
__kmp_¡g_·r£_skšg
, 
__kmp_¡g_´št_skšg
, 
NULL
, 0,

4740 {"KMP_TASK_STEALING_CONSTRAINT", 
__kmp_¡g_·r£_sk_¡—lšg
,

4741 
__kmp_¡g_´št_sk_¡—lšg
, 
NULL
, 0, 0},

4742 {"OMP_MAX_ACTIVE_LEVELS", 
__kmp_¡g_·r£_max_aùive_Ëv–s
,

4743 
__kmp_¡g_´št_max_aùive_Ëv–s
, 
NULL
, 0, 0},

4744 {"OMP_DEFAULT_DEVICE", 
__kmp_¡g_·r£_deçuÉ_deviû
,

4745 
__kmp_¡g_´št_deçuÉ_deviû
, 
NULL
, 0, 0},

4746 {"OMP_TARGET_OFFLOAD", 
__kmp_¡g_·r£_rg‘_ofæßd
,

4747 
__kmp_¡g_´št_rg‘_ofæßd
, 
NULL
, 0, 0},

4748 {"OMP_MAX_TASK_PRIORITY", 
__kmp_¡g_·r£_max_sk_´iÜ™y
,

4749 
__kmp_¡g_´št_max_sk_´iÜ™y
, 
NULL
, 0, 0},

4750 {"KMP_TASKLOOP_MIN_TASKS", 
__kmp_¡g_·r£_skloİ_mš_sks
,

4751 
__kmp_¡g_´št_skloİ_mš_sks
, 
NULL
, 0, 0},

4752 {"OMP_THREAD_LIMIT", 
__kmp_¡g_·r£_th»ad_lim™
,

4753 
__kmp_¡g_´št_th»ad_lim™
, 
NULL
, 0, 0},

4754 {"KMP_TEAMS_THREAD_LIMIT", 
__kmp_¡g_·r£_‹ams_th»ad_lim™
,

4755 
__kmp_¡g_´št_‹ams_th»ad_lim™
, 
NULL
, 0, 0},

4756 {"OMP_WAIT_POLICY", 
__kmp_¡g_·r£_wa™_pŞicy
,

4757 
__kmp_¡g_´št_wa™_pŞicy
, 
NULL
, 0, 0},

4758 {"KMP_DISP_NUM_BUFFERS", 
__kmp_¡g_·r£_di¥_bufãrs
,

4759 
__kmp_¡g_´št_di¥_bufãrs
, 
NULL
, 0, 0},

4760 #ià
KMP_NESTED_HOT_TEAMS


4761 {"KMP_HOT_TEAMS_MAX_LEVEL", 
__kmp_¡g_·r£_hÙ_‹ams_Ëv–
,

4762 
__kmp_¡g_´št_hÙ_‹ams_Ëv–
, 
NULL
, 0, 0},

4763 {"KMP_HOT_TEAMS_MODE", 
__kmp_¡g_·r£_hÙ_‹ams_mode
,

4764 
__kmp_¡g_´št_hÙ_‹ams_mode
, 
NULL
, 0, 0},

4767 #ià
KMP_HANDLE_SIGNALS


4768 {"KMP_HANDLE_SIGNALS", 
__kmp_¡g_·r£_hªdË_sigÇls
,

4769 
__kmp_¡g_´št_hªdË_sigÇls
, 
NULL
, 0, 0},

4772 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


4773 {"KMP_INHERIT_FP_CONTROL", 
__kmp_¡g_·r£_šh”™_å_cÚŒŞ
,

4774 
__kmp_¡g_´št_šh”™_å_cÚŒŞ
, 
NULL
, 0, 0},

4777 #ifdeà
KMP_GOMP_COMPAT


4778 {"GOMP_STACKSIZE", 
__kmp_¡g_·r£_¡acksize
, 
NULL
, NULL, 0, 0},

4781 #ifdeà
KMP_DEBUG


4782 {"KMP_A_DEBUG", 
__kmp_¡g_·r£_a_debug
, 
__kmp_¡g_´št_a_debug
, 
NULL
, 0,

4784 {"KMP_B_DEBUG", 
__kmp_¡g_·r£_b_debug
, 
__kmp_¡g_´št_b_debug
, 
NULL
, 0,

4786 {"KMP_C_DEBUG", 
__kmp_¡g_·r£_c_debug
, 
__kmp_¡g_´št_c_debug
, 
NULL
, 0,

4788 {"KMP_D_DEBUG", 
__kmp_¡g_·r£_d_debug
, 
__kmp_¡g_´št_d_debug
, 
NULL
, 0,

4790 {"KMP_E_DEBUG", 
__kmp_¡g_·r£_e_debug
, 
__kmp_¡g_´št_e_debug
, 
NULL
, 0,

4792 {"KMP_F_DEBUG", 
__kmp_¡g_·r£_f_debug
, 
__kmp_¡g_´št_f_debug
, 
NULL
, 0,

4794 {"KMP_DEBUG", 
__kmp_¡g_·r£_debug
, 
NULL
, NULL, 0, 0},

4795 {"KMP_DEBUG_BUF", 
__kmp_¡g_·r£_debug_buf
, 
__kmp_¡g_´št_debug_buf
,

4796 
NULL
, 0, 0},

4797 {"KMP_DEBUG_BUF_ATOMIC", 
__kmp_¡g_·r£_debug_buf_©omic
,

4798 
__kmp_¡g_´št_debug_buf_©omic
, 
NULL
, 0, 0},

4799 {"KMP_DEBUG_BUF_CHARS", 
__kmp_¡g_·r£_debug_buf_ch¬s
,

4800 
__kmp_¡g_´št_debug_buf_ch¬s
, 
NULL
, 0, 0},

4801 {"KMP_DEBUG_BUF_LINES", 
__kmp_¡g_·r£_debug_buf_lšes
,

4802 
__kmp_¡g_´št_debug_buf_lšes
, 
NULL
, 0, 0},

4803 {"KMP_DIAG", 
__kmp_¡g_·r£_dŸg
, 
__kmp_¡g_´št_dŸg
, 
NULL
, 0, 0},

4805 {"KMP_PAR_RANGE", 
__kmp_¡g_·r£_·r_¿nge_’v
,

4806 
__kmp_¡g_´št_·r_¿nge_’v
, 
NULL
, 0, 0},

4809 {"KMP_ALIGN_ALLOC", 
__kmp_¡g_·r£_®ign_®loc
,

4810 
__kmp_¡g_´št_®ign_®loc
, 
NULL
, 0, 0},

4812 {"KMP_PLAIN_BARRIER", 
__kmp_¡g_·r£_b¬r›r_b¿nch_b™
,

4813 
__kmp_¡g_´št_b¬r›r_b¿nch_b™
, 
NULL
, 0, 0},

4814 {"KMP_PLAIN_BARRIER_PATTERN", 
__kmp_¡g_·r£_b¬r›r_·‰”n
,

4815 
__kmp_¡g_´št_b¬r›r_·‰”n
, 
NULL
, 0, 0},

4816 {"KMP_FORKJOIN_BARRIER", 
__kmp_¡g_·r£_b¬r›r_b¿nch_b™
,

4817 
__kmp_¡g_´št_b¬r›r_b¿nch_b™
, 
NULL
, 0, 0},

4818 {"KMP_FORKJOIN_BARRIER_PATTERN", 
__kmp_¡g_·r£_b¬r›r_·‰”n
,

4819 
__kmp_¡g_´št_b¬r›r_·‰”n
, 
NULL
, 0, 0},

4820 #ià
KMP_FAST_REDUCTION_BARRIER


4821 {"KMP_REDUCTION_BARRIER", 
__kmp_¡g_·r£_b¬r›r_b¿nch_b™
,

4822 
__kmp_¡g_´št_b¬r›r_b¿nch_b™
, 
NULL
, 0, 0},

4823 {"KMP_REDUCTION_BARRIER_PATTERN", 
__kmp_¡g_·r£_b¬r›r_·‰”n
,

4824 
__kmp_¡g_´št_b¬r›r_·‰”n
, 
NULL
, 0, 0},

4827 {"KMP_ABORT_DELAY", 
__kmp_¡g_·r£_abÜt_d–ay
,

4828 
__kmp_¡g_´št_abÜt_d–ay
, 
NULL
, 0, 0},

4829 {"KMP_CPUINFO_FILE", 
__kmp_¡g_·r£_ıušfo_fe
,

4830 
__kmp_¡g_´št_ıušfo_fe
, 
NULL
, 0, 0},

4831 {"KMP_FORCE_REDUCTION", 
__kmp_¡g_·r£_fÜû_»duùiÚ
,

4832 
__kmp_¡g_´št_fÜû_»duùiÚ
, 
NULL
, 0, 0},

4833 {"KMP_DETERMINISTIC_REDUCTION", 
__kmp_¡g_·r£_fÜû_»duùiÚ
,

4834 
__kmp_¡g_´št_fÜû_»duùiÚ
, 
NULL
, 0, 0},

4835 {"KMP_STORAGE_MAP", 
__kmp_¡g_·r£_¡Üage_m­
,

4836 
__kmp_¡g_´št_¡Üage_m­
, 
NULL
, 0, 0},

4837 {"KMP_ALL_THREADPRIVATE", 
__kmp_¡g_·r£_®l_th»ad´iv©e
,

4838 
__kmp_¡g_´št_®l_th»ad´iv©e
, 
NULL
, 0, 0},

4840 
__kmp_¡g_·r£_fÜeign_th»ads_th»ad´iv©e
,

4841 
__kmp_¡g_´št_fÜeign_th»ads_th»ad´iv©e
, 
NULL
, 0, 0},

4843 #ià
KMP_AFFINITY_SUPPORTED


4844 {"KMP_AFFINITY", 
__kmp_¡g_·r£_affš™y
, 
__kmp_¡g_´št_affš™y
, 
NULL
,

4846 #ifdeà
KMP_GOMP_COMPAT


4847 {"GOMP_CPU_AFFINITY", 
__kmp_¡g_·r£_gomp_ıu_affš™y
, 
NULL
,

4848  
NULL
, 0, 0},

4850 {"OMP_PROC_BIND", 
__kmp_¡g_·r£_´oc_bšd
, 
__kmp_¡g_´št_´oc_bšd
,

4851 
NULL
, 0, 0},

4852 {"OMP_PLACES", 
__kmp_¡g_·r£_¶aûs
, 
__kmp_¡g_´št_¶aûs
, 
NULL
, 0, 0},

4853 {"KMP_TOPOLOGY_METHOD", 
__kmp_¡g_·r£_tİŞogy_m‘hod
,

4854 
__kmp_¡g_´št_tİŞogy_m‘hod
, 
NULL
, 0, 0},

4860 {"OMP_PROC_BIND", 
__kmp_¡g_·r£_´oc_bšd
, 
__kmp_¡g_´št_´oc_bšd
,

4861 
NULL
, 0, 0},

4864 {"OMP_DISPLAY_AFFINITY", 
__kmp_¡g_·r£_di¥Ïy_affš™y
,

4865 
__kmp_¡g_´št_di¥Ïy_affš™y
, 
NULL
, 0, 0},

4866 {"OMP_AFFINITY_FORMAT", 
__kmp_¡g_·r£_affš™y_fÜm©
,

4867 
__kmp_¡g_´št_affš™y_fÜm©
, 
NULL
, 0, 0},

4868 {"KMP_INIT_AT_FORK", 
__kmp_¡g_·r£_š™_©_fÜk
,

4869 
__kmp_¡g_´št_š™_©_fÜk
, 
NULL
, 0, 0},

4870 {"KMP_SCHEDULE", 
__kmp_¡g_·r£_scheduË
, 
__kmp_¡g_´št_scheduË
, 
NULL
,

4872 {"OMP_SCHEDULE", 
__kmp_¡g_·r£_omp_scheduË
, 
__kmp_¡g_´št_omp_scheduË
,

4873 
NULL
, 0, 0},

4874 #ià
KMP_USE_HIER_SCHED


4875 {"KMP_DISP_HAND_THREAD", 
__kmp_¡g_·r£_kmp_hªd_th»ad
,

4876 
__kmp_¡g_´št_kmp_hªd_th»ad
, 
NULL
, 0, 0},

4878 {"KMP_ATOMIC_MODE", 
__kmp_¡g_·r£_©omic_mode
,

4879 
__kmp_¡g_´št_©omic_mode
, 
NULL
, 0, 0},

4880 {"KMP_CONSISTENCY_CHECK", 
__kmp_¡g_·r£_cÚsi¡’cy_check
,

4881 
__kmp_¡g_´št_cÚsi¡’cy_check
, 
NULL
, 0, 0},

4883 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


4884 {"KMP_ITT_PREPARE_DELAY", 
__kmp_¡g_·r£_™t_´•¬e_d–ay
,

4885 
__kmp_¡g_´št_™t_´•¬e_d–ay
, 
NULL
, 0, 0},

4887 {"KMP_MALLOC_POOL_INCR", 
__kmp_¡g_·r£_m®loc_poŞ_šü
,

4888 
__kmp_¡g_´št_m®loc_poŞ_šü
, 
NULL
, 0, 0},

4889 {"KMP_GTID_MODE", 
__kmp_¡g_·r£_gtid_mode
, 
__kmp_¡g_´št_gtid_mode
,

4890 
NULL
, 0, 0},

4891 {"OMP_DYNAMIC", 
__kmp_¡g_·r£_omp_dyÇmic
, 
__kmp_¡g_´št_omp_dyÇmic
,

4892 
NULL
, 0, 0},

4893 {"KMP_DYNAMIC_MODE", 
__kmp_¡g_·r£_kmp_dyÇmic_mode
,

4894 
__kmp_¡g_´št_kmp_dyÇmic_mode
, 
NULL
, 0, 0},

4896 #ifdeà
USE_LOAD_BALANCE


4897 {"KMP_LOAD_BALANCE_INTERVAL", 
__kmp_¡g_·r£_ld_b®ªû_š‹rv®
,

4898 
__kmp_¡g_´št_ld_b®ªû_š‹rv®
, 
NULL
, 0, 0},

4901 {"KMP_NUM_LOCKS_IN_BLOCK", 
__kmp_¡g_·r£_lock_block
,

4902 
__kmp_¡g_´št_lock_block
, 
NULL
, 0, 0},

4903 {"KMP_LOCK_KIND", 
__kmp_¡g_·r£_lock_kšd
, 
__kmp_¡g_´št_lock_kšd
,

4904 
NULL
, 0, 0},

4905 {"KMP_SPIN_BACKOFF_PARAMS", 
__kmp_¡g_·r£_¥š_backoff_·¿ms
,

4906 
__kmp_¡g_´št_¥š_backoff_·¿ms
, 
NULL
, 0, 0},

4907 #ià
KMP_USE_ADAPTIVE_LOCKS


4908 {"KMP_ADAPTIVE_LOCK_PROPS", 
__kmp_¡g_·r£_ad­tive_lock_´İs
,

4909 
__kmp_¡g_´št_ad­tive_lock_´İs
, 
NULL
, 0, 0},

4910 #ià
KMP_DEBUG_ADAPTIVE_LOCKS


4911 {"KMP_SPECULATIVE_STATSFILE", 
__kmp_¡g_·r£_¥ecuÏtive_¡©sfe
,

4912 
__kmp_¡g_´št_¥ecuÏtive_¡©sfe
, 
NULL
, 0, 0},

4915 {"KMP_PLACE_THREADS", 
__kmp_¡g_·r£_hw_sub£t
, 
__kmp_¡g_´št_hw_sub£t
,

4916 
NULL
, 0, 0},

4917 {"KMP_HW_SUBSET", 
__kmp_¡g_·r£_hw_sub£t
, 
__kmp_¡g_´št_hw_sub£t
,

4918 
NULL
, 0, 0},

4919 #ià
USE_ITT_BUILD


4920 {"KMP_FORKJOIN_FRAMES", 
__kmp_¡g_·r£_fÜkjoš_äames
,

4921 
__kmp_¡g_´št_fÜkjoš_äames
, 
NULL
, 0, 0},

4922 {"KMP_FORKJOIN_FRAMES_MODE", 
__kmp_¡g_·r£_fÜkjoš_äames_mode
,

4923 
__kmp_¡g_´št_fÜkjoš_äames_mode
, 
NULL
, 0, 0},

4925 {"KMP_ENABLE_TASK_THROTTLING", 
__kmp_¡g_·r£_sk_thrÙšg
,

4926 
__kmp_¡g_´št_sk_thrÙšg
, 
NULL
, 0, 0},

4928 {"OMP_DISPLAY_ENV", 
__kmp_¡g_·r£_omp_di¥Ïy_’v
,

4929 
__kmp_¡g_´št_omp_di¥Ïy_’v
, 
NULL
, 0, 0},

4930 {"OMP_CANCELLATION", 
__kmp_¡g_·r£_omp_ÿnûÎ©iÚ
,

4931 
__kmp_¡g_´št_omp_ÿnûÎ©iÚ
, 
NULL
, 0, 0},

4932 {"OMP_ALLOCATOR", 
__kmp_¡g_·r£_®loÿtÜ
, 
__kmp_¡g_´št_®loÿtÜ
,

4933 
NULL
, 0, 0},

4935 #ià
OMPT_SUPPORT


4936 {"OMP_TOOL", 
__kmp_¡g_·r£_omp_toŞ
, 
__kmp_¡g_´št_omp_toŞ
, 
NULL
, 0,

4938 {"OMP_TOOL_LIBRARIES", 
__kmp_¡g_·r£_omp_toŞ_lib¿r›s
,

4939 
__kmp_¡g_´št_omp_toŞ_lib¿r›s
, 
NULL
, 0, 0},

4942 {"", 
NULL
, NULL, NULL, 0, 0}};

4944 cÚ¡ 
	g__kmp_¡g_couÁ
 =

4945 (
__kmp_¡g_bË
è/ (
kmp_£‰šg_t
);

4947 
šlše
 
kmp_£‰šg_t
 *
	$__kmp_¡g_fšd
(cÚ¡ *
Çme
) {

4949 
i
;

4950 ià(
Çme
 !ğ
NULL
) {

4951 
i
 = 0; i < 
__kmp_¡g_couÁ
; ++i) {

4952 ià(
	`¡rcmp
(
__kmp_¡g_bË
[
i
].
Çme
,‚ame) == 0) {

4953  &
__kmp_¡g_bË
[
i
];

4957  
NULL
;

4959 
	}
}

4961 
	$__kmp_¡g_cmp
(cÚ¡ *
_a
, cÚ¡ *
_b
) {

4962 cÚ¡ 
kmp_£‰šg_t
 *
a
 = 
	`RCAST
(cÚ¡ kmp_£‰šg_ˆ*, 
_a
);

4963 cÚ¡ 
kmp_£‰šg_t
 *
b
 = 
	`RCAST
(cÚ¡ kmp_£‰šg_ˆ*, 
_b
);

4967 ià(
	`¡rcmp
(
a
->
Çme
, "KMP_AFFINITY") == 0) {

4968 ià(
	`¡rcmp
(
b
->
Çme
, "KMP_AFFINITY") == 0) {

4972 } ià(
	`¡rcmp
(
b
->
Çme
, "KMP_AFFINITY") == 0) {

4975  
	`¡rcmp
(
a
->
Çme
, 
b
->name);

4976 
	}
}

4978 
	$__kmp_¡g_š™
() {

4980 
š™Ÿlized
 = 0;

4982 ià(!
š™Ÿlized
) {

4985 
	`qsÜt
(
__kmp_¡g_bË
, 
__kmp_¡g_couÁ
 - 1, (
kmp_£‰šg_t
),

4986 
__kmp_¡g_cmp
);

4989 
kmp_£‰šg_t
 *
kmp_¡acksize
 =

4990 
	`__kmp_¡g_fšd
("KMP_STACKSIZE");

4991 #ifdeà
KMP_GOMP_COMPAT


4992 
kmp_£‰šg_t
 *
gomp_¡acksize
 =

4993 
	`__kmp_¡g_fšd
("GOMP_STACKSIZE");

4995 
kmp_£‰šg_t
 *
omp_¡acksize
 =

4996 
	`__kmp_¡g_fšd
("OMP_STACKSIZE");

5002 
kmp_£‰šg_t
 *vŞ©
riv®s
[4];

5003 
kmp_¡g_ss_d©a_t
 
kmp_d©a
 = {1, 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5004 #ifdeà
KMP_GOMP_COMPAT


5005 
kmp_¡g_ss_d©a_t
 
gomp_d©a
 = {1024,

5006 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5008 
kmp_¡g_ss_d©a_t
 
omp_d©a
 = {1024,

5009 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5010 
i
 = 0;

5012 
riv®s
[
i
++] = 
kmp_¡acksize
;

5013 #ifdeà
KMP_GOMP_COMPAT


5014 ià(
gomp_¡acksize
 !ğ
NULL
) {

5015 
riv®s
[
i
++] = 
gomp_¡acksize
;

5018 
riv®s
[
i
++] = 
omp_¡acksize
;

5019 
riv®s
[
i
++] = 
NULL
;

5021 
kmp_¡acksize
->
d©a
 = &
kmp_d©a
;

5022 #ifdeà
KMP_GOMP_COMPAT


5023 ià(
gomp_¡acksize
 !ğ
NULL
) {

5024 
gomp_¡acksize
->
d©a
 = &
gomp_d©a
;

5027 
omp_¡acksize
->
d©a
 = &
omp_d©a
;

5031 
kmp_£‰šg_t
 *
kmp_lib¿ry
 =

5032 
	`__kmp_¡g_fšd
("KMP_LIBRARY");

5033 
kmp_£‰šg_t
 *
omp_wa™_pŞicy
 =

5034 
	`__kmp_¡g_fšd
("OMP_WAIT_POLICY");

5037 
kmp_£‰šg_t
 *vŞ©
riv®s
[3];

5038 
kmp_¡g_wp_d©a_t
 
kmp_d©a
 = {0, 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5039 
kmp_¡g_wp_d©a_t
 
omp_d©a
 = {1, 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5040 
i
 = 0;

5042 
riv®s
[
i
++] = 
kmp_lib¿ry
;

5043 ià(
omp_wa™_pŞicy
 !ğ
NULL
) {

5044 
riv®s
[
i
++] = 
omp_wa™_pŞicy
;

5046 
riv®s
[
i
++] = 
NULL
;

5048 
kmp_lib¿ry
->
d©a
 = &
kmp_d©a
;

5049 ià(
omp_wa™_pŞicy
 !ğ
NULL
) {

5050 
omp_wa™_pŞicy
->
d©a
 = &
omp_d©a
;

5055 
kmp_£‰šg_t
 *
kmp_deviû_th»ad_lim™
 =

5056 
	`__kmp_¡g_fšd
("KMP_DEVICE_THREAD_LIMIT");

5057 
kmp_£‰šg_t
 *
kmp_®l_th»ads
 =

5058 
	`__kmp_¡g_fšd
("KMP_ALL_THREADS");

5061 
kmp_£‰šg_t
 *vŞ©
riv®s
[3];

5062 
i
 = 0;

5064 
riv®s
[
i
++] = 
kmp_deviû_th»ad_lim™
;

5065 
riv®s
[
i
++] = 
kmp_®l_th»ads
;

5066 
riv®s
[
i
++] = 
NULL
;

5068 
kmp_deviû_th»ad_lim™
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5069 
kmp_®l_th»ads
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5074 
kmp_£‰šg_t
 *
kmp_hw_sub£t
 = 
	`__kmp_¡g_fšd
("KMP_HW_SUBSET");

5076 
kmp_£‰šg_t
 *
kmp_¶aû_th»ads
 = 
	`__kmp_¡g_fšd
("KMP_PLACE_THREADS");

5079 
kmp_£‰šg_t
 *vŞ©
riv®s
[3];

5080 
i
 = 0;

5082 
riv®s
[
i
++] = 
kmp_hw_sub£t
;

5083 
riv®s
[
i
++] = 
kmp_¶aû_th»ads
;

5084 
riv®s
[
i
++] = 
NULL
;

5086 
kmp_hw_sub£t
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5087 
kmp_¶aû_th»ads
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5090 #ià
KMP_AFFINITY_SUPPORTED


5092 
kmp_£‰šg_t
 *
kmp_affš™y
 =

5093 
	`__kmp_¡g_fšd
("KMP_AFFINITY");

5094 
	`KMP_DEBUG_ASSERT
(
kmp_affš™y
 !ğ
NULL
);

5096 #ifdeà
KMP_GOMP_COMPAT


5097 
kmp_£‰šg_t
 *
gomp_ıu_affš™y
 =

5098 
	`__kmp_¡g_fšd
("GOMP_CPU_AFFINITY");

5099 
	`KMP_DEBUG_ASSERT
(
gomp_ıu_affš™y
 !ğ
NULL
);

5102 
kmp_£‰šg_t
 *
omp_´oc_bšd
 =

5103 
	`__kmp_¡g_fšd
("OMP_PROC_BIND");

5104 
	`KMP_DEBUG_ASSERT
(
omp_´oc_bšd
 !ğ
NULL
);

5107 
kmp_£‰šg_t
 *vŞ©
riv®s
[4];

5108 
i
 = 0;

5110 
riv®s
[
i
++] = 
kmp_affš™y
;

5112 #ifdeà
KMP_GOMP_COMPAT


5113 
riv®s
[
i
++] = 
gomp_ıu_affš™y
;

5114 
gomp_ıu_affš™y
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5117 
riv®s
[
i
++] = 
omp_´oc_bšd
;

5118 
omp_´oc_bšd
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
);

5119 
riv®s
[
i
++] = 
NULL
;

5121 
kmp_£‰šg_t
 *vŞ©
¶aûs_riv®s
[4];

5122 
i
 = 0;

5124 
kmp_£‰šg_t
 *
omp_¶aûs
 = 
	`__kmp_¡g_fšd
("OMP_PLACES");

5125 
	`KMP_DEBUG_ASSERT
(
omp_¶aûs
 !ğ
NULL
);

5127 
¶aûs_riv®s
[
i
++] = 
kmp_affš™y
;

5128 #ifdeà
KMP_GOMP_COMPAT


5129 
¶aûs_riv®s
[
i
++] = 
gomp_ıu_affš™y
;

5131 
¶aûs_riv®s
[
i
++] = 
omp_¶aûs
;

5132 
omp_¶aûs
->
d©a
 = 
	`CCAST
(
kmp_£‰šg_t
 **, 
¶aûs_riv®s
);

5133 
¶aûs_riv®s
[
i
++] = 
NULL
;

5141 
kmp_£‰šg_t
 *
kmp_fÜû_»d
 =

5142 
	`__kmp_¡g_fšd
("KMP_FORCE_REDUCTION");

5143 
kmp_£‰šg_t
 *
kmp_d‘”m_»d
 =

5144 
	`__kmp_¡g_fšd
("KMP_DETERMINISTIC_REDUCTION");

5147 
kmp_£‰šg_t
 *vŞ©
riv®s
[3];

5148 
kmp_¡g_ä_d©a_t
 
fÜû_d©a
 = {1,

5149 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5150 
kmp_¡g_ä_d©a_t
 
d‘”m_d©a
 = {0,

5151 
	`CCAST
(
kmp_£‰šg_t
 **, 
riv®s
)};

5152 
i
 = 0;

5154 
riv®s
[
i
++] = 
kmp_fÜû_»d
;

5155 ià(
kmp_d‘”m_»d
 !ğ
NULL
) {

5156 
riv®s
[
i
++] = 
kmp_d‘”m_»d
;

5158 
riv®s
[
i
++] = 
NULL
;

5160 
kmp_fÜû_»d
->
d©a
 = &
fÜû_d©a
;

5161 ià(
kmp_d‘”m_»d
 !ğ
NULL
) {

5162 
kmp_d‘”m_»d
->
d©a
 = &
d‘”m_d©a
;

5166 
š™Ÿlized
 = 1;

5170 
i
;

5171 
i
 = 0; i < 
__kmp_¡g_couÁ
; ++i) {

5172 
__kmp_¡g_bË
[
i
].
£t
 = 0;

5175 
	}
}

5177 
	$__kmp_¡g_·r£
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
) {

5181 ià(
Çme
[0] == 0) {

5185 ià(
v®ue
 !ğ
NULL
) {

5186 
kmp_£‰šg_t
 *
£‰šg
 = 
	`__kmp_¡g_fšd
(
Çme
);

5187 ià(
£‰šg
 !ğ
NULL
) {

5188 
£‰šg
->
	`·r£
(
Çme
, 
v®ue
, s‘tšg->
d©a
);

5189 
£‰šg
->
defšed
 = 1;

5193 
	}
}

5195 
	$__kmp_¡g_check_riv®s
(

5196 cÚ¡ *
Çme
,

5197 cÚ¡ *
v®ue
,

5198 
kmp_£‰šg_t
 **
riv®s


5201 ià(
riv®s
 =ğ
NULL
) {

5206 
i
 = 0;

5207 ; 
	`¡rcmp
(
riv®s
[
i
]->
Çme
,‚ame) != 0; i++) {

5208 
	`KMP_DEBUG_ASSERT
(
riv®s
[
i
] !ğ
NULL
);

5210 #ià
KMP_AFFINITY_SUPPORTED


5211 ià(
riv®s
[
i
] =ğ
__kmp_affš™y_nÙy³
) {

5218 ià(
riv®s
[
i
]->
£t
) {

5219 
	`KMP_WARNING
(
StgIgnÜed
, 
Çme
, 
riv®s
[
i
]->name);

5224 ++
i
;

5227 
	}
}

5229 
	$__kmp_’v_toPršt
(cÚ¡ *
Çme
, 
æag
) {

5230 
rc
 = 0;

5231 
kmp_£‰šg_t
 *
£‰šg
 = 
	`__kmp_¡g_fšd
(
Çme
);

5232 ià(
£‰šg
 !ğ
NULL
) {

5233 
rc
 = 
£‰šg
->
defšed
;

5234 ià(
æag
 >= 0) {

5235 
£‰šg
->
defšed
 = 
æag
;

5238  
rc
;

5239 
	}
}

5241 
	$__kmp_aux_’v_š™Ÿlize
(
kmp_’v_blk_t
 *
block
) {

5243 cÚ¡ *
v®ue
;

5246 
v®ue
 = 
	`__kmp_’v_blk_v¬
(
block
, "OMP_NUM_THREADS");

5247 ià(
v®ue
) {

5248 
	`ompc_£t_num_th»ads
(
__kmp_dæt_‹am_Áh
);

5252 
v®ue
 = 
	`__kmp_’v_blk_v¬
(
block
, "KMP_BLOCKTIME");

5253 ià(
v®ue
) {

5254 
	`kmpc_£t_blocktime
(
__kmp_dæt_blocktime
);

5258 
v®ue
 = 
	`__kmp_’v_blk_v¬
(
block
, "OMP_NESTED");

5259 ià(
v®ue
) {

5260 
	`ompc_£t_Ã¡ed
(
__kmp_dæt_max_aùive_Ëv–s
 > 1);

5264 
v®ue
 = 
	`__kmp_’v_blk_v¬
(
block
, "OMP_DYNAMIC");

5265 ià(
v®ue
) {

5266 
	`ompc_£t_dyÇmic
(
__kmp_glob®
.
g
.
g_dyÇmic
);

5268 
	}
}

5270 
	$__kmp_’v_š™Ÿlize
(cÚ¡ *
¡ršg
) {

5272 
kmp_’v_blk_t
 
block
;

5273 
i
;

5275 
	`__kmp_¡g_š™
();

5278 ià(
¡ršg
 =ğ
NULL
) {

5280 
__kmp_th»ads_ÿ·c™y
 =

5281 
	`__kmp_š™Ÿl_th»ads_ÿ·c™y
(
__kmp_dæt_‹am_Áh_ub
);

5283 
	`__kmp_’v_blk_š™
(&
block
, 
¡ršg
);

5286 
i
 = 0; i < 
block
.
couÁ
; ++i) {

5287 ià((
block
.
v¬s
[
i
].
Çme
 =ğ
NULL
) || (*block.vars[i].name == '\0')) {

5290 ià(
block
.
v¬s
[
i
].
v®ue
 =ğ
NULL
) {

5293 
kmp_£‰šg_t
 *
£‰šg
 = 
	`__kmp_¡g_fšd
(
block
.
v¬s
[
i
].
Çme
);

5294 ià(
£‰šg
 !ğ
NULL
) {

5295 
£‰šg
->
£t
 = 1;

5300 
blocktime_¡r
 = 
	`__kmp_’v_blk_v¬
(&
block
, "KMP_BLOCKTIME");

5304 ià(
¡ršg
 =ğ
NULL
) {

5305 cÚ¡ *
Çme
 = "KMP_WARNINGS";

5306 cÚ¡ *
v®ue
 = 
	`__kmp_’v_blk_v¬
(&
block
, 
Çme
);

5307 
	`__kmp_¡g_·r£
(
Çme
, 
v®ue
);

5310 #ià
KMP_AFFINITY_SUPPORTED


5316 
__kmp_affš™y_nÙy³
 = 
NULL
;

5317 cÚ¡ *
aff_¡r
 = 
	`__kmp_’v_blk_v¬
(&
block
, "KMP_AFFINITY");

5318 ià(
aff_¡r
 !ğ
NULL
) {

5329 #ià
KMP_OS_WINDOWS


5330 
	#FIND
 
¡r¡r


	)

5332 
	#FIND
 
¡rÿ£¡r


	)

5335 ià((
	`FIND
(
aff_¡r
, "nÚe"è=ğ
NULL
) &&

5336 (
	`FIND
(
aff_¡r
, "physiÿl"è=ğ
NULL
) &&

5337 (
	`FIND
(
aff_¡r
, "logiÿl"è=ğ
NULL
) &&

5338 (
	`FIND
(
aff_¡r
, "com·ù"è=ğ
NULL
) &&

5339 (
	`FIND
(
aff_¡r
, "sÿ‰”"è=ğ
NULL
) &&

5340 (
	`FIND
(
aff_¡r
, "ex¶ic™"è=ğ
NULL
) &&

5341 (
	`FIND
(
aff_¡r
, "b®ªûd"è=ğ
NULL
) &&

5342 (
	`FIND
(
aff_¡r
, "di§bËd"è=ğ
NULL
)) {

5343 
__kmp_affš™y_nÙy³
 = 
	`__kmp_¡g_fšd
("KMP_AFFINITY");

5348 
__kmp_affš™y_ty³
 = 
affš™y_deçuÉ
;

5349 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_deçuÉ
;

5350 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_deçuÉ
;

5351 
__kmp_affš™y_»¥eù_mask
 = 
affš™y_»¥eù_mask_deçuÉ
;

5353 #undeà
FIND


5356 
aff_¡r
 = 
	`__kmp_’v_blk_v¬
(&
block
, "OMP_PROC_BIND");

5357 ià(
aff_¡r
 !ğ
NULL
) {

5358 
__kmp_affš™y_ty³
 = 
affš™y_deçuÉ
;

5359 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_deçuÉ
;

5360 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_deçuÉ
;

5361 
__kmp_affš™y_»¥eù_mask
 = 
affš™y_»¥eù_mask_deçuÉ
;

5368 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =ğ
NULL
) {

5369 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =

5370 (
kmp_´oc_bšd_t
 *)
	`KMP_INTERNAL_MALLOC
((kmp_proc_bind_t));

5371 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 =ğ
NULL
) {

5372 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

5374 
__kmp_Ã¡ed_´oc_bšd
.
size
 = 1;

5375 
__kmp_Ã¡ed_´oc_bšd
.
u£d
 = 1;

5376 #ià
KMP_AFFINITY_SUPPORTED


5377 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_deçuÉ
;

5380 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

5386 
kmp_msg_t
 
m
 =

5387 
	`__kmp_msg_fÜm©
(
kmp_i18n_msg_AffFÜm©DeçuÉ
, "%P", "%i", "%n", "%A");

5388 
	`KMP_DEBUG_ASSERT
(
	`KMP_STRLEN
(
m
.
¡r
è< 
KMP_AFFINITY_FORMAT_SIZE
);

5390 ià(
__kmp_affš™y_fÜm©
 =ğ
NULL
) {

5391 
__kmp_affš™y_fÜm©
 =

5392 (*)
	`KMP_INTERNAL_MALLOC
((è* 
KMP_AFFINITY_FORMAT_SIZE
);

5394 
	`KMP_STRCPY_S
(
__kmp_affš™y_fÜm©
, 
KMP_AFFINITY_FORMAT_SIZE
, 
m
.
¡r
);

5395 
	`__kmp_¡r_ä“
(&
m
.
¡r
);

5398 
i
 = 0; i < 
block
.
couÁ
; ++i) {

5399 
	`__kmp_¡g_·r£
(
block
.
v¬s
[
i
].
Çme
, block.v¬s[i].
v®ue
);

5403 ià(!
__kmp_š™_u£r_locks
) {

5404 ià(
__kmp_u£r_lock_kšd
 =ğ
lk_deçuÉ
) {

5405 
__kmp_u£r_lock_kšd
 = 
lk_queušg
;

5407 #ià
KMP_USE_DYNAMIC_LOCK


5408 
	`__kmp_š™_dyÇmic_u£r_locks
();

5410 
	`__kmp_£t_u£r_lock_v±rs
(
__kmp_u£r_lock_kšd
);

5413 
	`KMP_DEBUG_ASSERT
(
¡ršg
 !ğ
NULL
);

5414 
	`KMP_DEBUG_ASSERT
(
__kmp_u£r_lock_kšd
 !ğ
lk_deçuÉ
);

5419 #ià
KMP_USE_DYNAMIC_LOCK


5420 
	`__kmp_š™_dyÇmic_u£r_locks
();

5422 
	`__kmp_£t_u£r_lock_v±rs
(
__kmp_u£r_lock_kšd
);

5426 #ià
KMP_AFFINITY_SUPPORTED


5428 ià(!
	`TCR_4
(
__kmp_š™_middË
)) {

5429 #ià
KMP_USE_HWLOC


5432 ià((
__kmp_hws_node
.
num
 > 0 || 
__kmp_hws_te
.num > 0 ||

5433 
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_te
) &&

5434 (
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_deçuÉ
)) {

5435 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_hwloc
;

5440 cÚ¡ *
v¬
 = "KMP_AFFINITY";

5441 
KMPAffš™y
::
	`pick_­i
();

5442 #ià
KMP_USE_HWLOC


5446 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_hwloc
 &&

5447 
__kmp_affš™y_di¥©ch
->
	`g‘_­i_ty³
(è!ğ
KMPAffš™y
::
HWLOC
) {

5448 
	`KMP_WARNING
(
AffIgnÜšgHwloc
, 
v¬
);

5449 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_®l
;

5452 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_di§bËd
) {

5453 
	`KMP_AFFINITY_DISABLE
();

5454 } ià(!
	`KMP_AFFINITY_CAPABLE
()) {

5455 
__kmp_affš™y_di¥©ch
->
	`d‘”mše_ÿ·bË
(
v¬
);

5456 ià(!
	`KMP_AFFINITY_CAPABLE
()) {

5457 ià(
__kmp_affš™y_v”bo£
 ||

5458 (
__kmp_affš™y_w¬nšgs
 &&

5459 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

5460 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

5461 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

5462 
	`KMP_WARNING
(
AffNÙSuµÜ‹d
, 
v¬
);

5464 
__kmp_affš™y_ty³
 = 
affš™y_di§bËd
;

5465 
__kmp_affš™y_»¥eù_mask
 = 0;

5466 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

5470 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_di§bËd
) {

5471 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

5472 } ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_Œue
) {

5474 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_¥»ad
;

5477 ià(
	`KMP_AFFINITY_CAPABLE
()) {

5479 #ià
KMP_GROUP_AFFINITY


5484 
boŞ
 
exaùly_Úe_group
 = 
çl£
;

5485 ià(
__kmp_num_´oc_groups
 > 1) {

5486 
group
;

5487 
boŞ
 
w™hš_Úe_group
;

5490 
kmp_affš_mask_t
 *
š™_mask
;

5491 
	`KMP_CPU_ALLOC
(
š™_mask
);

5492 
	`__kmp_g‘_sy¡em_affš™y
(
š™_mask
, 
TRUE
);

5493 
group
 = 
	`__kmp_g‘_´oc_group
(
š™_mask
);

5494 
w™hš_Úe_group
 = (
group
 >= 0);

5497 ià(
w™hš_Úe_group
) {

5498 
DWORD
 
num_b™s_š_group
 = 
	`__kmp_G‘AùiveProûssÜCouÁ
(
group
);

5499 
DWORD
 
num_b™s_š_mask
 = 0;

5500 
b™
 = 
š™_mask
->
	`begš
(); b™ !ğš™_mask->
	`’d
();

5501 
b™
 = 
š™_mask
->
	`Ãxt
(bit))

5502 
num_b™s_š_mask
++;

5503 
exaùly_Úe_group
 = (
num_b™s_š_group
 =ğ
num_b™s_š_mask
);

5505 
	`KMP_CPU_FREE
(
š™_mask
);

5511 ià(((
__kmp_num_´oc_groups
 > 1) &&

5512 (
__kmp_affš™y_ty³
 =ğ
affš™y_deçuÉ
) &&

5513 (
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] =ğ
´oc_bšd_deçuÉ
)) ||

5514 (
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_group
)) {

5515 ià(
__kmp_affš™y_»¥eù_mask
 =ğ
affš™y_»¥eù_mask_deçuÉ
 &&

5516 
exaùly_Úe_group
) {

5517 
__kmp_affš™y_»¥eù_mask
 = 
FALSE
;

5519 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_deçuÉ
) {

5520 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

5521 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

5523 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_deçuÉ
) {

5524 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_deçuÉ
) {

5525 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_group
;

5526 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_group
;

5527 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_group
) {

5528 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_group
;

5530 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_®l
;

5532 } ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_group
) {

5533 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_deçuÉ
) {

5534 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_group
;

5535 } ià((
__kmp_affš™y_g¿n
 !ğ
affš™y_g¿n_group
) &&

5536 (
__kmp_affš™y_g¿n
 !ğ
affš™y_g¿n_fše
) &&

5537 (
__kmp_affš™y_g¿n
 !ğ
affš™y_g¿n_th»ad
)) {

5538 cÚ¡ *
¡r
 = 
NULL
;

5539 
__kmp_affš™y_g¿n
) {

5540 
affš™y_g¿n_cÜe
:

5541 
¡r
 = "core";

5543 
affš™y_g¿n_·ckage
:

5544 
¡r
 = "package";

5546 
affš™y_g¿n_node
:

5547 
¡r
 = "node";

5549 
affš™y_g¿n_te
:

5550 
¡r
 = "tile";

5553 
	`KMP_DEBUG_ASSERT
(0);

5555 
	`KMP_WARNING
(
AffG¿nTİGroup
, 
v¬
, 
¡r
);

5556 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

5559 ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_deçuÉ
) {

5560 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_cÜe
;

5561 } ià(
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_group
) {

5562 cÚ¡ *
¡r
 = 
NULL
;

5563 
__kmp_affš™y_ty³
) {

5564 
affš™y_physiÿl
:

5565 
¡r
 = "physical";

5567 
affš™y_logiÿl
:

5568 
¡r
 = "logical";

5570 
affš™y_com·ù
:

5571 
¡r
 = "compact";

5573 
affš™y_sÿ‰”
:

5574 
¡r
 = "scatter";

5576 
affš™y_ex¶ic™
:

5577 
¡r
 = "explicit";

5581 
	`KMP_DEBUG_ASSERT
(0);

5583 
	`KMP_WARNING
(
AffG¿nGroupTy³
, 
v¬
, 
¡r
);

5584 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_cÜe
;

5592 ià(
__kmp_affš™y_»¥eù_mask
 =ğ
affš™y_»¥eù_mask_deçuÉ
) {

5593 #ià
KMP_GROUP_AFFINITY


5594 ià(
__kmp_num_´oc_groups
 > 1 && 
exaùly_Úe_group
) {

5595 
__kmp_affš™y_»¥eù_mask
 = 
FALSE
;

5599 
__kmp_affš™y_»¥eù_mask
 = 
TRUE
;

5602 ià((
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] !ğ
´oc_bšd_š‹l
) &&

5603 (
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] !ğ
´oc_bšd_deçuÉ
)) {

5604 ià(
__kmp_affš™y_ty³
 =ğ
affš™y_deçuÉ
) {

5605 
__kmp_affš™y_ty³
 = 
affš™y_com·ù
;

5606 
__kmp_affš™y_dups
 = 
FALSE
;

5608 } ià(
__kmp_affš™y_ty³
 =ğ
affš™y_deçuÉ
) {

5609 #ià
KMP_MIC_SUPPORTED


5610 ià(
__kmp_mic_ty³
 !ğ
nÚ_mic
) {

5611 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_š‹l
;

5615 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

5617 #ià
KMP_MIC_SUPPORTED


5618 ià(
__kmp_mic_ty³
 !ğ
nÚ_mic
) {

5619 
__kmp_affš™y_ty³
 = 
affš™y_sÿ‰”
;

5623 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

5626 ià((
__kmp_affš™y_g¿n
 =ğ
affš™y_g¿n_deçuÉ
) &&

5627 (
__kmp_affš™y_g¿n_Ëv–s
 < 0)) {

5628 #ià
KMP_MIC_SUPPORTED


5629 ià(
__kmp_mic_ty³
 !ğ
nÚ_mic
) {

5630 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_fše
;

5634 
__kmp_affš™y_g¿n
 = 
affš™y_g¿n_cÜe
;

5637 ià(
__kmp_affš™y_tİ_m‘hod
 =ğ
affš™y_tİ_m‘hod_deçuÉ
) {

5638 
__kmp_affš™y_tİ_m‘hod
 = 
affš™y_tİ_m‘hod_®l
;

5643 
	`K_DIAG
(1, ("__kmp_affš™y_ty³ =ğ%d\n", 
__kmp_affš™y_ty³
));

5644 
	`K_DIAG
(1, ("__kmp_affš™y_com·ù =ğ%d\n", 
__kmp_affš™y_com·ù
));

5645 
	`K_DIAG
(1, ("__kmp_affš™y_off£ˆ =ğ%d\n", 
__kmp_affš™y_off£t
));

5646 
	`K_DIAG
(1, ("__kmp_affš™y_v”bo£ =ğ%d\n", 
__kmp_affš™y_v”bo£
));

5647 
	`K_DIAG
(1, ("__kmp_affš™y_w¬nšg  =ğ%d\n", 
__kmp_affš™y_w¬nšgs
));

5648 
	`K_DIAG
(1, ("__kmp_affinity_respect_mask == %d\n",

5649 
__kmp_affš™y_»¥eù_mask
));

5650 
	`K_DIAG
(1, ("__kmp_affš™y_g¿À =ğ%d\n", 
__kmp_affš™y_g¿n
));

5652 
	`KMP_DEBUG_ASSERT
(
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
);

5653 
	`KMP_DEBUG_ASSERT
(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] !ğ
´oc_bšd_deçuÉ
);

5654 
	`K_DIAG
(1, ("__kmp_nested_proc_bind.bind_types[0] == %d\n",

5655 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0]));

5660 ià(
__kmp_v”siÚ
) {

5661 
	`__kmp_´št_v”siÚ_1
();

5666 ià(
¡ršg
 !ğ
NULL
) {

5667 
	`__kmp_aux_’v_š™Ÿlize
(&
block
);

5670 
	`__kmp_’v_blk_ä“
(&
block
);

5672 
	`KMP_MB
();

5674 
	}
}

5676 
	$__kmp_’v_´št
() {

5678 
kmp_’v_blk_t
 
block
;

5679 
i
;

5680 
kmp_¡r_buf_t
 
bufãr
;

5682 
	`__kmp_¡g_š™
();

5683 
	`__kmp_¡r_buf_š™
(&
bufãr
);

5685 
	`__kmp_’v_blk_š™
(&
block
, 
NULL
);

5686 
	`__kmp_’v_blk_sÜt
(&
block
);

5689 
	`__kmp_¡r_buf_´št
(&
bufãr
, "\n%s\n\n", 
	`KMP_I18N_STR
(
U£rS‘tšgs
));

5690 
i
 = 0; i < 
block
.
couÁ
; ++i) {

5691 cÚ¡ *
Çme
 = 
block
.
v¬s
[
i
].name;

5692 cÚ¡ *
v®ue
 = 
block
.
v¬s
[
i
].value;

5693 ià((
	`KMP_STRLEN
(
Çme
è> 4 && 
	`¡ºcmp
(name, "KMP_", 4) == 0) ||

5694 
	`¡ºcmp
(
Çme
, "OMP_", 4) == 0

5695 #ifdeà
KMP_GOMP_COMPAT


5696 || 
	`¡ºcmp
(
Çme
, "GOMP_", 5) == 0

5699 
	`__kmp_¡r_buf_´št
(&
bufãr
, " %s=%s\n", 
Çme
, 
v®ue
);

5702 
	`__kmp_¡r_buf_´št
(&
bufãr
, "\n");

5705 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n\n", 
	`KMP_I18N_STR
(
EfãùiveS‘tšgs
));

5706 
i
 = 0; i < 
__kmp_¡g_couÁ
; ++i) {

5707 ià(
__kmp_¡g_bË
[
i
].
´št
 !ğ
NULL
) {

5708 
__kmp_¡g_bË
[
i
].
	`´št
(&
bufãr
, __kmp_¡g_bË[i].
Çme
,

5709 
__kmp_¡g_bË
[
i
].
d©a
);

5713 
	`__kmp_´štf
("%s", 
bufãr
.
¡r
);

5715 
	`__kmp_’v_blk_ä“
(&
block
);

5716 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

5718 
	`__kmp_´štf
("\n");

5720 
	}
}

5722 
	$__kmp_’v_´št_2
() {

5723 
	`__kmp_di¥Ïy_’v_im¶
(
__kmp_di¥Ïy_’v
, 
__kmp_di¥Ïy_’v_v”bo£
);

5724 
	}
}

5727 
	$__kmp_di¥Ïy_’v_im¶
(
di¥Ïy_’v
, 
di¥Ïy_’v_v”bo£
) {

5728 
kmp_’v_blk_t
 
block
;

5729 
kmp_¡r_buf_t
 
bufãr
;

5731 
__kmp_’v_fÜm©
 = 1;

5733 
	`__kmp_¡g_š™
();

5734 
	`__kmp_¡r_buf_š™
(&
bufãr
);

5736 
	`__kmp_’v_blk_š™
(&
block
, 
NULL
);

5737 
	`__kmp_’v_blk_sÜt
(&
block
);

5739 
	`__kmp_¡r_buf_´št
(&
bufãr
, "\n%s\n", 
	`KMP_I18N_STR
(
Di¥ÏyEnvBegš
));

5740 
	`__kmp_¡r_buf_´št
(&
bufãr
, " _OPENMP='%d'\n", 
__kmp_İ’mp_v”siÚ
);

5742 
i
 = 0; i < 
__kmp_¡g_couÁ
; ++i) {

5743 ià(
__kmp_¡g_bË
[
i
].
´št
 !ğ
NULL
 &&

5744 ((
di¥Ïy_’v
 &&

5745 
	`¡ºcmp
(
__kmp_¡g_bË
[
i
].
Çme
, "OMP_", 4) == 0) ||

5746 
di¥Ïy_’v_v”bo£
)) {

5747 
__kmp_¡g_bË
[
i
].
	`´št
(&
bufãr
, __kmp_¡g_bË[i].
Çme
,

5748 
__kmp_¡g_bË
[
i
].
d©a
);

5752 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n", 
	`KMP_I18N_STR
(
Di¥ÏyEnvEnd
));

5753 
	`__kmp_¡r_buf_´št
(&
bufãr
, "\n");

5755 
	`__kmp_´štf
("%s", 
bufãr
.
¡r
);

5757 
	`__kmp_’v_blk_ä“
(&
block
);

5758 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

5760 
	`__kmp_´štf
("\n");

5761 
	}
}

	@kmp_settings.h

13 #iâdeà
KMP_SETTINGS_H


14 
	#KMP_SETTINGS_H


	)

16 
__kmp_»£t_glob®_v¬s
();

17 
__kmp_’v_š™Ÿlize
(const *);

18 
__kmp_’v_´št
();

19 
__kmp_’v_´št_2
();

20 
__kmp_di¥Ïy_’v_im¶
(
di¥Ïy_’v
, 
di¥Ïy_’v_v”bo£
);

22 
__kmp_š™Ÿl_th»ads_ÿ·c™y
(
»q_Åroc
);

23 
__kmp_š™_dæt_‹am_Áh
();

24 
__kmp_cÚv”t_to_mli£cÚds
(const *);

25 
__kmp_deçuÉ__ÿ·c™y
(, , );

27 #ià
KMP_MIC


28 
	#KMP_STR_BUF_PRINT_NAME
 \

29 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s", 
	`KMP_I18N_STR
(
Deviû
), 
Çme
)

	)

30 
	#KMP_STR_BUF_PRINT_NAME_EX
(
x
) \

31 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='", 
	`KMP_I18N_STR
(
Deviû
), 
x
)

	)

32 
	#KMP_STR_BUF_PRINT_BOOL_EX
(
n
, 
v
, 
t
, 
f
) \

33 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%s'\n", 
	`KMP_I18N_STR
(
Deviû
), 
n
, \

34 (
v
è? 
t
 : 
f
)

	)

35 
	#KMP_STR_BUF_PRINT_BOOL
 \

36 
	`KMP_STR_BUF_PRINT_BOOL_EX
(
Çme
, 
v®ue
, "TRUE", "FALSE")

	)

37 
	#KMP_STR_BUF_PRINT_INT
 \

38 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%d'\n", 
	`KMP_I18N_STR
(
Deviû
), 
Çme
, \

39 
v®ue
)

	)

40 
	#KMP_STR_BUF_PRINT_UINT64
 \

41 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%" 
KMP_UINT64_SPEC
 "'\n", \

42 
	`KMP_I18N_STR
(
Deviû
), 
Çme
, 
v®ue
);

	)

43 
	#KMP_STR_BUF_PRINT_STR
 \

44 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%s'\n", 
	`KMP_I18N_STR
(
Deviû
), 
Çme
, \

45 
v®ue
)

	)

47 
	#KMP_STR_BUF_PRINT_NAME
 \

48 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s", 
	`KMP_I18N_STR
(
Ho¡
), 
Çme
)

	)

49 
	#KMP_STR_BUF_PRINT_NAME_EX
(
x
) \

50 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='", 
	`KMP_I18N_STR
(
Ho¡
), 
x
)

	)

51 
	#KMP_STR_BUF_PRINT_BOOL_EX
(
n
, 
v
, 
t
, 
f
) \

52 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%s'\n", 
	`KMP_I18N_STR
(
Ho¡
), 
n
, \

53 (
v
è? 
t
 : 
f
)

	)

54 
	#KMP_STR_BUF_PRINT_BOOL
 \

55 
	`KMP_STR_BUF_PRINT_BOOL_EX
(
Çme
, 
v®ue
, "TRUE", "FALSE")

	)

56 
	#KMP_STR_BUF_PRINT_INT
 \

57 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%d'\n", 
	`KMP_I18N_STR
(
Ho¡
), 
Çme
, 
v®ue
)

	)

58 
	#KMP_STR_BUF_PRINT_UINT64
 \

59 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%" 
KMP_UINT64_SPEC
 "'\n", \

60 
	`KMP_I18N_STR
(
Ho¡
), 
Çme
, 
v®ue
);

	)

61 
	#KMP_STR_BUF_PRINT_STR
 \

62 
	`__kmp_¡r_buf_´št
(
bufãr
, " % %s='%s'\n", 
	`KMP_I18N_STR
(
Ho¡
), 
Çme
, 
v®ue
)

	)

	@kmp_stats.cpp

13 
	~"kmp.h
"

14 
	~"kmp_lock.h
"

15 
	~"kmp_¡©s.h
"

16 
	~"kmp_¡r.h
"

18 
	~<®gÜ™hm
>

19 
	~<ùime
>

20 
	~<iomª
>

21 
	~<s¡»am
>

22 
	~<¡dlib.h
>

23 
	~<cm©h
>

25 
	#STRINGIZE2
(
x
è#x

	)

26 
	#STRINGIZE
(
x
è
	`STRINGIZE2
(x)

	)

28 
	#ex·ndName
(
Çme
, 
æags
, 
ignÜe
è{
	`STRINGIZE
Òame), fÏgs},

	)

29 
¡©Info
 
	gtimeSt
::
tim”Info
[] = {

30 
KMP_FOREACH_TIMER
(
ex·ndName
, 0){"TIMER_LAST", 0}};

31 cÚ¡ 
¡©Info
 
	gcouÁ”
::
couÁ”Info
[] = {

32 
KMP_FOREACH_COUNTER
(
ex·ndName
, 0){"COUNTER_LAST", 0}};

33 #undeà
ex·ndName


35 
	#ex·ndName
(
ignÜe1
, 
ignÜe2
, 
ignÜe3
è{0.0, 0.0, 0.0},

	)

36 
	gkmp_¡©s_ouut_moduË
::
rgb_cŞÜ
 
kmp_¡©s_ouut_moduË
::
tim”CŞÜInfo
[] = {

37 
KMP_FOREACH_TIMER
(
ex·ndName
, 0){0.0, 0.0, 0.0}};

38 #undeà
ex·ndName


40 cÚ¡ 
	gkmp_¡©s_ouut_moduË
::
rgb_cŞÜ


41 
kmp_¡©s_ouut_moduË
::
glob®CŞÜA¼ay
[] = {

65 
ušt32_t
 
	g¡©sPrš‹d
 = 0;

68 
kmp_¡©s_ouut_moduË
 *
	g__kmp_¡©s_glob®_ouut
 = 
NULL
;

70 
	glogHi¡og¿m
::
bšMax
[] = {

78 
	g¡©i¡ic
::
	$addSam¶e
(
§m¶e
) {

79 
§m¶e
 -ğ
off£t
;

80 
	`KMP_DEBUG_ASSERT
(
¡d
::
	`isfš™e
(
§m¶e
));

82 
d–
 = 
§m¶e
 - 
m—nV®
;

84 
§m¶eCouÁ
 = sampleCount + 1;

85 
m—nV®
 = m—nV® + 
d–
 / 
§m¶eCouÁ
;

86 
m2
 = m2 + 
d–
 * (
§m¶e
 - 
m—nV®
);

88 
mšV®
 = 
¡d
::
	`mš
(mšV®, 
§m¶e
);

89 
maxV®
 = 
¡d
::
	`max
(maxV®, 
§m¶e
);

90 ià(
cŞËùšgHi¡
)

91 
hi¡
.
	`addSam¶e
(
§m¶e
);

92 
	}
}

94 
	g¡©i¡ic
 &¡©i¡ic::
İ”©Ü
+=(cÚ¡ 
¡©i¡ic
 &
Ùh”
) {

95 ià(
Ùh”
.
§m¶eCouÁ
 == 0)

96  *
this
;

98 ià(
	g§m¶eCouÁ
 == 0) {

99 *
this
 = 
Ùh”
;

100  *
	gthis
;

103 
ušt64_t
 
	gÃwSam¶eCouÁ
 = 
§m¶eCouÁ
 + 
Ùh”
.sampleCount;

104 
	gdnsc
 = (
ÃwSam¶eCouÁ
);

105 
	gdsc
 = (
§m¶eCouÁ
);

106 
	gdscBydnsc
 = 
dsc
 / 
dnsc
;

107 
	gdosc
 = (
Ùh”
.
§m¶eCouÁ
);

108 
	gd–
 = 
Ùh”
.
m—nV®
 - meanVal;

116 
	gm—nV®
 = 
m—nV®
 * 
dscBydnsc
 + 
Ùh”
.meanVal * (1 - dscBydnsc);

117 
	gm2
 = 
m2
 + 
Ùh”
.m2 + 
dscBydnsc
 * 
dosc
 * 
d–
 * delta;

118 
	gmšV®
 = 
¡d
::
mš
(
mšV®
, 
Ùh”
.minVal);

119 
	gmaxV®
 = 
¡d
::
max
(
maxV®
, 
Ùh”
.maxVal);

120 
	g§m¶eCouÁ
 = 
ÃwSam¶eCouÁ
;

121 ià(
	gcŞËùšgHi¡
)

122 
	ghi¡
 +ğ
Ùh”
.
hi¡
;

124  *
	gthis
;

127 
	g¡©i¡ic
::
	$sÿË
(
çùÜ
) {

128 
mšV®
 = mšV® * 
çùÜ
;

129 
maxV®
 = maxV® * 
çùÜ
;

130 
m—nV®
 = m—nV® * 
çùÜ
;

131 
m2
 = m2 * 
çùÜ
 * factor;

133 
	}
}

135 
	g¡d
::
¡ršg
 
¡©i¡ic
::
	$fÜm©
(
un™
, 
boŞ
 
tÙ®
) const {

136 
¡d
::
¡ršg
 
»suÉ
 = 
	`fÜm©SI
(
§m¶eCouÁ
, 9, ' ');

138 ià(
§m¶eCouÁ
 == 0) {

139 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(0.0, 9, 
un™
);

140 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(0.0, 9, 
un™
);

141 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(0.0, 9, 
un™
);

142 ià(
tÙ®
)

143 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(0.0, 9, 
un™
);

144 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(0.0, 9, 
un™
);

146 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(
mšV®
, 9, 
un™
);

147 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(
m—nV®
, 9, 
un™
);

148 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(
maxV®
, 9, 
un™
);

149 ià(
tÙ®
)

150 
»suÉ
 =

151 
»suÉ
 + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(
m—nV®
 * 
§m¶eCouÁ
, 9, 
un™
);

152 
»suÉ
 =„esuÉ + 
¡d
::
	`¡ršg
(", "è+ 
	`fÜm©SI
(
	`g‘SD
(), 9, 
un™
);

154  
»suÉ
;

155 
	}
}

160 
	glogHi¡og¿m
::
	$mšBš
() const {

161 
i
 = 0; i < 
numBšs
; i++) {

162 ià(
bšs
[
i
].
couÁ
 != 0)

163  
i
 - 
logOff£t
;

165  -
logOff£t
;

166 
	}
}

169 
	glogHi¡og¿m
::
	$maxBš
() const {

170 
i
 = 
numBšs
 - 1; i >= 0; i--) {

171 ià(
bšs
[
i
].
couÁ
 != 0)

172  
i
 - 
logOff£t
;

174  -
logOff£t
;

175 
	}
}

178 
ušt32_t
 
	glogHi¡og¿m
::
	$fšdBš
(
§m¶e
) {

179 
v
 = 
¡d
::
	`çbs
(
§m¶e
);

184 
b
 = 0; b < 
numBšs
; b++)

185 ià(
bšMax
[
b
] > 
v
)

186  
b
;

187 
	`årštf
(
¡d”r
,

189 
	`KMP_ASSERT
(0);

191 
	}
}

193 
	glogHi¡og¿m
::
	$addSam¶e
(
§m¶e
) {

194 ià(
§m¶e
 == 0.0) {

195 
z”oCouÁ
 += 1;

196 #ifdeà
KMP_DEBUG


197 
_tÙ®
++;

198 
	`check
();

202 
	`KMP_DEBUG_ASSERT
(
¡d
::
	`isfš™e
(
§m¶e
));

203 
ušt32_t
 
bš
 = 
	`fšdBš
(
§m¶e
);

204 
	`KMP_DEBUG_ASSERT
(0 <ğ
bš
 && bš < 
numBšs
);

206 
bšs
[
bš
].
couÁ
 += 1;

207 
bšs
[
bš
].
tÙ®
 +ğ
§m¶e
;

208 #ifdeà
KMP_DEBUG


209 
_tÙ®
++;

210 
	`check
();

212 
	}
}

215 
	g¡d
::
¡ršg
 
logHi¡og¿m
::
	$fÜm©
(
un™
) const {

216 
¡d
::
¡ršg¡»am
 
»suÉ
;

218 
»suÉ
 << "Bin, Count, Total\n";

219 ià(
z”oCouÁ
) {

220 
»suÉ
 << "0, " << 
	`fÜm©SI
(
z”oCouÁ
, 9, ' ') << ", ",

221 
	`fÜm©SI
(0.0, 9, 
un™
);

222 ià(
	`couÁ
(
	`mšBš
()) == 0)

223  
»suÉ
.
	`¡r
();

224 
»suÉ
 << "\n";

226 
i
 = 
	`mšBš
(); i <ğ
	`maxBš
(); i++) {

227 
»suÉ
 << "10**" << 
i
 << "<=v<10**" << (i + 1) << ", "

228 << 
	`fÜm©SI
(
	`couÁ
(
i
), 9, ' 'è<< ", " << fÜm©SI(
	`tÙ®
(i), 9, 
un™
);

229 ià(
i
 !ğ
	`maxBš
())

230 
»suÉ
 << "\n";

233  
»suÉ
.
	`¡r
();

234 
	}
}

238 
	gex¶ic™Tim”
::
	$¡¬t
(
tsc_tick_couÁ
 
tick
) {

239 
¡¬tTime
 = 
tick
;

240 
tÙ®Pau£Time
 = 0;

241 ià(
timeSt
::
	`logEv’t
(
tim”EnumV®ue
)) {

242 
__kmp_¡©s_th»ad_±r
->
	`šüem’tNe¡V®ue
();

245 
	}
}

247 
	gex¶ic™Tim”
::
	$¡İ
(
tsc_tick_couÁ
 
tick
,

248 
kmp_¡©s_li¡
 *
¡©s_±r
 ) {

249 ià(
¡¬tTime
.
	`g‘V®ue
() == 0)

252 
¡©
->
	`addSam¶e
(((
tick
 - 
¡¬tTime
è- 
tÙ®Pau£Time
).
	`ticks
());

254 ià(
timeSt
::
	`logEv’t
(
tim”EnumV®ue
)) {

255 ià(!
¡©s_±r
)

256 
¡©s_±r
 = 
__kmp_¡©s_th»ad_±r
;

257 
¡©s_±r
->
	`push_ev’t
(

258 
¡¬tTime
.
	`g‘V®ue
(è- 
__kmp_¡©s_¡¬t_time
.getValue(),

259 
tick
.
	`g‘V®ue
(è- 
__kmp_¡©s_¡¬t_time
.getValue(),

260 
__kmp_¡©s_th»ad_±r
->
	`g‘Ne¡V®ue
(), 
tim”EnumV®ue
);

261 
¡©s_±r
->
	`deüem’tNe¡V®ue
();

266 
¡¬tTime
 = 0;

268 
	}
}

271 
	g·¹™iÚedTim”s
::
	$·¹™iÚedTim”s
(è{ 
tim”_¡ack
.
	`»£rve
(8); 
	}
}

274 
	g·¹™iÚedTim”s
::
	$š™
(
ex¶ic™Tim”
 
tim”
) {

275 
	`KMP_DEBUG_ASSERT
(
this
->
tim”_¡ack
.
	`size
() == 0);

276 
tim”_¡ack
.
	`push_back
(
tim”
);

277 
tim”_¡ack
.
	`back
().
	`¡¬t
(
tsc_tick_couÁ
::
	`now
());

278 
	}
}

284 
	g·¹™iÚedTim”s
::
	$push
(
ex¶ic™Tim”
 
tim”
) {

289 
ex¶ic™Tim”
 *
cu¼’t_tim”
, *
Ãw_tim”
;

290 
size_t
 
¡ack_size
;

291 
	`KMP_DEBUG_ASSERT
(
this
->
tim”_¡ack
.
	`size
() > 0);

292 
tim”_¡ack
.
	`push_back
(
tim”
);

293 
¡ack_size
 = 
tim”_¡ack
.
	`size
();

294 
cu¼’t_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 2]);

295 
Ãw_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 1]);

296 
tsc_tick_couÁ
 
tick
 =sc_tick_couÁ::
	`now
();

297 
cu¼’t_tim”
->
	`·u£
(
tick
);

298 
Ãw_tim”
->
	`¡¬t
(
tick
);

299 
	}
}

302 
	g·¹™iÚedTim”s
::
	$pİ
() {

307 
ex¶ic™Tim”
 *
Şd_tim”
, *
Ãw_tim”
;

308 
size_t
 
¡ack_size
 = 
tim”_¡ack
.
	`size
();

309 
	`KMP_DEBUG_ASSERT
(
¡ack_size
 > 1);

310 
Şd_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 1]);

311 
Ãw_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 2]);

312 
tsc_tick_couÁ
 
tick
 =sc_tick_couÁ::
	`now
();

313 
Şd_tim”
->
	`¡İ
(
tick
);

314 
Ãw_tim”
->
	`»sume
(
tick
);

315 
tim”_¡ack
.
	`pİ_back
();

316 
	}
}

318 
	g·¹™iÚedTim”s
::
	$exchªge
(
ex¶ic™Tim”
 
tim”
) {

323 
ex¶ic™Tim”
 *
cu¼’t_tim”
, *
Ãw_tim”
;

324 
size_t
 
¡ack_size
;

325 
	`KMP_DEBUG_ASSERT
(
this
->
tim”_¡ack
.
	`size
() > 0);

326 
tsc_tick_couÁ
 
tick
 =sc_tick_couÁ::
	`now
();

327 
¡ack_size
 = 
tim”_¡ack
.
	`size
();

328 
cu¼’t_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 1]);

329 
cu¼’t_tim”
->
	`¡İ
(
tick
);

330 
tim”_¡ack
.
	`pİ_back
();

331 
tim”_¡ack
.
	`push_back
(
tim”
);

332 
Ãw_tim”
 = &(
tim”_¡ack
[
¡ack_size
 - 1]);

333 
Ãw_tim”
->
	`¡¬t
(
tick
);

334 
	}
}

340 
	g·¹™iÚedTim”s
::
	$wšdup
() {

341 
tim”_¡ack
.
	`size
() > 1) {

342 
this
->
	`pİ
();

345 ià(
tim”_¡ack
.
	`size
() > 0) {

346 
tim”_¡ack
.
	`back
().
	`¡İ
(
tsc_tick_couÁ
::
	`now
());

347 
tim”_¡ack
.
	`pİ_back
();

349 
	}
}

353 
	gkmp_¡©s_ev’t_veùÜ
::
	$d—Îoÿ‹
() {

354 
	`__kmp_ä“
(
ev’ts
);

355 
š‹º®_size
 = 0;

356 
®loÿ‹d_size
 = 0;

357 
ev’ts
 = 
NULL
;

358 
	}
}

364 
	$com·»_two_ev’ts
(cÚ¡ *
ev’t1
, cÚ¡ *
ev’t2
) {

365 cÚ¡ 
kmp_¡©s_ev’t
 *
ev1
 = 
	`RCAST
(cÚ¡ kmp_¡©s_ev’ˆ*, 
ev’t1
);

366 cÚ¡ 
kmp_¡©s_ev’t
 *
ev2
 = 
	`RCAST
(cÚ¡ kmp_¡©s_ev’ˆ*, 
ev’t2
);

368 ià(
ev1
->
	`g‘S¹
(è< 
ev2
->getStart())

370 ià(
ev1
->
	`g‘S¹
(è> 
ev2
->getStart())

374 
	}
}

376 
	gkmp_¡©s_ev’t_veùÜ
::
	$sÜt
() {

377 
	`qsÜt
(
ev’ts
, 
š‹º®_size
, (
kmp_¡©s_ev’t
), 
com·»_two_ev’ts
);

378 
	}
}

383 
kmp_¡©s_li¡
 *
	gkmp_¡©s_li¡
::
	$push_back
(
gtid
) {

384 
kmp_¡©s_li¡
 *
Ãwnode
 =

385 (
kmp_¡©s_li¡
 *)
	`__kmp_®loÿ‹
((kmp_stats_list));

388 
	`Ãw
 (
Ãwnode
è
	`kmp_¡©s_li¡
();

389 
Ãwnode
->
	`£tGtid
(
gtid
);

390 
Ãwnode
->
´ev
 = 
this
->prev;

391 
Ãwnode
->
Ãxt
 = 
this
;

392 
Ãwnode
->
´ev
->
Ãxt
 =‚ewnode;

393 
Ãwnode
->
Ãxt
->
´ev
 =‚ewnode;

394  
Ãwnode
;

395 
	}
}

396 
	gkmp_¡©s_li¡
::
	$d—Îoÿ‹
() {

397 
kmp_¡©s_li¡
 *
±r
 = 
this
->
Ãxt
;

398 
kmp_¡©s_li¡
 *
d–±r
 = 
this
->
Ãxt
;

399 
±r
 !ğ
this
) {

400 
d–±r
 = 
±r
;

401 
±r
 =…Œ->
Ãxt
;

403 
d–±r
->
_ev’t_veùÜ
.
	`d—Îoÿ‹
();

404 
d–±r
->~
	`kmp_¡©s_li¡
();

405 
	`__kmp_ä“
(
d–±r
);

407 
	}
}

408 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::
	$begš
() {

409 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

410 
™
.
±r
 = 
this
->
Ãxt
;

411  
™
;

412 
	}
}

413 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::
	$’d
() {

414 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

415 
™
.
±r
 = 
this
;

416  
™
;

417 
	}
}

418 
	gkmp_¡©s_li¡
::
	$size
() {

419 
»tv®
;

420 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

421 
»tv®
 = 0, 
™
 = 
	`begš
(); iˆ!ğ
	`’d
(); it++,„etval++) {

423  
»tv®
;

424 
	}
}

428 
	gkmp_¡©s_li¡
::
™”©Ü
::
	$™”©Ü
(è: 
	$±r
(
NULL
è{
	}
}

429 
kmp_¡©s_li¡
::
™”©Ü
::~
	$™”©Ü
(è{
	}
}

430 
kmp_¡©s_li¡
::
™”©Ü
 kmp_¡©s_li¡::™”©Ü::
İ”©Ü
++() {

431 
this
->
±r
 =his->±r->
Ãxt
;

432  *
	gthis
;

434 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::™”©Ü::
İ”©Ü
++(
dummy
) {

435 
this
->
±r
 =his->±r->
Ãxt
;

436  *
	gthis
;

438 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::™”©Ü::
İ”©Ü
--() {

439 
this
->
±r
 =his->±r->
´ev
;

440  *
	gthis
;

442 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::™”©Ü::
İ”©Ü
--(
dummy
) {

443 
this
->
±r
 =his->±r->
´ev
;

444  *
	gthis
;

446 
boŞ
 
	gkmp_¡©s_li¡
::
™”©Ü
::
İ”©Ü
!=(cÚ¡ 
kmp_¡©s_li¡
::™”©Ü &
rhs
) {

447  
this
->
±r
 !ğ
rhs
.ptr;

449 
boŞ
 
	gkmp_¡©s_li¡
::
™”©Ü
::
İ”©Ü
==(cÚ¡ 
kmp_¡©s_li¡
::™”©Ü &
rhs
) {

450  
this
->
±r
 =ğ
rhs
.ptr;

452 
kmp_¡©s_li¡
 *
	gkmp_¡©s_li¡
::
™”©Ü
::
İ”©Ü
*() const {

453  
this
->
±r
;

458 cÚ¡ *
	gkmp_¡©s_ouut_moduË
::
ev’tsFeName
 = 
NULL
;

459 cÚ¡ *
	gkmp_¡©s_ouut_moduË
::
¶ÙFeName
 = 
NULL
;

460 
	gkmp_¡©s_ouut_moduË
::
´štP”Th»adFÏg
 = 0;

461 
	gkmp_¡©s_ouut_moduË
::
´štP”Th»adEv’tsFÏg
 = 0;

463 cÚ¡ *
	$Ï¡Name
(*
Çme
) {

464 
l
 = 
	`¡¾’
(
Çme
);

465 
i
 = 
l
 - 1; i >= 0; --i) {

466 ià(
Çme
[
i
] == '.')

467 
Çme
[
i
] = '_';

468 ià(
Çme
[
i
] == '/')

469  
Çme
 + 
i
 + 1;

471  
Çme
;

472 
	}
}

475 cÚ¡ *
	$g‘ImageName
(*
bufãr
, 
size_t
 
buæ’
) {

476 
FILE
 *
f
 = 
	`fİ’
("/proc/self/cmdline", "r");

477 
bufãr
[0] = (0);

478 ià(!
f
)

479  
bufãr
;

484 
size_t
 
n
 = 
	`ä—d
(
bufãr
, 1, 
buæ’
, 
f
);

485 ià(
n
 == 0) {

486 
	`fşo£
(
f
);

487 
	`KMP_CHECK_SYSFAIL
("fread", 1)

489 
	`fşo£
(
f
);

490 
bufãr
[
buæ’
 - 1] = (0);

491  
	`Ï¡Name
(
bufãr
);

492 
	}
}

494 
	$g‘Time
(*
bufãr
, 
size_t
 
buæ’
, 
boŞ
 
und”scÜes
 = 
çl£
) {

495 
time_t
 
tim”
;

497 
	`time
(&
tim”
);

499 
tm
 *
tm_šfo
 = 
	`loÿÉime
(&
tim”
);

500 ià(
und”scÜes
)

501 
	`¡ráime
(
bufãr
, 
buæ’
, "%Y-%m-%d_%H%M%S", 
tm_šfo
);

503 
	`¡ráime
(
bufãr
, 
buæ’
, "%Y-%m-%d %H%M%S", 
tm_šfo
);

504 
	}
}

507 
	g¡d
::
¡ršg
 
	$g’”©eF’ame
(cÚ¡ *
´ÙÙy³
,

508 cÚ¡ *
imageName
) {

509 
¡d
::
¡ršg
 
»s
;

511 
i
 = 0; 
´ÙÙy³
[i] != (0); i++) {

512 
ch
 = 
´ÙÙy³
[
i
];

514 ià(
ch
 == '%') {

515 
i
++;

516 ià(
´ÙÙy³
[
i
] == (0))

519 
´ÙÙy³
[
i
]) {

522 
d©e
[26];

523 
	`g‘Time
(
d©e
, (d©e), 
Œue
);

524 
»s
 +ğ
d©e
;

527 
»s
 +ğ
imageName
;

531 
¡d
::
¡ršg¡»am
 
ss
;

532 
ss
 << 
	`g‘pid
();

533 
»s
 +ğ
ss
.
	`¡r
();

536 
»s
 +ğ
´ÙÙy³
[
i
];

540 
»s
 +ğ
ch
;

542  
»s
;

543 
	}
}

547 
	gkmp_¡©s_ouut_moduË
::
	$š™
() {

549 *
¡©sFeName
 = 
	`g‘’v
("KMP_STATS_FILE");

550 
ev’tsFeName
 = 
	`g‘’v
("KMP_STATS_EVENTS_FILE");

551 
¶ÙFeName
 = 
	`g‘’v
("KMP_STATS_PLOT_FILE");

552 *
th»adSts
 = 
	`g‘’v
("KMP_STATS_THREADS");

553 *
th»adEv’ts
 = 
	`g‘’v
("KMP_STATS_EVENTS");

556 ià(
¡©sFeName
) {

557 
imageName
[1024];

559 
ouutFeName
 = 
	`g’”©eF’ame
(

560 
¡©sFeName
, 
	`g‘ImageName
(&
imageName
[0], (imageName)));

562 
ev’tsFeName
 =ƒventsFileName ?ƒventsFileName : "events.dat";

563 
¶ÙFeName
 =…lotFileName ?…lotFileName : "events.plt";

567 
´štP”Th»adFÏg
 = 
	`__kmp_¡r_m©ch_Œue
(
th»adSts
);

568 
´štP”Th»adEv’tsFÏg
 = 
	`__kmp_¡r_m©ch_Œue
(
th»adEv’ts
);

570 ià(
´štP”Th»adEv’tsFÏg
) {

572 
	`£tupEv’tCŞÜs
();

575 
timeSt
::
	`ş—rEv’tFÏgs
();

577 
	}
}

579 
	gkmp_¡©s_ouut_moduË
::
	$£tupEv’tCŞÜs
() {

580 
i
;

581 
glob®CŞÜIndex
 = 0;

582 
numGlob®CŞÜs
 = (
glob®CŞÜA¼ay
è/ (
rgb_cŞÜ
);

583 
i
 = 0; i < 
TIMER_LAST
; i++) {

584 ià(
timeSt
::
	`logEv’t
((
tim”_e
)
i
)) {

585 
tim”CŞÜInfo
[
i
] = 
glob®CŞÜA¼ay
[
glob®CŞÜIndex
];

586 
glob®CŞÜIndex
 = (glob®CŞÜIndex + 1è% 
numGlob®CŞÜs
;

589 
	}
}

591 
	gkmp_¡©s_ouut_moduË
::
	$´štTim”Sts
(
FILE
 *
¡©sOut
,

592 
¡©i¡ic
 cÚ¡ *
theSts
,

593 
¡©i¡ic
 cÚ¡ *
tÙ®Sts
) {

594 
	`årštf
(
¡©sOut
,

597 
tim”_e
 
s
 = 
	`tim”_e
(0); s < 
TIMER_LAST
; s =imer_e(s + 1)) {

598 
¡©i¡ic
 cÚ¡ *
¡©
 = &
theSts
[
s
];

599 
g
 = 
timeSt
::
	`noUn™s
(
s
) ? ' ' : 'T';

601 
	`årštf
(
¡©sOut
, "%-35s, %s\n", 
timeSt
::
	`Çme
(
s
),

602 
¡©
->
	`fÜm©
(
g
, 
Œue
).
	`c_¡r
());

605 
tim”_e
 
s
 = 
	`tim”_e
(0); s < 
TIMER_LAST
; s =imer_e(s + 1)) {

606 
g
 = 
timeSt
::
	`noUn™s
(
s
) ? ' ' : 'T';

607 ià(
tÙ®Sts
 && !
timeSt
::
	`noTÙ®
(
s
))

608 
	`årštf
(
¡©sOut
, "TÙ®_%-29s, %s\n", 
timeSt
::
	`Çme
(
s
),

609 
tÙ®Sts
[
s
].
	`fÜm©
(
g
, 
Œue
).
	`c_¡r
());

613 ià(
theSts
[0].
	`haveHi¡
()) {

614 
	`årštf
(
¡©sOut
, "\nTimer distributions\n");

615 
s
 = 0; s < 
TIMER_LAST
; s++) {

616 
¡©i¡ic
 cÚ¡ *
¡©
 = &
theSts
[
s
];

618 ià(
¡©
->
	`g‘CouÁ
() != 0) {

619 
g
 = 
timeSt
::
	`noUn™s
(
	`tim”_e
(
s
)) ? ' ' : 'T';

621 
	`årštf
(
¡©sOut
, "%s\n", 
timeSt
::
	`Çme
(
	`tim”_e
(
s
)));

622 
	`årštf
(
¡©sOut
, "%s\n", 
¡©
->
	`g‘Hi¡
()->
	`fÜm©
(
g
).
	`c_¡r
());

626 
	}
}

628 
	gkmp_¡©s_ouut_moduË
::
	$´štCouÁ”Sts
(
FILE
 *
¡©sOut
,

629 
¡©i¡ic
 cÚ¡ *
theSts
) {

630 
	`årštf
(
¡©sOut
, "Counter, ThreadCount, Min, Mean, "

632 
s
 = 0; s < 
COUNTER_LAST
; s++) {

633 
¡©i¡ic
 cÚ¡ *
¡©
 = &
theSts
[
s
];

634 
	`årštf
(
¡©sOut
, "%-25s, %s\n", 
couÁ”
::
	`Çme
(
	`couÁ”_e
(
s
)),

635 
¡©
->
	`fÜm©
(' ', 
Œue
).
	`c_¡r
());

638 ià(
theSts
[0].
	`haveHi¡
()) {

639 
	`årštf
(
¡©sOut
, "\nCounter distributions\n");

640 
s
 = 0; s < 
COUNTER_LAST
; s++) {

641 
¡©i¡ic
 cÚ¡ *
¡©
 = &
theSts
[
s
];

643 ià(
¡©
->
	`g‘CouÁ
() != 0) {

644 
	`årštf
(
¡©sOut
, "%s\n", 
couÁ”
::
	`Çme
(
	`couÁ”_e
(
s
)));

645 
	`årštf
(
¡©sOut
, "%s\n", 
¡©
->
	`g‘Hi¡
()->
	`fÜm©
(' ').
	`c_¡r
());

649 
	}
}

651 
	gkmp_¡©s_ouut_moduË
::
	$´štCouÁ”s
(
FILE
 *
¡©sOut
,

652 
couÁ”
 cÚ¡ *
theCouÁ”s
) {

655 
	`årštf
(
¡©sOut
, "\nCounter, Count\n");

656 
c
 = 0; c < 
COUNTER_LAST
; c++) {

657 
couÁ”
 cÚ¡ *
¡©
 = &
theCouÁ”s
[
c
];

658 
	`årštf
(
¡©sOut
, "%-25s, %s\n", 
couÁ”
::
	`Çme
(
	`couÁ”_e
(
c
)),

659 
	`fÜm©SI
(
¡©
->
	`g‘V®ue
(), 9, ' ').
	`c_¡r
());

661 
	}
}

663 
	gkmp_¡©s_ouut_moduË
::
	$´štEv’ts
(
FILE
 *
ev’tsOut
,

664 
kmp_¡©s_ev’t_veùÜ
 *
theEv’ts
,

665 
gtid
) {

667 
theEv’ts
->
	`sÜt
();

668 
i
 = 0; i < 
theEv’ts
->
	`size
(); i++) {

669 
kmp_¡©s_ev’t
 
ev
 = 
theEv’ts
->
	`©
(
i
);

670 
rgb_cŞÜ
 
cŞÜ
 = 
	`g‘Ev’tCŞÜ
(
ev
.
	`g‘Tim”Name
());

671 
	`årštf
(
ev’tsOut
, "%d %Îu %Îu %1.1àrgb(%1.1f,%1.1f,%1.1fè%s\n", 
gtid
,

672 
¡©ic_ÿ¡
<>(
ev
.
	`g‘S¹
()),

673 
¡©ic_ÿ¡
<>(
ev
.
	`g‘Stİ
()),

674 1.2 - (
ev
.
	`g‘Ne¡Lev–
(è* 0.2), 
cŞÜ
.
r
, cŞÜ.
g
, cŞÜ.
b
,

675 
timeSt
::
	`Çme
(
ev
.
	`g‘Tim”Name
()));

678 
	}
}

680 
	gkmp_¡©s_ouut_moduË
::
	$wšdupEx¶ic™Tim”s
() {

684 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

685 
™
 = 
__kmp_¡©s_li¡
->
	`begš
(); iˆ!ğ__kmp_¡©s_li¡->
	`’d
(); it++) {

686 
kmp_¡©s_li¡
 *
±r
 = *
™
;

687 
±r
->
	`g‘P¬t™iÚedTim”s
()->
	`wšdup
();

688 
±r
->
	`’dLiã
();

690 
	}
}

692 
	gkmp_¡©s_ouut_moduË
::
	$´štPlÙicusFe
() {

693 
i
;

694 
size
 = 
__kmp_¡©s_li¡
->
	`size
();

695 
FILE
 *
¶ÙOut
 = 
	`fİ’
(
¶ÙFeName
, "w+");

697 
	`årštf
(
¶ÙOut
, "#proc…age\n"

701 
	`årštf
(
¶ÙOut
, "#proc getdata\n"

703 
ev’tsFeName
);

705 
	`årštf
(
¶ÙOut
, "#proc‡readef\n"

711 
size
);

713 
	`årštf
(
¶ÙOut
, "#proc xaxis\n"

719 
	`årštf
(
¶ÙOut
, "#proc yaxis\n"

725 
size
 - 1);

727 
	`årštf
(
¶ÙOut
, "#proc bars\n"

735 
i
 = 0; i < 
TIMER_LAST
; i++) {

736 ià(
timeSt
::
	`logEv’t
((
tim”_e
)
i
)) {

737 
rgb_cŞÜ
 
c
 = 
	`g‘Ev’tCŞÜ
((
tim”_e
)
i
);

738 
	`årštf
(
¶ÙOut
, "#proc†egendentry\n"

742 
timeSt
::
	`Çme
((
tim”_e
)
i
), 
c
.
r
, c.
g
, c.
b
);

746 
	`årštf
(
¶ÙOut
, "#proc†egend\n"

749 
	`fşo£
(
¶ÙOut
);

751 
	}
}

753 
	$ouutEnvV¬ŸbË
(
FILE
 *
¡©sOut
, cÚ¡ *
Çme
) {

754 cÚ¡ *
v®ue
 = 
	`g‘’v
(
Çme
);

755 
	`årštf
(
¡©sOut
, "# % ğ%s\n", 
Çme
, 
v®ue
 ? value : "*unspecified*");

756 
	}
}

763 
	gkmp_¡©s_ouut_moduË
::
	$´štH—d”Info
(
FILE
 *
¡©sOut
) {

764 
¡d
::
time_t
 
now
 = std::
	`time
(0);

765 
bufãr
[40];

766 
ho¡Name
[80];

768 
¡d
::
	`¡ráime
(&
bufãr
[0], (bufãr), "%c", std::
	`loÿÉime
(&
now
));

769 
	`årštf
(
¡©sOut
, "# Timoàrun: %s\n", &
bufãr
[0]);

770 ià(
	`g‘ho¡Çme
(&
ho¡Name
[0], (hostName)) == 0)

771 
	`årštf
(
¡©sOut
, "# Ho¡Çme: %s\n", &
ho¡Name
[0]);

772 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


773 
	`årštf
(
¡©sOut
, "# CPU: %s\n", &
__kmp_ıušfo
.
Çme
[0]);

774 
	`årštf
(
¡©sOut
, "# Family: %d, Model: %d, Stepping: %d\n",

775 
__kmp_ıušfo
.
çmy
, __kmp_ıušfo.
mod–
, __kmp_ıušfo.
¡•pšg
);

776 ià(
__kmp_ıušfo
.
äequ’cy
 == 0)

777 
	`årštf
(
¡©sOut
, "# Nominal frequency: Unknown\n");

779 
	`årštf
(
¡©sOut
, "# Nominal frequency: %sz\n",

780 
	`fÜm©SI
((
__kmp_ıušfo
.
äequ’cy
), 9, 'H').
	`c_¡r
());

781 
	`ouutEnvV¬ŸbË
(
¡©sOut
, "KMP_HW_SUBSET");

782 
	`ouutEnvV¬ŸbË
(
¡©sOut
, "KMP_AFFINITY");

783 
	`ouutEnvV¬ŸbË
(
¡©sOut
, "KMP_BLOCKTIME");

784 
	`ouutEnvV¬ŸbË
(
¡©sOut
, "KMP_LIBRARY");

785 
	`årštf
(
¡©sOut
, "# ProduùiÚ„uÁimbuˆ" 
__DATE__
 " " 
__TIME__
 "\n");

787 
	}
}

789 
	gkmp_¡©s_ouut_moduË
::
	$ouutSts
(cÚ¡ *
h—dšg
) {

793 
	`wšdupEx¶ic™Tim”s
();

795 
¡©i¡ic
 
®lSts
[
TIMER_LAST
];

796 
¡©i¡ic
 
tÙ®Sts
[
TIMER_LAST
];

798 
¡©i¡ic
 
®lCouÁ”s
[
COUNTER_LAST
];

800 
FILE
 *
¡©sOut
 =

801 !
ouutFeName
.
	`em±y
(è? 
	`fİ’
(ouutFeName.
	`c_¡r
(), "a+"è: 
¡d”r
;

802 ià(!
¡©sOut
)

803 
¡©sOut
 = 
¡d”r
;

805 
FILE
 *
ev’tsOut
;

806 ià(
	`ev’tPrštšgEÇbËd
()) {

807 
ev’tsOut
 = 
	`fİ’
(
ev’tsFeName
, "w+");

810 
	`´štH—d”Info
(
¡©sOut
);

811 
	`årštf
(
¡©sOut
, "%s\n", 
h—dšg
);

813 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

814 
™
 = 
__kmp_¡©s_li¡
->
	`begš
(); iˆ!ğ__kmp_¡©s_li¡->
	`’d
(); it++) {

815 
t
 = (*
™
)->
	`g‘Gtid
();

817 ià(
´štP”Th»adFÏg
) {

818 
	`årštf
(
¡©sOut
, "Th»ad %d\n", 
t
);

819 
	`´štTim”Sts
(
¡©sOut
, (*
™
)->
	`g‘Tim”s
(), 0);

820 
	`´štCouÁ”s
(
¡©sOut
, (*
™
)->
	`g‘CouÁ”s
());

821 
	`årštf
(
¡©sOut
, "\n");

824 ià(
	`ev’tPrštšgEÇbËd
()) {

825 
kmp_¡©s_ev’t_veùÜ
 
ev’ts
 = (*
™
)->
	`g‘Ev’tVeùÜ
();

826 
	`´štEv’ts
(
ev’tsOut
, &
ev’ts
, 
t
);

830 
tim”_e
 
s
 = 
	`tim”_e
(0); s < 
TIMER_LAST
; s =imer_e(s + 1)) {

832 ià((
timeSt
::
	`ma¡”OÆy
(
s
è&& (
t
 != 0)) ||

834 (
timeSt
::
	`wÜk”OÆy
(
s
è&& (
t
 == 0))

840 
¡©i¡ic
 *
th»adSt
 = (*
™
)->
	`g‘Tim”
(
s
);

841 
®lSts
[
s
] +ğ*
th»adSt
;

844 ià(!
timeSt
::
	`noTÙ®
(
s
))

845 
tÙ®Sts
[
s
].
	`addSam¶e
(
th»adSt
->
	`g‘TÙ®
());

849 
couÁ”_e
 
c
 = 
	`couÁ”_e
(0); c < 
COUNTER_LAST
; c = counter_e(c + 1)) {

850 ià(
couÁ”
::
	`ma¡”OÆy
(
c
è&& 
t
 != 0)

852 
®lCouÁ”s
[
c
].
	`addSam¶e
((*
™
)->
	`g‘CouÁ”
(c)->
	`g‘V®ue
());

856 ià(
	`ev’tPrštšgEÇbËd
()) {

857 
	`´štPlÙicusFe
();

858 
	`fşo£
(
ev’tsOut
);

861 
	`årštf
(
¡©sOut
, "Aggregate for‡llhreads\n");

862 
	`´štTim”Sts
(
¡©sOut
, &
®lSts
[0], &
tÙ®Sts
[0]);

863 
	`årštf
(
¡©sOut
, "\n");

864 
	`´štCouÁ”Sts
(
¡©sOut
, &
®lCouÁ”s
[0]);

866 ià(
¡©sOut
 !ğ
¡d”r
)

867 
	`fşo£
(
¡©sOut
);

868 
	}
}

876 
__kmp_»£t_¡©s
() {

877 
kmp_¡©s_li¡
::
™”©Ü
 
™
;

878 
™
 = 
__kmp_¡©s_li¡
->
begš
(); iˆ!ğ__kmp_¡©s_li¡->
’d
(); it++) {

879 
timeSt
 *
tim”s
 = (*
™
)->
g‘Tim”s
();

880 
couÁ”
 *
couÁ”s
 = (*
™
)->
g‘CouÁ”s
();

882 
t
 = 0; < 
TIMER_LAST
;++)

883 
tim”s
[
t
].
»£t
();

885 
c
 = 0; c < 
COUNTER_LAST
; c++)

886 
couÁ”s
[
c
].
»£t
();

889 (*
™
)->
»£tEv’tVeùÜ
();

895 
__kmp_ouut_¡©s
(cÚ¡ *
h—dšg
) {

896 
__kmp_¡©s_glob®_ouut
->
ouutSts
(
h—dšg
);

897 
__kmp_»£t_¡©s
();

900 
__kmp_accumuÏ‹_¡©s_©_ex™
() {

902 ià(
KMP_XCHG_FIXED32
(&
¡©sPrš‹d
, 1) != 0)

905 
__kmp_ouut_¡©s
("Statistics onƒxit");

908 
__kmp_¡©s_š™
() {

909 
__kmp_š™_s_lock
(&
__kmp_¡©s_lock
);

910 
__kmp_¡©s_¡¬t_time
 = 
tsc_tick_couÁ
::
now
();

911 
__kmp_¡©s_glob®_ouut
 = 
Ãw
 
kmp_¡©s_ouut_moduË
();

912 
__kmp_¡©s_li¡
 = 
Ãw
 
kmp_¡©s_li¡
();

915 
__kmp_¡©s_fši
() {

916 
__kmp_accumuÏ‹_¡©s_©_ex™
();

917 
__kmp_¡©s_li¡
->
d—Îoÿ‹
();

918 
d–‘e
 
__kmp_¡©s_glob®_ouut
;

919 
d–‘e
 
__kmp_¡©s_li¡
;

	@kmp_stats.h

1 #iâdeà
KMP_STATS_H


2 
	#KMP_STATS_H


	)

16 
	~"kmp_cÚfig.h
"

17 
	~"kmp_debug.h
"

19 #ià
KMP_STATS_ENABLED


28 
	~"kmp_¡©s_timšg.h
"

29 
	~<lim™s
>

30 
	~<m©h.h
>

31 
	~<Ãw
>

32 
	~<¡dšt.h
>

33 
	~<¡ršg
>

34 
	~<veùÜ
>

39 
	#KMP_DEVELOPER_STATS
 0

	)

42 
	#KMP_STATS_HIST
 0

	)

49 
	e¡©s_æags_e
 {

50 
	mnoTÙ®
 = 1 << 0,

51 
	mÚlyInMa¡”
 = 1 << 1,

52 
	mnoUn™s
 = 1 << 2,

53 
	mnÙInMa¡”
 = 1 << 3,

54 
	mlogEv’t
 = 1 << 4

63 
	e¡©s_¡©e_e
 {

64 
	mIDLE
,

65 
	mSERIAL_REGION
,

66 
	mFORK_JOIN_BARRIER
,

67 
	mPLAIN_BARRIER
,

68 
	mTASKWAIT
,

69 
	mTASKYIELD
,

70 
	mTASKGROUP
,

71 
	mIMPLICIT_TASK
,

72 
	mEXPLICIT_TASK
,

73 
	mTEAMS_REGION


95 
	#KMP_FOREACH_COUNTER
(
maüo
, 
¬g
) \

96 
	`maüo
(
OMP_PARALLEL
,
¡©s_æags_e
::
ÚlyInMa¡”
|¡©s_æags_e::
noTÙ®
,
¬g
) \

97 
	`maüo
(
OMP_NESTED_PARALLEL
, 0, 
¬g
) \

98 
	`maüo
(
OMP_LOOP_STATIC
, 0, 
¬g
) \

99 
	`maüo
(
OMP_LOOP_STATIC_STEAL
, 0, 
¬g
) \

100 
	`maüo
(
OMP_LOOP_DYNAMIC
, 0, 
¬g
) \

101 
	`maüo
(
OMP_DISTRIBUTE
, 0, 
¬g
) \

102 
	`maüo
(
OMP_BARRIER
, 0, 
¬g
) \

103 
	`maüo
(
OMP_CRITICAL
, 0, 
¬g
) \

104 
	`maüo
(
OMP_SINGLE
, 0, 
¬g
) \

105 
	`maüo
(
OMP_MASTER
, 0, 
¬g
) \

106 
	`maüo
(
OMP_TEAMS
, 0, 
¬g
) \

107 
	`maüo
(
OMP_£t_lock
, 0, 
¬g
) \

108 
	`maüo
(
OMP_‹¡_lock
, 0, 
¬g
) \

109 
	`maüo
(
REDUCE_wa™
, 0, 
¬g
) \

110 
	`maüo
(
REDUCE_nowa™
, 0, 
¬g
) \

111 
	`maüo
(
OMP_TASKYIELD
, 0, 
¬g
) \

112 
	`maüo
(
OMP_TASKLOOP
, 0, 
¬g
) \

113 
	`maüo
(
TASK_execu‹d
, 0, 
¬g
) \

114 
	`maüo
(
TASK_ÿnûÎed
, 0, 
¬g
) \

115 
	`maüo
(
TASK_¡Ş’
, 0, 
¬g
)

	)

137 
	#KMP_FOREACH_TIMER
(
maüo
, 
¬g
) \

138 
	`maüo
 (
OMP_wÜk”_th»ad_liã
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

139 
	`maüo
 (
OMP_·¿Î–
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

140 
	`maüo
 (
OMP_·¿Î–_ov”h—d
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

141 
	`maüo
 (
OMP_‹ams
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

142 
	`maüo
 (
OMP_‹ams_ov”h—d
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

143 
	`maüo
 (
OMP_loİ_¡©ic
, 0, 
¬g
) \

144 
	`maüo
 (
OMP_loİ_¡©ic_schedulšg
, 0, 
¬g
) \

145 
	`maüo
 (
OMP_loİ_dyÇmic
, 0, 
¬g
) \

146 
	`maüo
 (
OMP_loİ_dyÇmic_schedulšg
, 0, 
¬g
) \

147 
	`maüo
 (
OMP_di¡ribu‹
, 0, 
¬g
) \

148 
	`maüo
 (
OMP_di¡ribu‹_schedulšg
, 0, 
¬g
) \

149 
	`maüo
 (
OMP_ü™iÿl
, 0, 
¬g
) \

150 
	`maüo
 (
OMP_ü™iÿl_wa™
, 0, 
¬g
) \

151 
	`maüo
 (
OMP_sšgË
, 0, 
¬g
) \

152 
	`maüo
 (
OMP_ma¡”
, 0, 
¬g
) \

153 
	`maüo
 (
OMP_sk_immedŸ‹
, 0, 
¬g
) \

154 
	`maüo
 (
OMP_sk_skwa™
, 0, 
¬g
) \

155 
	`maüo
 (
OMP_sk_sky›ld
, 0, 
¬g
) \

156 
	`maüo
 (
OMP_sk_skgroup
, 0, 
¬g
) \

157 
	`maüo
 (
OMP_sk_još_b¬
, 0, 
¬g
) \

158 
	`maüo
 (
OMP_sk_¶aš_b¬
, 0, 
¬g
) \

159 
	`maüo
 (
OMP_skloİ_schedulšg
, 0, 
¬g
) \

160 
	`maüo
 (
OMP_¶aš_b¬r›r
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

161 
	`maüo
 (
OMP_idË
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

162 
	`maüo
 (
OMP_fÜk_b¬r›r
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

163 
	`maüo
 (
OMP_još_b¬r›r
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

164 
	`maüo
 (
OMP_£rŸl
, 
¡©s_æags_e
::
logEv’t
, 
¬g
) \

165 
	`maüo
 (
OMP_£t_numth»ads
, 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, \

166 
¬g
) \

167 
	`maüo
 (
OMP_PARALLEL_¬gs
, 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, \

168 
¬g
) \

169 
	`maüo
 (
OMP_loİ_¡©ic_™”©iÚs
, \

170 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

171 
	`maüo
 (
OMP_loİ_¡©ic_tÙ®_™”©iÚs
, \

172 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

173 
	`maüo
 (
OMP_loİ_dyÇmic_™”©iÚs
, \

174 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

175 
	`maüo
 (
OMP_loİ_dyÇmic_tÙ®_™”©iÚs
, \

176 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

177 
	`maüo
 (
OMP_di¡ribu‹_™”©iÚs
, \

178 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

179 
	`KMP_FOREACH_DEVELOPER_TIMER
(
maüo
, 
¬g
)

	)

230 #ià(
KMP_DEVELOPER_STATS
)

247 
	#KMP_FOREACH_DEVELOPER_TIMER
(
maüo
, 
¬g
) \

248 
	`maüo
(
KMP_fÜk_ÿÎ
, 0, 
¬g
) \

249 
	`maüo
(
KMP_još_ÿÎ
, 0, 
¬g
) \

250 
	`maüo
(
KMP_’d_¥l™_b¬r›r
, 0, 
¬g
) \

251 
	`maüo
(
KMP_h›r_g©h”
, 0, 
¬g
) \

252 
	`maüo
(
KMP_h›r_»Ëa£
, 0, 
¬g
) \

253 
	`maüo
(
KMP_hy³r_g©h”
, 0, 
¬g
) \

254 
	`maüo
(
KMP_hy³r_»Ëa£
, 0, 
¬g
) \

255 
	`maüo
(
KMP_lš—r_g©h”
, 0, 
¬g
) \

256 
	`maüo
(
KMP_lš—r_»Ëa£
, 0, 
¬g
) \

257 
	`maüo
(
KMP_Œ“_g©h”
, 0, 
¬g
) \

258 
	`maüo
(
KMP_Œ“_»Ëa£
, 0, 
¬g
) \

259 
	`maüo
(
USER_»sume
, 0, 
¬g
) \

260 
	`maüo
(
USER_su¥’d
, 0, 
¬g
) \

261 
	`maüo
(
KMP_®loÿ‹_‹am
, 0, 
¬g
) \

262 
	`maüo
(
KMP_£tup_icv_cİy
, 0, 
¬g
) \

263 
	`maüo
(
USER_icv_cİy
, 0, 
¬g
) \

264 
	`maüo
 (
FOR_¡©ic_¡—l_¡Ş’
, \

265 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
) \

266 
	`maüo
 (
FOR_¡©ic_¡—l_chunks
, \

267 
¡©s_æags_e
::
noUn™s
 | sts_æags_e::
noTÙ®
, 
¬g
)

	)

269 
	#KMP_FOREACH_DEVELOPER_TIMER
(
maüo
, 
¬g
)

	)

292 
	#KMP_FOREACH_EXPLICIT_TIMER
(
maüo
, 
¬g
è
	`KMP_FOREACH_TIMER
(maüo,‡rg)

	)

294 
	#ENUMERATE
(
Çme
, 
ignÜe
, 
´efix
è´efix##Çme,

	)

295 
	etim”_e
 { 
KMP_FOREACH_TIMER
(
ENUMERATE
, 
TIMER_
è
	mTIMER_LAST
 };

297 
	eex¶ic™_tim”_e
 {

298 
KMP_FOREACH_EXPLICIT_TIMER
(
ENUMERATE
, 
EXPLICIT_TIMER_
è
	mEXPLICIT_TIMER_LAST


301 
	ecouÁ”_e
 { 
KMP_FOREACH_COUNTER
(
ENUMERATE
, 
COUNTER_
è
	mCOUNTER_LAST
 };

302 #undeà
ENUMERATE


310 şas 
	clogHi¡og¿m
 {

312 
	mnumBšs
 = 31,

322 
	mlogOff£t
 = 0

324 
ušt32_t
 
KMP_ALIGN_CACHE
 
	gz”oCouÁ
;

326 
ušt32_t
 
	gcouÁ
;

327 
	gtÙ®
;

328 } 
	gbšs
[
numBšs
];

330 
	gbšMax
[
numBšs
];

332 #ifdeà
KMP_DEBUG


333 
ušt64_t
 
	g_tÙ®
;

335 
	$check
() const {

336 
ušt64_t
 
t
 = 
z”oCouÁ
;

337 
i
 = 0; i < 
numBšs
; i++)

338 
t
 +ğ
bšs
[
i
].
couÁ
;

339 
	`KMP_DEBUG_ASSERT
(
t
 =ğ
_tÙ®
);

340 
	}
}

342 
	$check
(ècÚ¡ {
	}
}

345 
	gpublic
:

346 
	$logHi¡og¿m
(è{ 
	`»£t
(); 
	}
}

348 
	$logHi¡og¿m
(
logHi¡og¿m
 cÚ¡ &
o
) {

349 
i
 = 0; i < 
numBšs
; i++)

350 
bšs
[
i
] = 
o
.bins[i];

351 #ifdeà
KMP_DEBUG


352 
_tÙ®
 = 
o
._total;

354 
	}
}

356 
	$»£t
() {

357 
z”oCouÁ
 = 0;

358 
i
 = 0; i < 
numBšs
; i++) {

359 
bšs
[
i
].
couÁ
 = 0;

360 
bšs
[
i
].
tÙ®
 = 0;

363 #ifdeà
KMP_DEBUG


364 
_tÙ®
 = 0;

366 
	}
}

367 
ušt32_t
 
	$couÁ
(
b
ècÚ¡ {  
bšs
[b + 
logOff£t
].
couÁ
; 
	}
}

368 
	$tÙ®
(
b
ècÚ¡ {  
bšs
[b + 
logOff£t
].
tÙ®
; 
	}
}

369 
ušt32_t
 
fšdBš
(
§m¶e
);

371 
	glogHi¡og¿m
 &
	gİ”©Ü
+=(
logHi¡og¿m
 cÚ¡ &
o
) {

372 
z”oCouÁ
 +ğ
o
.zeroCount;

373 
	gi
 = 0; i < 
	gnumBšs
; i++) {

374 
	gbšs
[
i
].
	gcouÁ
 +ğ
o
.
bšs
[i].
couÁ
;

375 
	gbšs
[
i
].
	gtÙ®
 +ğ
o
.
bšs
[i].
tÙ®
;

377 #ifdeà
KMP_DEBUG


378 
	g_tÙ®
 +ğ
o
.
_tÙ®
;

379 
check
();

382  *
	gthis
;

385 
addSam¶e
(
§m¶e
);

386 
	$mšBš
() const;

387 
	$maxBš
() const;

389 
¡d
::
¡ršg
 
	$fÜm©
() const;

390 
	}
};

392 şas 
	c¡©i¡ic
 {

393 
KMP_ALIGN_CACHE
 
	mmšV®
;

394 
	mmaxV®
;

395 
	mm—nV®
;

396 
	mm2
;

397 
ušt64_t
 
	m§m¶eCouÁ
;

398 
	moff£t
;

399 
boŞ
 
	mcŞËùšgHi¡
;

400 
logHi¡og¿m
 
	mhi¡
;

402 
	mpublic
:

403 
¡©i¡ic
(
boŞ
 
doHi¡
 = 
	$boŞ
(
KMP_STATS_HIST
)) {

404 
	`»£t
();

405 
cŞËùšgHi¡
 = 
doHi¡
;

407 
	$¡©i¡ic
(
¡©i¡ic
 cÚ¡ &
o
)

408 : 
	`mšV®
(
o
.
mšV®
), 
	`maxV®
(o.
maxV®
), 
	`m—nV®
(o.
m—nV®
), 
	`m2
(o.
m2
),

409 
	`§m¶eCouÁ
(
o
.
§m¶eCouÁ
), 
	`off£t
(o.
off£t
),

410 
	`cŞËùšgHi¡
(
o
.
cŞËùšgHi¡
), 
	$hi¡
(
o
.
hi¡
è{
	}
}

411 
	$¡©i¡ic
(
mšv
, 
maxv
, 
m—nv
, 
ušt64_t
 
sc
, 
sd
)

412 : 
	`mšV®
(
mšv
), 
	`maxV®
(
maxv
), 
	`m—nV®
(
m—nv
), 
	`m2
(
sd
 * sd * 
sc
),

413 
	`§m¶eCouÁ
(
sc
), 
	`off£t
(0.0), 
	$cŞËùšgHi¡
(
çl£
è{
	}
}

414 
boŞ
 
	$haveHi¡
(ècÚ¡ {  
cŞËùšgHi¡
; 
	}
}

415 
	$g‘Mš
(ècÚ¡ {  
mšV®
; 
	}
}

416 
	$g‘M—n
(ècÚ¡ {  
m—nV®
; 
	}
}

417 
	$g‘Max
(ècÚ¡ {  
maxV®
; 
	}
}

418 
ušt64_t
 
	$g‘CouÁ
(ècÚ¡ {  
§m¶eCouÁ
; 
	}
}

419 
	$g‘SD
(ècÚ¡ {  
	`sq¹
(
m2
 / 
§m¶eCouÁ
); 
	}
}

420 
	$g‘TÙ®
(ècÚ¡ {  
§m¶eCouÁ
 * 
m—nV®
; 
	}
}

421 
logHi¡og¿m
 cÚ¡ *
	$g‘Hi¡
(ècÚ¡ {  &
hi¡
; 
	}
}

422 
	$£tOff£t
(
d
è{ 
off£t
 = d; 
	}
}

424 
	$»£t
() {

425 
mšV®
 = 
¡d
::
num”ic_lim™s
<>::
	`max
();

426 
maxV®
 = -
mšV®
;

427 
m—nV®
 = 0.0;

428 
m2
 = 0.0;

429 
§m¶eCouÁ
 = 0;

430 
off£t
 = 0.0;

431 
hi¡
.
	`»£t
();

432 
	}
}

433 
addSam¶e
(
§m¶e
);

434 
sÿË
(
çùÜ
);

435 
	$sÿËDown
(
f
è{ 
	`sÿË
(1. / f); 
	}
}

436 
	$fÜûCouÁ
(
ušt64_t
 
couÁ
è{ 
§m¶eCouÁ
 = couÁ; 
	}
}

437 
	g¡©i¡ic
 &
	gİ”©Ü
+=(
¡©i¡ic
 cÚ¡ &
Ùh”
);

439 
	g¡d
::
¡ršg
 
	$fÜm©
(
un™
, 
boŞ
 
tÙ®
 = 
çl£
) const;

440 
¡d
::
¡ršg
 
	$fÜm©Hi¡
(
un™
ècÚ¡ {  
hi¡
.
	`fÜm©
(un™); 
	}
}

443 
	s¡©Info
 {

444 cÚ¡ *
	mÇme
;

445 
ušt32_t
 
	mæags
;

448 şas 
	ctimeSt
 : 
public
 
¡©i¡ic
 {

449 
¡©Info
 
tim”Info
[];

451 
	mpublic
:

452 
	$timeSt
(è: 
	$¡©i¡ic
() {}

453 cÚ¡ *
	$Çme
(
tim”_e
 
e
è{  
tim”Info
[e].
Çme
; 
	}
}

454 
boŞ
 
	$noTÙ®
(
tim”_e
 
e
) {

455  
tim”Info
[
e
].
æags
 & 
¡©s_æags_e
::
noTÙ®
;

456 
	}
}

457 
boŞ
 
	$ma¡”OÆy
(
tim”_e
 
e
) {

458  
tim”Info
[
e
].
æags
 & 
¡©s_æags_e
::
ÚlyInMa¡”
;

459 
	}
}

460 
boŞ
 
	$wÜk”OÆy
(
tim”_e
 
e
) {

461  
tim”Info
[
e
].
æags
 & 
¡©s_æags_e
::
nÙInMa¡”
;

462 
	}
}

463 
boŞ
 
	$noUn™s
(
tim”_e
 
e
) {

464  
tim”Info
[
e
].
æags
 & 
¡©s_æags_e
::
noUn™s
;

465 
	}
}

466 
boŞ
 
	$logEv’t
(
tim”_e
 
e
) {

467  
tim”Info
[
e
].
æags
 & 
¡©s_æags_e
::
logEv’t
;

468 
	}
}

469 
	$ş—rEv’tFÏgs
() {

470 
i
 = 0; i < 
TIMER_LAST
; i++) {

471 
tim”Info
[
i
].
æags
 &ğ(~(
¡©s_æags_e
::
logEv’t
));

473 
	}
}

479 şas 
	cex¶ic™Tim”
 {

480 
timeSt
 *
	m¡©
;

481 
tim”_e
 
	mtim”EnumV®ue
;

482 
tsc_tick_couÁ
 
	m¡¬tTime
;

483 
tsc_tick_couÁ
 
	m·u£S¹Time
;

484 
	mtsc_tick_couÁ
::
tsc_š‹rv®_t
 
tÙ®Pau£Time
;

486 
	mpublic
:

487 
	$ex¶ic™Tim”
(
timeSt
 *
s
, 
tim”_e
 
‹
)

488 : 
	`¡©
(
s
), 
	`tim”EnumV®ue
(
‹
), 
	`¡¬tTime
(), 
	`·u£S¹Time
(0),

489 
	$tÙ®Pau£Time
() {}

492 
	`¡¬t
(
tsc_tick_couÁ
 
tick
);

493 
	$·u£
(
tsc_tick_couÁ
 
tick
è{ 
·u£S¹Time
 =ick; 
	}
}

494 
	$»sume
(
tsc_tick_couÁ
 
tick
) {

495 
tÙ®Pau£Time
 +ğ(
tick
 - 
·u£S¹Time
);

496 
	}
}

497 
¡İ
(
tsc_tick_couÁ
 
tick
, 
kmp_¡©s_li¡
 *
¡©s_±r
 = 
nuÎ±r
);

498 
	$»£t
() {

499 
¡¬tTime
 = 0;

500 
·u£S¹Time
 = 0;

501 
tÙ®Pau£Time
 = 0;

502 
	}
}

503 
tim”_e
 
	$g‘_ty³
(ècÚ¡ {  
tim”EnumV®ue
; 
	}
}

512 şas 
	c·¹™iÚedTim”s
 {

513 
	m´iv©e
:

514 
¡d
::
veùÜ
<
ex¶ic™Tim”
> 
tim”_¡ack
;

516 
	mpublic
:

517 
·¹™iÚedTim”s
();

518 
š™
(
ex¶ic™Tim”
 
tim”
);

519 
exchªge
(
ex¶ic™Tim”
 
tim”
);

520 
push
(
ex¶ic™Tim”
 
tim”
);

521 
pİ
();

522 
wšdup
();

527 şas 
	cblockP¬t™iÚedTim”
 {

528 
·¹™iÚedTim”s
 *
	m·¹_tim”s
;

530 
	mpublic
:

531 
	$blockP¬t™iÚedTim”
(
·¹™iÚedTim”s
 *
±
, 
ex¶ic™Tim”
 
tim”
)

532 : 
	$·¹_tim”s
(
±
) {

533 
·¹_tim”s
->
	`push
(
tim”
);

535 ~
	$blockP¬t™iÚedTim”
(è{ 
·¹_tim”s
->
	`pİ
(); 
	}
}

541 şas 
	cblockTh»adS‹
 {

542 
¡©s_¡©e_e
 *
	m¡©e_poš‹r
;

543 
¡©s_¡©e_e
 
	mŞd_¡©e
;

545 
	mpublic
:

546 
	$blockTh»adS‹
(
¡©s_¡©e_e
 *
th»ad_¡©e_poš‹r
, sts_¡©e_
Ãw_¡©e
)

547 : 
	`¡©e_poš‹r
(
th»ad_¡©e_poš‹r
), 
	$Şd_¡©e
(*
th»ad_¡©e_poš‹r
) {

548 *
¡©e_poš‹r
 = 
Ãw_¡©e
;

550 ~
	$blockTh»adS‹
(è{ *
¡©e_poš‹r
 = 
Şd_¡©e
; 
	}
}

556 şas 
	ccouÁ”
 {

557 
ušt64_t
 
	mv®ue
;

558 cÚ¡ 
¡©Info
 
	mcouÁ”Info
[];

560 
	mpublic
:

561 
	$couÁ”
(è: 
	$v®ue
(0) {}

562 
	$šüem’t
(è{ 
v®ue
++; 
	}
}

563 
ušt64_t
 
	$g‘V®ue
(ècÚ¡ {  
v®ue
; 
	}
}

564 
	$»£t
(è{ 
v®ue
 = 0; 
	}
}

565 cÚ¡ *
	$Çme
(
couÁ”_e
 
e
è{  
couÁ”Info
[e].
Çme
; 
	}
}

566 
boŞ
 
	$ma¡”OÆy
(
couÁ”_e
 
e
) {

567  
couÁ”Info
[
e
].
æags
 & 
¡©s_æags_e
::
ÚlyInMa¡”
;

568 
	}
}

604 şas 
	ckmp_¡©s_ev’t
 {

605 
ušt64_t
 
	m¡¬t
;

606 
ušt64_t
 
	m¡İ
;

607 
	mÃ¡_Ëv–
;

608 
tim”_e
 
	mtim”_Çme
;

610 
	mpublic
:

611 
	$kmp_¡©s_ev’t
()

612 : 
	`¡¬t
(0), 
	`¡İ
(0), 
	`Ã¡_Ëv–
(0), 
	$tim”_Çme
(
TIMER_LAST
) {}

613 
	$kmp_¡©s_ev’t
(
ušt64_t
 
¡¹
, ušt64_ˆ
¡p
, 
n¡
, 
tim”_e
 
nme
)

614 : 
	`¡¬t
(
¡¹
), 
	`¡İ
(
¡p
), 
	`Ã¡_Ëv–
(
n¡
), 
	$tim”_Çme
(
nme
è{
	}
}

615 
šlše
 
ušt64_t
 
	$g‘S¹
(ècÚ¡ {  
¡¬t
; 
	}
}

616 
šlše
 
ušt64_t
 
	$g‘Stİ
(ècÚ¡ {  
¡İ
; 
	}
}

617 
šlše
 
	$g‘Ne¡Lev–
(ècÚ¡ {  
Ã¡_Ëv–
; 
	}
}

618 
šlše
 
tim”_e
 
	$g‘Tim”Name
(ècÚ¡ {  
tim”_Çme
; 
	}
}

647 şas 
	ckmp_¡©s_ev’t_veùÜ
 {

648 
kmp_¡©s_ev’t
 *
	mev’ts
;

649 
	mš‹º®_size
;

650 
	m®loÿ‹d_size
;

651 cÚ¡ 
	mINIT_SIZE
 = 1024;

653 
	mpublic
:

654 
	$kmp_¡©s_ev’t_veùÜ
() {

655 
ev’ts
 =

656 (
kmp_¡©s_ev’t
 *)
	`__kmp_®loÿ‹
((kmp_¡©s_ev’tè* 
INIT_SIZE
);

657 
š‹º®_size
 = 0;

658 
®loÿ‹d_size
 = 
INIT_SIZE
;

660 ~
	$kmp_¡©s_ev’t_veùÜ
(è{
	}
}

661 
šlše
 
	$»£t
(è{ 
š‹º®_size
 = 0; 
	}
}

662 
šlše
 
	$size
(ècÚ¡ {  
š‹º®_size
; 
	}
}

663 
	$push_back
(
ušt64_t
 
¡¬t_time
, ušt64_ˆ
¡İ_time
, 
Ã¡_Ëv–
,

664 
tim”_e
 
Çme
) {

665 
i
;

666 ià(
š‹º®_size
 =ğ
®loÿ‹d_size
) {

667 
kmp_¡©s_ev’t
 *
tmp
 = (kmp_¡©s_ev’ˆ*)
	`__kmp_®loÿ‹
(

668 (
kmp_¡©s_ev’t
è* 
®loÿ‹d_size
 * 2);

669 
i
 = 0; i < 
š‹º®_size
; i++)

670 
tmp
[
i
] = 
ev’ts
[i];

671 
	`__kmp_ä“
(
ev’ts
);

672 
ev’ts
 = 
tmp
;

673 
®loÿ‹d_size
 *= 2;

675 
ev’ts
[
š‹º®_size
] =

676 
	`kmp_¡©s_ev’t
(
¡¬t_time
, 
¡İ_time
, 
Ã¡_Ëv–
, 
Çme
);

677 
š‹º®_size
++;

679 
	}
}

680 
d—Îoÿ‹
();

681 
sÜt
();

682 cÚ¡ 
	gkmp_¡©s_ev’t
 &
	gİ”©Ü
[](
	gšdex
ècÚ¡ {  
	gev’ts
[
šdex
]; }

683 
	gkmp_¡©s_ev’t
 &
	gİ”©Ü
[](
	gšdex
è{  
	gev’ts
[
šdex
]; }

684 cÚ¡ 
	gkmp_¡©s_ev’t
 &
	$©
(
šdex
ècÚ¡ {  
ev’ts
[šdex]; 
	}
}

685 
	gkmp_¡©s_ev’t
 &
	$©
(
šdex
è{  
ev’ts
[šdex]; 
	}
}

715 şas 
	ckmp_¡©s_li¡
 {

716 
	mgtid
;

717 
timeSt
 
	m_tim”s
[
TIMER_LAST
 + 1];

718 
couÁ”
 
	m_couÁ”s
[
COUNTER_LAST
 + 1];

719 
ex¶ic™Tim”
 
	mth»ad_liã_tim”
;

720 
·¹™iÚedTim”s
 
	m_·¹™iÚedTim”s
;

721 
	m_Ã¡Lev–
;

722 
kmp_¡©s_ev’t_veùÜ
 
	m_ev’t_veùÜ
;

723 
kmp_¡©s_li¡
 *
	mÃxt
;

724 
kmp_¡©s_li¡
 *
	m´ev
;

725 
¡©s_¡©e_e
 
	m¡©e
;

726 
	mth»ad_is_idË_æag
;

728 
	mpublic
:

729 
	$kmp_¡©s_li¡
()

730 : 
	`th»ad_liã_tim”
(&
_tim”s
[
TIMER_OMP_wÜk”_th»ad_liã
],

731 
TIMER_OMP_wÜk”_th»ad_liã
),

732 
	`_Ã¡Lev–
(0), 
	`_ev’t_veùÜ
(), 
	`Ãxt
(
this
), 
	`´ev
Ñhis), 
	`¡©e
(
IDLE
),

733 
	$th»ad_is_idË_æag
(0) {}

734 ~
	$kmp_¡©s_li¡
(è{
	}
}

735 
šlše
 
timeSt
 *
	$g‘Tim”
(
tim”_e
 
idx
è{  &
_tim”s
[idx]; 
	}
}

736 
šlše
 
couÁ”
 *
	$g‘CouÁ”
(
couÁ”_e
 
idx
è{  &
_couÁ”s
[idx]; 
	}
}

737 
šlše
 
·¹™iÚedTim”s
 *
	$g‘P¬t™iÚedTim”s
() {

738  &
_·¹™iÚedTim”s
;

739 
	}
}

740 
šlše
 
timeSt
 *
	$g‘Tim”s
(è{  
_tim”s
; 
	}
}

741 
šlše
 
couÁ”
 *
	$g‘CouÁ”s
(è{  
_couÁ”s
; 
	}
}

742 
šlše
 
	gkmp_¡©s_ev’t_veùÜ
 &
	$g‘Ev’tVeùÜ
(è{  
_ev’t_veùÜ
; 
	}
}

743 
šlše
 
	$¡¬tLiã
(è{ 
th»ad_liã_tim”
.
	`¡¬t
(
tsc_tick_couÁ
::
	`now
()); 
	}
}

744 
šlše
 
	$’dLiã
(è{ 
th»ad_liã_tim”
.
	`¡İ
(
tsc_tick_couÁ
::
	`now
(), 
this
); 
	}
}

745 
šlše
 
	$»£tEv’tVeùÜ
(è{ 
_ev’t_veùÜ
.
	`»£t
(); 
	}
}

746 
šlše
 
	$šüem’tNe¡V®ue
(è{ 
_Ã¡Lev–
++; 
	}
}

747 
šlše
 
	$g‘Ne¡V®ue
(è{  
_Ã¡Lev–
; 
	}
}

748 
šlše
 
	$deüem’tNe¡V®ue
(è{ 
_Ã¡Lev–
--; 
	}
}

749 
šlše
 
	$g‘Gtid
(ècÚ¡ {  
gtid
; 
	}
}

750 
šlše
 
	$£tGtid
(
Ãwgtid
è{ 
gtid
 =‚ewgtid; 
	}
}

751 
šlše
 
	$£tS‹
(
¡©s_¡©e_e
 
Ãw¡©e
è{ 
¡©e
 =‚ew¡©e; 
	}
}

752 
šlše
 
¡©s_¡©e_e
 
	$g‘S‹
(ècÚ¡ {  
¡©e
; 
	}
}

753 
šlše
 
¡©s_¡©e_e
 *
	$g‘S‹Poš‹r
(è{  &
¡©e
; 
	}
}

754 
šlše
 
boŞ
 
	$isIdË
(è{  
th»ad_is_idË_æag
 =ğ1; 
	}
}

755 
šlše
 
	$£tIdËFÏg
(è{ 
th»ad_is_idË_æag
 = 1; 
	}
}

756 
šlše
 
	$»£tIdËFÏg
(è{ 
th»ad_is_idË_æag
 = 0; 
	}
}

757 
kmp_¡©s_li¡
 *
push_back
(
gtid
);

758 
šlše
 
	$push_ev’t
(
ušt64_t
 
¡¬t_time
, ušt64_ˆ
¡İ_time
,

759 
Ã¡_Ëv–
, 
tim”_e
 
Çme
) {

760 
_ev’t_veùÜ
.
	`push_back
(
¡¬t_time
, 
¡İ_time
, 
Ã¡_Ëv–
, 
Çme
);

761 
	}
}

762 
d—Îoÿ‹
();

763 
şass
 
	g™”©Ü
;

764 
	gkmp_¡©s_li¡
::
™”©Ü
 
begš
();

765 
	gkmp_¡©s_li¡
::
™”©Ü
 
’d
();

766 
size
();

767 şas 
	c™”©Ü
 {

768 
kmp_¡©s_li¡
 *
	g±r
;

769 
ä›nd
 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::
begš
();

770 
ä›nd
 
	gkmp_¡©s_li¡
::
™”©Ü
 
kmp_¡©s_li¡
::
’d
();

772 
	gpublic
:

773 
™”©Ü
();

774 ~
™”©Ü
();

775 
™”©Ü
 
	gİ”©Ü
++();

776 
™”©Ü
 
	gİ”©Ü
++(
	gdummy
);

777 
™”©Ü
 
	gİ”©Ü
--();

778 
™”©Ü
 
	gİ”©Ü
--(
	gdummy
);

779 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
™”©Ü
 &
rhs
);

780 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
™”©Ü
 &
rhs
);

781 
kmp_¡©s_li¡
 *
	gİ”©Ü
*() const;

814 şas 
	ckmp_¡©s_ouut_moduË
 {

816 
	mpublic
:

817 
	srgb_cŞÜ
 {

818 
r
;

819 
	mg
;

820 
	mb
;

823 
	g´iv©e
:

824 
¡d
::
¡ršg
 
ouutFeName
;

825 cÚ¡ *
	gev’tsFeName
;

826 cÚ¡ *
	g¶ÙFeName
;

827 
	g´štP”Th»adFÏg
;

828 
	g´štP”Th»adEv’tsFÏg
;

829 cÚ¡ 
rgb_cŞÜ
 
	gglob®CŞÜA¼ay
[];

830 
rgb_cŞÜ
 
	gtim”CŞÜInfo
[];

832 
š™
();

833 
£tupEv’tCŞÜs
();

834 
´štPlÙicusFe
();

835 
´štH—d”Info
(
FILE
 *
¡©sOut
);

836 
´štTim”Sts
(
FILE
 *
¡©sOut
, 
¡©i¡ic
 cÚ¡ *
theSts
,

837 
¡©i¡ic
 cÚ¡ *
tÙ®Sts
);

838 
´štCouÁ”Sts
(
FILE
 *
¡©sOut
, 
¡©i¡ic
 cÚ¡ *
theSts
);

839 
´štCouÁ”s
(
FILE
 *
¡©sOut
, 
couÁ”
 cÚ¡ *
theCouÁ”s
);

840 
´štEv’ts
(
FILE
 *
ev’tsOut
, 
kmp_¡©s_ev’t_veùÜ
 *
theEv’ts
,

841 
gtid
);

842 
rgb_cŞÜ
 
	$g‘Ev’tCŞÜ
(
tim”_e
 
e
è{  
tim”CŞÜInfo
[e]; 
	}
}

843 
wšdupEx¶ic™Tim”s
();

844 
boŞ
 
	$ev’tPrštšgEÇbËd
(ècÚ¡ {  
´štP”Th»adEv’tsFÏg
; 
	}
}

846 
	gpublic
:

847 
	$kmp_¡©s_ouut_moduË
(è{ 
	`š™
(); 
	}
}

848 
ouutSts
(cÚ¡ *
h—dšg
);

851 #ifdeà
__ılu¥lus


854 
__kmp_¡©s_š™
();

855 
__kmp_¡©s_fši
();

856 
__kmp_»£t_¡©s
();

857 
__kmp_ouut_¡©s
(const *);

858 
__kmp_accumuÏ‹_¡©s_©_ex™
();

860 
KMP_THREAD_LOCAL
 
kmp_¡©s_li¡
 *
__kmp_¡©s_th»ad_±r
;

862 
kmp_¡©s_li¡
 *
__kmp_¡©s_li¡
;

864 
kmp_s_lock_t
 
__kmp_¡©s_lock
;

866 
tsc_tick_couÁ
 
__kmp_¡©s_¡¬t_time
;

868 
kmp_¡©s_ouut_moduË
 
__kmp_¡©s_ouut
;

870 #ifdeà
__ılu¥lus


887 
	#KMP_COUNT_VALUE
(
Çme
, 
v®ue
) \

888 
__kmp_¡©s_th»ad_±r
->
	`g‘Tim”
(
TIMER_
##
Çme
)->
	`addSam¶e
(
v®ue
)

	)

900 
	#KMP_COUNT_BLOCK
(
Çme
) \

901 
__kmp_¡©s_th»ad_±r
->
	`g‘CouÁ”
(
COUNTER_
##
Çme
)->
	`šüem’t
()

	)

920 
	#KMP_OUTPUT_STATS
(
h—dšg_¡ršg
è
	`__kmp_ouut_¡©s
(h—dšg_¡ršg)

	)

929 
	#KMP_INIT_PARTITIONED_TIMERS
(
Çme
) \

930 
__kmp_¡©s_th»ad_±r
->
	`g‘P¬t™iÚedTim”s
()->
	`š™
(
	`ex¶ic™Tim”
( \

931 
__kmp_¡©s_th»ad_±r
->
	`g‘Tim”
(
TIMER_
##
Çme
), TIMER_##Çme))

	)

933 
	#KMP_TIME_PARTITIONED_BLOCK
(
Çme
) \

934 
blockP¬t™iÚedTim”
 
	`__PBLOCKTIME__
( \

935 
__kmp_¡©s_th»ad_±r
->
	`g‘P¬t™iÚedTim”s
(), \

936 
	`ex¶ic™Tim”
(
__kmp_¡©s_th»ad_±r
->
	`g‘Tim”
(
TIMER_
##
Çme
), \

937 
TIMER_
##
Çme
))

	)

939 
	#KMP_PUSH_PARTITIONED_TIMER
(
Çme
) \

940 
__kmp_¡©s_th»ad_±r
->
	`g‘P¬t™iÚedTim”s
()->
	`push
(
	`ex¶ic™Tim”
( \

941 
__kmp_¡©s_th»ad_±r
->
	`g‘Tim”
(
TIMER_
##
Çme
), TIMER_##Çme))

	)

943 
	#KMP_POP_PARTITIONED_TIMER
() \

944 
__kmp_¡©s_th»ad_±r
->
	`g‘P¬t™iÚedTim”s
()->
	`pİ
()

	)

946 
	#KMP_EXCHANGE_PARTITIONED_TIMER
(
Çme
) \

947 
__kmp_¡©s_th»ad_±r
->
	`g‘P¬t™iÚedTim”s
()->
	`exchªge
(
	`ex¶ic™Tim”
( \

948 
__kmp_¡©s_th»ad_±r
->
	`g‘Tim”
(
TIMER_
##
Çme
), TIMER_##Çme))

	)

950 
	#KMP_SET_THREAD_STATE
(
¡©e_Çme
) \

951 
__kmp_¡©s_th»ad_±r
->
	`£tS‹
(
¡©e_Çme
)

	)

953 
	#KMP_GET_THREAD_STATE
(è
__kmp_¡©s_th»ad_±r
->
	`g‘S‹
()

	)

955 
	#KMP_SET_THREAD_STATE_BLOCK
(
¡©e_Çme
) \

956 
blockTh»adS‹
 
	`__BTHREADSTATE__
(
__kmp_¡©s_th»ad_±r
->
	`g‘S‹Poš‹r
(), \

957 
¡©e_Çme
)

	)

966 
	#KMP_RESET_STATS
(è
	`__kmp_»£t_¡©s
()

	)

968 #ià(
KMP_DEVELOPER_STATS
)

969 
	#KMP_COUNT_DEVELOPER_VALUE
(
n
, 
v
è
	`KMP_COUNT_VALUE
Ò, v)

	)

970 
	#KMP_COUNT_DEVELOPER_BLOCK
(
n
è
	`KMP_COUNT_BLOCK
Ò)

	)

971 
	#KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
n
è
	`KMP_TIME_PARTITIONED_BLOCK
Ò)

	)

972 
	#KMP_PUSH_DEVELOPER_PARTITIONED_TIMER
(
n
è
	`KMP_PUSH_PARTITIONED_TIMER
Ò)

	)

973 
	#KMP_POP_DEVELOPER_PARTITIONED_TIMER
(
n
è
	`KMP_POP_PARTITIONED_TIMER
Ò)

	)

974 
	#KMP_EXCHANGE_DEVELOPER_PARTITIONED_TIMER
(
n
) \

975 
	`KMP_EXCHANGE_PARTITIONED_TIMER
(
n
)

	)

978 
	#KMP_COUNT_DEVELOPER_VALUE
(
n
, 
v
è(()0)

	)

979 
	#KMP_COUNT_DEVELOPER_BLOCK
(
n
è(()0)

	)

980 
	#KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
n
è(()0)

	)

981 
	#KMP_PUSH_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

982 
	#KMP_POP_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

983 
	#KMP_EXCHANGE_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

989 
	#KMP_COUNT_VALUE
(
n
, 
v
è(()0)

	)

990 
	#KMP_COUNT_BLOCK
(
n
è(()0)

	)

992 
	#KMP_OUTPUT_STATS
(
h—dšg_¡ršg
è(()0)

	)

993 
	#KMP_RESET_STATS
(è(()0)

	)

995 
	#KMP_COUNT_DEVELOPER_VALUE
(
n
, 
v
è(()0)

	)

996 
	#KMP_COUNT_DEVELOPER_BLOCK
(
n
è(()0)

	)

997 
	#KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
n
è(()0)

	)

998 
	#KMP_PUSH_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

999 
	#KMP_POP_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

1000 
	#KMP_EXCHANGE_DEVELOPER_PARTITIONED_TIMER
(
n
è(()0)

	)

1001 
	#KMP_INIT_PARTITIONED_TIMERS
(
Çme
è(()0)

	)

1002 
	#KMP_TIME_PARTITIONED_BLOCK
(
Çme
è(()0)

	)

1003 
	#KMP_PUSH_PARTITIONED_TIMER
(
Çme
è(()0)

	)

1004 
	#KMP_POP_PARTITIONED_TIMER
(è(()0)

	)

1005 
	#KMP_SET_THREAD_STATE
(
¡©e_Çme
è(()0)

	)

1006 
	#KMP_GET_THREAD_STATE
(è(()0)

	)

1007 
	#KMP_SET_THREAD_STATE_BLOCK
(
¡©e_Çme
è(()0)

	)

	@kmp_stats_timing.cpp

13 
	~<¡dlib.h
>

14 
	~<uni¡d.h
>

16 
	~<iomª
>

17 
	~<io¡»am
>

18 
	~<s¡»am
>

20 
	~"kmp.h
"

21 
	~"kmp_¡©s_timšg.h
"

23 
usšg
 
Çme¥aû
 
	g¡d
;

25 #ià
KMP_HAVE_TICK_TIME


26 #ià
KMP_MIC


27 
	gtsc_tick_couÁ
::
	$tick_time
() {

30 
	}
}

31 #–ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


32 
	~<¡ršg.h
>

34 
	gtsc_tick_couÁ
::
	$tick_time
() {

35 
»suÉ
 = 0.0;

37 ià(
»suÉ
 == 0.0) {

38 
kmp_ıuid_t
 
ıušfo
;

39 
b¿nd
[256];

41 
	`__kmp_x86_ıuid
(0x80000000, 0, &
ıušfo
);

42 
	`mem£t
(
b¿nd
, 0, (brand));

43 
ids
 = 
ıušfo
.
—x
;

45 
i
 = 2; i < (
ids
 ^ 0x80000000) + 2; i++)

46 
	`__kmp_x86_ıuid
(
i
 | 0x80000000, 0,

47 (
kmp_ıuid_t
 *)(
b¿nd
 + (
i
 - 2) * (kmp_cpuid_t)));

49 *
¡¬t
 = &
b¿nd
[0];

50 ; *
¡¬t
 == ' '; start++)

53 *
’d
 = 
b¿nd
 + 
	`KMP_STRLEN
(brand) - 3;

54 
ušt64_t
 
muÉl›r
;

56 ià(*
’d
 == 'M')

57 
muÉl›r
 = 1000LL * 1000LL;

58 ià(*
’d
 == 'G')

59 
muÉl›r
 = 1000LL * 1000LL * 1000LL;

60 ià(*
’d
 == 'T')

61 
muÉl›r
 = 1000LL * 1000LL * 1000LL * 1000LL;

63 
cout
 << "E¼Ü d‘”mššg muÉl›¸'" << *
’d
 << "'\n";

64 
	`ex™
(-1);

66 *
’d
 = 0;

67 *
’d
 != ' ')

68 
’d
--;

69 
’d
++;

71 
äeq
 = 
	`¡¹od
(
’d
, &
¡¬t
);

72 ià(
äeq
 == 0.0) {

73 
cout
 << "E¼Ü c®cuÏtšg f»qu’cy " << 
’d
 << "\n";

74 
	`ex™
(-1);

77 
»suÉ
 = (()1.0è/ (
äeq
 * 
muÉl›r
);

79  
»suÉ
;

80 
	}
}

84 
boŞ
 
	gu£SI
 = 
Œue
;

88 
	g¡d
::
¡ršg
 
	$fÜm©SI
(
š‹rv®
, 
width
, 
un™
) {

89 
¡d
::
¡ršg¡»am
 
os
;

91 ià(
u£SI
) {

95 
sÿË
;

96 
´efix
;

97 } 
¿nges
[] = {{1.e21, 'y'}, {1.e18, 'z'}, {1.e15, 'a'}, {1.e12, 'f'},

103 ià(
š‹rv®
 == 0.0) {

104 
os
 << 
¡d
::
	`£tw
(
width
 - 3è<< std::
right
 << "0.00" << std::setw(3)

105 << 
un™
;

106  
os
.
	`¡r
();

109 
boŞ
 
Ãg©ive
 = 
çl£
;

110 ià(
š‹rv®
 < 0.0) {

111 
Ãg©ive
 = 
Œue
;

112 
š‹rv®
 = -interval;

115 
i
 = 0; i < ()((
¿nges
) / (ranges[0])); i++) {

116 ià(
š‹rv®
 * 
¿nges
[
i
].
sÿË
 < 1.e0) {

117 
š‹rv®
 = iÁ”v® * 1000.e0 * 
¿nges
[
i
].
sÿË
;

118 
os
 << 
¡d
::
fixed
 << std::
	`£»cisiÚ
(2è<< std::
	`£tw
(
width
 - 3)

119 << 
¡d
::
right
 << (
Ãg©ive
 ? -
š‹rv®
 : iÁ”v®è<< std::
	`£tw
(2)

120 << 
¿nges
[
i
].
´efix
 << 
¡d
::
	`£tw
(1è<< 
un™
;

122  
os
.
	`¡r
();

126 
os
 << 
¡d
::
	`£»cisiÚ
(2è<< std::
fixed
 << std::
right
 << std::
	`£tw
(
width
 - 3)

127 << 
š‹rv®
 << 
¡d
::
	`£tw
(3è<< 
un™
;

129  
os
.
	`¡r
();

130 
	}
}

	@kmp_stats_timing.h

1 #iâdeà
KMP_STATS_TIMING_H


2 
	#KMP_STATS_TIMING_H


	)

16 
	~"kmp_os.h
"

17 
	~<lim™s
>

18 
	~<¡dšt.h
>

19 
	~<¡ršg
>

20 #ià
KMP_HAVE_X86INTRIN_H


21 
	~<x86šŒš.h
>

24 şas 
	ctsc_tick_couÁ
 {

25 
	m´iv©e
:

26 
št64_t
 
my_couÁ
;

28 
	mpublic
:

29 şas 
	ctsc_š‹rv®_t
 {

30 
št64_t
 
v®ue
;

31 
ex¶ic™
 
tsc_š‹rv®_t
(
št64_t
 
_v®ue
è: 
v®ue
(_value) {}

33 
public
:

34 
tsc_š‹rv®_t
(è: 
v®ue
(0) {}

35 #ià
KMP_HAVE_TICK_TIME


36 
£cÚds
() const;

38 
ticks
(ècÚ¡ {  (
	mv®ue
); }

39 
št64_t
 
g‘V®ue
(ècÚ¡ {  
	mv®ue
; }

40 
	mtsc_š‹rv®_t
 &
	mİ”©Ü
=(
št64_t
 
nv®ue
) {

41 
v®ue
 = 
nv®ue
;

42  *
	mthis
;

45 
ä›nd
 
şass
 
	mtsc_tick_couÁ
;

47 
ä›nd
 
tsc_š‹rv®_t
 
	mİ”©Ü
-(cÚ¡ 
	mtsc_tick_couÁ
 &
	mt1
,

48 cÚ¡ 
	mtsc_tick_couÁ
 &
	mt0
);

49 
ä›nd
 
tsc_š‹rv®_t
 
	mİ”©Ü
-(cÚ¡ 
	mtsc_tick_couÁ
::tsc_š‹rv®_ˆ&
i1
,

50 cÚ¡ 
	mtsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i0
);

51 
ä›nd
 
	mtsc_š‹rv®_t
 &
	mİ”©Ü
+=(
tsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i1
,

52 cÚ¡ 
	mtsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i0
);

55 #ià
KMP_HAVE___BUILTIN_READCYCLECOUNTER


56 
	$tsc_tick_couÁ
()

57 : 
	`my_couÁ
(
¡©ic_ÿ¡
<
št64_t
>(
	$__butš_»adcyşecouÁ”
())è{
	}
}

58 #–ià
KMP_HAVE___RDTSC


59 
	$tsc_tick_couÁ
(è: 
	`my_couÁ
(
¡©ic_ÿ¡
<
št64_t
>(
	$__rdtsc
())è{
	}
}

61 #”rÜ 
Mu¡
 
have
 
high
 
»sŞutiÚ
 
tim”
 
defšed


63 
	$tsc_tick_couÁ
(
št64_t
 
v®ue
è: 
	$my_couÁ
(
v®ue
è{
	}
}

64 
št64_t
 
	$g‘V®ue
(ècÚ¡ {  
my_couÁ
; 
	}
}

65 
tsc_tick_couÁ
 
	$Ï‹r
(
tsc_tick_couÁ
 cÚ¡ 
Ùh”
) const {

66  
my_couÁ
 > 
Ùh”
.my_couÁ ? (*
this
) : other;

67 
	}
}

68 
tsc_tick_couÁ
 
	$—¾›r
(
tsc_tick_couÁ
 cÚ¡ 
Ùh”
) const {

69  
my_couÁ
 < 
Ùh”
.my_couÁ ? (*
this
) : other;

70 
	}
}

71 #ià
KMP_HAVE_TICK_TIME


72 
tick_time
();

74 
tsc_tick_couÁ
 
	$now
() {

75  
	`tsc_tick_couÁ
();

76 
	}
}

77 
ä›nd
 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
 
İ”©Ü
-(cÚ¡ 
tsc_tick_couÁ
 &
t1
,

78 cÚ¡ 
	gtsc_tick_couÁ
 &
	gt0
);

81 
šlše
 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
 
İ”©Ü
-(cÚ¡ 
tsc_tick_couÁ
 &
t1
,

82 cÚ¡ 
	gtsc_tick_couÁ
 &
	gt0
) {

83  
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
(
t1
.
my_couÁ
 - 
t0
.my_count);

86 
šlše
 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t


87 
İ”©Ü
-(cÚ¡ 
tsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i1
,

88 cÚ¡ 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i0
) {

89  
tsc_tick_couÁ
::
tsc_š‹rv®_t
(
i1
.
v®ue
 - 
i0
.value);

92 
šlše
 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
 &

93 
İ”©Ü
+=(
tsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i1
,

94 cÚ¡ 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
 &
i0
) {

95 
i1
.
v®ue
 +ğ
i0
.value;

96  
	gi1
;

99 #ià
KMP_HAVE_TICK_TIME


100 
šlše
 
	gtsc_tick_couÁ
::
tsc_š‹rv®_t
::
	$£cÚds
() const {

101  
v®ue
 * 
	`tick_time
();

102 
	}
}

105 
¡d
::
¡ršg
 
fÜm©SI
(
š‹rv®
, 
width
, 
un™
);

107 
šlše
 
	g¡d
::
¡ršg
 
	$fÜm©SecÚds
(
š‹rv®
, 
width
) {

108  
	`fÜm©SI
(
š‹rv®
, 
width
, 'S');

109 
	}
}

111 
šlše
 
	g¡d
::
¡ršg
 
	$fÜm©Ticks
(
š‹rv®
, 
width
) {

112  
	`fÜm©SI
(
š‹rv®
, 
width
, 'T');

113 
	}
}

	@kmp_str.cpp

13 
	~"kmp_¡r.h
"

15 
	~<¡d¬g.h
>

16 
	~<¡dio.h
>

17 
	~<¡dlib.h
>

19 
	~"kmp.h
"

20 
	~"kmp_i18n.h
"

59 
	#KMP_STR_BUF_INVARIANT
(
b
) \

61 
	`KMP_DEBUG_ASSERT
((
b
)->
¡r
 !ğ
NULL
); \

62 
	`KMP_DEBUG_ASSERT
((
b
)->
size
 >ğ((b)->
bulk
)); \

63 
	`KMP_DEBUG_ASSERT
((
b
)->
size
 % ((b)->
bulk
) == 0); \

64 
	`KMP_DEBUG_ASSERT
(()(
b
)->
u£d
 < (b)->
size
); \

65 
	`KMP_DEBUG_ASSERT
( \

66 (
b
)->
size
 =ğ((b)->
bulk
è? (b)->
¡r
 == &(b)->bulk[0] : 1); \

67 
	`KMP_DEBUG_ASSERT
((
b
)->
size
 > ((b)->
bulk
è? (b)->
¡r
 != &(b)->bulk[0] \

69 }

	)

71 
	$__kmp_¡r_buf_ş—r
(
kmp_¡r_buf_t
 *
bufãr
) {

72 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

73 ià(
bufãr
->
u£d
 > 0) {

74 
bufãr
->
u£d
 = 0;

75 
bufãr
->
¡r
[0] = 0;

77 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

78 
	}
}

80 
	$__kmp_¡r_buf_»£rve
(
kmp_¡r_buf_t
 *
bufãr
, 
size
) {

81 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

82 
	`KMP_DEBUG_ASSERT
(
size
 >= 0);

84 ià(
bufãr
->
size
 < ()size) {

87 
bufãr
->
size
 *= 2;

88 } 
bufãr
->
size
 < ()size);

91 ià(
bufãr
->
¡r
 =ğ&bufãr->
bulk
[0]) {

92 
bufãr
->
¡r
 = (*)
	`KMP_INTERNAL_MALLOC
(bufãr->
size
);

93 ià(
bufãr
->
¡r
 =ğ
NULL
) {

94 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

96 
	`KMP_MEMCPY_S
(
bufãr
->
¡r
, bufãr->
size
, bufãr->
bulk
, bufãr->
u£d
 + 1);

98 
bufãr
->
¡r
 = (*)
	`KMP_INTERNAL_REALLOC
(bufãr->¡r, bufãr->
size
);

99 ià(
bufãr
->
¡r
 =ğ
NULL
) {

100 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

105 
	`KMP_DEBUG_ASSERT
(
bufãr
->
size
 > 0);

106 
	`KMP_DEBUG_ASSERT
(
bufãr
->
size
 >= ()size);

107 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

108 
	}
}

110 
	$__kmp_¡r_buf_d‘ach
(
kmp_¡r_buf_t
 *
bufãr
) {

111 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

114 ià(
bufãr
->
size
 <ğ(bufãr->
bulk
)) {

115 
bufãr
->
¡r
 = (*)
	`KMP_INTERNAL_MALLOC
(bufãr->
size
);

116 ià(
bufãr
->
¡r
 =ğ
NULL
) {

117 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

119 
	`KMP_MEMCPY_S
(
bufãr
->
¡r
, bufãr->
size
, bufãr->
bulk
, bufãr->
u£d
 + 1);

121 
	}
}

123 
	$__kmp_¡r_buf_ä“
(
kmp_¡r_buf_t
 *
bufãr
) {

124 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

125 ià(
bufãr
->
size
 > (bufãr->
bulk
)) {

126 
	`KMP_INTERNAL_FREE
(
bufãr
->
¡r
);

128 
bufãr
->
¡r
 = bufãr->
bulk
;

129 
bufãr
->
size
 = (bufãr->
bulk
);

130 
bufãr
->
u£d
 = 0;

131 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

132 
	}
}

134 
	$__kmp_¡r_buf_ÿt
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
¡r
, 
Ën
) {

135 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

136 
	`KMP_DEBUG_ASSERT
(
¡r
 !ğ
NULL
);

137 
	`KMP_DEBUG_ASSERT
(
Ën
 >= 0);

138 
	`__kmp_¡r_buf_»£rve
(
bufãr
, bufãr->
u£d
 + 
Ën
 + 1);

139 
	`KMP_MEMCPY
(
bufãr
->
¡r
 + bufãr->
u£d
, sŒ, 
Ën
);

140 
bufãr
->
¡r
[bufãr->
u£d
 + 
Ën
] = 0;

141 
bufãr
->
u£d
 +ğ
Ën
;

142 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

143 
	}
}

145 
	$__kmp_¡r_buf_ÿtbuf
(
kmp_¡r_buf_t
 *
de¡
, cÚ¡ kmp_¡r_buf_ˆ*
¤c
) {

146 
	`KMP_DEBUG_ASSERT
(
de¡
);

147 
	`KMP_DEBUG_ASSERT
(
¤c
);

148 
	`KMP_STR_BUF_INVARIANT
(
de¡
);

149 
	`KMP_STR_BUF_INVARIANT
(
¤c
);

150 ià(!
¤c
->
¡r
 || !¤c->
u£d
)

152 
	`__kmp_¡r_buf_»£rve
(
de¡
, de¡->
u£d
 + 
¤c
->used + 1);

153 
	`KMP_MEMCPY
(
de¡
->
¡r
 + de¡->
u£d
, 
¤c
->str, src->used);

154 
de¡
->
¡r
[de¡->
u£d
 + 
¤c
->used] = 0;

155 
de¡
->
u£d
 +ğ
¤c
->used;

156 
	`KMP_STR_BUF_INVARIANT
(
de¡
);

157 
	}
}

160 
	$__kmp_¡r_buf_v´št
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
fÜm©
,

161 
va_li¡
 
¬gs
) {

162 
rc
;

163 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

166 cÚ¡ 
ä“
 = 
bufãr
->
size
 - bufãr->
u£d
;

167 
size
;

180 #ià!
KMP_OS_WINDOWS


181 
va_li¡
 
_¬gs
;

182 
	`va_cİy
(
_¬gs
, 
¬gs
);

183 
	#¬gs
 
_¬gs


185 
rc
 = 
	`KMP_VSNPRINTF
(
bufãr
->
¡r
 + bufãr->
u£d
, 
ä“
, 
fÜm©
, 
¬gs
);

	)

186 #ià!
KMP_OS_WINDOWS


187 #undeà
¬gs


188 
	`va_’d
(
_¬gs
);

193 ià(
rc
 >ğ0 &&„ø< 
ä“
) {

194 
bufãr
->
u£d
 +ğ
rc
;

199 ià(
rc
 >= 0) {

201 
size
 = 
bufãr
->
u£d
 + 
rc
 + 1;

204 
size
 = 
bufãr
->size * 2;

208 
	`__kmp_¡r_buf_»£rve
(
bufãr
, 
size
);

213 
	`KMP_DEBUG_ASSERT
(
bufãr
->
size
 > 0);

214 
	`KMP_STR_BUF_INVARIANT
(
bufãr
);

215  
rc
;

216 
	}
}

219 
	$__kmp_¡r_buf_´št
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
fÜm©
, ...) {

220 
rc
;

221 
va_li¡
 
¬gs
;

222 
	`va_¡¬t
(
¬gs
, 
fÜm©
);

223 
rc
 = 
	`__kmp_¡r_buf_v´št
(
bufãr
, 
fÜm©
, 
¬gs
);

224 
	`va_’d
(
¬gs
);

225  
rc
;

226 
	}
}

230 
	$__kmp_¡r_buf_´št_size
(
kmp_¡r_buf_t
 *
buf
, 
size_t
 
size
) {

231 cÚ¡ *
Çmes
[] = {"", "k", "M", "G", "T", "P", "E", "Z", "Y"};

232 cÚ¡ 
un™s
 = (
Çmes
) / (const *);

233 
u
 = 0;

234 ià(
size
 > 0) {

235 (
size
 % 1024 =ğ0è&& (
u
 + 1 < 
un™s
)) {

236 
size
 = size / 1024;

237 ++
u
;

241 
	`__kmp_¡r_buf_´št
(
buf
, "%" 
KMP_SIZE_T_SPEC
 "%s", 
size
, 
Çmes
[
u
]);

242 
	}
}

244 
	$__kmp_¡r_âame_š™
(
kmp_¡r_âame_t
 *
âame
, cÚ¡ *
·th
) {

245 
âame
->
·th
 = 
NULL
;

246 
âame
->
dœ
 = 
NULL
;

247 
âame
->
ba£
 = 
NULL
;

249 ià(
·th
 !ğ
NULL
) {

250 *
¦ash
 = 
NULL
;

251 *
ba£
 = 
NULL
;

252 
âame
->
·th
 = 
	`__kmp_¡r_fÜm©
("%s",…ath);

256 ià(
KMP_OS_WINDOWS
) {

257 
	`__kmp_¡r_»¶aû
(
âame
->
·th
, '\\', '/');

259 
âame
->
dœ
 = 
	`__kmp_¡r_fÜm©
("%s", fÇme->
·th
);

260 
¦ash
 = 
	`¡¼chr
(
âame
->
dœ
, '/');

261 ià(
KMP_OS_WINDOWS
 &&

262 
¦ash
 =ğ
NULL
) {

263 
fœ¡
 = 
	`TOLOWER
(
âame
->
dœ
[0]);

264 ià('a' <ğ
fœ¡
 && fœ¡ <ğ'z' && 
âame
->
dœ
[1] == ':') {

265 
¦ash
 = &
âame
->
dœ
[1];

268 
ba£
 = (
¦ash
 =ğ
NULL
 ? 
âame
->
dœ
 : slash + 1);

269 
âame
->
ba£
 = 
	`__kmp_¡r_fÜm©
("%s", base);

270 *
ba£
 = 0;

273 
	}
}

275 
	$__kmp_¡r_âame_ä“
(
kmp_¡r_âame_t
 *
âame
) {

276 
	`__kmp_¡r_ä“
(&
âame
->
·th
);

277 
	`__kmp_¡r_ä“
(&
âame
->
dœ
);

278 
	`__kmp_¡r_ä“
(&
âame
->
ba£
);

279 
	}
}

281 
	$__kmp_¡r_âame_m©ch
(
kmp_¡r_âame_t
 cÚ¡ *
âame
, cÚ¡ *
·‰”n
) {

282 
dœ_m©ch
 = 1;

283 
ba£_m©ch
 = 1;

285 ià(
·‰”n
 !ğ
NULL
) {

286 
kmp_¡r_âame_t
 
±º
;

287 
	`__kmp_¡r_âame_š™
(&
±º
, 
·‰”n
);

288 
dœ_m©ch
 = 
	`¡rcmp
(
±º
.
dœ
, "*/") == 0 ||

289 (
âame
->
dœ
 !ğ
NULL
 && 
	`__kmp_¡r_eqf
(âame->dœ, 
±º
.dir));

290 
ba£_m©ch
 = 
	`¡rcmp
(
±º
.
ba£
, "*") == 0 ||

291 (
âame
->
ba£
 !ğ
NULL
 && 
	`__kmp_¡r_eqf
(âame->ba£, 
±º
.base));

292 
	`__kmp_¡r_âame_ä“
(&
±º
);

295  
dœ_m©ch
 && 
ba£_m©ch
;

296 
	}
}

298 
kmp_¡r_loc_t
 
	$__kmp_¡r_loc_š™
(cÚ¡ *
psourû
, 
š™_âame
) {

299 
kmp_¡r_loc_t
 
loc
;

301 
loc
.
_bulk
 = 
NULL
;

302 
loc
.
fe
 = 
NULL
;

303 
loc
.
func
 = 
NULL
;

304 
loc
.
lše
 = 0;

305 
loc
.
cŞ
 = 0;

307 ià(
psourû
 !ğ
NULL
) {

308 *
¡r
 = 
NULL
;

309 *
dummy
 = 
NULL
;

310 *
lše
 = 
NULL
;

311 *
cŞ
 = 
NULL
;

314 
loc
.
_bulk
 = 
	`__kmp_¡r_fÜm©
("%s", 
psourû
);

317 
¡r
 = 
loc
.
_bulk
;

318 
	`__kmp_¡r_¥l™
(
¡r
, ';', &
dummy
, &str);

319 
	`__kmp_¡r_¥l™
(
¡r
, ';', &
loc
.
fe
, &str);

320 
	`__kmp_¡r_¥l™
(
¡r
, ';', &
loc
.
func
, &str);

321 
	`__kmp_¡r_¥l™
(
¡r
, ';', &
lše
, &str);

322 
	`__kmp_¡r_¥l™
(
¡r
, ';', &
cŞ
, &str);

325 ià(
lše
 !ğ
NULL
) {

326 
loc
.
lše
 = 
	`©oi
(line);

327 ià(
loc
.
lše
 < 0) {

328 
loc
.
lše
 = 0;

331 ià(
cŞ
 !ğ
NULL
) {

332 
loc
.
cŞ
 = 
	`©oi
(col);

333 ià(
loc
.
cŞ
 < 0) {

334 
loc
.
cŞ
 = 0;

339 
	`__kmp_¡r_âame_š™
(&
loc
.
âame
, 
š™_âame
 ?†oc.
fe
 : 
NULL
);

341  
loc
;

342 
	}
}

344 
	$__kmp_¡r_loc_ä“
(
kmp_¡r_loc_t
 *
loc
) {

345 
	`__kmp_¡r_âame_ä“
(&
loc
->
âame
);

346 
	`__kmp_¡r_ä“
(&(
loc
->
_bulk
));

347 
loc
->
fe
 = 
NULL
;

348 
loc
->
func
 = 
NULL
;

349 
	}
}

355 
	$__kmp_¡r_eqf
(

356 cÚ¡ *
lhs
,

357 cÚ¡ *
rhs


359 
»suÉ
;

360 #ià
KMP_OS_WINDOWS


361 
»suÉ
 = (
	`_¡ricmp
(
lhs
, 
rhs
) == 0);

363 
»suÉ
 = (
	`¡rcmp
(
lhs
, 
rhs
) == 0);

365  
»suÉ
;

366 
	}
}

399 *
	$__kmp_¡r_fÜm©
(

400 cÚ¡ *
fÜm©
,

403 
va_li¡
 
¬gs
;

404 
size
 = 512;

405 *
bufãr
 = 
NULL
;

406 
rc
;

409 
bufãr
 = (*)
	`KMP_INTERNAL_MALLOC
(
size
);

410 ià(
bufãr
 =ğ
NULL
) {

411 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

416 
	`va_¡¬t
(
¬gs
, 
fÜm©
);

417 
rc
 = 
	`KMP_VSNPRINTF
(
bufãr
, 
size
, 
fÜm©
, 
¬gs
);

418 
	`va_’d
(
¬gs
);

421 ià(
rc
 >ğ0 &&„ø< 
size
) {

426 ià(
rc
 >= 0) {

429 
size
 = 
rc
 + 1;

432 
size
 = size * 2;

436 
bufãr
 = (*)
	`KMP_INTERNAL_REALLOC
(bufãr, 
size
);

437 ià(
bufãr
 =ğ
NULL
) {

438 
	`KMP_FATAL
(
MemÜyAÎocFaed
);

442  
bufãr
;

443 
	}
}

445 
	$__kmp_¡r_ä“
(**
¡r
) {

446 
	`KMP_DEBUG_ASSERT
(
¡r
 !ğ
NULL
);

447 
	`KMP_INTERNAL_FREE
(*
¡r
);

448 *
¡r
 = 
NULL
;

449 
	}
}

456 
	$__kmp_¡r_m©ch
(cÚ¡ *
rg‘
, 
Ën
, cÚ¡ *
d©a
) {

457 
i
;

458 ià(
rg‘
 =ğ
NULL
 || 
d©a
 == NULL) {

459  
FALSE
;

461 
i
 = 0; 
rg‘
[i] && 
d©a
[i]; ++i) {

462 ià(
	`TOLOWER
(
rg‘
[
i
]è!ğTOLOWER(
d©a
[i])) {

463  
FALSE
;

466  ((
Ën
 > 0è? 
i
 >ğËÀ: (!
rg‘
[i] && (ËÀ|| !
d©a
[i])));

467 
	}
}

469 
	$__kmp_¡r_m©ch_çl£
(cÚ¡ *
d©a
) {

470 
»suÉ
 =

471 
	`__kmp_¡r_m©ch
("çl£", 1, 
d©a
) || __kmp_str_match("off", 2, data) ||

472 
	`__kmp_¡r_m©ch
("0", 1, 
d©a
) || __kmp_str_match(".false.", 2, data) ||

473 
	`__kmp_¡r_m©ch
(".f.", 2, 
d©a
) || __kmp_str_match("no", 1, data) ||

474 
	`__kmp_¡r_m©ch
("di§bËd", 0, 
d©a
);

475  
»suÉ
;

476 
	}
}

478 
	$__kmp_¡r_m©ch_Œue
(cÚ¡ *
d©a
) {

479 
»suÉ
 =

480 
	`__kmp_¡r_m©ch
("Œue", 1, 
d©a
) || __kmp_str_match("on", 2, data) ||

481 
	`__kmp_¡r_m©ch
("1", 1, 
d©a
) || __kmp_str_match(".true.", 2, data) ||

482 
	`__kmp_¡r_m©ch
(".t.", 2, 
d©a
) || __kmp_str_match("yes", 1, data) ||

483 
	`__kmp_¡r_m©ch
("’abËd", 0, 
d©a
);

484  
»suÉ
;

485 
	}
}

487 
	$__kmp_¡r_»¶aû
(*
¡r
, 
£¬ch_fÜ
, 
»¶aû_w™h
) {

488 *
found
 = 
NULL
;

490 
found
 = 
	`¡rchr
(
¡r
, 
£¬ch_fÜ
);

491 
found
) {

492 *
found
 = 
»¶aû_w™h
;

493 
found
 = 
	`¡rchr
(found + 1, 
£¬ch_fÜ
);

495 
	}
}

497 
	$__kmp_¡r_¥l™
(*
¡r
,

498 
d–im
,

499 **
h—d
,

500 **



502 *
h
 = 
¡r
;

503 *
t
 = 
NULL
;

504 ià(
¡r
 !ğ
NULL
) {

505 *
±r
 = 
	`¡rchr
(
¡r
, 
d–im
);

506 ià(
±r
 !ğ
NULL
) {

507 *
±r
 = 0;

508 
t
 = 
±r
 + 1;

511 ià(
h—d
 !ğ
NULL
) {

512 *
h—d
 = 
h
;

514 ià(

 !ğ
NULL
) {

515 *

 = 
t
;

517 
	}
}

521 *
	$__kmp_¡r_tok’
(

522 *
¡r
,

523 cÚ¡ *
d–im
,

524 **
buf


526 *
tok’
 = 
NULL
;

527 #ià
KMP_OS_WINDOWS


529 ià(
¡r
 !ğ
NULL
) {

530 *
buf
 = 
¡r
;

532 *
buf
 +ğ
	`¡r¥n
(*buf, 
d–im
);

533 ià(**
buf
 != 0) {

534 
tok’
 = *
buf
;

535 *
buf
 +ğ
	`¡rc¥n
(*buf, 
d–im
);

536 ià(**
buf
 != 0) {

537 **
buf
 = 0;

538 *
buf
 += 1;

543 
tok’
 = 
	`¡¹ok_r
(
¡r
, 
d–im
, 
buf
);

545  
tok’
;

546 
	}
}

548 
	$__kmp_¡r_to_št
(cÚ¡ *
¡r
, 
£Áš–
) {

549 
»suÉ
, 
çùÜ
;

550 cÚ¡ *
t
;

552 
»suÉ
 = 0;

554 
t
 = 
¡r
; *t != '\0'; ++t) {

555 ià(*
t
 < '0' || *t > '9')

557 
»suÉ
 = (»suÉ * 10è+ (*
t
 - '0');

560 *
t
) {

562 
çùÜ
 = 1;

566 ++
t
;

567 
çùÜ
 = 1;

571 ++
t
;

572 
çùÜ
 = 1024;

576 ++
t
;

577 
çùÜ
 = (1024 * 1024);

580 ià(*
t
 !ğ
£Áš–
)

582 
t
 = "";

583 
çùÜ
 = 1;

586 ià(
»suÉ
 > (
INT_MAX
 / 
çùÜ
))

587 
»suÉ
 = 
INT_MAX
;

589 
»suÉ
 *ğ
çùÜ
;

591  (*
t
 !ğ0 ? 0 : 
»suÉ
);

592 
	}
}

601 
	$__kmp_¡r_to_size
(

602 cÚ¡ *
¡r
,

604 
size_t
 *
out
,

605 
size_t
 
dçùÜ
,

606 cÚ¡ **
”rÜ


609 
size_t
 
v®ue
 = 0;

610 
size_t
 
çùÜ
 = 0;

611 
ov”æow
 = 0;

612 
i
 = 0;

613 
dig™
;

615 
	`KMP_DEBUG_ASSERT
(
¡r
 !ğ
NULL
);

618 
¡r
[
i
] == ' ' || str[i] == '\t') {

619 ++
i
;

623 ià(
¡r
[
i
] < '0' || str[i] > '9') {

624 *
”rÜ
 = 
	`KMP_I18N_STR
(
NÙANumb”
);

628 
dig™
 = 
¡r
[
i
] - '0';

629 
ov”æow
 = ov”æow || (
v®ue
 > (
KMP_SIZE_T_MAX
 - 
dig™
) / 10);

630 
v®ue
 = (v®u* 10è+ 
dig™
;

631 ++
i
;

632 } 
¡r
[
i
] >= '0' && str[i] <= '9');

635 
¡r
[
i
] == ' ' || str[i] == '\t') {

636 ++
i
;

640 
	#_ÿ£
(
ch
, 
exp
) \

641 
ch
: \

642 
ch
 - ('a' - 'A'): { \

643 
size_t
 
shiá
 = (
exp
)*10; \

644 ++
i
; \

645 ià(
shiá
 < (
size_t
) * 8) { \

646 
çùÜ
 = (
size_t
)(1è<< 
shiá
; \

648 
ov”æow
 = 1; \

650 } ;

	)

651 
¡r
[
i
]) {

652 
	`_ÿ£
('k', 1);

653 
	`_ÿ£
('m', 2);

654 
	`_ÿ£
('g', 3);

655 
	`_ÿ£
('t', 4);

656 
	`_ÿ£
('p', 5);

657 
	`_ÿ£
('e', 6);

658 
	`_ÿ£
('z', 7);

659 
	`_ÿ£
('y', 8);

662 #undeà
_ÿ£


663 ià(
¡r
[
i
] == 'b' || str[i] == 'B') {

664 ià(
çùÜ
 == 0) {

665 
çùÜ
 = 1;

667 ++
i
;

669 ià(!(
¡r
[
i
] == ' ' || str[i] == '\t' || str[i] == 0)) {

670 *
”rÜ
 = 
	`KMP_I18N_STR
(
BadUn™
);

674 ià(
çùÜ
 == 0) {

675 
çùÜ
 = 
dçùÜ
;

679 
ov”æow
 = ov”æow || (
v®ue
 > (
KMP_SIZE_T_MAX
 / 
çùÜ
));

680 
v®ue
 *ğ
çùÜ
;

683 
¡r
[
i
] == ' ' || str[i] == '\t') {

684 ++
i
;

687 ià(
¡r
[
i
] != 0) {

688 *
”rÜ
 = 
	`KMP_I18N_STR
(
IÎeg®Ch¬aù”s
);

692 ià(
ov”æow
) {

693 *
”rÜ
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

694 *
out
 = 
KMP_SIZE_T_MAX
;

698 *
”rÜ
 = 
NULL
;

699 *
out
 = 
v®ue
;

700 
	}
}

702 
	$__kmp_¡r_to_ušt
(

703 cÚ¡ *
¡r
,

704 
kmp_ušt64
 *
out
,

705 cÚ¡ **
”rÜ


707 
size_t
 
v®ue
 = 0;

708 
ov”æow
 = 0;

709 
i
 = 0;

710 
dig™
;

712 
	`KMP_DEBUG_ASSERT
(
¡r
 !ğ
NULL
);

715 
¡r
[
i
] == ' ' || str[i] == '\t') {

716 ++
i
;

720 ià(
¡r
[
i
] < '0' || str[i] > '9') {

721 *
”rÜ
 = 
	`KMP_I18N_STR
(
NÙANumb”
);

725 
dig™
 = 
¡r
[
i
] - '0';

726 
ov”æow
 = ov”æow || (
v®ue
 > (
KMP_SIZE_T_MAX
 - 
dig™
) / 10);

727 
v®ue
 = (v®u* 10è+ 
dig™
;

728 ++
i
;

729 } 
¡r
[
i
] >= '0' && str[i] <= '9');

732 
¡r
[
i
] == ' ' || str[i] == '\t') {

733 ++
i
;

736 ià(
¡r
[
i
] != 0) {

737 *
”rÜ
 = 
	`KMP_I18N_STR
(
IÎeg®Ch¬aù”s
);

741 ià(
ov”æow
) {

742 *
”rÜ
 = 
	`KMP_I18N_STR
(
V®ueTooL¬ge
);

743 *
out
 = (
kmp_ušt64
)-1;

747 *
”rÜ
 = 
NULL
;

748 *
out
 = 
v®ue
;

749 
	}
}

	@kmp_str.h

13 #iâdeà
KMP_STR_H


14 
	#KMP_STR_H


	)

16 
	~<¡d¬g.h
>

17 
	~<¡ršg.h
>

19 
	~"kmp_os.h
"

21 #ifdeà
__ılu¥lus


25 #ià
KMP_OS_WINDOWS


26 
	#¡rdup
 
_¡rdup


	)

30 
	#TOLOWER
(
c
è((((cè>ğ'A'è&& ((cè<ğ'Z')è? ((cè+ 'a' - 'A'è: (c))

	)

32 
	skmp_¡r_buf
 {

33 *
¡r
;

34 
size
;

35 
u£d
;

36 
bulk
[512];

38 
kmp_¡r_buf
 
	tkmp_¡r_buf_t
;

40 
	#__kmp_¡r_buf_š™
(
b
) \

42 (
b
)->
¡r
 = (b)->
bulk
; \

43 (
b
)->
size
 = ((b)->
bulk
); \

44 (
b
)->
u£d
 = 0; \

45 (
b
)->
bulk
[0] = 0; \

46 }

	)

48 
__kmp_¡r_buf_ş—r
(
kmp_¡r_buf_t
 *
bufãr
);

49 
__kmp_¡r_buf_»£rve
(
kmp_¡r_buf_t
 *
bufãr
, 
size
);

50 
__kmp_¡r_buf_d‘ach
(
kmp_¡r_buf_t
 *
bufãr
);

51 
__kmp_¡r_buf_ä“
(
kmp_¡r_buf_t
 *
bufãr
);

52 
__kmp_¡r_buf_ÿt
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
¡r
, 
Ën
);

53 
__kmp_¡r_buf_ÿtbuf
(
kmp_¡r_buf_t
 *
de¡
, cÚ¡ kmp_¡r_buf_ˆ*
¤c
);

54 
__kmp_¡r_buf_v´št
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
fÜm©
,

55 
va_li¡
 
¬gs
);

56 
__kmp_¡r_buf_´št
(
kmp_¡r_buf_t
 *
bufãr
, cÚ¡ *
fÜm©
, ...);

57 
__kmp_¡r_buf_´št_size
(
kmp_¡r_buf_t
 *
bufãr
, 
size_t
 
size
);

67 
	skmp_¡r_âame
 {

68 *
·th
;

69 *
dœ
;

70 *
ba£
;

72 
kmp_¡r_âame
 
	tkmp_¡r_âame_t
;

73 
__kmp_¡r_âame_š™
(
kmp_¡r_âame_t
 *
âame
, cÚ¡ *
·th
);

74 
__kmp_¡r_âame_ä“
(
kmp_¡r_âame_t
 *
âame
);

77 
__kmp_¡r_âame_m©ch
(
kmp_¡r_âame_t
 cÚ¡ *
âame
, cÚ¡ *
·‰”n
);

92 
	skmp_¡r_loc
 {

93 *
_bulk
;

94 
kmp_¡r_âame_t
 
âame
;

95 *
fe
;

96 *
func
;

97 
lše
;

98 
cŞ
;

100 
kmp_¡r_loc
 
	tkmp_¡r_loc_t
;

101 
kmp_¡r_loc_t
 
__kmp_¡r_loc_š™
(cÚ¡ *
psourû
, 
š™_âame
);

102 
__kmp_¡r_loc_ä“
(
kmp_¡r_loc_t
 *
loc
);

104 
__kmp_¡r_eqf
(cÚ¡ *
lhs
, cÚ¡ *
rhs
);

105 *
__kmp_¡r_fÜm©
(cÚ¡ *
fÜm©
, ...);

106 
__kmp_¡r_ä“
(**
¡r
);

107 
__kmp_¡r_m©ch
(cÚ¡ *
rg‘
, 
Ën
, cÚ¡ *
d©a
);

108 
__kmp_¡r_m©ch_çl£
(cÚ¡ *
d©a
);

109 
__kmp_¡r_m©ch_Œue
(cÚ¡ *
d©a
);

110 
__kmp_¡r_»¶aû
(*
¡r
, 
£¬ch_fÜ
, 
»¶aû_w™h
);

111 
__kmp_¡r_¥l™
(*
¡r
, 
d–im
, **
h—d
, **

);

112 *
__kmp_¡r_tok’
(*
¡r
, cÚ¡ *
d–im
, **
buf
);

113 
__kmp_¡r_to_št
(cÚ¡ *
¡r
, 
£Áš–
);

115 
__kmp_¡r_to_size
(cÚ¡ *
¡r
, 
size_t
 *
out
, size_ˆ
dçùÜ
,

116 cÚ¡ **
”rÜ
);

117 
__kmp_¡r_to_ušt
(cÚ¡ *
¡r
, 
kmp_ušt64
 *
out
, cÚ¡ **
”rÜ
);

119 #ifdeà
__ılu¥lus


	@kmp_stub.cpp

13 
	~<”ºo.h
>

14 
	~<lim™s.h
>

15 
	~<¡dlib.h
>

17 
	#__KMP_IMP


	)

18 
	~"omp.h
"

19 
	~"kmp.h
"

20 
	~"kmp_¡ub.h
"

22 #ià
KMP_OS_WINDOWS


23 
	~<wšdows.h
>

25 
	~<sys/time.h
>

29 
	#omp_£t_max_aùive_Ëv–s
 
ompc_£t_max_aùive_Ëv–s


	)

30 
	#omp_£t_scheduË
 
ompc_£t_scheduË


	)

31 
	#omp_g‘_ªû¡Ü_th»ad_num
 
ompc_g‘_ªû¡Ü_th»ad_num


	)

32 
	#omp_g‘_‹am_size
 
ompc_g‘_‹am_size


	)

34 
	#omp_£t_num_th»ads
 
ompc_£t_num_th»ads


	)

35 
	#omp_£t_dyÇmic
 
ompc_£t_dyÇmic


	)

36 
	#omp_£t_Ã¡ed
 
ompc_£t_Ã¡ed


	)

37 
	#omp_£t_affš™y_fÜm©
 
ompc_£t_affš™y_fÜm©


	)

38 
	#omp_g‘_affš™y_fÜm©
 
ompc_g‘_affš™y_fÜm©


	)

39 
	#omp_di¥Ïy_affš™y
 
ompc_di¥Ïy_affš™y


	)

40 
	#omp_ÿ±u»_affš™y
 
ompc_ÿ±u»_affš™y


	)

41 
	#kmp_£t_¡acksize
 
kmpc_£t_¡acksize


	)

42 
	#kmp_£t_¡acksize_s
 
kmpc_£t_¡acksize_s


	)

43 
	#kmp_£t_blocktime
 
kmpc_£t_blocktime


	)

44 
	#kmp_£t_lib¿ry
 
kmpc_£t_lib¿ry


	)

45 
	#kmp_£t_deçuÉs
 
kmpc_£t_deçuÉs


	)

46 
	#kmp_£t_di¥_num_bufãrs
 
kmpc_£t_di¥_num_bufãrs


	)

47 
	#kmp_m®loc
 
kmpc_m®loc


	)

48 
	#kmp_®igÃd_m®loc
 
kmpc_®igÃd_m®loc


	)

49 
	#kmp_ÿÎoc
 
kmpc_ÿÎoc


	)

50 
	#kmp_»®loc
 
kmpc_»®loc


	)

51 
	#kmp_ä“
 
kmpc_ä“


	)

53 #ià
KMP_OS_WINDOWS


54 
	gäequ’cy
 = 0.0;

58 
size_t
 
	$__kmps_š™
() {

59 
š™Ÿlized
 = 0;

60 
size_t
 
dummy
 = 0;

61 ià(!
š™Ÿlized
) {

72 
dummy
 = 
__kmp_v”siÚ_cİyright
 - 
__kmp_v”siÚ_bud_time
;

74 #ià
KMP_OS_WINDOWS


75 
LARGE_INTEGER
 
äeq
;

76 
BOOL
 
¡©us
 = 
	`Qu”yP”fÜmªûF»qu’cy
(&
äeq
);

77 ià(
¡©us
) {

78 
äequ’cy
 = (
äeq
.
QuadP¬t
);

82 
š™Ÿlized
 = 1;

84  
dummy
;

85 
	}
}

87 
	#i
 
	`__kmps_š™
();

	)

90 
	$omp_£t_num_th»ads
(
omp_št_t
 
num_th»ads
è{ 
i
; 
	}
}

91 
	$omp_£t_dyÇmic
(
omp_št_t
 
dyÇmic
) {

92 
i
;

93 
	`__kmps_£t_dyÇmic
(
dyÇmic
);

94 
	}
}

95 
	$omp_£t_Ã¡ed
(
omp_št_t
 
Ã¡ed
) {

96 
i
;

97 
	`__kmps_£t_Ã¡ed
(
Ã¡ed
);

98 
	}
}

99 
	$omp_£t_max_aùive_Ëv–s
(
omp_št_t
 
max_aùive_Ëv–s
è{ 
i
; 
	}
}

100 
	$omp_£t_scheduË
(
omp_sched_t
 
kšd
, 
omp_št_t
 
modif›r
) {

101 
i
;

102 
	`__kmps_£t_scheduË
((
kmp_sched_t
)
kšd
, 
modif›r
);

103 
	}
}

104 
	$omp_g‘_ªû¡Ü_th»ad_num
(
omp_št_t
 
Ëv–
) {

105 
i
;

106  (
Ëv–
) ? (-1) : (0);

107 
	}
}

108 
	$omp_g‘_‹am_size
(
omp_št_t
 
Ëv–
) {

109 
i
;

110  (
Ëv–
) ? (-1) : (1);

111 
	}
}

112 
	$kmpc_£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

113 
i
;

115 
	}
}

116 
	$kmpc_un£t_affš™y_mask_´oc
(
´oc
, **
mask
) {

117 
i
;

119 
	}
}

120 
	$kmpc_g‘_affš™y_mask_´oc
(
´oc
, **
mask
) {

121 
i
;

123 
	}
}

126 
	$kmp_£t_¡acksize
(
omp_št_t
 
¬g
) {

127 
i
;

128 
	`__kmps_£t_¡acksize
(
¬g
);

129 
	}
}

130 
	$kmp_£t_¡acksize_s
(
size_t
 
¬g
) {

131 
i
;

132 
	`__kmps_£t_¡acksize
(
¬g
);

133 
	}
}

134 
	$kmp_£t_blocktime
(
omp_št_t
 
¬g
) {

135 
i
;

136 
	`__kmps_£t_blocktime
(
¬g
);

137 
	}
}

138 
	$kmp_£t_lib¿ry
(
omp_št_t
 
¬g
) {

139 
i
;

140 
	`__kmps_£t_lib¿ry
(
¬g
);

141 
	}
}

142 
	$kmp_£t_deçuÉs
(cÚ¡ *
¡r
è{ 
i
; 
	}
}

143 
	$kmp_£t_di¥_num_bufãrs
(
omp_št_t
 
¬g
è{ 
i
; 
	}
}

146 *
	$kmp_m®loc
(
size_t
 
size
) {

147 
i
;

148 *
»s
;

149 #ià
KMP_OS_WINDOWS


154 
»s
 = 
	`_®igÃd_m®loc
(
size
, 1);

156 
»s
 = 
	`m®loc
(
size
);

158  
»s
;

159 
	}
}

160 *
	$kmp_®igÃd_m®loc
(
size_t
 
sz
, size_ˆ
a
) {

161 
i
;

162 
”r
;

163 *
»s
;

164 #ià
KMP_OS_WINDOWS


165 
»s
 = 
	`_®igÃd_m®loc
(
sz
, 
a
);

167 ià((
”r
 = 
	`posix_mem®ign
(&
»s
, 
a
, 
sz
))) {

168 
”ºo
 = 
”r
;

169 
»s
 = 
NULL
;

172  
»s
;

173 
	}
}

174 *
	$kmp_ÿÎoc
(
size_t
 
ÃËm
, size_ˆ
–size
) {

175 
i
;

176 *
»s
;

177 #ià
KMP_OS_WINDOWS


178 
»s
 = 
	`_®igÃd_»ÿÎoc
(
NULL
, 
ÃËm
, 
–size
, 1);

180 
»s
 = 
	`ÿÎoc
(
ÃËm
, 
–size
);

182  
»s
;

183 
	}
}

184 *
	$kmp_»®loc
(*
±r
, 
size_t
 
size
) {

185 
i
;

186 *
»s
;

187 #ià
KMP_OS_WINDOWS


188 
»s
 = 
	`_®igÃd_»®loc
(
±r
, 
size
, 1);

190 
»s
 = 
	`»®loc
(
±r
, 
size
);

192  
»s
;

193 
	}
}

194 
	$kmp_ä“
(*
±r
) {

195 
i
;

196 #ià
KMP_OS_WINDOWS


197 
	`_®igÃd_ä“
(
±r
);

199 
	`ä“
(
±r
);

201 
	}
}

203 
	g__kmps_blocktime
 = 
INT_MAX
;

205 
	$__kmps_£t_blocktime
(
¬g
) {

206 
i
;

207 
__kmps_blocktime
 = 
¬g
;

208 
	}
}

210 
	$__kmps_g‘_blocktime
() {

211 
i
;

212  
__kmps_blocktime
;

213 
	}
}

215 
	g__kmps_dyÇmic
 = 0;

217 
	$__kmps_£t_dyÇmic
(
¬g
) {

218 
i
;

219 
__kmps_dyÇmic
 = 
¬g
;

220 
	}
}

222 
	$__kmps_g‘_dyÇmic
() {

223 
i
;

224  
__kmps_dyÇmic
;

225 
	}
}

227 
	g__kmps_lib¿ry
 = 1000;

229 
	$__kmps_£t_lib¿ry
(
¬g
) {

230 
i
;

231 
__kmps_lib¿ry
 = 
¬g
;

232 
	}
}

234 
	$__kmps_g‘_lib¿ry
() {

235 
i
;

236  
__kmps_lib¿ry
;

237 
	}
}

239 
	g__kmps_Ã¡ed
 = 0;

241 
	$__kmps_£t_Ã¡ed
(
¬g
) {

242 
i
;

243 
__kmps_Ã¡ed
 = 
¬g
;

244 
	}
}

246 
	$__kmps_g‘_Ã¡ed
() {

247 
i
;

248  
__kmps_Ã¡ed
;

249 
	}
}

251 
size_t
 
	g__kmps_¡acksize
 = 
KMP_DEFAULT_STKSIZE
;

253 
	$__kmps_£t_¡acksize
(
¬g
) {

254 
i
;

255 
__kmps_¡acksize
 = 
¬g
;

256 
	}
}

258 
	$__kmps_g‘_¡acksize
() {

259 
i
;

260  
__kmps_¡acksize
;

261 
	}
}

263 
kmp_sched_t
 
	g__kmps_sched_kšd
 = 
kmp_sched_deçuÉ
;

264 
	g__kmps_sched_modif›r
 = 0;

266 
	$__kmps_£t_scheduË
(
kmp_sched_t
 
kšd
, 
modif›r
) {

267 
i
;

268 
__kmps_sched_kšd
 = 
kšd
;

269 
__kmps_sched_modif›r
 = 
modif›r
;

270 
	}
}

272 
	$__kmps_g‘_scheduË
(
kmp_sched_t
 *
kšd
, *
modif›r
) {

273 
i
;

274 *
kšd
 = 
__kmps_sched_kšd
;

275 *
modif›r
 = 
__kmps_sched_modif›r
;

276 
	}
}

278 
kmp_´oc_bšd_t
 
	$__kmps_g‘_´oc_bšd
() {

279 
i
;

280  
´oc_bšd_çl£
;

281 
	}
}

283 
	$__kmps_g‘_wtime
() {

285 
wtime
 = 0.0;

286 
i
;

287 #ià
KMP_OS_WINDOWS


288 ià(
äequ’cy
 > 0.0) {

289 
LARGE_INTEGER
 
now
;

290 
BOOL
 
¡©us
 = 
	`Qu”yP”fÜmªûCouÁ”
(&
now
);

291 ià(
¡©us
) {

292 
wtime
 = (
now
.
QuadP¬t
è/ 
äequ’cy
;

297 
timev®
 
tv®
;

298 
rc
;

299 
rc
 = 
	`g‘timeofday
(&
tv®
, 
NULL
);

300 ià(
rc
 == 0) {

301 
wtime
 = ()(
tv®
.
tv_£c
è+ 1.0E-06 * ()Ñv®.
tv_u£c
);

306  
wtime
;

307 
	}
}

309 
	$__kmps_g‘_wtick
() {

311 
wtick
 = 0.0;

312 
i
;

313 #ià
KMP_OS_WINDOWS


315 
DWORD
 
šüem’t
;

316 
DWORD
 
adju¡m’t
;

317 
BOOL
 
di§bËd
;

318 
BOOL
 
rc
;

319 
rc
 = 
	`G‘Sy¡emTimeAdju¡m’t
(&
adju¡m’t
, &
šüem’t
, &
di§bËd
);

320 ià(
rc
) {

321 
wtick
 = 1.0E-07 * ()(
di§bËd
 ? 
šüem’t
 : 
adju¡m’t
);

324 
wtick
 = 1.0E-03;

329 
wtick
 = 1.0E-06;

331  
wtick
;

332 
	}
}

335 #ià
KMP_OS_WINDOWS


336 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_nuÎ_®loÿtÜ
 = 0;

337 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_deçuÉ_mem_®loc
 =

338 (
omp_®loÿtÜ_hªdË_t
 const)1;

339 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_Ïrge_ÿp_mem_®loc
 =

340 (
omp_®loÿtÜ_hªdË_t
 const)2;

341 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_cÚ¡_mem_®loc
 =

342 (
omp_®loÿtÜ_hªdË_t
 const)3;

343 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_high_bw_mem_®loc
 =

344 (
omp_®loÿtÜ_hªdË_t
 const)4;

345 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_low_Ït_mem_®loc
 =

346 (
omp_®loÿtÜ_hªdË_t
 const)5;

347 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_cgroup_mem_®loc
 =

348 (
omp_®loÿtÜ_hªdË_t
 const)6;

349 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_±—m_mem_®loc
 =

350 (
omp_®loÿtÜ_hªdË_t
 const)7;

351 
omp_®loÿtÜ_hªdË_t
 cÚ¡ 
	gomp_th»ad_mem_®loc
 =

352 (
omp_®loÿtÜ_hªdË_t
 const)8;

354 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_deçuÉ_mem_¥aû
 =

355 (
omp_mem¥aû_hªdË_t
 const)0;

356 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_Ïrge_ÿp_mem_¥aû
 =

357 (
omp_mem¥aû_hªdË_t
 const)1;

358 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_cÚ¡_mem_¥aû
 =

359 (
omp_mem¥aû_hªdË_t
 const)2;

360 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_high_bw_mem_¥aû
 =

361 (
omp_mem¥aû_hªdË_t
 const)3;

362 
omp_mem¥aû_hªdË_t
 cÚ¡ 
	gomp_low_Ït_mem_¥aû
 =

363 (
omp_mem¥aû_hªdË_t
 const)4;

365 *
	$omp_®loc
(
size_t
 
size
, cÚ¡ 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

366 
i
;

367  
	`m®loc
(
size
);

368 
	}
}

369 
	$omp_ä“
(*
±r
, cÚ¡ 
omp_®loÿtÜ_hªdË_t
 
®loÿtÜ
) {

370 
i
;

371 
	`ä“
(
±r
);

372 
	}
}

374 
	$omp_£t_affš™y_fÜm©
(cÚ¡ *
fÜm©
è{ 
i
; 
	}
}

375 
size_t
 
	$omp_g‘_affš™y_fÜm©
(*
bufãr
, 
size_t
 
size
) {

376 
i
;

378 
	}
}

379 
	$omp_di¥Ïy_affš™y
(cÚ¡ *
fÜm©
è{ 
i
; 
	}
}

380 
size_t
 
	$omp_ÿ±u»_affš™y
(*
bufãr
, 
size_t
 
buf_size
, cÚ¡ *
fÜm©
) {

381 
i
;

383 
	}
}

	@kmp_stub.h

13 #iâdeà
KMP_STUB_H


14 
	#KMP_STUB_H


	)

16 #ifdeà
__ılu¥lus


20 
__kmps_£t_blocktime
(
¬g
);

21 
__kmps_g‘_blocktime
();

22 
__kmps_£t_dyÇmic
(
¬g
);

23 
__kmps_g‘_dyÇmic
();

24 
__kmps_£t_lib¿ry
(
¬g
);

25 
__kmps_g‘_lib¿ry
();

26 
__kmps_£t_Ã¡ed
(
¬g
);

27 
__kmps_g‘_Ã¡ed
();

28 
__kmps_£t_¡acksize
(
¬g
);

29 
__kmps_g‘_¡acksize
();

31 #iâdeà
KMP_SCHED_TYPE_DEFINED


32 
	#KMP_SCHED_TYPE_DEFINED


	)

33 
	ekmp_sched
 {

34 
kmp_sched_¡©ic
 = 1,

35 
kmp_sched_dyÇmic
 = 2,

36 
kmp_sched_guided
 = 3,

37 
kmp_sched_auto
 = 4,

38 
kmp_sched_deçuÉ
 = 
kmp_sched_¡©ic


39 } 
	tkmp_sched_t
;

41 
__kmps_£t_scheduË
(
kmp_sched_t
 
kšd
, 
modif›r
);

42 
__kmps_g‘_scheduË
(
kmp_sched_t
 *
kšd
, *
modif›r
);

44 
kmp_´oc_bšd_t
 
__kmps_g‘_´oc_bšd
();

46 
__kmps_g‘_wtime
();

47 
__kmps_g‘_wtick
();

49 #ifdeà
__ılu¥lus


	@kmp_taskdeps.cpp

15 
	~"kmp.h
"

16 
	~"kmp_io.h
"

17 
	~"kmp_wa™_»Ëa£.h
"

18 
	~"kmp_skd•s.h
"

19 #ià
OMPT_SUPPORT


20 
	~"om±-¥ecific.h
"

32 #ifdeà
KMP_SUPPORT_GRAPH_OUTPUT


33 
	g¡d
::
©omic
<
kmp_št32
> 
kmp_node_id_£ed
 = 
ATOMIC_VAR_INIT
(0);

36 
	$__kmp_š™_node
(
kmp_d•node_t
 *
node
) {

37 
node
->
dn
.
sucûssÜs
 = 
NULL
;

38 
node
->
dn
.
sk
 = 
NULL
;

40 
i
 = 0; i < 
MAX_MTX_DEPS
; ++i)

41 
node
->
dn
.
mtx_locks
[
i
] = 
NULL
;

42 
node
->
dn
.
mtx_num_locks
 = 0;

43 
	`__kmp_š™_lock
(&
node
->
dn
.
lock
);

44 
	`KMP_ATOMIC_ST_RLX
(&
node
->
dn
.
Äefs
, 1);

45 #ifdeà
KMP_SUPPORT_GRAPH_OUTPUT


46 
node
->
dn
.
id
 = 
	`KMP_ATOMIC_INC
(&
kmp_node_id_£ed
);

48 
	}
}

50 
šlše
 
kmp_d•node_t
 *
	$__kmp_node_»f
(
kmp_d•node_t
 *
node
) {

51 
	`KMP_ATOMIC_INC
(&
node
->
dn
.
Äefs
);

52  
node
;

53 
	}
}

55 ’um { 
	mKMP_DEPHASH_OTHER_SIZE
 = 97, 
	mKMP_DEPHASH_MASTER_SIZE
 = 997 };

57 
size_t
 
	gsizes
[] = { 997, 2003, 4001, 8191, 16001, 32003, 64007, 131071, 270029 };

58 cÚ¡ 
size_t
 
	gMAX_GEN
 = 8;

60 
šlše
 
kmp_št32
 
	$__kmp_d•hash_hash
(
kmp_šŒ_t
 
addr
, 
size_t
 
hsize
) {

63  ((
addr
 >> 6è^ (add¸>> 2)è% 
hsize
;

64 
	}
}

66 
kmp_d•hash_t
 *
	$__kmp_d•hash_ex‹nd
(
kmp_šfo_t
 *
th»ad
,

67 
kmp_d•hash_t
 *
cu¼’t_d•hash
) {

68 
kmp_d•hash_t
 *
h
;

70 
size_t
 
g’
 = 
cu¼’t_d•hash
->
g’”©iÚ
 + 1;

71 ià(
g’
 >ğ
MAX_GEN
)

72  
cu¼’t_d•hash
;

73 
size_t
 
Ãw_size
 = 
sizes
[
g’
];

75 
kmp_št32
 
size_to_®loÿ‹
 =

76 
Ãw_size
 * (
kmp_d•hash_’Œy_t
 *è+ (
kmp_d•hash_t
);

78 #ià
USE_FAST_MEMORY


79 
h
 = (
kmp_d•hash_t
 *)
	`__kmp_ç¡_®loÿ‹
(
th»ad
, 
size_to_®loÿ‹
);

81 
h
 = (
kmp_d•hash_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, 
size_to_®loÿ‹
);

84 
h
->
size
 = 
Ãw_size
;

85 
h
->
ÃËm’ts
 = 
cu¼’t_d•hash
->nelements;

86 
h
->
buck‘s
 = (
kmp_d•hash_’Œy
 **)(h + 1);

87 
h
->
g’”©iÚ
 = 
g’
;

88 
h
->
ncÚæiùs
 = 0;

90 
size_t
 
i
 = 0; i < 
cu¼’t_d•hash
->
size
; i++) {

91 
kmp_d•hash_’Œy_t
 *
Ãxt
, *
’Œy
;

92 
’Œy
 = 
cu¼’t_d•hash
->
buck‘s
[
i
];ƒÁry;ƒÁry = 
Ãxt
) {

93 
Ãxt
 = 
’Œy
->
Ãxt_š_buck‘
;

96 
kmp_št32
 
Ãw_buck‘
 = 
	`__kmp_d•hash_hash
(
’Œy
->
addr
, 
h
->
size
);

97 
’Œy
->
Ãxt_š_buck‘
 = 
h
->
buck‘s
[
Ãw_buck‘
];

98 ià(
’Œy
->
Ãxt_š_buck‘
) {

99 
h
->
ncÚæiùs
++;

101 
h
->
buck‘s
[
Ãw_buck‘
] = 
’Œy
;

106 #ià
USE_FAST_MEMORY


107 
	`__kmp_ç¡_ä“
(
th»ad
, 
cu¼’t_d•hash
);

109 
	`__kmp_th»ad_ä“
(
th»ad
, 
cu¼’t_d•hash
);

112  
h
;

113 
	}
}

115 
kmp_d•hash_t
 *
	$__kmp_d•hash_ü—‹
(
kmp_šfo_t
 *
th»ad
,

116 
kmp_skd©a_t
 *
cu¼’t_sk
) {

117 
kmp_d•hash_t
 *
h
;

119 
size_t
 
h_size
;

121 ià(
cu¼’t_sk
->
td_æags
.
skty³
 =ğ
TASK_IMPLICIT
)

122 
h_size
 = 
KMP_DEPHASH_MASTER_SIZE
;

124 
h_size
 = 
KMP_DEPHASH_OTHER_SIZE
;

126 
kmp_št32
 
size
 =

127 
h_size
 * (
kmp_d•hash_’Œy_t
 *è+ (
kmp_d•hash_t
);

129 #ià
USE_FAST_MEMORY


130 
h
 = (
kmp_d•hash_t
 *)
	`__kmp_ç¡_®loÿ‹
(
th»ad
, 
size
);

132 
h
 = (
kmp_d•hash_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, 
size
);

134 
h
->
size
 = 
h_size
;

136 
h
->
g’”©iÚ
 = 0;

137 
h
->
ÃËm’ts
 = 0;

138 
h
->
ncÚæiùs
 = 0;

139 
h
->
buck‘s
 = (
kmp_d•hash_’Œy
 **)(h + 1);

141 
size_t
 
i
 = 0; i < 
h_size
; i++)

142 
h
->
buck‘s
[
i
] = 0;

144  
h
;

145 
	}
}

147 
	#ENTRY_LAST_INS
 0

	)

148 
	#ENTRY_LAST_MTXS
 1

	)

150 
kmp_d•hash_’Œy
 *

151 
	$__kmp_d•hash_fšd
(
kmp_šfo_t
 *
th»ad
, 
kmp_d•hash_t
 **
hash
, 
kmp_šŒ_t
 
addr
) {

152 
kmp_d•hash_t
 *
h
 = *
hash
;

153 ià(
h
->
ÃËm’ts
 != 0

154 && 
h
->
ncÚæiùs
/h->
size
 >= 1) {

155 *
hash
 = 
	`__kmp_d•hash_ex‹nd
(
th»ad
, 
h
);

156 
h
 = *
hash
;

158 
kmp_št32
 
buck‘
 = 
	`__kmp_d•hash_hash
(
addr
, 
h
->
size
);

160 
kmp_d•hash_’Œy_t
 *
’Œy
;

161 
’Œy
 = 
h
->
buck‘s
[
buck‘
];ƒÁry;ƒÁry =ƒÁry->
Ãxt_š_buck‘
)

162 ià(
’Œy
->
addr
 ==‡ddr)

165 ià(
’Œy
 =ğ
NULL
) {

167 #ià
USE_FAST_MEMORY


168 
’Œy
 = (
kmp_d•hash_’Œy_t
 *)
	`__kmp_ç¡_®loÿ‹
(

169 
th»ad
, (
kmp_d•hash_’Œy_t
));

171 
’Œy
 = (
kmp_d•hash_’Œy_t
 *)
	`__kmp_th»ad_m®loc
(

172 
th»ad
, (
kmp_d•hash_’Œy_t
));

174 
’Œy
->
addr
 =‡ddr;

175 
’Œy
->
Ï¡_out
 = 
NULL
;

176 
’Œy
->
Ï¡_šs
 = 
NULL
;

177 
’Œy
->
Ï¡_mtxs
 = 
NULL
;

178 
’Œy
->
Ï¡_æag
 = 
ENTRY_LAST_INS
;

179 
’Œy
->
mtx_lock
 = 
NULL
;

180 
’Œy
->
Ãxt_š_buck‘
 = 
h
->
buck‘s
[
buck‘
];

181 
h
->
buck‘s
[
buck‘
] = 
’Œy
;

182 
h
->
ÃËm’ts
++;

183 ià(
’Œy
->
Ãxt_š_buck‘
)

184 
h
->
ncÚæiùs
++;

186  
’Œy
;

187 
	}
}

189 
kmp_d•node_li¡_t
 *
	$__kmp_add_node
(
kmp_šfo_t
 *
th»ad
,

190 
kmp_d•node_li¡_t
 *
li¡
,

191 
kmp_d•node_t
 *
node
) {

192 
kmp_d•node_li¡_t
 *
Ãw_h—d
;

194 #ià
USE_FAST_MEMORY


195 
Ãw_h—d
 = (
kmp_d•node_li¡_t
 *)
	`__kmp_ç¡_®loÿ‹
(

196 
th»ad
, (
kmp_d•node_li¡_t
));

198 
Ãw_h—d
 = (
kmp_d•node_li¡_t
 *)
	`__kmp_th»ad_m®loc
(

199 
th»ad
, (
kmp_d•node_li¡_t
));

202 
Ãw_h—d
->
node
 = 
	`__kmp_node_»f
(node);

203 
Ãw_h—d
->
Ãxt
 = 
li¡
;

205  
Ãw_h—d
;

206 
	}
}

208 
šlše
 
	$__kmp_Œack_d•’d’û
(
kmp_d•node_t
 *
sourû
,

209 
kmp_d•node_t
 *
sšk
,

210 
kmp_sk_t
 *
sšk_sk
) {

211 #ifdeà
KMP_SUPPORT_GRAPH_OUTPUT


212 
kmp_skd©a_t
 *
sk_sourû
 = 
	`KMP_TASK_TO_TASKDATA
(
sourû
->
dn
.
sk
);

215 
kmp_skd©a_t
 *
sk_sšk
 = 
	`KMP_TASK_TO_TASKDATA
(
sšk_sk
);

217 
	`__kmp_´štf
("%d(%sè-> %d(%s)\n", 
sourû
->
dn
.
id
,

218 
sk_sourû
->
td_id’t
->
psourû
, 
sšk
->
dn
.
id
,

219 
sk_sšk
->
td_id’t
->
psourû
);

221 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


225 ià(
om±_’abËd
.
om±_ÿÎback_sk_d•’d’û
) {

226 
kmp_skd©a_t
 *
sk_sourû
 = 
	`KMP_TASK_TO_TASKDATA
(
sourû
->
dn
.
sk
);

227 
kmp_skd©a_t
 *
sk_sšk
 = 
	`KMP_TASK_TO_TASKDATA
(
sšk_sk
);

229 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_d•’d’û
)(

230 &(
sk_sourû
->
om±_sk_šfo
.
sk_d©a
),

231 &(
sk_sšk
->
om±_sk_šfo
.
sk_d©a
));

234 
	}
}

236 
šlše
 
kmp_št32


237 
	$__kmp_d•node_lšk_sucûssÜ
(
kmp_št32
 
gtid
, 
kmp_šfo_t
 *
th»ad
,

238 
kmp_sk_t
 *
sk
, 
kmp_d•node_t
 *
node
,

239 
kmp_d•node_li¡_t
 *
¶i¡
) {

240 ià(!
¶i¡
)

242 
kmp_št32
 
Å»deûssÜs
 = 0;

244 
kmp_d•node_li¡_t
 *
p
 = 
¶i¡
;…;… =…->
Ãxt
) {

245 
kmp_d•node_t
 *
d•
 = 
p
->
node
;

246 ià(
d•
->
dn
.
sk
) {

247 
	`KMP_ACQUIRE_DEPNODE
(
gtid
, 
d•
);

248 ià(
d•
->
dn
.
sk
) {

249 
	`__kmp_Œack_d•’d’û
(
d•
, 
node
, 
sk
);

250 
d•
->
dn
.
sucûssÜs
 = 
	`__kmp_add_node
(
th»ad
, d•->dn.sucûssÜs, 
node
);

251 
	`KA_TRACE
(40, ("__kmp_process_deps: T#%d‡dding dependence from %po "

253 
gtid
, 
	`KMP_TASK_TO_TASKDATA
(
d•
->
dn
.
sk
),

254 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

255 
Å»deûssÜs
++;

257 
	`KMP_RELEASE_DEPNODE
(
gtid
, 
d•
);

260  
Å»deûssÜs
;

261 
	}
}

263 
šlše
 
kmp_št32
 
	$__kmp_d•node_lšk_sucûssÜ
(
kmp_št32
 
gtid
,

264 
kmp_šfo_t
 *
th»ad
,

265 
kmp_sk_t
 *
sk
,

266 
kmp_d•node_t
 *
sourû
,

267 
kmp_d•node_t
 *
sšk
) {

268 ià(!
sšk
)

270 
kmp_št32
 
Å»deûssÜs
 = 0;

271 ià(
sšk
->
dn
.
sk
) {

273 
	`KMP_ACQUIRE_DEPNODE
(
gtid
, 
sšk
);

274 ià(
sšk
->
dn
.
sk
) {

275 
	`__kmp_Œack_d•’d’û
(
sšk
, 
sourû
, 
sk
);

276 
sšk
->
dn
.
sucûssÜs
 = 
	`__kmp_add_node
(
th»ad
, sšk->dn.sucûssÜs, 
sourû
);

277 
	`KA_TRACE
(40, ("__kmp_process_deps: T#%d‡dding dependence from %po "

279 
gtid
, 
	`KMP_TASK_TO_TASKDATA
(
sšk
->
dn
.
sk
),

280 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

281 
Å»deûssÜs
++;

283 
	`KMP_RELEASE_DEPNODE
(
gtid
, 
sšk
);

285  
Å»deûssÜs
;

286 
	}
}

288 
	g‹m¶©e
 <
boŞ
 
	gf‹r
>

289 
šlše
 
kmp_št32


290 
	$__kmp_´oûss_d•s
(
kmp_št32
 
gtid
, 
kmp_d•node_t
 *
node
, 
kmp_d•hash_t
 **
hash
,

291 
boŞ
 
d•_b¬r›r
, 
kmp_št32
 
nd•s
,

292 
kmp_d•’d_šfo_t
 *
d•_li¡
, 
kmp_sk_t
 *
sk
) {

293 
	`KA_TRACE
(30, ("__kmp_process_deps<%d>: T#%d…rocessing %d dependencies : "

295 
f‹r
, 
gtid
, 
nd•s
, 
d•_b¬r›r
));

297 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

298 
kmp_št32
 
Å»deûssÜs
 = 0;

299 
kmp_št32
 
i
 = 0; i < 
nd•s
; i++) {

300 cÚ¡ 
kmp_d•’d_šfo_t
 *
d•
 = &
d•_li¡
[
i
];

302 ià(
f‹r
 && 
d•
->
ba£_addr
 == 0)

305 
kmp_d•hash_’Œy_t
 *
šfo
 =

306 
	`__kmp_d•hash_fšd
(
th»ad
, 
hash
, 
d•
->
ba£_addr
);

307 
kmp_d•node_t
 *
Ï¡_out
 = 
šfo
->last_out;

308 
kmp_d•node_li¡_t
 *
Ï¡_šs
 = 
šfo
->last_ins;

309 
kmp_d•node_li¡_t
 *
Ï¡_mtxs
 = 
šfo
->last_mtxs;

311 ià(
d•
->
æags
.
out
) {

312 ià(
Ï¡_šs
 || 
Ï¡_mtxs
) {

313 ià(
šfo
->
Ï¡_æag
 =ğ
ENTRY_LAST_INS
) {

314 
Å»deûssÜs
 +=

315 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_šs
);

317 
Å»deûssÜs
 +=

318 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_mtxs
);

320 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
Ï¡_šs
);

321 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
Ï¡_mtxs
);

322 
šfo
->
Ï¡_šs
 = 
NULL
;

323 
šfo
->
Ï¡_mtxs
 = 
NULL
;

325 
Å»deûssÜs
 +=

326 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_out
);

328 
	`__kmp_node_d”ef
(
th»ad
, 
Ï¡_out
);

329 ià(
d•_b¬r›r
) {

333 
šfo
->
Ï¡_out
 = 
NULL
;

335 
šfo
->
Ï¡_out
 = 
	`__kmp_node_»f
(
node
);

337 } ià(
d•
->
æags
.
š
) {

339 ià(
Ï¡_mtxs
) {

340 
Å»deûssÜs
 +=

341 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_mtxs
);

342 
	`__kmp_node_d”ef
(
th»ad
, 
Ï¡_out
);

343 
šfo
->
Ï¡_out
 = 
NULL
;

344 ià(
šfo
->
Ï¡_æag
 =ğ
ENTRY_LAST_MTXS
 && 
Ï¡_šs
) {

346 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
Ï¡_šs
);

347 
šfo
->
Ï¡_šs
 = 
NULL
;

351 
Å»deûssÜs
 +=

352 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_out
);

354 
šfo
->
Ï¡_æag
 = 
ENTRY_LAST_INS
;

355 
šfo
->
Ï¡_šs
 = 
	`__kmp_add_node
(
th»ad
, info->Ï¡_šs, 
node
);

357 
	`KMP_DEBUG_ASSERT
(
d•
->
æags
.
mtx
 == 1);

359 ià(
Ï¡_šs
) {

360 
Å»deûssÜs
 +=

361 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_šs
);

362 
	`__kmp_node_d”ef
(
th»ad
, 
Ï¡_out
);

363 
šfo
->
Ï¡_out
 = 
NULL
;

364 ià(
šfo
->
Ï¡_æag
 =ğ
ENTRY_LAST_INS
 && 
Ï¡_mtxs
) {

366 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
Ï¡_mtxs
);

367 
šfo
->
Ï¡_mtxs
 = 
NULL
;

371 
Å»deûssÜs
 +=

372 
	`__kmp_d•node_lšk_sucûssÜ
(
gtid
, 
th»ad
, 
sk
, 
node
, 
Ï¡_out
);

374 
šfo
->
Ï¡_æag
 = 
ENTRY_LAST_MTXS
;

375 
šfo
->
Ï¡_mtxs
 = 
	`__kmp_add_node
(
th»ad
, info->Ï¡_mtxs, 
node
);

376 ià(
šfo
->
mtx_lock
 =ğ
NULL
) {

377 
šfo
->
mtx_lock
 = (
kmp_lock_t
 *)
	`__kmp_®loÿ‹
((kmp_lock_t));

378 
	`__kmp_š™_lock
(
šfo
->
mtx_lock
);

380 
	`KMP_DEBUG_ASSERT
(
node
->
dn
.
mtx_num_locks
 < 
MAX_MTX_DEPS
);

381 
kmp_št32
 
m
;

383 
m
 = 0; m < 
MAX_MTX_DEPS
; ++m) {

385 ià(
node
->
dn
.
mtx_locks
[
m
] < 
šfo
->
mtx_lock
) {

386 
	`KMP_DEBUG_ASSERT
(
node
->
dn
.
mtx_locks
[node->dn.
mtx_num_locks
] =ğ
NULL
);

387 
n
 = 
node
->
dn
.
mtx_num_locks
;‚ > 
m
; --n) {

389 
	`KMP_DEBUG_ASSERT
(
node
->
dn
.
mtx_locks
[
n
 - 1] !ğ
NULL
);

390 
node
->
dn
.
mtx_locks
[
n
] =‚ode->dn.mtx_locks[n - 1];

392 
node
->
dn
.
mtx_locks
[
m
] = 
šfo
->
mtx_lock
;

396 
	`KMP_DEBUG_ASSERT
(
m
 < 
MAX_MTX_DEPS
);

397 
node
->
dn
.
mtx_num_locks
++;

400 
	`KA_TRACE
(30, ("__kmp_´oûss_d•s<%d>: T#%d found %d…»deûssÜs\n", 
f‹r
,

401 
gtid
, 
Å»deûssÜs
));

402  
Å»deûssÜs
;

403 
	}
}

405 
	#NO_DEP_BARRIER
 (
çl£
)

	)

406 
	#DEP_BARRIER
 (
Œue
)

	)

409 
boŞ
 
	$__kmp_check_d•s
(
kmp_št32
 
gtid
, 
kmp_d•node_t
 *
node
,

410 
kmp_sk_t
 *
sk
, 
kmp_d•hash_t
 **
hash
,

411 
boŞ
 
d•_b¬r›r
, 
kmp_št32
 
nd•s
,

412 
kmp_d•’d_šfo_t
 *
d•_li¡
,

413 
kmp_št32
 
nd•s_nßlŸs
,

414 
kmp_d•’d_šfo_t
 *
nßlŸs_d•_li¡
) {

415 
i
, 
n_mtxs
 = 0;

416 #ià
KMP_DEBUG


417 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

419 
	`KA_TRACE
(20, ("__kmp_check_deps: T#%d checking dependencies forask %p : %d "

422 
gtid
, 
skd©a
, 
nd•s
, 
nd•s_nßlŸs
, 
d•_b¬r›r
));

426 
i
 = 0; i < 
nd•s
; i++) {

427 ià(
d•_li¡
[
i
].
ba£_addr
 != 0) {

428 
j
 = 
i
 + 1; j < 
nd•s
; j++) {

429 ià(
d•_li¡
[
i
].
ba£_addr
 =ğd•_li¡[
j
].base_addr) {

430 
d•_li¡
[
i
].
æags
.
š
 |ğd•_li¡[
j
].flags.in;

431 
d•_li¡
[
i
].
æags
.
out
 |=

432 (
d•_li¡
[
j
].
æags
.
out
 ||

433 (
d•_li¡
[
i
].
æags
.
š
 && d•_li¡[
j
].æags.
mtx
) ||

434 (
d•_li¡
[
i
].
æags
.
mtx
 && d•_li¡[
j
].æags.
š
));

435 
d•_li¡
[
i
].
æags
.
mtx
 =

436 
d•_li¡
[
i
].
æags
.
mtx
 | d•_li¡[
j
].flags.mtx &&

437 !
d•_li¡
[
i
].
æags
.
out
;

438 
d•_li¡
[
j
].
ba£_addr
 = 0;

441 ià(
d•_li¡
[
i
].
æags
.
mtx
) {

443 ià(
n_mtxs
 < 
MAX_MTX_DEPS
 && 
sk
 !ğ
NULL
) {

444 ++
n_mtxs
;

446 
d•_li¡
[
i
].
æags
.
š
 = 1;

447 
d•_li¡
[
i
].
æags
.
out
 = 1;

448 
d•_li¡
[
i
].
æags
.
mtx
 = 0;

458 
node
->
dn
.
Å»deûssÜs
 = -1;

462 
Å»deûssÜs
;

464 
Å»deûssÜs
 = 
__kmp_´oûss_d•s
<
Œue
>(
gtid
, 
node
, 
hash
, 
d•_b¬r›r
, 
nd•s
,

465 
d•_li¡
, 
sk
);

466 
Å»deûssÜs
 +ğ
__kmp_´oûss_d•s
<
çl£
>(

467 
gtid
, 
node
, 
hash
, 
d•_b¬r›r
, 
nd•s_nßlŸs
, 
nßlŸs_d•_li¡
, 
sk
);

469 
node
->
dn
.
sk
 =ask;

470 
	`KMP_MB
();

473 
Å»deûssÜs
++;

478 
Å»deûssÜs
 =

479 
node
->
dn
.
Å»deûssÜs
.
	`ãtch_add
(npredecessors) +‚predecessors;

481 
	`KA_TRACE
(20, ("__kmp_check_deps: T#%d found %d…redecessors forask %p \n",

482 
gtid
, 
Å»deûssÜs
, 
skd©a
));

486  
Å»deûssÜs
 > 0 ? 
Œue
 : 
çl£
;

487 
	}
}

505 
kmp_št32
 
	$__kmpc_omp_sk_w™h_d•s
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

506 
kmp_sk_t
 *
Ãw_sk
, 
kmp_št32
 
nd•s
,

507 
kmp_d•’d_šfo_t
 *
d•_li¡
,

508 
kmp_št32
 
nd•s_nßlŸs
,

509 
kmp_d•’d_šfo_t
 *
nßlŸs_d•_li¡
) {

511 
kmp_skd©a_t
 *
Ãw_skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
Ãw_sk
);

512 
	`KA_TRACE
(10, ("__kmpc_omp_sk_w™h_d•sÓÁ”): T#%d†oc=%°sk=%p\n", 
gtid
,

513 
loc_»f
, 
Ãw_skd©a
));

515 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

516 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

518 #ià
OMPT_SUPPORT


519 ià(
om±_’abËd
.
’abËd
) {

520 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

521 ià(!
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
)

522 
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 =

523 
	`OMPT_GET_FRAME_ADDRESS
(0);

524 ià(
om±_’abËd
.
om±_ÿÎback_sk_ü—‹
) {

525 
om±_d©a_t
 
sk_d©a
 = 
om±_d©a_nÚe
;

526 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_ü—‹
)(

527 
cu¼’t_sk
 ? &(cu¼’t_sk->
om±_sk_šfo
.
sk_d©a
) : &task_data,

528 
cu¼’t_sk
 ? &(cu¼’t_sk->
om±_sk_šfo
.
äame
è: 
NULL
,

529 &(
Ãw_skd©a
->
om±_sk_šfo
.
sk_d©a
),

530 
om±_sk_ex¶ic™
 | 
	`TASK_TYPE_DETAILS_FORMAT
(
Ãw_skd©a
), 1,

531 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

534 
Ãw_skd©a
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

537 #ià
OMPT_OPTIONAL


539 ià(
nd•s
 + 
nd•s_nßlŸs
 > 0 &&

540 
om±_’abËd
.
om±_ÿÎback_d•’d’ûs
) {

541 
kmp_št32
 
i
;

543 
Ãw_skd©a
->
om±_sk_šfo
.
nd•s
 =‚d• + 
nd•s_nßlŸs
;

544 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
 =

545 (
om±_d•’d’û_t
 *)
	`KMP_OMPT_DEPS_ALLOC
(

546 
th»ad
, (
nd•s
 + 
nd•s_nßlŸs
è* (
om±_d•’d’û_t
));

548 
	`KMP_ASSERT
(
Ãw_skd©a
->
om±_sk_šfo
.
d•s
 !ğ
NULL
);

550 
i
 = 0; i < 
nd•s
; i++) {

551 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
i
].
v¬ŸbË
.
±r
 =

552 (*)
d•_li¡
[
i
].
ba£_addr
;

553 ià(
d•_li¡
[
i
].
æags
.
š
 && d•_li¡[i].æags.
out
)

554 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
i
].
d•’d’û_ty³
 =

555 
om±_d•’d’û_ty³_šout
;

556 ià(
d•_li¡
[
i
].
æags
.
out
)

557 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
i
].
d•’d’û_ty³
 =

558 
om±_d•’d’û_ty³_out
;

559 ià(
d•_li¡
[
i
].
æags
.
š
)

560 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
i
].
d•’d’û_ty³
 =

561 
om±_d•’d’û_ty³_š
;

563 
i
 = 0; i < 
nd•s_nßlŸs
; i++) {

564 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
nd•s
 + 
i
].
v¬ŸbË
.
±r
 =

565 (*)
nßlŸs_d•_li¡
[
i
].
ba£_addr
;

566 ià(
nßlŸs_d•_li¡
[
i
].
æags
.
š
 &&‚ßlŸs_d•_li¡[i].æags.
out
)

567 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
nd•s
 + 
i
].
d•’d’û_ty³
 =

568 
om±_d•’d’û_ty³_šout
;

569 ià(
nßlŸs_d•_li¡
[
i
].
æags
.
out
)

570 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
nd•s
 + 
i
].
d•’d’û_ty³
 =

571 
om±_d•’d’û_ty³_out
;

572 ià(
nßlŸs_d•_li¡
[
i
].
æags
.
š
)

573 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
[
nd•s
 + 
i
].
d•’d’û_ty³
 =

574 
om±_d•’d’û_ty³_š
;

576 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_d•’d’ûs
)(

577 &(
Ãw_skd©a
->
om±_sk_šfo
.
sk_d©a
),

578 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
,‚ew_skd©a->om±_sk_šfo.
nd•s
);

581 
	`KMP_OMPT_DEPS_FREE
(
th»ad
, 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
);

582 
Ãw_skd©a
->
om±_sk_šfo
.
d•s
 = 
NULL
;

583 
Ãw_skd©a
->
om±_sk_šfo
.
nd•s
 = 0;

588 
boŞ
 
£rŸl
 = 
cu¼’t_sk
->
td_æags
.
‹am_£rŸl
 ||

589 
cu¼’t_sk
->
td_æags
.
skšg_£r
 ||

590 
cu¼’t_sk
->
td_æags
.
fš®
;

591 
kmp_sk_‹am_t
 *
sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

592 
£rŸl
 = s”ŸÈ&& !(
sk_‹am
 &&ask_‹am->
‰
.
‰_found_´oxy_sks
);

594 ià(!
£rŸl
 && (
nd•s
 > 0 || 
nd•s_nßlŸs
 > 0)) {

596 ià(
cu¼’t_sk
->
td_d•hash
 =ğ
NULL
)

597 
cu¼’t_sk
->
td_d•hash
 = 
	`__kmp_d•hash_ü—‹
(
th»ad
, current_task);

599 #ià
USE_FAST_MEMORY


600 
kmp_d•node_t
 *
node
 =

601 (
kmp_d•node_t
 *)
	`__kmp_ç¡_®loÿ‹
(
th»ad
, (kmp_depnode_t));

603 
kmp_d•node_t
 *
node
 =

604 (
kmp_d•node_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, (kmp_depnode_t));

607 
	`__kmp_š™_node
(
node
);

608 
Ãw_skd©a
->
td_d•node
 = 
node
;

610 ià(
	`__kmp_check_d•s
(
gtid
, 
node
, 
Ãw_sk
, &
cu¼’t_sk
->
td_d•hash
,

611 
NO_DEP_BARRIER
, 
nd•s
, 
d•_li¡
, 
nd•s_nßlŸs
,

612 
nßlŸs_d•_li¡
)) {

613 
	`KA_TRACE
(10, ("__kmpc_omp_task_with_deps(exit): T#%dask had blocking "

616 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

617 #ià
OMPT_SUPPORT


618 ià(
om±_’abËd
.
’abËd
) {

619 
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

622  
TASK_CURRENT_NOT_QUEUED
;

625 
	`KA_TRACE
(10, ("__kmpc_omp_task_with_deps(exit): T#%d ignored dependencies "

628 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

631 
	`KA_TRACE
(10, ("__kmpc_omp_task_with_deps(exit): T#%dask had‚o blocking "

634 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

636 
kmp_št32
 
»t
 = 
	`__kmp_omp_sk
(
gtid
, 
Ãw_sk
, 
Œue
);

637 #ià
OMPT_SUPPORT


638 ià(
om±_’abËd
.
’abËd
) {

639 
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

642  
»t
;

643 
	}
}

656 
	$__kmpc_omp_wa™_d•s
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, kmp_št32 
nd•s
,

657 
kmp_d•’d_šfo_t
 *
d•_li¡
, 
kmp_št32
 
nd•s_nßlŸs
,

658 
kmp_d•’d_šfo_t
 *
nßlŸs_d•_li¡
) {

659 
	`KA_TRACE
(10, ("__kmpc_omp_wa™_d•sÓÁ”): T#%d†oc=%p\n", 
gtid
, 
loc_»f
));

661 ià(
nd•s
 =ğ0 && 
nd•s_nßlŸs
 == 0) {

662 
	`KA_TRACE
(10, ("__kmpc_omp_wait_deps(exit): T#%d has‚o dependencieso "

664 
gtid
, 
loc_»f
));

668 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

669 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

674 
boŞ
 
ignÜe
 = 
cu¼’t_sk
->
td_æags
.
‹am_£rŸl
 ||

675 
cu¼’t_sk
->
td_æags
.
skšg_£r
 ||

676 
cu¼’t_sk
->
td_æags
.
fš®
;

677 
ignÜe
 = ignÜ&& 
th»ad
->
th
.
th_sk_‹am
 !ğ
NULL
 &&

678 
th»ad
->
th
.
th_sk_‹am
->
‰
.
‰_found_´oxy_sks
 =ğ
FALSE
;

679 
ignÜe
 = ignÜ|| 
cu¼’t_sk
->
td_d•hash
 =ğ
NULL
;

681 ià(
ignÜe
) {

682 
	`KA_TRACE
(10, ("__kmpc_omp_wait_deps(exit): T#%d has‚o blocking "

684 
gtid
, 
loc_»f
));

688 
kmp_d•node_t
 
node
 = {0};

689 
	`__kmp_š™_node
(&
node
);

691 ià(!
	`__kmp_check_d•s
(
gtid
, &
node
, 
NULL
, &
cu¼’t_sk
->
td_d•hash
,

692 
DEP_BARRIER
, 
nd•s
, 
d•_li¡
, 
nd•s_nßlŸs
,

693 
nßlŸs_d•_li¡
)) {

694 
	`KA_TRACE
(10, ("__kmpc_omp_wait_deps(exit): T#%d has‚o blocking "

696 
gtid
, 
loc_»f
));

700 
th»ad_fšished
 = 
FALSE
;

701 
kmp_æag_32
 
	`æag
((
¡d
::
©omic
<
kmp_ušt32
> *)&
node
.
dn
.
Å»deûssÜs
, 0U);

702 
node
.
dn
.
Å»deûssÜs
 > 0) {

703 
æag
.
	`execu‹_sks
(
th»ad
, 
gtid
, 
FALSE
,

704 &
th»ad_fšished
 
	`USE_ITT_BUILD_ARG
(
NULL
),

705 
__kmp_sk_¡—lšg_cÚ¡¿št
);

708 
	`KA_TRACE
(10, ("__kmpc_omp_wait_deps(exit): T#%d finished waiting :†oc=%p\n",

709 
gtid
, 
loc_»f
));

710 
	}
}

	@kmp_taskdeps.h

15 #iâdeà
KMP_TASKDEPS_H


16 
	#KMP_TASKDEPS_H


	)

18 
	~"kmp.h
"

20 
	#KMP_ACQUIRE_DEPNODE
(
gtid
, 
n
è
	`__kmp_acquœe_lock
(&Ò)->
dn
.
lock
, (gtid))

	)

21 
	#KMP_RELEASE_DEPNODE
(
gtid
, 
n
è
	`__kmp_»Ëa£_lock
(&Ò)->
dn
.
lock
, (gtid))

	)

23 
šlše
 
	$__kmp_node_d”ef
(
kmp_šfo_t
 *
th»ad
, 
kmp_d•node_t
 *
node
) {

24 ià(!
node
)

27 
kmp_št32
 
n
 = 
	`KMP_ATOMIC_DEC
(&
node
->
dn
.
Äefs
) - 1;

28 ià(
n
 == 0) {

29 
	`KMP_ASSERT
(
node
->
dn
.
Äefs
 == 0);

30 #ià
USE_FAST_MEMORY


31 
	`__kmp_ç¡_ä“
(
th»ad
, 
node
);

33 
	`__kmp_th»ad_ä“
(
th»ad
, 
node
);

36 
	}
}

38 
šlše
 
	$__kmp_d•node_li¡_ä“
(
kmp_šfo_t
 *
th»ad
,

39 
kmp_d•node_li¡
 *
li¡
) {

40 
kmp_d•node_li¡
 *
Ãxt
;

42 ; 
li¡
;†i¡ = 
Ãxt
) {

43 
Ãxt
 = 
li¡
->next;

45 
	`__kmp_node_d”ef
(
th»ad
, 
li¡
->
node
);

46 #ià
USE_FAST_MEMORY


47 
	`__kmp_ç¡_ä“
(
th»ad
, 
li¡
);

49 
	`__kmp_th»ad_ä“
(
th»ad
, 
li¡
);

52 
	}
}

54 
šlše
 
	$__kmp_d•hash_ä“_’Œ›s
(
kmp_šfo_t
 *
th»ad
,

55 
kmp_d•hash_t
 *
h
) {

56 
size_t
 
i
 = 0; i < 
h
->
size
; i++) {

57 ià(
h
->
buck‘s
[
i
]) {

58 
kmp_d•hash_’Œy_t
 *
Ãxt
;

59 
kmp_d•hash_’Œy_t
 *
’Œy
 = 
h
->
buck‘s
[
i
];ƒÁry;ƒÁry = 
Ãxt
) {

60 
Ãxt
 = 
’Œy
->
Ãxt_š_buck‘
;

61 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
’Œy
->
Ï¡_šs
);

62 
	`__kmp_d•node_li¡_ä“
(
th»ad
, 
’Œy
->
Ï¡_mtxs
);

63 
	`__kmp_node_d”ef
(
th»ad
, 
’Œy
->
Ï¡_out
);

64 ià(
’Œy
->
mtx_lock
) {

65 
	`__kmp_de¡roy_lock
(
’Œy
->
mtx_lock
);

66 
	`__kmp_ä“
(
’Œy
->
mtx_lock
);

68 #ià
USE_FAST_MEMORY


69 
	`__kmp_ç¡_ä“
(
th»ad
, 
’Œy
);

71 
	`__kmp_th»ad_ä“
(
th»ad
, 
’Œy
);

74 
h
->
buck‘s
[
i
] = 0;

77 
	}
}

79 
šlše
 
	$__kmp_d•hash_ä“
(
kmp_šfo_t
 *
th»ad
, 
kmp_d•hash_t
 *
h
) {

80 
	`__kmp_d•hash_ä“_’Œ›s
(
th»ad
, 
h
);

81 #ià
USE_FAST_MEMORY


82 
	`__kmp_ç¡_ä“
(
th»ad
, 
h
);

84 
	`__kmp_th»ad_ä“
(
th»ad
, 
h
);

86 
	}
}

88 
šlše
 
	$__kmp_»Ëa£_d•s
(
kmp_št32
 
gtid
, 
kmp_skd©a_t
 *
sk
) {

89 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

90 
kmp_d•node_t
 *
node
 = 
sk
->
td_d•node
;

92 ià(
sk
->
td_d•hash
) {

93 
	`KA_TRACE
(

95 
gtid
, 
sk
));

96 
	`__kmp_d•hash_ä“
(
th»ad
, 
sk
->
td_d•hash
);

97 
sk
->
td_d•hash
 = 
NULL
;

100 ià(!
node
)

103 
	`KA_TRACE
(20, ("__kmp_release_deps: T#%d‚otifying successors ofask %p.\n",

104 
gtid
, 
sk
));

106 
	`KMP_ACQUIRE_DEPNODE
(
gtid
, 
node
);

107 
node
->
dn
.
sk
 =

108 
NULL
;

109 
	`KMP_RELEASE_DEPNODE
(
gtid
, 
node
);

111 
kmp_d•node_li¡_t
 *
Ãxt
;

112 
kmp_d•node_li¡_t
 *
p
 = 
node
->
dn
.
sucûssÜs
;…;… = 
Ãxt
) {

113 
kmp_d•node_t
 *
sucûssÜ
 = 
p
->
node
;

114 
kmp_št32
 
Å»deûssÜs
 = 
	`KMP_ATOMIC_DEC
(&
sucûssÜ
->
dn
.npredecessors) - 1;

118 ià(
Å»deûssÜs
 == 0) {

119 
	`KMP_MB
();

120 ià(
sucûssÜ
->
dn
.
sk
) {

121 
	`KA_TRACE
(20, ("__kmp_release_deps: T#%d successor %p of %p scheduled "

123 
gtid
, 
sucûssÜ
->
dn
.
sk
,ask));

124 
	`__kmp_omp_sk
(
gtid
, 
sucûssÜ
->
dn
.
sk
, 
çl£
);

128 
Ãxt
 = 
p
->next;

129 
	`__kmp_node_d”ef
(
th»ad
, 
p
->
node
);

130 #ià
USE_FAST_MEMORY


131 
	`__kmp_ç¡_ä“
(
th»ad
, 
p
);

133 
	`__kmp_th»ad_ä“
(
th»ad
, 
p
);

137 
	`__kmp_node_d”ef
(
th»ad
, 
node
);

139 
	`KA_TRACE
(

142 
gtid
, 
sk
));

143 
	}
}

	@kmp_tasking.cpp

13 
	~"kmp.h
"

14 
	~"kmp_i18n.h
"

15 
	~"kmp_™t.h
"

16 
	~"kmp_¡©s.h
"

17 
	~"kmp_wa™_»Ëa£.h
"

18 
	~"kmp_skd•s.h
"

20 #ià
OMPT_SUPPORT


21 
	~"om±-¥ecific.h
"

24 
	~"t§n_ªnÙ©iÚs.h
"

27 
__kmp_’abË_skšg
(
kmp_sk_‹am_t
 *
sk_‹am
,

28 
kmp_šfo_t
 *
this_thr
);

29 
__kmp_®loc_sk_deque
(
kmp_šfo_t
 *
th»ad
,

30 
kmp_th»ad_d©a_t
 *
th»ad_d©a
);

31 
__kmp_»®loc_sk_th»ads_d©a
(
kmp_šfo_t
 *
th»ad
,

32 
kmp_sk_‹am_t
 *
sk_‹am
);

33 
__kmp_bÙtom_h®f_fšish_´oxy
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
±ask
);

35 #ifdeà
BUILD_TIED_TASK_STACK


44 
	$__kmp_Œaû_sk_¡ack
(
kmp_št32
 
gtid
,

45 
kmp_th»ad_d©a_t
 *
th»ad_d©a
,

46 
th»shŞd
, *
loÿtiÚ
) {

47 
kmp_sk_¡ack_t
 *
sk_¡ack
 = &
th»ad_d©a
->
td
.
td_su¥_t›d_sks
;

48 
kmp_skd©a_t
 **
¡ack_tİ
 = 
sk_¡ack
->
ts_tİ
;

49 
kmp_št32
 
’Œ›s
 = 
sk_¡ack
->
ts_’Œ›s
;

50 
kmp_skd©a_t
 *
t›d_sk
;

52 
	`KA_TRACE
(

53 
th»shŞd
,

56 
loÿtiÚ
, 
gtid
, 
’Œ›s
, 
sk_¡ack
->
ts_fœ¡_block
, 
¡ack_tİ
));

58 
	`KMP_DEBUG_ASSERT
(
¡ack_tİ
 !ğ
NULL
);

59 
	`KMP_DEBUG_ASSERT
(
’Œ›s
 > 0);

61 
’Œ›s
 != 0) {

62 
	`KMP_DEBUG_ASSERT
(
¡ack_tİ
 !ğ&
sk_¡ack
->
ts_fœ¡_block
.
sb_block
[0]);

64 ià(
’Œ›s
 & 
TASK_STACK_INDEX_MASK
 == 0) {

65 
kmp_¡ack_block_t
 *
¡ack_block
 = (kmp_¡ack_block_ˆ*)(
¡ack_tİ
);

67 
¡ack_block
 = sck_block->
sb_´ev
;

68 
¡ack_tİ
 = &
¡ack_block
->
sb_block
[
TASK_STACK_BLOCK_SIZE
];

72 
¡ack_tİ
--;

73 
’Œ›s
--;

75 
t›d_sk
 = *
¡ack_tİ
;

77 
	`KMP_DEBUG_ASSERT
(
t›d_sk
 !ğ
NULL
);

78 
	`KMP_DEBUG_ASSERT
(
t›d_sk
->
td_æags
.
skty³
 =ğ
TASK_TIED
);

80 
	`KA_TRACE
(
th»shŞd
,

83 
loÿtiÚ
, 
gtid
, 
’Œ›s
, 
¡ack_tİ
, 
t›d_sk
));

85 
	`KMP_DEBUG_ASSERT
(
¡ack_tİ
 =ğ&
sk_¡ack
->
ts_fœ¡_block
.
sb_block
[0]);

87 
	`KA_TRACE
(
th»shŞd
,

89 
loÿtiÚ
, 
gtid
));

90 
	}
}

98 
	$__kmp_š™_sk_¡ack
(
kmp_št32
 
gtid
,

99 
kmp_th»ad_d©a_t
 *
th»ad_d©a
) {

100 
kmp_sk_¡ack_t
 *
sk_¡ack
 = &
th»ad_d©a
->
td
.
td_su¥_t›d_sks
;

101 
kmp_¡ack_block_t
 *
fœ¡_block
;

104 
fœ¡_block
 = &
sk_¡ack
->
ts_fœ¡_block
;

105 
sk_¡ack
->
ts_tİ
 = (
kmp_skd©a_t
 **)
fœ¡_block
;

106 
	`mem£t
((*)
fœ¡_block
, '\0',

107 
TASK_STACK_BLOCK_SIZE
 * (
kmp_skd©a_t
 *));

110 
sk_¡ack
->
ts_’Œ›s
 = 
TASK_STACK_EMPTY
;

111 
fœ¡_block
->
sb_Ãxt
 = 
NULL
;

112 
fœ¡_block
->
sb_´ev
 = 
NULL
;

113 
	}
}

119 
	$__kmp_ä“_sk_¡ack
(
kmp_št32
 
gtid
,

120 
kmp_th»ad_d©a_t
 *
th»ad_d©a
) {

121 
kmp_sk_¡ack_t
 *
sk_¡ack
 = &
th»ad_d©a
->
td
.
td_su¥_t›d_sks
;

122 
kmp_¡ack_block_t
 *
¡ack_block
 = &
sk_¡ack
->
ts_fœ¡_block
;

124 
	`KMP_DEBUG_ASSERT
(
sk_¡ack
->
ts_’Œ›s
 =ğ
TASK_STACK_EMPTY
);

126 
¡ack_block
 !ğ
NULL
) {

127 
kmp_¡ack_block_t
 *
Ãxt_block
 = (
¡ack_block
è? sck_block->
sb_Ãxt
 : 
NULL
;

129 
¡ack_block
->
sb_Ãxt
 = 
NULL
;

130 
¡ack_block
->
sb_´ev
 = 
NULL
;

131 ià(
¡ack_block
 !ğ&
sk_¡ack
->
ts_fœ¡_block
) {

132 
	`__kmp_th»ad_ä“
(
th»ad
,

133 
¡ack_block
);

135 
¡ack_block
 = 
Ãxt_block
;

138 
sk_¡ack
->
ts_’Œ›s
 = 0;

139 
sk_¡ack
->
ts_tİ
 = 
NULL
;

140 
	}
}

148 
	$__kmp_push_sk_¡ack
(
kmp_št32
 
gtid
, 
kmp_šfo_t
 *
th»ad
,

149 
kmp_skd©a_t
 *
t›d_sk
) {

151 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 =

152 &
th»ad
->
th
.
th_sk_‹am
->
‰
.
‰_th»ads_d©a
[
	`__kmp_tid_äom_gtid
(
gtid
)];

153 
kmp_sk_¡ack_t
 *
sk_¡ack
 = &
th»ad_d©a
->
td
.
td_su¥_t›d_sks
;

155 ià(
t›d_sk
->
td_æags
.
‹am_£rŸl
 ||›d_sk->td_æags.
skšg_£r
) {

159 
	`KMP_DEBUG_ASSERT
(
t›d_sk
->
td_æags
.
skty³
 =ğ
TASK_TIED
);

160 
	`KMP_DEBUG_ASSERT
(
sk_¡ack
->
ts_tİ
 !ğ
NULL
);

162 
	`KA_TRACE
(20,

164 
gtid
, 
th»ad
, 
t›d_sk
));

166 *(
sk_¡ack
->
ts_tİ
èğ
t›d_sk
;

169 
sk_¡ack
->
ts_tİ
++;

170 
sk_¡ack
->
ts_’Œ›s
++;

172 ià(
sk_¡ack
->
ts_’Œ›s
 & 
TASK_STACK_INDEX_MASK
 == 0) {

174 
kmp_¡ack_block_t
 *
¡ack_block
 =

175 (
kmp_¡ack_block_t
 *)(
sk_¡ack
->
ts_tİ
 - 
TASK_STACK_BLOCK_SIZE
);

178 ià(
¡ack_block
->
sb_Ãxt
 !=

179 
NULL
) {

180 
sk_¡ack
->
ts_tİ
 = &
¡ack_block
->
sb_Ãxt
->
sb_block
[0];

182 
kmp_¡ack_block_t
 *
Ãw_block
 = (kmp_¡ack_block_ˆ*)
	`__kmp_th»ad_ÿÎoc
(

183 
th»ad
, (
kmp_¡ack_block_t
));

185 
sk_¡ack
->
ts_tİ
 = &
Ãw_block
->
sb_block
[0];

186 
¡ack_block
->
sb_Ãxt
 = 
Ãw_block
;

187 
Ãw_block
->
sb_´ev
 = 
¡ack_block
;

188 
Ãw_block
->
sb_Ãxt
 = 
NULL
;

190 
	`KA_TRACE
(

193 
gtid
, 
t›d_sk
, 
Ãw_block
));

196 
	`KA_TRACE
(20, ("__kmp_push_sk_¡ackÓx™): GTID: %d; TASK: %p\n", 
gtid
,

197 
t›d_sk
));

198 
	}
}

207 
	$__kmp_pİ_sk_¡ack
(
kmp_št32
 
gtid
, 
kmp_šfo_t
 *
th»ad
,

208 
kmp_skd©a_t
 *
’dšg_sk
) {

210 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 =

211 &
th»ad
->
th
.
th_sk_‹am
->
‰_th»ads_d©a
[
	`__kmp_tid_äom_gtid
(
gtid
)];

212 
kmp_sk_¡ack_t
 *
sk_¡ack
 = &
th»ad_d©a
->
td
.
td_su¥_t›d_sks
;

213 
kmp_skd©a_t
 *
t›d_sk
;

215 ià(
’dšg_sk
->
td_æags
.
‹am_£rŸl
 ||ƒndšg_sk->td_æags.
skšg_£r
) {

220 
	`KMP_DEBUG_ASSERT
(
sk_¡ack
->
ts_tİ
 !ğ
NULL
);

221 
	`KMP_DEBUG_ASSERT
(
sk_¡ack
->
ts_’Œ›s
 > 0);

223 
	`KA_TRACE
(20, ("__kmp_pİ_sk_¡ackÓÁ”): GTID: %d; THREAD: %p\n", 
gtid
,

224 
th»ad
));

227 ià(
sk_¡ack
->
ts_’Œ›s
 & 
TASK_STACK_INDEX_MASK
 == 0) {

228 
kmp_¡ack_block_t
 *
¡ack_block
 = (kmp_¡ack_block_ˆ*)(
sk_¡ack
->
ts_tİ
);

230 
¡ack_block
 = sck_block->
sb_´ev
;

231 
sk_¡ack
->
ts_tİ
 = &
¡ack_block
->
sb_block
[
TASK_STACK_BLOCK_SIZE
];

235 
sk_¡ack
->
ts_tİ
--;

236 
sk_¡ack
->
ts_’Œ›s
--;

238 
t›d_sk
 = *(
sk_¡ack
->
ts_tİ
);

240 
	`KMP_DEBUG_ASSERT
(
t›d_sk
 !ğ
NULL
);

241 
	`KMP_DEBUG_ASSERT
(
t›d_sk
->
td_æags
.
skty³
 =ğ
TASK_TIED
);

242 
	`KMP_DEBUG_ASSERT
(
t›d_sk
 =ğ
’dšg_sk
);

244 
	`KA_TRACE
(20, ("__kmp_pİ_sk_¡ackÓx™): GTID: %d; TASK: %p\n", 
gtid
,

245 
t›d_sk
));

247 
	}
}

253 
boŞ
 
	$__kmp_sk_is_®lowed
(
gtid
, cÚ¡ 
kmp_št32
 
is_cÚ¡¿šed
,

254 cÚ¡ 
kmp_skd©a_t
 *
skÃw
,

255 cÚ¡ 
kmp_skd©a_t
 *
skcu¼
) {

256 ià(
is_cÚ¡¿šed
 && (
skÃw
->
td_æags
.
t›dÃss
 =ğ
TASK_TIED
)) {

260 
kmp_skd©a_t
 *
cu¼’t
 = 
skcu¼
->
td_Ï¡_t›d
;

261 
	`KMP_DEBUG_ASSERT
(
cu¼’t
 !ğ
NULL
);

263 ià(
cu¼’t
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
 ||

264 
cu¼’t
->
td_skwa™_th»ad
 > 0) {

265 
kmp_št32
 
Ëv–
 = 
cu¼’t
->
td_Ëv–
;

266 
kmp_skd©a_t
 *
·»Á
 = 
skÃw
->
td_·»Á
;

267 
·»Á
 !ğ
cu¼’t
 &&…¬’t->
td_Ëv–
 > 
Ëv–
) {

269 
·»Á
 =…¬’t->
td_·»Á
;

270 
	`KMP_DEBUG_ASSERT
(
·»Á
 !ğ
NULL
);

272 ià(
·»Á
 !ğ
cu¼’t
)

273  
çl£
;

277 
kmp_d•node_t
 *
node
 = 
skÃw
->
td_d•node
;

278 ià(
node
 && (node->
dn
.
mtx_num_locks
 > 0)) {

279 
i
 = 0; i < 
node
->
dn
.
mtx_num_locks
; ++i) {

280 
	`KMP_DEBUG_ASSERT
(
node
->
dn
.
mtx_locks
[
i
] !ğ
NULL
);

281 ià(
	`__kmp_‹¡_lock
(
node
->
dn
.
mtx_locks
[
i
], 
gtid
))

284 
j
 = 
i
 - 1; j >= 0; --j)

285 
	`__kmp_»Ëa£_lock
(
node
->
dn
.
mtx_locks
[
j
], 
gtid
);

286  
çl£
;

289 
node
->
dn
.
mtx_num_locks
 = -node->dn.mtx_num_locks;

291  
Œue
;

292 
	}
}

298 
	$__kmp_»®loc_sk_deque
(
kmp_šfo_t
 *
th»ad
,

299 
kmp_th»ad_d©a_t
 *
th»ad_d©a
) {

300 
kmp_št32
 
size
 = 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
);

301 
kmp_št32
 
Ãw_size
 = 2 * 
size
;

303 
	`KE_TRACE
(10, ("__kmp_realloc_task_deque: T#%d„eallocating deque[from %do "

305 
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
size
, 
Ãw_size
, 
th»ad_d©a
));

307 
kmp_skd©a_t
 **
Ãw_deque
 =

308 (
kmp_skd©a_t
 **)
	`__kmp_®loÿ‹
(
Ãw_size
 * (kmp_taskdata_t *));

310 
i
, 
j
;

311 
i
 = 
th»ad_d©a
->
td
.
td_deque_h—d
, 
j
 = 0; j < 
size
;

312 
i
 = (˜+ 1è& 
	`TASK_DEQUE_MASK
(
th»ad_d©a
->
td
), 
j
++)

313 
Ãw_deque
[
j
] = 
th»ad_d©a
->
td
.
td_deque
[
i
];

315 
	`__kmp_ä“
(
th»ad_d©a
->
td
.
td_deque
);

317 
th»ad_d©a
->
td
.
td_deque_h—d
 = 0;

318 
th»ad_d©a
->
td
.
td_deque_
 = 
size
;

319 
th»ad_d©a
->
td
.
td_deque
 = 
Ãw_deque
;

320 
th»ad_d©a
->
td
.
td_deque_size
 = 
Ãw_size
;

321 
	}
}

324 
kmp_št32
 
	$__kmp_push_sk
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
) {

325 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

326 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

327 
kmp_sk_‹am_t
 *
sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

328 
kmp_št32
 
tid
 = 
	`__kmp_tid_äom_gtid
(
gtid
);

329 
kmp_th»ad_d©a_t
 *
th»ad_d©a
;

331 
	`KA_TRACE
(20,

332 ("__kmp_push_sk: T#%dryšgØpushask %p.\n", 
gtid
, 
skd©a
));

334 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
) {

337 
kmp_št32
 
couÁ”
 = 1 + 
	`KMP_ATOMIC_INC
(&
skd©a
->
td_uÁ›d_couÁ
);

338 
	`KMP_DEBUG_USE_VAR
(
couÁ”
);

339 
	`KA_TRACE
(

342 
gtid
, 
couÁ”
, 
skd©a
));

346 ià(
skd©a
->
td_æags
.
sk_£rŸl
) {

347 
	`KA_TRACE
(20, ("__kmp_push_task: T#%deam serialized;„eturning "

349 
gtid
, 
skd©a
));

350  
TASK_NOT_PUSHED
;

355 
	`KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

356 ià(!
	`KMP_TASKING_ENABLED
(
sk_‹am
)) {

357 
	`__kmp_’abË_skšg
(
sk_‹am
, 
th»ad
);

359 
	`KMP_DEBUG_ASSERT
(
	`TCR_4
(
sk_‹am
->
‰
.
‰_found_sks
è=ğ
TRUE
);

360 
	`KMP_DEBUG_ASSERT
(
	`TCR_PTR
(
sk_‹am
->
‰
.
‰_th»ads_d©a
è!ğ
NULL
);

363 
th»ad_d©a
 = &
sk_‹am
->
‰
.
‰_th»ads_d©a
[
tid
];

366 ià(
th»ad_d©a
->
td
.
td_deque
 =ğ
NULL
) {

367 
	`__kmp_®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

370 
locked
 = 0;

372 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) >=

373 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
)) {

374 ià(
__kmp_’abË_sk_thrÙšg
 &&

375 
	`__kmp_sk_is_®lowed
(
gtid
, 
__kmp_sk_¡—lšg_cÚ¡¿št
, 
skd©a
,

376 
th»ad
->
th
.
th_cu¼’t_sk
)) {

377 
	`KA_TRACE
(20, ("__kmp_push_task: T#%d deque is full;„eturning "

379 
gtid
, 
skd©a
));

380  
TASK_NOT_PUSHED
;

382 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

383 
locked
 = 1;

385 
	`__kmp_»®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

389 ià(!
locked
) {

390 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

392 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) >=

393 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
)) {

394 ià(
__kmp_’abË_sk_thrÙšg
 &&

395 
	`__kmp_sk_is_®lowed
(
gtid
, 
__kmp_sk_¡—lšg_cÚ¡¿št
, 
skd©a
,

396 
th»ad
->
th
.
th_cu¼’t_sk
)) {

397 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

398 
	`KA_TRACE
(20, ("__kmp_push_task: T#%d deque is full on 2nd check; "

400 
gtid
, 
skd©a
));

401  
TASK_NOT_PUSHED
;

404 
	`__kmp_»®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

409 
	`KMP_DEBUG_ASSERT
(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) <

410 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
));

412 
th»ad_d©a
->
td
.
td_deque
[th»ad_d©a->td.
td_deque_
] =

413 
skd©a
;

415 
th»ad_d©a
->
td
.
td_deque_
 =

416 (
th»ad_d©a
->
td
.
td_deque_
 + 1è& 
	`TASK_DEQUE_MASK
(thread_data->td);

417 
	`TCW_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
,

418 
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) + 1);

420 
	`KA_TRACE
(20, ("__kmp_push_task: T#%d„eturning TASK_SUCCESSFULLY_PUSHED: "

422 
gtid
, 
skd©a
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

423 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

425 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

427  
TASK_SUCCESSFULLY_PUSHED
;

428 
	}
}

434 
	$__kmp_pİ_cu¼’t_sk_äom_th»ad
(
kmp_šfo_t
 *
this_thr
) {

435 
	`KF_TRACE
(10, ("__kmp_pop_current_task_from_thread(enter): T#%d "

438 0, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
,

439 
this_thr
->
th
.
th_cu¼’t_sk
->
td_·»Á
));

441 
this_thr
->
th
.
th_cu¼’t_sk
 =his_thr->th.th_cu¼’t_sk->
td_·»Á
;

443 
	`KF_TRACE
(10, ("__kmp_pop_current_task_from_thread(exit): T#%d "

446 0, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
,

447 
this_thr
->
th
.
th_cu¼’t_sk
->
td_·»Á
));

448 
	}
}

456 
	$__kmp_push_cu¼’t_sk_to_th»ad
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
,

457 
tid
) {

460 
	`KF_TRACE
(10, ("__kmp_push_current_task_to_thread(enter): T#%dhis_thread=%p "

463 
tid
, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
,

464 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_·»Á
));

466 
	`KMP_DEBUG_ASSERT
(
this_thr
 !ğ
NULL
);

468 ià(
tid
 == 0) {

469 ià(
this_thr
->
th
.
th_cu¼’t_sk
 !ğ&
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0]) {

470 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_·»Á
 =

471 
this_thr
->
th
.
th_cu¼’t_sk
;

472 
this_thr
->
th
.
th_cu¼’t_sk
 = &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0];

475 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_·»Á
 =

476 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[0].
td_·»Á
;

477 
this_thr
->
th
.
th_cu¼’t_sk
 = &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
];

480 
	`KF_TRACE
(10, ("__kmp_push_current_task_to_thread(exit): T#%dhis_thread=%p "

483 
tid
, 
this_thr
,his_thr->
th
.
th_cu¼’t_sk
,

484 
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
].
td_·»Á
));

485 
	}
}

492 
	$__kmp_sk_¡¬t
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
,

493 
kmp_skd©a_t
 *
cu¼’t_sk
) {

494 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

495 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

497 
	`KA_TRACE
(10,

499 
gtid
, 
skd©a
, 
cu¼’t_sk
));

501 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

506 
cu¼’t_sk
->
td_æags
.
executšg
 = 0;

509 #ifdeà
BUILD_TIED_TASK_STACK


510 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_TIED
) {

511 
	`__kmp_push_sk_¡ack
(
gtid
, 
th»ad
, 
skd©a
);

516 
th»ad
->
th
.
th_cu¼’t_sk
 = 
skd©a
;

518 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
¡¬‹d
 == 0 ||

519 
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
);

520 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
executšg
 == 0 ||

521 
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
);

522 
skd©a
->
td_æags
.
¡¬‹d
 = 1;

523 
skd©a
->
td_æags
.
executšg
 = 1;

524 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
com¶‘e
 == 0);

525 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
ä“d
 == 0);

532 
	`KA_TRACE
(10, ("__kmp_sk_¡¬tÓx™): T#%dask=%p\n", 
gtid
, 
skd©a
));

535 
	}
}

537 #ià
OMPT_SUPPORT


543 
šlše
 
	$__om±_sk_š™
(
kmp_skd©a_t
 *
sk
, 
tid
) {

545 
sk
->
om±_sk_šfo
.
sk_d©a
.
v®ue
 = 0;

546 
sk
->
om±_sk_šfo
.
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

547 
sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

548 
sk
->
om±_sk_šfo
.
äame
.
ex™_äame_æags
 = 
om±_äame_ruÁime
 | 
om±_äame_äam•oš‹r
;

549 
sk
->
om±_sk_šfo
.
äame
.
’‹r_äame_æags
 = 
om±_äame_ruÁime
 | 
om±_äame_äam•oš‹r
;

550 
sk
->
om±_sk_šfo
.
nd•s
 = 0;

551 
sk
->
om±_sk_šfo
.
d•s
 = 
NULL
;

552 
	}
}

556 
šlše
 
	$__om±_sk_¡¬t
(
kmp_sk_t
 *
sk
,

557 
kmp_skd©a_t
 *
cu¼’t_sk
,

558 
kmp_št32
 
gtid
) {

559 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

560 
om±_sk_¡©us_t
 
¡©us
 = 
om±_sk_sw™ch
;

561 ià(
__kmp_th»ads
[
gtid
]->
th
.
om±_th»ad_šfo
.
om±_sk_y›lded
) {

562 
¡©us
 = 
om±_sk_y›ld
;

563 
__kmp_th»ads
[
gtid
]->
th
.
om±_th»ad_šfo
.
om±_sk_y›lded
 = 0;

566 ià(
om±_’abËd
.
om±_ÿÎback_sk_scheduË
) {

567 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_scheduË
)(

568 &(
cu¼’t_sk
->
om±_sk_šfo
.
sk_d©a
), 
¡©us
,

569 &(
skd©a
->
om±_sk_šfo
.
sk_d©a
));

571 
skd©a
->
om±_sk_šfo
.
schedulšg_·»Á
 = 
cu¼’t_sk
;

572 
	}
}

576 
šlše
 

577 
	$__om±_sk_fšish
(
kmp_sk_t
 *
sk
, 
kmp_skd©a_t
 *
»sumed_sk
,

578 
om±_sk_¡©us_t
 
¡©us
 = 
om±_sk_com¶‘e
) {

579 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

580 ià(
__kmp_omp_ÿnûÎ©iÚ
 && 
skd©a
->
td_skgroup
 &&

581 
skd©a
->
td_skgroup
->
ÿnûl_»que¡
 =ğ
ÿnûl_skgroup
) {

582 
¡©us
 = 
om±_sk_ÿnûl
;

586 ià(
om±_’abËd
.
om±_ÿÎback_sk_scheduË
) {

587 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_scheduË
)(

588 &(
skd©a
->
om±_sk_šfo
.
sk_d©a
), 
¡©us
,

589 &((
»sumed_sk
 ?„esumed_task

590 : (
skd©a
->
om±_sk_šfo
.
schedulšg_·»Á


591 ? 
skd©a
->
om±_sk_šfo
.
schedulšg_·»Á


592 : 
skd©a
->
td_·»Á
))

593 ->
om±_sk_šfo
.
sk_d©a
));

595 
	}
}

598 
	g‹m¶©e
 <
boŞ
 
	gom±
>

599 
	$__kmpc_omp_sk_begš_if0_‹m¶©e
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

600 
kmp_sk_t
 *
sk
,

601 *
äame_add»ss
,

602 *
»tuº_add»ss
) {

603 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

604 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

606 
	`KA_TRACE
(10, ("__kmpc_omp_task_begin_if0(enter): T#%d†oc=%pask=%p "

608 
gtid
, 
loc_»f
, 
skd©a
, 
cu¼’t_sk
));

610 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
) {

613 
kmp_št32
 
couÁ”
 = 1 + 
	`KMP_ATOMIC_INC
(&
skd©a
->
td_uÁ›d_couÁ
);

614 
	`KMP_DEBUG_USE_VAR
(
couÁ”
);

615 
	`KA_TRACE
(20, ("__kmpc_omp_task_begin_if0: T#%d untied_count (%d) "

617 
gtid
, 
couÁ”
, 
skd©a
));

620 
skd©a
->
td_æags
.
sk_£rŸl
 =

622 
	`__kmp_sk_¡¬t
(
gtid
, 
sk
, 
cu¼’t_sk
);

624 #ià
OMPT_SUPPORT


625 ià(
om±
) {

626 ià(
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 =ğ
NULL
) {

627 
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 =

628 
skd©a
->
om±_sk_šfo
.
äame
.
ex™_äame
.
±r
 = 
äame_add»ss
;

629 
cu¼’t_sk
->
om±_sk_šfo
.
äame
.
’‹r_äame_æags
 =

630 
skd©a
->
om±_sk_šfo
.
äame
.
ex™_äame_æags
 = 
om±_äame_­¶iÿtiÚ
 | 
om±_äame_äam•oš‹r
;

632 ià(
om±_’abËd
.
om±_ÿÎback_sk_ü—‹
) {

633 
om±_sk_šfo_t
 *
·»Á_šfo
 = &(
cu¼’t_sk
->
om±_sk_šfo
);

634 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_ü—‹
)(

635 &(
·»Á_šfo
->
sk_d©a
), &Õ¬’t_šfo->
äame
),

636 &(
skd©a
->
om±_sk_šfo
.
sk_d©a
),

637 
om±_sk_ex¶ic™
 | 
	`TASK_TYPE_DETAILS_FORMAT
(
skd©a
), 0,

638 
»tuº_add»ss
);

640 
	`__om±_sk_¡¬t
(
sk
, 
cu¼’t_sk
, 
gtid
);

644 
	`KA_TRACE
(10, ("__kmpc_omp_sk_begš_if0Óx™): T#%d†oc=%°sk=%p,\n", 
gtid
,

645 
loc_»f
, 
skd©a
));

646 
	}
}

648 #ià
OMPT_SUPPORT


649 
OMPT_NOINLINE


650 
	$__kmpc_omp_sk_begš_if0_om±
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

651 
kmp_sk_t
 *
sk
,

652 *
äame_add»ss
,

653 *
»tuº_add»ss
) {

654 
__kmpc_omp_sk_begš_if0_‹m¶©e
<
Œue
>(
loc_»f
, 
gtid
, 
sk
, 
äame_add»ss
,

655 
»tuº_add»ss
);

656 
	}
}

665 
	$__kmpc_omp_sk_begš_if0
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

666 
kmp_sk_t
 *
sk
) {

667 #ià
OMPT_SUPPORT


668 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

669 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

670 
	`__kmpc_omp_sk_begš_if0_om±
(
loc_»f
, 
gtid
, 
sk
,

671 
	`OMPT_GET_FRAME_ADDRESS
(1),

672 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

676 
__kmpc_omp_sk_begš_if0_‹m¶©e
<
çl£
>(
loc_»f
, 
gtid
, 
sk
, 
NULL
, NULL);

677 
	}
}

679 #ifdeà
TASK_UNUSED


682 
	$__kmpc_omp_sk_begš
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
) {

683 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

685 
	`KA_TRACE
(

688 
gtid
, 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
), 
cu¼’t_sk
));

690 
	`__kmp_sk_¡¬t
(
gtid
, 
sk
, 
cu¼’t_sk
);

692 
	`KA_TRACE
(10, ("__kmpc_omp_sk_begšÓx™): T#%d†oc=%°sk=%p,\n", 
gtid
,

693 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

695 
	}
}

703 
	$__kmp_ä“_sk
(
kmp_št32
 
gtid
, 
kmp_skd©a_t
 *
skd©a
,

704 
kmp_šfo_t
 *
th»ad
) {

705 
	`KA_TRACE
(30, ("__kmp_ä“_sk: T#%d f»ešg d©¨äomask %p\n", 
gtid
,

706 
skd©a
));

709 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

710 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
executšg
 == 0);

711 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
com¶‘e
 == 1);

712 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
ä“d
 == 0);

713 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_®loÿ‹d_chd_sks
 == 0 ||

714 
skd©a
->
td_æags
.
sk_£rŸl
 == 1);

715 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_šcom¶‘e_chd_sks
 == 0);

717 
skd©a
->
td_æags
.
ä“d
 = 1;

718 
	`ANNOTATE_HAPPENS_BEFORE
(
skd©a
);

720 #ià
USE_FAST_MEMORY


721 
	`__kmp_ç¡_ä“
(
th»ad
, 
skd©a
);

723 
	`__kmp_th»ad_ä“
(
th»ad
, 
skd©a
);

726 
	`KA_TRACE
(20, ("__kmp_ä“_sk: T#%d f»edask %p\n", 
gtid
, 
skd©a
));

727 
	}
}

735 
	$__kmp_ä“_sk_ªd_ªû¡Üs
(
kmp_št32
 
gtid
,

736 
kmp_skd©a_t
 *
skd©a
,

737 
kmp_šfo_t
 *
th»ad
) {

740 
kmp_št32
 
‹am_£rŸl
 =

741 (
skd©a
->
td_æags
.
‹am_£rŸl
 ||askd©a->td_æags.
skšg_£r
) &&

742 !
skd©a
->
td_æags
.
´oxy
;

743 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

745 
kmp_št32
 
chd»n
 = 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_®loÿ‹d_chd_sks
) - 1;

746 
	`KMP_DEBUG_ASSERT
(
chd»n
 >= 0);

749 
chd»n
 == 0) {

750 
kmp_skd©a_t
 *
·»Á_skd©a
 = 
skd©a
->
td_·»Á
;

752 
	`KA_TRACE
(20, ("__kmp_free_task_and_ancestors(enter): T#%dask %p complete "

754 
gtid
, 
skd©a
));

757 
	`__kmp_ä“_sk
(
gtid
, 
skd©a
, 
th»ad
);

759 
skd©a
 = 
·»Á_skd©a
;

761 ià(
‹am_£rŸl
)

765 ià(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_IMPLICIT
) {

766 ià(
skd©a
->
td_d•hash
) {

767 
chd»n
 = 
	`KMP_ATOMIC_LD_ACQ
(&
skd©a
->
td_šcom¶‘e_chd_sks
);

768 
kmp_skšg_æags_t
 
æags_Şd
 = 
skd©a
->
td_æags
;

769 ià(
chd»n
 =ğ0 && 
æags_Şd
.
com¶‘e
 == 1) {

770 
kmp_skšg_æags_t
 
æags_Ãw
 = 
æags_Şd
;

771 
æags_Ãw
.
com¶‘e
 = 0;

772 ià(
	`KMP_COMPARE_AND_STORE_ACQ32
(

773 
	`RCAST
(
kmp_št32
 *, &
skd©a
->
td_æags
),

774 *
	`RCAST
(
kmp_št32
 *, &
æags_Şd
),

775 *
	`RCAST
(
kmp_št32
 *, &
æags_Ãw
))) {

776 
	`KA_TRACE
(100, ("__kmp_free_task_and_ancestors: T#%d cleans "

778 
gtid
, 
skd©a
));

780 
	`__kmp_d•hash_ä“_’Œ›s
(
th»ad
, 
skd©a
->
td_d•hash
);

787 
chd»n
 = 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_®loÿ‹d_chd_sks
) - 1;

788 
	`KMP_DEBUG_ASSERT
(
chd»n
 >= 0);

791 
	`KA_TRACE
(

794 
gtid
, 
skd©a
, 
chd»n
));

795 
	}
}

802 
	g‹m¶©e
 <
boŞ
 
	gom±
>

803 
	$__kmp_sk_fšish
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
,

804 
kmp_skd©a_t
 *
»sumed_sk
) {

805 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

806 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

807 
kmp_sk_‹am_t
 *
sk_‹am
 =

808 
th»ad
->
th
.
th_sk_‹am
;

809 
kmp_št32
 
chd»n
 = 0;

811 
	`KA_TRACE
(10, ("__kmp_task_finish(enter): T#%d finishingask %p‡nd„esuming "

813 
gtid
, 
skd©a
, 
»sumed_sk
));

815 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

818 #ifdeà
BUILD_TIED_TASK_STACK


819 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_TIED
) {

820 
	`__kmp_pİ_sk_¡ack
(
gtid
, 
th»ad
, 
skd©a
);

824 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
) {

827 
kmp_št32
 
couÁ”
 = 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_uÁ›d_couÁ
) - 1;

828 
	`KA_TRACE
(

831 
gtid
, 
couÁ”
, 
skd©a
));

832 ià(
couÁ”
 > 0) {

835 ià(
»sumed_sk
 =ğ
NULL
) {

836 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
sk_£rŸl
);

837 
»sumed_sk
 = 
skd©a
->
td_·»Á
;

840 
th»ad
->
th
.
th_cu¼’t_sk
 = 
»sumed_sk
;

841 
»sumed_sk
->
td_æags
.
executšg
 = 1;

842 
	`KA_TRACE
(10, ("__kmp_task_finish(exit): T#%d…artially doneask %p, "

844 
gtid
, 
skd©a
, 
»sumed_sk
));

848 #ià
OMPT_SUPPORT


849 ià(
om±
)

850 
	`__om±_sk_fšish
(
sk
, 
»sumed_sk
);

854 
kmp_d•node_t
 *
node
 = 
skd©a
->
td_d•node
;

855 ià(
node
 && (node->
dn
.
mtx_num_locks
 < 0)) {

857 
node
->
dn
.
mtx_num_locks
 = -node->dn.mtx_num_locks;

858 
i
 = 
node
->
dn
.
mtx_num_locks
 - 1; i >= 0; --i) {

859 
	`KMP_DEBUG_ASSERT
(
node
->
dn
.
mtx_locks
[
i
] !ğ
NULL
);

860 
	`__kmp_»Ëa£_lock
(
node
->
dn
.
mtx_locks
[
i
], 
gtid
);

864 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
com¶‘e
 == 0);

865 
boŞ
 
d‘ach
 = 
çl£
;

866 ià(
skd©a
->
td_æags
.
d‘achabË
 =ğ
TASK_DETACHABLE
) {

867 ià(
skd©a
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 ==

868 
KMP_EVENT_ALLOW_COMPLETION
) {

870 
	`__kmp_acquœe_s_lock
(&
skd©a
->
td_®low_com¶‘iÚ_ev’t
.
lock
, 
gtid
);

871 ià(
skd©a
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 ==

872 
KMP_EVENT_ALLOW_COMPLETION
) {

873 
skd©a
->
td_æags
.
´oxy
 = 
TASK_PROXY
;

874 
d‘ach
 = 
Œue
;

876 
	`__kmp_»Ëa£_s_lock
(&
skd©a
->
td_®low_com¶‘iÚ_ev’t
.
lock
, 
gtid
);

879 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
¡¬‹d
 == 1);

880 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
ä“d
 == 0);

882 ià(!
d‘ach
) {

883 
skd©a
->
td_æags
.
com¶‘e
 = 1;

887 ià(!(
skd©a
->
td_æags
.
‹am_£rŸl
 ||askd©a->td_æags.
skšg_£r
)) {

889 
chd»n
 =

890 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_·»Á
->
td_šcom¶‘e_chd_sks
) - 1;

891 
	`KMP_DEBUG_ASSERT
(
chd»n
 >= 0);

892 ià(
skd©a
->
td_skgroup
)

893 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_skgroup
->
couÁ
);

894 
	`__kmp_»Ëa£_d•s
(
gtid
, 
skd©a
);

895 } ià(
sk_‹am
 &&ask_‹am->
‰
.
‰_found_´oxy_sks
) {

898 
	`__kmp_»Ëa£_d•s
(
gtid
, 
skd©a
);

905 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
executšg
 == 1);

906 
skd©a
->
td_æags
.
executšg
 = 0;

908 
	`KA_TRACE
(

910 
gtid
, 
skd©a
, 
chd»n
));

918 ià(
skd©a
->
td_æags
.
de¡ruùÜs_thunk
) {

919 
kmp_routše_’Œy_t
 
de¡r_thunk
 = 
sk
->
d©a1
.
de¡ruùÜs
;

920 
	`KMP_ASSERT
(
de¡r_thunk
);

921 
	`de¡r_thunk
(
gtid
, 
sk
);

926 
	`KMP_DEBUG_ASSERT
(

927 (
skd©a
->
td_æags
.
skšg_£r
 ||askd©a->td_æags.
sk_£rŸl
) ==

928 
skd©a
->
td_æags
.
sk_£rŸl
);

929 ià(
skd©a
->
td_æags
.
sk_£rŸl
) {

930 ià(
»sumed_sk
 =ğ
NULL
) {

931 
»sumed_sk
 = 
skd©a
->
td_·»Á
;

935 
	`KMP_DEBUG_ASSERT
(
»sumed_sk
 !=

936 
NULL
);

943 
th»ad
->
th
.
th_cu¼’t_sk
 = 
»sumed_sk
;

944 ià(!
d‘ach
)

945 
	`__kmp_ä“_sk_ªd_ªû¡Üs
(
gtid
, 
skd©a
, 
th»ad
);

949 
»sumed_sk
->
td_æags
.
executšg
 = 1;

951 
	`KA_TRACE
(

953 
gtid
, 
skd©a
, 
»sumed_sk
));

956 
	}
}

958 
	g‹m¶©e
 <
boŞ
 
	gom±
>

959 
	$__kmpc_omp_sk_com¶‘e_if0_‹m¶©e
(
id’t_t
 *
loc_»f
,

960 
kmp_št32
 
gtid
,

961 
kmp_sk_t
 *
sk
) {

962 
	`KA_TRACE
(10, ("__kmpc_omp_task_complete_if0(enter): T#%d†oc=%pask=%p\n",

963 
gtid
, 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

965 
__kmp_sk_fšish
<
om±
>(
gtid
, 
sk
, 
NULL
);

967 
	`KA_TRACE
(10, ("__kmpc_omp_task_complete_if0(exit): T#%d†oc=%pask=%p\n",

968 
gtid
, 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

970 #ià
OMPT_SUPPORT


971 ià(
om±
) {

972 
om±_äame_t
 *
om±_äame
;

973 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, NULL, &
om±_äame
, NULL, NULL);

974 
om±_äame
->
’‹r_äame
 = 
om±_d©a_nÚe
;

975 
om±_äame
->
’‹r_äame_æags
 = 
om±_äame_ruÁime
 | 
om±_äame_äam•oš‹r
;

980 
	}
}

982 #ià
OMPT_SUPPORT


983 
OMPT_NOINLINE


984 
	$__kmpc_omp_sk_com¶‘e_if0_om±
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

985 
kmp_sk_t
 *
sk
) {

986 
__kmpc_omp_sk_com¶‘e_if0_‹m¶©e
<
Œue
>(
loc_»f
, 
gtid
, 
sk
);

987 
	}
}

995 
	$__kmpc_omp_sk_com¶‘e_if0
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

996 
kmp_sk_t
 *
sk
) {

997 #ià
OMPT_SUPPORT


998 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

999 
	`__kmpc_omp_sk_com¶‘e_if0_om±
(
loc_»f
, 
gtid
, 
sk
);

1003 
__kmpc_omp_sk_com¶‘e_if0_‹m¶©e
<
çl£
>(
loc_»f
, 
gtid
, 
sk
);

1004 
	}
}

1006 #ifdeà
TASK_UNUSED


1009 
	$__kmpc_omp_sk_com¶‘e
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1010 
kmp_sk_t
 *
sk
) {

1011 
	`KA_TRACE
(10, ("__kmpc_omp_sk_com¶‘eÓÁ”): T#%d†oc=%°sk=%p\n", 
gtid
,

1012 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

1014 
__kmp_sk_fšish
<
çl£
>(
gtid
, 
sk
,

1015 
NULL
);

1017 
	`KA_TRACE
(10, ("__kmpc_omp_sk_com¶‘eÓx™): T#%d†oc=%°sk=%p\n", 
gtid
,

1018 
loc_»f
, 
	`KMP_TASK_TO_TASKDATA
(
sk
)));

1020 
	}
}

1034 
	$__kmp_š™_im¶ic™_sk
(
id’t_t
 *
loc_»f
, 
kmp_šfo_t
 *
this_thr
,

1035 
kmp_‹am_t
 *
‹am
, 
tid
, 
£t_cu¼_sk
) {

1036 
kmp_skd©a_t
 *
sk
 = &
‹am
->
t
.
t_im¶ic™_sk_skd©a
[
tid
];

1038 
	`KF_TRACE
(

1041 
tid
, 
‹am
, 
sk
, 
£t_cu¼_sk
 ? "TRUE" : "FALSE"));

1043 
sk
->
td_sk_id
 = 
	`KMP_GEN_TASK_ID
();

1044 
sk
->
td_‹am
 = 
‹am
;

1047 
sk
->
td_id’t
 = 
loc_»f
;

1048 
sk
->
td_skwa™_id’t
 = 
NULL
;

1049 
sk
->
td_skwa™_couÁ”
 = 0;

1050 
sk
->
td_skwa™_th»ad
 = 0;

1052 
sk
->
td_æags
.
t›dÃss
 = 
TASK_TIED
;

1053 
sk
->
td_æags
.
skty³
 = 
TASK_IMPLICIT
;

1054 
sk
->
td_æags
.
´oxy
 = 
TASK_FULL
;

1057 
sk
->
td_æags
.
sk_£rŸl
 = 1;

1058 
sk
->
td_æags
.
skšg_£r
 = (
__kmp_skšg_mode
 =ğ
tskm_immedŸ‹_exec
);

1059 
sk
->
td_æags
.
‹am_£rŸl
 = (
‹am
->
t
.
t_£rŸlized
) ? 1 : 0;

1061 
sk
->
td_æags
.
¡¬‹d
 = 1;

1062 
sk
->
td_æags
.
executšg
 = 1;

1063 
sk
->
td_æags
.
com¶‘e
 = 0;

1064 
sk
->
td_æags
.
ä“d
 = 0;

1066 
sk
->
td_d•node
 = 
NULL
;

1067 
sk
->
td_Ï¡_t›d
 =ask;

1068 
sk
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 = 
KMP_EVENT_UNINITIALIZED
;

1070 ià(
£t_cu¼_sk
) {

1071 
	`KMP_ATOMIC_ST_REL
(&
sk
->
td_šcom¶‘e_chd_sks
, 0);

1073 
	`KMP_ATOMIC_ST_REL
(&
sk
->
td_®loÿ‹d_chd_sks
, 0);

1074 
sk
->
td_skgroup
 = 
NULL
;

1075 
sk
->
td_d•hash
 = 
NULL
;

1076 
	`__kmp_push_cu¼’t_sk_to_th»ad
(
this_thr
, 
‹am
, 
tid
);

1078 
	`KMP_DEBUG_ASSERT
(
sk
->
td_šcom¶‘e_chd_sks
 == 0);

1079 
	`KMP_DEBUG_ASSERT
(
sk
->
td_®loÿ‹d_chd_sks
 == 0);

1082 #ià
OMPT_SUPPORT


1083 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

1084 
	`__om±_sk_š™
(
sk
, 
tid
);

1087 
	`KF_TRACE
(10, ("__kmp_š™_im¶ic™_skÓx™): T#:%d—m=%°sk=%p\n", 
tid
,

1088 
‹am
, 
sk
));

1089 
	}
}

1096 
	$__kmp_fšish_im¶ic™_sk
(
kmp_šfo_t
 *
th»ad
) {

1097 
kmp_skd©a_t
 *
sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

1098 ià(
sk
->
td_d•hash
) {

1099 
chd»n
;

1100 
sk
->
td_æags
.
com¶‘e
 = 1;

1101 
chd»n
 = 
	`KMP_ATOMIC_LD_ACQ
(&
sk
->
td_šcom¶‘e_chd_sks
);

1102 
kmp_skšg_æags_t
 
æags_Şd
 = 
sk
->
td_æags
;

1103 ià(
chd»n
 =ğ0 && 
æags_Şd
.
com¶‘e
 == 1) {

1104 
kmp_skšg_æags_t
 
æags_Ãw
 = 
æags_Şd
;

1105 
æags_Ãw
.
com¶‘e
 = 0;

1106 ià(
	`KMP_COMPARE_AND_STORE_ACQ32
(
	`RCAST
(
kmp_št32
 *, &
sk
->
td_æags
),

1107 *
	`RCAST
(
kmp_št32
 *, &
æags_Şd
),

1108 *
	`RCAST
(
kmp_št32
 *, &
æags_Ãw
))) {

1109 
	`KA_TRACE
(100, ("__kmp_finish_implicit_task: T#%d cleans "

1111 
th»ad
->
th
.
th_šfo
.
ds
.
ds_gtid
, 
sk
));

1112 
	`__kmp_d•hash_ä“_’Œ›s
(
th»ad
, 
sk
->
td_d•hash
);

1116 
	}
}

1122 
	$__kmp_ä“_im¶ic™_sk
(
kmp_šfo_t
 *
th»ad
) {

1123 
kmp_skd©a_t
 *
sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

1124 ià(
sk
 &&ask->
td_d•hash
) {

1125 
	`__kmp_d•hash_ä“
(
th»ad
, 
sk
->
td_d•hash
);

1126 
sk
->
td_d•hash
 = 
NULL
;

1128 
	}
}

1132 
size_t
 
	$__kmp_round_up_to_v®
(
size_t
 
size
, size_ˆ
v®
) {

1133 ià(
size
 & (
v®
 - 1)) {

1134 
size
 &ğ~(
v®
 - 1);

1135 ià(
size
 <ğ
KMP_SIZE_T_MAX
 - 
v®
) {

1136 
size
 +ğ
v®
;

1139  
size
;

1140 
	}
}

1154 
kmp_sk_t
 *
	$__kmp_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1155 
kmp_skšg_æags_t
 *
æags
,

1156 
size_t
 
sizeof_kmp_sk_t
, size_ˆ
sizeof_sh¬eds
,

1157 
kmp_routše_’Œy_t
 
sk_’Œy
) {

1158 
kmp_sk_t
 *
sk
;

1159 
kmp_skd©a_t
 *
skd©a
;

1160 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

1161 
kmp_‹am_t
 *
‹am
 = 
th»ad
->
th
.
th_‹am
;

1162 
kmp_skd©a_t
 *
·»Á_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

1163 
size_t
 
sh¬eds_off£t
;

1165 ià(!
	`TCR_4
(
__kmp_š™_middË
))

1166 
	`__kmp_middË_š™Ÿlize
();

1168 
	`KA_TRACE
(10, ("__kmp_task_alloc(enter): T#%d†oc=%p, flags=(0x%x) "

1170 
gtid
, 
loc_»f
, *((
kmp_št32
 *)
æags
), 
sizeof_kmp_sk_t
,

1171 
sizeof_sh¬eds
, 
sk_’Œy
));

1173 ià(
·»Á_sk
->
td_æags
.
fš®
) {

1174 ià(
æags
->
m”ged_if0
) {

1176 
æags
->
fš®
 = 1;

1178 ià(
æags
->
t›dÃss
 =ğ
TASK_UNTIED
 && !
‹am
->
t
.
t_£rŸlized
) {

1182 
	`KMP_CHECK_UPDATE
(
th»ad
->
th
.
th_sk_‹am
->
‰
.
‰_uÁ›d_sk_’couÁ”ed
, 1);

1188 ià(
æags
->
´oxy
 =ğ
TASK_PROXY
 || fÏgs->
d‘achabË
 =ğ
TASK_DETACHABLE
) {

1189 ià(
æags
->
´oxy
 =ğ
TASK_PROXY
) {

1190 
æags
->
t›dÃss
 = 
TASK_UNTIED
;

1191 
æags
->
m”ged_if0
 = 1;

1195 ià((
th»ad
->
th
.
th_sk_‹am
è=ğ
NULL
) {

1198 
	`KMP_DEBUG_ASSERT
(
‹am
->
t
.
t_£rŸlized
);

1199 
	`KA_TRACE
(30,

1201 
gtid
));

1202 
	`__kmp_sk_‹am_£tup
(

1203 
th»ad
, 
‹am
,

1205 
th»ad
->
th
.
th_sk_‹am
 = 
‹am
->
t
.
t_sk_‹am
[th»ad->th.
th_sk_¡©e
];

1207 
kmp_sk_‹am_t
 *
sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

1210 ià(!
	`KMP_TASKING_ENABLED
(
sk_‹am
)) {

1211 
	`KA_TRACE
(

1213 ("T#%dƒÇblšgaskšg iÀ__kmp_sk_®loøfÜ…roxyask\n", 
gtid
));

1214 
	`__kmp_’abË_skšg
(
sk_‹am
, 
th»ad
);

1215 
kmp_št32
 
tid
 = 
th»ad
->
th
.
th_šfo
.
ds
.
ds_tid
;

1216 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 = &
sk_‹am
->
‰
.
‰_th»ads_d©a
[
tid
];

1218 ià(
th»ad_d©a
->
td
.
td_deque
 =ğ
NULL
) {

1219 
	`__kmp_®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

1223 ià(
sk_‹am
->
‰
.
‰_found_´oxy_sks
 =ğ
FALSE
)

1224 
	`TCW_4
(
sk_‹am
->
‰
.
‰_found_´oxy_sks
, 
TRUE
);

1229 
sh¬eds_off£t
 = (
kmp_skd©a_t
è+ 
sizeof_kmp_sk_t
;

1230 
sh¬eds_off£t
 = 
	`__kmp_round_up_to_v®
(shareds_offset, (*));

1233 
	`KA_TRACE
(30, ("__kmp_sk_®loc: T#%d Fœ¡ m®loøsize: %ld\n", 
gtid
,

1234 
sh¬eds_off£t
));

1235 
	`KA_TRACE
(30, ("__kmp_sk_®loc: T#%d SecÚd m®loøsize: %ld\n", 
gtid
,

1236 
sizeof_sh¬eds
));

1239 #ià
USE_FAST_MEMORY


1240 
skd©a
 = (
kmp_skd©a_t
 *)
	`__kmp_ç¡_®loÿ‹
(
th»ad
, 
sh¬eds_off£t
 +

1241 
sizeof_sh¬eds
);

1243 
skd©a
 = (
kmp_skd©a_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, 
sh¬eds_off£t
 +

1244 
sizeof_sh¬eds
);

1246 
	`ANNOTATE_HAPPENS_AFTER
(
skd©a
);

1248 
sk
 = 
	`KMP_TASKDATA_TO_TASK
(
skd©a
);

1251 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_PPC64
 || !
KMP_HAVE_QUAD


1252 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
skd©a
) & (() - 1)) == 0);

1253 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
sk
) & (() - 1)) == 0);

1255 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
skd©a
è& ((
_Quad
) - 1)) == 0);

1256 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
sk
è& ((
_Quad
) - 1)) == 0);

1258 ià(
sizeof_sh¬eds
 > 0) {

1260 
sk
->
sh¬eds
 = &((*)
skd©a
)[
sh¬eds_off£t
];

1262 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
sk
->
sh¬eds
) & ((*) - 1)) ==

1265 
sk
->
sh¬eds
 = 
NULL
;

1267 
sk
->
routše
 = 
sk_’Œy
;

1268 
sk
->
·¹_id
 = 0;

1270 
skd©a
->
td_sk_id
 = 
	`KMP_GEN_TASK_ID
();

1271 
skd©a
->
td_‹am
 = 
‹am
;

1272 
skd©a
->
td_®loc_th»ad
 = 
th»ad
;

1273 
skd©a
->
td_·»Á
 = 
·»Á_sk
;

1274 
skd©a
->
td_Ëv–
 = 
·»Á_sk
->td_level + 1;

1275 
	`KMP_ATOMIC_ST_RLX
(&
skd©a
->
td_uÁ›d_couÁ
, 0);

1276 
skd©a
->
td_id’t
 = 
loc_»f
;

1277 
skd©a
->
td_skwa™_id’t
 = 
NULL
;

1278 
skd©a
->
td_skwa™_couÁ”
 = 0;

1279 
skd©a
->
td_skwa™_th»ad
 = 0;

1280 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_·»Á
 !ğ
NULL
);

1282 ià(
æags
->
´oxy
 =ğ
TASK_FULL
)

1283 
	`cİy_icvs
(&
skd©a
->
td_icvs
, &skd©a->
td_·»Á
->td_icvs);

1285 
skd©a
->
td_æags
.
t›dÃss
 = 
æags
->tiedness;

1286 
skd©a
->
td_æags
.
fš®
 = 
æags
->final;

1287 
skd©a
->
td_æags
.
m”ged_if0
 = 
æags
->merged_if0;

1288 
skd©a
->
td_æags
.
de¡ruùÜs_thunk
 = 
æags
->destructors_thunk;

1289 
skd©a
->
td_æags
.
´oxy
 = 
æags
->proxy;

1290 
skd©a
->
td_æags
.
d‘achabË
 = 
æags
->detachable;

1291 
skd©a
->
td_sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

1292 
skd©a
->
td_size_®loc
 = 
sh¬eds_off£t
 + 
sizeof_sh¬eds
;

1293 
skd©a
->
td_æags
.
skty³
 = 
TASK_EXPLICIT
;

1296 
skd©a
->
td_æags
.
skšg_£r
 = (
__kmp_skšg_mode
 =ğ
tskm_immedŸ‹_exec
);

1299 
skd©a
->
td_æags
.
‹am_£rŸl
 = (
‹am
->
t
.
t_£rŸlized
) ? 1 : 0;

1305 
skd©a
->
td_æags
.
sk_£rŸl
 =

1306 (
·»Á_sk
->
td_æags
.
fš®
 || 
skd©a
->td_æags.
‹am_£rŸl
 ||

1307 
skd©a
->
td_æags
.
skšg_£r
);

1309 
skd©a
->
td_æags
.
¡¬‹d
 = 0;

1310 
skd©a
->
td_æags
.
executšg
 = 0;

1311 
skd©a
->
td_æags
.
com¶‘e
 = 0;

1312 
skd©a
->
td_æags
.
ä“d
 = 0;

1314 
skd©a
->
td_æags
.
Çtive
 = 
æags
->native;

1316 
	`KMP_ATOMIC_ST_RLX
(&
skd©a
->
td_šcom¶‘e_chd_sks
, 0);

1318 
	`KMP_ATOMIC_ST_RLX
(&
skd©a
->
td_®loÿ‹d_chd_sks
, 1);

1319 
skd©a
->
td_skgroup
 =

1320 
·»Á_sk
->
td_skgroup
;

1321 
skd©a
->
td_d•hash
 = 
NULL
;

1322 
skd©a
->
td_d•node
 = 
NULL
;

1323 ià(
æags
->
t›dÃss
 =ğ
TASK_UNTIED
)

1324 
skd©a
->
td_Ï¡_t›d
 = 
NULL
;

1326 
skd©a
->
td_Ï¡_t›d
 =askdata;

1327 
skd©a
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 = 
KMP_EVENT_UNINITIALIZED
;

1328 #ià
OMPT_SUPPORT


1329 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

1330 
	`__om±_sk_š™
(
skd©a
, 
gtid
);

1334 ià(
æags
->
´oxy
 =ğ
TASK_PROXY
 ||

1335 
æags
->
d‘achabË
 =ğ
TASK_DETACHABLE
 ||

1336 !(
skd©a
->
td_æags
.
‹am_£rŸl
 ||askd©a->td_æags.
skšg_£r
))

1338 
	`KMP_ATOMIC_INC
(&
·»Á_sk
->
td_šcom¶‘e_chd_sks
);

1339 ià(
·»Á_sk
->
td_skgroup
)

1340 
	`KMP_ATOMIC_INC
(&
·»Á_sk
->
td_skgroup
->
couÁ
);

1343 ià(
skd©a
->
td_·»Á
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
) {

1344 
	`KMP_ATOMIC_INC
(&
skd©a
->
td_·»Á
->
td_®loÿ‹d_chd_sks
);

1348 
	`KA_TRACE
(20, ("__kmp_task_alloc(exit): T#%d createdask %p…arent=%p\n",

1349 
gtid
, 
skd©a
,askd©a->
td_·»Á
));

1350 
	`ANNOTATE_HAPPENS_BEFORE
(
sk
);

1352  
sk
;

1353 
	}
}

1355 
kmp_sk_t
 *
	$__kmpc_omp_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1356 
kmp_št32
 
æags
, 
size_t
 
sizeof_kmp_sk_t
,

1357 
size_t
 
sizeof_sh¬eds
,

1358 
kmp_routše_’Œy_t
 
sk_’Œy
) {

1359 
kmp_sk_t
 *
»tv®
;

1360 
kmp_skšg_æags_t
 *
šput_æags
 = (kmp_skšg_æags_ˆ*)&
æags
;

1362 
šput_æags
->
Çtive
 = 
FALSE
;

1365 
	`KA_TRACE
(10, ("__kmpc_omp_task_alloc(enter): T#%d†oc=%p, flags=(%s %s %s) "

1367 
gtid
, 
loc_»f
, 
šput_æags
->
t›dÃss
 ? "tied " : "untied",

1368 
šput_æags
->
´oxy
 ? "proxy" : "",

1369 
šput_æags
->
d‘achabË
 ? "d‘achabË" : "", 
sizeof_kmp_sk_t
,

1370 
sizeof_sh¬eds
, 
sk_’Œy
));

1372 
»tv®
 = 
	`__kmp_sk_®loc
(
loc_»f
, 
gtid
, 
šput_æags
, 
sizeof_kmp_sk_t
,

1373 
sizeof_sh¬eds
, 
sk_’Œy
);

1375 
	`KA_TRACE
(20, ("__kmpc_omp_sk_®locÓx™): T#%d„‘v® %p\n", 
gtid
, 
»tv®
));

1377  
»tv®
;

1378 
	}
}

1380 
kmp_sk_t
 *
	$__kmpc_omp_rg‘_sk_®loc
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1381 
kmp_št32
 
æags
,

1382 
size_t
 
sizeof_kmp_sk_t
,

1383 
size_t
 
sizeof_sh¬eds
,

1384 
kmp_routše_’Œy_t
 
sk_’Œy
,

1385 
kmp_št64
 
deviû_id
) {

1386  
	`__kmpc_omp_sk_®loc
(
loc_»f
, 
gtid
, 
æags
, 
sizeof_kmp_sk_t
,

1387 
sizeof_sh¬eds
, 
sk_’Œy
);

1388 
	}
}

1403 
kmp_št32


1404 
	$__kmpc_omp_»g_sk_w™h_affš™y
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1405 
kmp_sk_t
 *
Ãw_sk
, 
kmp_št32
 
Çffšs
,

1406 
kmp_sk_affš™y_šfo_t
 *
affš_li¡
) {

1408 
	}
}

1415 
	$__kmp_švoke_sk
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
sk
,

1416 
kmp_skd©a_t
 *
cu¼’t_sk
) {

1417 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

1418 
kmp_šfo_t
 *
th»ad
;

1419 
disÿrd
 = 0 ;

1420 
	`KA_TRACE
(

1422 
gtid
, 
skd©a
, 
cu¼’t_sk
));

1423 
	`KMP_DEBUG_ASSERT
(
sk
);

1424 ià(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
 &&

1425 
skd©a
->
td_æags
.
com¶‘e
 == 1) {

1428 
	`KA_TRACE
(

1431 
gtid
, 
skd©a
));

1433 
	`__kmp_bÙtom_h®f_fšish_´oxy
(
gtid
, 
sk
);

1435 
	`KA_TRACE
(30, ("__kmp_invoke_task(exit): T#%d completed bottom finish for "

1437 
gtid
, 
skd©a
, 
cu¼’t_sk
));

1442 #ià
OMPT_SUPPORT


1445 
om±_th»ad_šfo_t
 
ŞdInfo
;

1446 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1448 
th»ad
 = 
__kmp_th»ads
[
gtid
];

1449 
ŞdInfo
 = 
th»ad
->
th
.
om±_th»ad_šfo
;

1450 
th»ad
->
th
.
om±_th»ad_šfo
.
wa™_id
 = 0;

1451 
th»ad
->
th
.
om±_th»ad_šfo
.
¡©e
 = (th»ad->th.
th_‹am_£rŸlized
)

1452 ? 
om±_¡©e_wÜk_£rŸl


1453 : 
om±_¡©e_wÜk_·¿Î–
;

1454 
skd©a
->
om±_sk_šfo
.
äame
.
ex™_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1459 ià(
skd©a
->
td_æags
.
´oxy
 !ğ
TASK_PROXY
) {

1460 
	`ANNOTATE_HAPPENS_AFTER
(
sk
);

1461 
	`__kmp_sk_¡¬t
(
gtid
, 
sk
, 
cu¼’t_sk
);

1467 ià(
__kmp_omp_ÿnûÎ©iÚ
) {

1468 
th»ad
 = 
__kmp_th»ads
[
gtid
];

1469 
kmp_‹am_t
 *
this_‹am
 = 
th»ad
->
th
.
th_‹am
;

1470 
kmp_skgroup_t
 *
skgroup
 = 
skd©a
->
td_skgroup
;

1471 ià((
skgroup
 &&askgroup->
ÿnûl_»que¡
) ||

1472 (
this_‹am
->
t
.
t_ÿnûl_»que¡
 =ğ
ÿnûl_·¿Î–
)) {

1473 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1474 
om±_d©a_t
 *
sk_d©a
;

1475 ià(
	`UNLIKELY
(
om±_’abËd
.
om±_ÿÎback_ÿnûl
)) {

1476 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, NULL, NULL);

1477 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_ÿnûl
)(

1478 
sk_d©a
,

1479 ((
skgroup
 &&askgroup->
ÿnûl_»que¡
è? 
om±_ÿnûl_skgroup


1480 : 
om±_ÿnûl_·¿Î–
) |

1481 
om±_ÿnûl_disÿrded_sk
,

1482 
NULL
);

1485 
	`KMP_COUNT_BLOCK
(
TASK_ÿnûÎed
);

1487 
disÿrd
 = 1 ;

1493 ià(!
disÿrd
) {

1494 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_UNTIED
) {

1495 
skd©a
->
td_Ï¡_t›d
 = 
cu¼’t_sk
->td_last_tied;

1496 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_Ï¡_t›d
);

1498 #ià
KMP_STATS_ENABLED


1499 
	`KMP_COUNT_BLOCK
(
TASK_execu‹d
);

1500 
	`KMP_GET_THREAD_STATE
()) {

1501 
FORK_JOIN_BARRIER
:

1502 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_još_b¬
);

1504 
PLAIN_BARRIER
:

1505 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_¶aš_b¬
);

1507 
TASKYIELD
:

1508 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_sky›ld
);

1510 
TASKWAIT
:

1511 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_skwa™
);

1513 
TASKGROUP
:

1514 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_skgroup
);

1517 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_sk_immedŸ‹
);

1523 #ià
OMPT_SUPPORT


1524 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

1525 
	`__om±_sk_¡¬t
(
sk
, 
cu¼’t_sk
, 
gtid
);

1528 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


1529 
kmp_ušt64
 
cur_time
;

1530 
kmp_št32
 
kmp_™t_couÁ_sk
 =

1531 
__kmp_fÜkjoš_äames_mode
 =ğ3 && !
skd©a
->
td_æags
.
sk_£rŸl
 &&

1532 
cu¼’t_sk
->
td_æags
.
skty³
 =ğ
TASK_IMPLICIT
;

1533 ià(
kmp_™t_couÁ_sk
) {

1534 
th»ad
 = 
__kmp_th»ads
[
gtid
];

1536 ià(
th»ad
->
th
.
th_b¬_¬rive_time
)

1537 
cur_time
 = 
	`__™t_g‘_time¡amp
();

1539 
kmp_™t_couÁ_sk
 = 0;

1543 #ifdeà
KMP_GOMP_COMPAT


1544 ià(
skd©a
->
td_æags
.
Çtive
) {

1545 (((*)(*))(*(
sk
->
routše
)))Ñask->
sh¬eds
);

1549 (*(
sk
->
routše
))(
gtid
,ask);

1551 
	`KMP_POP_PARTITIONED_TIMER
();

1553 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


1554 ià(
kmp_™t_couÁ_sk
) {

1556 
th»ad
->
th
.
th_b¬_¬rive_time
 +ğ(
	`__™t_g‘_time¡amp
(è- 
cur_time
);

1564 ià(
skd©a
->
td_æags
.
´oxy
 !ğ
TASK_PROXY
) {

1565 
	`ANNOTATE_HAPPENS_BEFORE
(
skd©a
->
td_·»Á
);

1566 #ià
OMPT_SUPPORT


1567 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1568 
th»ad
->
th
.
om±_th»ad_šfo
 = 
ŞdInfo
;

1569 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_TIED
) {

1570 
skd©a
->
om±_sk_šfo
.
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

1572 
__kmp_sk_fšish
<
Œue
>(
gtid
, 
sk
, 
cu¼’t_sk
);

1575 
__kmp_sk_fšish
<
çl£
>(
gtid
, 
sk
, 
cu¼’t_sk
);

1578 
	`KA_TRACE
(

1581 
gtid
, 
skd©a
, 
cu¼’t_sk
));

1583 
	}
}

1595 
kmp_št32
 
	$__kmpc_omp_sk_·¹s
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1596 
kmp_sk_t
 *
Ãw_sk
) {

1597 
kmp_skd©a_t
 *
Ãw_skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
Ãw_sk
);

1599 
	`KA_TRACE
(10, ("__kmpc_omp_sk_·¹sÓÁ”): T#%d†oc=%°sk=%p\n", 
gtid
,

1600 
loc_»f
, 
Ãw_skd©a
));

1602 #ià
OMPT_SUPPORT


1603 
kmp_skd©a_t
 *
·»Á
;

1604 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1605 
·»Á
 = 
Ãw_skd©a
->
td_·»Á
;

1606 ià(
om±_’abËd
.
om±_ÿÎback_sk_ü—‹
) {

1607 
om±_d©a_t
 
sk_d©a
 = 
om±_d©a_nÚe
;

1608 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_ü—‹
)(

1609 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
sk_d©a
) : &task_data,

1610 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
äame
è: 
NULL
,

1611 &(
Ãw_skd©a
->
om±_sk_šfo
.
sk_d©a
), 
om±_sk_ex¶ic™
, 0,

1612 
	`OMPT_GET_RETURN_ADDRESS
(0));

1620 ià(
	`__kmp_push_sk
(
gtid
, 
Ãw_sk
è=ğ
TASK_NOT_PUSHED
)

1622 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

1623 
Ãw_skd©a
->
td_æags
.
sk_£rŸl
 = 1;

1624 
	`__kmp_švoke_sk
(
gtid
, 
Ãw_sk
, 
cu¼’t_sk
);

1627 
	`KA_TRACE
(

1631 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

1633 
	`ANNOTATE_HAPPENS_BEFORE
(
Ãw_sk
);

1634 #ià
OMPT_SUPPORT


1635 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1636 
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

1639  
TASK_CURRENT_NOT_QUEUED
;

1640 
	}
}

1653 
kmp_št32
 
	$__kmp_omp_sk
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
Ãw_sk
,

1654 
boŞ
 
£rŸlize_immedŸ‹
) {

1655 
kmp_skd©a_t
 *
Ãw_skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
Ãw_sk
);

1659 ià(
Ãw_skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
 ||

1660 
	`__kmp_push_sk
(
gtid
, 
Ãw_sk
è=ğ
TASK_NOT_PUSHED
)

1662 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

1663 ià(
£rŸlize_immedŸ‹
)

1664 
Ãw_skd©a
->
td_æags
.
sk_£rŸl
 = 1;

1665 
	`__kmp_švoke_sk
(
gtid
, 
Ãw_sk
, 
cu¼’t_sk
);

1668 
	`ANNOTATE_HAPPENS_BEFORE
(
Ãw_sk
);

1669  
TASK_CURRENT_NOT_QUEUED
;

1670 
	}
}

1684 
kmp_št32
 
	$__kmpc_omp_sk
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1685 
kmp_sk_t
 *
Ãw_sk
) {

1686 
kmp_št32
 
»s
;

1687 
	`KMP_SET_THREAD_STATE_BLOCK
(
EXPLICIT_TASK
);

1689 #ià
KMP_DEBUG
 || 
OMPT_SUPPORT


1690 
kmp_skd©a_t
 *
Ãw_skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
Ãw_sk
);

1692 
	`KA_TRACE
(10, ("__kmpc_omp_skÓÁ”): T#%d†oc=%°sk=%p\n", 
gtid
, 
loc_»f
,

1693 
Ãw_skd©a
));

1695 #ià
OMPT_SUPPORT


1696 
kmp_skd©a_t
 *
·»Á
 = 
NULL
;

1697 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1698 ià(!
Ãw_skd©a
->
td_æags
.
¡¬‹d
) {

1699 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1700 
·»Á
 = 
Ãw_skd©a
->
td_·»Á
;

1701 ià(!
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
) {

1702 
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1704 ià(
om±_’abËd
.
om±_ÿÎback_sk_ü—‹
) {

1705 
om±_d©a_t
 
sk_d©a
 = 
om±_d©a_nÚe
;

1706 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_ü—‹
)(

1707 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
sk_d©a
) : &task_data,

1708 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
äame
è: 
NULL
,

1709 &(
Ãw_skd©a
->
om±_sk_šfo
.
sk_d©a
),

1710 
om±_sk_ex¶ic™
 | 
	`TASK_TYPE_DETAILS_FORMAT
(
Ãw_skd©a
), 0,

1711 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

1716 
	`__om±_sk_fšish
(
Ãw_sk
,

1717 
Ãw_skd©a
->
om±_sk_šfo
.
schedulšg_·»Á
,

1718 
om±_sk_sw™ch
);

1719 
Ãw_skd©a
->
om±_sk_šfo
.
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

1724 
»s
 = 
	`__kmp_omp_sk
(
gtid
, 
Ãw_sk
, 
Œue
);

1726 
	`KA_TRACE
(10, ("__kmpc_omp_task(exit): T#%d„eturning "

1728 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

1729 #ià
OMPT_SUPPORT


1730 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
 && 
·»Á
 !ğ
NULL
)) {

1731 
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

1734  
»s
;

1735 
	}
}

1750 
kmp_št32
 
	$__kmp_omp_skloİ_sk
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1751 
kmp_sk_t
 *
Ãw_sk
, *
cod•Œ_¿
) {

1752 
kmp_št32
 
»s
;

1753 
	`KMP_SET_THREAD_STATE_BLOCK
(
EXPLICIT_TASK
);

1755 #ià
KMP_DEBUG
 || 
OMPT_SUPPORT


1756 
kmp_skd©a_t
 *
Ãw_skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
Ãw_sk
);

1758 
	`KA_TRACE
(10, ("__kmpc_omp_skÓÁ”): T#%d†oc=%°sk=%p\n", 
gtid
, 
loc_»f
,

1759 
Ãw_skd©a
));

1761 #ià
OMPT_SUPPORT


1762 
kmp_skd©a_t
 *
·»Á
 = 
NULL
;

1763 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
 && !
Ãw_skd©a
->
td_æags
.
¡¬‹d
)) {

1764 
·»Á
 = 
Ãw_skd©a
->
td_·»Á
;

1765 ià(!
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
)

1766 
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 = 
	`OMPT_GET_FRAME_ADDRESS
(0);

1767 ià(
om±_’abËd
.
om±_ÿÎback_sk_ü—‹
) {

1768 
om±_d©a_t
 
sk_d©a
 = 
om±_d©a_nÚe
;

1769 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sk_ü—‹
)(

1770 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
sk_d©a
) : &task_data,

1771 
·»Á
 ? &Õ¬’t->
om±_sk_šfo
.
äame
è: 
NULL
,

1772 &(
Ãw_skd©a
->
om±_sk_šfo
.
sk_d©a
),

1773 
om±_sk_ex¶ic™
 | 
	`TASK_TYPE_DETAILS_FORMAT
(
Ãw_skd©a
), 0,

1774 
cod•Œ_¿
);

1779 
»s
 = 
	`__kmp_omp_sk
(
gtid
, 
Ãw_sk
, 
Œue
);

1781 
	`KA_TRACE
(10, ("__kmpc_omp_task(exit): T#%d„eturning "

1783 
gtid
, 
loc_»f
, 
Ãw_skd©a
));

1784 #ià
OMPT_SUPPORT


1785 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
 && 
·»Á
 !ğ
NULL
)) {

1786 
·»Á
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

1789  
»s
;

1790 
	}
}

1792 
	g‹m¶©e
 <
boŞ
 
	gom±
>

1793 
kmp_št32
 
	$__kmpc_omp_skwa™_‹m¶©e
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1794 *
äame_add»ss
,

1795 *
»tuº_add»ss
) {

1796 
kmp_skd©a_t
 *
skd©a
;

1797 
kmp_šfo_t
 *
th»ad
;

1798 
th»ad_fšished
 = 
FALSE
;

1799 
	`KMP_SET_THREAD_STATE_BLOCK
(
TASKWAIT
);

1801 
	`KA_TRACE
(10, ("__kmpc_omp_skwa™ÓÁ”): T#%d†oc=%p\n", 
gtid
, 
loc_»f
));

1803 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

1804 
th»ad
 = 
__kmp_th»ads
[
gtid
];

1805 
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

1807 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1808 
om±_d©a_t
 *
my_sk_d©a
;

1809 
om±_d©a_t
 *
my_·¿Î–_d©a
;

1811 ià(
om±
) {

1812 
my_sk_d©a
 = &(
skd©a
->
om±_sk_šfo
.
sk_d©a
);

1813 
my_·¿Î–_d©a
 = 
	`OMPT_CUR_TEAM_DATA
(
th»ad
);

1815 
skd©a
->
om±_sk_šfo
.
äame
.
’‹r_äame
.
±r
 = 
äame_add»ss
;

1817 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

1818 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

1819 
om±_sync_»giÚ_skwa™
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
,

1820 
my_sk_d©a
, 
»tuº_add»ss
);

1823 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

1824 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

1825 
om±_sync_»giÚ_skwa™
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
,

1826 
my_sk_d©a
, 
»tuº_add»ss
);

1833 #ià
USE_ITT_BUILD


1836 
skd©a
->
td_skwa™_couÁ”
 += 1;

1837 
skd©a
->
td_skwa™_id’t
 = 
loc_»f
;

1838 
skd©a
->
td_skwa™_th»ad
 = 
gtid
 + 1;

1840 #ià
USE_ITT_BUILD


1841 *
™t_sync_obj
 = 
	`__kmp_™t_skwa™_objeù
(
gtid
);

1842 ià(
™t_sync_obj
 !ğ
NULL
)

1843 
	`__kmp_™t_skwa™_¡¬tšg
(
gtid
, 
™t_sync_obj
);

1846 
boŞ
 
mu¡_wa™
 =

1847 !
skd©a
->
td_æags
.
‹am_£rŸl
 && !skd©a->td_æags.
fš®
;

1849 
mu¡_wa™
 = mu¡_wa™ || (
th»ad
->
th
.
th_sk_‹am
 !ğ
NULL
 &&

1850 
th»ad
->
th
.
th_sk_‹am
->
‰
.
‰_found_´oxy_sks
);

1851 ià(
mu¡_wa™
) {

1852 
kmp_æag_32
 
	`æag
(
	`RCAST
(
¡d
::
©omic
<
kmp_ušt32
> *,

1853 &(
skd©a
->
td_šcom¶‘e_chd_sks
)),

1855 
	`KMP_ATOMIC_LD_ACQ
(&
skd©a
->
td_šcom¶‘e_chd_sks
) != 0) {

1856 
æag
.
	`execu‹_sks
(
th»ad
, 
gtid
, 
FALSE
,

1857 &
th»ad_fšished
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
),

1858 
__kmp_sk_¡—lšg_cÚ¡¿št
);

1861 #ià
USE_ITT_BUILD


1862 ià(
™t_sync_obj
 !ğ
NULL
)

1863 
	`__kmp_™t_skwa™_fšished
(
gtid
, 
™t_sync_obj
);

1868 
skd©a
->
td_skwa™_th»ad
 = -taskdata->td_taskwait_thread;

1870 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1871 ià(
om±
) {

1872 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

1873 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

1874 
om±_sync_»giÚ_skwa™
, 
om±_scİe_’d
, 
my_·¿Î–_d©a
,

1875 
my_sk_d©a
, 
»tuº_add»ss
);

1877 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

1878 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

1879 
om±_sync_»giÚ_skwa™
, 
om±_scİe_’d
, 
my_·¿Î–_d©a
,

1880 
my_sk_d©a
, 
»tuº_add»ss
);

1882 
skd©a
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

1886 
	`ANNOTATE_HAPPENS_AFTER
(
skd©a
);

1889 
	`KA_TRACE
(10, ("__kmpc_omp_taskwait(exit): T#%dask %p finished waiting, "

1891 
gtid
, 
skd©a
));

1893  
TASK_CURRENT_NOT_QUEUED
;

1894 
	}
}

1896 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1897 
OMPT_NOINLINE


1898 
kmp_št32
 
	$__kmpc_omp_skwa™_om±
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
,

1899 *
äame_add»ss
,

1900 *
»tuº_add»ss
) {

1901  
__kmpc_omp_skwa™_‹m¶©e
<
Œue
>(
loc_»f
, 
gtid
, 
äame_add»ss
,

1902 
»tuº_add»ss
);

1903 
	}
}

1908 
kmp_št32
 
	$__kmpc_omp_skwa™
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
) {

1909 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


1910 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

1911 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

1912  
	`__kmpc_omp_skwa™_om±
(
loc_»f
, 
gtid
, 
	`OMPT_GET_FRAME_ADDRESS
(0),

1913 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
));

1916  
__kmpc_omp_skwa™_‹m¶©e
<
çl£
>(
loc_»f
, 
gtid
, 
NULL
, NULL);

1917 
	}
}

1920 
kmp_št32
 
	$__kmpc_omp_sky›ld
(
id’t_t
 *
loc_»f
, 
kmp_št32
 
gtid
, 
’d_·¹
) {

1921 
kmp_skd©a_t
 *
skd©a
;

1922 
kmp_šfo_t
 *
th»ad
;

1923 
th»ad_fšished
 = 
FALSE
;

1925 
	`KMP_COUNT_BLOCK
(
OMP_TASKYIELD
);

1926 
	`KMP_SET_THREAD_STATE_BLOCK
(
TASKYIELD
);

1928 
	`KA_TRACE
(10, ("__kmpc_omp_taskyield(enter): T#%d†oc=%pƒnd_part = %d\n",

1929 
gtid
, 
loc_»f
, 
’d_·¹
));

1931 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
 && 
__kmp_š™_·¿Î–
) {

1932 
th»ad
 = 
__kmp_th»ads
[
gtid
];

1933 
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

1937 #ià
USE_ITT_BUILD


1940 
skd©a
->
td_skwa™_couÁ”
 += 1;

1941 
skd©a
->
td_skwa™_id’t
 = 
loc_»f
;

1942 
skd©a
->
td_skwa™_th»ad
 = 
gtid
 + 1;

1944 #ià
USE_ITT_BUILD


1945 *
™t_sync_obj
 = 
	`__kmp_™t_skwa™_objeù
(
gtid
);

1946 ià(
™t_sync_obj
 !ğ
NULL
)

1947 
	`__kmp_™t_skwa™_¡¬tšg
(
gtid
, 
™t_sync_obj
);

1949 ià(!
skd©a
->
td_æags
.
‹am_£rŸl
) {

1950 
kmp_sk_‹am_t
 *
sk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

1951 ià(
sk_‹am
 !ğ
NULL
) {

1952 ià(
	`KMP_TASKING_ENABLED
(
sk_‹am
)) {

1953 #ià
OMPT_SUPPORT


1954 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

1955 
th»ad
->
th
.
om±_th»ad_šfo
.
om±_sk_y›lded
 = 1;

1957 
	`__kmp_execu‹_sks_32
(

1958 
th»ad
, 
gtid
, 
NULL
, 
FALSE
,

1959 &
th»ad_fšished
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
),

1960 
__kmp_sk_¡—lšg_cÚ¡¿št
);

1961 #ià
OMPT_SUPPORT


1962 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

1963 
th»ad
->
th
.
om±_th»ad_šfo
.
om±_sk_y›lded
 = 0;

1968 #ià
USE_ITT_BUILD


1969 ià(
™t_sync_obj
 !ğ
NULL
)

1970 
	`__kmp_™t_skwa™_fšished
(
gtid
, 
™t_sync_obj
);

1975 
skd©a
->
td_skwa™_th»ad
 = -taskdata->td_taskwait_thread;

1978 
	`KA_TRACE
(10, ("__kmpc_omp_taskyield(exit): T#%dask %p„esuming, "

1980 
gtid
, 
skd©a
));

1982  
TASK_CURRENT_NOT_QUEUED
;

1983 
	}
}

2000 
	skmp_sk»d_æags
 {

2002 
	mÏzy_´iv
 : 1;

2003 
	m»£rved31
 : 31;

2004 } 
	tkmp_sk»d_æags_t
;

2009 
	skmp_sk_»d_šput
 {

2010 *
	m»duû_sh¬
;

2011 
size_t
 
	m»duû_size
;

2013 *
	m»duû_š™
;

2014 *
	m»duû_fši
;

2015 *
	m»duû_comb
;

2016 
kmp_sk»d_æags_t
 
	mæags
;

2017 } 
	tkmp_sk_»d_šput_t
;

2022 
	skmp_sk»d_d©a
 {

2023 *
	m»duû_sh¬
;

2024 
size_t
 
	m»duû_size
;

2025 
kmp_sk»d_æags_t
 
	mæags
;

2026 *
	m»duû_´iv
;

2027 *
	m»duû_³nd
;

2029 *
	m»duû_comb
;

2030 *
	m»duû_š™
;

2031 *
	m»duû_fši
;

2032 *
	m»duû_Üig
;

2033 } 
	tkmp_sk»d_d©a_t
;

2040 
	skmp_sk»d_šput
 {

2041 *
	m»duû_sh¬
;

2042 *
	m»duû_Üig
;

2043 
size_t
 
	m»duû_size
;

2045 *
	m»duû_š™
;

2046 *
	m»duû_fši
;

2047 *
	m»duû_comb
;

2048 
kmp_sk»d_æags_t
 
	mæags
;

2049 } 
	tkmp_sk»d_šput_t
;

2054 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
__kmp_assign_Üig
(
kmp_sk»d_d©a_t
 &
™em
, 
T
 &
¤c
);

2055 
	g‹m¶©e
 <>

2056 
	g__kmp_assign_Üig
<
	gkmp_sk_»d_šput_t
>(
	gkmp_sk»d_d©a_t
 &
	g™em
,

2057 
	gkmp_sk_»d_šput_t
 &
	g¤c
) {

2058 
	g™em
.
	g»duû_Üig
 = 
NULL
;

2060 
	g‹m¶©e
 <>

2061 
	g__kmp_assign_Üig
<
	gkmp_sk»d_šput_t
>(
	gkmp_sk»d_d©a_t
 &
	g™em
,

2062 
	gkmp_sk»d_šput_t
 &
	g¤c
) {

2063 ià(
	g¤c
.
	g»duû_Üig
 !ğ
NULL
) {

2064 
™em
.
»duû_Üig
 = 
¤c
.reduce_orig;

2066 
	g™em
.
	g»duû_Üig
 = 
¤c
.
»duû_sh¬
;

2070 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
__kmp_ÿÎ_š™
(
kmp_sk»d_d©a_t
 &
™em
, 
j
);

2071 
	g‹m¶©e
 <>

2072 
	g__kmp_ÿÎ_š™
<
	gkmp_sk_»d_šput_t
>(
	gkmp_sk»d_d©a_t
 &
	g™em
,

2073 
	goff£t
) {

2074 (((*)(*))
	g™em
.
	g»duû_š™
)((*)(™em.
	g»duû_´iv
è+ 
	goff£t
);

2076 
	g‹m¶©e
 <>

2077 
	g__kmp_ÿÎ_š™
<
	gkmp_sk»d_šput_t
>(
	gkmp_sk»d_d©a_t
 &
	g™em
,

2078 
	goff£t
) {

2079 (((*)(*, *))
	g™em
.
	g»duû_š™
)(

2080 (*)(
	g™em
.
	g»duû_´iv
è+ 
	goff£t
, i‹m.
	g»duû_Üig
);

2083 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2084 *
	$__kmp_sk_»duùiÚ_š™
(
gtid
, 
num
, 
T
 *
d©a
) {

2085 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

2086 
kmp_skgroup_t
 *
tg
 = 
th»ad
->
th
.
th_cu¼’t_sk
->
td_skgroup
;

2087 
kmp_št32
 
Áh
 = 
th»ad
->
th
.
th_‹am_Åroc
;

2088 
kmp_sk»d_d©a_t
 *
¬r
;

2091 
	`KMP_ASSERT
(
tg
 !ğ
NULL
);

2092 
	`KMP_ASSERT
(
d©a
 !ğ
NULL
);

2093 
	`KMP_ASSERT
(
num
 > 0);

2094 ià(
Áh
 == 1) {

2095 
	`KA_TRACE
(10, ("__kmpc_task_reduction_init: T#%d,g %p,ƒxiting‚th=1\n",

2096 
gtid
, 
tg
));

2097  (*)
tg
;

2099 
	`KA_TRACE
(10, ("__kmpc_task_reduction_init: T#%d,askgroup %p, #items %d\n",

2100 
gtid
, 
tg
, 
num
));

2101 
¬r
 = (
kmp_sk»d_d©a_t
 *)
	`__kmp_th»ad_m®loc
(

2102 
th»ad
, 
num
 * (
kmp_sk»d_d©a_t
));

2103 
i
 = 0; i < 
num
; ++i) {

2104 
size_t
 
size
 = 
d©a
[
i
].
»duû_size
 - 1;

2106 
size
 +ğ
CACHE_LINE
 - size % CACHE_LINE;

2107 
	`KMP_ASSERT
(
d©a
[
i
].
»duû_comb
 !ğ
NULL
);

2108 
¬r
[
i
].
»duû_sh¬
 = 
d©a
[i].reduce_shar;

2109 
¬r
[
i
].
»duû_size
 = 
size
;

2110 
¬r
[
i
].
æags
 = 
d©a
[i].flags;

2111 
¬r
[
i
].
»duû_comb
 = 
d©a
[i].reduce_comb;

2112 
¬r
[
i
].
»duû_š™
 = 
d©a
[i].reduce_init;

2113 
¬r
[
i
].
»duû_fši
 = 
d©a
[i].reduce_fini;

2114 
__kmp_assign_Üig
<
T
>(
¬r
[
i
], 
d©a
[i]);

2115 ià(!
¬r
[
i
].
æags
.
Ïzy_´iv
) {

2117 
¬r
[
i
].
»duû_´iv
 = 
	`__kmp_®loÿ‹
(
Áh
 * 
size
);

2118 
¬r
[
i
].
»duû_³nd
 = (*)×¼[i].
»duû_´iv
è+ 
Áh
 * 
size
;

2119 ià(
¬r
[
i
].
»duû_š™
 !ğ
NULL
) {

2121 
j
 = 0; j < 
Áh
; ++j) {

2122 
__kmp_ÿÎ_š™
<
T
>(
¬r
[
i
], 
j
 * 
size
);

2129 
¬r
[
i
].
»duû_´iv
 = 
	`__kmp_®loÿ‹
(
Áh
 * (*));

2132 
tg
->
»duû_d©a
 = (*)
¬r
;

2133 
tg
->
»duû_num_d©a
 = 
num
;

2134  (*)
tg
;

2135 
	}
}

2151 *
	$__kmpc_sk_»duùiÚ_š™
(
gtid
, 
num
, *
d©a
) {

2152  
	`__kmp_sk_»duùiÚ_š™
(
gtid
, 
num
, (
kmp_sk_»d_šput_t
 *)
d©a
);

2153 
	}
}

2167 *
	$__kmpc_sk»d_š™
(
gtid
, 
num
, *
d©a
) {

2168  
	`__kmp_sk_»duùiÚ_š™
(
gtid
, 
num
, (
kmp_sk»d_šput_t
 *)
d©a
);

2169 
	}
}

2172 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2173 
	$__kmp_sk_»duùiÚ_š™_cİy
(
kmp_šfo_t
 *
thr
, 
num
, 
T
 *
d©a
,

2174 
kmp_skgroup_t
 *
tg
, *
»duû_d©a
) {

2175 
kmp_sk»d_d©a_t
 *
¬r
;

2176 
	`KA_TRACE
(20, ("__kmp_task_reduction_init_copy: Th %p, initaskgroup %p,"

2178 
thr
, 
tg
, 
»duû_d©a
));

2179 
¬r
 = (
kmp_sk»d_d©a_t
 *)
	`__kmp_th»ad_m®loc
(

2180 
thr
, 
num
 * (
kmp_sk»d_d©a_t
));

2182 
	`KMP_MEMCPY
(
¬r
, 
»duû_d©a
, 
num
 * (
kmp_sk»d_d©a_t
));

2183 
i
 = 0; i < 
num
; ++i) {

2184 
¬r
[
i
].
»duû_sh¬
 = 
d©a
[i].reduce_shar;

2186 
tg
->
»duû_d©a
 = (*)
¬r
;

2187 
tg
->
»duû_num_d©a
 = 
num
;

2188 
	}
}

2199 *
	$__kmpc_sk_»duùiÚ_g‘_th_d©a
(
gtid
, *
tskg½
, *
d©a
) {

2200 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

2201 
kmp_št32
 
Áh
 = 
th»ad
->
th
.
th_‹am_Åroc
;

2202 ià(
Áh
 == 1)

2203  
d©a
;

2205 
kmp_skgroup_t
 *
tg
 = (kmp_skgroup_ˆ*)
tskg½
;

2206 ià(
tg
 =ğ
NULL
)

2207 
tg
 = 
th»ad
->
th
.
th_cu¼’t_sk
->
td_skgroup
;

2208 
	`KMP_ASSERT
(
tg
 !ğ
NULL
);

2209 
kmp_sk»d_d©a_t
 *
¬r
 = (kmp_sk»d_d©a_ˆ*)(
tg
->
»duû_d©a
);

2210 
kmp_št32
 
num
 = 
tg
->
»duû_num_d©a
;

2211 
kmp_št32
 
tid
 = 
th»ad
->
th
.
th_šfo
.
ds
.
ds_tid
;

2213 
	`KMP_ASSERT
(
d©a
 !ğ
NULL
);

2214 
tg
 !ğ
NULL
) {

2215 
i
 = 0; i < 
num
; ++i) {

2216 ià(!
¬r
[
i
].
æags
.
Ïzy_´iv
) {

2217 ià(
d©a
 =ğ
¬r
[
i
].
»duû_sh¬
 ||

2218 (
d©a
 >ğ
¬r
[
i
].
»duû_´iv
 && d©¨<‡¼[i].
»duû_³nd
))

2219  (*)(
¬r
[
i
].
»duû_´iv
è+ 
tid
 *‡¼[i].
»duû_size
;

2222 **
p_´iv
 = (**)(
¬r
[
i
].
»duû_´iv
);

2223 ià(
d©a
 =ğ
¬r
[
i
].
»duû_sh¬
)

2224 
found
;

2226 
j
 = 0; j < 
Áh
; ++j)

2227 ià(
d©a
 =ğ
p_´iv
[
j
])

2228 
found
;

2230 
found
:

2231 ià(
p_´iv
[
tid
] =ğ
NULL
) {

2233 
p_´iv
[
tid
] = 
	`__kmp_®loÿ‹
(
¬r
[
i
].
»duû_size
);

2234 ià(
¬r
[
i
].
»duû_š™
 !ğ
NULL
) {

2235 ià(
¬r
[
i
].
»duû_Üig
 !ğ
NULL
) {

2236 (((*)(*, *))
¬r
[
i
].
»duû_š™
)(

2237 
p_´iv
[
tid
], 
¬r
[
i
].
»duû_Üig
);

2239 (((*)(*))
¬r
[
i
].
»duû_š™
)(
p_´iv
[
tid
]);

2243  
p_´iv
[
tid
];

2246 
tg
 =g->
·»Á
;

2247 
¬r
 = (
kmp_sk»d_d©a_t
 *)(
tg
->
»duû_d©a
);

2248 
num
 = 
tg
->
»duû_num_d©a
;

2250 
	`KMP_ASSERT2
(0, "Unknownask„eduction item");

2251  
NULL
;

2252 
	}
}

2256 
	$__kmp_sk_»duùiÚ_fši
(
kmp_šfo_t
 *
th
, 
kmp_skgroup_t
 *
tg
) {

2257 
kmp_št32
 
Áh
 = 
th
->th.
th_‹am_Åroc
;

2258 
	`KMP_DEBUG_ASSERT
(
Áh
 > 1);

2259 
kmp_sk»d_d©a_t
 *
¬r
 = (kmp_sk»d_d©a_ˆ*)
tg
->
»duû_d©a
;

2260 
kmp_št32
 
num
 = 
tg
->
»duû_num_d©a
;

2261 
i
 = 0; i < 
num
; ++i) {

2262 *
sh_d©a
 = 
¬r
[
i
].
»duû_sh¬
;

2263 (*
f_fši
)(*èğ((*)(*))(
¬r
[
i
].
»duû_fši
);

2264 (*
f_comb
)(*, *) =

2265 ((*)(*, *))(
¬r
[
i
].
»duû_comb
);

2266 ià(!
¬r
[
i
].
æags
.
Ïzy_´iv
) {

2267 *
´_d©a
 = 
¬r
[
i
].
»duû_´iv
;

2268 
size_t
 
size
 = 
¬r
[
i
].
»duû_size
;

2269 
j
 = 0; j < 
Áh
; ++j) {

2270 *
´iv_d©a
 = (*)
´_d©a
 + 
j
 * 
size
;

2271 
	`f_comb
(
sh_d©a
, 
´iv_d©a
);

2272 ià(
f_fši
)

2273 
	`f_fši
(
´iv_d©a
);

2276 **
´_d©a
 = (**)(
¬r
[
i
].
»duû_´iv
);

2277 
j
 = 0; j < 
Áh
; ++j) {

2278 ià(
´_d©a
[
j
] !ğ
NULL
) {

2279 
	`f_comb
(
sh_d©a
, 
´_d©a
[
j
]);

2280 ià(
f_fši
)

2281 
	`f_fši
(
´_d©a
[
j
]);

2282 
	`__kmp_ä“
(
´_d©a
[
j
]);

2286 
	`__kmp_ä“
(
¬r
[
i
].
»duû_´iv
);

2288 
	`__kmp_th»ad_ä“
(
th
, 
¬r
);

2289 
tg
->
»duû_d©a
 = 
NULL
;

2290 
tg
->
»duû_num_d©a
 = 0;

2291 
	}
}

2296 
	$__kmp_sk_»duùiÚ_ş—n
(
kmp_šfo_t
 *
th
, 
kmp_skgroup_t
 *
tg
) {

2297 
	`__kmp_th»ad_ä“
(
th
, 
tg
->
»duû_d©a
);

2298 
tg
->
»duû_d©a
 = 
NULL
;

2299 
tg
->
»duû_num_d©a
 = 0;

2300 
	}
}

2302 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2303 *
	$__kmp_sk_»duùiÚ_modif›r_š™
(
id’t_t
 *
loc
, 
gtid
, 
is_ws
,

2304 
num
, 
T
 *
d©a
) {

2305 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

2306 
kmp_št32
 
Áh
 = 
thr
->
th
.
th_‹am_Åroc
;

2307 
	`__kmpc_skgroup
(
loc
, 
gtid
);

2308 ià(
Áh
 == 1) {

2309 
	`KA_TRACE
(10,

2311 
gtid
, 
thr
->
th
.
th_cu¼’t_sk
->
td_skgroup
));

2312  (*)
thr
->
th
.
th_cu¼’t_sk
->
td_skgroup
;

2314 
kmp_‹am_t
 *
‹am
 = 
thr
->
th
.
th_‹am
;

2315 *
»duû_d©a
;

2316 
kmp_skgroup_t
 *
tg
;

2317 
»duû_d©a
 = 
	`KMP_ATOMIC_LD_RLX
(&
‹am
->
t
.
t_tg_»duû_d©a
[
is_ws
]);

2318 ià(
»duû_d©a
 =ğ
NULL
 &&

2319 
	`__kmp_©omic_com·»_¡Üe
(&
‹am
->
t
.
t_tg_»duû_d©a
[
is_ws
], 
»duû_d©a
,

2322 
	`KMP_DEBUG_ASSERT
(
»duû_d©a
 =ğ
NULL
);

2324 
tg
 = (
kmp_skgroup_t
 *)
__kmp_sk_»duùiÚ_š™
<
T
>(
gtid
, 
num
, 
d©a
);

2325 
»duû_d©a
 = 
	`__kmp_th»ad_m®loc
(
thr
, 
num
 * (
kmp_sk»d_d©a_t
));

2326 
	`KMP_MEMCPY
(
»duû_d©a
, 
tg
->»duû_d©a, 
num
 * (
kmp_sk»d_d©a_t
));

2328 
	`KMP_DEBUG_ASSERT
(
	`KMP_ATOMIC_LD_RLX
(&
‹am
->
t
.
t_tg_fši_couÁ”
[0]) == 0);

2329 
	`KMP_DEBUG_ASSERT
(
	`KMP_ATOMIC_LD_RLX
(&
‹am
->
t
.
t_tg_fši_couÁ”
[1]) == 0);

2330 
	`KMP_ATOMIC_ST_REL
(&
‹am
->
t
.
t_tg_»duû_d©a
[
is_ws
], 
»duû_d©a
);

2333 (
»duû_d©a
 = 
	`KMP_ATOMIC_LD_ACQ
(&
‹am
->
t
.
t_tg_»duû_d©a
[
is_ws
])) ==

2335 
	`KMP_CPU_PAUSE
();

2337 
	`KMP_DEBUG_ASSERT
(
»duû_d©a
 > (*)1);

2338 
tg
 = 
thr
->
th
.
th_cu¼’t_sk
->
td_skgroup
;

2339 
__kmp_sk_»duùiÚ_š™_cİy
<
T
>(
thr
, 
num
, 
d©a
, 
tg
, 
»duû_d©a
);

2341  
tg
;

2342 
	}
}

2360 *
	$__kmpc_sk_»duùiÚ_modif›r_š™
(
id’t_t
 *
loc
, 
gtid
, 
is_ws
,

2361 
num
, *
d©a
) {

2362  
	`__kmp_sk_»duùiÚ_modif›r_š™
(
loc
, 
gtid
, 
is_ws
, 
num
,

2363 (
kmp_sk_»d_šput_t
 *)
d©a
);

2364 
	}
}

2380 *
	$__kmpc_sk»d_modif›r_š™
(
id’t_t
 *
loc
, 
gtid
, 
is_ws
, 
num
,

2381 *
d©a
) {

2382  
	`__kmp_sk_»duùiÚ_modif›r_š™
(
loc
, 
gtid
, 
is_ws
, 
num
,

2383 (
kmp_sk»d_šput_t
 *)
d©a
);

2384 
	}
}

2394 
	$__kmpc_sk_»duùiÚ_modif›r_fši
(
id’t_t
 *
loc
, 
gtid
, 
is_ws
) {

2395 
	`__kmpc_’d_skgroup
(
loc
, 
gtid
);

2396 
	}
}

2399 
	$__kmpc_skgroup
(
id’t_t
 *
loc
, 
gtid
) {

2400 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

2401 
kmp_skd©a_t
 *
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

2402 
kmp_skgroup_t
 *
tg_Ãw
 =

2403 (
kmp_skgroup_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, (kmp_taskgroup_t));

2404 
	`KA_TRACE
(10, ("__kmpc_skgroup: T#%d†oc=%°group=%p\n", 
gtid
, 
loc
, 
tg_Ãw
));

2405 
	`KMP_ATOMIC_ST_RLX
(&
tg_Ãw
->
couÁ
, 0);

2406 
	`KMP_ATOMIC_ST_RLX
(&
tg_Ãw
->
ÿnûl_»que¡
, 
ÿnûl_nÜeq
);

2407 
tg_Ãw
->
·»Á
 = 
skd©a
->
td_skgroup
;

2408 
tg_Ãw
->
»duû_d©a
 = 
NULL
;

2409 
tg_Ãw
->
»duû_num_d©a
 = 0;

2410 
skd©a
->
td_skgroup
 = 
tg_Ãw
;

2412 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2413 ià(
	`UNLIKELY
(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
)) {

2414 *
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2415 ià(!
cod•Œ
)

2416 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2417 
kmp_‹am_t
 *
‹am
 = 
th»ad
->
th
.
th_‹am
;

2418 
om±_d©a_t
 
my_sk_d©a
 = 
skd©a
->
om±_sk_šfo
.
sk_d©a
;

2420 
om±_d©a_t
 
my_·¿Î–_d©a
 = 
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
;

2422 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

2423 
om±_sync_»giÚ_skgroup
, 
om±_scİe_begš
, &(
my_·¿Î–_d©a
),

2424 &(
my_sk_d©a
), 
cod•Œ
);

2427 
	}
}

2431 
	$__kmpc_’d_skgroup
(
id’t_t
 *
loc
, 
gtid
) {

2432 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

2433 
kmp_skd©a_t
 *
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

2434 
kmp_skgroup_t
 *
skgroup
 = 
skd©a
->
td_skgroup
;

2435 
th»ad_fšished
 = 
FALSE
;

2437 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2438 
kmp_‹am_t
 *
‹am
;

2439 
om±_d©a_t
 
my_sk_d©a
;

2440 
om±_d©a_t
 
my_·¿Î–_d©a
;

2441 *
cod•Œ
;

2442 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
)) {

2443 
‹am
 = 
th»ad
->
th
.
th_‹am
;

2444 
my_sk_d©a
 = 
skd©a
->
om±_sk_šfo
.
sk_d©a
;

2446 
my_·¿Î–_d©a
 = 
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
;

2447 
cod•Œ
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

2448 ià(!
cod•Œ
)

2449 
cod•Œ
 = 
	`OMPT_GET_RETURN_ADDRESS
(0);

2453 
	`KA_TRACE
(10, ("__kmpc_’d_skgroupÓÁ”): T#%d†oc=%p\n", 
gtid
, 
loc
));

2454 
	`KMP_DEBUG_ASSERT
(
skgroup
 !ğ
NULL
);

2455 
	`KMP_SET_THREAD_STATE_BLOCK
(
TASKGROUP
);

2457 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

2459 
skd©a
->
td_skwa™_couÁ”
 += 1;

2460 
skd©a
->
td_skwa™_id’t
 = 
loc
;

2461 
skd©a
->
td_skwa™_th»ad
 = 
gtid
 + 1;

2462 #ià
USE_ITT_BUILD


2465 *
™t_sync_obj
 = 
	`__kmp_™t_skwa™_objeù
(
gtid
);

2466 ià(
™t_sync_obj
 !ğ
NULL
)

2467 
	`__kmp_™t_skwa™_¡¬tšg
(
gtid
, 
™t_sync_obj
);

2470 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2471 ià(
	`UNLIKELY
(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
)) {

2472 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

2473 
om±_sync_»giÚ_skgroup
, 
om±_scİe_begš
, &(
my_·¿Î–_d©a
),

2474 &(
my_sk_d©a
), 
cod•Œ
);

2478 ià(!
skd©a
->
td_æags
.
‹am_£rŸl
 ||

2479 (
th»ad
->
th
.
th_sk_‹am
 !ğ
NULL
 &&

2480 
th»ad
->
th
.
th_sk_‹am
->
‰
.
‰_found_´oxy_sks
)) {

2481 
kmp_æag_32
 
	`æag
(
	`RCAST
(
¡d
::
©omic
<
kmp_ušt32
> *, &(
skgroup
->
couÁ
)),

2483 
	`KMP_ATOMIC_LD_ACQ
(&
skgroup
->
couÁ
) != 0) {

2484 
æag
.
	`execu‹_sks
(
th»ad
, 
gtid
, 
FALSE
,

2485 &
th»ad_fšished
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
),

2486 
__kmp_sk_¡—lšg_cÚ¡¿št
);

2489 
skd©a
->
td_skwa™_th»ad
 = -taskdata->td_taskwait_thread;

2491 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2492 ià(
	`UNLIKELY
(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
)) {

2493 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

2494 
om±_sync_»giÚ_skgroup
, 
om±_scİe_’d
, &(
my_·¿Î–_d©a
),

2495 &(
my_sk_d©a
), 
cod•Œ
);

2499 #ià
USE_ITT_BUILD


2500 ià(
™t_sync_obj
 !ğ
NULL
)

2501 
	`__kmp_™t_skwa™_fšished
(
gtid
, 
™t_sync_obj
);

2504 
	`KMP_DEBUG_ASSERT
(
skgroup
->
couÁ
 == 0);

2506 ià(
skgroup
->
»duû_d©a
 !ğ
NULL
) {

2507 
út
;

2508 *
»duû_d©a
;

2509 
kmp_‹am_t
 *
t
 = 
th»ad
->
th
.
th_‹am
;

2510 
kmp_sk»d_d©a_t
 *
¬r
 = (kmp_sk»d_d©a_ˆ*)
skgroup
->
»duû_d©a
;

2512 *
´iv0
 = 
¬r
[0].
»duû_´iv
;

2513 ià((
»duû_d©a
 = 
	`KMP_ATOMIC_LD_ACQ
(&
t
->t.
t_tg_»duû_d©a
[0])è!ğ
NULL
 &&

2514 ((
kmp_sk»d_d©a_t
 *)
»duû_d©a
)[0].
»duû_´iv
 =ğ
´iv0
) {

2516 
út
 = 
	`KMP_ATOMIC_INC
(&
t
->t.
t_tg_fši_couÁ”
[0]);

2517 ià(
út
 =ğ
th»ad
->
th
.
th_‹am_Åroc
 - 1) {

2520 
	`__kmp_sk_»duùiÚ_fši
(
th»ad
, 
skgroup
);

2523 
	`__kmp_th»ad_ä“
(
th»ad
, 
»duû_d©a
);

2524 
	`KMP_ATOMIC_ST_REL
(&
t
->t.
t_tg_»duû_d©a
[0], 
NULL
);

2525 
	`KMP_ATOMIC_ST_REL
(&
t
->t.
t_tg_fši_couÁ”
[0], 0);

2529 
	`__kmp_sk_»duùiÚ_ş—n
(
th»ad
, 
skgroup
);

2531 } ià((
»duû_d©a
 = 
	`KMP_ATOMIC_LD_ACQ
(&
t
->t.
t_tg_»duû_d©a
[1])) !=

2532 
NULL
 &&

2533 ((
kmp_sk»d_d©a_t
 *)
»duû_d©a
)[0].
»duû_´iv
 =ğ
´iv0
) {

2535 
út
 = 
	`KMP_ATOMIC_INC
(&
t
->t.
t_tg_fši_couÁ”
[1]);

2536 ià(
út
 =ğ
th»ad
->
th
.
th_‹am_Åroc
 - 1) {

2538 
	`__kmp_sk_»duùiÚ_fši
(
th»ad
, 
skgroup
);

2541 
	`__kmp_th»ad_ä“
(
th»ad
, 
»duû_d©a
);

2542 
	`KMP_ATOMIC_ST_REL
(&
t
->t.
t_tg_»duû_d©a
[1], 
NULL
);

2543 
	`KMP_ATOMIC_ST_REL
(&
t
->t.
t_tg_fši_couÁ”
[1], 0);

2547 
	`__kmp_sk_»duùiÚ_ş—n
(
th»ad
, 
skgroup
);

2551 
	`__kmp_sk_»duùiÚ_fši
(
th»ad
, 
skgroup
);

2555 
skd©a
->
td_skgroup
 = 
skgroup
->
·»Á
;

2556 
	`__kmp_th»ad_ä“
(
th»ad
, 
skgroup
);

2558 
	`KA_TRACE
(10, ("__kmpc_end_taskgroup(exit): T#%dask %p finished waiting\n",

2559 
gtid
, 
skd©a
));

2560 
	`ANNOTATE_HAPPENS_AFTER
(
skd©a
);

2562 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


2563 ià(
	`UNLIKELY
(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
)) {

2564 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

2565 
om±_sync_»giÚ_skgroup
, 
om±_scİe_’d
, &(
my_·¿Î–_d©a
),

2566 &(
my_sk_d©a
), 
cod•Œ
);

2569 
	}
}

2572 
kmp_sk_t
 *
	$__kmp_»move_my_sk
(
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
,

2573 
kmp_sk_‹am_t
 *
sk_‹am
,

2574 
kmp_št32
 
is_cÚ¡¿šed
) {

2575 
kmp_sk_t
 *
sk
;

2576 
kmp_skd©a_t
 *
skd©a
;

2577 
kmp_th»ad_d©a_t
 *
th»ad_d©a
;

2578 
kmp_ušt32
 

;

2580 
	`KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

2581 
	`KMP_DEBUG_ASSERT
(
sk_‹am
->
‰
.
‰_th»ads_d©a
 !=

2582 
NULL
);

2584 
th»ad_d©a
 = &
sk_‹am
->
‰
.
‰_th»ads_d©a
[
	`__kmp_tid_äom_gtid
(
gtid
)];

2586 
	`KA_TRACE
(10, ("__kmp_remove_my_task(enter): T#%d‚tasks=%d head=%uail=%u\n",

2587 
gtid
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

2588 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

2590 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) == 0) {

2591 
	`KA_TRACE
(10,

2594 
gtid
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

2595 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

2596  
NULL
;

2599 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

2601 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) == 0) {

2602 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

2603 
	`KA_TRACE
(10,

2606 
gtid
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

2607 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

2608  
NULL
;

2611 

 = (
th»ad_d©a
->
td
.
td_deque_
 - 1) &

2612 
	`TASK_DEQUE_MASK
(
th»ad_d©a
->
td
);

2613 
skd©a
 = 
th»ad_d©a
->
td
.
td_deque
[

];

2615 ià(!
	`__kmp_sk_is_®lowed
(
gtid
, 
is_cÚ¡¿šed
, 
skd©a
,

2616 
th»ad
->
th
.
th_cu¼’t_sk
)) {

2618 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

2619 
	`KA_TRACE
(10,

2622 
gtid
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

2623 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

2624  
NULL
;

2627 
th»ad_d©a
->
td
.
td_deque_
 = 

;

2628 
	`TCW_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
,hread_data->td.td_deque_ntasks - 1);

2630 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

2632 
	`KA_TRACE
(10, ("__kmp_remove_my_task(exit #4): T#%dask %p„emoved: "

2634 
gtid
, 
skd©a
, 
th»ad_d©a
->
td
.
td_deque_Áasks
,

2635 
th»ad_d©a
->
td
.
td_deque_h—d
,h»ad_d©a->td.
td_deque_
));

2637 
sk
 = 
	`KMP_TASKDATA_TO_TASK
(
skd©a
);

2638  
sk
;

2639 
	}
}

2644 
kmp_sk_t
 *
__kmp_¡—l_sk
(
kmp_šfo_t
 *
viùim_thr
, 
kmp_št32
 
gtid
,

2645 
kmp_sk_‹am_t
 *
sk_‹am
,

2646 
¡d
::
©omic
<
kmp_št32
> *
unfšished_th»ads
,

2647 *
th»ad_fšished
,

2648 
kmp_št32
 
is_cÚ¡¿šed
) {

2649 
kmp_sk_t
 *
	gsk
;

2650 
kmp_skd©a_t
 *
	gskd©a
;

2651 
kmp_skd©a_t
 *
	gcu¼’t
;

2652 
kmp_th»ad_d©a_t
 *
	gviùim_td
, *
	gth»ads_d©a
;

2653 
kmp_št32
 
	grg‘
;

2654 
kmp_št32
 
	gviùim_tid
;

2656 
KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

2658 
	gth»ads_d©a
 = 
sk_‹am
->
‰
.
‰_th»ads_d©a
;

2659 
KMP_DEBUG_ASSERT
(
th»ads_d©a
 !ğ
NULL
);

2661 
	gviùim_tid
 = 
viùim_thr
->
th
.
th_šfo
.
ds
.
ds_tid
;

2662 
	gviùim_td
 = &
th»ads_d©a
[
viùim_tid
];

2664 
KA_TRACE
(10, ("__kmp_steal_task(enter): T#%dryo steal from T#%d: "

2666 
gtid
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
,

2667 
viùim_td
->
td
.
td_deque_Áasks
, viùim_td->td.
td_deque_h—d
,

2668 
viùim_td
->
td
.
td_deque_
));

2670 ià(
TCR_4
(
viùim_td
->
td
.
td_deque_Áasks
) == 0) {

2671 
KA_TRACE
(10, ("__kmp_steal_task(exit #1): T#%d could‚ot steal from T#%d: "

2673 
gtid
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
,

2674 
viùim_td
->
td
.
td_deque_Áasks
, viùim_td->td.
td_deque_h—d
,

2675 
viùim_td
->
td
.
td_deque_
));

2676  
	gNULL
;

2679 
__kmp_acquœe_boÙ¡¿p_lock
(&
viùim_td
->
td
.
td_deque_lock
);

2681 
	gÁasks
 = 
TCR_4
(
viùim_td
->
td
.
td_deque_Áasks
);

2683 ià(
	gÁasks
 == 0) {

2684 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
viùim_td
->
td
.
td_deque_lock
);

2685 
KA_TRACE
(10, ("__kmp_steal_task(exit #2): T#%d could‚ot steal from T#%d: "

2687 
gtid
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
, 
Áasks
,

2688 
viùim_td
->
td
.
td_deque_h—d
, viùim_td->td.
td_deque_
));

2689  
	gNULL
;

2692 
KMP_DEBUG_ASSERT
(
viùim_td
->
td
.
td_deque
 !ğ
NULL
);

2693 
	gcu¼’t
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_cu¼’t_sk
;

2694 
	gskd©a
 = 
viùim_td
->
td
.
td_deque
[viùim_td->td.
td_deque_h—d
];

2695 ià(
__kmp_sk_is_®lowed
(
gtid
, 
is_cÚ¡¿šed
, 
skd©a
, 
cu¼’t
)) {

2697 
	gviùim_td
->
	gtd
.
	gtd_deque_h—d
 =

2698 (
viùim_td
->
td
.
td_deque_h—d
 + 1è& 
TASK_DEQUE_MASK
(victim_td->td);

2700 ià(!
	gsk_‹am
->
	g‰
.
	g‰_uÁ›d_sk_’couÁ”ed
) {

2702 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
viùim_td
->
td
.
td_deque_lock
);

2703 
KA_TRACE
(10, ("__kmp_steal_task(exit #3): T#%d could‚ot steal from "

2705 
gtid
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
, 
Áasks
,

2706 
viùim_td
->
td
.
td_deque_h—d
, viùim_td->td.
td_deque_
));

2707  
	gNULL
;

2709 
	gi
;

2711 
	grg‘
 = 
viùim_td
->
td
.
td_deque_h—d
;

2712 
	gskd©a
 = 
NULL
;

2713 
	gi
 = 1; i < 
	gÁasks
; ++i) {

2714 
	grg‘
 = (
rg‘
 + 1è& 
TASK_DEQUE_MASK
(
viùim_td
->
td
);

2715 
	gskd©a
 = 
viùim_td
->
td
.
td_deque
[
rg‘
];

2716 ià(
__kmp_sk_is_®lowed
(
gtid
, 
is_cÚ¡¿šed
, 
skd©a
, 
cu¼’t
)) {

2719 
	gskd©a
 = 
NULL
;

2722 ià(
	gskd©a
 =ğ
NULL
) {

2724 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
viùim_td
->
td
.
td_deque_lock
);

2725 
KA_TRACE
(10, ("__kmp_steal_task(exit #4): T#%d could‚ot steal from "

2727 
gtid
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
, 
Áasks
,

2728 
viùim_td
->
td
.
td_deque_h—d
, viùim_td->td.
td_deque_
));

2729  
	gNULL
;

2731 
	g´ev
 = 
rg‘
;

2732 
	gi
 = 
i
 + 1; i < 
	gÁasks
; ++i) {

2734 
	grg‘
 = (
rg‘
 + 1è& 
TASK_DEQUE_MASK
(
viùim_td
->
td
);

2735 
	gviùim_td
->
	gtd
.
	gtd_deque
[
´ev
] = 
viùim_td
->
td
.
td_deque
[
rg‘
];

2736 
	g´ev
 = 
rg‘
;

2738 
KMP_DEBUG_ASSERT
(

2739 
viùim_td
->
td
.
td_deque_
 ==

2740 (
kmp_ušt32
)((
rg‘
 + 1è& 
TASK_DEQUE_MASK
(
viùim_td
->
td
)));

2741 
	gviùim_td
->
	gtd
.
	gtd_deque_
 = 
rg‘
;

2743 ià(*
	gth»ad_fšished
) {

2747 
kmp_št32
 
	gcouÁ
;

2749 
	gcouÁ
 = 
KMP_ATOMIC_INC
(
unfšished_th»ads
);

2751 
KA_TRACE
(

2754 
gtid
, 
couÁ
 + 1, 
sk_‹am
));

2756 *
	gth»ad_fšished
 = 
FALSE
;

2758 
TCW_4
(
viùim_td
->
td
.
td_deque_Áasks
, 
Áasks
 - 1);

2760 
__kmp_»Ëa£_boÙ¡¿p_lock
(&
viùim_td
->
td
.
td_deque_lock
);

2762 
KMP_COUNT_BLOCK
(
TASK_¡Ş’
);

2763 
KA_TRACE
(10,

2766 
gtid
, 
skd©a
, 
__kmp_gtid_äom_th»ad
(
viùim_thr
), 
sk_‹am
,

2767 
Áasks
, 
viùim_td
->
td
.
td_deque_h—d
, viùim_td->td.
td_deque_
));

2769 
	gsk
 = 
KMP_TASKDATA_TO_TASK
(
skd©a
);

2770  
	gsk
;

2782 
	g‹m¶©e
 <
şass
 
	gC
>

2783 
šlše
 
__kmp_execu‹_sks_‹m¶©e
(

2784 
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
, 
C
 *
æag
, 
fš®_¥š
,

2785 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

2786 
kmp_št32
 
is_cÚ¡¿šed
) {

2787 
kmp_sk_‹am_t
 *
	gsk_‹am
 = 
th»ad
->
th
.
th_sk_‹am
;

2788 
kmp_th»ad_d©a_t
 *
	gth»ads_d©a
;

2789 
kmp_sk_t
 *
	gsk
;

2790 
kmp_šfo_t
 *
	gÙh”_th»ad
;

2791 
kmp_skd©a_t
 *
	gcu¼’t_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

2792 
	g¡d
::
©omic
<
kmp_št32
> *
unfšished_th»ads
;

2793 
kmp_št32
 
	gÁh»ads
, 
	gviùim_tid
 = -2, 
	gu£_own_sks
 = 1, 
	gÃw_viùim
 = 0,

2794 
	gtid
 = 
th»ad
->
th
.
th_šfo
.
ds
.
ds_tid
;

2796 
KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

2797 
KMP_DEBUG_ASSERT
(
th»ad
 =ğ
__kmp_th»ads
[
gtid
]);

2799 ià(
	gsk_‹am
 =ğ
NULL
 || 
cu¼’t_sk
 == NULL)

2800  
FALSE
;

2802 
KA_TRACE
(15, ("__kmp_execute_tasks_template(enter): T#%d final_spin=%d "

2804 
gtid
, 
fš®_¥š
, *
th»ad_fšished
));

2806 
	gth»ad
->
	gth
.
	gth_»­_¡©e
 = 
KMP_NOT_SAFE_TO_REAP
;

2807 
	gth»ads_d©a
 = (
kmp_th»ad_d©a_t
 *)
TCR_PTR
(
sk_‹am
->
‰
.
‰_th»ads_d©a
);

2808 
KMP_DEBUG_ASSERT
(
th»ads_d©a
 !ğ
NULL
);

2810 
	gÁh»ads
 = 
sk_‹am
->
‰
.
‰_Åroc
;

2811 
	gunfšished_th»ads
 = &(
sk_‹am
->
‰
.
‰_unfšished_th»ads
);

2812 
KMP_DEBUG_ASSERT
(
Áh»ads
 > 1 || 
sk_‹am
->
‰
.
‰_found_´oxy_sks
);

2813 
KMP_DEBUG_ASSERT
(*
unfšished_th»ads
 >= 0);

2818 
	gsk
 = 
NULL
;

2819 ià(
	gu£_own_sks
) {

2820 
	gsk
 = 
__kmp_»move_my_sk
(
th»ad
, 
gtid
, 
sk_‹am
, 
is_cÚ¡¿šed
);

2822 ià((
	gsk
 =ğ
NULL
è&& (
Áh»ads
 > 1)) {

2823 
a¦“p
 = 1;

2824 
	gu£_own_sks
 = 0;

2826 ià(
	gviùim_tid
 == -2) {

2827 
viùim_tid
 = 
th»ads_d©a
[
tid
].
td
.
td_deque_Ï¡_¡Ş’
;

2828 ià(
	gviùim_tid
 !=

2830 
Ùh”_th»ad
 = 
th»ads_d©a
[
viùim_tid
].
td
.
td_thr
;

2832 ià(
	gviùim_tid
 != -1) {

2833 
a¦“p
 = 0;

2834 } ià(!
	gÃw_viùim
) {

2840 
	gviùim_tid
 = 
__kmp_g‘_¿ndom
(
th»ad
è% (
Áh»ads
 - 1);

2841 ià(
	gviùim_tid
 >ğ
tid
) {

2842 ++
viùim_tid
;

2845 
	gÙh”_th»ad
 = 
th»ads_d©a
[
viùim_tid
].
td
.
td_thr
;

2854 
	ga¦“p
 = 0;

2855 ià((
	g__kmp_skšg_mode
 =ğ
tskm_sk_‹ams
) &&

2856 (
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) &&

2857 (
TCR_PTR
(
CCAST
(*, 
Ùh”_th»ad
->
th
.
th_¦“p_loc
)) !=

2858 
NULL
)) {

2859 
a¦“p
 = 1;

2860 
__kmp_nuÎ_»sume_w¿µ”
(
__kmp_gtid_äom_th»ad
(
Ùh”_th»ad
),

2861 
Ùh”_th»ad
->
th
.
th_¦“p_loc
);

2869 } 
	ga¦“p
);

2872 ià(!
	ga¦“p
) {

2874 
	gsk
 = 
__kmp_¡—l_sk
(
Ùh”_th»ad
, 
gtid
, 
sk_‹am
,

2875 
unfšished_th»ads
, 
th»ad_fšished
,

2876 
is_cÚ¡¿šed
);

2878 ià(
	gsk
 !ğ
NULL
) {

2879 ià(
th»ads_d©a
[
tid
].
td
.
td_deque_Ï¡_¡Ş’
 !ğ
viùim_tid
) {

2880 
th»ads_d©a
[
tid
].
td
.
td_deque_Ï¡_¡Ş’
 = 
viùim_tid
;

2884 
	gÃw_viùim
 = 1;

2887 
KMP_CHECK_UPDATE
(
th»ads_d©a
[
tid
].
td
.
td_deque_Ï¡_¡Ş’
, -1);

2888 
	gviùim_tid
 = -2;

2892 ià(
	gsk
 =ğ
NULL
)

2896 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


2897 ià(
	g__™t_sync_ü—‹_±r
 || 
	gKMP_ITT_DEBUG
) {

2898 ià(
	g™t_sync_obj
 =ğ
NULL
) {

2900 
™t_sync_obj
 = 
__kmp_™t_b¬r›r_objeù
(
gtid
, 
bs_fÜkjoš_b¬r›r
);

2902 
__kmp_™t_sk_¡¬tšg
(
™t_sync_obj
);

2905 
__kmp_švoke_sk
(
gtid
, 
sk
, 
cu¼’t_sk
);

2906 #ià
USE_ITT_BUILD


2907 ià(
	g™t_sync_obj
 !ğ
NULL
)

2908 
__kmp_™t_sk_fšished
(
™t_sync_obj
);

2915 ià(
	gæag
 =ğ
NULL
 || (!
fš®_¥š
 && 
æag
->
dÚe_check
())) {

2916 
KA_TRACE
(

2919 
gtid
));

2920  
	gTRUE
;

2922 ià(
	gth»ad
->
	gth
.
	gth_sk_‹am
 =ğ
NULL
) {

2925 
KMP_YIELD
(
__kmp_lib¿ry
 =ğ
lib¿ry_throughput
);

2928 ià(!
	gu£_own_sks
 && 
TCR_4
(
th»ads_d©a
[
tid
].
td
.
td_deque_Áasks
) != 0) {

2929 
KA_TRACE
(20, ("__kmp_execute_tasks_template: T#%d stolenask spawned "

2931 
gtid
));

2932 
	gu£_own_sks
 = 1;

2933 
	gÃw_viùim
 = 0;

2940 ià(
	gfš®_¥š
 &&

2941 
KMP_ATOMIC_LD_ACQ
(&
cu¼’t_sk
->
td_šcom¶‘e_chd_sks
) == 0) {

2945 ià(!*
th»ad_fšished
) {

2946 
kmp_št32
 
couÁ
;

2948 
	gcouÁ
 = 
KMP_ATOMIC_DEC
(
unfšished_th»ads
) - 1;

2949 
KA_TRACE
(20, ("__kmp_execute_tasks_template: T#%d dec "

2951 
gtid
, 
couÁ
, 
sk_‹am
));

2952 *
	gth»ad_fšished
 = 
TRUE
;

2960 ià(
	gæag
 !ğ
NULL
 && 
æag
->
dÚe_check
()) {

2961 
KA_TRACE
(

2964 
gtid
));

2965  
	gTRUE
;

2971 ià(
	gth»ad
->
	gth
.
	gth_sk_‹am
 =ğ
NULL
) {

2972 
KA_TRACE
(15,

2973 ("__kmp_execu‹_sks_‹m¶©e: T#%d‚ØmÜsks\n", 
gtid
));

2974  
	gFALSE
;

2979 ià(
	gÁh»ads
 == 1)

2980 
u£_own_sks
 = 1;

2982 
KA_TRACE
(15,

2983 ("__kmp_execu‹_sks_‹m¶©e: T#%d cª'ˆfšd wÜk\n", 
gtid
));

2984  
	gFALSE
;

2989 
__kmp_execu‹_sks_32
(

2990 
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
, 
kmp_æag_32
 *
æag
, 
fš®_¥š
,

2991 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

2992 
kmp_št32
 
is_cÚ¡¿šed
) {

2993  
__kmp_execu‹_sks_‹m¶©e
(

2994 
th»ad
, 
gtid
, 
æag
, 
fš®_¥š
,

2995 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

2998 
__kmp_execu‹_sks_64
(

2999 
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
, 
kmp_æag_64
 *
æag
, 
fš®_¥š
,

3000 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

3001 
kmp_št32
 
is_cÚ¡¿šed
) {

3002  
__kmp_execu‹_sks_‹m¶©e
(

3003 
th»ad
, 
gtid
, 
æag
, 
fš®_¥š
,

3004 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

3007 
__kmp_execu‹_sks_ÚcÜe
(

3008 
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
gtid
, 
kmp_æag_ÚcÜe
 *
æag
, 
fš®_¥š
,

3009 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

3010 
kmp_št32
 
is_cÚ¡¿šed
) {

3011  
__kmp_execu‹_sks_‹m¶©e
(

3012 
th»ad
, 
gtid
, 
æag
, 
fš®_¥š
,

3013 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

3019 
	$__kmp_’abË_skšg
(
kmp_sk_‹am_t
 *
sk_‹am
,

3020 
kmp_šfo_t
 *
this_thr
) {

3021 
kmp_th»ad_d©a_t
 *
th»ads_d©a
;

3022 
Áh»ads
, 
i
, 
is_š™_th»ad
;

3024 
	`KA_TRACE
(10, ("__kmp_enable_tasking(enter): T#%d\n",

3025 
	`__kmp_gtid_äom_th»ad
(
this_thr
)));

3027 
	`KMP_DEBUG_ASSERT
(
sk_‹am
 !ğ
NULL
);

3028 
	`KMP_DEBUG_ASSERT
(
this_thr
->
th
.
th_‹am
 !ğ
NULL
);

3030 
Áh»ads
 = 
sk_‹am
->
‰
.
‰_Åroc
;

3031 
	`KMP_DEBUG_ASSERT
(
Áh»ads
 > 0);

3032 
	`KMP_DEBUG_ASSERT
(
Áh»ads
 =ğ
this_thr
->
th
.
th_‹am
->
t
.
t_Åroc
);

3035 
is_š™_th»ad
 = 
	`__kmp_»®loc_sk_th»ads_d©a
(
this_thr
, 
sk_‹am
);

3037 ià(!
is_š™_th»ad
) {

3039 
	`KA_TRACE
(

3042 
	`__kmp_gtid_äom_th»ad
(
this_thr
)));

3045 
th»ads_d©a
 = (
kmp_th»ad_d©a_t
 *)
	`TCR_PTR
(
sk_‹am
->
‰
.
‰_th»ads_d©a
);

3046 
	`KMP_DEBUG_ASSERT
(
th»ads_d©a
 !ğ
NULL
);

3048 ià(
__kmp_skšg_mode
 =ğ
tskm_sk_‹ams
 &&

3049 (
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
)) {

3053 
i
 = 0; i < 
Áh»ads
; i++) {

3054 vŞ©*
¦“p_loc
;

3055 
kmp_šfo_t
 *
th»ad
 = 
th»ads_d©a
[
i
].
td
.
td_thr
;

3057 ià(
i
 =ğ
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
) {

3066 ià((
¦“p_loc
 = 
	`TCR_PTR
(
	`CCAST
(*, 
th»ad
->
th
.
th_¦“p_loc
))) !=

3067 
NULL
) {

3068 
	`KF_TRACE
(50, ("__kmp_enable_tasking: T#%d waking uphread T#%d\n",

3069 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

3070 
	`__kmp_gtid_äom_th»ad
(
th»ad
)));

3071 
	`__kmp_nuÎ_»sume_w¿µ”
(
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
¦“p_loc
);

3073 
	`KF_TRACE
(50, ("__kmp_enable_tasking: T#%d don't wake uphread T#%d\n",

3074 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

3075 
	`__kmp_gtid_äom_th»ad
(
th»ad
)));

3080 
	`KA_TRACE
(10, ("__kmp_enable_tasking(exit): T#%d\n",

3081 
	`__kmp_gtid_äom_th»ad
(
this_thr
)));

3082 
	}
}

3114 
kmp_sk_‹am_t
 *
	g__kmp_ä“_sk_‹ams
 =

3115 
NULL
;

3117 
kmp_boÙ¡¿p_lock_t
 
	g__kmp_sk_‹am_lock
 =

3118 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(
__kmp_sk_‹am_lock
);

3125 
	$__kmp_®loc_sk_deque
(
kmp_šfo_t
 *
th»ad
,

3126 
kmp_th»ad_d©a_t
 *
th»ad_d©a
) {

3127 
	`__kmp_š™_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3128 
	`KMP_DEBUG_ASSERT
(
th»ad_d©a
->
td
.
td_deque
 =ğ
NULL
);

3131 
th»ad_d©a
->
td
.
td_deque_Ï¡_¡Ş’
 = -1;

3133 
	`KMP_DEBUG_ASSERT
(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) == 0);

3134 
	`KMP_DEBUG_ASSERT
(
th»ad_d©a
->
td
.
td_deque_h—d
 == 0);

3135 
	`KMP_DEBUG_ASSERT
(
th»ad_d©a
->
td
.
td_deque_
 == 0);

3137 
	`KE_TRACE
(

3140 
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
INITIAL_TASK_DEQUE_SIZE
, 
th»ad_d©a
));

3144 
th»ad_d©a
->
td
.
td_deque
 = (
kmp_skd©a_t
 **)
	`__kmp_®loÿ‹
(

3145 
INITIAL_TASK_DEQUE_SIZE
 * (
kmp_skd©a_t
 *));

3146 
th»ad_d©a
->
td
.
td_deque_size
 = 
INITIAL_TASK_DEQUE_SIZE
;

3147 
	}
}

3152 
	$__kmp_ä“_sk_deque
(
kmp_th»ad_d©a_t
 *
th»ad_d©a
) {

3153 ià(
th»ad_d©a
->
td
.
td_deque
 !ğ
NULL
) {

3154 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3155 
	`TCW_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
, 0);

3156 
	`__kmp_ä“
(
th»ad_d©a
->
td
.
td_deque
);

3157 
th»ad_d©a
->
td
.
td_deque
 = 
NULL
;

3158 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3161 #ifdeà
BUILD_TIED_TASK_STACK


3163 ià(
th»ad_d©a
->
td
.
td_su¥_t›d_sks
.
ts_’Œ›s
 !ğ
TASK_STACK_EMPTY
) {

3164 
	`__kmp_ä“_sk_¡ack
(
	`__kmp_th»ad_äom_gtid
(
gtid
), 
th»ad_d©a
);

3167 
	}
}

3176 
	$__kmp_»®loc_sk_th»ads_d©a
(
kmp_šfo_t
 *
th»ad
,

3177 
kmp_sk_‹am_t
 *
sk_‹am
) {

3178 
kmp_th»ad_d©a_t
 **
th»ads_d©a_p
;

3179 
kmp_št32
 
Áh»ads
, 
maxth»ads
;

3180 
is_š™_th»ad
 = 
FALSE
;

3182 ià(
	`TCR_4
(
sk_‹am
->
‰
.
‰_found_sks
)) {

3184  
FALSE
;

3187 
th»ads_d©a_p
 = &
sk_‹am
->
‰
.
‰_th»ads_d©a
;

3188 
Áh»ads
 = 
sk_‹am
->
‰
.
‰_Åroc
;

3189 
maxth»ads
 = 
sk_‹am
->
‰
.
‰_max_th»ads
;

3194 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
sk_‹am
->
‰
.
‰_th»ads_lock
);

3196 ià(!
	`TCR_4
(
sk_‹am
->
‰
.
‰_found_sks
)) {

3198 
kmp_‹am_t
 *
‹am
 = 
th»ad
->
th
.
th_‹am
;

3199 
i
;

3201 
is_š™_th»ad
 = 
TRUE
;

3202 ià(
maxth»ads
 < 
Áh»ads
) {

3204 ià(*
th»ads_d©a_p
 !ğ
NULL
) {

3205 
kmp_th»ad_d©a_t
 *
Şd_d©a
 = *
th»ads_d©a_p
;

3206 
kmp_th»ad_d©a_t
 *
Ãw_d©a
 = 
NULL
;

3208 
	`KE_TRACE
(

3212 
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
sk_‹am
, 
Áh»ads
, 
maxth»ads
));

3217 
Ãw_d©a
 = (
kmp_th»ad_d©a_t
 *)
	`__kmp_®loÿ‹
(

3218 
Áh»ads
 * (
kmp_th»ad_d©a_t
));

3220 
	`KMP_MEMCPY_S
((*)
Ãw_d©a
, 
Áh»ads
 * (
kmp_th»ad_d©a_t
),

3221 (*)
Şd_d©a
, 
maxth»ads
 * (
kmp_th»ad_d©a_t
));

3223 #ifdeà
BUILD_TIED_TASK_STACK


3225 
i
 = 
maxth»ads
; i < 
Áh»ads
; i++) {

3226 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 = &(*
th»ads_d©a_p
)[
i
];

3227 
	`__kmp_š™_sk_¡ack
(
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
th»ad_d©a
);

3231 (*
th»ads_d©a_p
èğ
Ãw_d©a
;

3232 
	`__kmp_ä“
(
Şd_d©a
);

3234 
	`KE_TRACE
(10, ("__kmp_realloc_task_threads_data: T#%d‡llocating "

3236 
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
sk_‹am
, 
Áh»ads
));

3240 
	`ANNOTATE_IGNORE_WRITES_BEGIN
();

3241 *
th»ads_d©a_p
 = (
kmp_th»ad_d©a_t
 *)
	`__kmp_®loÿ‹
(

3242 
Áh»ads
 * (
kmp_th»ad_d©a_t
));

3243 
	`ANNOTATE_IGNORE_WRITES_END
();

3244 #ifdeà
BUILD_TIED_TASK_STACK


3246 
i
 = 0; i < 
Áh»ads
; i++) {

3247 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 = &(*
th»ads_d©a_p
)[
i
];

3248 
	`__kmp_š™_sk_¡ack
(
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
th»ad_d©a
);

3252 
sk_‹am
->
‰
.
‰_max_th»ads
 = 
Áh»ads
;

3255 
	`KMP_DEBUG_ASSERT
(*
th»ads_d©a_p
 !ğ
NULL
);

3259 
i
 = 0; i < 
Áh»ads
; i++) {

3260 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 = &(*
th»ads_d©a_p
)[
i
];

3261 
th»ad_d©a
->
td
.
td_thr
 = 
‹am
->
t
.
t_th»ads
[
i
];

3263 ià(
th»ad_d©a
->
td
.
td_deque_Ï¡_¡Ş’
 >ğ
Áh»ads
) {

3267 
th»ad_d©a
->
td
.
td_deque_Ï¡_¡Ş’
 = -1;

3271 
	`KMP_MB
();

3272 
	`TCW_SYNC_4
(
sk_‹am
->
‰
.
‰_found_sks
, 
TRUE
);

3275 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
sk_‹am
->
‰
.
‰_th»ads_lock
);

3276  
is_š™_th»ad
;

3277 
	}
}

3282 
	$__kmp_ä“_sk_th»ads_d©a
(
kmp_sk_‹am_t
 *
sk_‹am
) {

3283 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
sk_‹am
->
‰
.
‰_th»ads_lock
);

3284 ià(
sk_‹am
->
‰
.
‰_th»ads_d©a
 !ğ
NULL
) {

3285 
i
;

3286 
i
 = 0; i < 
sk_‹am
->
‰
.
‰_max_th»ads
; i++) {

3287 
	`__kmp_ä“_sk_deque
(&
sk_‹am
->
‰
.
‰_th»ads_d©a
[
i
]);

3289 
	`__kmp_ä“
(
sk_‹am
->
‰
.
‰_th»ads_d©a
);

3290 
sk_‹am
->
‰
.
‰_th»ads_d©a
 = 
NULL
;

3292 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
sk_‹am
->
‰
.
‰_th»ads_lock
);

3293 
	}
}

3299 
kmp_sk_‹am_t
 *
	$__kmp_®loÿ‹_sk_‹am
(
kmp_šfo_t
 *
th»ad
,

3300 
kmp_‹am_t
 *
‹am
) {

3301 
kmp_sk_‹am_t
 *
sk_‹am
 = 
NULL
;

3302 
Áh»ads
;

3304 
	`KA_TRACE
(20, ("__kmp_allocate_task_team: T#%dƒntering;eam = %p\n",

3305 (
th»ad
 ? 
	`__kmp_gtid_äom_th»ad
Ñh»adè: -1), 
‹am
));

3307 ià(
	`TCR_PTR
(
__kmp_ä“_sk_‹ams
è!ğ
NULL
) {

3309 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3310 ià(
__kmp_ä“_sk_‹ams
 !ğ
NULL
) {

3311 
sk_‹am
 = 
__kmp_ä“_sk_‹ams
;

3312 
	`TCW_PTR
(
__kmp_ä“_sk_‹ams
, 
sk_‹am
->
‰
.
‰_Ãxt
);

3313 
sk_‹am
->
‰
.
‰_Ãxt
 = 
NULL
;

3315 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3318 ià(
sk_‹am
 =ğ
NULL
) {

3319 
	`KE_TRACE
(10, ("__kmp_allocate_task_team: T#%d‡llocating "

3321 
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
‹am
));

3325 
sk_‹am
 = (
kmp_sk_‹am_t
 *)
	`__kmp_®loÿ‹
((kmp_task_team_t));

3326 
	`__kmp_š™_boÙ¡¿p_lock
(&
sk_‹am
->
‰
.
‰_th»ads_lock
);

3333 
	`TCW_4
(
sk_‹am
->
‰
.
‰_found_sks
, 
FALSE
);

3334 
	`TCW_4
(
sk_‹am
->
‰
.
‰_found_´oxy_sks
, 
FALSE
);

3335 
sk_‹am
->
‰
.
‰_Åroc
 = 
Áh»ads
 = 
‹am
->
t
.
t_Åroc
;

3337 
	`KMP_ATOMIC_ST_REL
(&
sk_‹am
->
‰
.
‰_unfšished_th»ads
, 
Áh»ads
);

3338 
	`TCW_4
(
sk_‹am
->
‰
.
‰_aùive
, 
TRUE
);

3340 
	`KA_TRACE
(20, ("__kmp_allocate_task_team: T#%dƒxiting;ask_team = %p "

3342 (
th»ad
 ? 
	`__kmp_gtid_äom_th»ad
Ñh»adè: -1), 
sk_‹am
,

3343 
	`KMP_ATOMIC_LD_RLX
(&
sk_‹am
->
‰
.
‰_unfšished_th»ads
)));

3344  
sk_‹am
;

3345 
	}
}

3350 
	$__kmp_ä“_sk_‹am
(
kmp_šfo_t
 *
th»ad
, 
kmp_sk_‹am_t
 *
sk_‹am
) {

3351 
	`KA_TRACE
(20, ("__kmp_free_task_team: T#%dask_team = %p\n",

3352 
th»ad
 ? 
	`__kmp_gtid_äom_th»ad
Ñh»adè: -1, 
sk_‹am
));

3355 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3357 
	`KMP_DEBUG_ASSERT
(
sk_‹am
->
‰
.
‰_Ãxt
 =ğ
NULL
);

3358 
sk_‹am
->
‰
.
‰_Ãxt
 = 
__kmp_ä“_sk_‹ams
;

3359 
	`TCW_PTR
(
__kmp_ä“_sk_‹ams
, 
sk_‹am
);

3361 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3362 
	}
}

3369 
	$__kmp_»­_sk_‹ams
() {

3370 
kmp_sk_‹am_t
 *
sk_‹am
;

3372 ià(
	`TCR_PTR
(
__kmp_ä“_sk_‹ams
è!ğ
NULL
) {

3374 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3375 (
sk_‹am
 = 
__kmp_ä“_sk_‹ams
è!ğ
NULL
) {

3376 
__kmp_ä“_sk_‹ams
 = 
sk_‹am
->
‰
.
‰_Ãxt
;

3377 
sk_‹am
->
‰
.
‰_Ãxt
 = 
NULL
;

3380 ià(
sk_‹am
->
‰
.
‰_th»ads_d©a
 !ğ
NULL
) {

3381 
	`__kmp_ä“_sk_th»ads_d©a
(
sk_‹am
);

3383 
	`__kmp_ä“
(
sk_‹am
);

3385 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

3387 
	}
}

3392 
	$__kmp_wa™_to_uÄef_sk_‹ams
() {

3393 
kmp_šfo_t
 *
th»ad
;

3394 
kmp_ušt32
 
¥šs
;

3395 
dÚe
;

3397 
	`KMP_INIT_YIELD
(
¥šs
);

3400 
dÚe
 = 
TRUE
;

3405 
th»ad
 = 
	`CCAST
(
kmp_šfo_t
 *, 
__kmp_th»ad_poŞ
);h»ad !ğ
NULL
;

3406 
th»ad
 =h»ad->
th
.
th_Ãxt_poŞ
) {

3407 #ià
KMP_OS_WINDOWS


3408 
DWORD
 
ex™_v®
;

3410 ià(
	`TCR_PTR
(
th»ad
->
th
.
th_sk_‹am
è=ğ
NULL
) {

3411 
	`KA_TRACE
(10, ("__kmp_wait_to_unref_task_team: T#%dask_team == NULL\n",

3412 
	`__kmp_gtid_äom_th»ad
(
th»ad
)));

3415 #ià
KMP_OS_WINDOWS


3417 ià(!
	`__kmp_is_th»ad_®ive
(
th»ad
, &
ex™_v®
)) {

3418 
th»ad
->
th
.
th_sk_‹am
 = 
NULL
;

3423 
dÚe
 = 
FALSE
;

3425 
	`KA_TRACE
(10, ("__kmp_wait_to_unref_task_team: Waiting for T#%do "

3427 
	`__kmp_gtid_äom_th»ad
(
th»ad
)));

3429 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

3430 vŞ©*
¦“p_loc
;

3432 ià((
¦“p_loc
 = 
	`TCR_PTR
(
	`CCAST
(*, 
th»ad
->
th
.
th_¦“p_loc
))) !=

3433 
NULL
) {

3434 
	`KA_TRACE
(

3437 
	`__kmp_gtid_äom_th»ad
(
th»ad
), __kmp_gtid_from_thread(thread)));

3438 
	`__kmp_nuÎ_»sume_w¿µ”
(
	`__kmp_gtid_äom_th»ad
(
th»ad
), 
¦“p_loc
);

3442 ià(
dÚe
) {

3447 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

3449 
	}
}

3453 
	$__kmp_sk_‹am_£tup
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
, 
®ways
) {

3454 
	`KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

3460 ià(
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
] =ğ
NULL
 &&

3461 (
®ways
 || 
‹am
->
t
.
t_Åroc
 > 1)) {

3462 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
] =

3463 
	`__kmp_®loÿ‹_sk_‹am
(
this_thr
, 
‹am
);

3464 
	`KA_TRACE
(20, ("__kmp_task_team_setup: Master T#%d created‚ewask_team %p "

3466 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

3467 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
],

3468 ((
‹am
 !ğ
NULL
è?—m->
t
.
t_id
 : -1),

3469 
this_thr
->
th
.
th_sk_¡©e
));

3479 ià(
‹am
->
t
.
t_Åroc
 > 1) {

3480 
Ùh”_‹am
 = 1 - 
this_thr
->
th
.
th_sk_¡©e
;

3481 ià(
‹am
->
t
.
t_sk_‹am
[
Ùh”_‹am
] =ğ
NULL
) {

3482 
‹am
->
t
.
t_sk_‹am
[
Ùh”_‹am
] =

3483 
	`__kmp_®loÿ‹_sk_‹am
(
this_thr
, 
‹am
);

3484 
	`KA_TRACE
(20, ("__kmp_task_team_setup: Master T#%d created second‚ew "

3486 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

3487 
‹am
->
t
.
t_sk_‹am
[
Ùh”_‹am
],

3488 ((
‹am
 !ğ
NULL
è?—m->
t
.
t_id
 : -1), 
Ùh”_‹am
));

3491 
kmp_sk_‹am_t
 *
sk_‹am
 = 
‹am
->
t
.
t_sk_‹am
[
Ùh”_‹am
];

3492 ià(!
sk_‹am
->
‰
.
‰_aùive
 ||

3493 
‹am
->
t
.
t_Åroc
 !ğ
sk_‹am
->
‰
.
‰_Åroc
) {

3494 
	`TCW_4
(
sk_‹am
->
‰
.
‰_Åroc
, 
‹am
->
t
.
t_Åroc
);

3495 
	`TCW_4
(
sk_‹am
->
‰
.
‰_found_sks
, 
FALSE
);

3496 
	`TCW_4
(
sk_‹am
->
‰
.
‰_found_´oxy_sks
, 
FALSE
);

3497 
	`KMP_ATOMIC_ST_REL
(&
sk_‹am
->
‰
.
‰_unfšished_th»ads
,

3498 
‹am
->
t
.
t_Åroc
);

3499 
	`TCW_4
(
sk_‹am
->
‰
.
‰_aùive
, 
TRUE
);

3503 
	`KA_TRACE
(20, ("__kmp_task_team_setup: Master T#%d„eset‚extask_team "

3505 
	`__kmp_gtid_äom_th»ad
(
this_thr
),

3506 
‹am
->
t
.
t_sk_‹am
[
Ùh”_‹am
],

3507 ((
‹am
 !ğ
NULL
è?—m->
t
.
t_id
 : -1), 
Ùh”_‹am
));

3510 
	}
}

3515 
	$__kmp_sk_‹am_sync
(
kmp_šfo_t
 *
this_thr
, 
kmp_‹am_t
 *
‹am
) {

3516 
	`KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

3520 
this_thr
->
th
.
th_sk_¡©e
 = 1 -his_thr->th.th_task_state;

3523 
	`TCW_PTR
(
this_thr
->
th
.
th_sk_‹am
,

3524 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
]);

3525 
	`KA_TRACE
(20,

3528 
	`__kmp_gtid_äom_th»ad
(
this_thr
),his_thr->
th
.
th_sk_‹am
,

3529 ((
‹am
 !ğ
NULL
è?—m->
t
.
t_id
 : -1), 
this_thr
->
th
.
th_sk_¡©e
));

3530 
	}
}

3539 
__kmp_sk_‹am_wa™
(

3540 
kmp_šfo_t
 *
this_thr
,

3541 
kmp_‹am_t
 *
‹am
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
), 
wa™
) {

3542 
kmp_sk_‹am_t
 *
	gsk_‹am
 = 
‹am
->
t
.
t_sk_‹am
[
this_thr
->
th
.
th_sk_¡©e
];

3544 
KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
);

3545 
KMP_DEBUG_ASSERT
(
sk_‹am
 =ğ
this_thr
->
th
.
th_sk_‹am
);

3547 ià((
	gsk_‹am
 !ğ
NULL
è&& 
KMP_TASKING_ENABLED
(
sk_‹am
)) {

3548 ià(
wa™
) {

3549 
KA_TRACE
(20, ("__kmp_task_team_wait: Master T#%d waiting for‡llasks "

3551 
__kmp_gtid_äom_th»ad
(
this_thr
), 
sk_‹am
));

3555 
kmp_æag_32
 
æag
(
RCAST
(
¡d
::
©omic
<
kmp_ušt32
> *,

3556 &
sk_‹am
->
‰
.
‰_unfšished_th»ads
),

3558 
	gæag
.
wa™
(
this_thr
, 
TRUE
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

3562 
KA_TRACE
(

3566 
__kmp_gtid_äom_th»ad
(
this_thr
), 
sk_‹am
));

3567 
KMP_DEBUG_ASSERT
(
sk_‹am
->
‰
.
‰_Åroc
 > 1 ||

3568 
sk_‹am
->
‰
.
‰_found_´oxy_sks
 =ğ
TRUE
);

3569 
TCW_SYNC_4
(
sk_‹am
->
‰
.
‰_found_´oxy_sks
, 
FALSE
);

3570 
KMP_CHECK_UPDATE
(
sk_‹am
->
‰
.
‰_uÁ›d_sk_’couÁ”ed
, 0);

3571 
TCW_SYNC_4
(
sk_‹am
->
‰
.
‰_aùive
, 
FALSE
);

3572 
KMP_MB
();

3574 
TCW_PTR
(
this_thr
->
th
.
th_sk_‹am
, 
NULL
);

3583 
	$__kmp_skšg_b¬r›r
(
kmp_‹am_t
 *
‹am
, 
kmp_šfo_t
 *
th»ad
, 
gtid
) {

3584 
¡d
::
©omic
<
kmp_ušt32
> *
¥š
 = 
	`RCAST
(

3585 
¡d
::
©omic
<
kmp_ušt32
> *,

3586 &
‹am
->
t
.
t_sk_‹am
[
th»ad
->
th
.
th_sk_¡©e
]->
‰
.
‰_unfšished_th»ads
);

3587 
æag
 = 
FALSE
;

3588 
	`KMP_DEBUG_ASSERT
(
__kmp_skšg_mode
 =ğ
tskm_exŒa_b¬r›r
);

3590 #ià
USE_ITT_BUILD


3591 
	`KMP_FSYNC_SPIN_INIT
(
¥š
, 
NULL
);

3593 
kmp_æag_32
 
	`¥š_æag
(
¥š
, 0U);

3594 !
¥š_æag
.
	`execu‹_sks
(
th»ad
, 
gtid
, 
TRUE
,

3595 &
æag
 
	`USE_ITT_BUILD_ARG
(
NULL
), 0)) {

3596 #ià
USE_ITT_BUILD


3598 
	`KMP_FSYNC_SPIN_PREPARE
(
	`RCAST
(*, 
¥š
));

3601 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

3602 ià(
__kmp_glob®
.
g
.
g_abÜt
)

3603 
	`__kmp_abÜt_th»ad
();

3606 
	`KMP_YIELD
(
TRUE
);

3608 #ià
USE_ITT_BUILD


3609 
	`KMP_FSYNC_SPIN_ACQUIRED
(
	`RCAST
(*, 
¥š
));

3611 
	}
}

3618 
boŞ
 
	$__kmp_give_sk
(
kmp_šfo_t
 *
th»ad
, 
kmp_št32
 
tid
, 
kmp_sk_t
 *
sk
,

3619 
kmp_št32
 
·ss
) {

3620 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

3621 
kmp_sk_‹am_t
 *
sk_‹am
 = 
skd©a
->
td_sk_‹am
;

3623 
	`KA_TRACE
(20, ("__kmp_give_task:ryingo giveask %pohread %d.\n",

3624 
skd©a
, 
tid
));

3627 
	`KMP_DEBUG_ASSERT
(
sk_‹am
 !ğ
NULL
);

3629 
boŞ
 
»suÉ
 = 
çl£
;

3630 
kmp_th»ad_d©a_t
 *
th»ad_d©a
 = &
sk_‹am
->
‰
.
‰_th»ads_d©a
[
tid
];

3632 ià(
th»ad_d©a
->
td
.
td_deque
 =ğ
NULL
) {

3635 
	`KA_TRACE
(30,

3637 
tid
, 
skd©a
));

3638  
»suÉ
;

3641 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) >=

3642 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
)) {

3643 
	`KA_TRACE
(

3646 
skd©a
, 
tid
));

3650 ià(
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
è/ 
INITIAL_TASK_DEQUE_SIZE
 >ğ
·ss
)

3651  
»suÉ
;

3653 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3654 
	`__kmp_»®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

3658 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3660 ià(
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) >=

3661 
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
)) {

3662 
	`KA_TRACE
(30, ("__kmp_give_task: queue is full while givingask %po "

3664 
skd©a
, 
tid
));

3668 ià(
	`TASK_DEQUE_SIZE
(
th»ad_d©a
->
td
è/ 
INITIAL_TASK_DEQUE_SIZE
 >ğ
·ss
)

3669 
»Ëa£_ªd_ex™
;

3671 
	`__kmp_»®loc_sk_deque
(
th»ad
, 
th»ad_d©a
);

3677 
th»ad_d©a
->
td
.
td_deque
[th»ad_d©a->td.
td_deque_
] = 
skd©a
;

3679 
th»ad_d©a
->
td
.
td_deque_
 =

3680 (
th»ad_d©a
->
td
.
td_deque_
 + 1è& 
	`TASK_DEQUE_MASK
(thread_data->td);

3681 
	`TCW_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
,

3682 
	`TCR_4
(
th»ad_d©a
->
td
.
td_deque_Áasks
) + 1);

3684 
»suÉ
 = 
Œue
;

3685 
	`KA_TRACE
(30, ("__kmp_give_task: successfully gaveask %pohread %d.\n",

3686 
skd©a
, 
tid
));

3688 
»Ëa£_ªd_ex™
:

3689 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
th»ad_d©a
->
td
.
td_deque_lock
);

3691  
»suÉ
;

3692 
	}
}

3710 
	$__kmp_fœ¡_tİ_h®f_fšish_´oxy
(
kmp_skd©a_t
 *
skd©a
) {

3711 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

3712 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
);

3713 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
com¶‘e
 == 0);

3714 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
ä“d
 == 0);

3716 
skd©a
->
td_æags
.
com¶‘e
 = 1;

3718 ià(
skd©a
->
td_skgroup
)

3719 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_skgroup
->
couÁ
);

3723 
	`KMP_ATOMIC_INC
(&
skd©a
->
td_šcom¶‘e_chd_sks
);

3724 
	}
}

3726 
	$__kmp_£cÚd_tİ_h®f_fšish_´oxy
(
kmp_skd©a_t
 *
skd©a
) {

3727 
kmp_št32
 
chd»n
 = 0;

3730 
chd»n
 =

3731 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_·»Á
->
td_šcom¶‘e_chd_sks
) - 1;

3732 
	`KMP_DEBUG_ASSERT
(
chd»n
 >= 0);

3735 
	`KMP_ATOMIC_DEC
(&
skd©a
->
td_šcom¶‘e_chd_sks
);

3736 
	}
}

3738 
	$__kmp_bÙtom_h®f_fšish_´oxy
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
±ask
) {

3739 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
±ask
);

3740 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

3742 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
);

3743 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
com¶‘e
 ==

3748 
	`KMP_ATOMIC_LD_ACQ
(&
skd©a
->
td_šcom¶‘e_chd_sks
) > 0)

3751 
	`__kmp_»Ëa£_d•s
(
gtid
, 
skd©a
);

3752 
	`__kmp_ä“_sk_ªd_ªû¡Üs
(
gtid
, 
skd©a
, 
th»ad
);

3753 
	}
}

3763 
	$__kmpc_´oxy_sk_com¶‘ed
(
kmp_št32
 
gtid
, 
kmp_sk_t
 *
±ask
) {

3764 
	`KMP_DEBUG_ASSERT
(
±ask
 !ğ
NULL
);

3765 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
±ask
);

3766 
	`KA_TRACE
(

3768 
gtid
, 
skd©a
));

3770 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
);

3772 
	`__kmp_fœ¡_tİ_h®f_fšish_´oxy
(
skd©a
);

3773 
	`__kmp_£cÚd_tİ_h®f_fšish_´oxy
(
skd©a
);

3774 
	`__kmp_bÙtom_h®f_fšish_´oxy
(
gtid
, 
±ask
);

3776 
	`KA_TRACE
(10,

3778 
gtid
, 
skd©a
));

3779 
	}
}

3788 
	$__kmpc_´oxy_sk_com¶‘ed_ooo
(
kmp_sk_t
 *
±ask
) {

3789 
	`KMP_DEBUG_ASSERT
(
±ask
 !ğ
NULL
);

3790 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
±ask
);

3792 
	`KA_TRACE
(

3795 
skd©a
));

3797 
	`KMP_DEBUG_ASSERT
(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
);

3799 
	`__kmp_fœ¡_tİ_h®f_fšish_´oxy
(
skd©a
);

3803 
kmp_‹am_t
 *
‹am
 = 
skd©a
->
td_‹am
;

3804 
kmp_št32
 
Áh»ads
 = 
‹am
->
t
.
t_Åroc
;

3805 
kmp_šfo_t
 *
th»ad
;

3809 
kmp_št32
 
¡¬t_k
 = 0;

3810 
kmp_št32
 
·ss
 = 1;

3811 
kmp_št32
 
k
 = 
¡¬t_k
;

3815 
th»ad
 = 
‹am
->
t
.
t_th»ads
[
k
];

3816 
k
 = (k + 1è% 
Áh»ads
;

3819 ià(
k
 =ğ
¡¬t_k
)

3820 
·ss
 =…ass << 1;

3822 } !
	`__kmp_give_sk
(
th»ad
, 
k
, 
±ask
, 
·ss
));

3824 
	`__kmp_£cÚd_tİ_h®f_fšish_´oxy
(
skd©a
);

3826 
	`KA_TRACE
(

3829 
skd©a
));

3830 
	}
}

3832 
kmp_ev’t_t
 *
	$__kmpc_sk_®low_com¶‘iÚ_ev’t
(
id’t_t
 *
loc_»f
, 
gtid
,

3833 
kmp_sk_t
 *
sk
) {

3834 
kmp_skd©a_t
 *
td
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

3835 ià(
td
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 =ğ
KMP_EVENT_UNINITIALIZED
) {

3836 
td
->
td_®low_com¶‘iÚ_ev’t
.
ty³
 = 
KMP_EVENT_ALLOW_COMPLETION
;

3837 
td
->
td_®low_com¶‘iÚ_ev’t
.
ed
.
sk
 =ask;

3838 
	`__kmp_š™_s_lock
(&
td
->
td_®low_com¶‘iÚ_ev’t
.
lock
);

3840  &
td
->
td_®low_com¶‘iÚ_ev’t
;

3841 
	}
}

3843 
	$__kmp_fulfl_ev’t
(
kmp_ev’t_t
 *
ev’t
) {

3844 ià(
ev’t
->
ty³
 =ğ
KMP_EVENT_ALLOW_COMPLETION
) {

3845 
kmp_sk_t
 *
±ask
 = 
ev’t
->
ed
.
sk
;

3846 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
±ask
);

3847 
boŞ
 
d‘ached
 = 
çl£
;

3848 
gtid
 = 
	`__kmp_g‘_gtid
();

3850 ià(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
) {

3852 
d‘ached
 = 
Œue
;

3853 
ev’t
->
ty³
 = 
KMP_EVENT_UNINITIALIZED
;

3858 
	`__kmp_acquœe_s_lock
(&
ev’t
->
lock
, 
gtid
);

3859 ià(
skd©a
->
td_æags
.
´oxy
 =ğ
TASK_PROXY
)

3860 
d‘ached
 = 
Œue
;

3861 
ev’t
->
ty³
 = 
KMP_EVENT_UNINITIALIZED
;

3862 
	`__kmp_»Ëa£_s_lock
(&
ev’t
->
lock
, 
gtid
);

3865 ià(
d‘ached
) {

3867 ià(
gtid
 >= 0) {

3868 
kmp_‹am_t
 *
‹am
 = 
skd©a
->
td_‹am
;

3869 
kmp_šfo_t
 *
th»ad
 = 
	`__kmp_g‘_th»ad
();

3870 ià(
th»ad
->
th
.
th_‹am
 =ğ
‹am
) {

3871 
	`__kmpc_´oxy_sk_com¶‘ed
(
gtid
, 
±ask
);

3877 
	`__kmpc_´oxy_sk_com¶‘ed_ooo
(
±ask
);

3880 
	}
}

3888 
kmp_sk_t
 *
	$__kmp_sk_dup_®loc
(
kmp_šfo_t
 *
th»ad
, 
kmp_sk_t
 *
sk_¤c
) {

3889 
kmp_sk_t
 *
sk
;

3890 
kmp_skd©a_t
 *
skd©a
;

3891 
kmp_skd©a_t
 *
skd©a_¤c
;

3892 
kmp_skd©a_t
 *
·»Á_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

3893 
size_t
 
sh¬eds_off£t
;

3894 
size_t
 
sk_size
;

3896 
	`KA_TRACE
(10, ("__kmp_sk_dup_®locÓÁ”): Th %p, sourûask %p\n", 
th»ad
,

3897 
sk_¤c
));

3898 
skd©a_¤c
 = 
	`KMP_TASK_TO_TASKDATA
(
sk_¤c
);

3899 
	`KMP_DEBUG_ASSERT
(
skd©a_¤c
->
td_æags
.
´oxy
 ==

3900 
TASK_FULL
);

3901 
	`KMP_DEBUG_ASSERT
(
skd©a_¤c
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
);

3902 
sk_size
 = 
skd©a_¤c
->
td_size_®loc
;

3905 
	`KA_TRACE
(30, ("__kmp_sk_dup_®loc: Th %p, m®loøsiz%ld\n", 
th»ad
,

3906 
sk_size
));

3907 #ià
USE_FAST_MEMORY


3908 
skd©a
 = (
kmp_skd©a_t
 *)
	`__kmp_ç¡_®loÿ‹
(
th»ad
, 
sk_size
);

3910 
skd©a
 = (
kmp_skd©a_t
 *)
	`__kmp_th»ad_m®loc
(
th»ad
, 
sk_size
);

3912 
	`KMP_MEMCPY
(
skd©a
, 
skd©a_¤c
, 
sk_size
);

3914 
sk
 = 
	`KMP_TASKDATA_TO_TASK
(
skd©a
);

3917 
skd©a
->
td_sk_id
 = 
	`KMP_GEN_TASK_ID
();

3918 ià(
sk
->
sh¬eds
 !ğ
NULL
) {

3919 
sh¬eds_off£t
 = (*)
sk_¤c
->
sh¬eds
 - (*)
skd©a_¤c
;

3920 
sk
->
sh¬eds
 = &((*)
skd©a
)[
sh¬eds_off£t
];

3921 
	`KMP_DEBUG_ASSERT
((((
kmp_ušŒ_t
)
sk
->
sh¬eds
) & ((*) - 1)) ==

3924 
skd©a
->
td_®loc_th»ad
 = 
th»ad
;

3925 
skd©a
->
td_·»Á
 = 
·»Á_sk
;

3927 
skd©a
->
td_skgroup
 = 
·»Á_sk
->td_taskgroup;

3930 ià(
skd©a
->
td_æags
.
t›dÃss
 =ğ
TASK_TIED
)

3931 
skd©a
->
td_Ï¡_t›d
 =askdata;

3935 ià(!(
skd©a
->
td_æags
.
‹am_£rŸl
 ||askd©a->td_æags.
skšg_£r
)) {

3936 
	`KMP_ATOMIC_INC
(&
·»Á_sk
->
td_šcom¶‘e_chd_sks
);

3937 ià(
·»Á_sk
->
td_skgroup
)

3938 
	`KMP_ATOMIC_INC
(&
·»Á_sk
->
td_skgroup
->
couÁ
);

3941 ià(
skd©a
->
td_·»Á
->
td_æags
.
skty³
 =ğ
TASK_EXPLICIT
)

3942 
	`KMP_ATOMIC_INC
(&
skd©a
->
td_·»Á
->
td_®loÿ‹d_chd_sks
);

3945 
	`KA_TRACE
(20,

3947 
th»ad
, 
skd©a
,askd©a->
td_·»Á
));

3948 #ià
OMPT_SUPPORT


3949 ià(
	`UNLIKELY
(
om±_’abËd
.
’abËd
))

3950 
	`__om±_sk_š™
(
skd©a
, 
th»ad
->
th
.
th_šfo
.
ds
.
ds_gtid
);

3952  
sk
;

3953 
	}
}

3959 (*
	tp_sk_dup_t
)(
	tkmp_sk_t
 *, kmp_sk_ˆ*, 
	tkmp_št32
);

3961 
	`KMP_BUILD_ASSERT
(() == 4 || () == 8);

3966 şas 
	ckmp_skloİ_bounds_t
 {

3967 
kmp_sk_t
 *
sk
;

3968 cÚ¡ 
kmp_skd©a_t
 *
skd©a
;

3969 
size_t
 
low”_off£t
;

3970 
size_t
 
uµ”_off£t
;

3972 
public
:

3973 
	$kmp_skloİ_bounds_t
(
kmp_sk_t
 *
_sk
, 
kmp_ušt64
 *
lb
, kmp_ušt64 *
ub
)

3974 : 
	`sk
(
_sk
), 
	`skd©a
(
	`KMP_TASK_TO_TASKDATA
(
sk
)),

3975 
	`low”_off£t
((*)
lb
 - (*)
sk
),

3976 
	`uµ”_off£t
((*)
ub
 - (*)
sk
) {

3977 
	`KMP_DEBUG_ASSERT
((*)
lb
 > (*)
_sk
);

3978 
	`KMP_DEBUG_ASSERT
((*)
ub
 > (*)
_sk
);

3980 
	$kmp_skloİ_bounds_t
(
kmp_sk_t
 *
_sk
, cÚ¡ 
kmp_skloİ_bounds_t
 &
bounds
)

3981 : 
	`sk
(
_sk
), 
	`skd©a
(
	`KMP_TASK_TO_TASKDATA
(_task)),

3982 
	`low”_off£t
(
bounds
.
low”_off£t
), 
	$uµ”_off£t
(
bounds
.
uµ”_off£t
è{
	}
}

3983 
size_t
 
	$g‘_low”_off£t
(ècÚ¡ {  
low”_off£t
; 
	}
}

3984 
size_t
 
	$g‘_uµ”_off£t
(ècÚ¡ {  
uµ”_off£t
; 
	}
}

3985 
kmp_ušt64
 
	$g‘_lb
() const {

3986 
kmp_št64
 
»tv®
;

3987 #ià
	`defšed
(
KMP_GOMP_COMPAT
)

3989 ià(!
skd©a
->
td_æags
.
Çtive
) {

3990 
»tv®
 = *(
kmp_št64
 *)((*)
sk
 + 
low”_off£t
);

3993 ià(
skd©a
->
td_size_loİ_bounds
 == 4) {

3994 
kmp_št32
 *
lb
 = 
	`RCAST
(kmp_št32 *, 
sk
->
sh¬eds
);

3995 
»tv®
 = (
kmp_št64
)*
lb
;

3997 
kmp_št64
 *
lb
 = 
	`RCAST
(kmp_št64 *, 
sk
->
sh¬eds
);

3998 
»tv®
 = (
kmp_št64
)*
lb
;

4002 
»tv®
 = *(
kmp_št64
 *)((*)
sk
 + 
low”_off£t
);

4004  
»tv®
;

4005 
	}
}

4006 
kmp_ušt64
 
	$g‘_ub
() const {

4007 
kmp_št64
 
»tv®
;

4008 #ià
	`defšed
(
KMP_GOMP_COMPAT
)

4010 ià(!
skd©a
->
td_æags
.
Çtive
) {

4011 
»tv®
 = *(
kmp_št64
 *)((*)
sk
 + 
uµ”_off£t
);

4014 ià(
skd©a
->
td_size_loİ_bounds
 == 4) {

4015 
kmp_št32
 *
ub
 = 
	`RCAST
(kmp_št32 *, 
sk
->
sh¬eds
) + 1;

4016 
»tv®
 = (
kmp_št64
)*
ub
;

4018 
kmp_št64
 *
ub
 = 
	`RCAST
(kmp_št64 *, 
sk
->
sh¬eds
) + 1;

4019 
»tv®
 = (
kmp_št64
)*
ub
;

4023 
»tv®
 = *(
kmp_št64
 *)((*)
sk
 + 
uµ”_off£t
);

4025  
»tv®
;

4026 
	}
}

4027 
	$£t_lb
(
kmp_ušt64
 
lb
) {

4028 #ià
	`defšed
(
KMP_GOMP_COMPAT
)

4030 ià(!
skd©a
->
td_æags
.
Çtive
) {

4031 *(
kmp_ušt64
 *)((*)
sk
 + 
low”_off£t
èğ
lb
;

4034 ià(
skd©a
->
td_size_loİ_bounds
 == 4) {

4035 
kmp_ušt32
 *
low”
 = 
	`RCAST
(kmp_ušt32 *, 
sk
->
sh¬eds
);

4036 *
low”
 = (
kmp_ušt32
)
lb
;

4038 
kmp_ušt64
 *
low”
 = 
	`RCAST
(kmp_ušt64 *, 
sk
->
sh¬eds
);

4039 *
low”
 = (
kmp_ušt64
)
lb
;

4043 *(
kmp_ušt64
 *)((*)
sk
 + 
low”_off£t
èğ
lb
;

4045 
	}
}

4046 
	$£t_ub
(
kmp_ušt64
 
ub
) {

4047 #ià
	`defšed
(
KMP_GOMP_COMPAT
)

4049 ià(!
skd©a
->
td_æags
.
Çtive
) {

4050 *(
kmp_ušt64
 *)((*)
sk
 + 
uµ”_off£t
èğ
ub
;

4053 ià(
skd©a
->
td_size_loİ_bounds
 == 4) {

4054 
kmp_ušt32
 *
uµ”
 = 
	`RCAST
(kmp_ušt32 *, 
sk
->
sh¬eds
) + 1;

4055 *
uµ”
 = (
kmp_ušt32
)
ub
;

4057 
kmp_ušt64
 *
uµ”
 = 
	`RCAST
(kmp_ušt64 *, 
sk
->
sh¬eds
) + 1;

4058 *
uµ”
 = (
kmp_ušt64
)
ub
;

4062 *(
kmp_ušt64
 *)((*)
sk
 + 
uµ”_off£t
èğ
ub
;

4064 
	}
}

4082 
__kmp_skloİ_lš—r
(
id’t_t
 *
loc
, 
gtid
, 
kmp_sk_t
 *
sk
,

4083 
kmp_ušt64
 *
lb
, kmp_ušt64 *
ub
, 
kmp_št64
 
¡
,

4084 
kmp_ušt64
 
ub_glob
, kmp_ušt64 
num_sks
,

4085 
kmp_ušt64
 
g¿šsize
, kmp_ušt64 
exŒas
,

4086 
kmp_ušt64
 
tc
,

4087 #ià
OMPT_SUPPORT


4088 *
cod•Œ_¿
,

4090 *
sk_dup
) {

4091 
KMP_COUNT_BLOCK
(
OMP_TASKLOOP
);

4092 
KMP_TIME_PARTITIONED_BLOCK
(
OMP_skloİ_schedulšg
);

4093 
p_sk_dup_t
 
	g±ask_dup
 = (p_sk_dup_t)
sk_dup
;

4095 
kmp_skloİ_bounds_t
 
sk_bounds
(
sk
, 
lb
, 
ub
);

4096 
kmp_ušt64
 
	glow”
 = 
sk_bounds
.
g‘_lb
();

4097 
kmp_ušt64
 
	guµ”
 = 
sk_bounds
.
g‘_ub
();

4098 
kmp_ušt64
 
	gi
;

4099 
kmp_šfo_t
 *
	gth»ad
 = 
__kmp_th»ads
[
gtid
];

4100 
kmp_skd©a_t
 *
	gcu¼’t_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

4101 
kmp_sk_t
 *
	gÃxt_sk
;

4102 
kmp_št32
 
	gÏ¡´iv
 = 0;

4104 
KMP_DEBUG_ASSERT
(
tc
 =ğ
num_sks
 * 
g¿šsize
 + 
exŒas
);

4105 
KMP_DEBUG_ASSERT
(
num_sks
 > 
exŒas
);

4106 
KMP_DEBUG_ASSERT
(
num_sks
 > 0);

4107 
KA_TRACE
(20, ("__kmp_taskloop_linear: T#%d: %lldasks, grainsize %lld, "

4109 
gtid
, 
num_sks
, 
g¿šsize
, 
exŒas
, 
low”
, 
uµ”
, 
ub_glob
, 
¡
,

4110 
sk_dup
));

4113 
	gi
 = 0; i < 
	gnum_sks
; ++i) {

4114 
kmp_ušt64
 
	gchunk_mšus_1
;

4115 ià(
	gexŒas
 == 0) {

4116 
chunk_mšus_1
 = 
g¿šsize
 - 1;

4118 
	gchunk_mšus_1
 = 
g¿šsize
;

4119 --
	gexŒas
;

4121 
	guµ”
 = 
low”
 + 
¡
 * 
chunk_mšus_1
;

4122 ià(
	gi
 =ğ
num_sks
 - 1) {

4124 ià(
¡
 == 1) {

4125 
KMP_DEBUG_ASSERT
(
uµ”
 =ğ*
ub
);

4126 ià(
	guµ”
 =ğ
ub_glob
)

4127 
Ï¡´iv
 = 1;

4128 } ià(
	g¡
 > 0) {

4129 
KMP_DEBUG_ASSERT
((
kmp_ušt64
)
¡
 > *
ub
 - 
uµ”
);

4130 ià((
	gkmp_ušt64
)
	g¡
 > 
	gub_glob
 - 
	guµ”
)

4131 
	gÏ¡´iv
 = 1;

4133 
KMP_DEBUG_ASSERT
(
uµ”
 + 
¡
 < *
ub
);

4134 ià(
	guµ”
 - 
	gub_glob
 < (
	gkmp_ušt64
)(-
	g¡
))

4135 
	gÏ¡´iv
 = 1;

4138 
	gÃxt_sk
 = 
__kmp_sk_dup_®loc
(
th»ad
, 
sk
);

4139 
kmp_skd©a_t
 *
	gÃxt_skd©a
 = 
KMP_TASK_TO_TASKDATA
(
Ãxt_sk
);

4140 
kmp_skloİ_bounds_t
 
	gÃxt_sk_bounds
 =

4141 
kmp_skloİ_bounds_t
(
Ãxt_sk
, 
sk_bounds
);

4144 
	gÃxt_sk_bounds
.
£t_lb
(
low”
);

4145 ià(
	gÃxt_skd©a
->
	gtd_æags
.
	gÇtive
) {

4146 
	gÃxt_sk_bounds
.
£t_ub
(
uµ”
 + (
¡
 > 0 ? 1 : -1));

4148 
	gÃxt_sk_bounds
.
£t_ub
(
uµ”
);

4150 ià(
	g±ask_dup
 !ğ
NULL
)

4152 
±ask_dup
(
Ãxt_sk
, 
sk
, 
Ï¡´iv
);

4153 
KA_TRACE
(40,

4156 
gtid
, 
i
, 
Ãxt_sk
, 
low”
, 
uµ”
, 
¡
,

4157 
Ãxt_sk_bounds
.
g‘_low”_off£t
(),

4158 
Ãxt_sk_bounds
.
g‘_uµ”_off£t
()));

4159 #ià
OMPT_SUPPORT


4160 
__kmp_omp_skloİ_sk
(
NULL
, 
gtid
, 
Ãxt_sk
,

4161 
cod•Œ_¿
);

4163 
__kmp_omp_sk
(
gtid
, 
Ãxt_sk
, 
Œue
);

4165 
	glow”
 = 
uµ”
 + 
¡
;

4168 
__kmp_sk_¡¬t
(
gtid
, 
sk
, 
cu¼’t_sk
);

4170 
	g__kmp_sk_fšish
<
	gçl£
>(
	ggtid
, 
	gsk
, 
	gcu¼’t_sk
);

4175 
	s__skloİ_·¿ms
 {

4176 
kmp_sk_t
 *
	msk
;

4177 
kmp_ušt64
 *
	mlb
;

4178 
kmp_ušt64
 *
	mub
;

4179 *
	msk_dup
;

4180 
kmp_št64
 
	m¡
;

4181 
kmp_ušt64
 
	mub_glob
;

4182 
kmp_ušt64
 
	mnum_sks
;

4183 
kmp_ušt64
 
	mg¿šsize
;

4184 
kmp_ušt64
 
	mexŒas
;

4185 
kmp_ušt64
 
	mtc
;

4186 
kmp_ušt64
 
	mnum_t_mš
;

4187 #ià
OMPT_SUPPORT


4188 *
	mcod•Œ_¿
;

4190 } 
	t__skloİ_·¿ms_t
;

4192 
__kmp_skloİ_»cur
(
id’t_t
 *, , 
kmp_sk_t
 *, 
kmp_ušt64
 *,

4193 
kmp_ušt64
 *, 
kmp_št64
, kmp_uint64, kmp_uint64,

4194 
kmp_ušt64
, kmp_uint64, kmp_uint64, kmp_uint64,

4195 #ià
OMPT_SUPPORT


4201 
	$__kmp_skloİ_sk
(
gtid
, *
±ask
) {

4202 
__skloİ_·¿ms_t
 *
p
 =

4203 (
__skloİ_·¿ms_t
 *)((
kmp_sk_t
 *)
±ask
)->
sh¬eds
;

4204 
kmp_sk_t
 *
sk
 = 
p
->task;

4205 
kmp_ušt64
 *
lb
 = 
p
->lb;

4206 
kmp_ušt64
 *
ub
 = 
p
->ub;

4207 *
sk_dup
 = 
p
->task_dup;

4209 
kmp_št64
 
¡
 = 
p
->st;

4210 
kmp_ušt64
 
ub_glob
 = 
p
->ub_glob;

4211 
kmp_ušt64
 
num_sks
 = 
p
->num_tasks;

4212 
kmp_ušt64
 
g¿šsize
 = 
p
->grainsize;

4213 
kmp_ušt64
 
exŒas
 = 
p
->extras;

4214 
kmp_ušt64
 
tc
 = 
p
->tc;

4215 
kmp_ušt64
 
num_t_mš
 = 
p
->num_t_min;

4216 #ià
OMPT_SUPPORT


4217 *
cod•Œ_¿
 = 
p
->codeptr_ra;

4219 #ià
KMP_DEBUG


4220 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

4221 
	`KMP_DEBUG_ASSERT
(
sk
 !ğ
NULL
);

4222 
	`KA_TRACE
(20, ("__kmp_taskloop_task: T#%d,ask %p: %lldasks, grainsize"

4224 
gtid
, 
skd©a
, 
num_sks
, 
g¿šsize
, 
exŒas
, *
lb
, *
ub
, 
¡
,

4225 
sk_dup
));

4227 
	`KMP_DEBUG_ASSERT
(
num_sks
 * 2 + 1 > 
num_t_mš
);

4228 ià(
num_sks
 > 
num_t_mš
)

4229 
	`__kmp_skloİ_»cur
(
NULL
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
num_sks
,

4230 
g¿šsize
, 
exŒas
, 
tc
, 
num_t_mš
,

4231 #ià
OMPT_SUPPORT


4232 
cod•Œ_¿
,

4234 
sk_dup
);

4236 
	`__kmp_skloİ_lš—r
(
NULL
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
num_sks
,

4237 
g¿šsize
, 
exŒas
, 
tc
,

4238 #ià
OMPT_SUPPORT


4239 
cod•Œ_¿
,

4241 
sk_dup
);

4243 
	`KA_TRACE
(40, ("__kmp_skloİ_skÓx™): T#%d\n", 
gtid
));

4245 
	}
}

4264 
__kmp_skloİ_»cur
(
id’t_t
 *
loc
, 
gtid
, 
kmp_sk_t
 *
sk
,

4265 
kmp_ušt64
 *
lb
, kmp_ušt64 *
ub
, 
kmp_št64
 
¡
,

4266 
kmp_ušt64
 
ub_glob
, kmp_ušt64 
num_sks
,

4267 
kmp_ušt64
 
g¿šsize
, kmp_ušt64 
exŒas
,

4268 
kmp_ušt64
 
tc
, kmp_ušt64 
num_t_mš
,

4269 #ià
OMPT_SUPPORT


4270 *
cod•Œ_¿
,

4272 *
sk_dup
) {

4273 #ià
KMP_DEBUG


4274 
kmp_skd©a_t
 *
	gskd©a
 = 
KMP_TASK_TO_TASKDATA
(
sk
);

4275 
KMP_DEBUG_ASSERT
(
sk
 !ğ
NULL
);

4276 
KMP_DEBUG_ASSERT
(
num_sks
 > 
num_t_mš
);

4277 
KA_TRACE
(20, ("__kmp_taskloop_recur: T#%d,ask %p: %lldasks, grainsize"

4279 
gtid
, 
skd©a
, 
num_sks
, 
g¿šsize
, 
exŒas
, *
lb
, *
ub
, 
¡
,

4280 
sk_dup
));

4282 
p_sk_dup_t
 
	g±ask_dup
 = (p_sk_dup_t)
sk_dup
;

4283 
kmp_ušt64
 
	glow”
 = *
lb
;

4284 
kmp_šfo_t
 *
	gth»ad
 = 
__kmp_th»ads
[
gtid
];

4286 
kmp_sk_t
 *
	gÃxt_sk
;

4287 
size_t
 
	glow”_off£t
 =

4288 (*)
lb
 - (*)
sk
;

4289 
size_t
 
	guµ”_off£t
 =

4290 (*)
ub
 - (*)
sk
;

4292 
KMP_DEBUG_ASSERT
(
tc
 =ğ
num_sks
 * 
g¿šsize
 + 
exŒas
);

4293 
KMP_DEBUG_ASSERT
(
num_sks
 > 
exŒas
);

4294 
KMP_DEBUG_ASSERT
(
num_sks
 > 0);

4297 
kmp_ušt64
 
	glb1
, 
	gub0
, 
	gtc0
, 
	gtc1
, 
	gext0
, 
	gext1
;

4298 
kmp_ušt64
 
	ggr_size0
 = 
g¿šsize
;

4299 
kmp_ušt64
 
	gn_tsk0
 = 
num_sks
 >> 1;

4300 
kmp_ušt64
 
	gn_tsk1
 = 
num_sks
 - 
n_tsk0
;

4301 ià(
	gn_tsk0
 <ğ
exŒas
) {

4302 
gr_size0
++;

4303 
	gext0
 = 0;

4304 
	gext1
 = 
exŒas
 - 
n_tsk0
;

4305 
	gtc0
 = 
gr_size0
 * 
n_tsk0
;

4306 
	gtc1
 = 
tc
 - 
tc0
;

4308 
	gext1
 = 0;

4309 
	gext0
 = 
exŒas
;

4310 
	gtc1
 = 
g¿šsize
 * 
n_tsk1
;

4311 
	gtc0
 = 
tc
 - 
tc1
;

4313 
	gub0
 = 
low”
 + 
¡
 * (
tc0
 - 1);

4314 
	glb1
 = 
ub0
 + 
¡
;

4317 
	gÃxt_sk
 = 
__kmp_sk_dup_®loc
(
th»ad
, 
sk
);

4319 *(
	gkmp_ušt64
 *)((*)
	gÃxt_sk
 + 
	glow”_off£t
èğ
lb1
;

4320 ià(
	g±ask_dup
 !ğ
NULL
)

4321 
±ask_dup
(
Ãxt_sk
, 
sk
, 0);

4322 *
	gub
 = 
ub0
;

4325 
kmp_sk_t
 *
	gÃw_sk
 =

4326 
__kmpc_omp_sk_®loc
(
loc
, 
gtid
, 1, 3 * (*),

4327 (
__skloİ_·¿ms_t
), &
__kmp_skloİ_sk
);

4328 
__skloİ_·¿ms_t
 *
	gp
 = (__skloİ_·¿ms_ˆ*)
Ãw_sk
->
sh¬eds
;

4329 
	gp
->
	gsk
 = 
Ãxt_sk
;

4330 
	gp
->
	glb
 = (
kmp_ušt64
 *)((*)
Ãxt_sk
 + 
low”_off£t
);

4331 
	gp
->
	gub
 = (
kmp_ušt64
 *)((*)
Ãxt_sk
 + 
uµ”_off£t
);

4332 
	gp
->
	gsk_dup
 = 
sk_dup
;

4333 
	gp
->
	g¡
 = 
¡
;

4334 
	gp
->
	gub_glob
 = 
ub_glob
;

4335 
	gp
->
	gnum_sks
 = 
n_tsk1
;

4336 
	gp
->
	gg¿šsize
 = 
g¿šsize
;

4337 
	gp
->
	gexŒas
 = 
ext1
;

4338 
	gp
->
	gtc
 = 
tc1
;

4339 
	gp
->
	gnum_t_mš
 = 
num_t_mš
;

4340 #ià
OMPT_SUPPORT


4341 
	gp
->
	gcod•Œ_¿
 = 
cod•Œ_¿
;

4344 #ià
OMPT_SUPPORT


4346 
__kmp_omp_skloİ_sk
(
NULL
, 
gtid
, 
Ãw_sk
, 
cod•Œ_¿
);

4348 
__kmp_omp_sk
(
gtid
, 
Ãw_sk
, 
Œue
);

4352 ià(
	gn_tsk0
 > 
	gnum_t_mš
)

4353 
__kmp_skloİ_»cur
(
loc
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
n_tsk0
, 
gr_size0
,

4354 
ext0
, 
tc0
, 
num_t_mš
,

4355 #ià
OMPT_SUPPORT


4356 
cod•Œ_¿
,

4358 
sk_dup
);

4360 
__kmp_skloİ_lš—r
(
loc
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
n_tsk0
,

4361 
gr_size0
, 
ext0
, 
tc0
,

4362 #ià
OMPT_SUPPORT


4363 
cod•Œ_¿
,

4365 
sk_dup
);

4367 
KA_TRACE
(40, ("__kmpc_skloİ_»curÓx™): T#%d\n", 
gtid
));

4386 
	$__kmpc_skloİ
(
id’t_t
 *
loc
, 
gtid
, 
kmp_sk_t
 *
sk
, 
if_v®
,

4387 
kmp_ušt64
 *
lb
, kmp_ušt64 *
ub
, 
kmp_št64
 
¡
, 
nogroup
,

4388 
sched
, 
kmp_ušt64
 
g¿šsize
, *
sk_dup
) {

4389 
kmp_skd©a_t
 *
skd©a
 = 
	`KMP_TASK_TO_TASKDATA
(
sk
);

4390 
	`KMP_DEBUG_ASSERT
(
sk
 !ğ
NULL
);

4392 ià(
nogroup
 == 0) {

4393 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


4394 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

4396 
	`__kmpc_skgroup
(
loc
, 
gtid
);

4401 
kmp_skloİ_bounds_t
 
	`sk_bounds
(
sk
, 
lb
, 
ub
);

4402 
kmp_ušt64
 
tc
;

4404 
kmp_ušt64
 
low”
 = 
sk_bounds
.
	`g‘_lb
();

4405 
kmp_ušt64
 
uµ”
 = 
sk_bounds
.
	`g‘_ub
();

4406 
kmp_ušt64
 
ub_glob
 = 
uµ”
;

4407 
kmp_ušt64
 
num_sks
 = 0, 
exŒas
 = 0;

4408 
kmp_ušt64
 
num_sks_mš
 = 
__kmp_skloİ_mš_sks
;

4409 
kmp_šfo_t
 *
th»ad
 = 
__kmp_th»ads
[
gtid
];

4410 
kmp_skd©a_t
 *
cu¼’t_sk
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

4412 
	`KA_TRACE
(20, ("__kmpc_taskloop: T#%d,ask %p,†b %lld, ub %lld, st %lld, "

4414 
gtid
, 
skd©a
, 
low”
, 
uµ”
, 
¡
, 
g¿šsize
, 
sched
, 
sk_dup
));

4417 ià(
¡
 == 1) {

4418 
tc
 = 
uµ”
 - 
low”
 + 1;

4419 } ià(
¡
 < 0) {

4420 
tc
 = (
low”
 - 
uµ”
è/ (-
¡
) + 1;

4422 
tc
 = (
uµ”
 - 
low”
è/ 
¡
 + 1;

4424 ià(
tc
 == 0) {

4425 
	`KA_TRACE
(20, ("__kmpc_skloİÓx™): T#%d z”o-Œ†oİ\n", 
gtid
));

4427 
	`__kmp_sk_¡¬t
(
gtid
, 
sk
, 
cu¼’t_sk
);

4429 
__kmp_sk_fšish
<
çl£
>(
gtid
, 
sk
, 
cu¼’t_sk
);

4433 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


4434 
om±_‹am_šfo_t
 *
‹am_šfo
 = 
	`__om±_g‘_‹amšfo
(0, 
NULL
);

4435 
om±_sk_šfo_t
 *
sk_šfo
 = 
	`__om±_g‘_sk_šfo_objeù
(0);

4436 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

4437 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

4438 
om±_wÜk_skloİ
, 
om±_scİe_begš
, &(
‹am_šfo
->
·¿Î–_d©a
),

4439 &(
sk_šfo
->
sk_d©a
), 
tc
, 
	`OMPT_GET_RETURN_ADDRESS
(0));

4443 ià(
num_sks_mš
 == 0)

4445 
num_sks_mš
 =

4446 
	`KMP_MIN
(
th»ad
->
th
.
th_‹am_Åroc
 * 10, 
INITIAL_TASK_DEQUE_SIZE
);

4449 
sched
) {

4452 
g¿šsize
 = 
th»ad
->
th
.
th_‹am_Åroc
 * 10;

4453 
	`KMP_FALLTHROUGH
();

4455 ià(
g¿šsize
 > 
tc
) {

4456 
num_sks
 = 
tc
;

4457 
g¿šsize
 = 1;

4458 
exŒas
 = 0;

4460 
num_sks
 = 
g¿šsize
;

4461 
g¿šsize
 = 
tc
 / 
num_sks
;

4462 
exŒas
 = 
tc
 % 
num_sks
;

4466 ià(
g¿šsize
 > 
tc
) {

4467 
num_sks
 = 1;

4468 
g¿šsize
 = 
tc
;

4469 
exŒas
 = 0;

4471 
num_sks
 = 
tc
 / 
g¿šsize
;

4473 
g¿šsize
 = 
tc
 / 
num_sks
;

4474 
exŒas
 = 
tc
 % 
num_sks
;

4478 
	`KMP_ASSERT2
(0, "unknown scheduling ofaskloop");

4480 
	`KMP_DEBUG_ASSERT
(
tc
 =ğ
num_sks
 * 
g¿šsize
 + 
exŒas
);

4481 
	`KMP_DEBUG_ASSERT
(
num_sks
 > 
exŒas
);

4482 
	`KMP_DEBUG_ASSERT
(
num_sks
 > 0);

4487 ià(
if_v®
 == 0) {

4488 
skd©a
->
td_æags
.
sk_£rŸl
 = 1;

4489 
skd©a
->
td_æags
.
t›dÃss
 = 
TASK_TIED
;

4491 
	`__kmp_skloİ_lš—r
(
loc
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
num_sks
,

4492 
g¿šsize
, 
exŒas
, 
tc
,

4493 #ià
OMPT_SUPPORT


4494 
	`OMPT_GET_RETURN_ADDRESS
(0),

4496 
sk_dup
);

4499 } ià(
num_sks
 > 
num_sks_mš
 && !
skd©a
->
td_æags
.
Çtive
) {

4500 
	`KA_TRACE
(20, ("__kmpc_taskloop: T#%d, go„ecursive:c %llu, #tasks %llu"

4502 
gtid
, 
tc
, 
num_sks
, 
num_sks_mš
, 
g¿šsize
, 
exŒas
));

4503 
	`__kmp_skloİ_»cur
(
loc
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
num_sks
,

4504 
g¿šsize
, 
exŒas
, 
tc
, 
num_sks_mš
,

4505 #ià
OMPT_SUPPORT


4506 
	`OMPT_GET_RETURN_ADDRESS
(0),

4508 
sk_dup
);

4510 
	`KA_TRACE
(20, ("__kmpc_taskloop: T#%d, go†inear:c %llu, #tasks %llu"

4512 
gtid
, 
tc
, 
num_sks
, 
num_sks_mš
, 
g¿šsize
, 
exŒas
));

4513 
	`__kmp_skloİ_lš—r
(
loc
, 
gtid
, 
sk
, 
lb
, 
ub
, 
¡
, 
ub_glob
, 
num_sks
,

4514 
g¿šsize
, 
exŒas
, 
tc
,

4515 #ià
OMPT_SUPPORT


4516 
	`OMPT_GET_RETURN_ADDRESS
(0),

4518 
sk_dup
);

4521 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


4522 ià(
om±_’abËd
.
om±_ÿÎback_wÜk
) {

4523 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_wÜk
)(

4524 
om±_wÜk_skloİ
, 
om±_scİe_’d
, &(
‹am_šfo
->
·¿Î–_d©a
),

4525 &(
sk_šfo
->
sk_d©a
), 
tc
, 
	`OMPT_GET_RETURN_ADDRESS
(0));

4529 ià(
nogroup
 == 0) {

4530 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


4531 
	`OMPT_STORE_RETURN_ADDRESS
(
gtid
);

4533 
	`__kmpc_’d_skgroup
(
loc
, 
gtid
);

4535 
	`KA_TRACE
(20, ("__kmpc_skloİÓx™): T#%d\n", 
gtid
));

4536 
	}
}

	@kmp_threadprivate.cpp

13 
	~"kmp.h
"

14 
	~"kmp_i18n.h
"

15 
	~"kmp_™t.h
"

17 
	#USE_CHECKS_COMMON


	)

19 
	#KMP_INLINE_SUBR
 1

	)

21 
kmp_th»ad´iv©e_š£¹_´iv©e_d©a
(
gtid
, *
pc_addr
,

22 *
d©a_addr
, 
size_t
 
pc_size
);

23 
´iv©e_commÚ
 *
kmp_th»ad´iv©e_š£¹
(
gtid
, *
pc_addr
,

24 *
d©a_addr
,

25 
size_t
 
pc_size
);

27 
sh¬ed_bË
 
	g__kmp_th»ad´iv©e_d_bË
;

30 #ifdeà
KMP_INLINE_SUBR


31 
	g__fÜûšlše


33 
´iv©e_commÚ
 *

34 
	$__kmp_th»ad´iv©e_fšd_sk_commÚ
(
commÚ_bË
 *
tbl
, 
gtid
,

35 *
pc_addr
)

38 
´iv©e_commÚ
 *
Š
;

40 #ifdeà
KMP_TASK_COMMON_DEBUG


41 
	`KC_TRACE
(10, ("__kmp_threadprivate_find_task_common:hread#%d, called with "

43 
gtid
, 
pc_addr
));

44 
	`dump_li¡
();

47 
Š
 = 
tbl
->
d©a
[
	`KMP_HASH
(
pc_addr
)];n;ÀğŠ->
Ãxt
) {

48 ià(
Š
->
gbl_addr
 =ğ
pc_addr
) {

49 #ifdeà
KMP_TASK_COMMON_DEBUG


50 
	`KC_TRACE
(10, ("__kmp_threadprivate_find_task_common:hread#%d, found "

52 
gtid
, 
pc_addr
));

54  
Š
;

58 
	}
}

61 #ifdeà
KMP_INLINE_SUBR


62 
	g__fÜûšlše


64 
sh¬ed_commÚ
 *

65 
	$__kmp_fšd_sh¬ed_sk_commÚ
(
sh¬ed_bË
 *
tbl
, 
gtid
,

66 *
pc_addr
) {

67 
sh¬ed_commÚ
 *
Š
;

69 
Š
 = 
tbl
->
d©a
[
	`KMP_HASH
(
pc_addr
)];n;ÀğŠ->
Ãxt
) {

70 ià(
Š
->
gbl_addr
 =ğ
pc_addr
) {

71 #ifdeà
KMP_TASK_COMMON_DEBUG


72 
	`KC_TRACE
(

75 
gtid
, 
pc_addr
));

77  
Š
;

81 
	}
}

85 
´iv©e_d©a
 *
	$__kmp_š™_commÚ_d©a
(*
pc_addr
,

86 
size_t
 
pc_size
) {

87 
´iv©e_d©a
 *
d
;

88 
size_t
 
i
;

89 *
p
;

91 
d
 = (
´iv©e_d©a
 *)
	`__kmp_®loÿ‹
((private_data));

97 
d
->
size
 = 
pc_size
;

98 
d
->
mÜe
 = 1;

100 
p
 = (*)
pc_addr
;

102 
i
 = 
pc_size
; i > 0; --i) {

103 ià(*
p
++ != '\0') {

104 
d
->
d©a
 = 
	`__kmp_®loÿ‹
(
pc_size
);

105 
	`KMP_MEMCPY
(
d
->
d©a
, 
pc_addr
, 
pc_size
);

110  
d
;

111 
	}
}

114 
	$__kmp_cİy_commÚ_d©a
(*
pc_addr
, 
´iv©e_d©a
 *
d
) {

115 *
addr
 = (*)
pc_addr
;

116 
i
, 
off£t
;

118 
off£t
 = 0; 
d
 !ğ0; d = d->
Ãxt
) {

119 
i
 = 
d
->
mÜe
; i > 0; --i) {

120 ià(
d
->
d©a
 == 0)

121 
	`mem£t
(&
addr
[
off£t
], '\0', 
d
->
size
);

123 
	`KMP_MEMCPY
(&
addr
[
off£t
], 
d
->
d©a
, d->
size
);

124 
off£t
 +ğ
d
->
size
;

127 
	}
}

130 
	$__kmp_commÚ_š™Ÿlize
() {

131 ià(!
	`TCR_4
(
__kmp_š™_commÚ
)) {

132 
q
;

133 #ifdeà
KMP_DEBUG


134 
gtid
;

137 
__kmp_th»ad´iv_ÿche_li¡
 = 
NULL
;

139 #ifdeà
KMP_DEBUG


141 
gtid
 = 0; gtid < 
__kmp_th»ads_ÿ·c™y
; gtid++)

142 ià(
__kmp_roÙ
[
gtid
]) {

143 
	`KMP_DEBUG_ASSERT
(
__kmp_roÙ
[
gtid
]->
r
.
r_ub”_th»ad
);

144 
q
 = 0; q < 
KMP_HASH_TABLE_SIZE
; ++q)

145 
	`KMP_DEBUG_ASSERT
(

146 !
__kmp_roÙ
[
gtid
]->
r
.
r_ub”_th»ad
->
th
.
th_´i_commÚ
->
d©a
[
q
]);

152 
q
 = 0; q < 
KMP_HASH_TABLE_SIZE
; ++q)

153 
__kmp_th»ad´iv©e_d_bË
.
d©a
[
q
] = 0;

155 
	`TCW_4
(
__kmp_š™_commÚ
, 
TRUE
);

157 
	}
}

161 
	$__kmp_commÚ_de¡roy
() {

162 ià(
	`TCR_4
(
__kmp_š™_commÚ
)) {

163 
q
;

165 
	`TCW_4
(
__kmp_š™_commÚ
, 
FALSE
);

167 
q
 = 0; q < 
KMP_HASH_TABLE_SIZE
; ++q) {

168 
gtid
;

169 
´iv©e_commÚ
 *
Š
;

170 
sh¬ed_commÚ
 *
d_Š
;

176 
d_Š
 = 
__kmp_th»ad´iv©e_d_bË
.
d©a
[
q
]; d_tn;

177 
d_Š
 = d_Š->
Ãxt
) {

178 ià(
d_Š
->
is_vec
) {

179 ià(
d_Š
->
dt
.
dtÜv
 != 0) {

180 
gtid
 = 0; gtid < 
__kmp_®l_Áh
; ++gtid) {

181 ià(
__kmp_th»ads
[
gtid
]) {

182 ià((
__kmp_fÜeign_
è? (!
	`KMP_INITIAL_GTID
(
gtid
))

183 : (!
	`KMP_UBER_GTID
(
gtid
))) {

184 
Š
 = 
	`__kmp_th»ad´iv©e_fšd_sk_commÚ
(

185 
__kmp_th»ads
[
gtid
]->
th
.
th_´i_commÚ
, gtid,

186 
d_Š
->
gbl_addr
);

187 ià(
Š
) {

188 (*
d_Š
->
dt
.
dtÜv
)(
Š
->
·r_addr
, d_Š->
vec_Ën
);

193 ià(
d_Š
->
obj_š™
 != 0) {

194 (*
d_Š
->
dt
.
dtÜv
)(d_Š->
obj_š™
, d_Š->
vec_Ën
);

198 ià(
d_Š
->
dt
.
dtÜ
 != 0) {

199 
gtid
 = 0; gtid < 
__kmp_®l_Áh
; ++gtid) {

200 ià(
__kmp_th»ads
[
gtid
]) {

201 ià((
__kmp_fÜeign_
è? (!
	`KMP_INITIAL_GTID
(
gtid
))

202 : (!
	`KMP_UBER_GTID
(
gtid
))) {

203 
Š
 = 
	`__kmp_th»ad´iv©e_fšd_sk_commÚ
(

204 
__kmp_th»ads
[
gtid
]->
th
.
th_´i_commÚ
, gtid,

205 
d_Š
->
gbl_addr
);

206 ià(
Š
) {

207 (*
d_Š
->
dt
.
dtÜ
)(
Š
->
·r_addr
);

212 ià(
d_Š
->
obj_š™
 != 0) {

213 (*
d_Š
->
dt
.
dtÜ
)(d_Š->
obj_š™
);

218 
__kmp_th»ad´iv©e_d_bË
.
d©a
[
q
] = 0;

221 
	}
}

224 
	$__kmp_commÚ_de¡roy_gtid
(
gtid
) {

225 
´iv©e_commÚ
 *
Š
;

226 
sh¬ed_commÚ
 *
d_Š
;

228 ià(!
	`TCR_4
(
__kmp_š™_gtid
)) {

235 
	`KC_TRACE
(10, ("__kmp_commÚ_de¡roy_gtid: T#%d c®Ëd\n", 
gtid
));

236 ià((
__kmp_fÜeign_
è? (!
	`KMP_INITIAL_GTID
(
gtid
)è: (!
	`KMP_UBER_GTID
(gtid))) {

238 ià(
	`TCR_4
(
__kmp_š™_commÚ
)) {

243 
Š
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_´i_h—d
;n;ÀğŠ->
lšk
) {

245 
d_Š
 = 
	`__kmp_fšd_sh¬ed_sk_commÚ
(&
__kmp_th»ad´iv©e_d_bË
, 
gtid
,

246 
Š
->
gbl_addr
);

248 
	`KMP_DEBUG_ASSERT
(
d_Š
);

250 ià(
d_Š
->
is_vec
) {

251 ià(
d_Š
->
dt
.
dtÜv
 != 0) {

252 ()(*
d_Š
->
dt
.
dtÜv
)(
Š
->
·r_addr
, d_Š->
vec_Ën
);

254 ià(
d_Š
->
obj_š™
 != 0) {

255 ()(*
d_Š
->
dt
.
dtÜv
)(d_Š->
obj_š™
, d_Š->
vec_Ën
);

258 ià(
d_Š
->
dt
.
dtÜ
 != 0) {

259 ()(*
d_Š
->
dt
.
dtÜ
)(
Š
->
·r_addr
);

261 ià(
d_Š
->
obj_š™
 != 0) {

262 ()(*
d_Š
->
dt
.
dtÜ
)(d_Š->
obj_š™
);

266 
	`KC_TRACE
(30, ("__kmp_common_destroy_gtid: T#%dhreadprivate destructors "

268 
gtid
));

271 
	}
}

273 #ifdeà
KMP_TASK_COMMON_DEBUG


274 
	$dump_li¡
() {

275 
p
, 
q
;

277 
p
 = 0;… < 
__kmp_®l_Áh
; ++p) {

278 ià(!
__kmp_th»ads
[
p
])

280 
q
 = 0; q < 
KMP_HASH_TABLE_SIZE
; ++q) {

281 ià(
__kmp_th»ads
[
p
]->
th
.
th_´i_commÚ
->
d©a
[
q
]) {

282 
´iv©e_commÚ
 *
Š
;

284 
	`KC_TRACE
(10, ("\tdump_li¡: gtid:%d‡dd»s£s\n", 
p
));

286 
Š
 = 
__kmp_th»ads
[
p
]->
th
.
th_´i_commÚ
->
d©a
[
q
];n;

287 
Š
 =n->
Ãxt
) {

288 
	`KC_TRACE
(10,

290 
Š
->
gbl_addr
,n->
·r_addr
));

295 
	}
}

299 
	$kmp_th»ad´iv©e_š£¹_´iv©e_d©a
(
gtid
, *
pc_addr
,

300 *
d©a_addr
, 
size_t
 
pc_size
) {

301 
sh¬ed_commÚ
 **
Êk_Š
, *
d_Š
;

302 
	`KMP_DEBUG_ASSERT
(
__kmp_th»ads
[
gtid
] &&

303 
__kmp_th»ads
[
gtid
]->
th
.
th_roÙ
->
r
.
r_aùive
 == 0);

305 
d_Š
 = 
	`__kmp_fšd_sh¬ed_sk_commÚ
(&
__kmp_th»ad´iv©e_d_bË
, 
gtid
,

306 
pc_addr
);

308 ià(
d_Š
 == 0) {

309 
d_Š
 = (
sh¬ed_commÚ
 *)
	`__kmp_®loÿ‹
((shared_common));

311 
d_Š
->
gbl_addr
 = 
pc_addr
;

312 
d_Š
->
pod_š™
 = 
	`__kmp_š™_commÚ_d©a
(
d©a_addr
, 
pc_size
);

322 
d_Š
->
cmn_size
 = 
pc_size
;

324 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

326 
Êk_Š
 = &(
__kmp_th»ad´iv©e_d_bË
.
d©a
[
	`KMP_HASH
(
pc_addr
)]);

328 
d_Š
->
Ãxt
 = *
Êk_Š
;

329 *
Êk_Š
 = 
d_Š
;

331 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

333 
	}
}

335 
´iv©e_commÚ
 *
	$kmp_th»ad´iv©e_š£¹
(
gtid
, *
pc_addr
,

336 *
d©a_addr
,

337 
size_t
 
pc_size
) {

338 
´iv©e_commÚ
 *
Š
, **
‰
;

339 
sh¬ed_commÚ
 *
d_Š
;

342 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
gtid
);

344 
Š
 = (
´iv©e_commÚ
 *)
	`__kmp_®loÿ‹
((private_common));

346 
Š
->
gbl_addr
 = 
pc_addr
;

348 
d_Š
 = 
	`__kmp_fšd_sh¬ed_sk_commÚ
(

349 &
__kmp_th»ad´iv©e_d_bË
, 
gtid
,

350 
pc_addr
);

352 ià(
d_Š
 != 0) {

355 ià(
d_Š
->
pod_š™
 =ğ0 && d_Š->
obj_š™
 == 0) {

356 
d_Š
->
cmn_size
 = 
pc_size
;

358 ià(
d_Š
->
is_vec
) {

359 ià(
d_Š
->
ù
.
ùÜv
 != 0) {

361 
d_Š
->
obj_š™
 = 0;

362 } ià(
d_Š
->
cù
.
cùÜv
 != 0) {

365 
d_Š
->
obj_š™
 = (*)
	`__kmp_®loÿ‹
(d_Š->
cmn_size
);

366 ()(*
d_Š
->
cù
.
cùÜv
)(d_Š->
obj_š™
, 
pc_addr
, d_Š->
vec_Ën
);

368 
d_Š
->
pod_š™
 = 
	`__kmp_š™_commÚ_d©a
(
d©a_addr
, d_Š->
cmn_size
);

371 ià(
d_Š
->
ù
.
ùÜ
 != 0) {

373 
d_Š
->
obj_š™
 = 0;

374 } ià(
d_Š
->
cù
.
cùÜ
 != 0) {

377 
d_Š
->
obj_š™
 = (*)
	`__kmp_®loÿ‹
(d_Š->
cmn_size
);

378 ()(*
d_Š
->
cù
.
cùÜ
)(d_Š->
obj_š™
, 
pc_addr
);

380 
d_Š
->
pod_š™
 = 
	`__kmp_š™_commÚ_d©a
(
d©a_addr
, d_Š->
cmn_size
);

385 
sh¬ed_commÚ
 **
Êk_Š
;

387 
d_Š
 = (
sh¬ed_commÚ
 *)
	`__kmp_®loÿ‹
((shared_common));

388 
d_Š
->
gbl_addr
 = 
pc_addr
;

389 
d_Š
->
cmn_size
 = 
pc_size
;

390 
d_Š
->
pod_š™
 = 
	`__kmp_š™_commÚ_d©a
(
d©a_addr
, 
pc_size
);

400 
Êk_Š
 = &(
__kmp_th»ad´iv©e_d_bË
.
d©a
[
	`KMP_HASH
(
pc_addr
)]);

402 
d_Š
->
Ãxt
 = *
Êk_Š
;

403 *
Êk_Š
 = 
d_Š
;

406 
Š
->
cmn_size
 = 
d_Š
->cmn_size;

408 ià((
__kmp_fÜeign_
è? (
	`KMP_INITIAL_GTID
(
gtid
)è: (
	`KMP_UBER_GTID
(gtid))) {

409 
Š
->
·r_addr
 = (*)
pc_addr
;

411 
Š
->
·r_addr
 = (*)
	`__kmp_®loÿ‹
Ñn->
cmn_size
);

414 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
gtid
);

417 #ifdeà
USE_CHECKS_COMMON


418 ià(
pc_size
 > 
d_Š
->
cmn_size
) {

419 
	`KC_TRACE
(

420 10, ("__kmp_th»ad´iv©e_š£¹: THREADPRIVATE: %°(%" 
KMP_UINTPTR_SPEC


421 " ,%" 
KMP_UINTPTR_SPEC
 ")\n",

422 
pc_addr
, 
pc_size
, 
d_Š
->
cmn_size
));

423 
	`KMP_FATAL
(
TPCommÚBlocksIncÚsi¡
);

427 
‰
 = &(
__kmp_th»ads
[
gtid
]->
th
.
th_´i_commÚ
->
d©a
[
	`KMP_HASH
(
pc_addr
)]);

429 #ifdeà
KMP_TASK_COMMON_DEBUG


430 ià(*
‰
 != 0) {

431 
	`KC_TRACE
(

434 
gtid
, 
pc_addr
));

437 
Š
->
Ãxt
 = *
‰
;

438 *
‰
 = 
Š
;

440 #ifdeà
KMP_TASK_COMMON_DEBUG


441 
	`KC_TRACE
(10,

443 
gtid
, 
pc_addr
));

444 
	`dump_li¡
();

449 
Š
->
lšk
 = 
__kmp_th»ads
[
gtid
]->
th
.
th_´i_h—d
;

450 
__kmp_th»ads
[
gtid
]->
th
.
th_´i_h—d
 = 
Š
;

452 ià((
__kmp_fÜeign_
è? (
	`KMP_INITIAL_GTID
(
gtid
)è: (
	`KMP_UBER_GTID
(gtid)))

453  
Š
;

465 ià(
d_Š
->
is_vec
) {

466 ià(
d_Š
->
ù
.
ùÜv
 != 0) {

467 ()(*
d_Š
->
ù
.
ùÜv
)(
Š
->
·r_addr
, d_Š->
vec_Ën
);

468 } ià(
d_Š
->
cù
.
cùÜv
 != 0) {

469 ()(*
d_Š
->
cù
.
cùÜv
)(
Š
->
·r_addr
, d_Š->
obj_š™
, d_Š->
vec_Ën
);

470 } ià(
Š
->
·r_addr
 !ğŠ->
gbl_addr
) {

471 
	`__kmp_cİy_commÚ_d©a
(
Š
->
·r_addr
, 
d_Š
->
pod_š™
);

474 ià(
d_Š
->
ù
.
ùÜ
 != 0) {

475 ()(*
d_Š
->
ù
.
ùÜ
)(
Š
->
·r_addr
);

476 } ià(
d_Š
->
cù
.
cùÜ
 != 0) {

477 ()(*
d_Š
->
cù
.
cùÜ
)(
Š
->
·r_addr
, d_Š->
obj_š™
);

478 } ià(
Š
->
·r_addr
 !ğŠ->
gbl_addr
) {

479 
	`__kmp_cİy_commÚ_d©a
(
Š
->
·r_addr
, 
d_Š
->
pod_š™
);

486  
Š
;

487 
	}
}

505 
	$__kmpc_th»ad´iv©e_»gi¡”
(
id’t_t
 *
loc
, *
d©a
, 
kmpc_ùÜ
 
ùÜ
,

506 
kmpc_cùÜ
 
cùÜ
, 
kmpc_dtÜ
 
dtÜ
) {

507 
sh¬ed_commÚ
 *
d_Š
, **
Êk_Š
;

509 
	`KC_TRACE
(10, ("__kmpc_threadprivate_register: called\n"));

511 #ifdeà
USE_CHECKS_COMMON


513 
	`KMP_ASSERT
(
cùÜ
 == 0);

517 
d_Š
 = 
	`__kmp_fšd_sh¬ed_sk_commÚ
(&
__kmp_th»ad´iv©e_d_bË
, -1, 
d©a
);

519 ià(
d_Š
 == 0) {

520 
d_Š
 = (
sh¬ed_commÚ
 *)
	`__kmp_®loÿ‹
((shared_common));

521 
d_Š
->
gbl_addr
 = 
d©a
;

523 
d_Š
->
ù
.
ùÜ
 = ctor;

524 
d_Š
->
cù
.
cùÜ
 = cctor;

525 
d_Š
->
dt
.
dtÜ
 = dtor;

533 
Êk_Š
 = &(
__kmp_th»ad´iv©e_d_bË
.
d©a
[
	`KMP_HASH
(data)]);

535 
d_Š
->
Ãxt
 = *
Êk_Š
;

536 *
Êk_Š
 = 
d_Š
;

538 
	}
}

540 *
	$__kmpc_th»ad´iv©e
(
id’t_t
 *
loc
, 
kmp_št32
 
glob®_tid
, *
d©a
,

541 
size_t
 
size
) {

542 *
»t
;

543 
´iv©e_commÚ
 *
Š
;

545 
	`KC_TRACE
(10, ("__kmpc_th»ad´iv©e: T#%d c®Ëd\n", 
glob®_tid
));

547 #ifdeà
USE_CHECKS_COMMON


548 ià(!
__kmp_š™_£rŸl
)

549 
	`KMP_FATAL
(
RTLNÙIn™Ÿlized
);

552 ià(!
__kmp_th»ads
[
glob®_tid
]->
th
.
th_roÙ
->
r
.
r_aùive
 && !
__kmp_fÜeign_
) {

557 
	`KC_TRACE
(20, ("__kmpc_threadprivate: T#%d inserting…rivate data\n",

558 
glob®_tid
));

559 
	`kmp_th»ad´iv©e_š£¹_´iv©e_d©a
(
glob®_tid
, 
d©a
, d©a, 
size
);

561 
»t
 = 
d©a
;

563 
	`KC_TRACE
(

566 
glob®_tid
, 
d©a
));

567 
Š
 = 
	`__kmp_th»ad´iv©e_fšd_sk_commÚ
(

568 
__kmp_th»ads
[
glob®_tid
]->
th
.
th_´i_commÚ
, glob®_tid, 
d©a
);

570 ià(
Š
) {

571 
	`KC_TRACE
(20, ("__kmpc_th»ad´iv©e: T#%d found d©a\n", 
glob®_tid
));

572 #ifdeà
USE_CHECKS_COMMON


573 ià((
size_t
)
size
 > 
Š
->
cmn_size
) {

574 
	`KC_TRACE
(10, ("THREADPRIVATE: %°(%" 
KMP_UINTPTR_SPEC


575 " ,%" 
KMP_UINTPTR_SPEC
 ")\n",

576 
d©a
, 
size
, 
Š
->
cmn_size
));

577 
	`KMP_FATAL
(
TPCommÚBlocksIncÚsi¡
);

584 
	`KC_TRACE
(20, ("__kmpc_th»ad´iv©e: T#%d in£¹šg d©a\n", 
glob®_tid
));

585 
Š
 = 
	`kmp_th»ad´iv©e_š£¹
(
glob®_tid
, 
d©a
, d©a, 
size
);

588 
»t
 = 
Š
->
·r_addr
;

590 
	`KC_TRACE
(10, ("__kmpc_threadprivate: T#%dƒxiting;„eturn value = %p\n",

591 
glob®_tid
, 
»t
));

593  
»t
;

594 
	}
}

596 
kmp_ÿched_addr_t
 *
	$__kmp_fšd_ÿche
(*
d©a
) {

597 
kmp_ÿched_addr_t
 *
±r
 = 
__kmp_th»ad´iv_ÿche_li¡
;

598 
±r
 &&…Œ->
d©a
 != data)

599 
±r
 =…Œ->
Ãxt
;

600  
±r
;

601 
	}
}

615 
	$__kmpc_th»ad´iv©e_ÿched
(
id’t_t
 *
loc
,

616 
kmp_št32
 
glob®_tid
,

617 *
d©a
,

618 
size_t
 
size
,

619 ***
ÿche
) {

620 
	`KC_TRACE
(10, ("__kmpc_threadprivate_cached: T#%d called with cache: %p, "

621 "add»ss: %p, size: %" 
KMP_SIZE_T_SPEC
 "\n",

622 
glob®_tid
, *
ÿche
, 
d©a
, 
size
));

624 ià(
	`TCR_PTR
(*
ÿche
) == 0) {

625 
	`__kmp_acquœe_lock
(&
__kmp_glob®_lock
, 
glob®_tid
);

627 ià(
	`TCR_PTR
(*
ÿche
) == 0) {

628 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp__ÿched_lock
);

630 **
my_ÿche
;

631 
kmp_ÿched_addr_t
 *
_ÿche_addr
;

633 
_ÿche_addr
 = 
	`__kmp_fšd_ÿche
(
d©a
);

634 ià(!
_ÿche_addr
) {

635 
__kmp__ÿched
 = 1;

636 
	`KMP_ITT_IGNORE
(
my_ÿche
 = (**)
	`__kmp_®loÿ‹
(

637 (*è* 
__kmp__ÿ·c™y
 +

638 (
kmp_ÿched_addr_t
)););

640 
	`KC_TRACE
(50, ("__kmpc_threadprivate_cached: T#%d‡llocated cache‡t "

642 
glob®_tid
, 
my_ÿche
));

646 
_ÿche_addr
 = (
kmp_ÿched_addr_t
 *)&
my_ÿche
[
__kmp__ÿ·c™y
];

647 
_ÿche_addr
->
addr
 = 
my_ÿche
;

648 
_ÿche_addr
->
d©a
 = data;

649 
_ÿche_addr
->
comp”_ÿche
 = 
ÿche
;

650 
_ÿche_addr
->
Ãxt
 = 
__kmp_th»ad´iv_ÿche_li¡
;

651 
__kmp_th»ad´iv_ÿche_li¡
 = 
_ÿche_addr
;

653 
my_ÿche
 = 
_ÿche_addr
->
addr
;

654 
_ÿche_addr
->
comp”_ÿche
 = 
ÿche
;

656 
	`KMP_MB
();

658 
	`TCW_PTR
(*
ÿche
, 
my_ÿche
);

659 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp__ÿched_lock
);

661 
	`KMP_MB
();

663 
	`__kmp_»Ëa£_lock
(&
__kmp_glob®_lock
, 
glob®_tid
);

666 *
»t
;

667 ià((
»t
 = 
	`TCR_PTR
((*
ÿche
)[
glob®_tid
])) == 0) {

668 
»t
 = 
	`__kmpc_th»ad´iv©e
(
loc
, 
glob®_tid
, 
d©a
, (
size_t
)
size
);

670 
	`TCW_PTR
((*
ÿche
)[
glob®_tid
], 
»t
);

672 
	`KC_TRACE
(10,

674 
glob®_tid
, 
»t
));

675  
»t
;

676 
	}
}

680 
	$__kmp_th»ad´iv©e_»size_ÿche
(
ÃwC­ac™y
) {

681 
	`KC_TRACE
(10, ("__kmp_threadprivate_resize_cache: called with size: %d\n",

682 
ÃwC­ac™y
));

684 
kmp_ÿched_addr_t
 *
±r
 = 
__kmp_th»ad´iv_ÿche_li¡
;

686 
±r
) {

687 ià(
±r
->
d©a
) {

688 **
my_ÿche
;

689 
	`KMP_ITT_IGNORE
(
my_ÿche
 =

690 (**)
	`__kmp_®loÿ‹
((*è* 
ÃwC­ac™y
 +

691 (
kmp_ÿched_addr_t
)););

693 
	`KC_TRACE
(50, ("__kmp_threadprivate_resize_cache:‡llocated cache‡t %p\n",

694 
my_ÿche
));

696 **
Şd_ÿche
 = 
±r
->
addr
;

697 
i
 = 0; i < 
__kmp__ÿ·c™y
; ++i) {

698 
my_ÿche
[
i
] = 
Şd_ÿche
[i];

702 
kmp_ÿched_addr_t
 *
_ÿche_addr
;

703 
_ÿche_addr
 = (
kmp_ÿched_addr_t
 *)&
my_ÿche
[
ÃwC­ac™y
];

704 
_ÿche_addr
->
addr
 = 
my_ÿche
;

705 
_ÿche_addr
->
d©a
 = 
±r
->data;

706 
_ÿche_addr
->
comp”_ÿche
 = 
±r
->compiler_cache;

707 
_ÿche_addr
->
Ãxt
 = 
__kmp_th»ad´iv_ÿche_li¡
;

708 
__kmp_th»ad´iv_ÿche_li¡
 = 
_ÿche_addr
;

719 ()
	`KMP_COMPARE_AND_STORE_PTR
(
_ÿche_addr
->
comp”_ÿche
, 
Şd_ÿche
,

720 
my_ÿche
);

729 
±r
->
d©a
 = 
NULL
;

731 
±r
 =…Œ->
Ãxt
;

734 *(vŞ©*)&
__kmp__ÿ·c™y
 = 
ÃwC­ac™y
;

735 
	}
}

747 
	$__kmpc_th»ad´iv©e_»gi¡”_vec
(
id’t_t
 *
loc
, *
d©a
,

748 
kmpc_ùÜ_vec
 
ùÜ
, 
kmpc_cùÜ_vec
 
cùÜ
,

749 
kmpc_dtÜ_vec
 
dtÜ
,

750 
size_t
 
veùÜ_Ëngth
) {

751 
sh¬ed_commÚ
 *
d_Š
, **
Êk_Š
;

753 
	`KC_TRACE
(10, ("__kmpc_threadprivate_register_vec: called\n"));

755 #ifdeà
USE_CHECKS_COMMON


757 
	`KMP_ASSERT
(
cùÜ
 == 0);

760 
d_Š
 = 
	`__kmp_fšd_sh¬ed_sk_commÚ
(

761 &
__kmp_th»ad´iv©e_d_bË
, -1,

762 
d©a
);

764 ià(
d_Š
 == 0) {

765 
d_Š
 = (
sh¬ed_commÚ
 *)
	`__kmp_®loÿ‹
((shared_common));

766 
d_Š
->
gbl_addr
 = 
d©a
;

768 
d_Š
->
ù
.
ùÜv
 = 
ùÜ
;

769 
d_Š
->
cù
.
cùÜv
 = 
cùÜ
;

770 
d_Š
->
dt
.
dtÜv
 = 
dtÜ
;

771 
d_Š
->
is_vec
 = 
TRUE
;

772 
d_Š
->
vec_Ën
 = (
size_t
)
veùÜ_Ëngth
;

775 
Êk_Š
 = &(
__kmp_th»ad´iv©e_d_bË
.
d©a
[
	`KMP_HASH
(data)]);

777 
d_Š
->
Ãxt
 = *
Êk_Š
;

778 *
Êk_Š
 = 
d_Š
;

780 
	}
}

782 
	$__kmp_ş—nup_th»ad´iv©e_ÿches
() {

783 
kmp_ÿched_addr_t
 *
±r
 = 
__kmp_th»ad´iv_ÿche_li¡
;

785 
±r
) {

786 **
ÿche
 = 
±r
->
addr
;

787 
__kmp_th»ad´iv_ÿche_li¡
 = 
±r
->
Ãxt
;

788 ià(*
±r
->
comp”_ÿche
)

789 *
±r
->
comp”_ÿche
 = 
NULL
;

790 
±r
->
comp”_ÿche
 = 
NULL
;

791 
±r
->
d©a
 = 
NULL
;

792 
±r
->
addr
 = 
NULL
;

793 
±r
->
Ãxt
 = 
NULL
;

796 
	`__kmp_ä“
(
ÿche
);

797 
±r
 = 
__kmp_th»ad´iv_ÿche_li¡
;

799 
	}
}

	@kmp_utility.cpp

13 
	~"kmp.h
"

14 
	~"kmp_i18n.h
"

15 
	~"kmp_¡r.h
"

16 
	~"kmp_w¿µ”_g‘pid.h
"

17 
	~<æßt.h
>

19 cÚ¡ *
	gunknown
 = "unknown";

21 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


27 #ifdeà
KMP_DEBUG


28 
	gŒaû_Ëv–
 = 5;

35 
	$__kmp_g‘_physiÿl_id
(
log_³r_phy
, 
­ic_id
) {

36 
šdex_lsb
, 
šdex_msb
, 
‹mp
;

38 ià(
log_³r_phy
 > 1) {

39 
šdex_lsb
 = 0;

40 
šdex_msb
 = 31;

42 
‹mp
 = 
log_³r_phy
;

43 (
‹mp
 & 1) == 0) {

44 
‹mp
 >>= 1;

45 
šdex_lsb
++;

48 
‹mp
 = 
log_³r_phy
;

49 (
‹mp
 & 0x80000000) == 0) {

50 
‹mp
 <<= 1;

51 
šdex_msb
--;

55 ià(
šdex_lsb
 !ğ
šdex_msb
)

56 
šdex_msb
++;

58  (()(
­ic_id
 >> 
šdex_msb
));

61  
­ic_id
;

62 
	}
}

69 
	$__kmp_g‘_logiÿl_id
(
log_³r_phy
, 
­ic_id
) {

70 
cu¼’t_b™
;

71 
b™s_£’
;

73 ià(
log_³r_phy
 <= 1)

76 
b™s_£’
 = 0;

78 
cu¼’t_b™
 = 1; 
log_³r_phy
 != 0; current_bit <<= 1) {

79 ià(
log_³r_phy
 & 
cu¼’t_b™
) {

80 
log_³r_phy
 &ğ~
cu¼’t_b™
;

81 
b™s_£’
++;

86 ià(
b™s_£’
 == 1) {

87 
cu¼’t_b™
 >>= 1;

90  (()((
cu¼’t_b™
 - 1è& 
­ic_id
));

91 
	}
}

93 
kmp_ušt64
 
	$__kmp_·r£_äequ’cy
(

94 cÚ¡ *
äequ’cy


97 
v®ue
 = 0.0;

98 *
un™
 = 
NULL
;

99 
kmp_ušt64
 
»suÉ
 = 0;

101 ià(
äequ’cy
 =ğ
NULL
) {

102  
»suÉ
;

104 
v®ue
 = 
	`¡¹od
(
äequ’cy
, &
un™
);

105 ià(0 < 
v®ue
 &&

106 
v®ue
 <ğ
DBL_MAX
) {

107 ià(
	`¡rcmp
(
un™
, "MHz") == 0) {

108 
v®ue
 = value * 1.0E+6;

109 } ià(
	`¡rcmp
(
un™
, "GHz") == 0) {

110 
v®ue
 = value * 1.0E+9;

111 } ià(
	`¡rcmp
(
un™
, "THz") == 0) {

112 
v®ue
 = value * 1.0E+12;

114  
»suÉ
;

116 
»suÉ
 = 
v®ue
;

118  
»suÉ
;

120 
	}
}

122 
	$__kmp_qu”y_ıuid
(
kmp_ıušfo_t
 *
p
) {

123 
kmp_ıuid
 
buf
;

124 
max_¬g
;

125 
log_³r_phy
;

126 #ifdeà
KMP_DEBUG


127 
cæush_size
;

130 
p
->
š™Ÿlized
 = 1;

132 
p
->
s£2
 = 1;

134 
	`__kmp_x86_ıuid
(0, 0, &
buf
);

136 
	`KA_TRACE
(
Œaû_Ëv–
,

138 
buf
.
—x
, buf.
ebx
, buf.
ecx
, buf.
edx
));

140 
max_¬g
 = 
buf
.
—x
;

142 
p
->
­ic_id
 = -1;

144 ià(
max_¬g
 >= 1) {

145 
i
;

146 
kmp_ušt32
 
t
, 
d©a
[4];

148 
	`__kmp_x86_ıuid
(1, 0, &
buf
);

149 
	`KA_TRACE
(
Œaû_Ëv–
,

151 1, 
buf
.
—x
, buf.
ebx
, buf.
ecx
, buf.
edx
));

154 
	#g‘_v®ue
(
»g
, 
lo
, 
mask
è((Ôegè>> (lo)è& (mask))

	)

156 
p
->
sigÇtu»
 = 
buf
.
—x
;

157 
p
->
çmy
 = 
	`g‘_v®ue
(
buf
.
—x
, 20, 0xff) + get_value(buf.eax, 8, 0x0f);

158 
p
->
mod–
 =

159 (
	`g‘_v®ue
(
buf
.
—x
, 16, 0x0f) << 4) + get_value(buf.eax, 4, 0x0f);

160 
p
->
¡•pšg
 = 
	`g‘_v®ue
(
buf
.
—x
, 0, 0x0f);

162 #undeà
g‘_v®ue


164 
	`KA_TRACE
(
Œaû_Ëv–
, (" family = %d, model = %d, stepping = %d\n",

165 
p
->
çmy
,…->
mod–
,…->
¡•pšg
));

168 
t
 = 
buf
.
ebx
, 
i
 = 0; i < 4; >>= 8, ++i) {

169 
d©a
[
i
] = (
t
 & 0xff);

172 
p
->
s£2
 = (
buf
.
edx
 >> 26) & 1;

174 #ifdeà
KMP_DEBUG


176 ià((
buf
.
edx
 >> 4) & 1) {

178 
	`KA_TRACE
(
Œaû_Ëv–
, (" TSC"));

180 ià((
buf
.
edx
 >> 8) & 1) {

182 
	`KA_TRACE
(
Œaû_Ëv–
, (" CX8"));

184 ià((
buf
.
edx
 >> 9) & 1) {

186 
	`KA_TRACE
(
Œaû_Ëv–
, (" APIC"));

188 ià((
buf
.
edx
 >> 15) & 1) {

190 
	`KA_TRACE
(
Œaû_Ëv–
, (" CMOV"));

192 ià((
buf
.
edx
 >> 18) & 1) {

194 
	`KA_TRACE
(
Œaû_Ëv–
, (" PSN"));

196 ià((
buf
.
edx
 >> 19) & 1) {

198 
cæush_size
 =

199 
d©a
[1] * 8;

200 
	`KA_TRACE
(
Œaû_Ëv–
, (" CLFLUSH(%db)", 
cæush_size
));

202 ià((
buf
.
edx
 >> 21) & 1) {

204 
	`KA_TRACE
(
Œaû_Ëv–
, (" DTES"));

206 ià((
buf
.
edx
 >> 22) & 1) {

208 
	`KA_TRACE
(
Œaû_Ëv–
, (" ACPI"));

210 ià((
buf
.
edx
 >> 23) & 1) {

212 
	`KA_TRACE
(
Œaû_Ëv–
, (" MMX"));

214 ià((
buf
.
edx
 >> 25) & 1) {

216 
	`KA_TRACE
(
Œaû_Ëv–
, (" SSE"));

218 ià((
buf
.
edx
 >> 26) & 1) {

220 
	`KA_TRACE
(
Œaû_Ëv–
, (" SSE2"));

222 ià((
buf
.
edx
 >> 27) & 1) {

224 
	`KA_TRACE
(
Œaû_Ëv–
, (" SLFSNP"));

228 ià((
buf
.
edx
 >> 28) & 1) {

230 
log_³r_phy
 = 
d©a
[2];

231 
p
->
­ic_id
 = 
d©a
[3];

232 
	`KA_TRACE
(
Œaû_Ëv–
, (" HT(%d TPUs)", 
log_³r_phy
));

234 ià(
log_³r_phy
 > 1) {

236 #ià
KMP_OS_DARWIN


237 
p
->
ıu_¡ackoff£t
 = 4 * 1024;

239 
p
->
ıu_¡ackoff£t
 = 1 * 1024;

243 
p
->
physiÿl_id
 = 
	`__kmp_g‘_physiÿl_id
(
log_³r_phy
,…->
­ic_id
);

244 
p
->
logiÿl_id
 = 
	`__kmp_g‘_logiÿl_id
(
log_³r_phy
,…->
­ic_id
);

246 #ifdeà
KMP_DEBUG


247 ià((
buf
.
edx
 >> 29) & 1) {

249 
	`KA_TRACE
(
Œaû_Ëv–
, (" ATHROTL"));

251 
	`KA_TRACE
(
Œaû_Ëv–
, (" ]\n"));

253 
i
 = 2; i <ğ
max_¬g
; ++i) {

254 
	`__kmp_x86_ıuid
(
i
, 0, &
buf
);

255 
	`KA_TRACE
(
Œaû_Ëv–
,

257 
i
, 
buf
.
—x
, buf.
ebx
, buf.
ecx
, buf.
edx
));

260 #ià
KMP_USE_ADAPTIVE_LOCKS


261 
p
->
¹m
 = 0;

262 ià(
max_¬g
 > 7) {

264 
	`__kmp_x86_ıuid
(7, 0, &
buf
);

265 
p
->
¹m
 = (
buf
.
ebx
 >> 11) & 1;

266 
	`KA_TRACE
(
Œaû_Ëv–
, (" RTM"));

272 
i
;

273 
kmp_ıuid_t
 *
ba£
 = (kmp_ıuid_ˆ*)&
p
->
Çme
[0];

276 
i
 = 0; i < 3; ++i) {

277 
	`__kmp_x86_ıuid
(0x80000002 + 
i
, 0, 
ba£
 + i);

279 
p
->
Çme
[(p->name) - 1] = 0;

280 
	`KA_TRACE
(
Œaû_Ëv–
, ("ıu b¿nd sŒšg: \"%s\"\n", &
p
->
Çme
[0]));

283 
p
->
äequ’cy
 = 
	`__kmp_·r£_äequ’cy
(
	`¡¼chr
(&p->
Çme
[0], ' '));

284 
	`KA_TRACE
(
Œaû_Ëv–
,

285 ("ıu f»qu’cy from b¿nd sŒšg: %" 
KMP_UINT64_SPEC
 "\n",

286 
p
->
äequ’cy
));

288 
	}
}

292 
	$__kmp_ex·nd_ho¡_Çme
(*
bufãr
, 
size_t
 
size
) {

293 
	`KMP_DEBUG_ASSERT
(
size
 >ğ(
unknown
));

294 #ià
KMP_OS_WINDOWS


296 
DWORD
 
s
 = 
size
;

298 ià(!
	`G‘Compu‹rNameA
(
bufãr
, &
s
))

299 
	`KMP_STRCPY_S
(
bufãr
, 
size
, 
unknown
);

302 
bufãr
[
size
 - 2] = 0;

303 ià(
	`g‘ho¡Çme
(
bufãr
, 
size
) || buffer[size - 2] != 0)

304 
	`KMP_STRCPY_S
(
bufãr
, 
size
, 
unknown
);

306 
	}
}

315 
	$__kmp_ex·nd_fe_Çme
(*
»suÉ
, 
size_t
 
¾’
, *
·‰”n
) {

316 *
pos
 = 
»suÉ
, *
’d
 =„esuÉ + 
¾’
 - 1;

317 
bufãr
[256];

318 
deçuÉ_ıu_width
 = 1;

319 
¢p_»suÉ
;

321 
	`KMP_DEBUG_ASSERT
(
¾’
 > 0);

322 *
’d
 = 0;

324 
i
;

325 
i
 = 
__kmp_x´oc
; i >ğ10; i /ğ10, ++
deçuÉ_ıu_width
)

329 ià(
·‰”n
 !ğ
NULL
) {

330 *
·‰”n
 !ğ'\0' && 
pos
 < 
’d
) {

331 ià(*
·‰”n
 != '%') {

332 *
pos
++ = *
·‰”n
++;

334 *
Şd_·‰”n
 = 
·‰”n
;

335 
width
 = 1;

336 
ıu_width
 = 
deçuÉ_ıu_width
;

338 ++
·‰”n
;

340 ià(*
·‰”n
 >= '0' && *pattern <= '9') {

341 
width
 = 0;

343 
width
 = (width * 10è+ *
·‰”n
++ - '0';

344 } *
·‰”n
 >= '0' && *pattern <= '9');

345 ià(
width
 < 0 || width > 1024)

346 
width
 = 1;

348 
ıu_width
 = 
width
;

351 *
·‰”n
) {

354 
	`__kmp_ex·nd_ho¡_Çme
(
bufãr
, (buffer));

355 
	`KMP_STRNCPY
(
pos
, 
bufãr
, 
’d
 -…os + 1);

356 ià(*
’d
 == 0) {

357 *
pos
)

358 ++
pos
;

359 ++
·‰”n
;

361 
pos
 = 
’d
;

365 
¢p_»suÉ
 = 
	`KMP_SNPRINTF
(
pos
, 
’d
 -…o + 1, "%0*d", 
ıu_width
,

366 
__kmp_dæt_‹am_Áh
);

367 ià(
¢p_»suÉ
 >ğ0 && sÅ_»suÉ <ğ
’d
 - 
pos
) {

368 *
pos
)

369 ++
pos
;

370 ++
·‰”n
;

372 
pos
 = 
’d
;

376 
pid_t
 
id
 = 
	`g‘pid
();

377 #ià
KMP_ARCH_X86_64
 && 
	`defšed
(
__MINGW32__
)

378 
¢p_»suÉ
 = 
	`KMP_SNPRINTF
(
pos
, 
’d
 -…o + 1, "%0*Îd", 
width
, 
id
);

380 
¢p_»suÉ
 = 
	`KMP_SNPRINTF
(
pos
, 
’d
 -…o + 1, "%0*d", 
width
, 
id
);

382 ià(
¢p_»suÉ
 >ğ0 && sÅ_»suÉ <ğ
’d
 - 
pos
) {

383 *
pos
)

384 ++
pos
;

385 ++
·‰”n
;

387 
pos
 = 
’d
;

391 *
pos
++ = '%';

392 ++
·‰”n
;

396 *
pos
++ = '%';

397 
·‰”n
 = 
Şd_·‰”n
 + 1;

404 ià(*
·‰”n
 != '\0')

405 
	`KMP_FATAL
(
FeNameTooLÚg
);

408 *
pos
 = '\0';

409 
	}
}

	@kmp_version.cpp

13 
	~"kmp.h
"

14 
	~"kmp_io.h
"

15 
	~"kmp_v”siÚ.h
"

18 
	#KMP_VERSION_BUILD
 20140926

	)

21 
	#_¡ršg”
(
x
è#x

	)

22 
	#¡ršg”
(
x
è
	`_¡ršg”
(x)

	)

25 #ià
KMP_COMPILER_ICC


26 #ià
__INTEL_COMPILER
 == 1010

27 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 10.1"

	)

28 #–ià
__INTEL_COMPILER
 == 1100

29 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 11.0"

	)

30 #–ià
__INTEL_COMPILER
 == 1110

31 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 11.1"

	)

32 #–ià
__INTEL_COMPILER
 == 1200

33 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 12.0"

	)

34 #–ià
__INTEL_COMPILER
 == 1210

35 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 12.1"

	)

36 #–ià
__INTEL_COMPILER
 == 1300

37 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 13.0"

	)

38 #–ià
__INTEL_COMPILER
 == 1310

39 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 13.1"

	)

40 #–ià
__INTEL_COMPILER
 == 1400

41 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 14.0"

	)

42 #–ià
__INTEL_COMPILER
 == 1410

43 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 14.1"

	)

44 #–ià
__INTEL_COMPILER
 == 1500

45 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 15.0"

	)

46 #–ià
__INTEL_COMPILER
 == 1600

47 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 16.0"

	)

48 #–ià
__INTEL_COMPILER
 == 1700

49 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 17.0"

	)

50 #–ià
__INTEL_COMPILER
 == 1800

51 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 18.0"

	)

52 #–ià
__INTEL_COMPILER
 == 1900

53 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” 19.0"

	)

54 #–ià
__INTEL_COMPILER
 >= 9900

55 
	#KMP_COMPILER
 "IÁ–(RèC++ Comp” mašlše"

	)

57 #–ià
KMP_COMPILER_CLANG


58 
	#KMP_COMPILER
 \

59 "CÏng " 
	`¡ršg”
(
__şªg_majÜ__
è"." sŒšg”(
__şªg_mšÜ__
)

	)

60 #–ià
KMP_COMPILER_GCC


61 
	#KMP_COMPILER
 "GCC " 
	`¡ršg”
(
__GNUC__
è"." sŒšg”(
__GNUC_MINOR__
)

	)

62 #–ià
KMP_COMPILER_MSVC


63 
	#KMP_COMPILER
 "MSVC " 
	`¡ršg”
(
_MSC_FULL_VER
)

	)

65 #iâdeà
KMP_COMPILER


67 
	#KMP_COMPILER
 "unknowÀcomp”"

	)

71 #ifdeà
KMP_STUB


72 
	#KMP_LIB_TYPE
 "¡ub"

	)

74 
	#KMP_LIB_TYPE
 "³rfÜmªû"

	)

78 #ià
KMP_DYNAMIC_LIB


79 
	#KMP_LINK_TYPE
 "dyÇmic"

	)

81 
	#KMP_LINK_TYPE
 "¡©ic"

	)

85 
	#KMP_LIBRARY
 
KMP_LIB_TYPE
 "†ib¿ry (" 
KMP_LINK_TYPE
 ")"

	)

86 
	#KMP_COPYRIGHT
 ""

	)

88 cÚ¡ 
	g__kmp_v”siÚ_majÜ
 = 
KMP_VERSION_MAJOR
;

89 cÚ¡ 
	g__kmp_v”siÚ_mšÜ
 = 
KMP_VERSION_MINOR
;

90 cÚ¡ 
	g__kmp_v”siÚ_bud
 = 
KMP_VERSION_BUILD
;

91 cÚ¡ 
	g__kmp_İ’mp_v”siÚ
 = 201611;

96 cÚ¡ 
	g__kmp_cİyright
[] = 
KMP_VERSION_PREFIX
 
KMP_LIBRARY


97 " v”. " 
¡ršg”
(
KMP_VERSION_MAJOR
) "." stringer(

98 
KMP_VERSION_MINOR
è"." 
¡ršg”
(
KMP_VERSION_BUILD
è" " 
KMP_COPYRIGHT
;

100 cÚ¡ 
	g__kmp_v”siÚ_cİyright
[] = 
KMP_VERSION_PREFIX
 
KMP_COPYRIGHT
;

101 cÚ¡ 
	g__kmp_v”siÚ_lib_v”
[] =

102 
KMP_VERSION_PREFIX
 "v”siÚ: " 
¡ršg”
(
KMP_VERSION_MAJOR
) "." stringer(

103 
KMP_VERSION_MINOR
è"." 
¡ršg”
(
KMP_VERSION_BUILD
);

104 cÚ¡ 
	g__kmp_v”siÚ_lib_ty³
[] =

105 
KMP_VERSION_PREFIX
 "lib¿ryy³: " 
KMP_LIB_TYPE
;

106 cÚ¡ 
	g__kmp_v”siÚ_lšk_ty³
[] =

107 
KMP_VERSION_PREFIX
 "lšky³: " 
KMP_LINK_TYPE
;

108 cÚ¡ 
	g__kmp_v”siÚ_bud_time
[] = 
KMP_VERSION_PREFIX
 "buildime: "

110 #ià
KMP_MIC2


111 cÚ¡ 
	g__kmp_v”siÚ_rg‘_’v
[] =

112 
KMP_VERSION_PREFIX
 "targetƒnvironment: MIC2";

114 cÚ¡ 
	g__kmp_v”siÚ_bud_comp”
[] =

115 
KMP_VERSION_PREFIX
 "bud comp”: " 
KMP_COMPILER
;

118 
	g__kmp_v”siÚ_1_´š‹d
 = 
FALSE
;

120 
	$__kmp_´št_v”siÚ_1
() {

121 ià(
__kmp_v”siÚ_1_´š‹d
) {

124 
__kmp_v”siÚ_1_´š‹d
 = 
TRUE
;

126 #iâdeà
KMP_STUB


127 
kmp_¡r_buf_t
 
bufãr
;

128 
	`__kmp_¡r_buf_š™
(&
bufãr
);

130 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

131 &
__kmp_v”siÚ_lib_v”
[
KMP_VERSION_MAGIC_LEN
]);

132 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

133 &
__kmp_v”siÚ_lib_ty³
[
KMP_VERSION_MAGIC_LEN
]);

134 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

135 &
__kmp_v”siÚ_lšk_ty³
[
KMP_VERSION_MAGIC_LEN
]);

136 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

137 &
__kmp_v”siÚ_bud_time
[
KMP_VERSION_MAGIC_LEN
]);

138 #ià
KMP_MIC


139 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

140 &
__kmp_v”siÚ_rg‘_’v
[
KMP_VERSION_MAGIC_LEN
]);

142 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

143 &
__kmp_v”siÚ_bud_comp”
[
KMP_VERSION_MAGIC_LEN
]);

144 #ià
	`defšed
(
KMP_GOMP_COMPAT
)

145 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

146 &
__kmp_v”siÚ_®t_comp
[
KMP_VERSION_MAGIC_LEN
]);

148 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

149 &
__kmp_v”siÚ_omp_­i
[
KMP_VERSION_MAGIC_LEN
]);

150 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%sdynamicƒrror checking: %s\n",

151 
KMP_VERSION_PREF_STR
,

152 (
__kmp_’v_cÚsi¡’cy_check
 ? "yes" : "no"));

153 #ifdeà
KMP_DEBUG


154 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; ++i) {

155 
	`__kmp_¡r_buf_´št
(

156 &
bufãr
, "%s%s barrier branch bits: gather=%u,„elease=%u\n",

157 
KMP_VERSION_PREF_STR
, 
__kmp_b¬r›r_ty³_Çme
[
i
],

158 
__kmp_b¬r›r_g©h”_b¿nch_b™s
[
i
],

159 
__kmp_b¬r›r_»Ëa£_b¿nch_b™s
[
i
]);

161 
i
 = 
bs_¶aš_b¬r›r
; i < 
bs_Ï¡_b¬r›r
; ++i) {

162 
	`__kmp_¡r_buf_´št
(

163 &
bufãr
, "%s%s barrier…attern: gather=%s,„elease=%s\n",

164 
KMP_VERSION_PREF_STR
, 
__kmp_b¬r›r_ty³_Çme
[
i
],

165 
__kmp_b¬r›r_·‰”n_Çme
[
__kmp_b¬r›r_g©h”_·‰”n
[
i
]],

166 
__kmp_b¬r›r_·‰”n_Çme


167 [
__kmp_b¬r›r_»Ëa£_·‰”n
[
i
]]);

169 
	`__kmp_¡r_buf_´št
(&
bufãr
, "%s\n",

170 &
__kmp_v”siÚ_lock
[
KMP_VERSION_MAGIC_LEN
]);

172 
	`__kmp_¡r_buf_´št
(

173 &
bufãr
, "%¡h»ad‡ffš™y suµÜt: %s\n", 
KMP_VERSION_PREF_STR
,

174 #ià
KMP_AFFINITY_SUPPORTED


175 (
	`KMP_AFFINITY_CAPABLE
()

176 ? (
__kmp_affš™y_ty³
 =ğ
affš™y_nÚe
 ? "not used" : "yes")

182 
	`__kmp_´štf
("%s", 
bufãr
.
¡r
);

183 
	`__kmp_¡r_buf_ä“
(&
bufãr
);

184 
	`K_DIAG
(1, ("KMP_VERSION isrue\n"));

186 
	}
}

189 
	g__kmp_v”siÚ_2_´š‹d
 = 
FALSE
;

191 
	$__kmp_´št_v”siÚ_2
() {

192 ià(
__kmp_v”siÚ_2_´š‹d
) {

195 
__kmp_v”siÚ_2_´š‹d
 = 
TRUE
;

196 
	}
}

	@kmp_version.h

13 #iâdeà
KMP_VERSION_H


14 
	#KMP_VERSION_H


	)

16 #ifdeà
__ılu¥lus


20 #iâdeà
KMP_VERSION_MAJOR


21 #”rÜ 
KMP_VERSION_MAJOR
 
maüo
 
is
 
nÙ
 
defšed
.

23 
	#KMP_VERSION_MINOR
 0

	)

31 
	#KMP_VERSION_MAGIC_STR
 "\x00@(#è"

	)

32 
	#KMP_VERSION_MAGIC_LEN
 6

33 
	#KMP_VERSION_PREF_STR
 "LLVM OMP "

	)

34 
	#KMP_VERSION_PREFIX
 
KMP_VERSION_MAGIC_STR
 
KMP_VERSION_PREF_STR


	)

37 cÚ¡ 
__kmp_v”siÚ_majÜ
;

38 cÚ¡ 
__kmp_v”siÚ_mšÜ
;

39 cÚ¡ 
__kmp_v”siÚ_bud
;

40 cÚ¡ 
__kmp_İ’mp_v”siÚ
;

42 
__kmp_cİyright
[];

43 cÚ¡ 
__kmp_v”siÚ_cİyright
[];

44 cÚ¡ 
__kmp_v”siÚ_lib_v”
[];

45 cÚ¡ 
__kmp_v”siÚ_lib_ty³
[];

46 cÚ¡ 
__kmp_v”siÚ_lšk_ty³
[];

47 cÚ¡ 
__kmp_v”siÚ_bud_time
[];

48 cÚ¡ 
__kmp_v”siÚ_rg‘_’v
[];

49 cÚ¡ 
__kmp_v”siÚ_bud_comp”
[];

50 cÚ¡ 
__kmp_v”siÚ_®t_comp
[];

51 cÚ¡ 
__kmp_v”siÚ_omp_­i
[];

53 cÚ¡ 
__kmp_v”siÚ_lock
[];

54 cÚ¡ 
__kmp_v”siÚ_Ã¡ed_¡©s_»pÜtšg
[];

55 cÚ¡ 
__kmp_v”siÚ_án¡dÿÎ
[];

56 cÚ¡ 
__kmp_v”siÚ_áncdeş
[];

57 cÚ¡ 
__kmp_v”siÚ_áÃxŒa
[];

59 
__kmp_´št_v”siÚ_1
();

60 
__kmp_´št_v”siÚ_2
();

62 #ifdeà
__ılu¥lus


	@kmp_wait_release.cpp

13 
	~"kmp_wa™_»Ëa£.h
"

15 
__kmp_wa™_64
(
kmp_šfo_t
 *
this_thr
, 
kmp_æag_64
 *
æag
,

16 
fš®_¥š
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

17 ià(
fš®_¥š
)

18 
__kmp_wa™_‹m¶©e
<
kmp_æag_64
, 
TRUE
>(

19 
this_thr
, 
æag
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

21 
__kmp_wa™_‹m¶©e
<
kmp_æag_64
, 
FALSE
>(

22 
this_thr
, 
æag
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
));

23 
	}
}

25 
	$__kmp_»Ëa£_64
(
kmp_æag_64
 *
æag
è{ 
	`__kmp_»Ëa£_‹m¶©e
(æag); 
	}
}

	@kmp_wait_release.h

13 #iâdeà
KMP_WAIT_RELEASE_H


14 
	#KMP_WAIT_RELEASE_H


	)

16 
	~"kmp.h
"

17 
	~"kmp_™t.h
"

18 
	~"kmp_¡©s.h
"

19 #ià
OMPT_SUPPORT


20 
	~"om±-¥ecific.h
"

39 
	eæag_ty³
 {

40 
	mæag32
,

41 
	mæag64
,

42 
	mæag_ÚcÜe


48 
	g‹m¶©e
 <
ty³Çme
 
	gP
> cÏs 
	ckmp_æag_Çtive
 {

49 vŞ©
P
 *
	mloc
;

50 
æag_ty³
 
	mt
;

52 
	mpublic
:

53 
P
 
	tæag_t
;

54 
	$kmp_æag_Çtive
(vŞ©
P
 *
p
, 
æag_ty³
 
á
è: 
	`loc
Õ), 
	$t
(
á
) {}

55 vŞ©
P
 *
	$g‘
(è{  
loc
; 
	}
}

56 *
	$g‘_void_p
(è{  
	`RCAST
(*, 
	`CCAST
(
P
 *, 
loc
)); 
	}
}

57 
	$£t
(vŞ©
P
 *
Ãw_loc
è{ 
loc
 =‚ew_loc; 
	}
}

58 
æag_ty³
 
	$g‘_ty³
(è{  
t
; 
	}
}

59 
P
 
	$lßd
(è{  *
loc
; 
	}
}

60 
	$¡Üe
(
P
 
v®
è{ *
loc
 = v®; 
	}
}

66 
	g‹m¶©e
 <
ty³Çme
 
	gP
> cÏs 
	ckmp_æag
 {

67 
	m¡d
::
©omic
<
P
>

68 *
loc
;

70 
æag_ty³
 
	mt
;

71 
	mpublic
:

72 
P
 
	tæag_t
;

73 
kmp_æag
(
¡d
::
©omic
<
P
> *
p
, 
æag_ty³
 
á
è: 
loc
Õ), 
	$t
(
á
) {}

77 
¡d
::
©omic
<
P
> *
	$g‘
(è{  
loc
; 
	}
}

81 *
	$g‘_void_p
(è{  
	`RCAST
(*, 
loc
); 
	}
}

85 
£t
(
¡d
::
©omic
<
P
> *
Ãw_loc
è{ 
loc
 =‚ew_loc; }

89 
æag_ty³
 
	$g‘_ty³
(è{  
t
; 
	}
}

93 
P
 
	$lßd
(è{  
loc
->
	`lßd
(
¡d
::
memÜy_Üd”_acquœe
); 
	}
}

97 
	$¡Üe
(
P
 
v®
è{ 
loc
->
	`¡Üe
(v®, 
¡d
::
memÜy_Üd”_»Ëa£
); 
	}
}

120 #ià
OMPT_SUPPORT


121 
OMPT_NOINLINE


122 
	$__om±_im¶ic™_sk_’d
(
kmp_šfo_t
 *
this_thr
,

123 
om±_¡©e_t
 
om±_¡©e
,

124 
om±_d©a_t
 *
tId
) {

125 
ds_tid
 = 
this_thr
->
th
.
th_šfo
.
ds
.ds_tid;

126 ià(
om±_¡©e
 =ğ
om±_¡©e_wa™_b¬r›r_im¶ic™
) {

127 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

128 #ià
OMPT_OPTIONAL


129 *
cod•Œ
 = 
NULL
;

130 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ_wa™
) {

131 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ_wa™
)(

132 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
tId
,

133 
cod•Œ
);

135 ià(
om±_’abËd
.
om±_ÿÎback_sync_»giÚ
) {

136 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_sync_»giÚ
)(

137 
om±_sync_»giÚ_b¬r›r_im¶ic™
, 
om±_scİe_’d
, 
NULL
, 
tId
,

138 
cod•Œ
);

141 ià(!
	`KMP_MASTER_TID
(
ds_tid
)) {

142 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

143 
æags
 = 
this_thr
->
th
.
om±_th»ad_šfo
.
·¿Î–_æags
;

144 
æags
 = (æag & 
om±_·¿Î–_Ëague
è? 
om±_sk_š™Ÿl


145 : 
om±_sk_im¶ic™
;

146 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

147 
om±_scİe_’d
, 
NULL
, 
tId
, 0, 
ds_tid
, 
æags
);

150 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_idË
;

152 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

155 
	}
}

163 
	g‹m¶©e
 <
şass
 
	gC
, 
	gfš®_¥š
, 
boŞ
 
	gÿnûÎabË
 = 
çl£
,

164 
boŞ
 
	g¦“·bË
 = 
Œue
>

165 
šlše
 
boŞ


166 
__kmp_wa™_‹m¶©e
(
kmp_šfo_t
 *
this_thr
,

167 
C
 *
æag
 
	$USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

168 #ià
USE_ITT_BUILD
 && 
USE_ITT_NOTIFY


169 vŞ©*
¥š
 = 
æag
->
	`g‘
();

171 
kmp_ušt32
 
¥šs
;

172 
th_gtid
;

173 
sks_com¶‘ed
 = 
FALSE
;

174 
ov”subsüibed
;

175 #ià!
KMP_USE_MONITOR


176 
kmp_ušt64
 
pŞl_couÁ
;

177 
kmp_ušt64
 
hib”Ç‹_gßl
;

179 
kmp_ušt32
 
hib”Ç‹
;

182 
	`KMP_FSYNC_SPIN_INIT
(
¥š
, 
NULL
);

183 ià(
æag
->
	`dÚe_check
()) {

184 
	`KMP_FSYNC_SPIN_ACQUIRED
(
	`CCAST
(*, 
¥š
));

185  
çl£
;

187 
th_gtid
 = 
this_thr
->
th
.
th_šfo
.
ds
.
ds_gtid
;

188 ià(
ÿnûÎabË
) {

189 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

190 ià(
‹am
 &&—m->
t
.
t_ÿnûl_»que¡
 =ğ
ÿnûl_·¿Î–
)

191  
Œue
;

193 #ià
KMP_OS_UNIX


194 ià(
fš®_¥š
)

195 
	`KMP_ATOMIC_ST_REL
(&
this_thr
->
th
.
th_blockšg
, 
Œue
);

197 
	`KA_TRACE
(20,

198 ("__kmp_wa™_¦“p: T#%d wa™šg fÜ fÏg(%p)\n", 
th_gtid
, 
æag
));

199 #ià
KMP_STATS_ENABLED


200 
¡©s_¡©e_e
 
th»ad_¡©e
 = 
	`KMP_GET_THREAD_STATE
();

253 #ià
OMPT_SUPPORT


254 
om±_¡©e_t
 
om±_’Œy_¡©e
;

255 
om±_d©a_t
 *
tId
;

256 ià(
om±_’abËd
.
’abËd
) {

257 
om±_’Œy_¡©e
 = 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

258 ià(!
fš®_¥š
 || 
om±_’Œy_¡©e
 !ğ
om±_¡©e_wa™_b¬r›r_im¶ic™
 ||

259 
	`KMP_MASTER_TID
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
)) {

260 
om±_lw_sk‹am_t
 *
‹am
 =

261 
this_thr
->
th
.
th_‹am
->
t
.
om±_£rŸlized_‹am_šfo
;

262 ià(
‹am
) {

263 
tId
 = &(
‹am
->
om±_sk_šfo
.
sk_d©a
);

265 
tId
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
);

268 
tId
 = &(
this_thr
->
th
.
om±_th»ad_šfo
.
sk_d©a
);

270 ià(
fš®_¥š
 && (
__kmp_skšg_mode
 =ğ
tskm_immedŸ‹_exec
 ||

271 
this_thr
->
th
.
th_sk_‹am
 =ğ
NULL
)) {

273 
	`__om±_im¶ic™_sk_’d
(
this_thr
, 
om±_’Œy_¡©e
, 
tId
);

278 
	`KMP_INIT_YIELD
(
¥šs
);

280 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
 ||

281 
__kmp_·u£_¡©us
 =ğ
kmp_soá_·u£d
) {

282 #ià
KMP_USE_MONITOR


285 #ifdeà
KMP_ADJUST_BLOCKTIME


286 ià(
__kmp_·u£_¡©us
 =ğ
kmp_soá_·u£d
 ||

287 (
__kmp_z”o_bt
 && !
this_thr
->
th
.
th_‹am_bt_£t
))

290 
hib”Ç‹
 = 0;

292 
hib”Ç‹
 = 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
;

294 
hib”Ç‹
 = 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
;

301 ià(
hib”Ç‹
 != 0)

302 
hib”Ç‹
++;

305 
hib”Ç‹
 +ğ
	`TCR_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
);

306 
	`KF_TRACE
(20, ("__kmp_wait_sleep: T#%d‚ow=%d, hibernate=%d, intervals=%d\n",

307 
th_gtid
, 
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
, 
hib”Ç‹
,

308 
hib”Ç‹
 - 
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
));

310 ià(
__kmp_·u£_¡©us
 =ğ
kmp_soá_·u£d
) {

312 
hib”Ç‹_gßl
 = 
	`KMP_NOW
();

314 
hib”Ç‹_gßl
 = 
	`KMP_NOW
(è+ 
this_thr
->
th
.
th_‹am_bt_š‹rv®s
;

315 
pŞl_couÁ
 = 0;

319 
ov”subsüibed
 = (
	`TCR_4
(
__kmp_Áh
è> 
__kmp_ava_´oc
);

320 
	`KMP_MB
();

323 
æag
->
	`nÙdÚe_check
()) {

324 
kmp_sk_‹am_t
 *
sk_‹am
 = 
NULL
;

325 ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
) {

326 
sk_‹am
 = 
this_thr
->
th
.
th_sk_‹am
;

334 ià(
sk_‹am
 !ğ
NULL
) {

335 ià(
	`TCR_SYNC_4
(
sk_‹am
->
‰
.
‰_aùive
)) {

336 ià(
	`KMP_TASKING_ENABLED
(
sk_‹am
))

337 
æag
->
	`execu‹_sks
(

338 
this_thr
, 
th_gtid
, 
fš®_¥š
,

339 &
sks_com¶‘ed
 
	`USE_ITT_BUILD_ARG
(
™t_sync_obj
), 0);

341 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_SAFE_TO_REAP
;

343 
	`KMP_DEBUG_ASSERT
(!
	`KMP_MASTER_TID
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_tid
));

344 #ià
OMPT_SUPPORT


346 ià(
fš®_¥š
 && 
om±_’abËd
.
’abËd
)

347 
	`__om±_im¶ic™_sk_’d
(
this_thr
, 
om±_’Œy_¡©e
, 
tId
);

349 
this_thr
->
th
.
th_sk_‹am
 = 
NULL
;

350 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_SAFE_TO_REAP
;

353 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_SAFE_TO_REAP
;

357 
	`KMP_FSYNC_SPIN_PREPARE
(
	`CCAST
(*, 
¥š
));

358 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

359 ià(
__kmp_glob®
.
g
.
g_abÜt
)

360 
	`__kmp_abÜt_th»ad
();

366 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

368 #ià
KMP_STATS_ENABLED


371 ià(
this_thr
->
th
.
th_¡©s
->
	`isIdË
() &&

372 
	`KMP_GET_THREAD_STATE
(è=ğ
FORK_JOIN_BARRIER
) {

373 
	`KMP_SET_THREAD_STATE
(
IDLE
);

374 
	`KMP_PUSH_PARTITIONED_TIMER
(
OMP_idË
);

378 ià(
ÿnûÎabË
) {

379 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

380 ià(
‹am
 &&—m->
t
.
t_ÿnûl_»que¡
 =ğ
ÿnûl_·¿Î–
)

385 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

386 
__kmp_·u£_¡©us
 !ğ
kmp_soá_·u£d
)

390 ià((
sk_‹am
 !ğ
NULL
è&& 
	`TCR_4
Ñask_‹am->
‰
.
‰_found_sks
))

393 #ià
KMP_USE_MONITOR


395 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
è< 
hib”Ç‹
)

398 ià(
	`KMP_BLOCKING
(
hib”Ç‹_gßl
, 
pŞl_couÁ
++))

403 ià(!
¦“·bË
)

406 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

407 
__kmp_·u£_¡©us
 !ğ
kmp_soá_·u£d
)

410 
	`KF_TRACE
(50, ("__kmp_wa™_¦“p: T#%d su¥’dim»ached\n", 
th_gtid
));

412 #ià
KMP_OS_UNIX


413 ià(
fš®_¥š
)

414 
	`KMP_ATOMIC_ST_REL
(&
this_thr
->
th
.
th_blockšg
, 
çl£
);

416 
æag
->
	`su¥’d
(
th_gtid
);

417 #ià
KMP_OS_UNIX


418 ià(
fš®_¥š
)

419 
	`KMP_ATOMIC_ST_REL
(&
this_thr
->
th
.
th_blockšg
, 
Œue
);

422 ià(
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

423 ià(
__kmp_glob®
.
g
.
g_abÜt
)

424 
	`__kmp_abÜt_th»ad
();

426 } ià(
__kmp_skšg_mode
 !ğ
tskm_immedŸ‹_exec
 &&

427 
this_thr
->
th
.
th_»­_¡©e
 =ğ
KMP_SAFE_TO_REAP
) {

428 
this_thr
->
th
.
th_»­_¡©e
 = 
KMP_NOT_SAFE_TO_REAP
;

433 #ià
OMPT_SUPPORT


434 
om±_¡©e_t
 
om±_ex™_¡©e
 = 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

435 ià(
om±_’abËd
.
’abËd
 && 
om±_ex™_¡©e
 !ğ
om±_¡©e_undefšed
) {

436 #ià
OMPT_OPTIONAL


437 ià(
fš®_¥š
) {

438 
	`__om±_im¶ic™_sk_’d
(
this_thr
, 
om±_ex™_¡©e
, 
tId
);

439 
om±_ex™_¡©e
 = 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
;

442 ià(
om±_ex™_¡©e
 =ğ
om±_¡©e_idË
) {

443 
this_thr
->
th
.
om±_th»ad_šfo
.
¡©e
 = 
om±_¡©e_ov”h—d
;

447 #ià
KMP_STATS_ENABLED


449 ià(
	`KMP_GET_THREAD_STATE
(è=ğ
IDLE
) {

450 
	`KMP_POP_PARTITIONED_TIMER
();

451 
	`KMP_SET_THREAD_STATE
(
th»ad_¡©e
);

452 
this_thr
->
th
.
th_¡©s
->
	`»£tIdËFÏg
();

456 #ià
KMP_OS_UNIX


457 ià(
fš®_¥š
)

458 
	`KMP_ATOMIC_ST_REL
(&
this_thr
->
th
.
th_blockšg
, 
çl£
);

460 
	`KMP_FSYNC_SPIN_ACQUIRED
(
	`CCAST
(*, 
¥š
));

461 ià(
ÿnûÎabË
) {

462 
kmp_‹am_t
 *
‹am
 = 
this_thr
->
th
.
th_‹am
;

463 ià(
‹am
 &&—m->
t
.
t_ÿnûl_»que¡
 =ğ
ÿnûl_·¿Î–
) {

464 ià(
sks_com¶‘ed
) {

467 
kmp_sk_‹am_t
 *
sk_‹am
 = 
this_thr
->
th
.
th_sk_‹am
;

468 
¡d
::
©omic
<
kmp_št32
> *
unfšished_th»ads
 =

469 &(
sk_‹am
->
‰
.
‰_unfšished_th»ads
);

470 
	`KMP_ATOMIC_INC
(
unfšished_th»ads
);

472  
Œue
;

475  
çl£
;

476 
	}
}

482 
	g‹m¶©e
 <
şass
 
	gC
> 
šlše
 
	$__kmp_»Ëa£_‹m¶©e
(
C
 *
æag
) {

483 #ifdeà
KMP_DEBUG


484 
gtid
 = 
	`TCR_4
(
__kmp_š™_gtid
è? 
	`__kmp_g‘_gtid
() : -1;

486 
	`KF_TRACE
(20, ("__kmp_»Ëa£: T#%d„–—sšg fÏg(%x)\n", 
gtid
, 
æag
->
	`g‘
()));

487 
	`KMP_DEBUG_ASSERT
(
æag
->
	`g‘
());

488 
	`KMP_FSYNC_RELEASING
(
æag
->
	`g‘_void_p
());

490 
æag
->
	`š‹º®_»Ëa£
();

492 
	`KF_TRACE
(100, ("__kmp_»Ëa£: T#%d s‘‚ew spš=%d\n", 
gtid
, 
æag
->
	`g‘
(),

493 
æag
->
	`lßd
()));

495 ià(
__kmp_dæt_blocktime
 !ğ
KMP_MAX_BLOCKTIME
) {

498 ià(
æag
->
	`is_ªy_¦“pšg
()) {

499 
i
 = 0; i < 
æag
->
	`g‘_num_wa™”s
(); ++i) {

501 
kmp_šfo_t
 *
wa™”
 = 
æag
->
	`g‘_wa™”
(
i
);

502 ià(
wa™”
) {

503 
wa™_gtid
 = 
wa™”
->
th
.
th_šfo
.
ds
.
ds_gtid
;

505 
	`KF_TRACE
(50, ("__kmp_release: T#%d waking uphread T#%d since sleep "

507 
gtid
, 
wa™_gtid
, 
æag
->
	`g‘
()));

508 
æag
->
	`»sume
(
wa™_gtid
);

513 
	}
}

515 
	g‹m¶©e
 <
ty³Çme
 
	gFÏgTy³
> 
	sæag_Œa™s
 {};

517 
	g‹m¶©e
 <> 
	gæag_Œa™s
<
	gkmp_ušt32
> {

518 
kmp_ušt32
 
	tæag_t
;

519 cÚ¡ 
æag_ty³
 
	gt
 = 
æag32
;

520 
šlše
 
æag_t
 
tü
(æag_ˆ
f
è{  
TCR_4
(f); }

521 
šlše
 
æag_t
 
‹¡_th’_add4
(vŞ©æag_ˆ*
f
) {

522  
KMP_TEST_THEN_ADD4_32
(
RCAST
(vŞ©
kmp_št32
 *, 
f
));

524 
šlše
 
æag_t
 
‹¡_th’_Ü
(vŞ©æag_ˆ*
f
, fÏg_ˆ
v
) {

525  
KMP_TEST_THEN_OR32
(
f
, 
v
);

527 
šlše
 
æag_t
 
‹¡_th’_ªd
(vŞ©æag_ˆ*
f
, fÏg_ˆ
v
) {

528  
KMP_TEST_THEN_AND32
(
f
, 
v
);

532 
	g‹m¶©e
 <> 
	gæag_Œa™s
<
	gkmp_ušt64
> {

533 
kmp_ušt64
 
	tæag_t
;

534 cÚ¡ 
æag_ty³
 
	gt
 = 
æag64
;

535 
šlše
 
æag_t
 
tü
(æag_ˆ
f
è{  
TCR_8
(f); }

536 
šlše
 
æag_t
 
‹¡_th’_add4
(vŞ©æag_ˆ*
f
) {

537  
KMP_TEST_THEN_ADD4_64
(
RCAST
(vŞ©
kmp_št64
 *, 
f
));

539 
šlše
 
æag_t
 
‹¡_th’_Ü
(vŞ©æag_ˆ*
f
, fÏg_ˆ
v
) {

540  
KMP_TEST_THEN_OR64
(
f
, 
v
);

542 
šlše
 
æag_t
 
‹¡_th’_ªd
(vŞ©æag_ˆ*
f
, fÏg_ˆ
v
) {

543  
KMP_TEST_THEN_AND64
(
f
, 
v
);

548 
	g‹m¶©e
 <
ty³Çme
 
	gFÏgTy³
>

549 
şass
 
	gkmp_basic_æag_Çtive
 : 
public
 
kmp_æag_Çtive
<
FÏgTy³
> {

550 
æag_Œa™s
<
	tFÏgTy³
> 
	tŒa™s_ty³
;

551 
FÏgTy³
 
	gcheck”
;

553 
kmp_šfo_t


554 *
	gwa™šg_th»ads
[1];

555 
kmp_ušt32


556 
	gnum_wa™šg_th»ads
;

557 
	gpublic
:

558 
kmp_basic_æag_Çtive
(vŞ©
FÏgTy³
 *
p
)

559 : 
kmp_æag_Çtive
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
num_wa™šg_th»ads
(0) {}

560 
kmp_basic_æag_Çtive
(vŞ©
FÏgTy³
 *
p
, 
kmp_šfo_t
 *
thr
)

561 : 
kmp_æag_Çtive
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
num_wa™šg_th»ads
(1) {

562 
	gwa™šg_th»ads
[0] = 
thr
;

564 
kmp_basic_æag_Çtive
(vŞ©
FÏgTy³
 *
p
, FÏgTy³ 
c
)

565 : 
kmp_æag_Çtive
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
check”
(
c
),

566 
num_wa™šg_th»ads
(0) {}

571 
kmp_šfo_t
 *
g‘_wa™”
(
kmp_ušt32
 
i
) {

572 
KMP_DEBUG_ASSERT
(
i
 < 
num_wa™šg_th»ads
);

573  
	gwa™šg_th»ads
[
i
];

578 
kmp_ušt32
 
g‘_num_wa™”s
(è{  
	gnum_wa™šg_th»ads
; }

584 
£t_wa™”
(
kmp_šfo_t
 *
thr
) {

585 
	gwa™šg_th»ads
[0] = 
thr
;

586 
	gnum_wa™šg_th»ads
 = 1;

591 
boŞ
 
dÚe_check
(è{  
	gŒa™s_ty³
::
tü
(*(
this
->
g‘
())è=ğ
check”
; }

596 
boŞ
 
dÚe_check_v®
(
FÏgTy³
 
Şd_loc
è{  
	gŞd_loc
 =ğ
check”
; }

604 
boŞ
 
nÙdÚe_check
(è{  
	gŒa™s_ty³
::
tü
(*(
this
->
g‘
())è!ğ
check”
; }

609 
š‹º®_»Ëa£
() {

610 ()
	gŒa™s_ty³
::
‹¡_th’_add4
((vŞ©
FÏgTy³
 *)
this
->
g‘
());

617 
FÏgTy³
 
£t_¦“pšg
() {

618  
	gŒa™s_ty³
::
‹¡_th’_Ü
((vŞ©
FÏgTy³
 *)
this
->
g‘
(),

619 
KMP_BARRIER_SLEEP_STATE
);

626 
FÏgTy³
 
un£t_¦“pšg
() {

627  
	gŒa™s_ty³
::
‹¡_th’_ªd
((vŞ©
FÏgTy³
 *)
this
->
g‘
(),

628 ~
KMP_BARRIER_SLEEP_STATE
);

634 
boŞ
 
is_¦“pšg_v®
(
FÏgTy³
 
Şd_loc
) {

635  
	gŞd_loc
 & 
	gKMP_BARRIER_SLEEP_STATE
;

640 
boŞ
 
is_¦“pšg
(è{  
is_¦“pšg_v®
(*(
this
->
g‘
())); }

641 
boŞ
 
is_ªy_¦“pšg
(è{  
is_¦“pšg_v®
(*(
this
->
g‘
())); }

642 
kmp_ušt8
 *
g‘_¡Ş’
(è{  
	gNULL
; }

643 
b¬r›r_ty³
 
g‘_bt
(è{  
	gbs_Ï¡_b¬r›r
; }

646 
	g‹m¶©e
 <
ty³Çme
 
	gFÏgTy³
> 
şass
 
	gkmp_basic_æag
 : 
public
 
kmp_æag
<
FÏgTy³
> {

647 
æag_Œa™s
<
	tFÏgTy³
> 
	tŒa™s_ty³
;

648 
FÏgTy³
 
	gcheck”
;

650 
kmp_šfo_t


651 *
	gwa™šg_th»ads
[1];

652 
kmp_ušt32


653 
	gnum_wa™šg_th»ads
;

654 
	gpublic
:

655 
kmp_basic_æag
(
¡d
::
©omic
<
FÏgTy³
> *
p
)

656 : 
kmp_æag
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
num_wa™šg_th»ads
(0) {}

657 
kmp_basic_æag
(
¡d
::
©omic
<
FÏgTy³
> *
p
, 
kmp_šfo_t
 *
thr
)

658 : 
kmp_æag
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
num_wa™šg_th»ads
(1) {

659 
	gwa™šg_th»ads
[0] = 
thr
;

661 
kmp_basic_æag
(
¡d
::
©omic
<
FÏgTy³
> *
p
, FÏgTy³ 
c
)

662 : 
kmp_æag
<
FÏgTy³
>(
p
, 
	gŒa™s_ty³
::
t
), 
check”
(
c
),

663 
num_wa™šg_th»ads
(0) {}

668 
kmp_šfo_t
 *
g‘_wa™”
(
kmp_ušt32
 
i
) {

669 
KMP_DEBUG_ASSERT
(
i
 < 
num_wa™šg_th»ads
);

670  
	gwa™šg_th»ads
[
i
];

675 
kmp_ušt32
 
g‘_num_wa™”s
(è{  
	gnum_wa™šg_th»ads
; }

681 
£t_wa™”
(
kmp_šfo_t
 *
thr
) {

682 
	gwa™šg_th»ads
[0] = 
thr
;

683 
	gnum_wa™šg_th»ads
 = 1;

688 
boŞ
 
dÚe_check
(è{  
	gthis
->
lßd
(è=ğ
check”
; }

693 
boŞ
 
dÚe_check_v®
(
FÏgTy³
 
Şd_loc
è{  
	gŞd_loc
 =ğ
check”
; }

701 
boŞ
 
nÙdÚe_check
(è{  
	gthis
->
lßd
(è!ğ
check”
; }

706 
š‹º®_»Ëa£
(è{ 
KMP_ATOMIC_ADD
(
this
->
g‘
(), 4); }

712 
FÏgTy³
 
£t_¦“pšg
() {

713  
KMP_ATOMIC_OR
(
this
->
g‘
(), 
KMP_BARRIER_SLEEP_STATE
);

720 
FÏgTy³
 
un£t_¦“pšg
() {

721  
KMP_ATOMIC_AND
(
this
->
g‘
(), ~
KMP_BARRIER_SLEEP_STATE
);

727 
boŞ
 
is_¦“pšg_v®
(
FÏgTy³
 
Şd_loc
) {

728  
	gŞd_loc
 & 
	gKMP_BARRIER_SLEEP_STATE
;

733 
boŞ
 
is_¦“pšg
(è{  
is_¦“pšg_v®
(
this
->
lßd
()); }

734 
boŞ
 
is_ªy_¦“pšg
(è{  
is_¦“pšg_v®
(
this
->
lßd
()); }

735 
kmp_ušt8
 *
g‘_¡Ş’
(è{  
	gNULL
; }

736 
b¬r›r_ty³
 
g‘_bt
(è{  
	gbs_Ï¡_b¬r›r
; }

739 
şass
 
	gkmp_æag_32
 : 
public
 
kmp_basic_æag
<
kmp_ušt32
> {

740 
public
:

741 
kmp_æag_32
(
¡d
::
©omic
<
kmp_ušt32
> *
p
è: 
kmp_basic_æag
<kmp_uint32>(p) {}

742 
kmp_æag_32
(
¡d
::
©omic
<
kmp_ušt32
> *
p
, 
kmp_šfo_t
 *
thr
)

743 : 
kmp_basic_æag
<
kmp_ušt32
>(
p
, 
	gthr
) {}

744 
kmp_æag_32
(
¡d
::
©omic
<
kmp_ušt32
> *
p
, kmp_ušt32 
c
)

745 : 
kmp_basic_æag
<
kmp_ušt32
>(
p
, 
	gc
) {}

746 
su¥’d
(
th_gtid
è{ 
__kmp_su¥’d_32
Ñh_gtid, 
this
); }

747 
»sume
(
th_gtid
è{ 
__kmp_»sume_32
Ñh_gtid, 
this
); }

748 
execu‹_sks
(
kmp_šfo_t
 *
this_thr
, 
kmp_št32
 
gtid
, 
fš®_¥š
,

749 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

750 
kmp_št32
 
is_cÚ¡¿šed
) {

751  
__kmp_execu‹_sks_32
(

752 
this_thr
, 
gtid
, 
this
, 
fš®_¥š
,

753 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

755 
wa™
(
kmp_šfo_t
 *
this_thr
,

756 
fš®_¥š
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

757 ià(
	gfš®_¥š
)

758 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_32
, 
	gTRUE
>(

759 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

761 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_32
, 
	gFALSE
>(

762 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

764 
»Ëa£
(è{ 
__kmp_»Ëa£_‹m¶©e
(
this
); }

765 
æag_ty³
 
g‘_±r_ty³
(è{  
	gæag32
; }

768 
şass
 
	gkmp_æag_64
 : 
public
 
kmp_basic_æag_Çtive
<
kmp_ušt64
> {

769 
public
:

770 
kmp_æag_64
(vŞ©
kmp_ušt64
 *
p
è: 
kmp_basic_æag_Çtive
<kmp_uint64>(p) {}

771 
kmp_æag_64
(vŞ©
kmp_ušt64
 *
p
, 
kmp_šfo_t
 *
thr
)

772 : 
kmp_basic_æag_Çtive
<
kmp_ušt64
>(
p
, 
	gthr
) {}

773 
kmp_æag_64
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
c
)

774 : 
kmp_basic_æag_Çtive
<
kmp_ušt64
>(
p
, 
	gc
) {}

775 
su¥’d
(
th_gtid
è{ 
__kmp_su¥’d_64
Ñh_gtid, 
this
); }

776 
»sume
(
th_gtid
è{ 
__kmp_»sume_64
Ñh_gtid, 
this
); }

777 
execu‹_sks
(
kmp_šfo_t
 *
this_thr
, 
kmp_št32
 
gtid
, 
fš®_¥š
,

778 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

779 
kmp_št32
 
is_cÚ¡¿šed
) {

780  
__kmp_execu‹_sks_64
(

781 
this_thr
, 
gtid
, 
this
, 
fš®_¥š
,

782 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

784 
wa™
(
kmp_šfo_t
 *
this_thr
,

785 
fš®_¥š
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

786 ià(
	gfš®_¥š
)

787 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_64
, 
	gTRUE
>(

788 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

790 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_64
, 
	gFALSE
>(

791 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

793 
boŞ
 
wa™_ÿnûÎabË_no¦“p
(
kmp_šfo_t
 *
this_thr
,

794 
fš®_¥š


795 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
)) {

796 
boŞ
 
	g»tv®
 = 
çl£
;

797 ià(
	gfš®_¥š
)

798 
	g»tv®
 = 
__kmp_wa™_‹m¶©e
<
kmp_æag_64
, 
	gTRUE
, 
	gŒue
, 
	gçl£
>(

799 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

801 
	g»tv®
 = 
__kmp_wa™_‹m¶©e
<
kmp_æag_64
, 
	gFALSE
, 
	gŒue
, 
	gçl£
>(

802 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

803  
	g»tv®
;

805 
»Ëa£
(è{ 
__kmp_»Ëa£_‹m¶©e
(
this
); }

806 
æag_ty³
 
g‘_±r_ty³
(è{  
	gæag64
; }

810 
şass
 
	gkmp_æag_ÚcÜe
 : 
public
 
kmp_æag_Çtive
<
kmp_ušt64
> {

811 
kmp_ušt64
 
check”
;

812 
kmp_šfo_t
 *
	gwa™šg_th»ads
[1];

813 
kmp_ušt32
 
	gnum_wa™šg_th»ads
;

814 
kmp_ušt32


815 
	goff£t
;

816 
boŞ
 
	gæag_sw™ch
;

817 
b¬r›r_ty³
 
	gbt
;

818 
kmp_šfo_t
 *
	gthis_thr
;

820 #ià
USE_ITT_BUILD


822 
	g™t_sync_obj
;

824 &
by‹»f
(vŞ©
kmp_ušt64
 *
loc
, 
size_t
 
off£t
) {

825  (
RCAST
(*, 
CCAST
(
kmp_ušt64
 *, 
loc
)))[
off£t
];

828 
	gpublic
:

829 
kmp_æag_ÚcÜe
(vŞ©
kmp_ušt64
 *
p
)

830 : 
kmp_æag_Çtive
<
kmp_ušt64
>(
p
, 
	gæag_ÚcÜe
), 
num_wa™šg_th»ads
(0),

831 
æag_sw™ch
(
çl£
) {}

832 
kmp_æag_ÚcÜe
(vŞ©
kmp_ušt64
 *
p
, 
kmp_ušt32
 
idx
)

833 : 
kmp_æag_Çtive
<
kmp_ušt64
>(
p
, 
	gæag_ÚcÜe
), 
num_wa™šg_th»ads
(0),

834 
off£t
(
idx
), 
æag_sw™ch
(
çl£
) {}

835 
kmp_æag_ÚcÜe
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
c
, 
kmp_ušt32
 
idx
,

836 
b¬r›r_ty³
 
b¬_t
,

837 
kmp_šfo_t
 *
thr
 
USE_ITT_BUILD_ARG
(*
™t
))

838 : 
kmp_æag_Çtive
<
kmp_ušt64
>(
p
, 
	gæag_ÚcÜe
), 
check”
(
c
),

839 
num_wa™šg_th»ads
(0), 
off£t
(
idx
), 
æag_sw™ch
(
çl£
), 
bt
(
b¬_t
),

840 
this_thr
(
thr
è
USE_ITT_BUILD_ARG
(
™t_sync_obj
(
™t
)) {}

841 
kmp_šfo_t
 *
g‘_wa™”
(
kmp_ušt32
 
i
) {

842 
KMP_DEBUG_ASSERT
(
i
 < 
num_wa™šg_th»ads
);

843  
	gwa™šg_th»ads
[
i
];

845 
kmp_ušt32
 
g‘_num_wa™”s
(è{  
	gnum_wa™šg_th»ads
; }

846 
£t_wa™”
(
kmp_šfo_t
 *
thr
) {

847 
	gwa™šg_th»ads
[0] = 
thr
;

848 
	gnum_wa™šg_th»ads
 = 1;

850 
boŞ
 
dÚe_check_v®
(
kmp_ušt64
 
Şd_loc
) {

851  
by‹»f
(&
Şd_loc
, 
off£t
è=ğ
check”
;

853 
boŞ
 
dÚe_check
(è{  
dÚe_check_v®
(*
g‘
()); }

854 
boŞ
 
nÙdÚe_check
() {

856 ià(
	gthis_thr
->
	gth
.
	gth_b¬
[
bt
].
	gbb
.
	gwa™_æag
 =ğ
KMP_BARRIER_SWITCH_TO_OWN_FLAG
)

857 
æag_sw™ch
 = 
Œue
;

858 ià(
by‹»f
(
g‘
(), 
off£t
è!ğ1 && !
æag_sw™ch
)

859  
Œue
;

860 ià(
	gæag_sw™ch
) {

861 
	gthis_thr
->
	gth
.
	gth_b¬
[
bt
].
	gbb
.
	gwa™_æag
 = 
KMP_BARRIER_SWITCHING
;

862 
kmp_æag_64
 
æag
(&
this_thr
->
th
.
th_b¬
[
bt
].
bb
.
b_go
,

863 (
kmp_ušt64
)
KMP_BARRIER_STATE_BUMP
);

864 
__kmp_wa™_64
(
this_thr
, &
æag
, 
TRUE
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

866  
	gçl£
;

868 
š‹º®_»Ëa£
() {

870 ià(
	g__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
) {

871 
by‹»f
(
g‘
(), 
off£t
) = 1;

873 
kmp_ušt64
 
	gmask
 = 0;

874 
by‹»f
(&
mask
, 
off£t
) = 1;

875 
KMP_TEST_THEN_OR64
(
g‘
(), 
mask
);

878 
kmp_ušt64
 
£t_¦“pšg
() {

879  
KMP_TEST_THEN_OR64
(
g‘
(), 
KMP_BARRIER_SLEEP_STATE
);

881 
kmp_ušt64
 
un£t_¦“pšg
() {

882  
KMP_TEST_THEN_AND64
(
g‘
(), ~
KMP_BARRIER_SLEEP_STATE
);

884 
boŞ
 
is_¦“pšg_v®
(
kmp_ušt64
 
Şd_loc
) {

885  
	gŞd_loc
 & 
	gKMP_BARRIER_SLEEP_STATE
;

887 
boŞ
 
is_¦“pšg
(è{  
is_¦“pšg_v®
(*
g‘
()); }

888 
boŞ
 
is_ªy_¦“pšg
(è{  
is_¦“pšg_v®
(*
g‘
()); }

889 
wa™
(
kmp_šfo_t
 *
this_thr
, 
fš®_¥š
) {

890 ià(
	gfš®_¥š
)

891 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_ÚcÜe
, 
	gTRUE
>(

892 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

894 
	g__kmp_wa™_‹m¶©e
<
	gkmp_æag_ÚcÜe
, 
	gFALSE
>(

895 
	gthis_thr
, 
this
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
));

897 
»Ëa£
(è{ 
__kmp_»Ëa£_‹m¶©e
(
this
); }

898 
su¥’d
(
th_gtid
è{ 
__kmp_su¥’d_ÚcÜe
Ñh_gtid, 
this
); }

899 
»sume
(
th_gtid
è{ 
__kmp_»sume_ÚcÜe
Ñh_gtid, 
this
); }

900 
execu‹_sks
(
kmp_šfo_t
 *
this_thr
, 
kmp_št32
 
gtid
, 
fš®_¥š
,

901 *
th»ad_fšished
 
USE_ITT_BUILD_ARG
(*
™t_sync_obj
),

902 
kmp_št32
 
is_cÚ¡¿šed
) {

903  
__kmp_execu‹_sks_ÚcÜe
(

904 
this_thr
, 
gtid
, 
this
, 
fš®_¥š
,

905 
th»ad_fšished
 
USE_ITT_BUILD_ARG
(
™t_sync_obj
), 
is_cÚ¡¿šed
);

907 
kmp_ušt8
 *
g‘_¡Ş’
(è{  
	gNULL
; }

908 
b¬r›r_ty³
 
g‘_bt
(è{  
	gbt
; }

909 
æag_ty³
 
g‘_±r_ty³
(è{  
	gæag_ÚcÜe
; }

914 
šlše
 
	$__kmp_nuÎ_»sume_w¿µ”
(
gtid
, vŞ©*
æag
) {

915 ià(!
æag
)

918 
	`RCAST
(
kmp_æag_64
 *, 
	`CCAST
(*, 
æag
))->
	`g‘_ty³
()) {

919 
æag32
:

920 
	`__kmp_»sume_32
(
gtid
, 
NULL
);

922 
æag64
:

923 
	`__kmp_»sume_64
(
gtid
, 
NULL
);

925 
æag_ÚcÜe
:

926 
	`__kmp_»sume_ÚcÜe
(
gtid
, 
NULL
);

929 
	}
}

	@kmp_wrapper_getpid.h

13 #iâdeà
KMP_WRAPPER_GETPID_H


14 
	#KMP_WRAPPER_GETPID_H


	)

16 #ià
KMP_OS_UNIX


20 
	~<sys/sysÿÎ.h
>

21 
	~<sys/ty³s.h
>

22 
	~<uni¡d.h
>

23 #ià
KMP_OS_DARWIN


25 
	#__kmp_g‘tid
(è
	`sysÿÎ
(
SYS_th»ad_£lfid
)

	)

26 #–ià
KMP_OS_FREEBSD


27 
	~<±h»ad_Å.h
>

28 
	#__kmp_g‘tid
(è
	`±h»ad_g‘th»adid_Å
()

	)

29 #–ià
KMP_OS_NETBSD


30 
	~<lwp.h
>

31 
	#__kmp_g‘tid
(è
	`_lwp_£lf
()

	)

32 #–ià
KMP_OS_OPENBSD


33 
	#__kmp_g‘tid
(è
	`sysÿÎ
(
SYS_g‘thrid
)

	)

34 #–ià
defšed
(
SYS_g‘tid
)

37 
	#__kmp_g‘tid
(è
	`sysÿÎ
(
SYS_g‘tid
)

	)

39 #w¬nšg 
No
 
g‘tid
 
found
, 
u£
 
g‘pid
 
š¡—d


40 
	#__kmp_g‘tid
(è
	`g‘pid
()

	)

43 #–ià
KMP_OS_WINDOWS


47 
	~<´oûss.h
>

49 #ià
KMP_MSVC_COMPAT


50 
	tpid_t
;

52 
	#g‘pid
 
_g‘pid


	)

53 
	#__kmp_g‘tid
(è
	`G‘Cu¼’tTh»adId
()

	)

57 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

	@kmp_wrapper_malloc.h

14 #iâdeà
KMP_WRAPPER_MALLOC_H


15 
	#KMP_WRAPPER_MALLOC_H


	)

88 
	~<¡dlib.h
>

90 
	~"kmp_os.h
"

93 #ià
KMP_OS_WINDOWS


94 
	~<m®loc.h
>

95 #ià
KMP_MSVC_COMPAT


96 
	#®loÿ
 
_®loÿ


98 #–ià
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || 
KMP_OS_OPENBSD


	)

100 #–ià
KMP_OS_UNIX


101 
	~<®loÿ.h
>

103 #”rÜ 
Unknown
 
Ü
 
unsuµÜ‹d
 
OS
.

123 #ià
KMP_DEBUG


124 
	#KMP_SRC_LOC_DECL
 , cÚ¡ *
_fe_
, 
_lše_


	)

125 
	#KMP_SRC_LOC_PARM
 , 
_fe_
, 
_lše_


	)

126 
	#KMP_SRC_LOC_CURR
 , 
__FILE__
, 
__LINE__


	)

128 
	#KMP_SRC_LOC_DECL


	)

129 
	#KMP_SRC_LOC_PARM


	)

130 
	#KMP_SRC_LOC_CURR


	)

144 
	#m®loc_¤c_loc
(
¬gs
è
	`_m®loc_¤c_loc
×rgs)

	)

145 
	#ä“_¤c_loc
(
¬gs
è
	`_ä“_¤c_loc
×rgs)

	)

155 #ià
KMP_DEBUG


157 #ià
KMP_OS_WINDOWS
 && 
_DEBUG


162 
	~<ütdbg.h
>

164 
	#KMP_MEM_BLOCK
 
_CLIENT_BLOCK


	)

165 
	#m®loc
(
size
è
	`_m®loc_dbg
((size), 
KMP_MEM_BLOCK
, 
__FILE__
, 
__LINE__
)

	)

166 
	#ÿÎoc
(
num
, 
size
) \

167 
	`_ÿÎoc_dbg
((
num
), (
size
), 
KMP_MEM_BLOCK
, 
__FILE__
, 
__LINE__
)

	)

168 
	#»®loc
(
±r
, 
size
) \

169 
	`_»®loc_dbg
((
±r
), (
size
), 
KMP_MEM_BLOCK
, 
__FILE__
, 
__LINE__
)

	)

170 
	#ä“
(
±r
è
	`_ä“_dbg
(ÕŒ), 
KMP_MEM_BLOCK
)

	)

172 
	#_m®loc_¤c_loc
(
size
, 
fe
, 
lše
) \

173 
	`_m®loc_dbg
((
size
), 
KMP_MEM_BLOCK
, (
fe
), (
lše
))

	)

174 
	#_ä“_¤c_loc
(
±r
, 
fe
, 
lše
è
	`_ä“_dbg
(ÕŒ), 
KMP_MEM_BLOCK
)

	)

180 
	#_m®loc_¤c_loc
(
size
, 
fe
, 
lše
è
	`m®loc
((size))

	)

181 
	#_ä“_¤c_loc
(
±r
, 
fe
, 
lše
è
	`ä“
(ÕŒ))

	)

189 
	#_m®loc_¤c_loc
(
size
è
	`m®loc
((size))

	)

190 
	#_ä“_¤c_loc
(
±r
è
	`ä“
(ÕŒ))

	)

	@ompt-event-specific.h

18 #iâdeà
__OMPT_EVENT_SPECIFIC_H__


19 
	#__OMPT_EVENT_SPECIFIC_H__


	)

21 
	#_om±_tok’·¡e_h–³r
(
x
, 
y
èx##
	)
y

22 
	#_om±_tok’·¡e
(
x
, 
y
è
	`_om±_tok’·¡e_h–³r
(x, y)

	)

23 
	#om±_ev’t_im¶em’tiÚ_¡©us
(
e
è
	`_om±_tok’·¡e
Ó, 
_im¶em’‹d
)

	)

33 
	#om±_ev’t_UNIMPLEMENTED
 
om±_£t_Ãv”


	)

34 
	#om±_ev’t_MAY_CONVENIENT
 
om±_£t_som‘imes


	)

35 
	#om±_ev’t_MAY_ALWAYS
 
om±_£t_®ways


	)

37 #ià
OMPT_OPTIONAL


38 
	#om±_ev’t_MAY_ALWAYS_OPTIONAL
 
om±_ev’t_MAY_ALWAYS


	)

40 
	#om±_ev’t_MAY_ALWAYS_OPTIONAL
 
om±_ev’t_UNIMPLEMENTED


	)

47 
	#om±_ÿÎback_th»ad_begš_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

48 
	#om±_ÿÎback_th»ad_’d_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

50 
	#om±_ÿÎback_·¿Î–_begš_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

51 
	#om±_ÿÎback_·¿Î–_’d_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

53 
	#om±_ÿÎback_sk_ü—‹_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

54 
	#om±_ÿÎback_sk_scheduË_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

56 
	#om±_ÿÎback_im¶ic™_sk_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

58 
	#om±_ÿÎback_rg‘_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

59 
	#om±_ÿÎback_rg‘_d©a_İ_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

60 
	#om±_ÿÎback_rg‘_subm™_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

62 
	#om±_ÿÎback_cÚŒŞ_toŞ_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS


	)

64 
	#om±_ÿÎback_deviû_š™Ÿlize_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

65 
	#om±_ÿÎback_deviû_fš®ize_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

67 
	#om±_ÿÎback_deviû_lßd_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

68 
	#om±_ÿÎback_deviû_uÆßd_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

74 
	#om±_ÿÎback_sync_»giÚ_wa™_im¶em’‹d
 \

75 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

77 
	#om±_ÿÎback_mu‹x_»Ëa£d_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

79 
	#om±_ÿÎback_d•’d’ûs_im¶em’‹d
 \

80 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

81 
	#om±_ÿÎback_sk_d•’d’û_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

83 
	#om±_ÿÎback_wÜk_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

85 
	#om±_ÿÎback_ma¡”_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

87 
	#om±_ÿÎback_rg‘_m­_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

89 
	#om±_ÿÎback_sync_»giÚ_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

91 
	#om±_ÿÎback_lock_š™_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

92 
	#om±_ÿÎback_lock_de¡roy_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

94 
	#om±_ÿÎback_mu‹x_acquœe_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

95 
	#om±_ÿÎback_mu‹x_acquœed_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

96 
	#om±_ÿÎback_Ã¡_lock_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

98 
	#om±_ÿÎback_æush_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

100 
	#om±_ÿÎback_ÿnûl_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

102 
	#om±_ÿÎback_»duùiÚ_im¶em’‹d
 
om±_ev’t_MAY_ALWAYS_OPTIONAL


	)

104 
	#om±_ÿÎback_di¥©ch_im¶em’‹d
 
om±_ev’t_UNIMPLEMENTED


	)

	@ompt-general.cpp

17 
	~<as£¹.h
>

19 
	~<¡dšt.h
>

20 
	~<¡dio.h
>

21 
	~<¡dlib.h
>

22 
	~<¡ršg.h
>

23 #ià
KMP_OS_UNIX


24 
	~<dlfú.h
>

31 
	~"om±-¥ecific.ıp
"

37 
	#om±_g‘_ÿÎback_sucûss
 1

	)

38 
	#om±_g‘_ÿÎback_çu»
 0

	)

40 
	#no_toŞ_´e£Á
 0

	)

42 
	#OMPT_API_ROUTINE
 

	)

44 #iâdeà
OMPT_STR_MATCH


45 
	#OMPT_STR_MATCH
(
hay¡ack
, 
ÃedË
è(!
	`¡rÿ£cmp
(hay¡ack,‚“dË))

	)

53 cÚ¡ *
	m¡©e_Çme
;

54 
om±_¡©e_t
 
	m¡©e_id
;

55 } 
	tom±_¡©e_šfo_t
;

58 cÚ¡ *
	mÇme
;

59 
kmp_mu‹x_im¶_t
 
	mid
;

60 } 
	tkmp_mu‹x_im¶_šfo_t
;

62 
	etoŞ_£‰šg_e
 {

63 
	momp_toŞ_”rÜ
,

64 
	momp_toŞ_un£t
,

65 
	momp_toŞ_di§bËd
,

66 
	momp_toŞ_’abËd


73 
om±_ÿÎbacks_aùive_t
 
	gom±_’abËd
;

75 
om±_¡©e_šfo_t
 
	gom±_¡©e_šfo
[] = {

76 
	#om±_¡©e_maüo
(
¡©e
, 
code
è{#¡©e, s‹},

	)

77 
FOREACH_OMPT_STATE
(
om±_¡©e_maüo
)

78 #undeà
om±_¡©e_maüo


81 
kmp_mu‹x_im¶_šfo_t
 
	gkmp_mu‹x_im¶_šfo
[] = {

82 
	#kmp_mu‹x_im¶_maüo
(
Çme
, 
id
è{#Çme,‚ame},

	)

83 
FOREACH_KMP_MUTEX_IMPL
(
kmp_mu‹x_im¶_maüo
)

84 #undeà
kmp_mu‹x_im¶_maüo


87 
om±_ÿÎbacks_š‹º®_t
 
	gom±_ÿÎbacks
;

89 
om±_¡¬t_toŞ_»suÉ_t
 *
	gom±_¡¬t_toŞ_»suÉ
 = 
NULL
;

95 
om±_š‹rçû_â_t
 
om±_â_lookup
(cÚ¡ *
s
);

97 
OMPT_API_ROUTINE
 
om±_d©a_t
 *
om±_g‘_th»ad_d©a
();

103 
	gom±_¡¬t_toŞ_»suÉ_t
 *(*
	tom±_¡¬t_toŞ_t
)(,

106 #ià
KMP_OS_DARWIN


117 
om±_¡¬t_toŞ_»suÉ_t
 *
	$om±_toŞ_d¬wš
(
omp_v”siÚ
,

118 cÚ¡ *
ruÁime_v”siÚ
) {

119 
om±_¡¬t_toŞ_»suÉ_t
 *
»t
 = 
NULL
;

121 
om±_¡¬t_toŞ_t
 
¡¬t_toŞ
 =

122 (
om±_¡¬t_toŞ_t
)
	`dlsym
(
RTLD_DEFAULT
, "ompt_start_tool");

123 ià(
¡¬t_toŞ
) {

124 
»t
 = 
	`¡¬t_toŞ
(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

126  
»t
;

127 
	}
}

129 #–ià
OMPT_HAVE_WEAK_ATTRIBUTE


135 
_OMP_EXTERN
 
OMPT_WEAK_ATTRIBUTE
 
om±_¡¬t_toŞ_»suÉ_t
 *

136 
	$om±_¡¬t_toŞ
(
omp_v”siÚ
, cÚ¡ *
ruÁime_v”siÚ
) {

137 
om±_¡¬t_toŞ_»suÉ_t
 *
»t
 = 
NULL
;

142 
om±_¡¬t_toŞ_t
 
Ãxt_toŞ
 =

143 (
om±_¡¬t_toŞ_t
)
	`dlsym
(
RTLD_NEXT
, "ompt_start_tool");

144 ià(
Ãxt_toŞ
) {

145 
»t
 = 
	`Ãxt_toŞ
(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

147  
»t
;

148 
	}
}

150 #–ià
OMPT_HAVE_PSAPI


157 
	~<p§pi.h
>

158 #´agm¨
comm’t
(
lib
, "psapi.lib")

161 
	#NUM_MODULES
 128

	)

163 
om±_¡¬t_toŞ_»suÉ_t
 *

164 
	$om±_toŞ_wšdows
(
omp_v”siÚ
, cÚ¡ *
ruÁime_v”siÚ
) {

165 
i
;

166 
DWORD
 
Ãeded
, 
Ãw_size
;

167 
HMODULE
 *
moduËs
;

168 
HANDLE
 
´oûss
 = 
	`G‘Cu¼’tProûss
();

169 
moduËs
 = (
HMODULE
 *)
	`m®loc
(
NUM_MODULES
 * (HMODULE));

170 
om±_¡¬t_toŞ_t
 
om±_toŞ_p
 = 
NULL
;

172 #ià
OMPT_DEBUG


173 
	`´štf
("ompt_tool_windows():†ooking for ompt_start_tool\n");

175 ià(!
	`EnumProûssModuËs
(
´oûss
, 
moduËs
, 
NUM_MODULES
 * (
HMODULE
),

176 &
Ãeded
)) {

178 
	`ä“
(
moduËs
);

179  
NULL
;

182 
Ãw_size
 = 
Ãeded
 / (
HMODULE
);

183 ià(
Ãw_size
 > 
NUM_MODULES
) {

184 #ià
OMPT_DEBUG


185 
	`´štf
("om±_toŞ_wšdows():„esizbufã¸tØ%d by‹s\n", 
Ãeded
);

187 
moduËs
 = (
HMODULE
 *)
	`»®loc
(moduËs, 
Ãeded
);

189 ià(!
	`EnumProûssModuËs
(
´oûss
, 
moduËs
, 
Ãeded
, &needed)) {

190 
	`ä“
(
moduËs
);

191  
NULL
;

194 
i
 = 0; i < 
Ãw_size
; ++i) {

195 (
FARPROC
 &)
om±_toŞ_p
 = 
	`G‘ProcAdd»ss
(
moduËs
[
i
], "ompt_start_tool");

196 ià(
om±_toŞ_p
) {

197 #ià
OMPT_DEBUG


198 
TCHAR
 
modName
[
MAX_PATH
];

199 ià(
	`G‘ModuËFeName
(
moduËs
[
i
], 
modName
, 
MAX_PATH
))

200 
	`´štf
("ompt_tool_windows(): ompt_start_tool found in module %s\n",

201 
modName
);

203 
	`ä“
(
moduËs
);

204  (*
om±_toŞ_p
)(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

206 #ià
OMPT_DEBUG


208 
TCHAR
 
modName
[
MAX_PATH
];

209 ià(
	`G‘ModuËFeName
(
moduËs
[
i
], 
modName
, 
MAX_PATH
))

210 
	`´štf
("ompt_tool_windows(): ompt_start_tool‚ot found in module %s\n",

211 
modName
);

215 
	`ä“
(
moduËs
);

216  
NULL
;

217 
	}
}

219 #”rÜ 
Aùiv©iÚ
 
of
 
OMPT
 
is
 
nÙ
 
suµÜ‹d
 
Ú
 
this
 
¶©fÜm
.

222 
om±_¡¬t_toŞ_»suÉ_t
 *

223 
	$om±_Œy_¡¬t_toŞ
(
omp_v”siÚ
, cÚ¡ *
ruÁime_v”siÚ
) {

224 
om±_¡¬t_toŞ_»suÉ_t
 *
»t
 = 
NULL
;

225 
om±_¡¬t_toŞ_t
 
¡¬t_toŞ
 = 
NULL
;

226 #ià
KMP_OS_WINDOWS


228 cÚ¡ *
£p
 = ";";

230 cÚ¡ *
£p
 = ":";

233 #ià
KMP_OS_DARWIN


235 
»t
 = 
	`om±_toŞ_d¬wš
(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

236 #–ià
OMPT_HAVE_WEAK_ATTRIBUTE


237 
»t
 = 
	`om±_¡¬t_toŞ
(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

238 #–ià
OMPT_HAVE_PSAPI


239 
»t
 = 
	`om±_toŞ_wšdows
(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

241 #”rÜ 
Aùiv©iÚ
 
of
 
OMPT
 
is
 
nÙ
 
suµÜ‹d
 
Ú
 
this
 
¶©fÜm
.

243 ià(
»t
)

244  
»t
;

247 cÚ¡ *
toŞ_libs
 = 
	`g‘’v
("OMP_TOOL_LIBRARIES");

248 ià(
toŞ_libs
) {

249 *
libs
 = 
	`__kmp_¡r_fÜm©
("%s", 
toŞ_libs
);

250 *
buf
;

251 *
âame
 = 
	`__kmp_¡r_tok’
(
libs
, 
£p
, &
buf
);

252 
âame
) {

253 #ià
KMP_OS_UNIX


254 *
h
 = 
	`dlİ’
(
âame
, 
RTLD_LAZY
);

255 ià(
h
) {

256 
¡¬t_toŞ
 = (
om±_¡¬t_toŞ_t
)
	`dlsym
(
h
, "ompt_start_tool");

257 #–ià
KMP_OS_WINDOWS


258 
HMODULE
 
h
 = 
	`LßdLib¿ry
(
âame
);

259 ià(
h
) {

260 
¡¬t_toŞ
 = (
om±_¡¬t_toŞ_t
)
	`G‘ProcAdd»ss
(
h
, "ompt_start_tool");

262 #”rÜ 
Aùiv©iÚ
 
of
 
OMPT
 
is
 
nÙ
 
suµÜ‹d
 
Ú
 
this
 
¶©fÜm
.

264 ià(
¡¬t_toŞ
 && (
»t
 = (*¡¬t_toŞ)(
omp_v”siÚ
, 
ruÁime_v”siÚ
)))

267 
âame
 = 
	`__kmp_¡r_tok’
(
NULL
, 
£p
, &
buf
);

269 
	`__kmp_¡r_ä“
(&
libs
);

271 ià(
»t
)

272  
»t
;

274 #ià
KMP_OS_UNIX


276 cÚ¡ *
âame
 = "libarcher.so";

277 *
h
 = 
	`dlİ’
(
âame
, 
RTLD_LAZY
);

278 ià(
h
) {

279 
¡¬t_toŞ
 = (
om±_¡¬t_toŞ_t
)
	`dlsym
(
h
, "ompt_start_tool");

280 ià(
¡¬t_toŞ
)

281 
»t
 = (*
¡¬t_toŞ
)(
omp_v”siÚ
, 
ruÁime_v”siÚ
);

282 ià(
»t
)

283  
»t
;

287  
»t
;

288 
	}
}

290 
	$om±_´e_š™
() {

294 
om±_´e_š™Ÿlized
 = 0;

296 ià(
om±_´e_š™Ÿlized
)

299 
om±_´e_š™Ÿlized
 = 1;

304 cÚ¡ *
om±_’v_v¬
 = 
	`g‘’v
("OMP_TOOL");

305 
toŞ_£‰šg_e
 
toŞ_£‰šg
 = 
omp_toŞ_”rÜ
;

307 ià(!
om±_’v_v¬
 || !
	`¡rcmp
(ompt_env_var, ""))

308 
toŞ_£‰šg
 = 
omp_toŞ_un£t
;

309 ià(
	`OMPT_STR_MATCH
(
om±_’v_v¬
, "disabled"))

310 
toŞ_£‰šg
 = 
omp_toŞ_di§bËd
;

311 ià(
	`OMPT_STR_MATCH
(
om±_’v_v¬
, "enabled"))

312 
toŞ_£‰šg
 = 
omp_toŞ_’abËd
;

314 #ià
OMPT_DEBUG


315 
	`´štf
("om±_´e_š™():oŞ_£‰šg = %d\n", 
toŞ_£‰šg
);

317 
toŞ_£‰šg
) {

318 
omp_toŞ_di§bËd
:

321 
omp_toŞ_un£t
:

322 
omp_toŞ_’abËd
:

327 
om±_¡¬t_toŞ_»suÉ
 =

328 
	`om±_Œy_¡¬t_toŞ
(
__kmp_İ’mp_v”siÚ
, 
	`om±_g‘_ruÁime_v”siÚ
());

330 
	`mem£t
(&
om±_’abËd
, 0, (ompt_enabled));

333 
omp_toŞ_”rÜ
:

334 
	`årštf
(
¡d”r
, "Warning: OMP_TOOL has invalid value \"%s\".\n"

337 
om±_’v_v¬
);

340 #ià
OMPT_DEBUG


341 
	`´štf
("om±_´e_š™(): om±_’abËd = %d\n", 
om±_’abËd
);

343 
	}
}

345 "C" 
omp_g‘_š™Ÿl_deviû
();

347 
	$om±_po¡_š™
() {

351 
om±_po¡_š™Ÿlized
 = 0;

353 ià(
om±_po¡_š™Ÿlized
)

356 
om±_po¡_š™Ÿlized
 = 1;

361 ià(
om±_¡¬t_toŞ_»suÉ
) {

362 
om±_’abËd
.
’abËd
 = !!
om±_¡¬t_toŞ_»suÉ
->
	`š™Ÿlize
(

363 
om±_â_lookup
, 
	`omp_g‘_š™Ÿl_deviû
(), &(
om±_¡¬t_toŞ_»suÉ
->
toŞ_d©a
));

365 ià(!
om±_’abËd
.
’abËd
) {

367 
	`mem£t
(&
om±_’abËd
, 0, (ompt_enabled));

371 
kmp_šfo_t
 *
roÙ_th»ad
 = 
	`om±_g‘_th»ad
();

373 
	`om±_£t_th»ad_¡©e
(
roÙ_th»ad
, 
om±_¡©e_ov”h—d
);

375 ià(
om±_’abËd
.
om±_ÿÎback_th»ad_begš
) {

376 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_th»ad_begš
)(

377 
om±_th»ad_š™Ÿl
, 
	`__om±_g‘_th»ad_d©a_š‹º®
());

379 
om±_d©a_t
 *
sk_d©a
;

380 
om±_d©a_t
 *
·¿Î–_d©a
;

381 
	`__om±_g‘_sk_šfo_š‹º®
(0, 
NULL
, &
sk_d©a
, NULL, &
·¿Î–_d©a
, NULL);

382 ià(
om±_’abËd
.
om±_ÿÎback_im¶ic™_sk
) {

383 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_im¶ic™_sk
)(

384 
om±_scİe_begš
, 
·¿Î–_d©a
, 
sk_d©a
, 1, 1, 
om±_sk_š™Ÿl
);

387 
	`om±_£t_th»ad_¡©e
(
roÙ_th»ad
, 
om±_¡©e_wÜk_£rŸl
);

389 
	}
}

391 
	$om±_fši
() {

392 ià(
om±_’abËd
.
’abËd
) {

393 
om±_¡¬t_toŞ_»suÉ
->
	`fš®ize
(&(om±_¡¬t_toŞ_»suÉ->
toŞ_d©a
));

396 
	`mem£t
(&
om±_’abËd
, 0, (ompt_enabled));

397 
	}
}

407 
OMPT_API_ROUTINE
 
	$om±_’um”©e_¡©es
(
cu¼’t_¡©e
, *
Ãxt_¡©e
,

408 cÚ¡ **
Ãxt_¡©e_Çme
) {

409 cÚ¡ 
Ën
 = (
om±_¡©e_šfo
è/ (
om±_¡©e_šfo_t
);

410 
i
 = 0;

412 
i
 = 0; i < 
Ën
 - 1; i++) {

413 ià(
om±_¡©e_šfo
[
i
].
¡©e_id
 =ğ
cu¼’t_¡©e
) {

414 *
Ãxt_¡©e
 = 
om±_¡©e_šfo
[
i
 + 1].
¡©e_id
;

415 *
Ãxt_¡©e_Çme
 = 
om±_¡©e_šfo
[
i
 + 1].
¡©e_Çme
;

421 
	}
}

423 
OMPT_API_ROUTINE
 
	$om±_’um”©e_mu‹x_im¶s
(
cu¼’t_im¶
,

424 *
Ãxt_im¶
,

425 cÚ¡ **
Ãxt_im¶_Çme
) {

426 cÚ¡ 
Ën
 =

427 (
kmp_mu‹x_im¶_šfo
è/ (
kmp_mu‹x_im¶_šfo_t
);

428 
i
 = 0;

429 
i
 = 0; i < 
Ën
 - 1; i++) {

430 ià(
kmp_mu‹x_im¶_šfo
[
i
].
id
 !ğ
cu¼’t_im¶
)

432 *
Ãxt_im¶
 = 
kmp_mu‹x_im¶_šfo
[
i
 + 1].
id
;

433 *
Ãxt_im¶_Çme
 = 
kmp_mu‹x_im¶_šfo
[
i
 + 1].
Çme
;

437 
	}
}

443 
OMPT_API_ROUTINE
 
om±_£t_»suÉ_t
 
	$om±_£t_ÿÎback
(
om±_ÿÎbacks_t
 
which
,

444 
om±_ÿÎback_t
 
ÿÎback
) {

445 
which
) {

447 
	#om±_ev’t_maüo
(
ev’t_Çme
, 
ÿÎback_ty³
, 
ev’t_id
) \

448 
ev’t_Çme
: \

449 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
ev’t_Çme
èğ(
ÿÎback_ty³
)
ÿÎback
; \

450 
om±_’abËd
.
ev’t_Çme
 = (
ÿÎback
 != 0); \

451 ià(
ÿÎback
) \

452  
	`om±_ev’t_im¶em’tiÚ_¡©us
(
ev’t_Çme
); \

454  
om±_£t_®ways
;

	)

456 
	`FOREACH_OMPT_EVENT
(
om±_ev’t_maüo
)

458 #undeà
om±_ev’t_maüo


461  
om±_£t_”rÜ
;

463 
	}
}

465 
OMPT_API_ROUTINE
 
	$om±_g‘_ÿÎback
(
om±_ÿÎbacks_t
 
which
,

466 
om±_ÿÎback_t
 *
ÿÎback
) {

467 ià(!
om±_’abËd
.
’abËd
)

468  
om±_g‘_ÿÎback_çu»
;

470 
which
) {

472 
	#om±_ev’t_maüo
(
ev’t_Çme
, 
ÿÎback_ty³
, 
ev’t_id
) \

473 
ev’t_Çme
: { \

474 
om±_ÿÎback_t
 
mycb
 = \

475 (
om±_ÿÎback_t
)
om±_ÿÎbacks
.
	`om±_ÿÎback
(
ev’t_Çme
); \

476 ià(
om±_’abËd
.
ev’t_Çme
 && 
mycb
) { \

477 *
ÿÎback
 = 
mycb
; \

478  
om±_g‘_ÿÎback_sucûss
; \

480  
om±_g‘_ÿÎback_çu»
; \

481 }

	)

483 
	`FOREACH_OMPT_EVENT
(
om±_ev’t_maüo
)

485 #undeà
om±_ev’t_maüo


488  
om±_g‘_ÿÎback_çu»
;

490 
	}
}

496 
OMPT_API_ROUTINE
 
	$om±_g‘_·¿Î–_šfo
(
ªû¡Ü_Ëv–
,

497 
om±_d©a_t
 **
·¿Î–_d©a
,

498 *
‹am_size
) {

499 ià(!
om±_’abËd
.
’abËd
)

501  
	`__om±_g‘_·¿Î–_šfo_š‹º®
(
ªû¡Ü_Ëv–
, 
·¿Î–_d©a
,

502 
‹am_size
);

503 
	}
}

505 
OMPT_API_ROUTINE
 
	$om±_g‘_¡©e
(
om±_wa™_id_t
 *
wa™_id
) {

506 ià(!
om±_’abËd
.
’abËd
)

507  
om±_¡©e_wÜk_£rŸl
;

508 
th»ad_¡©e
 = 
	`__om±_g‘_¡©e_š‹º®
(
wa™_id
);

510 ià(
th»ad_¡©e
 =ğ
om±_¡©e_undefšed
) {

511 
th»ad_¡©e
 = 
om±_¡©e_wÜk_£rŸl
;

514  
th»ad_¡©e
;

515 
	}
}

521 
OMPT_API_ROUTINE
 
om±_d©a_t
 *
	$om±_g‘_th»ad_d©a
() {

522 ià(!
om±_’abËd
.
’abËd
)

523  
NULL
;

524  
	`__om±_g‘_th»ad_d©a_š‹º®
();

525 
	}
}

527 
OMPT_API_ROUTINE
 
	$om±_g‘_sk_šfo
(
ªû¡Ü_Ëv–
, *
ty³
,

528 
om±_d©a_t
 **
sk_d©a
,

529 
om±_äame_t
 **
sk_äame
,

530 
om±_d©a_t
 **
·¿Î–_d©a
,

531 *
th»ad_num
) {

532 ià(!
om±_’abËd
.
’abËd
)

534  
	`__om±_g‘_sk_šfo_š‹º®
(
ªû¡Ü_Ëv–
, 
ty³
, 
sk_d©a
,

535 
sk_äame
, 
·¿Î–_d©a
, 
th»ad_num
);

536 
	}
}

538 
OMPT_API_ROUTINE
 
	$om±_g‘_sk_memÜy
(**
addr
, 
size_t
 *
size
,

539 
block
) {

540  
	`__om±_g‘_sk_memÜy_š‹º®
(
addr
, 
size
, 
block
);

541 
	}
}

547 
OMPT_API_ROUTINE
 
	$om±_g‘_num_´ocs
() {

550  
__kmp_ava_´oc
;

551 
	}
}

557 
OMPT_API_ROUTINE
 
	$om±_g‘_num_¶aûs
() {

559 #ià!
KMP_AFFINITY_SUPPORTED


562 ià(!
	`KMP_AFFINITY_CAPABLE
())

564  
__kmp_affš™y_num_masks
;

566 
	}
}

568 
OMPT_API_ROUTINE
 
	$om±_g‘_¶aû_´oc_ids
(
¶aû_num
, 
ids_size
,

569 *
ids
) {

571 #ià!
KMP_AFFINITY_SUPPORTED


574 
i
, 
couÁ
;

575 
tmp_ids
[
ids_size
];

576 ià(!
	`KMP_AFFINITY_CAPABLE
())

578 ià(
¶aû_num
 < 0 ||…Ïû_num >ğ()
__kmp_affš™y_num_masks
)

582 
kmp_affš_mask_t
 *
mask
 = 
	`KMP_CPU_INDEX
(
__kmp_affš™y_masks
, 
¶aû_num
);

583 
couÁ
 = 0;

584 
	`KMP_CPU_SET_ITERATE
(
i
, 
mask
) {

585 ià((!
	`KMP_CPU_ISSET
(
i
, 
__kmp_affš_fuÎMask
)) ||

586 (!
	`KMP_CPU_ISSET
(
i
, 
mask
))) {

589 ià(
couÁ
 < 
ids_size
)

590 
tmp_ids
[
couÁ
] = 
i
;

591 
couÁ
++;

593 ià(
ids_size
 >ğ
couÁ
) {

594 
i
 = 0; i < 
couÁ
; i++) {

595 
ids
[
i
] = 
tmp_ids
[i];

598  
couÁ
;

600 
	}
}

602 
OMPT_API_ROUTINE
 
	$om±_g‘_¶aû_num
() {

604 #ià!
KMP_AFFINITY_SUPPORTED


607 ià(!
om±_’abËd
.
’abËd
 || 
	`__kmp_g‘_gtid
() < 0)

610 
gtid
;

611 
kmp_šfo_t
 *
th»ad
;

612 ià(!
	`KMP_AFFINITY_CAPABLE
())

614 
gtid
 = 
	`__kmp_’Œy_gtid
();

615 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

616 ià(
th»ad
 =ğ
NULL
 ||h»ad->
th
.
th_cu¼’t_¶aû
 < 0)

618  
th»ad
->
th
.
th_cu¼’t_¶aû
;

620 
	}
}

622 
OMPT_API_ROUTINE
 
	$om±_g‘_·¹™iÚ_¶aû_nums
(
¶aû_nums_size
,

623 *
¶aû_nums
) {

625 #ià!
KMP_AFFINITY_SUPPORTED


628 ià(!
om±_’abËd
.
’abËd
 || 
	`__kmp_g‘_gtid
() < 0)

631 
i
, 
gtid
, 
¶aû_num
, 
fœ¡_¶aû
, 
Ï¡_¶aû
, 
¡¬t
, 
’d
;

632 
kmp_šfo_t
 *
th»ad
;

633 ià(!
	`KMP_AFFINITY_CAPABLE
())

635 
gtid
 = 
	`__kmp_’Œy_gtid
();

636 
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

637 ià(
th»ad
 =ğ
NULL
)

639 
fœ¡_¶aû
 = 
th»ad
->
th
.
th_fœ¡_¶aû
;

640 
Ï¡_¶aû
 = 
th»ad
->
th
.
th_Ï¡_¶aû
;

641 ià(
fœ¡_¶aû
 < 0 || 
Ï¡_¶aû
 < 0)

643 ià(
fœ¡_¶aû
 <ğ
Ï¡_¶aû
) {

644 
¡¬t
 = 
fœ¡_¶aû
;

645 
’d
 = 
Ï¡_¶aû
;

647 
¡¬t
 = 
Ï¡_¶aû
;

648 
’d
 = 
fœ¡_¶aû
;

650 ià(
’d
 - 
¡¬t
 <ğ
¶aû_nums_size
)

651 
i
 = 0, 
¶aû_num
 = 
¡¬t
;…Ïû_num <ğ
’d
; ++place_num, ++i) {

652 
¶aû_nums
[
i
] = 
¶aû_num
;

654  
’d
 - 
¡¬t
 + 1;

656 
	}
}

662 
OMPT_API_ROUTINE
 
	$om±_g‘_´oc_id
() {

663 ià(!
om±_’abËd
.
’abËd
 || 
	`__kmp_g‘_gtid
() < 0)

665 #ià
KMP_OS_LINUX


666  
	`sched_g‘ıu
();

667 #–ià
KMP_OS_WINDOWS


668 
PROCESSOR_NUMBER
 
²
;

669 
	`G‘Cu¼’tProûssÜNumb”Ex
(&
²
);

670  64 * 
²
.
Group
 +…n.
Numb”
;

674 
	}
}

693 
	$__kmp_cÚŒŞ_toŞ
(
ušt64_t
 
commªd
, ušt64_ˆ
modif›r
, *
¬g
) {

695 ià(
om±_’abËd
.
’abËd
) {

696 ià(
om±_’abËd
.
om±_ÿÎback_cÚŒŞ_toŞ
) {

697  
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_cÚŒŞ_toŞ
)(

698 
commªd
, 
modif›r
, 
¬g
, 
	`OMPT_LOAD_RETURN_ADDRESS
(
	`__kmp_’Œy_gtid
()));

705 
	}
}

711 
OMPT_API_ROUTINE
 
ušt64_t
 
	$om±_g‘_unique_id
() {

712  
	`__om±_g‘_unique_id_š‹º®
();

713 
	}
}

715 
OMPT_API_ROUTINE
 
	$om±_fš®ize_toŞ
(è{ 
	`__kmp_š‹º®_’d_©ex™
(); 
	}
}

721 
OMPT_API_ROUTINE
 
	$om±_g‘_rg‘_šfo
(
ušt64_t
 *
deviû_num
,

722 
om±_id_t
 *
rg‘_id
,

723 
om±_id_t
 *
ho¡_İ_id
) {

725 
	}
}

727 
OMPT_API_ROUTINE
 
	$om±_g‘_num_deviûs
() {

729 
	}
}

735 
om±_š‹rçû_â_t
 
	$om±_â_lookup
(cÚ¡ *
s
) {

737 
	#om±_š‹rçû_â
(
â
) \

738 
â
##
_t
 fn##
_f
 = fn; \

739 ià(
	`¡rcmp
(
s
, #fn) == 0) \

740  (
om±_š‹rçû_â_t
)
â
##
_f
;

	)

742 
	`FOREACH_OMPT_INQUIRY_FN
(
om±_š‹rçû_â
)

744  (
om±_š‹rçû_â_t
)0;

745 
	}
}

	@ompt-internal.h

13 #iâdeà
__OMPT_INTERNAL_H__


14 
	#__OMPT_INTERNAL_H__


	)

16 
	~"om±-ev’t-¥ecific.h
"

17 
	~"omp-toŞs.h
"

19 
	#OMPT_VERSION
 1

	)

21 
	#_OMP_EXTERN
 "C"

	)

23 
	#OMPT_INVOKER
(
x
) \

24 ((
x
 =ğ
fÜk_cÚ‹xt_gnu
è? 
om±_·¿Î–_švok”_´og¿m
 \

25 : 
om±_·¿Î–_švok”_ruÁime
)

	)

27 
	#om±_ÿÎback
(
e
èe##
_ÿÎback


	)

29 
	som±_ÿÎbacks_š‹º®_s
 {

30 
	#om±_ev’t_maüo
(
ev’t
, 
ÿÎback
, 
ev’tid
) \

31 
ÿÎback
 
	`om±_ÿÎback
(
ev’t
);

	)

33 
FOREACH_OMPT_EVENT
(
om±_ev’t_maüo
)

35 #undeà
om±_ev’t_maüo


36 } 
	tom±_ÿÎbacks_š‹º®_t
;

38 
	som±_ÿÎbacks_aùive_s
 {

39 
	m’abËd
 : 1;

40 
	#om±_ev’t_maüo
(
ev’t
, 
ÿÎback
, 
ev’tid
èev’ˆ: 1;

	)

42 
FOREACH_OMPT_EVENT
(
om±_ev’t_maüo
)

44 #undeà
om±_ev’t_maüo


45 } 
	tom±_ÿÎbacks_aùive_t
;

47 
	#TASK_TYPE_DETAILS_FORMAT
(
šfo
) \

48 ((
šfo
->
td_æags
.
sk_£rŸl
 || info->td_æags.
skšg_£r
) \

49 ? 
om±_sk_undeã¼ed
 \

51 ((!(
šfo
->
td_æags
.
t›dÃss
)è? 
om±_sk_uÁ›d
 : 0x0) | \

52 (
šfo
->
td_æags
.
fš®
 ? 
om±_sk_fš®
 : 0x0) | \

53 (
šfo
->
td_æags
.
m”ged_if0
 ? 
om±_sk_m”g—bË
 : 0x0)

	)

56 
om±_äame_t
 
	mäame
;

57 
om±_d©a_t
 
	msk_d©a
;

58 
kmp_skd©a
 *
	mschedulšg_·»Á
;

59 
	mth»ad_num
;

60 
	mnd•s
;

61 
om±_d•’d’û_t
 *
	md•s
;

62 } 
	tom±_sk_šfo_t
;

65 
om±_d©a_t
 
	m·¿Î–_d©a
;

66 *
	mma¡”_»tuº_add»ss
;

67 } 
	tom±_‹am_šfo_t
;

69 
	som±_lw_sk‹am_s
 {

70 
om±_‹am_šfo_t
 
	mom±_‹am_šfo
;

71 
om±_sk_šfo_t
 
	mom±_sk_šfo
;

72 
	mh—p
;

73 
om±_lw_sk‹am_s
 *
	m·»Á
;

74 } 
	tom±_lw_sk‹am_t
;

77 
om±_d©a_t
 
	mth»ad_d©a
;

78 
om±_d©a_t
 
	msk_d©a
;

80 *
	m»tuº_add»ss
;

81 
om±_¡©e_t
 
	m¡©e
;

82 
om±_wa™_id_t
 
	mwa™_id
;

83 
	mom±_sk_y›lded
;

84 
	m·¿Î–_æags
;

85 *
	midË_äame
;

86 } 
	tom±_th»ad_šfo_t
;

88 
om±_ÿÎbacks_š‹º®_t
 
om±_ÿÎbacks
;

90 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


91 #ià
USE_FAST_MEMORY


92 
	#KMP_OMPT_DEPS_ALLOC
 
__kmp_ç¡_®loÿ‹


	)

93 
	#KMP_OMPT_DEPS_FREE
 
__kmp_ç¡_ä“


	)

95 
	#KMP_OMPT_DEPS_ALLOC
 
__kmp_th»ad_m®loc


	)

96 
	#KMP_OMPT_DEPS_FREE
 
__kmp_th»ad_ä“


	)

100 #ifdeà
__ılu¥lus


104 
om±_´e_š™
();

105 
om±_po¡_š™
();

106 
om±_fši
();

108 
	#OMPT_GET_RETURN_ADDRESS
(
Ëv–
è
	`__butš_»tuº_add»ss
Öev–)

	)

109 
	#OMPT_GET_FRAME_ADDRESS
(
Ëv–
è
	`__butš_äame_add»ss
Öev–)

	)

111 
__kmp_cÚŒŞ_toŞ
(
ušt64_t
 
commªd
, ušt64_ˆ
modif›r
, *
¬g
);

113 
om±_ÿÎbacks_aùive_t
 
om±_’abËd
;

115 #ià
KMP_OS_WINDOWS


116 
	#UNLIKELY
(
x
è(x)

	)

117 
	#OMPT_NOINLINE
 
	`__deş¥ec
(
nošlše
)

	)

119 
	#UNLIKELY
(
x
è
	`__butš_ex³ù
(!!(x), 0)

	)

120 
	#OMPT_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

123 #ifdeà
__ılu¥lus


	@ompt-specific.cpp

17 
	~"kmp.h
"

18 
	~"om±-¥ecific.h
"

20 #ià
KMP_OS_UNIX


21 
	~<dlfú.h
>

24 #ià
KMP_OS_WINDOWS


25 
	#THREAD_LOCAL
 
	`__deş¥ec
(
th»ad
)

	)

27 
	#THREAD_LOCAL
 
__th»ad


	)

30 
	#OMPT_WEAK_ATTRIBUTE
 
KMP_WEAK_ATTRIBUTE


	)

36 
	#LWT_FROM_TEAM
(
‹am
èÑ—m)->
t
.
om±_£rŸlized_‹am_šfo


	)

38 
	#OMPT_THREAD_ID_BITS
 16

	)

51 
om±_‹am_šfo_t
 *
	$__om±_g‘_‹amšfo
(
d•th
, *
size
) {

52 
kmp_šfo_t
 *
thr
 = 
	`om±_g‘_th»ad
();

54 ià(
thr
) {

55 
kmp_‹am
 *
‹am
 = 
thr
->
th
.
th_‹am
;

56 ià(
‹am
 =ğ
NULL
)

57  
NULL
;

59 
om±_lw_sk‹am_t
 *
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
‹am
), *
lwt
 = 
NULL
;

61 
d•th
 > 0) {

63 ià(
lwt
)

64 
lwt
 =†wt->
·»Á
;

68 ià(!
lwt
 && 
‹am
) {

69 ià(
Ãxt_lwt
) {

70 
lwt
 = 
Ãxt_lwt
;

71 
Ãxt_lwt
 = 
NULL
;

73 
‹am
 =—m->
t
.
t_·»Á
;

74 ià(
‹am
) {

75 
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
‹am
);

80 
d•th
--;

83 ià(
lwt
) {

85 ià(
size
)

86 *
size
 = 1;

89  &
lwt
->
om±_‹am_šfo
;

90 } ià(
‹am
) {

92 ià(
size
)

93 *
size
 = 
‹am
->
t
.
t_Åroc
;

96  &
‹am
->
t
.
om±_‹am_šfo
;

100  
NULL
;

101 
	}
}

103 
om±_sk_šfo_t
 *
	$__om±_g‘_sk_šfo_objeù
(
d•th
) {

104 
om±_sk_šfo_t
 *
šfo
 = 
NULL
;

105 
kmp_šfo_t
 *
thr
 = 
	`om±_g‘_th»ad
();

107 ià(
thr
) {

108 
kmp_skd©a_t
 *
skd©a
 = 
thr
->
th
.
th_cu¼’t_sk
;

109 
om±_lw_sk‹am_t
 *
lwt
 = 
NULL
,

110 *
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
);

112 
d•th
 > 0) {

114 ià(
lwt
)

115 
lwt
 =†wt->
·»Á
;

119 ià(!
lwt
 && 
skd©a
) {

120 ià(
Ãxt_lwt
) {

121 
lwt
 = 
Ãxt_lwt
;

122 
Ãxt_lwt
 = 
NULL
;

124 
skd©a
 =askd©a->
td_·»Á
;

125 ià(
skd©a
) {

126 
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
);

130 
d•th
--;

133 ià(
lwt
) {

134 
šfo
 = &
lwt
->
om±_sk_šfo
;

135 } ià(
skd©a
) {

136 
šfo
 = &
skd©a
->
om±_sk_šfo
;

140  
šfo
;

141 
	}
}

143 
om±_sk_šfo_t
 *
	$__om±_g‘_schedulšg_skšfo
(
d•th
) {

144 
om±_sk_šfo_t
 *
šfo
 = 
NULL
;

145 
kmp_šfo_t
 *
thr
 = 
	`om±_g‘_th»ad
();

147 ià(
thr
) {

148 
kmp_skd©a_t
 *
skd©a
 = 
thr
->
th
.
th_cu¼’t_sk
;

150 
om±_lw_sk‹am_t
 *
lwt
 = 
NULL
,

151 *
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
);

153 
d•th
 > 0) {

155 ià(
lwt
)

156 
lwt
 =†wt->
·»Á
;

160 ià(!
lwt
 && 
skd©a
) {

162 ià(
skd©a
->
om±_sk_šfo
.
schedulšg_·»Á
) {

163 
skd©a
 =askd©a->
om±_sk_šfo
.
schedulšg_·»Á
;

164 } ià(
Ãxt_lwt
) {

165 
lwt
 = 
Ãxt_lwt
;

166 
Ãxt_lwt
 = 
NULL
;

169 
skd©a
 =askd©a->
td_·»Á
;

170 ià(
skd©a
) {

171 
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
);

175 
d•th
--;

178 ià(
lwt
) {

179 
šfo
 = &
lwt
->
om±_sk_šfo
;

180 } ià(
skd©a
) {

181 
šfo
 = &
skd©a
->
om±_sk_šfo
;

185  
šfo
;

186 
	}
}

196 
om±_d©a_t
 *
	$__om±_g‘_th»ad_d©a_š‹º®
() {

197 ià(
	`__kmp_g‘_gtid
() >= 0) {

198 
kmp_šfo_t
 *
th»ad
 = 
	`om±_g‘_th»ad
();

199 ià(
th»ad
 =ğ
NULL
)

200  
NULL
;

201  &(
th»ad
->
th
.
om±_th»ad_šfo
.
th»ad_d©a
);

203  
NULL
;

204 
	}
}

210 
	$__om±_th»ad_assign_wa™_id
(*
v¬ŸbË
) {

211 
kmp_šfo_t
 *
ti
 = 
	`om±_g‘_th»ad
();

213 ià(
ti
)

214 
ti
->
th
.
om±_th»ad_šfo
.
wa™_id
 = (
om±_wa™_id_t
)(
ušŒ_t
)
v¬ŸbË
;

215 
	}
}

217 
	$__om±_g‘_¡©e_š‹º®
(
om±_wa™_id_t
 *
omp_wa™_id
) {

218 
kmp_šfo_t
 *
ti
 = 
	`om±_g‘_th»ad
();

220 ià(
ti
) {

221 ià(
omp_wa™_id
)

222 *
omp_wa™_id
 = 
ti
->
th
.
om±_th»ad_šfo
.
wa™_id
;

223  
ti
->
th
.
om±_th»ad_šfo
.
¡©e
;

225  
om±_¡©e_undefšed
;

226 
	}
}

232 
	$__om±_g‘_·¿Î–_šfo_š‹º®
(
ªû¡Ü_Ëv–
,

233 
om±_d©a_t
 **
·¿Î–_d©a
,

234 *
‹am_size
) {

235 ià(
	`__kmp_g‘_gtid
() >= 0) {

236 
om±_‹am_šfo_t
 *
šfo
;

237 ià(
‹am_size
) {

238 
šfo
 = 
	`__om±_g‘_‹amšfo
(
ªû¡Ü_Ëv–
, 
‹am_size
);

240 
šfo
 = 
	`__om±_g‘_‹amšfo
(
ªû¡Ü_Ëv–
, 
NULL
);

242 ià(
·¿Î–_d©a
) {

243 *
·¿Î–_d©a
 = 
šfo
 ? &(šfo->·¿Î–_d©aè: 
NULL
;

245  
šfo
 ? 2 : 0;

249 
	}
}

255 
	$__om±_lw_sk‹am_š™
(
om±_lw_sk‹am_t
 *
lwt
, 
kmp_šfo_t
 *
thr
, 
gtid
,

256 
om±_d©a_t
 *
om±_pid
, *
cod•Œ
) {

259 
lwt
->
om±_‹am_šfo
.
·¿Î–_d©a
 = *
om±_pid
;

260 
lwt
->
om±_‹am_šfo
.
ma¡”_»tuº_add»ss
 = 
cod•Œ
;

261 
lwt
->
om±_sk_šfo
.
sk_d©a
.
v®ue
 = 0;

262 
lwt
->
om±_sk_šfo
.
äame
.
’‹r_äame
 = 
om±_d©a_nÚe
;

263 
lwt
->
om±_sk_šfo
.
äame
.
ex™_äame
 = 
om±_d©a_nÚe
;

264 
lwt
->
om±_sk_šfo
.
schedulšg_·»Á
 = 
NULL
;

265 
lwt
->
om±_sk_šfo
.
d•s
 = 
NULL
;

266 
lwt
->
om±_sk_šfo
.
nd•s
 = 0;

267 
lwt
->
h—p
 = 0;

268 
lwt
->
·»Á
 = 0;

269 
	}
}

271 
	$__om±_lw_sk‹am_lšk
(
om±_lw_sk‹am_t
 *
lwt
, 
kmp_šfo_t
 *
thr
,

272 
Ú_h—p
, 
boŞ
 
®ways
) {

273 
om±_lw_sk‹am_t
 *
lšk_lwt
 = 
lwt
;

274 ià(
®ways
 ||

275 
thr
->
th
.
th_‹am
->
t
.
t_£rŸlized
 >

277 ià(
Ú_h—p
) {

278 
lšk_lwt
 =

279 (
om±_lw_sk‹am_t
 *)
	`__kmp_®loÿ‹
((ompt_lw_taskteam_t));

281 
lšk_lwt
->
h—p
 = 
Ú_h—p
;

284 
om±_‹am_šfo_t
 
tmp_‹am
 = 
lwt
->
om±_‹am_šfo
;

285 
lšk_lwt
->
om±_‹am_šfo
 = *
	`OMPT_CUR_TEAM_INFO
(
thr
);

286 *
	`OMPT_CUR_TEAM_INFO
(
thr
èğ
tmp_‹am
;

288 
om±_sk_šfo_t
 
tmp_sk
 = 
lwt
->
om±_sk_šfo
;

289 
lšk_lwt
->
om±_sk_šfo
 = *
	`OMPT_CUR_TASK_INFO
(
thr
);

290 *
	`OMPT_CUR_TASK_INFO
(
thr
èğ
tmp_sk
;

293 
om±_lw_sk‹am_t
 *
my_·»Á
 =

294 
thr
->
th
.
th_‹am
->
t
.
om±_£rŸlized_‹am_šfo
;

295 
lšk_lwt
->
·»Á
 = 
my_·»Á
;

296 
thr
->
th
.
th_‹am
->
t
.
om±_£rŸlized_‹am_šfo
 = 
lšk_lwt
;

300 *
	`OMPT_CUR_TEAM_INFO
(
thr
èğ
lwt
->
om±_‹am_šfo
;

301 *
	`OMPT_CUR_TASK_INFO
(
thr
èğ
lwt
->
om±_sk_šfo
;

303 
	}
}

305 
	$__om±_lw_sk‹am_uÆšk
(
kmp_šfo_t
 *
thr
) {

306 
om±_lw_sk‹am_t
 *
lwsk
 = 
thr
->
th
.
th_‹am
->
t
.
om±_£rŸlized_‹am_šfo
;

307 ià(
lwsk
) {

308 
thr
->
th
.
th_‹am
->
t
.
om±_£rŸlized_‹am_šfo
 = 
lwsk
->
·»Á
;

310 
om±_‹am_šfo_t
 
tmp_‹am
 = 
lwsk
->
om±_‹am_šfo
;

311 
lwsk
->
om±_‹am_šfo
 = *
	`OMPT_CUR_TEAM_INFO
(
thr
);

312 *
	`OMPT_CUR_TEAM_INFO
(
thr
èğ
tmp_‹am
;

314 
om±_sk_šfo_t
 
tmp_sk
 = 
lwsk
->
om±_sk_šfo
;

315 
lwsk
->
om±_sk_šfo
 = *
	`OMPT_CUR_TASK_INFO
(
thr
);

316 *
	`OMPT_CUR_TASK_INFO
(
thr
èğ
tmp_sk
;

318 ià(
lwsk
->
h—p
) {

319 
	`__kmp_ä“
(
lwsk
);

320 
lwsk
 = 
NULL
;

324 
	}
}

330 
	$__om±_g‘_sk_šfo_š‹º®
(
ªû¡Ü_Ëv–
, *
ty³
,

331 
om±_d©a_t
 **
sk_d©a
,

332 
om±_äame_t
 **
sk_äame
,

333 
om±_d©a_t
 **
·¿Î–_d©a
,

334 *
th»ad_num
) {

335 ià(
	`__kmp_g‘_gtid
() < 0)

338 ià(
ªû¡Ü_Ëv–
 < 0)

342 
om±_sk_šfo_t
 *
šfo
 = 
NULL
;

343 
om±_‹am_šfo_t
 *
‹am_šfo
 = 
NULL
;

344 
kmp_šfo_t
 *
thr
 = 
	`om±_g‘_th»ad
();

345 
Ëv–
 = 
ªû¡Ü_Ëv–
;

347 ià(
thr
) {

348 
kmp_skd©a_t
 *
skd©a
 = 
thr
->
th
.
th_cu¼’t_sk
;

349 ià(
skd©a
 =ğ
NULL
)

351 
kmp_‹am
 *
‹am
 = 
thr
->
th
.
th_‹am
, *
´ev_‹am
 = 
NULL
;

352 ià(
‹am
 =ğ
NULL
)

354 
om±_lw_sk‹am_t
 *
lwt
 = 
NULL
,

355 *
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
),

356 *
´ev_lwt
 = 
NULL
;

358 
ªû¡Ü_Ëv–
 > 0) {

360 
´ev_‹am
 = 
‹am
;

361 
´ev_lwt
 = 
lwt
;

363 ià(
lwt
)

364 
lwt
 =†wt->
·»Á
;

368 ià(!
lwt
 && 
skd©a
) {

370 ià(
skd©a
->
om±_sk_šfo
.
schedulšg_·»Á
) {

371 
skd©a
 =askd©a->
om±_sk_šfo
.
schedulšg_·»Á
;

372 } ià(
Ãxt_lwt
) {

373 
lwt
 = 
Ãxt_lwt
;

374 
Ãxt_lwt
 = 
NULL
;

377 
skd©a
 =askd©a->
td_·»Á
;

378 ià(
‹am
 =ğ
NULL
)

380 
‹am
 =—m->
t
.
t_·»Á
;

381 ià(
skd©a
) {

382 
Ãxt_lwt
 = 
	`LWT_FROM_TEAM
(
skd©a
->
td_‹am
);

386 
ªû¡Ü_Ëv–
--;

389 ià(
lwt
) {

390 
šfo
 = &
lwt
->
om±_sk_šfo
;

391 
‹am_šfo
 = &
lwt
->
om±_‹am_šfo
;

392 ià(
ty³
) {

393 *
ty³
 = 
om±_sk_im¶ic™
;

395 } ià(
skd©a
) {

396 
šfo
 = &
skd©a
->
om±_sk_šfo
;

397 
‹am_šfo
 = &
‹am
->
t
.
om±_‹am_šfo
;

398 ià(
ty³
) {

399 ià(
skd©a
->
td_·»Á
) {

400 *
ty³
 = (
skd©a
->
td_æags
.
skty³
 ? 
om±_sk_ex¶ic™


401 : 
om±_sk_im¶ic™
) |

402 
	`TASK_TYPE_DETAILS_FORMAT
(
skd©a
);

404 *
ty³
 = 
om±_sk_š™Ÿl
;

408 ià(
sk_d©a
) {

409 *
sk_d©a
 = 
šfo
 ? &šfo->sk_d©¨: 
NULL
;

411 ià(
sk_äame
) {

413 *
sk_äame
 = 
šfo
 ? &šfo->
äame
 : 
NULL
;

415 ià(
·¿Î–_d©a
) {

416 *
·¿Î–_d©a
 = 
‹am_šfo
 ? &Ñ—m_šfo->·¿Î–_d©aè: 
NULL
;

418 ià(
th»ad_num
) {

419 ià(
Ëv–
 == 0)

420 *
th»ad_num
 = 
	`__kmp_g‘_tid
();

421 ià(
´ev_lwt
)

422 *
th»ad_num
 = 0;

424 *
th»ad_num
 = 
´ev_‹am
->
t
.
t_ma¡”_tid
;

427  
šfo
 ? 2 : 0;

430 
	}
}

432 
	$__om±_g‘_sk_memÜy_š‹º®
(**
addr
, 
size_t
 *
size
, 
blocknum
) {

433 ià(
blocknum
 != 0)

436 
kmp_šfo_t
 *
thr
 = 
	`om±_g‘_th»ad
();

437 ià(!
thr
)

440 
kmp_skd©a_t
 *
skd©a
 = 
thr
->
th
.
th_cu¼’t_sk
;

441 
kmp_sk_t
 *
sk
 = 
	`KMP_TASKDATA_TO_TASK
(
skd©a
);

443 ià(
skd©a
->
td_æags
.
skty³
 !ğ
TASK_EXPLICIT
)

446 *
»t_addr
;

447 
št64_t
 
»t_size
 = 
skd©a
->
td_size_®loc
 - (
kmp_skd©a_t
);

450 ià(
skd©a
->
td_æags
.
de¡ruùÜs_thunk
)

451 
»t_addr
 = &
sk
->
d©a1
 + 1;

453 
»t_addr
 = &
sk
->
·¹_id
 + 1;

455 
»t_size
 -ğ(*)(
»t_addr
è- (*)(
sk
);

456 ià(
»t_size
 < 0)

459 *
addr
 = 
»t_addr
;

460 *
size
 = 
»t_size
;

462 
	}
}

468 
	$__om±_‹am_assign_id
(
kmp_‹am_t
 *
‹am
, 
om±_d©a_t
 
om±_pid
) {

469 
‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
 = 
om±_pid
;

470 
	}
}

476 
ušt64_t
 
	$__om±_g‘_unique_id_š‹º®
() {

477 
ušt64_t
 
th»ad
 = 1;

478 
THREAD_LOCAL
 
ušt64_t
 
ID
 = 0;

479 ià(
ID
 == 0) {

480 
ušt64_t
 
Ãw_th»ad
 = 
	`KMP_TEST_THEN_INC64
((
kmp_št64
 *)&
th»ad
);

481 
ID
 = 
Ãw_th»ad
 << ((
ušt64_t
è* 8 - 
OMPT_THREAD_ID_BITS
);

483  ++
ID
;

484 
	}
}

486 
om±_sync_»giÚ_t
 
	$__om±_g‘_b¬r›r_kšd
(
b¬r›r_ty³
 
bt
,

487 
kmp_šfo_t
 *
thr
) {

488 ià(
bt
 =ğ
bs_fÜkjoš_b¬r›r
)

489  
om±_sync_»giÚ_b¬r›r_im¶ic™
;

491 ià(
bt
 !ğ
bs_¶aš_b¬r›r
)

492  
om±_sync_»giÚ_b¬r›r_im¶em’tiÚ
;

494 ià(!
thr
->
th
.
th_id’t
)

495  
om±_sync_»giÚ_b¬r›r
;

497 
kmp_št32
 
æags
 = 
thr
->
th
.
th_id’t
->flags;

499 ià((
æags
 & 
KMP_IDENT_BARRIER_EXPL
) != 0)

500  
om±_sync_»giÚ_b¬r›r_ex¶ic™
;

502 ià((
æags
 & 
KMP_IDENT_BARRIER_IMPL
) != 0)

503  
om±_sync_»giÚ_b¬r›r_im¶ic™
;

505  
om±_sync_»giÚ_b¬r›r_im¶em’tiÚ
;

506 
	}
}

	@ompt-specific.h

13 #iâdeà
OMPT_SPECIFIC_H


14 
	#OMPT_SPECIFIC_H


	)

16 
	~"kmp.h
"

18 #ià
OMPT_SUPPORT


23 
__om±_‹am_assign_id
(
kmp_‹am_t
 *
‹am
, 
om±_d©a_t
 
om±_pid
);

24 
__om±_th»ad_assign_wa™_id
(*
v¬ŸbË
);

26 
__om±_lw_sk‹am_š™
(
om±_lw_sk‹am_t
 *
lwt
, 
kmp_šfo_t
 *
thr
,

27 
gtid
, 
om±_d©a_t
 *
om±_pid
, *
cod•Œ
);

29 
__om±_lw_sk‹am_lšk
(
om±_lw_sk‹am_t
 *
lwt
, 
kmp_šfo_t
 *
thr
,

30 
Ú_h—p
, 
boŞ
 
®ways
 = 
çl£
);

32 
__om±_lw_sk‹am_uÆšk
(
kmp_šfo_t
 *
thr
);

34 
om±_‹am_šfo_t
 *
__om±_g‘_‹amšfo
(
d•th
, *
size
);

36 
om±_sk_šfo_t
 *
__om±_g‘_sk_šfo_objeù
(
d•th
);

38 
__om±_g‘_·¿Î–_šfo_š‹º®
(
ªû¡Ü_Ëv–
,

39 
om±_d©a_t
 **
·¿Î–_d©a
,

40 *
‹am_size
);

42 
__om±_g‘_sk_šfo_š‹º®
(
ªû¡Ü_Ëv–
, *
ty³
,

43 
om±_d©a_t
 **
sk_d©a
,

44 
om±_äame_t
 **
sk_äame
,

45 
om±_d©a_t
 **
·¿Î–_d©a
, *
th»ad_num
);

47 
om±_d©a_t
 *
__om±_g‘_th»ad_d©a_š‹º®
();

54 
om±_sync_»giÚ_t
 
__om±_g‘_b¬r›r_kšd
(
b¬r›r_ty³
, 
kmp_šfo_t
 *);

60 
	#OMPT_CUR_TASK_INFO
(
thr
è(&Ñhr->
th
.
th_cu¼’t_sk
->
om±_sk_šfo
))

	)

61 
	#OMPT_CUR_TASK_DATA
(
thr
) \

62 (&(
thr
->
th
.
th_cu¼’t_sk
->
om±_sk_šfo
.
sk_d©a
))

	)

63 
	#OMPT_CUR_TEAM_INFO
(
thr
è(&Ñhr->
th
.
th_‹am
->
t
.
om±_‹am_šfo
))

	)

64 
	#OMPT_CUR_TEAM_DATA
(
thr
) \

65 (&(
thr
->
th
.
th_‹am
->
t
.
om±_‹am_šfo
.
·¿Î–_d©a
))

	)

67 
	#OMPT_HAVE_WEAK_ATTRIBUTE
 
KMP_HAVE_WEAK_ATTRIBUTE


	)

68 
	#OMPT_HAVE_PSAPI
 
KMP_HAVE_PSAPI


	)

69 
	#OMPT_STR_MATCH
(
hay¡ack
, 
ÃedË
è
	`__kmp_¡r_m©ch
(hay¡ack, 0,‚“dË)

	)

71 
šlše
 *
	$__om±_lßd_»tuº_add»ss
(
gtid
) {

72 
kmp_šfo_t
 *
thr
 = 
__kmp_th»ads
[
gtid
];

73 *
»tuº_add»ss
 = 
thr
->
th
.
om±_th»ad_šfo
.return_address;

74 
thr
->
th
.
om±_th»ad_šfo
.
»tuº_add»ss
 = 
NULL
;

75  
»tuº_add»ss
;

76 
	}
}

78 
	#OMPT_STORE_RETURN_ADDRESS
(
gtid
) \

79 ià(
om±_’abËd
.
’abËd
 && 
gtid
 >ğ0 && 
__kmp_th»ads
[gtid] && \

80 !
__kmp_th»ads
[
gtid
]->
th
.
om±_th»ad_šfo
.
»tuº_add»ss
) \

81 
__kmp_th»ads
[
gtid
]->
th
.
om±_th»ad_šfo
.
»tuº_add»ss
 = \

82 
	`__butš_»tuº_add»ss
(0)

	)

83 
	#OMPT_LOAD_RETURN_ADDRESS
(
gtid
è
	`__om±_lßd_»tuº_add»ss
(gtid)

	)

89 
šlše
 
kmp_šfo_t
 *
	$om±_g‘_th»ad_gtid
(
gtid
) {

90  (
gtid
 >ğ0è? 
	`__kmp_th»ad_äom_gtid
(gtidè: 
NULL
;

91 
	}
}

93 
šlše
 
kmp_šfo_t
 *
	$om±_g‘_th»ad
() {

94 
gtid
 = 
	`__kmp_g‘_gtid
();

95  
	`om±_g‘_th»ad_gtid
(
gtid
);

96 
	}
}

98 
šlše
 
	$om±_£t_th»ad_¡©e
(
kmp_šfo_t
 *
th»ad
, 
om±_¡©e_t
 
¡©e
) {

99 
th»ad
->
th
.
om±_th»ad_šfo
.
¡©e
 = state;

100 
	}
}

102 
šlše
 cÚ¡ *
	$om±_g‘_ruÁime_v”siÚ
() {

103  &
__kmp_v”siÚ_lib_v”
[
KMP_VERSION_MAGIC_LEN
];

104 
	}
}

108 #ià
OMPT_SUPPORT
 && 
OMPT_OPTIONAL


109 
	#OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
) \

110 
om±_d©a_t
 *
my_sk_d©a
 = 
	`OMPT_CUR_TASK_DATA
(
this_thr
); \

111 
om±_d©a_t
 *
my_·¿Î–_d©a
 = 
	`OMPT_CUR_TEAM_DATA
(
this_thr
); \

112 *
»tuº_add»ss
 = 
	`OMPT_LOAD_RETURN_ADDRESS
(
gtid
);

	)

113 
	#OMPT_REDUCTION_BEGIN
 \

114 ià(
om±_’abËd
.
’abËd
 && om±_’abËd.
om±_ÿÎback_»duùiÚ
) { \

115 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_»duùiÚ
)( \

116 
om±_sync_»giÚ_»duùiÚ
, 
om±_scİe_begš
, 
my_·¿Î–_d©a
, \

117 
my_sk_d©a
, 
»tuº_add»ss
); \

118 }

	)

119 
	#OMPT_REDUCTION_END
 \

120 ià(
om±_’abËd
.
’abËd
 && om±_’abËd.
om±_ÿÎback_»duùiÚ
) { \

121 
om±_ÿÎbacks
.
	`om±_ÿÎback
(
om±_ÿÎback_»duùiÚ
)( \

122 
om±_sync_»giÚ_»duùiÚ
, 
om±_scİe_’d
, 
my_·¿Î–_d©a
, \

123 
my_sk_d©a
, 
»tuº_add»ss
); \

124 }

	)

126 
	#OMPT_REDUCTION_DECL
(
this_thr
, 
gtid
)

	)

127 
	#OMPT_REDUCTION_BEGIN


	)

128 
	#OMPT_REDUCTION_END


	)

	@test-touch.c

13 #ifdeà
__ılu¥lus


16 
omp_g‘_wtime
();

17 
omp_g‘_num_th»ads
();

18 
omp_g‘_max_th»ads
();

19 #ifdeà
__ılu¥lus


23 
	$maš
() {

24 
	`omp_g‘_wtime
();

25 
	`omp_g‘_num_th»ads
();

26 
	`omp_g‘_max_th»ads
();

28 
	}
}

	@thirdparty/ittnotify/disable_warnings.h

11 
	~"™ŠÙify_cÚfig.h
"

13 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


15 #´agm¨
w¬nšg
 (
di§bË
: 593)

16 #´agm¨
w¬nšg
 (
di§bË
: 344)

17 #´agm¨
w¬nšg
 (
di§bË
: 174)

18 #´agm¨
w¬nšg
 (
di§bË
: 4127)

19 #´agm¨
w¬nšg
 (
di§bË
: 4306)

23 #ià
defšed
 
__INTEL_COMPILER


25 #´agm¨
w¬nšg
 (
di§bË
: 869)

26 #´agm¨
w¬nšg
 (
di§bË
: 1418)

27 #´agm¨
w¬nšg
 (
di§bË
: 1419)

	@thirdparty/ittnotify/ittnotify.h

10 #iâdeà
_ITTNOTIFY_H_


11 
	#_ITTNOTIFY_H_


	)

80 #iâdeà
ITT_OS_WIN


81 
	#ITT_OS_WIN
 1

	)

84 #iâdeà
ITT_OS_LINUX


85 
	#ITT_OS_LINUX
 2

	)

88 #iâdeà
ITT_OS_MAC


89 
	#ITT_OS_MAC
 3

	)

92 #iâdeà
ITT_OS_FREEBSD


93 
	#ITT_OS_FREEBSD
 4

	)

96 #iâdeà
ITT_OS


97 #ià
defšed
 
WIN32
 || defšed 
_WIN32


98 
	#ITT_OS
 
ITT_OS_WIN


	)

99 #–ià
defšed
Ğ
__APPLE__
 ) && defšedĞ
__MACH__
 )

100 
	#ITT_OS
 
ITT_OS_MAC


	)

101 #–ià
defšed
Ğ
__F»eBSD__
 )

102 
	#ITT_OS
 
ITT_OS_FREEBSD


	)

104 
	#ITT_OS
 
ITT_OS_LINUX


	)

108 #iâdeà
ITT_PLATFORM_WIN


109 
	#ITT_PLATFORM_WIN
 1

	)

112 #iâdeà
ITT_PLATFORM_POSIX


113 
	#ITT_PLATFORM_POSIX
 2

	)

116 #iâdeà
ITT_PLATFORM_MAC


117 
	#ITT_PLATFORM_MAC
 3

	)

120 #iâdeà
ITT_PLATFORM_FREEBSD


121 
	#ITT_PLATFORM_FREEBSD
 4

	)

124 #iâdeà
ITT_PLATFORM


125 #ià
ITT_OS
==
ITT_OS_WIN


126 
	#ITT_PLATFORM
 
ITT_PLATFORM_WIN


	)

127 #–ià
ITT_OS
==
ITT_OS_MAC


128 
	#ITT_PLATFORM
 
ITT_PLATFORM_MAC


	)

129 #–ià
ITT_OS
==
ITT_OS_FREEBSD


130 
	#ITT_PLATFORM
 
ITT_PLATFORM_FREEBSD


	)

132 
	#ITT_PLATFORM
 
ITT_PLATFORM_POSIX


	)

136 #ià
defšed
(
_UNICODE
è&& !defšed(
UNICODE
)

137 
	#UNICODE


	)

140 
	~<¡ddef.h
>

141 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


142 
	~<tch¬.h
>

144 
	~<¡dšt.h
>

145 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

146 
	~<wch¬.h
>

150 #iâdeà
ITTAPI_CDECL


151 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


152 
	#ITTAPI_CDECL
 
__cdeş


	)

154 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


155 
	#ITTAPI_CDECL
 
	`__©Œibu‹__
 ((
cdeş
))

	)

157 
	#ITTAPI_CDECL


	)

162 #iâdeà
STDCALL


163 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


164 
	#STDCALL
 
__¡dÿÎ


	)

166 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


167 
	#STDCALL
 
	`__©Œibu‹__
 ((
¡dÿÎ
))

	)

169 
	#STDCALL


	)

174 
	#ITTAPI
 
ITTAPI_CDECL


	)

175 
	#LIBITTAPI
 
ITTAPI_CDECL


	)

178 
	#ITTAPI_CALL
 
ITTAPI_CDECL


	)

179 
	#LIBITTAPI_CALL
 
ITTAPI_CDECL


	)

181 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


183 
	#ITT_INLINE
 
__fÜûšlše


	)

184 
	#ITT_INLINE_ATTRIBUTE


	)

191 #ifdeà
__STRICT_ANSI__


192 
	#ITT_INLINE
 

	)

193 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
unu£d
))

	)

195 
	#ITT_INLINE
 
šlše


	)

196 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
®ways_šlše
, 
unu£d
))

	)

201 #ifdeà
INTEL_ITTNOTIFY_ENABLE_LEGACY


202 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


203 #´agm¨
mes§ge
("WARNING!!! Deprecated API is used. Please undefine INTEL_ITTNOTIFY_ENABLE_LEGACY macro")

207 
	~"Ëgacy/™ŠÙify.h
"

212 
	#ITT_JOIN_AUX
(
p
,
n
èp##
	)
n

213 
	#ITT_JOIN
(
p
,
n
è
	`ITT_JOIN_AUX
Õ,n)

	)

215 #ifdeà
ITT_MAJOR


216 #undeà
ITT_MAJOR


218 #ifdeà
ITT_MINOR


219 #undeà
ITT_MINOR


221 
	#ITT_MAJOR
 3

	)

222 
	#ITT_MINOR
 0

	)

225 
	#ITT_VERSIONIZE
(
x
) \

226 
	`ITT_JOIN
(
x
, \

227 
	`ITT_JOIN
(
_
, \

228 
	`ITT_JOIN
(
ITT_MAJOR
, \

229 
	`ITT_JOIN
(
_
, 
ITT_MINOR
))))

	)

231 #iâdeà
INTEL_ITTNOTIFY_PREFIX


232 
	#INTEL_ITTNOTIFY_PREFIX
 
__™t_


	)

234 #iâdeà
INTEL_ITTNOTIFY_POSTFIX


235 
	#INTEL_ITTNOTIFY_POSTFIX
 
_±r_


	)

238 
	#ITTNOTIFY_NAME_AUX
(
n
è
	`ITT_JOIN
(
INTEL_ITTNOTIFY_PREFIX
,n)

	)

239 
	#ITTNOTIFY_NAME
(
n
è
	`ITT_VERSIONIZE
(
	`ITTNOTIFY_NAME_AUX
(
	`ITT_JOIN
Ò,
INTEL_ITTNOTIFY_POSTFIX
)))

	)

241 
	#ITTNOTIFY_VOID
(
n
è(!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)

	)

242 
	#ITTNOTIFY_DATA
(
n
è(!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)

	)

244 
	#ITTNOTIFY_VOID_D0
(
n
,
d
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d)

	)

245 
	#ITTNOTIFY_VOID_D1
(
n
,
d
,
x
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x)

	)

246 
	#ITTNOTIFY_VOID_D2
(
n
,
d
,
x
,
y
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y)

	)

247 
	#ITTNOTIFY_VOID_D3
(
n
,
d
,
x
,
y
,
z
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z)

	)

248 
	#ITTNOTIFY_VOID_D4
(
n
,
d
,
x
,
y
,
z
,
a
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a)

	)

249 
	#ITTNOTIFY_VOID_D5
(
n
,
d
,
x
,
y
,
z
,
a
,
b
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b)

	)

250 
	#ITTNOTIFY_VOID_D6
(
n
,
d
,
x
,
y
,
z
,
a
,
b
,
c
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b,c)

	)

251 
	#ITTNOTIFY_DATA_D0
(
n
,
d
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d)

	)

252 
	#ITTNOTIFY_DATA_D1
(
n
,
d
,
x
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x)

	)

253 
	#ITTNOTIFY_DATA_D2
(
n
,
d
,
x
,
y
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y)

	)

254 
	#ITTNOTIFY_DATA_D3
(
n
,
d
,
x
,
y
,
z
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z)

	)

255 
	#ITTNOTIFY_DATA_D4
(
n
,
d
,
x
,
y
,
z
,
a
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a)

	)

256 
	#ITTNOTIFY_DATA_D5
(
n
,
d
,
x
,
y
,
z
,
a
,
b
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b)

	)

257 
	#ITTNOTIFY_DATA_D6
(
n
,
d
,
x
,
y
,
z
,
a
,
b
,
c
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b,c)

	)

259 #ifdeà
ITT_STUB


260 #undeà
ITT_STUB


262 #ifdeà
ITT_STUBV


263 #undeà
ITT_STUBV


265 
	#ITT_STUBV
(
­i
,
ty³
,
Çme
,
¬gs
) \

266 
	`ty³
 (
	t­i
* 
	tITT_JOIN
(
	tITTNOTIFY_NAME
(
	tÇme
),
	t_t
)è
	t¬gs
; \

267 
	`ITT_JOIN
(
	`ITTNOTIFY_NAME
(
Çme
),
_t
èITTNOTIFY_NAMEÒame);

	)

268 
	#ITT_STUB
 
ITT_STUBV


	)

271 #ifdeà
__ılu¥lus


304 
ITTAPI
 
__™t_·u£
();

306 
ITTAPI
 
__™t_»sume
();

308 
ITTAPI
 
__™t_d‘ach
();

311 #iâdeà
INTEL_NO_MACRO_BODY


312 #iâdeà
INTEL_NO_ITTNOTIFY_API


313 
ITT_STUBV
(
ITTAPI
, , 
·u£
, ())

314 
ITT_STUBV
(
ITTAPI
, , 
»sume
, ())

315 
ITT_STUBV
(
ITTAPI
, , 
d‘ach
, ())

316 
	#__™t_·u£
 
	`ITTNOTIFY_VOID
(
·u£
)

	)

317 
	#__™t_·u£_±r
 
	`ITTNOTIFY_NAME
(
·u£
)

	)

318 
	#__™t_»sume
 
	`ITTNOTIFY_VOID
(
»sume
)

	)

319 
	#__™t_»sume_±r
 
	`ITTNOTIFY_NAME
(
»sume
)

	)

320 
	#__™t_d‘ach
 
	`ITTNOTIFY_VOID
(
d‘ach
)

	)

321 
	#__™t_d‘ach_±r
 
	`ITTNOTIFY_NAME
(
d‘ach
)

	)

323 
	#__™t_·u£
()

	)

324 
	#__™t_·u£_±r
 0

	)

325 
	#__™t_»sume
()

	)

326 
	#__™t_»sume_±r
 0

	)

327 
	#__™t_d‘ach
()

	)

328 
	#__™t_d‘ach_±r
 0

	)

331 
	#__™t_·u£_±r
 0

	)

332 
	#__™t_»sume_±r
 0

	)

333 
	#__™t_d‘ach_±r
 0

	)

349 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


350 
ITTAPI
 
__™t_th»ad_£t_ÇmeA
(cÚ¡ *
Çme
);

351 
ITTAPI
 
__™t_th»ad_£t_ÇmeW
(cÚ¡ 
wch¬_t
 *
Çme
);

352 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

353 
	#__™t_th»ad_£t_Çme
 
__™t_th»ad_£t_ÇmeW


	)

354 
	#__™t_th»ad_£t_Çme_±r
 
__™t_th»ad_£t_ÇmeW_±r


	)

356 
	#__™t_th»ad_£t_Çme
 
__™t_th»ad_£t_ÇmeA


	)

357 
	#__™t_th»ad_£t_Çme_±r
 
__™t_th»ad_£t_ÇmeA_±r


	)

360 
ITTAPI
 
__™t_th»ad_£t_Çme
(cÚ¡ *
Çme
);

364 #iâdeà
INTEL_NO_MACRO_BODY


365 #iâdeà
INTEL_NO_ITTNOTIFY_API


366 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


367 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_ÇmeA
, (cÚ¡ *
Çme
))

368 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_ÇmeW
, (cÚ¡ 
wch¬_t
 *
Çme
))

370 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_Çme
, (cÚ¡ *
Çme
))

372 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


373 
	#__™t_th»ad_£t_ÇmeA
 
	`ITTNOTIFY_VOID
(
th»ad_£t_ÇmeA
)

	)

374 
	#__™t_th»ad_£t_ÇmeA_±r
 
	`ITTNOTIFY_NAME
(
th»ad_£t_ÇmeA
)

	)

375 
	#__™t_th»ad_£t_ÇmeW
 
	`ITTNOTIFY_VOID
(
th»ad_£t_ÇmeW
)

	)

376 
	#__™t_th»ad_£t_ÇmeW_±r
 
	`ITTNOTIFY_NAME
(
th»ad_£t_ÇmeW
)

	)

378 
	#__™t_th»ad_£t_Çme
 
	`ITTNOTIFY_VOID
(
th»ad_£t_Çme
)

	)

379 
	#__™t_th»ad_£t_Çme_±r
 
	`ITTNOTIFY_NAME
(
th»ad_£t_Çme
)

	)

382 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


383 
	#__™t_th»ad_£t_ÇmeA
(
Çme
)

	)

384 
	#__™t_th»ad_£t_ÇmeA_±r
 0

	)

385 
	#__™t_th»ad_£t_ÇmeW
(
Çme
)

	)

386 
	#__™t_th»ad_£t_ÇmeW_±r
 0

	)

388 
	#__™t_th»ad_£t_Çme
(
Çme
)

	)

389 
	#__™t_th»ad_£t_Çme_±r
 0

	)

393 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


394 
	#__™t_th»ad_£t_ÇmeA_±r
 0

	)

395 
	#__™t_th»ad_£t_ÇmeW_±r
 0

	)

397 
	#__™t_th»ad_£t_Çme_±r
 0

	)

407 
ITTAPI
 
__™t_th»ad_ignÜe
();

410 #iâdeà
INTEL_NO_MACRO_BODY


411 #iâdeà
INTEL_NO_ITTNOTIFY_API


412 
ITT_STUBV
(
ITTAPI
, , 
th»ad_ignÜe
, ())

413 
	#__™t_th»ad_ignÜe
 
	`ITTNOTIFY_VOID
(
th»ad_ignÜe
)

	)

414 
	#__™t_th»ad_ignÜe_±r
 
	`ITTNOTIFY_NAME
(
th»ad_ignÜe
)

	)

416 
	#__™t_th»ad_ignÜe
()

	)

417 
	#__™t_th»ad_ignÜe_±r
 0

	)

420 
	#__™t_th»ad_ignÜe_±r
 0

	)

441 
	#__™t_suµ»ss_®l_”rÜs
 0x7fffffff

	)

447 
	#__™t_suµ»ss_th»adšg_”rÜs
 0x000000ff

	)

453 
	#__™t_suµ»ss_memÜy_”rÜs
 0x0000ff00

	)

458 
ITTAPI
 
__™t_suµ»ss_push
(
mask
);

461 #iâdeà
INTEL_NO_MACRO_BODY


462 #iâdeà
INTEL_NO_ITTNOTIFY_API


463 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_push
, (
mask
))

464 
	#__™t_suµ»ss_push
 
	`ITTNOTIFY_VOID
(
suµ»ss_push
)

	)

465 
	#__™t_suµ»ss_push_±r
 
	`ITTNOTIFY_NAME
(
suµ»ss_push
)

	)

467 
	#__™t_suµ»ss_push
(
mask
)

	)

468 
	#__™t_suµ»ss_push_±r
 0

	)

471 
	#__™t_suµ»ss_push_±r
 0

	)

478 
ITTAPI
 
__™t_suµ»ss_pİ
();

481 #iâdeà
INTEL_NO_MACRO_BODY


482 #iâdeà
INTEL_NO_ITTNOTIFY_API


483 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_pİ
, ())

484 
	#__™t_suµ»ss_pİ
 
	`ITTNOTIFY_VOID
(
suµ»ss_pİ
)

	)

485 
	#__™t_suµ»ss_pİ_±r
 
	`ITTNOTIFY_NAME
(
suµ»ss_pİ
)

	)

487 
	#__™t_suµ»ss_pİ
()

	)

488 
	#__™t_suµ»ss_pİ_±r
 0

	)

491 
	#__™t_suµ»ss_pİ_±r
 0

	)

499 
	e__™t_suµ»ss_mode
 {

500 
__™t_unsuµ»ss_¿nge
,

501 
__™t_suµ»ss_¿nge


502 } 
	t__™t_suµ»ss_mode_t
;

507 
ITTAPI
 
__™t_suµ»ss_m¬k_¿nge
(
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
);

510 #iâdeà
INTEL_NO_MACRO_BODY


511 #iâdeà
INTEL_NO_ITTNOTIFY_API


512 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_m¬k_¿nge
, (
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
))

513 
	#__™t_suµ»ss_m¬k_¿nge
 
	`ITTNOTIFY_VOID
(
suµ»ss_m¬k_¿nge
)

	)

514 
	#__™t_suµ»ss_m¬k_¿nge_±r
 
	`ITTNOTIFY_NAME
(
suµ»ss_m¬k_¿nge
)

	)

516 
	#__™t_suµ»ss_m¬k_¿nge
(
mask
)

	)

517 
	#__™t_suµ»ss_m¬k_¿nge_±r
 0

	)

520 
	#__™t_suµ»ss_m¬k_¿nge_±r
 0

	)

528 
ITTAPI
 
__™t_suµ»ss_ş—r_¿nge
(
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
);

531 #iâdeà
INTEL_NO_MACRO_BODY


532 #iâdeà
INTEL_NO_ITTNOTIFY_API


533 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_ş—r_¿nge
, (
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
))

534 
	#__™t_suµ»ss_ş—r_¿nge
 
	`ITTNOTIFY_VOID
(
suµ»ss_ş—r_¿nge
)

	)

535 
	#__™t_suµ»ss_ş—r_¿nge_±r
 
	`ITTNOTIFY_NAME
(
suµ»ss_ş—r_¿nge
)

	)

537 
	#__™t_suµ»ss_ş—r_¿nge
(
mask
)

	)

538 
	#__™t_suµ»ss_ş—r_¿nge_±r
 0

	)

541 
	#__™t_suµ»ss_ş—r_¿nge_±r
 0

	)

557 
	#__™t_©Œ_b¬r›r
 1

	)

563 
	#__™t_©Œ_mu‹x
 2

	)

576 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


577 
ITTAPI
 
__™t_sync_ü—‹A
(*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
);

578 
ITTAPI
 
__™t_sync_ü—‹W
(*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
);

579 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

580 
	#__™t_sync_ü—‹
 
__™t_sync_ü—‹W


	)

581 
	#__™t_sync_ü—‹_±r
 
__™t_sync_ü—‹W_±r


	)

583 
	#__™t_sync_ü—‹
 
__™t_sync_ü—‹A


	)

584 
	#__™t_sync_ü—‹_±r
 
__™t_sync_ü—‹A_±r


	)

587 
ITTAPI
 
__™t_sync_ü—‹
 (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
);

591 #iâdeà
INTEL_NO_MACRO_BODY


592 #iâdeà
INTEL_NO_ITTNOTIFY_API


593 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


594 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹A
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
))

595 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹W
, (*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
))

597 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹
, (*
addr
, cÚ¡ * 
objty³
, cÚ¡ * 
objÇme
, 
©Œibu‹
))

599 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


600 
	#__™t_sync_ü—‹A
 
	`ITTNOTIFY_VOID
(
sync_ü—‹A
)

	)

601 
	#__™t_sync_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
sync_ü—‹A
)

	)

602 
	#__™t_sync_ü—‹W
 
	`ITTNOTIFY_VOID
(
sync_ü—‹W
)

	)

603 
	#__™t_sync_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
sync_ü—‹W
)

	)

605 
	#__™t_sync_ü—‹
 
	`ITTNOTIFY_VOID
(
sync_ü—‹
)

	)

606 
	#__™t_sync_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
sync_ü—‹
)

	)

609 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


610 
	#__™t_sync_ü—‹A
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

611 
	#__™t_sync_ü—‹A_±r
 0

	)

612 
	#__™t_sync_ü—‹W
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

613 
	#__™t_sync_ü—‹W_±r
 0

	)

615 
	#__™t_sync_ü—‹
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

616 
	#__™t_sync_ü—‹_±r
 0

	)

620 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


621 
	#__™t_sync_ü—‹A_±r
 0

	)

622 
	#__™t_sync_ü—‹W_±r
 0

	)

624 
	#__™t_sync_ü—‹_±r
 0

	)

637 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


638 
ITTAPI
 
__™t_sync_»ÇmeA
(*
addr
, cÚ¡ *
Çme
);

639 
ITTAPI
 
__™t_sync_»ÇmeW
(*
addr
, cÚ¡ 
wch¬_t
 *
Çme
);

640 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

641 
	#__™t_sync_»Çme
 
__™t_sync_»ÇmeW


	)

642 
	#__™t_sync_»Çme_±r
 
__™t_sync_»ÇmeW_±r


	)

644 
	#__™t_sync_»Çme
 
__™t_sync_»ÇmeA


	)

645 
	#__™t_sync_»Çme_±r
 
__™t_sync_»ÇmeA_±r


	)

648 
ITTAPI
 
__™t_sync_»Çme
(*
addr
, cÚ¡ *
Çme
);

652 #iâdeà
INTEL_NO_MACRO_BODY


653 #iâdeà
INTEL_NO_ITTNOTIFY_API


654 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


655 
ITT_STUBV
(
ITTAPI
, , 
sync_»ÇmeA
, (*
addr
, cÚ¡ *
Çme
))

656 
ITT_STUBV
(
ITTAPI
, , 
sync_»ÇmeW
, (*
addr
, cÚ¡ 
wch¬_t
 *
Çme
))

658 
ITT_STUBV
(
ITTAPI
, , 
sync_»Çme
, (*
addr
, cÚ¡ *
Çme
))

660 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


661 
	#__™t_sync_»ÇmeA
 
	`ITTNOTIFY_VOID
(
sync_»ÇmeA
)

	)

662 
	#__™t_sync_»ÇmeA_±r
 
	`ITTNOTIFY_NAME
(
sync_»ÇmeA
)

	)

663 
	#__™t_sync_»ÇmeW
 
	`ITTNOTIFY_VOID
(
sync_»ÇmeW
)

	)

664 
	#__™t_sync_»ÇmeW_±r
 
	`ITTNOTIFY_NAME
(
sync_»ÇmeW
)

	)

666 
	#__™t_sync_»Çme
 
	`ITTNOTIFY_VOID
(
sync_»Çme
)

	)

667 
	#__™t_sync_»Çme_±r
 
	`ITTNOTIFY_NAME
(
sync_»Çme
)

	)

670 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


671 
	#__™t_sync_»ÇmeA
(
addr
, 
Çme
)

	)

672 
	#__™t_sync_»ÇmeA_±r
 0

	)

673 
	#__™t_sync_»ÇmeW
(
addr
, 
Çme
)

	)

674 
	#__™t_sync_»ÇmeW_±r
 0

	)

676 
	#__™t_sync_»Çme
(
addr
, 
Çme
)

	)

677 
	#__™t_sync_»Çme_±r
 0

	)

681 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


682 
	#__™t_sync_»ÇmeA_±r
 0

	)

683 
	#__™t_sync_»ÇmeW_±r
 0

	)

685 
	#__™t_sync_»Çme_±r
 0

	)

694 
ITTAPI
 
__™t_sync_de¡roy
(*
addr
);

697 #iâdeà
INTEL_NO_MACRO_BODY


698 #iâdeà
INTEL_NO_ITTNOTIFY_API


699 
ITT_STUBV
(
ITTAPI
, , 
sync_de¡roy
, (*
addr
))

700 
	#__™t_sync_de¡roy
 
	`ITTNOTIFY_VOID
(
sync_de¡roy
)

	)

701 
	#__™t_sync_de¡roy_±r
 
	`ITTNOTIFY_NAME
(
sync_de¡roy
)

	)

703 
	#__™t_sync_de¡roy
(
addr
)

	)

704 
	#__™t_sync_de¡roy_±r
 0

	)

707 
	#__™t_sync_de¡roy_±r
 0

	)

718 
ITTAPI
 
__™t_sync_´•¬e
(* 
addr
);

721 #iâdeà
INTEL_NO_MACRO_BODY


722 #iâdeà
INTEL_NO_ITTNOTIFY_API


723 
ITT_STUBV
(
ITTAPI
, , 
sync_´•¬e
, (*
addr
))

724 
	#__™t_sync_´•¬e
 
	`ITTNOTIFY_VOID
(
sync_´•¬e
)

	)

725 
	#__™t_sync_´•¬e_±r
 
	`ITTNOTIFY_NAME
(
sync_´•¬e
)

	)

727 
	#__™t_sync_´•¬e
(
addr
)

	)

728 
	#__™t_sync_´•¬e_±r
 0

	)

731 
	#__™t_sync_´•¬e_±r
 0

	)

738 
ITTAPI
 
__™t_sync_ÿnûl
(*
addr
);

741 #iâdeà
INTEL_NO_MACRO_BODY


742 #iâdeà
INTEL_NO_ITTNOTIFY_API


743 
ITT_STUBV
(
ITTAPI
, , 
sync_ÿnûl
, (*
addr
))

744 
	#__™t_sync_ÿnûl
 
	`ITTNOTIFY_VOID
(
sync_ÿnûl
)

	)

745 
	#__™t_sync_ÿnûl_±r
 
	`ITTNOTIFY_NAME
(
sync_ÿnûl
)

	)

747 
	#__™t_sync_ÿnûl
(
addr
)

	)

748 
	#__™t_sync_ÿnûl_±r
 0

	)

751 
	#__™t_sync_ÿnûl_±r
 0

	)

758 
ITTAPI
 
__™t_sync_acquœed
(*
addr
);

761 #iâdeà
INTEL_NO_MACRO_BODY


762 #iâdeà
INTEL_NO_ITTNOTIFY_API


763 
ITT_STUBV
(
ITTAPI
, , 
sync_acquœed
, (*
addr
))

764 
	#__™t_sync_acquœed
 
	`ITTNOTIFY_VOID
(
sync_acquœed
)

	)

765 
	#__™t_sync_acquœed_±r
 
	`ITTNOTIFY_NAME
(
sync_acquœed
)

	)

767 
	#__™t_sync_acquœed
(
addr
)

	)

768 
	#__™t_sync_acquœed_±r
 0

	)

771 
	#__™t_sync_acquœed_±r
 0

	)

778 
ITTAPI
 
__™t_sync_»Ëasšg
(* 
addr
);

781 #iâdeà
INTEL_NO_MACRO_BODY


782 #iâdeà
INTEL_NO_ITTNOTIFY_API


783 
ITT_STUBV
(
ITTAPI
, , 
sync_»Ëasšg
, (*
addr
))

784 
	#__™t_sync_»Ëasšg
 
	`ITTNOTIFY_VOID
(
sync_»Ëasšg
)

	)

785 
	#__™t_sync_»Ëasšg_±r
 
	`ITTNOTIFY_NAME
(
sync_»Ëasšg
)

	)

787 
	#__™t_sync_»Ëasšg
(
addr
)

	)

788 
	#__™t_sync_»Ëasšg_±r
 0

	)

791 
	#__™t_sync_»Ëasšg_±r
 0

	)

812 
ITTAPI
 
__™t_fsync_´•¬e
(* 
addr
);

815 #iâdeà
INTEL_NO_MACRO_BODY


816 #iâdeà
INTEL_NO_ITTNOTIFY_API


817 
ITT_STUBV
(
ITTAPI
, , 
fsync_´•¬e
, (*
addr
))

818 
	#__™t_fsync_´•¬e
 
	`ITTNOTIFY_VOID
(
fsync_´•¬e
)

	)

819 
	#__™t_fsync_´•¬e_±r
 
	`ITTNOTIFY_NAME
(
fsync_´•¬e
)

	)

821 
	#__™t_fsync_´•¬e
(
addr
)

	)

822 
	#__™t_fsync_´•¬e_±r
 0

	)

825 
	#__™t_fsync_´•¬e_±r
 0

	)

839 
ITTAPI
 
__™t_fsync_ÿnûl
(*
addr
);

842 #iâdeà
INTEL_NO_MACRO_BODY


843 #iâdeà
INTEL_NO_ITTNOTIFY_API


844 
ITT_STUBV
(
ITTAPI
, , 
fsync_ÿnûl
, (*
addr
))

845 
	#__™t_fsync_ÿnûl
 
	`ITTNOTIFY_VOID
(
fsync_ÿnûl
)

	)

846 
	#__™t_fsync_ÿnûl_±r
 
	`ITTNOTIFY_NAME
(
fsync_ÿnûl
)

	)

848 
	#__™t_fsync_ÿnûl
(
addr
)

	)

849 
	#__™t_fsync_ÿnûl_±r
 0

	)

852 
	#__™t_fsync_ÿnûl_±r
 0

	)

866 
ITTAPI
 
__™t_fsync_acquœed
(*
addr
);

869 #iâdeà
INTEL_NO_MACRO_BODY


870 #iâdeà
INTEL_NO_ITTNOTIFY_API


871 
ITT_STUBV
(
ITTAPI
, , 
fsync_acquœed
, (*
addr
))

872 
	#__™t_fsync_acquœed
 
	`ITTNOTIFY_VOID
(
fsync_acquœed
)

	)

873 
	#__™t_fsync_acquœed_±r
 
	`ITTNOTIFY_NAME
(
fsync_acquœed
)

	)

875 
	#__™t_fsync_acquœed
(
addr
)

	)

876 
	#__™t_fsync_acquœed_±r
 0

	)

879 
	#__™t_fsync_acquœed_±r
 0

	)

893 
ITTAPI
 
__™t_fsync_»Ëasšg
(* 
addr
);

896 #iâdeà
INTEL_NO_MACRO_BODY


897 #iâdeà
INTEL_NO_ITTNOTIFY_API


898 
ITT_STUBV
(
ITTAPI
, , 
fsync_»Ëasšg
, (*
addr
))

899 
	#__™t_fsync_»Ëasšg
 
	`ITTNOTIFY_VOID
(
fsync_»Ëasšg
)

	)

900 
	#__™t_fsync_»Ëasšg_±r
 
	`ITTNOTIFY_NAME
(
fsync_»Ëasšg
)

	)

902 
	#__™t_fsync_»Ëasšg
(
addr
)

	)

903 
	#__™t_fsync_»Ëasšg_±r
 0

	)

906 
	#__™t_fsync_»Ëasšg_±r
 0

	)

936 #ià!
defšed
(
_ADVISOR_ANNOTATE_H_
è|| defšed(
ANNOTATE_EXPAND_NULL
)

938 * 
	t__™t_mod–_s™e
;

939 * 
	t__™t_mod–_s™e_š¡ªû
;

940 * 
	t__™t_mod–_sk
;

941 * 
	t__™t_mod–_sk_š¡ªû
;

948 
__™t_mod–_di§bË_ob£rv©iÚ
,

949 
__™t_mod–_di§bË_cŞËùiÚ


950 } 
	t__™t_mod–_di§bË
;

966 
ITTAPI
 
__™t_mod–_s™e_begš
(
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
);

967 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


968 
ITTAPI
 
__™t_mod–_s™e_begšW
(cÚ¡ 
wch¬_t
 *
Çme
);

970 
ITTAPI
 
__™t_mod–_s™e_begšA
(cÚ¡ *
Çme
);

971 
ITTAPI
 
__™t_mod–_s™e_begšAL
(cÚ¡ *
Çme
, 
size_t
 
s™eNameL’
);

972 
ITTAPI
 
__™t_mod–_s™e_’d
 (
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
);

973 
ITTAPI
 
__™t_mod–_s™e_’d_2
();

976 #iâdeà
INTEL_NO_MACRO_BODY


977 #iâdeà
INTEL_NO_ITTNOTIFY_API


978 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begš
, (
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
))

979 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


980 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšW
, (cÚ¡ 
wch¬_t
 *
Çme
))

982 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšA
, (cÚ¡ *
Çme
))

983 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšAL
, (cÚ¡ *
Çme
, 
size_t
 
s™eNameL’
))

984 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_’d
, (
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
))

985 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_’d_2
, ())

986 
	#__™t_mod–_s™e_begš
 
	`ITTNOTIFY_VOID
(
mod–_s™e_begš
)

	)

987 
	#__™t_mod–_s™e_begš_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_begš
)

	)

988 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


989 
	#__™t_mod–_s™e_begšW
 
	`ITTNOTIFY_VOID
(
mod–_s™e_begšW
)

	)

990 
	#__™t_mod–_s™e_begšW_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_begšW
)

	)

992 
	#__™t_mod–_s™e_begšA
 
	`ITTNOTIFY_VOID
(
mod–_s™e_begšA
)

	)

993 
	#__™t_mod–_s™e_begšA_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_begšA
)

	)

994 
	#__™t_mod–_s™e_begšAL
 
	`ITTNOTIFY_VOID
(
mod–_s™e_begšAL
)

	)

995 
	#__™t_mod–_s™e_begšAL_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_begšAL
)

	)

996 
	#__™t_mod–_s™e_’d
 
	`ITTNOTIFY_VOID
(
mod–_s™e_’d
)

	)

997 
	#__™t_mod–_s™e_’d_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_’d
)

	)

998 
	#__™t_mod–_s™e_’d_2
 
	`ITTNOTIFY_VOID
(
mod–_s™e_’d_2
)

	)

999 
	#__™t_mod–_s™e_’d_2_±r
 
	`ITTNOTIFY_NAME
(
mod–_s™e_’d_2
)

	)

1001 
	#__™t_mod–_s™e_begš
(
s™e
, 
š¡ªû
, 
Çme
)

	)

1002 
	#__™t_mod–_s™e_begš_±r
 0

	)

1003 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1004 
	#__™t_mod–_s™e_begšW
(
Çme
)

	)

1005 
	#__™t_mod–_s™e_begšW_±r
 0

	)

1007 
	#__™t_mod–_s™e_begšA
(
Çme
)

	)

1008 
	#__™t_mod–_s™e_begšA_±r
 0

	)

1009 
	#__™t_mod–_s™e_begšAL
(
Çme
, 
s™eNameL’
)

	)

1010 
	#__™t_mod–_s™e_begšAL_±r
 0

	)

1011 
	#__™t_mod–_s™e_’d
(
s™e
, 
š¡ªû
)

	)

1012 
	#__™t_mod–_s™e_’d_±r
 0

	)

1013 
	#__™t_mod–_s™e_’d_2
()

	)

1014 
	#__™t_mod–_s™e_’d_2_±r
 0

	)

1017 
	#__™t_mod–_s™e_begš_±r
 0

	)

1018 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1019 
	#__™t_mod–_s™e_begšW_±r
 0

	)

1021 
	#__™t_mod–_s™e_begšA_±r
 0

	)

1022 
	#__™t_mod–_s™e_begšAL_±r
 0

	)

1023 
	#__™t_mod–_s™e_’d_±r
 0

	)

1024 
	#__™t_mod–_s™e_’d_2_±r
 0

	)

1039 
ITTAPI
 
__™t_mod–_sk_begš
(
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
);

1040 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1041 
ITTAPI
 
__™t_mod–_sk_begšW
(cÚ¡ 
wch¬_t
 *
Çme
);

1042 
ITTAPI
 
__™t_mod–_™”©iÚ_skW
(cÚ¡ 
wch¬_t
 *
Çme
);

1044 
ITTAPI
 
__™t_mod–_sk_begšA
(cÚ¡ *
Çme
);

1045 
ITTAPI
 
__™t_mod–_sk_begšAL
(cÚ¡ *
Çme
, 
size_t
 
skNameL’
);

1046 
ITTAPI
 
__™t_mod–_™”©iÚ_skA
(cÚ¡ *
Çme
);

1047 
ITTAPI
 
__™t_mod–_™”©iÚ_skAL
(cÚ¡ *
Çme
, 
size_t
 
skNameL’
);

1048 
ITTAPI
 
__™t_mod–_sk_’d
 (
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
);

1049 
ITTAPI
 
__™t_mod–_sk_’d_2
();

1052 #iâdeà
INTEL_NO_MACRO_BODY


1053 #iâdeà
INTEL_NO_ITTNOTIFY_API


1054 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begš
, (
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
))

1055 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1056 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšW
, (cÚ¡ 
wch¬_t
 *
Çme
))

1057 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skW
, (cÚ¡ 
wch¬_t
 *
Çme
))

1059 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšA
, (cÚ¡ *
Çme
))

1060 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšAL
, (cÚ¡ *
Çme
, 
size_t
 
skNameL’
))

1061 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skA
, (cÚ¡ *
Çme
))

1062 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skAL
, (cÚ¡ *
Çme
, 
size_t
 
skNameL’
))

1063 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_’d
, (
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
))

1064 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_’d_2
, ())

1065 
	#__™t_mod–_sk_begš
 
	`ITTNOTIFY_VOID
(
mod–_sk_begš
)

	)

1066 
	#__™t_mod–_sk_begš_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_begš
)

	)

1067 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1068 
	#__™t_mod–_sk_begšW
 
	`ITTNOTIFY_VOID
(
mod–_sk_begšW
)

	)

1069 
	#__™t_mod–_sk_begšW_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_begšW
)

	)

1070 
	#__™t_mod–_™”©iÚ_skW
 
	`ITTNOTIFY_VOID
(
mod–_™”©iÚ_skW
)

	)

1071 
	#__™t_mod–_™”©iÚ_skW_±r
 
	`ITTNOTIFY_NAME
(
mod–_™”©iÚ_skW
)

	)

1073 
	#__™t_mod–_sk_begšA
 
	`ITTNOTIFY_VOID
(
mod–_sk_begšA
)

	)

1074 
	#__™t_mod–_sk_begšA_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_begšA
)

	)

1075 
	#__™t_mod–_sk_begšAL
 
	`ITTNOTIFY_VOID
(
mod–_sk_begšAL
)

	)

1076 
	#__™t_mod–_sk_begšAL_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_begšAL
)

	)

1077 
	#__™t_mod–_™”©iÚ_skA
 
	`ITTNOTIFY_VOID
(
mod–_™”©iÚ_skA
)

	)

1078 
	#__™t_mod–_™”©iÚ_skA_±r
 
	`ITTNOTIFY_NAME
(
mod–_™”©iÚ_skA
)

	)

1079 
	#__™t_mod–_™”©iÚ_skAL
 
	`ITTNOTIFY_VOID
(
mod–_™”©iÚ_skAL
)

	)

1080 
	#__™t_mod–_™”©iÚ_skAL_±r
 
	`ITTNOTIFY_NAME
(
mod–_™”©iÚ_skAL
)

	)

1081 
	#__™t_mod–_sk_’d
 
	`ITTNOTIFY_VOID
(
mod–_sk_’d
)

	)

1082 
	#__™t_mod–_sk_’d_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_’d
)

	)

1083 
	#__™t_mod–_sk_’d_2
 
	`ITTNOTIFY_VOID
(
mod–_sk_’d_2
)

	)

1084 
	#__™t_mod–_sk_’d_2_±r
 
	`ITTNOTIFY_NAME
(
mod–_sk_’d_2
)

	)

1086 
	#__™t_mod–_sk_begš
(
sk
, 
š¡ªû
, 
Çme
)

	)

1087 
	#__™t_mod–_sk_begš_±r
 0

	)

1088 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1089 
	#__™t_mod–_sk_begšW
(
Çme
)

	)

1090 
	#__™t_mod–_sk_begšW_±r
 0

	)

1092 
	#__™t_mod–_sk_begšA
(
Çme
)

	)

1093 
	#__™t_mod–_sk_begšA_±r
 0

	)

1094 
	#__™t_mod–_sk_begšAL
(
Çme
, 
s™eNameL’
)

	)

1095 
	#__™t_mod–_sk_begšAL_±r
 0

	)

1096 
	#__™t_mod–_™”©iÚ_skA
(
Çme
)

	)

1097 
	#__™t_mod–_™”©iÚ_skA_±r
 0

	)

1098 
	#__™t_mod–_™”©iÚ_skAL
(
Çme
, 
s™eNameL’
)

	)

1099 
	#__™t_mod–_™”©iÚ_skAL_±r
 0

	)

1100 
	#__™t_mod–_sk_’d
(
sk
, 
š¡ªû
)

	)

1101 
	#__™t_mod–_sk_’d_±r
 0

	)

1102 
	#__™t_mod–_sk_’d_2
()

	)

1103 
	#__™t_mod–_sk_’d_2_±r
 0

	)

1106 
	#__™t_mod–_sk_begš_±r
 0

	)

1107 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1108 
	#__™t_mod–_sk_begšW_±r
 0

	)

1110 
	#__™t_mod–_sk_begšA_±r
 0

	)

1111 
	#__™t_mod–_sk_begšAL_±r
 0

	)

1112 
	#__™t_mod–_™”©iÚ_skA_±r
 0

	)

1113 
	#__™t_mod–_™”©iÚ_skAL_±r
 0

	)

1114 
	#__™t_mod–_sk_’d_±r
 0

	)

1115 
	#__™t_mod–_sk_’d_2_±r
 0

	)

1131 
ITTAPI
 
__™t_mod–_lock_acquœe
(*
lock
);

1132 
ITTAPI
 
__™t_mod–_lock_acquœe_2
(*
lock
);

1133 
ITTAPI
 
__™t_mod–_lock_»Ëa£
(*
lock
);

1134 
ITTAPI
 
__™t_mod–_lock_»Ëa£_2
(*
lock
);

1137 #iâdeà
INTEL_NO_MACRO_BODY


1138 #iâdeà
INTEL_NO_ITTNOTIFY_API


1139 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_acquœe
, (*
lock
))

1140 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_acquœe_2
, (*
lock
))

1141 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_»Ëa£
, (*
lock
))

1142 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_»Ëa£_2
, (*
lock
))

1143 
	#__™t_mod–_lock_acquœe
 
	`ITTNOTIFY_VOID
(
mod–_lock_acquœe
)

	)

1144 
	#__™t_mod–_lock_acquœe_±r
 
	`ITTNOTIFY_NAME
(
mod–_lock_acquœe
)

	)

1145 
	#__™t_mod–_lock_acquœe_2
 
	`ITTNOTIFY_VOID
(
mod–_lock_acquœe_2
)

	)

1146 
	#__™t_mod–_lock_acquœe_2_±r
 
	`ITTNOTIFY_NAME
(
mod–_lock_acquœe_2
)

	)

1147 
	#__™t_mod–_lock_»Ëa£
 
	`ITTNOTIFY_VOID
(
mod–_lock_»Ëa£
)

	)

1148 
	#__™t_mod–_lock_»Ëa£_±r
 
	`ITTNOTIFY_NAME
(
mod–_lock_»Ëa£
)

	)

1149 
	#__™t_mod–_lock_»Ëa£_2
 
	`ITTNOTIFY_VOID
(
mod–_lock_»Ëa£_2
)

	)

1150 
	#__™t_mod–_lock_»Ëa£_2_±r
 
	`ITTNOTIFY_NAME
(
mod–_lock_»Ëa£_2
)

	)

1152 
	#__™t_mod–_lock_acquœe
(
lock
)

	)

1153 
	#__™t_mod–_lock_acquœe_±r
 0

	)

1154 
	#__™t_mod–_lock_acquœe_2
(
lock
)

	)

1155 
	#__™t_mod–_lock_acquœe_2_±r
 0

	)

1156 
	#__™t_mod–_lock_»Ëa£
(
lock
)

	)

1157 
	#__™t_mod–_lock_»Ëa£_±r
 0

	)

1158 
	#__™t_mod–_lock_»Ëa£_2
(
lock
)

	)

1159 
	#__™t_mod–_lock_»Ëa£_2_±r
 0

	)

1162 
	#__™t_mod–_lock_acquœe_±r
 0

	)

1163 
	#__™t_mod–_lock_acquœe_2_±r
 0

	)

1164 
	#__™t_mod–_lock_»Ëa£_±r
 0

	)

1165 
	#__™t_mod–_lock_»Ëa£_2_±r
 0

	)

1176 
ITTAPI
 
__™t_mod–_»cÜd_®loÿtiÚ
 (*
addr
, 
size_t
 
size
);

1177 
ITTAPI
 
__™t_mod–_»cÜd_d—ÎoÿtiÚ
(*
addr
);

1180 #iâdeà
INTEL_NO_MACRO_BODY


1181 #iâdeà
INTEL_NO_ITTNOTIFY_API


1182 
ITT_STUBV
(
ITTAPI
, , 
mod–_»cÜd_®loÿtiÚ
, (*
addr
, 
size_t
 
size
))

1183 
ITT_STUBV
(
ITTAPI
, , 
mod–_»cÜd_d—ÎoÿtiÚ
, (*
addr
))

1184 
	#__™t_mod–_»cÜd_®loÿtiÚ
 
	`ITTNOTIFY_VOID
(
mod–_»cÜd_®loÿtiÚ
)

	)

1185 
	#__™t_mod–_»cÜd_®loÿtiÚ_±r
 
	`ITTNOTIFY_NAME
(
mod–_»cÜd_®loÿtiÚ
)

	)

1186 
	#__™t_mod–_»cÜd_d—ÎoÿtiÚ
 
	`ITTNOTIFY_VOID
(
mod–_»cÜd_d—ÎoÿtiÚ
)

	)

1187 
	#__™t_mod–_»cÜd_d—ÎoÿtiÚ_±r
 
	`ITTNOTIFY_NAME
(
mod–_»cÜd_d—ÎoÿtiÚ
)

	)

1189 
	#__™t_mod–_»cÜd_®loÿtiÚ
(
addr
, 
size
)

	)

1190 
	#__™t_mod–_»cÜd_®loÿtiÚ_±r
 0

	)

1191 
	#__™t_mod–_»cÜd_d—ÎoÿtiÚ
(
addr
)

	)

1192 
	#__™t_mod–_»cÜd_d—ÎoÿtiÚ_±r
 0

	)

1195 
	#__™t_mod–_»cÜd_®loÿtiÚ_±r
 0

	)

1196 
	#__™t_mod–_»cÜd_d—ÎoÿtiÚ_±r
 0

	)

1205 
ITTAPI
 
__™t_mod–_šduùiÚ_u£s
(* 
addr
, 
size_t
 
size
);

1208 #iâdeà
INTEL_NO_MACRO_BODY


1209 #iâdeà
INTEL_NO_ITTNOTIFY_API


1210 
ITT_STUBV
(
ITTAPI
, , 
mod–_šduùiÚ_u£s
, (*
addr
, 
size_t
 
size
))

1211 
	#__™t_mod–_šduùiÚ_u£s
 
	`ITTNOTIFY_VOID
(
mod–_šduùiÚ_u£s
)

	)

1212 
	#__™t_mod–_šduùiÚ_u£s_±r
 
	`ITTNOTIFY_NAME
(
mod–_šduùiÚ_u£s
)

	)

1214 
	#__™t_mod–_šduùiÚ_u£s
(
addr
, 
size
)

	)

1215 
	#__™t_mod–_šduùiÚ_u£s_±r
 0

	)

1218 
	#__™t_mod–_šduùiÚ_u£s_±r
 0

	)

1228 
ITTAPI
 
__™t_mod–_»duùiÚ_u£s
(* 
addr
, 
size_t
 
size
);

1231 #iâdeà
INTEL_NO_MACRO_BODY


1232 #iâdeà
INTEL_NO_ITTNOTIFY_API


1233 
ITT_STUBV
(
ITTAPI
, , 
mod–_»duùiÚ_u£s
, (*
addr
, 
size_t
 
size
))

1234 
	#__™t_mod–_»duùiÚ_u£s
 
	`ITTNOTIFY_VOID
(
mod–_»duùiÚ_u£s
)

	)

1235 
	#__™t_mod–_»duùiÚ_u£s_±r
 
	`ITTNOTIFY_NAME
(
mod–_»duùiÚ_u£s
)

	)

1237 
	#__™t_mod–_»duùiÚ_u£s
(
addr
, 
size
)

	)

1238 
	#__™t_mod–_»duùiÚ_u£s_±r
 0

	)

1241 
	#__™t_mod–_»duùiÚ_u£s_±r
 0

	)

1251 
ITTAPI
 
__™t_mod–_ob£rve_u£s
(* 
addr
, 
size_t
 
size
);

1254 #iâdeà
INTEL_NO_MACRO_BODY


1255 #iâdeà
INTEL_NO_ITTNOTIFY_API


1256 
ITT_STUBV
(
ITTAPI
, , 
mod–_ob£rve_u£s
, (*
addr
, 
size_t
 
size
))

1257 
	#__™t_mod–_ob£rve_u£s
 
	`ITTNOTIFY_VOID
(
mod–_ob£rve_u£s
)

	)

1258 
	#__™t_mod–_ob£rve_u£s_±r
 
	`ITTNOTIFY_NAME
(
mod–_ob£rve_u£s
)

	)

1260 
	#__™t_mod–_ob£rve_u£s
(
addr
, 
size
)

	)

1261 
	#__™t_mod–_ob£rve_u£s_±r
 0

	)

1264 
	#__™t_mod–_ob£rve_u£s_±r
 0

	)

1274 
ITTAPI
 
__™t_mod–_ş—r_u£s
(* 
addr
);

1277 #iâdeà
INTEL_NO_MACRO_BODY


1278 #iâdeà
INTEL_NO_ITTNOTIFY_API


1279 
ITT_STUBV
(
ITTAPI
, , 
mod–_ş—r_u£s
, (*
addr
))

1280 
	#__™t_mod–_ş—r_u£s
 
	`ITTNOTIFY_VOID
(
mod–_ş—r_u£s
)

	)

1281 
	#__™t_mod–_ş—r_u£s_±r
 
	`ITTNOTIFY_NAME
(
mod–_ş—r_u£s
)

	)

1283 
	#__™t_mod–_ş—r_u£s
(
addr
)

	)

1284 
	#__™t_mod–_ş—r_u£s_±r
 0

	)

1287 
	#__™t_mod–_ş—r_u£s_±r
 0

	)

1312 
ITTAPI
 
__™t_mod–_di§bË_push
(
__™t_mod–_di§bË
 
x
);

1313 
ITTAPI
 
__™t_mod–_di§bË_pİ
();

1314 
ITTAPI
 
__™t_mod–_agg»g©e_sk
(
size_t
 
x
);

1317 #iâdeà
INTEL_NO_MACRO_BODY


1318 #iâdeà
INTEL_NO_ITTNOTIFY_API


1319 
ITT_STUBV
(
ITTAPI
, , 
mod–_di§bË_push
, (
__™t_mod–_di§bË
 
x
))

1320 
ITT_STUBV
(
ITTAPI
, , 
mod–_di§bË_pİ
, ())

1321 
ITT_STUBV
(
ITTAPI
, , 
mod–_agg»g©e_sk
, (
size_t
 
x
))

1322 
	#__™t_mod–_di§bË_push
 
	`ITTNOTIFY_VOID
(
mod–_di§bË_push
)

	)

1323 
	#__™t_mod–_di§bË_push_±r
 
	`ITTNOTIFY_NAME
(
mod–_di§bË_push
)

	)

1324 
	#__™t_mod–_di§bË_pİ
 
	`ITTNOTIFY_VOID
(
mod–_di§bË_pİ
)

	)

1325 
	#__™t_mod–_di§bË_pİ_±r
 
	`ITTNOTIFY_NAME
(
mod–_di§bË_pİ
)

	)

1326 
	#__™t_mod–_agg»g©e_sk
 
	`ITTNOTIFY_VOID
(
mod–_agg»g©e_sk
)

	)

1327 
	#__™t_mod–_agg»g©e_sk_±r
 
	`ITTNOTIFY_NAME
(
mod–_agg»g©e_sk
)

	)

1329 
	#__™t_mod–_di§bË_push
(
x
)

	)

1330 
	#__™t_mod–_di§bË_push_±r
 0

	)

1331 
	#__™t_mod–_di§bË_pİ
()

	)

1332 
	#__™t_mod–_di§bË_pİ_±r
 0

	)

1333 
	#__™t_mod–_agg»g©e_sk
(
x
)

	)

1334 
	#__™t_mod–_agg»g©e_sk_±r
 0

	)

1337 
	#__™t_mod–_di§bË_push_±r
 0

	)

1338 
	#__™t_mod–_di§bË_pİ_±r
 0

	)

1339 
	#__™t_mod–_agg»g©e_sk_±r
 0

	)

1351 * 
	t__™t_h—p_funùiÚ
;

1357 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1358 
__™t_h—p_funùiÚ
 
ITTAPI
 
__™t_h—p_funùiÚ_ü—‹A
(cÚ¡ * 
Çme
, cÚ¡ * 
domaš
);

1359 
__™t_h—p_funùiÚ
 
ITTAPI
 
__™t_h—p_funùiÚ_ü—‹W
(cÚ¡ 
wch¬_t
* 
Çme
, cÚ¡ wch¬_t* 
domaš
);

1360 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

1361 
	#__™t_h—p_funùiÚ_ü—‹
 
__™t_h—p_funùiÚ_ü—‹W


	)

1362 
	#__™t_h—p_funùiÚ_ü—‹_±r
 
__™t_h—p_funùiÚ_ü—‹W_±r


	)

1364 
	#__™t_h—p_funùiÚ_ü—‹
 
__™t_h—p_funùiÚ_ü—‹A


	)

1365 
	#__™t_h—p_funùiÚ_ü—‹_±r
 
__™t_h—p_funùiÚ_ü—‹A_±r


	)

1368 
__™t_h—p_funùiÚ
 
ITTAPI
 
__™t_h—p_funùiÚ_ü—‹
(cÚ¡ * 
Çme
, cÚ¡ * 
domaš
);

1372 #iâdeà
INTEL_NO_MACRO_BODY


1373 #iâdeà
INTEL_NO_ITTNOTIFY_API


1374 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1375 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹A
, (cÚ¡ * 
Çme
, cÚ¡ * 
domaš
))

1376 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹W
, (cÚ¡ 
wch¬_t
* 
Çme
, cÚ¡ wch¬_t* 
domaš
))

1378 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹
, (cÚ¡ * 
Çme
, cÚ¡ * 
domaš
))

1380 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1381 
	#__™t_h—p_funùiÚ_ü—‹A
 
	`ITTNOTIFY_DATA
(
h—p_funùiÚ_ü—‹A
)

	)

1382 
	#__™t_h—p_funùiÚ_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
h—p_funùiÚ_ü—‹A
)

	)

1383 
	#__™t_h—p_funùiÚ_ü—‹W
 
	`ITTNOTIFY_DATA
(
h—p_funùiÚ_ü—‹W
)

	)

1384 
	#__™t_h—p_funùiÚ_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
h—p_funùiÚ_ü—‹W
)

	)

1386 
	#__™t_h—p_funùiÚ_ü—‹
 
	`ITTNOTIFY_DATA
(
h—p_funùiÚ_ü—‹
)

	)

1387 
	#__™t_h—p_funùiÚ_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
h—p_funùiÚ_ü—‹
)

	)

1390 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1391 
	#__™t_h—p_funùiÚ_ü—‹A
(
Çme
, 
domaš
è(
__™t_h—p_funùiÚ
)0

	)

1392 
	#__™t_h—p_funùiÚ_ü—‹A_±r
 0

	)

1393 
	#__™t_h—p_funùiÚ_ü—‹W
(
Çme
, 
domaš
è(
__™t_h—p_funùiÚ
)0

	)

1394 
	#__™t_h—p_funùiÚ_ü—‹W_±r
 0

	)

1396 
	#__™t_h—p_funùiÚ_ü—‹
(
Çme
, 
domaš
è(
__™t_h—p_funùiÚ
)0

	)

1397 
	#__™t_h—p_funùiÚ_ü—‹_±r
 0

	)

1401 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1402 
	#__™t_h—p_funùiÚ_ü—‹A_±r
 0

	)

1403 
	#__™t_h—p_funùiÚ_ü—‹W_±r
 0

	)

1405 
	#__™t_h—p_funùiÚ_ü—‹_±r
 0

	)

1413 
ITTAPI
 
__™t_h—p_®loÿ‹_begš
(
__™t_h—p_funùiÚ
 
h
, 
size_t
 
size
, 
š™Ÿlized
);

1416 #iâdeà
INTEL_NO_MACRO_BODY


1417 #iâdeà
INTEL_NO_ITTNOTIFY_API


1418 
ITT_STUBV
(
ITTAPI
, , 
h—p_®loÿ‹_begš
, (
__™t_h—p_funùiÚ
 
h
, 
size_t
 
size
, 
š™Ÿlized
))

1419 
	#__™t_h—p_®loÿ‹_begš
 
	`ITTNOTIFY_VOID
(
h—p_®loÿ‹_begš
)

	)

1420 
	#__™t_h—p_®loÿ‹_begš_±r
 
	`ITTNOTIFY_NAME
(
h—p_®loÿ‹_begš
)

	)

1422 
	#__™t_h—p_®loÿ‹_begš
(
h
, 
size
, 
š™Ÿlized
)

	)

1423 
	#__™t_h—p_®loÿ‹_begš_±r
 0

	)

1426 
	#__™t_h—p_®loÿ‹_begš_±r
 0

	)

1433 
ITTAPI
 
__™t_h—p_®loÿ‹_’d
(
__™t_h—p_funùiÚ
 
h
, ** 
addr
, 
size_t
 
size
, 
š™Ÿlized
);

1436 #iâdeà
INTEL_NO_MACRO_BODY


1437 #iâdeà
INTEL_NO_ITTNOTIFY_API


1438 
ITT_STUBV
(
ITTAPI
, , 
h—p_®loÿ‹_’d
, (
__™t_h—p_funùiÚ
 
h
, ** 
addr
, 
size_t
 
size
, 
š™Ÿlized
))

1439 
	#__™t_h—p_®loÿ‹_’d
 
	`ITTNOTIFY_VOID
(
h—p_®loÿ‹_’d
)

	)

1440 
	#__™t_h—p_®loÿ‹_’d_±r
 
	`ITTNOTIFY_NAME
(
h—p_®loÿ‹_’d
)

	)

1442 
	#__™t_h—p_®loÿ‹_’d
(
h
, 
addr
, 
size
, 
š™Ÿlized
)

	)

1443 
	#__™t_h—p_®loÿ‹_’d_±r
 0

	)

1446 
	#__™t_h—p_®loÿ‹_’d_±r
 0

	)

1453 
ITTAPI
 
__™t_h—p_ä“_begš
(
__™t_h—p_funùiÚ
 
h
, * 
addr
);

1456 #iâdeà
INTEL_NO_MACRO_BODY


1457 #iâdeà
INTEL_NO_ITTNOTIFY_API


1458 
ITT_STUBV
(
ITTAPI
, , 
h—p_ä“_begš
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
))

1459 
	#__™t_h—p_ä“_begš
 
	`ITTNOTIFY_VOID
(
h—p_ä“_begš
)

	)

1460 
	#__™t_h—p_ä“_begš_±r
 
	`ITTNOTIFY_NAME
(
h—p_ä“_begš
)

	)

1462 
	#__™t_h—p_ä“_begš
(
h
, 
addr
)

	)

1463 
	#__™t_h—p_ä“_begš_±r
 0

	)

1466 
	#__™t_h—p_ä“_begš_±r
 0

	)

1473 
ITTAPI
 
__™t_h—p_ä“_’d
(
__™t_h—p_funùiÚ
 
h
, * 
addr
);

1476 #iâdeà
INTEL_NO_MACRO_BODY


1477 #iâdeà
INTEL_NO_ITTNOTIFY_API


1478 
ITT_STUBV
(
ITTAPI
, , 
h—p_ä“_’d
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
))

1479 
	#__™t_h—p_ä“_’d
 
	`ITTNOTIFY_VOID
(
h—p_ä“_’d
)

	)

1480 
	#__™t_h—p_ä“_’d_±r
 
	`ITTNOTIFY_NAME
(
h—p_ä“_’d
)

	)

1482 
	#__™t_h—p_ä“_’d
(
h
, 
addr
)

	)

1483 
	#__™t_h—p_ä“_’d_±r
 0

	)

1486 
	#__™t_h—p_ä“_’d_±r
 0

	)

1493 
ITTAPI
 
__™t_h—p_»®loÿ‹_begš
(
__™t_h—p_funùiÚ
 
h
, * 
addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
);

1496 #iâdeà
INTEL_NO_MACRO_BODY


1497 #iâdeà
INTEL_NO_ITTNOTIFY_API


1498 
ITT_STUBV
(
ITTAPI
, , 
h—p_»®loÿ‹_begš
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
))

1499 
	#__™t_h—p_»®loÿ‹_begš
 
	`ITTNOTIFY_VOID
(
h—p_»®loÿ‹_begš
)

	)

1500 
	#__™t_h—p_»®loÿ‹_begš_±r
 
	`ITTNOTIFY_NAME
(
h—p_»®loÿ‹_begš
)

	)

1502 
	#__™t_h—p_»®loÿ‹_begš
(
h
, 
addr
, 
Ãw_size
, 
š™Ÿlized
)

	)

1503 
	#__™t_h—p_»®loÿ‹_begš_±r
 0

	)

1506 
	#__™t_h—p_»®loÿ‹_begš_±r
 0

	)

1513 
ITTAPI
 
__™t_h—p_»®loÿ‹_’d
(
__™t_h—p_funùiÚ
 
h
, * 
addr
, ** 
Ãw_addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
);

1516 #iâdeà
INTEL_NO_MACRO_BODY


1517 #iâdeà
INTEL_NO_ITTNOTIFY_API


1518 
ITT_STUBV
(
ITTAPI
, , 
h—p_»®loÿ‹_’d
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
, ** 
Ãw_addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
))

1519 
	#__™t_h—p_»®loÿ‹_’d
 
	`ITTNOTIFY_VOID
(
h—p_»®loÿ‹_’d
)

	)

1520 
	#__™t_h—p_»®loÿ‹_’d_±r
 
	`ITTNOTIFY_NAME
(
h—p_»®loÿ‹_’d
)

	)

1522 
	#__™t_h—p_»®loÿ‹_’d
(
h
, 
addr
, 
Ãw_addr
, 
Ãw_size
, 
š™Ÿlized
)

	)

1523 
	#__™t_h—p_»®loÿ‹_’d_±r
 0

	)

1526 
	#__™t_h—p_»®loÿ‹_’d_±r
 0

	)

1531 
ITTAPI
 
__™t_h—p_š‹º®_acûss_begš
();

1534 #iâdeà
INTEL_NO_MACRO_BODY


1535 #iâdeà
INTEL_NO_ITTNOTIFY_API


1536 
ITT_STUBV
(
ITTAPI
, , 
h—p_š‹º®_acûss_begš
, ())

1537 
	#__™t_h—p_š‹º®_acûss_begš
 
	`ITTNOTIFY_VOID
(
h—p_š‹º®_acûss_begš
)

	)

1538 
	#__™t_h—p_š‹º®_acûss_begš_±r
 
	`ITTNOTIFY_NAME
(
h—p_š‹º®_acûss_begš
)

	)

1540 
	#__™t_h—p_š‹º®_acûss_begš
()

	)

1541 
	#__™t_h—p_š‹º®_acûss_begš_±r
 0

	)

1544 
	#__™t_h—p_š‹º®_acûss_begš_±r
 0

	)

1549 
ITTAPI
 
__™t_h—p_š‹º®_acûss_’d
();

1552 #iâdeà
INTEL_NO_MACRO_BODY


1553 #iâdeà
INTEL_NO_ITTNOTIFY_API


1554 
ITT_STUBV
(
ITTAPI
, , 
h—p_š‹º®_acûss_’d
, ())

1555 
	#__™t_h—p_š‹º®_acûss_’d
 
	`ITTNOTIFY_VOID
(
h—p_š‹º®_acûss_’d
)

	)

1556 
	#__™t_h—p_š‹º®_acûss_’d_±r
 
	`ITTNOTIFY_NAME
(
h—p_š‹º®_acûss_’d
)

	)

1558 
	#__™t_h—p_š‹º®_acûss_’d
()

	)

1559 
	#__™t_h—p_š‹º®_acûss_’d_±r
 0

	)

1562 
	#__™t_h—p_š‹º®_acûss_’d_±r
 0

	)

1567 
ITTAPI
 
__™t_h—p_»cÜd_memÜy_growth_begš
();

1570 #iâdeà
INTEL_NO_MACRO_BODY


1571 #iâdeà
INTEL_NO_ITTNOTIFY_API


1572 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd_memÜy_growth_begš
, ())

1573 
	#__™t_h—p_»cÜd_memÜy_growth_begš
 
	`ITTNOTIFY_VOID
(
h—p_»cÜd_memÜy_growth_begš
)

	)

1574 
	#__™t_h—p_»cÜd_memÜy_growth_begš_±r
 
	`ITTNOTIFY_NAME
(
h—p_»cÜd_memÜy_growth_begš
)

	)

1576 
	#__™t_h—p_»cÜd_memÜy_growth_begš
()

	)

1577 
	#__™t_h—p_»cÜd_memÜy_growth_begš_±r
 0

	)

1580 
	#__™t_h—p_»cÜd_memÜy_growth_begš_±r
 0

	)

1585 
ITTAPI
 
__™t_h—p_»cÜd_memÜy_growth_’d
();

1588 #iâdeà
INTEL_NO_MACRO_BODY


1589 #iâdeà
INTEL_NO_ITTNOTIFY_API


1590 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd_memÜy_growth_’d
, ())

1591 
	#__™t_h—p_»cÜd_memÜy_growth_’d
 
	`ITTNOTIFY_VOID
(
h—p_»cÜd_memÜy_growth_’d
)

	)

1592 
	#__™t_h—p_»cÜd_memÜy_growth_’d_±r
 
	`ITTNOTIFY_NAME
(
h—p_»cÜd_memÜy_growth_’d
)

	)

1594 
	#__™t_h—p_»cÜd_memÜy_growth_’d
()

	)

1595 
	#__™t_h—p_»cÜd_memÜy_growth_’d_±r
 0

	)

1598 
	#__™t_h—p_»cÜd_memÜy_growth_’d_±r
 0

	)

1609 
	#__™t_h—p_Ëaks
 0x00000001

	)

1615 
	#__™t_h—p_growth
 0x00000002

	)

1619 
ITTAPI
 
__™t_h—p_»£t_d‘eùiÚ
(
»£t_mask
);

1622 #iâdeà
INTEL_NO_MACRO_BODY


1623 #iâdeà
INTEL_NO_ITTNOTIFY_API


1624 
ITT_STUBV
(
ITTAPI
, , 
h—p_»£t_d‘eùiÚ
, (
»£t_mask
))

1625 
	#__™t_h—p_»£t_d‘eùiÚ
 
	`ITTNOTIFY_VOID
(
h—p_»£t_d‘eùiÚ
)

	)

1626 
	#__™t_h—p_»£t_d‘eùiÚ_±r
 
	`ITTNOTIFY_NAME
(
h—p_»£t_d‘eùiÚ
)

	)

1628 
	#__™t_h—p_»£t_d‘eùiÚ
()

	)

1629 
	#__™t_h—p_»£t_d‘eùiÚ_±r
 0

	)

1632 
	#__™t_h—p_»£t_d‘eùiÚ_±r
 0

	)

1637 
ITTAPI
 
__™t_h—p_»cÜd
(
»cÜd_mask
);

1640 #iâdeà
INTEL_NO_MACRO_BODY


1641 #iâdeà
INTEL_NO_ITTNOTIFY_API


1642 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd
, (
»cÜd_mask
))

1643 
	#__™t_h—p_»cÜd
 
	`ITTNOTIFY_VOID
(
h—p_»cÜd
)

	)

1644 
	#__™t_h—p_»cÜd_±r
 
	`ITTNOTIFY_NAME
(
h—p_»cÜd
)

	)

1646 
	#__™t_h—p_»cÜd
()

	)

1647 
	#__™t_h—p_»cÜd_±r
 0

	)

1650 
	#__™t_h—p_»cÜd_±r
 0

	)

1666 #´agm¨
·ck
(
push
, 8)

1668 
	s___™t_domaš


1670 vŞ©
æags
;

1671 cÚ¡ * 
ÇmeA
;

1672 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

1673 cÚ¡ 
wch¬_t
* 
ÇmeW
;

1675 * 
ÇmeW
;

1677 
exŒa1
;

1678 * 
exŒa2
;

1679 
___™t_domaš
* 
Ãxt
;

1680 } 
	t__™t_domaš
;

1682 #´agm¨
·ck
(
pİ
)

1695 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1696 
__™t_domaš
* 
ITTAPI
 
__™t_domaš_ü—‹A
(cÚ¡ *
Çme
);

1697 
__™t_domaš
* 
ITTAPI
 
__™t_domaš_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
);

1698 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

1699 
	#__™t_domaš_ü—‹
 
__™t_domaš_ü—‹W


	)

1700 
	#__™t_domaš_ü—‹_±r
 
__™t_domaš_ü—‹W_±r


	)

1702 
	#__™t_domaš_ü—‹
 
__™t_domaš_ü—‹A


	)

1703 
	#__™t_domaš_ü—‹_±r
 
__™t_domaš_ü—‹A_±r


	)

1706 
__™t_domaš
* 
ITTAPI
 
__™t_domaš_ü—‹
(cÚ¡ *
Çme
);

1710 #iâdeà
INTEL_NO_MACRO_BODY


1711 #iâdeà
INTEL_NO_ITTNOTIFY_API


1712 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1713 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹A
, (cÚ¡ *
Çme
))

1714 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
))

1716 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹
, (cÚ¡ *
Çme
))

1718 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1719 
	#__™t_domaš_ü—‹A
 
	`ITTNOTIFY_DATA
(
domaš_ü—‹A
)

	)

1720 
	#__™t_domaš_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
domaš_ü—‹A
)

	)

1721 
	#__™t_domaš_ü—‹W
 
	`ITTNOTIFY_DATA
(
domaš_ü—‹W
)

	)

1722 
	#__™t_domaš_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
domaš_ü—‹W
)

	)

1724 
	#__™t_domaš_ü—‹
 
	`ITTNOTIFY_DATA
(
domaš_ü—‹
)

	)

1725 
	#__™t_domaš_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
domaš_ü—‹
)

	)

1728 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1729 
	#__™t_domaš_ü—‹A
(
Çme
è(
__™t_domaš
*)0

	)

1730 
	#__™t_domaš_ü—‹A_±r
 0

	)

1731 
	#__™t_domaš_ü—‹W
(
Çme
è(
__™t_domaš
*)0

	)

1732 
	#__™t_domaš_ü—‹W_±r
 0

	)

1734 
	#__™t_domaš_ü—‹
(
Çme
è(
__™t_domaš
*)0

	)

1735 
	#__™t_domaš_ü—‹_±r
 0

	)

1739 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1740 
	#__™t_domaš_ü—‹A_±r
 0

	)

1741 
	#__™t_domaš_ü—‹W_±r
 0

	)

1743 
	#__™t_domaš_ü—‹_±r
 0

	)

1757 #´agm¨
·ck
(
push
, 8)

1759 
	s___™t_id


1761 
d1
, 
d2
, 
d3
;

1762 } 
	t__™t_id
;

1764 #´agm¨
·ck
(
pİ
)

1767 cÚ¡ 
__™t_id
 
__™t_nuÎ
 = { 0, 0, 0 };

1780 
ITT_INLINE
 
__™t_id
 
ITTAPI
 
__™t_id_make
(* 
addr
, 
exŒa
è
ITT_INLINE_ATTRIBUTE
;

1781 
ITT_INLINE
 
__™t_id
 
ITTAPI
 
__™t_id_make
(* 
addr
, 
exŒa
)

1783 
__™t_id
 
id
 = 
__™t_nuÎ
;

1784 
id
.
d1
 = ()((
ušŒ_t
)
addr
);

1785 
id
.
d2
 = ()
exŒa
;

1786 
id
.
d3
 = ()0;

1787  
id
;

1802 
ITTAPI
 
__™t_id_ü—‹
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
);

1805 #iâdeà
INTEL_NO_MACRO_BODY


1806 #iâdeà
INTEL_NO_ITTNOTIFY_API


1807 
ITT_STUBV
(
ITTAPI
, , 
id_ü—‹
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
))

1808 
	#__™t_id_ü—‹
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
id_ü—‹
,d,x)

	)

1809 
	#__™t_id_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
id_ü—‹
)

	)

1811 
	#__™t_id_ü—‹
(
domaš
,
id
)

	)

1812 
	#__™t_id_ü—‹_±r
 0

	)

1815 
	#__™t_id_ü—‹_±r
 0

	)

1829 
ITTAPI
 
__™t_id_de¡roy
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
);

1832 #iâdeà
INTEL_NO_MACRO_BODY


1833 #iâdeà
INTEL_NO_ITTNOTIFY_API


1834 
ITT_STUBV
(
ITTAPI
, , 
id_de¡roy
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
))

1835 
	#__™t_id_de¡roy
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
id_de¡roy
,d,x)

	)

1836 
	#__™t_id_de¡roy_±r
 
	`ITTNOTIFY_NAME
(
id_de¡roy
)

	)

1838 
	#__™t_id_de¡roy
(
domaš
,
id
)

	)

1839 
	#__™t_id_de¡roy_±r
 0

	)

1842 
	#__™t_id_de¡roy_±r
 0

	)

1855 #´agm¨
·ck
(
push
, 8)

1857 
	s___™t_¡ršg_hªdË


1859 cÚ¡ * 
¡rA
;

1860 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

1861 cÚ¡ 
wch¬_t
* 
¡rW
;

1863 * 
¡rW
;

1865 
exŒa1
;

1866 * 
exŒa2
;

1867 
___™t_¡ršg_hªdË
* 
Ãxt
;

1868 } 
	t__™t_¡ršg_hªdË
;

1870 #´agm¨
·ck
(
pİ
)

1884 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1885 
__™t_¡ršg_hªdË
* 
ITTAPI
 
__™t_¡ršg_hªdË_ü—‹A
(cÚ¡ *
Çme
);

1886 
__™t_¡ršg_hªdË
* 
ITTAPI
 
__™t_¡ršg_hªdË_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
);

1887 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

1888 
	#__™t_¡ršg_hªdË_ü—‹
 
__™t_¡ršg_hªdË_ü—‹W


	)

1889 
	#__™t_¡ršg_hªdË_ü—‹_±r
 
__™t_¡ršg_hªdË_ü—‹W_±r


	)

1891 
	#__™t_¡ršg_hªdË_ü—‹
 
__™t_¡ršg_hªdË_ü—‹A


	)

1892 
	#__™t_¡ršg_hªdË_ü—‹_±r
 
__™t_¡ršg_hªdË_ü—‹A_±r


	)

1895 
__™t_¡ršg_hªdË
* 
ITTAPI
 
__™t_¡ršg_hªdË_ü—‹
(cÚ¡ *
Çme
);

1899 #iâdeà
INTEL_NO_MACRO_BODY


1900 #iâdeà
INTEL_NO_ITTNOTIFY_API


1901 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1902 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹A
, (cÚ¡ *
Çme
))

1903 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
))

1905 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹
, (cÚ¡ *
Çme
))

1907 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1908 
	#__™t_¡ršg_hªdË_ü—‹A
 
	`ITTNOTIFY_DATA
(
¡ršg_hªdË_ü—‹A
)

	)

1909 
	#__™t_¡ršg_hªdË_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹A
)

	)

1910 
	#__™t_¡ršg_hªdË_ü—‹W
 
	`ITTNOTIFY_DATA
(
¡ršg_hªdË_ü—‹W
)

	)

1911 
	#__™t_¡ršg_hªdË_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹W
)

	)

1913 
	#__™t_¡ršg_hªdË_ü—‹
 
	`ITTNOTIFY_DATA
(
¡ršg_hªdË_ü—‹
)

	)

1914 
	#__™t_¡ršg_hªdË_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹
)

	)

1917 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1918 
	#__™t_¡ršg_hªdË_ü—‹A
(
Çme
è(
__™t_¡ršg_hªdË
*)0

	)

1919 
	#__™t_¡ršg_hªdË_ü—‹A_±r
 0

	)

1920 
	#__™t_¡ršg_hªdË_ü—‹W
(
Çme
è(
__™t_¡ršg_hªdË
*)0

	)

1921 
	#__™t_¡ršg_hªdË_ü—‹W_±r
 0

	)

1923 
	#__™t_¡ršg_hªdË_ü—‹
(
Çme
è(
__™t_¡ršg_hªdË
*)0

	)

1924 
	#__™t_¡ršg_hªdË_ü—‹_±r
 0

	)

1928 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1929 
	#__™t_¡ršg_hªdË_ü—‹A_±r
 0

	)

1930 
	#__™t_¡ršg_hªdË_ü—‹W_±r
 0

	)

1932 
	#__™t_¡ršg_hªdË_ü—‹_±r
 0

	)

1939 
	t__™t_time¡amp
;

1942 
	#__™t_time¡amp_nÚe
 ((
__™t_time¡amp
)-1LL)

	)

1953 
__™t_time¡amp
 
ITTAPI
 
__™t_g‘_time¡amp
();

1956 #iâdeà
INTEL_NO_MACRO_BODY


1957 #iâdeà
INTEL_NO_ITTNOTIFY_API


1958 
ITT_STUB
(
ITTAPI
, 
__™t_time¡amp
, 
g‘_time¡amp
, ())

1959 
	#__™t_g‘_time¡amp
 
	`ITTNOTIFY_DATA
(
g‘_time¡amp
)

	)

1960 
	#__™t_g‘_time¡amp_±r
 
	`ITTNOTIFY_NAME
(
g‘_time¡amp
)

	)

1962 
	#__™t_g‘_time¡amp
()

	)

1963 
	#__™t_g‘_time¡amp_±r
 0

	)

1966 
	#__™t_g‘_time¡amp_±r
 0

	)

1990 
ITTAPI
 
__™t_»giÚ_begš
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
);

2001 
ITTAPI
 
__™t_»giÚ_’d
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
);

2004 #iâdeà
INTEL_NO_MACRO_BODY


2005 #iâdeà
INTEL_NO_ITTNOTIFY_API


2006 
ITT_STUBV
(
ITTAPI
, , 
»giÚ_begš
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
))

2007 
ITT_STUBV
(
ITTAPI
, , 
»giÚ_’d
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
))

2008 
	#__™t_»giÚ_begš
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
»giÚ_begš
,d,x,y,z)

	)

2009 
	#__™t_»giÚ_begš_±r
 
	`ITTNOTIFY_NAME
(
»giÚ_begš
)

	)

2010 
	#__™t_»giÚ_’d
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
»giÚ_’d
,d,x)

	)

2011 
	#__™t_»giÚ_’d_±r
 
	`ITTNOTIFY_NAME
(
»giÚ_’d
)

	)

2013 
	#__™t_»giÚ_begš
(
d
,
x
,
y
,
z
)

	)

2014 
	#__™t_»giÚ_begš_±r
 0

	)

2015 
	#__™t_»giÚ_’d
(
d
,
x
)

	)

2016 
	#__™t_»giÚ_’d_±r
 0

	)

2019 
	#__™t_»giÚ_begš_±r
 0

	)

2020 
	#__™t_»giÚ_’d_±r
 0

	)

2043 
ITTAPI
 
__™t_äame_begš_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
);

2054 
ITTAPI
 
__™t_äame_’d_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
);

2069 
ITTAPI
 
__™t_äame_subm™_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
,

2070 
__™t_time¡amp
 
begš
, __™t_time¡am°
’d
);

2073 #iâdeà
INTEL_NO_MACRO_BODY


2074 #iâdeà
INTEL_NO_ITTNOTIFY_API


2075 
ITT_STUBV
(
ITTAPI
, , 
äame_begš_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
))

2076 
ITT_STUBV
(
ITTAPI
, , 
äame_’d_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
))

2077 
ITT_STUBV
(
ITTAPI
, , 
äame_subm™_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
, 
__™t_time¡amp
 
begš
, __™t_time¡am°
’d
))

2078 
	#__™t_äame_begš_v3
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
äame_begš_v3
,d,x)

	)

2079 
	#__™t_äame_begš_v3_±r
 
	`ITTNOTIFY_NAME
(
äame_begš_v3
)

	)

2080 
	#__™t_äame_’d_v3
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
äame_’d_v3
,d,x)

	)

2081 
	#__™t_äame_’d_v3_±r
 
	`ITTNOTIFY_NAME
(
äame_’d_v3
)

	)

2082 
	#__™t_äame_subm™_v3
(
d
,
x
,
b
,
e
è
	`ITTNOTIFY_VOID_D3
(
äame_subm™_v3
,d,x,b,e)

	)

2083 
	#__™t_äame_subm™_v3_±r
 
	`ITTNOTIFY_NAME
(
äame_subm™_v3
)

	)

2085 
	#__™t_äame_begš_v3
(
domaš
,
id
)

	)

2086 
	#__™t_äame_begš_v3_±r
 0

	)

2087 
	#__™t_äame_’d_v3
(
domaš
,
id
)

	)

2088 
	#__™t_äame_’d_v3_±r
 0

	)

2089 
	#__™t_äame_subm™_v3
(
domaš
,
id
,
begš
,
’d
)

	)

2090 
	#__™t_äame_subm™_v3_±r
 0

	)

2093 
	#__™t_äame_begš_v3_±r
 0

	)

2094 
	#__™t_äame_’d_v3_±r
 0

	)

2095 
	#__™t_äame_subm™_v3_±r
 0

	)

2116 
ITTAPI
 
__™t_sk_group
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
);

2119 #iâdeà
INTEL_NO_MACRO_BODY


2120 #iâdeà
INTEL_NO_ITTNOTIFY_API


2121 
ITT_STUBV
(
ITTAPI
, , 
sk_group
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
))

2122 
	#__™t_sk_group
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
sk_group
,d,x,y,z)

	)

2123 
	#__™t_sk_group_±r
 
	`ITTNOTIFY_NAME
(
sk_group
)

	)

2125 
	#__™t_sk_group
(
d
,
x
,
y
,
z
)

	)

2126 
	#__™t_sk_group_±r
 0

	)

2129 
	#__™t_sk_group_±r
 0

	)

2162 
ITTAPI
 
__™t_sk_begš
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
);

2172 
ITTAPI
 
__™t_sk_begš_â
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, * 
â
);

2179 
ITTAPI
 
__™t_sk_’d
(cÚ¡ 
__™t_domaš
 *
domaš
);

2189 
ITTAPI
 
__™t_sk_begš_ov”Ïµed
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
* 
Çme
);

2197 
ITTAPI
 
__™t_sk_’d_ov”Ïµed
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
skid
);

2200 #iâdeà
INTEL_NO_MACRO_BODY


2201 #iâdeà
INTEL_NO_ITTNOTIFY_API


2202 
ITT_STUBV
(
ITTAPI
, , 
sk_begš
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
))

2203 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_â
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Áid
, * 
â
))

2204 
ITT_STUBV
(
ITTAPI
, , 
sk_’d
, (cÚ¡ 
__™t_domaš
 *
domaš
))

2205 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ov”Ïµed
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
))

2206 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ov”Ïµed
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
skid
))

2207 
	#__™t_sk_begš
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
sk_begš
,d,x,y,z)

	)

2208 
	#__™t_sk_begš_±r
 
	`ITTNOTIFY_NAME
(
sk_begš
)

	)

2209 
	#__™t_sk_begš_â
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
sk_begš_â
,d,x,y,z)

	)

2210 
	#__™t_sk_begš_â_±r
 
	`ITTNOTIFY_NAME
(
sk_begš_â
)

	)

2211 
	#__™t_sk_’d
(
d
è
	`ITTNOTIFY_VOID_D0
(
sk_’d
,d)

	)

2212 
	#__™t_sk_’d_±r
 
	`ITTNOTIFY_NAME
(
sk_’d
)

	)

2213 
	#__™t_sk_begš_ov”Ïµed
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
sk_begš_ov”Ïµed
,d,x,y,z)

	)

2214 
	#__™t_sk_begš_ov”Ïµed_±r
 
	`ITTNOTIFY_NAME
(
sk_begš_ov”Ïµed
)

	)

2215 
	#__™t_sk_’d_ov”Ïµed
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
sk_’d_ov”Ïµed
,d,x)

	)

2216 
	#__™t_sk_’d_ov”Ïµed_±r
 
	`ITTNOTIFY_NAME
(
sk_’d_ov”Ïµed
)

	)

2218 
	#__™t_sk_begš
(
domaš
,
id
,
·»Áid
,
Çme
)

	)

2219 
	#__™t_sk_begš_±r
 0

	)

2220 
	#__™t_sk_begš_â
(
domaš
,
id
,
·»Áid
,
â
)

	)

2221 
	#__™t_sk_begš_â_±r
 0

	)

2222 
	#__™t_sk_’d
(
domaš
)

	)

2223 
	#__™t_sk_’d_±r
 0

	)

2224 
	#__™t_sk_begš_ov”Ïµed
(
domaš
,
skid
,
·»Áid
,
Çme
)

	)

2225 
	#__™t_sk_begš_ov”Ïµed_±r
 0

	)

2226 
	#__™t_sk_’d_ov”Ïµed
(
domaš
,
skid
)

	)

2227 
	#__™t_sk_’d_ov”Ïµed_±r
 0

	)

2230 
	#__™t_sk_begš_±r
 0

	)

2231 
	#__™t_sk_begš_â_±r
 0

	)

2232 
	#__™t_sk_’d_±r
 0

	)

2233 
	#__™t_sk_begš_ov”Ïµed_±r
 0

	)

2234 
	#__™t_sk_’d_ov”Ïµed_±r
 0

	)

2254 
__™t_scİe_unknown
 = 0,

2255 
__™t_scİe_glob®
,

2256 
__™t_scİe_Œack_group
,

2257 
__™t_scİe_Œack
,

2258 
__™t_scİe_sk
,

2259 
__™t_scİe_m¬k”


2260 } 
	t__™t_scİe
;

2263 
	#__™t_m¬k”_scİe_unknown
 
__™t_scİe_unknown


	)

2264 
	#__™t_m¬k”_scİe_glob®
 
__™t_scİe_glob®


	)

2265 
	#__™t_m¬k”_scİe_´oûss
 
__™t_scİe_Œack_group


	)

2266 
	#__™t_m¬k”_scİe_th»ad
 
__™t_scİe_Œack


	)

2267 
	#__™t_m¬k”_scİe_sk
 
__™t_scİe_sk


	)

2278 
ITTAPI
 
__™t_m¬k”
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
);

2281 #iâdeà
INTEL_NO_MACRO_BODY


2282 #iâdeà
INTEL_NO_ITTNOTIFY_API


2283 
ITT_STUBV
(
ITTAPI
, , 
m¬k”
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
))

2284 
	#__™t_m¬k”
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
m¬k”
,d,x,y,z)

	)

2285 
	#__™t_m¬k”_±r
 
	`ITTNOTIFY_NAME
(
m¬k”
)

	)

2287 
	#__™t_m¬k”
(
domaš
,
id
,
Çme
,
scİe
)

	)

2288 
	#__™t_m¬k”_±r
 0

	)

2291 
	#__™t_m¬k”_±r
 0

	)

2315 
__™t_m‘ad©a_unknown
 = 0,

2316 
__™t_m‘ad©a_u64
,

2317 
__™t_m‘ad©a_s64
,

2318 
__™t_m‘ad©a_u32
,

2319 
__™t_m‘ad©a_s32
,

2320 
__™t_m‘ad©a_u16
,

2321 
__™t_m‘ad©a_s16
,

2322 
__™t_m‘ad©a_æßt
,

2323 
__™t_m‘ad©a_doubË


2324 } 
	t__™t_m‘ad©a_ty³
;

2336 
ITTAPI
 
__™t_m‘ad©a_add
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
);

2339 #iâdeà
INTEL_NO_MACRO_BODY


2340 #iâdeà
INTEL_NO_ITTNOTIFY_API


2341 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
))

2342 
	#__™t_m‘ad©a_add
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
m‘ad©a_add
,d,x,y,z,a,b)

	)

2343 
	#__™t_m‘ad©a_add_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_add
)

	)

2345 
	#__™t_m‘ad©a_add
(
d
,
x
,
y
,
z
,
a
,
b
)

	)

2346 
	#__™t_m‘ad©a_add_±r
 0

	)

2349 
	#__™t_m‘ad©a_add_±r
 0

	)

2362 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2363 
ITTAPI
 
__™t_m‘ad©a_¡r_addA
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
);

2364 
ITTAPI
 
__™t_m‘ad©a_¡r_addW
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
 *
d©a
, 
size_t
 
Ëngth
);

2365 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

2366 
	#__™t_m‘ad©a_¡r_add
 
__™t_m‘ad©a_¡r_addW


	)

2367 
	#__™t_m‘ad©a_¡r_add_±r
 
__™t_m‘ad©a_¡r_addW_±r


	)

2369 
	#__™t_m‘ad©a_¡r_add
 
__™t_m‘ad©a_¡r_addA


	)

2370 
	#__™t_m‘ad©a_¡r_add_±r
 
__™t_m‘ad©a_¡r_addA_±r


	)

2373 
ITTAPI
 
__™t_m‘ad©a_¡r_add
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
);

2377 #iâdeà
INTEL_NO_MACRO_BODY


2378 #iâdeà
INTEL_NO_ITTNOTIFY_API


2379 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2380 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_addA
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
))

2381 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_addW
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
 *
d©a
, 
size_t
 
Ëngth
))

2383 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
))

2385 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2386 
	#__™t_m‘ad©a_¡r_addA
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_addA
,d,x,y,z,a)

	)

2387 
	#__™t_m‘ad©a_¡r_addA_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_addA
)

	)

2388 
	#__™t_m‘ad©a_¡r_addW
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_addW
,d,x,y,z,a)

	)

2389 
	#__™t_m‘ad©a_¡r_addW_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_addW
)

	)

2391 
	#__™t_m‘ad©a_¡r_add
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_add
,d,x,y,z,a)

	)

2392 
	#__™t_m‘ad©a_¡r_add_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_add
)

	)

2395 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2396 
	#__™t_m‘ad©a_¡r_addA
(
d
,
x
,
y
,
z
,
a
)

	)

2397 
	#__™t_m‘ad©a_¡r_addA_±r
 0

	)

2398 
	#__™t_m‘ad©a_¡r_addW
(
d
,
x
,
y
,
z
,
a
)

	)

2399 
	#__™t_m‘ad©a_¡r_addW_±r
 0

	)

2401 
	#__™t_m‘ad©a_¡r_add
(
d
,
x
,
y
,
z
,
a
)

	)

2402 
	#__™t_m‘ad©a_¡r_add_±r
 0

	)

2406 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2407 
	#__™t_m‘ad©a_¡r_addA_±r
 0

	)

2408 
	#__™t_m‘ad©a_¡r_addW_±r
 0

	)

2410 
	#__™t_m‘ad©a_¡r_add_±r
 0

	)

2428 
ITTAPI
 
__™t_m‘ad©a_add_w™h_scİe
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
);

2431 #iâdeà
INTEL_NO_MACRO_BODY


2432 #iâdeà
INTEL_NO_ITTNOTIFY_API


2433 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_add_w™h_scİe
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
))

2434 
	#__™t_m‘ad©a_add_w™h_scİe
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
m‘ad©a_add_w™h_scİe
,d,x,y,z,a,b)

	)

2435 
	#__™t_m‘ad©a_add_w™h_scİe_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_add_w™h_scİe
)

	)

2437 
	#__™t_m‘ad©a_add_w™h_scİe
(
d
,
x
,
y
,
z
,
a
,
b
)

	)

2438 
	#__™t_m‘ad©a_add_w™h_scİe_±r
 0

	)

2441 
	#__™t_m‘ad©a_add_w™h_scİe_±r
 0

	)

2457 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2458 
ITTAPI
 
__™t_m‘ad©a_¡r_add_w™h_scİeA
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
);

2459 
ITTAPI
 
__™t_m‘ad©a_¡r_add_w™h_scİeW
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
 *
d©a
, 
size_t
 
Ëngth
);

2460 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

2461 
	#__™t_m‘ad©a_¡r_add_w™h_scİe
 
__™t_m‘ad©a_¡r_add_w™h_scİeW


	)

2462 
	#__™t_m‘ad©a_¡r_add_w™h_scİe_±r
 
__™t_m‘ad©a_¡r_add_w™h_scİeW_±r


	)

2464 
	#__™t_m‘ad©a_¡r_add_w™h_scİe
 
__™t_m‘ad©a_¡r_add_w™h_scİeA


	)

2465 
	#__™t_m‘ad©a_¡r_add_w™h_scİe_±r
 
__™t_m‘ad©a_¡r_add_w™h_scİeA_±r


	)

2468 
ITTAPI
 
__™t_m‘ad©a_¡r_add_w™h_scİe
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
);

2472 #iâdeà
INTEL_NO_MACRO_BODY


2473 #iâdeà
INTEL_NO_ITTNOTIFY_API


2474 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2475 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİeA
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
))

2476 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİeW
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
 *
d©a
, 
size_t
 
Ëngth
))

2478 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİe
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
))

2480 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2481 
	#__™t_m‘ad©a_¡r_add_w™h_scİeA
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_add_w™h_scİeA
,d,x,y,z,a)

	)

2482 
	#__™t_m‘ad©a_¡r_add_w™h_scİeA_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_add_w™h_scİeA
)

	)

2483 
	#__™t_m‘ad©a_¡r_add_w™h_scİeW
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_add_w™h_scİeW
,d,x,y,z,a)

	)

2484 
	#__™t_m‘ad©a_¡r_add_w™h_scİeW_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_add_w™h_scİeW
)

	)

2486 
	#__™t_m‘ad©a_¡r_add_w™h_scİe
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
m‘ad©a_¡r_add_w™h_scİe
,d,x,y,z,a)

	)

2487 
	#__™t_m‘ad©a_¡r_add_w™h_scİe_±r
 
	`ITTNOTIFY_NAME
(
m‘ad©a_¡r_add_w™h_scİe
)

	)

2490 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2491 
	#__™t_m‘ad©a_¡r_add_w™h_scİeA
(
d
,
x
,
y
,
z
,
a
)

	)

2492 
	#__™t_m‘ad©a_¡r_add_w™h_scİeA_±r
 0

	)

2493 
	#__™t_m‘ad©a_¡r_add_w™h_scİeW
(
d
,
x
,
y
,
z
,
a
)

	)

2494 
	#__™t_m‘ad©a_¡r_add_w™h_scİeW_±r
 0

	)

2496 
	#__™t_m‘ad©a_¡r_add_w™h_scİe
(
d
,
x
,
y
,
z
,
a
)

	)

2497 
	#__™t_m‘ad©a_¡r_add_w™h_scİe_±r
 0

	)

2501 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2502 
	#__™t_m‘ad©a_¡r_add_w™h_scİeA_±r
 0

	)

2503 
	#__™t_m‘ad©a_¡r_add_w™h_scİeW_±r
 0

	)

2505 
	#__™t_m‘ad©a_¡r_add_w™h_scİe_±r
 0

	)

2531 
__™t_»ÏtiÚ_is_unknown
 = 0,

2532 
__™t_»ÏtiÚ_is_d•’d’t_Ú
,

2533 
__™t_»ÏtiÚ_is_siblšg_of
,

2534 
__™t_»ÏtiÚ_is_·»Á_of
,

2535 
__™t_»ÏtiÚ_is_cÚtšu©iÚ_of
,

2536 
__™t_»ÏtiÚ_is_chd_of
,

2537 
__™t_»ÏtiÚ_is_cÚtšued_by
,

2538 
__™t_»ÏtiÚ_is_´edeûssÜ_to


2539 } 
	t__™t_»ÏtiÚ
;

2549 
ITTAPI
 
__™t_»ÏtiÚ_add_to_cu¼’t
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

);

2559 
ITTAPI
 
__™t_»ÏtiÚ_add
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

);

2562 #iâdeà
INTEL_NO_MACRO_BODY


2563 #iâdeà
INTEL_NO_ITTNOTIFY_API


2564 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_to_cu¼’t
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

))

2565 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

))

2566 
	#__™t_»ÏtiÚ_add_to_cu¼’t
(
d
,
x
,
y
è
	`ITTNOTIFY_VOID_D2
(
»ÏtiÚ_add_to_cu¼’t
,d,x,y)

	)

2567 
	#__™t_»ÏtiÚ_add_to_cu¼’t_±r
 
	`ITTNOTIFY_NAME
(
»ÏtiÚ_add_to_cu¼’t
)

	)

2568 
	#__™t_»ÏtiÚ_add
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
»ÏtiÚ_add
,d,x,y,z)

	)

2569 
	#__™t_»ÏtiÚ_add_±r
 
	`ITTNOTIFY_NAME
(
»ÏtiÚ_add
)

	)

2571 
	#__™t_»ÏtiÚ_add_to_cu¼’t
(
d
,
x
,
y
)

	)

2572 
	#__™t_»ÏtiÚ_add_to_cu¼’t_±r
 0

	)

2573 
	#__™t_»ÏtiÚ_add
(
d
,
x
,
y
,
z
)

	)

2574 
	#__™t_»ÏtiÚ_add_±r
 0

	)

2577 
	#__™t_»ÏtiÚ_add_to_cu¼’t_±r
 0

	)

2578 
	#__™t_»ÏtiÚ_add_±r
 0

	)

2584 #´agm¨
·ck
(
push
, 8)

2586 
	s___™t_şock_šfo


2588 
şock_äeq
;

2589 
şock_ba£
;

2590 } 
	t__™t_şock_šfo
;

2592 #´agm¨
·ck
(
pİ
)

2596 (
ITTAPI
 *
	t__™t_g‘_şock_šfo_â
)(
	t__™t_şock_šfo
* 
	tşock_šfo
, * 
	td©a
);

2600 #´agm¨
·ck
(
push
, 8)

2602 
	s___™t_şock_domaš


2604 
__™t_şock_šfo
 
šfo
;

2605 
__™t_g‘_şock_šfo_â
 
â
;

2606 * 
â_d©a
;

2607 
exŒa1
;

2608 * 
exŒa2
;

2609 
___™t_şock_domaš
* 
Ãxt
;

2610 } 
	t__™t_şock_domaš
;

2612 #´agm¨
·ck
(
pİ
)

2628 
__™t_şock_domaš
* 
ITTAPI
 
__™t_şock_domaš_ü—‹
(
__™t_g‘_şock_šfo_â
 
â
, * 
â_d©a
);

2631 #iâdeà
INTEL_NO_MACRO_BODY


2632 #iâdeà
INTEL_NO_ITTNOTIFY_API


2633 
ITT_STUB
(
ITTAPI
, 
__™t_şock_domaš
*, 
şock_domaš_ü—‹
, (
__™t_g‘_şock_šfo_â
 
â
, * 
â_d©a
))

2634 
	#__™t_şock_domaš_ü—‹
 
	`ITTNOTIFY_DATA
(
şock_domaš_ü—‹
)

	)

2635 
	#__™t_şock_domaš_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
şock_domaš_ü—‹
)

	)

2637 
	#__™t_şock_domaš_ü—‹
(
â
,
â_d©a
è(
__™t_şock_domaš
*)0

	)

2638 
	#__™t_şock_domaš_ü—‹_±r
 0

	)

2641 
	#__™t_şock_domaš_ü—‹_±r
 0

	)

2649 
ITTAPI
 
__™t_şock_domaš_»£t
();

2652 #iâdeà
INTEL_NO_MACRO_BODY


2653 #iâdeà
INTEL_NO_ITTNOTIFY_API


2654 
ITT_STUBV
(
ITTAPI
, , 
şock_domaš_»£t
, ())

2655 
	#__™t_şock_domaš_»£t
 
	`ITTNOTIFY_VOID
(
şock_domaš_»£t
)

	)

2656 
	#__™t_şock_domaš_»£t_±r
 
	`ITTNOTIFY_NAME
(
şock_domaš_»£t
)

	)

2658 
	#__™t_şock_domaš_»£t
()

	)

2659 
	#__™t_şock_domaš_»£t_±r
 0

	)

2662 
	#__™t_şock_domaš_»£t_±r
 0

	)

2677 
ITTAPI
 
__™t_id_ü—‹_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
);

2690 
ITTAPI
 
__™t_id_de¡roy_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
);

2693 #iâdeà
INTEL_NO_MACRO_BODY


2694 #iâdeà
INTEL_NO_ITTNOTIFY_API


2695 
ITT_STUBV
(
ITTAPI
, , 
id_ü—‹_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
))

2696 
ITT_STUBV
(
ITTAPI
, , 
id_de¡roy_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
))

2697 
	#__™t_id_ü—‹_ex
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
id_ü—‹_ex
,d,x,y,z)

	)

2698 
	#__™t_id_ü—‹_ex_±r
 
	`ITTNOTIFY_NAME
(
id_ü—‹_ex
)

	)

2699 
	#__™t_id_de¡roy_ex
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
id_de¡roy_ex
,d,x,y,z)

	)

2700 
	#__™t_id_de¡roy_ex_±r
 
	`ITTNOTIFY_NAME
(
id_de¡roy_ex
)

	)

2702 
	#__™t_id_ü—‹_ex
(
domaš
,
şock_domaš
,
time¡amp
,
id
)

	)

2703 
	#__™t_id_ü—‹_ex_±r
 0

	)

2704 
	#__™t_id_de¡roy_ex
(
domaš
,
şock_domaš
,
time¡amp
,
id
)

	)

2705 
	#__™t_id_de¡roy_ex_±r
 0

	)

2708 
	#__™t_id_ü—‹_ex_±r
 0

	)

2709 
	#__™t_id_de¡roy_ex_±r
 0

	)

2723 
ITTAPI
 
__™t_sk_begš_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
* 
Çme
);

2735 
ITTAPI
 
__™t_sk_begš_â_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, * 
â
);

2744 
ITTAPI
 
__™t_sk_’d_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
);

2747 #iâdeà
INTEL_NO_MACRO_BODY


2748 #iâdeà
INTEL_NO_ITTNOTIFY_API


2749 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
))

2750 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_â_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, __™t_id 
·»Áid
, * 
â
))

2751 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
))

2752 
	#__™t_sk_begš_ex
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
sk_begš_ex
,d,x,y,z,a,b)

	)

2753 
	#__™t_sk_begš_ex_±r
 
	`ITTNOTIFY_NAME
(
sk_begš_ex
)

	)

2754 
	#__™t_sk_begš_â_ex
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
sk_begš_â_ex
,d,x,y,z,a,b)

	)

2755 
	#__™t_sk_begš_â_ex_±r
 
	`ITTNOTIFY_NAME
(
sk_begš_â_ex
)

	)

2756 
	#__™t_sk_’d_ex
(
d
,
x
,
y
è
	`ITTNOTIFY_VOID_D2
(
sk_’d_ex
,d,x,y)

	)

2757 
	#__™t_sk_’d_ex_±r
 
	`ITTNOTIFY_NAME
(
sk_’d_ex
)

	)

2759 
	#__™t_sk_begš_ex
(
domaš
,
şock_domaš
,
time¡amp
,
id
,
·»Áid
,
Çme
)

	)

2760 
	#__™t_sk_begš_ex_±r
 0

	)

2761 
	#__™t_sk_begš_â_ex
(
domaš
,
şock_domaš
,
time¡amp
,
id
,
·»Áid
,
â
)

	)

2762 
	#__™t_sk_begš_â_ex_±r
 0

	)

2763 
	#__™t_sk_’d_ex
(
domaš
,
şock_domaš
,
time¡amp
)

	)

2764 
	#__™t_sk_’d_ex_±r
 0

	)

2767 
	#__™t_sk_begš_ex_±r
 0

	)

2768 
	#__™t_sk_begš_â_ex_±r
 0

	)

2769 
	#__™t_sk_’d_ex_±r
 0

	)

2788 
___™t_couÁ”
* 
	t__™t_couÁ”
;

2799 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2800 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹A
(cÚ¡ *
Çme
, cÚ¡ *
domaš
);

2801 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
);

2802 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

2803 
	#__™t_couÁ”_ü—‹
 
__™t_couÁ”_ü—‹W


	)

2804 
	#__™t_couÁ”_ü—‹_±r
 
__™t_couÁ”_ü—‹W_±r


	)

2806 
	#__™t_couÁ”_ü—‹
 
__™t_couÁ”_ü—‹A


	)

2807 
	#__™t_couÁ”_ü—‹_±r
 
__™t_couÁ”_ü—‹A_±r


	)

2810 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹
(cÚ¡ *
Çme
, cÚ¡ *
domaš
);

2813 #iâdeà
INTEL_NO_MACRO_BODY


2814 #iâdeà
INTEL_NO_ITTNOTIFY_API


2815 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2816 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹A
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
))

2817 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
))

2819 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
))

2821 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2822 
	#__™t_couÁ”_ü—‹A
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹A
)

	)

2823 
	#__™t_couÁ”_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹A
)

	)

2824 
	#__™t_couÁ”_ü—‹W
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹W
)

	)

2825 
	#__™t_couÁ”_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹W
)

	)

2827 
	#__™t_couÁ”_ü—‹
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹
)

	)

2828 
	#__™t_couÁ”_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹
)

	)

2831 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2832 
	#__™t_couÁ”_ü—‹A
(
Çme
, 
domaš
)

	)

2833 
	#__™t_couÁ”_ü—‹A_±r
 0

	)

2834 
	#__™t_couÁ”_ü—‹W
(
Çme
, 
domaš
)

	)

2835 
	#__™t_couÁ”_ü—‹W_±r
 0

	)

2837 
	#__™t_couÁ”_ü—‹
(
Çme
, 
domaš
)

	)

2838 
	#__™t_couÁ”_ü—‹_±r
 0

	)

2842 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


2843 
	#__™t_couÁ”_ü—‹A_±r
 0

	)

2844 
	#__™t_couÁ”_ü—‹W_±r
 0

	)

2846 
	#__™t_couÁ”_ü—‹_±r
 0

	)

2856 
ITTAPI
 
__™t_couÁ”_šc
(
__™t_couÁ”
 
id
);

2858 #iâdeà
INTEL_NO_MACRO_BODY


2859 #iâdeà
INTEL_NO_ITTNOTIFY_API


2860 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc
, (
__™t_couÁ”
 
id
))

2861 
	#__™t_couÁ”_šc
 
	`ITTNOTIFY_VOID
(
couÁ”_šc
)

	)

2862 
	#__™t_couÁ”_šc_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_šc
)

	)

2864 
	#__™t_couÁ”_šc
(
id
)

	)

2865 
	#__™t_couÁ”_šc_±r
 0

	)

2868 
	#__™t_couÁ”_šc_±r
 0

	)

2876 
ITTAPI
 
__™t_couÁ”_šc_d–
(
__™t_couÁ”
 
id
, 
v®ue
);

2878 #iâdeà
INTEL_NO_MACRO_BODY


2879 #iâdeà
INTEL_NO_ITTNOTIFY_API


2880 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_d–
, (
__™t_couÁ”
 
id
, 
v®ue
))

2881 
	#__™t_couÁ”_šc_d–
 
	`ITTNOTIFY_VOID
(
couÁ”_šc_d–
)

	)

2882 
	#__™t_couÁ”_šc_d–_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_šc_d–
)

	)

2884 
	#__™t_couÁ”_šc_d–
(
id
, 
v®ue
)

	)

2885 
	#__™t_couÁ”_šc_d–_±r
 0

	)

2888 
	#__™t_couÁ”_šc_d–_±r
 0

	)

2897 
ITTAPI
 
__™t_couÁ”_dec
(
__™t_couÁ”
 
id
);

2899 #iâdeà
INTEL_NO_MACRO_BODY


2900 #iâdeà
INTEL_NO_ITTNOTIFY_API


2901 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec
, (
__™t_couÁ”
 
id
))

2902 
	#__™t_couÁ”_dec
 
	`ITTNOTIFY_VOID
(
couÁ”_dec
)

	)

2903 
	#__™t_couÁ”_dec_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_dec
)

	)

2905 
	#__™t_couÁ”_dec
(
id
)

	)

2906 
	#__™t_couÁ”_dec_±r
 0

	)

2909 
	#__™t_couÁ”_dec_±r
 0

	)

2917 
ITTAPI
 
__™t_couÁ”_dec_d–
(
__™t_couÁ”
 
id
, 
v®ue
);

2919 #iâdeà
INTEL_NO_MACRO_BODY


2920 #iâdeà
INTEL_NO_ITTNOTIFY_API


2921 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_d–
, (
__™t_couÁ”
 
id
, 
v®ue
))

2922 
	#__™t_couÁ”_dec_d–
 
	`ITTNOTIFY_VOID
(
couÁ”_dec_d–
)

	)

2923 
	#__™t_couÁ”_dec_d–_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_dec_d–
)

	)

2925 
	#__™t_couÁ”_dec_d–
(
id
, 
v®ue
)

	)

2926 
	#__™t_couÁ”_dec_d–_±r
 0

	)

2929 
	#__™t_couÁ”_dec_d–_±r
 0

	)

2942 
ITTAPI
 
__™t_couÁ”_šc_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
);

2952 
ITTAPI
 
__™t_couÁ”_šc_d–_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
d–
);

2954 #iâdeà
INTEL_NO_MACRO_BODY


2955 #iâdeà
INTEL_NO_ITTNOTIFY_API


2956 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
))

2957 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_d–_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
d–
))

2958 
	#__™t_couÁ”_šc_v3
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
couÁ”_šc_v3
,d,x)

	)

2959 
	#__™t_couÁ”_šc_v3_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_šc_v3
)

	)

2960 
	#__™t_couÁ”_šc_d–_v3
(
d
,
x
,
y
è
	`ITTNOTIFY_VOID_D2
(
couÁ”_šc_d–_v3
,d,x,y)

	)

2961 
	#__™t_couÁ”_šc_d–_v3_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_šc_d–_v3
)

	)

2963 
	#__™t_couÁ”_šc_v3
(
domaš
,
Çme
)

	)

2964 
	#__™t_couÁ”_šc_v3_±r
 0

	)

2965 
	#__™t_couÁ”_šc_d–_v3
(
domaš
,
Çme
,
d–
)

	)

2966 
	#__™t_couÁ”_šc_d–_v3_±r
 0

	)

2969 
	#__™t_couÁ”_šc_v3_±r
 0

	)

2970 
	#__™t_couÁ”_šc_d–_v3_±r
 0

	)

2984 
ITTAPI
 
__™t_couÁ”_dec_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
);

2994 
ITTAPI
 
__™t_couÁ”_dec_d–_v3
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
d–
);

2996 #iâdeà
INTEL_NO_MACRO_BODY


2997 #iâdeà
INTEL_NO_ITTNOTIFY_API


2998 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
))

2999 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_d–_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
d–
))

3000 
	#__™t_couÁ”_dec_v3
(
d
,
x
è
	`ITTNOTIFY_VOID_D1
(
couÁ”_dec_v3
,d,x)

	)

3001 
	#__™t_couÁ”_dec_v3_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_dec_v3
)

	)

3002 
	#__™t_couÁ”_dec_d–_v3
(
d
,
x
,
y
è
	`ITTNOTIFY_VOID_D2
(
couÁ”_dec_d–_v3
,d,x,y)

	)

3003 
	#__™t_couÁ”_dec_d–_v3_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_dec_d–_v3
)

	)

3005 
	#__™t_couÁ”_dec_v3
(
domaš
,
Çme
)

	)

3006 
	#__™t_couÁ”_dec_v3_±r
 0

	)

3007 
	#__™t_couÁ”_dec_d–_v3
(
domaš
,
Çme
,
d–
)

	)

3008 
	#__™t_couÁ”_dec_d–_v3_±r
 0

	)

3011 
	#__™t_couÁ”_dec_v3_±r
 0

	)

3012 
	#__™t_couÁ”_dec_d–_v3_±r
 0

	)

3022 
ITTAPI
 
__™t_couÁ”_£t_v®ue
(
__™t_couÁ”
 
id
, *
v®ue_±r
);

3024 #iâdeà
INTEL_NO_MACRO_BODY


3025 #iâdeà
INTEL_NO_ITTNOTIFY_API


3026 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_£t_v®ue
, (
__™t_couÁ”
 
id
, *
v®ue_±r
))

3027 
	#__™t_couÁ”_£t_v®ue
 
	`ITTNOTIFY_VOID
(
couÁ”_£t_v®ue
)

	)

3028 
	#__™t_couÁ”_£t_v®ue_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_£t_v®ue
)

	)

3030 
	#__™t_couÁ”_£t_v®ue
(
id
, 
v®ue_±r
)

	)

3031 
	#__™t_couÁ”_£t_v®ue_±r
 0

	)

3034 
	#__™t_couÁ”_£t_v®ue_±r
 0

	)

3041 
ITTAPI
 
__™t_couÁ”_£t_v®ue_ex
(
__™t_couÁ”
 
id
, 
__™t_şock_domaš
 *
şock_domaš
, 
time¡amp
, *
v®ue_±r
);

3044 #iâdeà
INTEL_NO_MACRO_BODY


3045 #iâdeà
INTEL_NO_ITTNOTIFY_API


3046 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_£t_v®ue_ex
, (
__™t_couÁ”
 
id
, 
__™t_şock_domaš
 *
şock_domaš
, 
time¡amp
, *
v®ue_±r
))

3047 
	#__™t_couÁ”_£t_v®ue_ex
 
	`ITTNOTIFY_VOID
(
couÁ”_£t_v®ue_ex
)

	)

3048 
	#__™t_couÁ”_£t_v®ue_ex_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_£t_v®ue_ex
)

	)

3050 
	#__™t_couÁ”_£t_v®ue_ex
(
id
, 
şock_domaš
, 
time¡amp
, 
v®ue_±r
)

	)

3051 
	#__™t_couÁ”_£t_v®ue_ex_±r
 0

	)

3054 
	#__™t_couÁ”_£t_v®ue_ex_±r
 0

	)

3065 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3066 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹_ty³dA
(cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
);

3067 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹_ty³dW
(cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
);

3068 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3069 
	#__™t_couÁ”_ü—‹_ty³d
 
__™t_couÁ”_ü—‹_ty³dW


	)

3070 
	#__™t_couÁ”_ü—‹_ty³d_±r
 
__™t_couÁ”_ü—‹_ty³dW_±r


	)

3072 
	#__™t_couÁ”_ü—‹_ty³d
 
__™t_couÁ”_ü—‹_ty³dA


	)

3073 
	#__™t_couÁ”_ü—‹_ty³d_±r
 
__™t_couÁ”_ü—‹_ty³dA_±r


	)

3076 
__™t_couÁ”
 
ITTAPI
 
__™t_couÁ”_ü—‹_ty³d
(cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
);

3079 #iâdeà
INTEL_NO_MACRO_BODY


3080 #iâdeà
INTEL_NO_ITTNOTIFY_API


3081 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3082 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³dA
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
))

3083 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³dW
, (cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
))

3085 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³d
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
))

3087 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3088 
	#__™t_couÁ”_ü—‹_ty³dA
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹_ty³dA
)

	)

3089 
	#__™t_couÁ”_ü—‹_ty³dA_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dA
)

	)

3090 
	#__™t_couÁ”_ü—‹_ty³dW
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹_ty³dW
)

	)

3091 
	#__™t_couÁ”_ü—‹_ty³dW_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dW
)

	)

3093 
	#__™t_couÁ”_ü—‹_ty³d
 
	`ITTNOTIFY_DATA
(
couÁ”_ü—‹_ty³d
)

	)

3094 
	#__™t_couÁ”_ü—‹_ty³d_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³d
)

	)

3097 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3098 
	#__™t_couÁ”_ü—‹_ty³dA
(
Çme
, 
domaš
, 
ty³
)

	)

3099 
	#__™t_couÁ”_ü—‹_ty³dA_±r
 0

	)

3100 
	#__™t_couÁ”_ü—‹_ty³dW
(
Çme
, 
domaš
, 
ty³
)

	)

3101 
	#__™t_couÁ”_ü—‹_ty³dW_±r
 0

	)

3103 
	#__™t_couÁ”_ü—‹_ty³d
(
Çme
, 
domaš
, 
ty³
)

	)

3104 
	#__™t_couÁ”_ü—‹_ty³d_±r
 0

	)

3108 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3109 
	#__™t_couÁ”_ü—‹_ty³dA_±r
 0

	)

3110 
	#__™t_couÁ”_ü—‹_ty³dW_±r
 0

	)

3112 
	#__™t_couÁ”_ü—‹_ty³d_±r
 0

	)

3121 
ITTAPI
 
__™t_couÁ”_de¡roy
(
__™t_couÁ”
 
id
);

3123 #iâdeà
INTEL_NO_MACRO_BODY


3124 #iâdeà
INTEL_NO_ITTNOTIFY_API


3125 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_de¡roy
, (
__™t_couÁ”
 
id
))

3126 
	#__™t_couÁ”_de¡roy
 
	`ITTNOTIFY_VOID
(
couÁ”_de¡roy
)

	)

3127 
	#__™t_couÁ”_de¡roy_±r
 
	`ITTNOTIFY_NAME
(
couÁ”_de¡roy
)

	)

3129 
	#__™t_couÁ”_de¡roy
(
id
)

	)

3130 
	#__™t_couÁ”_de¡roy_±r
 0

	)

3133 
	#__™t_couÁ”_de¡roy_±r
 0

	)

3148 
ITTAPI
 
__™t_m¬k”_ex
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
);

3151 #iâdeà
INTEL_NO_MACRO_BODY


3152 #iâdeà
INTEL_NO_ITTNOTIFY_API


3153 
ITT_STUBV
(
ITTAPI
, , 
m¬k”_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
))

3154 
	#__™t_m¬k”_ex
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
m¬k”_ex
,d,x,y,z,a,b)

	)

3155 
	#__™t_m¬k”_ex_±r
 
	`ITTNOTIFY_NAME
(
m¬k”_ex
)

	)

3157 
	#__™t_m¬k”_ex
(
domaš
,
şock_domaš
,
time¡amp
,
id
,
Çme
,
scİe
)

	)

3158 
	#__™t_m¬k”_ex_±r
 0

	)

3161 
	#__™t_m¬k”_ex_±r
 0

	)

3175 
ITTAPI
 
__™t_»ÏtiÚ_add_to_cu¼’t_ex
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

);

3187 
ITTAPI
 
__™t_»ÏtiÚ_add_ex
(cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

);

3190 #iâdeà
INTEL_NO_MACRO_BODY


3191 #iâdeà
INTEL_NO_ITTNOTIFY_API


3192 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_to_cu¼’t_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

))

3193 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

))

3194 
	#__™t_»ÏtiÚ_add_to_cu¼’t_ex
(
d
,
x
,
y
,
z
,
a
è
	`ITTNOTIFY_VOID_D4
(
»ÏtiÚ_add_to_cu¼’t_ex
,d,x,y,z,a)

	)

3195 
	#__™t_»ÏtiÚ_add_to_cu¼’t_ex_±r
 
	`ITTNOTIFY_NAME
(
»ÏtiÚ_add_to_cu¼’t_ex
)

	)

3196 
	#__™t_»ÏtiÚ_add_ex
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
»ÏtiÚ_add_ex
,d,x,y,z,a,b)

	)

3197 
	#__™t_»ÏtiÚ_add_ex_±r
 
	`ITTNOTIFY_NAME
(
»ÏtiÚ_add_ex
)

	)

3199 
	#__™t_»ÏtiÚ_add_to_cu¼’t_ex
(
domaš
,
şock_domaš
,
time¡amp
,
»ÏtiÚ
,

)

	)

3200 
	#__™t_»ÏtiÚ_add_to_cu¼’t_ex_±r
 0

	)

3201 
	#__™t_»ÏtiÚ_add_ex
(
domaš
,
şock_domaš
,
time¡amp
,
h—d
,
»ÏtiÚ
,

)

	)

3202 
	#__™t_»ÏtiÚ_add_ex_±r
 0

	)

3205 
	#__™t_»ÏtiÚ_add_to_cu¼’t_ex_±r
 0

	)

3206 
	#__™t_»ÏtiÚ_add_ex_±r
 0

	)

3211 
	e___™t_Œack_group_ty³


3213 
__™t_Œack_group_ty³_nÜm®
 = 0

3214 } 
	t__™t_Œack_group_ty³
;

3218 #´agm¨
·ck
(
push
, 8)

3220 
	s___™t_Œack_group


3222 
__™t_¡ršg_hªdË
* 
Çme
;

3223 
___™t_Œack
* 
Œack
;

3224 
__™t_Œack_group_ty³
 
tgty³
;

3225 
exŒa1
;

3226 * 
exŒa2
;

3227 
___™t_Œack_group
* 
Ãxt
;

3228 } 
	t__™t_Œack_group
;

3230 #´agm¨
·ck
(
pİ
)

3237 
	e___™t_Œack_ty³


3239 
__™t_Œack_ty³_nÜm®
 = 0

3240 #ifdeà
INTEL_ITTNOTIFY_API_PRIVATE


3241 , 
__™t_Œack_ty³_queue


3243 } 
	t__™t_Œack_ty³
;

3246 #´agm¨
·ck
(
push
, 8)

3248 
	s___™t_Œack


3250 
__™t_¡ršg_hªdË
* 
Çme
;

3251 
__™t_Œack_group
* 
group
;

3252 
__™t_Œack_ty³
 
‰y³
;

3253 
exŒa1
;

3254 * 
exŒa2
;

3255 
___™t_Œack
* 
Ãxt
;

3256 } 
	t__™t_Œack
;

3258 #´agm¨
·ck
(
pİ
)

3264 
__™t_Œack_group
* 
ITTAPI
 
__™t_Œack_group_ü—‹
(
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_group_ty³
 
Œack_group_ty³
);

3267 #iâdeà
INTEL_NO_MACRO_BODY


3268 #iâdeà
INTEL_NO_ITTNOTIFY_API


3269 
ITT_STUB
(
ITTAPI
, 
__™t_Œack_group
*, 
Œack_group_ü—‹
, (
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_group_ty³
 
Œack_group_ty³
))

3270 
	#__™t_Œack_group_ü—‹
 
	`ITTNOTIFY_DATA
(
Œack_group_ü—‹
)

	)

3271 
	#__™t_Œack_group_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
Œack_group_ü—‹
)

	)

3273 
	#__™t_Œack_group_ü—‹
(
Çme
è(
__™t_Œack_group
*)0

	)

3274 
	#__™t_Œack_group_ü—‹_±r
 0

	)

3277 
	#__™t_Œack_group_ü—‹_±r
 0

	)

3284 
__™t_Œack
* 
ITTAPI
 
__™t_Œack_ü—‹
(
__™t_Œack_group
* 
Œack_group
, 
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_ty³
 
Œack_ty³
);

3287 #iâdeà
INTEL_NO_MACRO_BODY


3288 #iâdeà
INTEL_NO_ITTNOTIFY_API


3289 
ITT_STUB
(
ITTAPI
, 
__™t_Œack
*, 
Œack_ü—‹
, (
__™t_Œack_group
* 
Œack_group
,
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_ty³
 
Œack_ty³
))

3290 
	#__™t_Œack_ü—‹
 
	`ITTNOTIFY_DATA
(
Œack_ü—‹
)

	)

3291 
	#__™t_Œack_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
Œack_ü—‹
)

	)

3293 
	#__™t_Œack_ü—‹
(
Œack_group
,
Çme
,
Œack_ty³
è(
__™t_Œack
*)0

	)

3294 
	#__™t_Œack_ü—‹_±r
 0

	)

3297 
	#__™t_Œack_ü—‹_±r
 0

	)

3304 
ITTAPI
 
__™t_£t_Œack
(
__™t_Œack
* 
Œack
);

3307 #iâdeà
INTEL_NO_MACRO_BODY


3308 #iâdeà
INTEL_NO_ITTNOTIFY_API


3309 
ITT_STUBV
(
ITTAPI
, , 
£t_Œack
, (
__™t_Œack
 *
Œack
))

3310 
	#__™t_£t_Œack
 
	`ITTNOTIFY_VOID
(
£t_Œack
)

	)

3311 
	#__™t_£t_Œack_±r
 
	`ITTNOTIFY_NAME
(
£t_Œack
)

	)

3313 
	#__™t_£t_Œack
(
Œack
)

	)

3314 
	#__™t_£t_Œack_±r
 0

	)

3317 
	#__™t_£t_Œack_±r
 0

	)

3330 
	t__™t_ev’t
;

3337 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3338 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹A
(cÚ¡ *
Çme
, 
Çm–’
);

3339 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
);

3340 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3341 
	#__™t_ev’t_ü—‹
 
__™t_ev’t_ü—‹W


	)

3342 
	#__™t_ev’t_ü—‹_±r
 
__™t_ev’t_ü—‹W_±r


	)

3344 
	#__™t_ev’t_ü—‹
 
__™t_ev’t_ü—‹A


	)

3345 
	#__™t_ev’t_ü—‹_±r
 
__™t_ev’t_ü—‹A_±r


	)

3348 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹
(cÚ¡ *
Çme
, 
Çm–’
);

3352 #iâdeà
INTEL_NO_MACRO_BODY


3353 #iâdeà
INTEL_NO_ITTNOTIFY_API


3354 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3355 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹A
, (cÚ¡ *
Çme
, 
Çm–’
))

3356 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
))

3358 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹
, (cÚ¡ *
Çme
, 
Çm–’
))

3360 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3361 
	#__™t_ev’t_ü—‹A
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹A
)

	)

3362 
	#__™t_ev’t_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹A
)

	)

3363 
	#__™t_ev’t_ü—‹W
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹W
)

	)

3364 
	#__™t_ev’t_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹W
)

	)

3366 
	#__™t_ev’t_ü—‹
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹
)

	)

3367 
	#__™t_ev’t_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹
)

	)

3370 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3371 
	#__™t_ev’t_ü—‹A
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

3372 
	#__™t_ev’t_ü—‹A_±r
 0

	)

3373 
	#__™t_ev’t_ü—‹W
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

3374 
	#__™t_ev’t_ü—‹W_±r
 0

	)

3376 
	#__™t_ev’t_ü—‹
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

3377 
	#__™t_ev’t_ü—‹_±r
 0

	)

3381 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3382 
	#__™t_ev’t_ü—‹A_±r
 0

	)

3383 
	#__™t_ev’t_ü—‹W_±r
 0

	)

3385 
	#__™t_ev’t_ü—‹_±r
 0

	)

3394 
LIBITTAPI
 
__™t_ev’t_¡¬t
(
__™t_ev’t
 
ev’t
);

3397 #iâdeà
INTEL_NO_MACRO_BODY


3398 #iâdeà
INTEL_NO_ITTNOTIFY_API


3399 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_¡¬t
, (
__™t_ev’t
 
ev’t
))

3400 
	#__™t_ev’t_¡¬t
 
	`ITTNOTIFY_DATA
(
ev’t_¡¬t
)

	)

3401 
	#__™t_ev’t_¡¬t_±r
 
	`ITTNOTIFY_NAME
(
ev’t_¡¬t
)

	)

3403 
	#__™t_ev’t_¡¬t
(
ev’t
è()0

	)

3404 
	#__™t_ev’t_¡¬t_±r
 0

	)

3407 
	#__™t_ev’t_¡¬t_±r
 0

	)

3416 
LIBITTAPI
 
__™t_ev’t_’d
(
__™t_ev’t
 
ev’t
);

3419 #iâdeà
INTEL_NO_MACRO_BODY


3420 #iâdeà
INTEL_NO_ITTNOTIFY_API


3421 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_’d
, (
__™t_ev’t
 
ev’t
))

3422 
	#__™t_ev’t_’d
 
	`ITTNOTIFY_DATA
(
ev’t_’d
)

	)

3423 
	#__™t_ev’t_’d_±r
 
	`ITTNOTIFY_NAME
(
ev’t_’d
)

	)

3425 
	#__™t_ev’t_’d
(
ev’t
è()0

	)

3426 
	#__™t_ev’t_’d_±r
 0

	)

3429 
	#__™t_ev’t_’d_±r
 0

	)

3448 
__™t_e_fœ¡
 = 0,

3449 
__™t_e_ch¬
 = 0,

3450 
__™t_e_uch¬
,

3451 
__™t_e_št16
,

3452 
__™t_e_ušt16
,

3453 
__™t_e_št32
,

3454 
__™t_e_ušt32
,

3455 
__™t_e_št64
,

3456 
__™t_e_ušt64
,

3457 
__™t_e_æßt
,

3458 
__™t_e_doubË
,

3459 
__™t_e_Ï¡
 = 
__™t_e_doubË


3460 } 
	t__™t_av_d©a_ty³
;

3475 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3476 
ITTAPI
 
__™t_av_§veA
(*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
);

3477 
ITTAPI
 
__™t_av_§veW
(*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ 
wch¬_t
 *
feP©h
, 
cŞumnOrd”
);

3478 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3479 
	#__™t_av_§ve
 
__™t_av_§veW


	)

3480 
	#__™t_av_§ve_±r
 
__™t_av_§veW_±r


	)

3482 
	#__™t_av_§ve
 
__™t_av_§veA


	)

3483 
	#__™t_av_§ve_±r
 
__™t_av_§veA_±r


	)

3486 
ITTAPI
 
__™t_av_§ve
(*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
);

3490 #iâdeà
INTEL_NO_MACRO_BODY


3491 #iâdeà
INTEL_NO_ITTNOTIFY_API


3492 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3493 
ITT_STUB
(
ITTAPI
, , 
av_§veA
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
))

3494 
ITT_STUB
(
ITTAPI
, , 
av_§veW
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ 
wch¬_t
 *
feP©h
, 
cŞumnOrd”
))

3496 
ITT_STUB
(
ITTAPI
, , 
av_§ve
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
))

3498 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3499 
	#__™t_av_§veA
 
	`ITTNOTIFY_DATA
(
av_§veA
)

	)

3500 
	#__™t_av_§veA_±r
 
	`ITTNOTIFY_NAME
(
av_§veA
)

	)

3501 
	#__™t_av_§veW
 
	`ITTNOTIFY_DATA
(
av_§veW
)

	)

3502 
	#__™t_av_§veW_±r
 
	`ITTNOTIFY_NAME
(
av_§veW
)

	)

3504 
	#__™t_av_§ve
 
	`ITTNOTIFY_DATA
(
av_§ve
)

	)

3505 
	#__™t_av_§ve_±r
 
	`ITTNOTIFY_NAME
(
av_§ve
)

	)

3508 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3509 
	#__™t_av_§veA
(
Çme
)

	)

3510 
	#__™t_av_§veA_±r
 0

	)

3511 
	#__™t_av_§veW
(
Çme
)

	)

3512 
	#__™t_av_§veW_±r
 0

	)

3514 
	#__™t_av_§ve
(
Çme
)

	)

3515 
	#__™t_av_§ve_±r
 0

	)

3519 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3520 
	#__™t_av_§veA_±r
 0

	)

3521 
	#__™t_av_§veW_±r
 0

	)

3523 
	#__™t_av_§ve_±r
 0

	)

3528 
ITTAPI
 
__™t_’abË_©ch
();

3531 #iâdeà
INTEL_NO_MACRO_BODY


3532 #iâdeà
INTEL_NO_ITTNOTIFY_API


3533 
ITT_STUBV
(
ITTAPI
, , 
’abË_©ch
, ())

3534 
	#__™t_’abË_©ch
 
	`ITTNOTIFY_VOID
(
’abË_©ch
)

	)

3535 
	#__™t_’abË_©ch_±r
 
	`ITTNOTIFY_NAME
(
’abË_©ch
)

	)

3537 
	#__™t_’abË_©ch
()

	)

3538 
	#__™t_’abË_©ch_±r
 0

	)

3541 
	#__™t_’abË_©ch_±r
 0

	)

3558 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3559 
ITTAPI
 
__™t_moduË_lßdA
(*
¡¬t_addr
, *
’d_addr
, cÚ¡ *
·th
);

3560 
ITTAPI
 
__™t_moduË_lßdW
(*
¡¬t_addr
, *
’d_addr
, cÚ¡ 
wch¬_t
 *
·th
);

3561 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3562 
	#__™t_moduË_lßd
 
__™t_moduË_lßdW


	)

3563 
	#__™t_moduË_lßd_±r
 
__™t_moduË_lßdW_±r


	)

3565 
	#__™t_moduË_lßd
 
__™t_moduË_lßdA


	)

3566 
	#__™t_moduË_lßd_±r
 
__™t_moduË_lßdA_±r


	)

3569 
ITTAPI
 
__™t_moduË_lßd
(*
¡¬t_addr
, *
’d_addr
, cÚ¡ *
·th
);

3573 #iâdeà
INTEL_NO_MACRO_BODY


3574 #iâdeà
INTEL_NO_ITTNOTIFY_API


3575 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3576 
ITT_STUB
(
ITTAPI
, , 
moduË_lßdA
, (*
¡¬t_addr
, *
’d_addr
, cÚ¡ *
·th
))

3577 
ITT_STUB
(
ITTAPI
, , 
moduË_lßdW
, (*
¡¬t_addr
, *
’d_addr
, cÚ¡ 
wch¬_t
 *
·th
))

3579 
ITT_STUB
(
ITTAPI
, , 
moduË_lßd
, (*
¡¬t_addr
, *
’d_addr
, cÚ¡ *
·th
))

3581 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3582 
	#__™t_moduË_lßdA
 
	`ITTNOTIFY_VOID
(
moduË_lßdA
)

	)

3583 
	#__™t_moduË_lßdA_±r
 
	`ITTNOTIFY_NAME
(
moduË_lßdA
)

	)

3584 
	#__™t_moduË_lßdW
 
	`ITTNOTIFY_VOID
(
moduË_lßdW
)

	)

3585 
	#__™t_moduË_lßdW_±r
 
	`ITTNOTIFY_NAME
(
moduË_lßdW
)

	)

3587 
	#__™t_moduË_lßd
 
	`ITTNOTIFY_VOID
(
moduË_lßd
)

	)

3588 
	#__™t_moduË_lßd_±r
 
	`ITTNOTIFY_NAME
(
moduË_lßd
)

	)

3591 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3592 
	#__™t_moduË_lßdA
(
¡¬t_addr
, 
’d_addr
, 
·th
)

	)

3593 
	#__™t_moduË_lßdA_±r
 0

	)

3594 
	#__™t_moduË_lßdW
(
¡¬t_addr
, 
’d_addr
, 
·th
)

	)

3595 
	#__™t_moduË_lßdW_±r
 0

	)

3597 
	#__™t_moduË_lßd
(
¡¬t_addr
, 
’d_addr
, 
·th
)

	)

3598 
	#__™t_moduË_lßd_±r
 0

	)

3602 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3603 
	#__™t_moduË_lßdA_±r
 0

	)

3604 
	#__™t_moduË_lßdW_±r
 0

	)

3606 
	#__™t_moduË_lßd_±r
 0

	)

3613 #ifdeà
__ılu¥lus


3619 #ifdeà
INTEL_ITTNOTIFY_API_PRIVATE


3621 #iâdeà
_ITTNOTIFY_PRIVATE_


3622 
	#_ITTNOTIFY_PRIVATE_


	)

3624 #ifdeà
__ılu¥lus


3638 
ITTAPI
 
__™t_sk_begš_ov”Ïµed_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
* 
Çme
);

3648 
ITTAPI
 
__™t_sk_’d_ov”Ïµed_ex
(cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
);

3651 #iâdeà
INTEL_NO_MACRO_BODY


3652 #iâdeà
INTEL_NO_ITTNOTIFY_API


3653 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ov”Ïµed_ex
, (cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
* 
Çme
))

3654 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ov”Ïµed_ex
, (cÚ¡ 
__™t_domaš
* 
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
skid
))

3655 
	#__™t_sk_begš_ov”Ïµed_ex
(
d
,
x
,
y
,
z
,
a
,
b
è
	`ITTNOTIFY_VOID_D5
(
sk_begš_ov”Ïµed_ex
,d,x,y,z,a,b)

	)

3656 
	#__™t_sk_begš_ov”Ïµed_ex_±r
 
	`ITTNOTIFY_NAME
(
sk_begš_ov”Ïµed_ex
)

	)

3657 
	#__™t_sk_’d_ov”Ïµed_ex
(
d
,
x
,
y
,
z
è
	`ITTNOTIFY_VOID_D3
(
sk_’d_ov”Ïµed_ex
,d,x,y,z)

	)

3658 
	#__™t_sk_’d_ov”Ïµed_ex_±r
 
	`ITTNOTIFY_NAME
(
sk_’d_ov”Ïµed_ex
)

	)

3660 
	#__™t_sk_begš_ov”Ïµed_ex
(
domaš
,
şock_domaš
,
time¡amp
,
skid
,
·»Áid
,
Çme
)

	)

3661 
	#__™t_sk_begš_ov”Ïµed_ex_±r
 0

	)

3662 
	#__™t_sk_’d_ov”Ïµed_ex
(
domaš
,
şock_domaš
,
time¡amp
,
skid
)

	)

3663 
	#__™t_sk_’d_ov”Ïµed_ex_±r
 0

	)

3666 
	#__™t_sk_begš_ov”Ïµed_ex_±r
 0

	)

3667 
	#__™t_sk_’d_ov”Ïµed_±r
 0

	)

3668 
	#__™t_sk_’d_ov”Ïµed_ex_±r
 0

	)

3682 
	t__™t_m¬k_ty³
;

3689 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3690 
__™t_m¬k_ty³
 
ITTAPI
 
__™t_m¬k_ü—‹A
(cÚ¡ *
Çme
);

3691 
__™t_m¬k_ty³
 
ITTAPI
 
__™t_m¬k_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
);

3692 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3693 
	#__™t_m¬k_ü—‹
 
__™t_m¬k_ü—‹W


	)

3694 
	#__™t_m¬k_ü—‹_±r
 
__™t_m¬k_ü—‹W_±r


	)

3696 
	#__™t_m¬k_ü—‹
 
__™t_m¬k_ü—‹A


	)

3697 
	#__™t_m¬k_ü—‹_±r
 
__™t_m¬k_ü—‹A_±r


	)

3700 
__™t_m¬k_ty³
 
ITTAPI
 
__™t_m¬k_ü—‹
(cÚ¡ *
Çme
);

3704 #iâdeà
INTEL_NO_MACRO_BODY


3705 #iâdeà
INTEL_NO_ITTNOTIFY_API


3706 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3707 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹A
, (cÚ¡ *
Çme
))

3708 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
))

3710 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹
, (cÚ¡ *
Çme
))

3712 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3713 
	#__™t_m¬k_ü—‹A
 
	`ITTNOTIFY_DATA
(
m¬k_ü—‹A
)

	)

3714 
	#__™t_m¬k_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
m¬k_ü—‹A
)

	)

3715 
	#__™t_m¬k_ü—‹W
 
	`ITTNOTIFY_DATA
(
m¬k_ü—‹W
)

	)

3716 
	#__™t_m¬k_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
m¬k_ü—‹W
)

	)

3718 
	#__™t_m¬k_ü—‹
 
	`ITTNOTIFY_DATA
(
m¬k_ü—‹
)

	)

3719 
	#__™t_m¬k_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
m¬k_ü—‹
)

	)

3722 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3723 
	#__™t_m¬k_ü—‹A
(
Çme
è(
__™t_m¬k_ty³
)0

	)

3724 
	#__™t_m¬k_ü—‹A_±r
 0

	)

3725 
	#__™t_m¬k_ü—‹W
(
Çme
è(
__™t_m¬k_ty³
)0

	)

3726 
	#__™t_m¬k_ü—‹W_±r
 0

	)

3728 
	#__™t_m¬k_ü—‹
(
Çme
è(
__™t_m¬k_ty³
)0

	)

3729 
	#__™t_m¬k_ü—‹_±r
 0

	)

3733 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3734 
	#__™t_m¬k_ü—‹A_±r
 0

	)

3735 
	#__™t_m¬k_ü—‹W_±r
 0

	)

3737 
	#__™t_m¬k_ü—‹_±r
 0

	)

3754 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3755 
ITTAPI
 
__™t_m¬kA
(
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
);

3756 
ITTAPI
 
__™t_m¬kW
(
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
);

3757 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3758 
	#__™t_m¬k
 
__™t_m¬kW


	)

3759 
	#__™t_m¬k_±r
 
__™t_m¬kW_±r


	)

3761 
	#__™t_m¬k
 
__™t_m¬kA


	)

3762 
	#__™t_m¬k_±r
 
__™t_m¬kA_±r


	)

3765 
ITTAPI
 
__™t_m¬k
(
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
);

3769 #iâdeà
INTEL_NO_MACRO_BODY


3770 #iâdeà
INTEL_NO_ITTNOTIFY_API


3771 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3772 
ITT_STUB
(
ITTAPI
, , 
m¬kA
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
))

3773 
ITT_STUB
(
ITTAPI
, , 
m¬kW
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
))

3775 
ITT_STUB
(
ITTAPI
, , 
m¬k
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
))

3777 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3778 
	#__™t_m¬kA
 
	`ITTNOTIFY_DATA
(
m¬kA
)

	)

3779 
	#__™t_m¬kA_±r
 
	`ITTNOTIFY_NAME
(
m¬kA
)

	)

3780 
	#__™t_m¬kW
 
	`ITTNOTIFY_DATA
(
m¬kW
)

	)

3781 
	#__™t_m¬kW_±r
 
	`ITTNOTIFY_NAME
(
m¬kW
)

	)

3783 
	#__™t_m¬k
 
	`ITTNOTIFY_DATA
(
m¬k
)

	)

3784 
	#__™t_m¬k_±r
 
	`ITTNOTIFY_NAME
(
m¬k
)

	)

3787 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3788 
	#__™t_m¬kA
(
mt
, 
·¿m‘”
è()0

	)

3789 
	#__™t_m¬kA_±r
 0

	)

3790 
	#__™t_m¬kW
(
mt
, 
·¿m‘”
è()0

	)

3791 
	#__™t_m¬kW_±r
 0

	)

3793 
	#__™t_m¬k
(
mt
, 
·¿m‘”
è()0

	)

3794 
	#__™t_m¬k_±r
 0

	)

3798 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3799 
	#__™t_m¬kA_±r
 0

	)

3800 
	#__™t_m¬kW_±r
 0

	)

3802 
	#__™t_m¬k_±r
 0

	)

3812 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3813 
ITTAPI
 
__™t_m¬k_glob®A
(
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
);

3814 
ITTAPI
 
__™t_m¬k_glob®W
(
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
);

3815 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

3816 
	#__™t_m¬k_glob®
 
__™t_m¬k_glob®W


	)

3817 
	#__™t_m¬k_glob®_±r
 
__™t_m¬k_glob®W_±r


	)

3819 
	#__™t_m¬k_glob®
 
__™t_m¬k_glob®A


	)

3820 
	#__™t_m¬k_glob®_±r
 
__™t_m¬k_glob®A_±r


	)

3823 
ITTAPI
 
__™t_m¬k_glob®
(
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
);

3827 #iâdeà
INTEL_NO_MACRO_BODY


3828 #iâdeà
INTEL_NO_ITTNOTIFY_API


3829 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3830 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®A
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
))

3831 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®W
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
))

3833 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
))

3835 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3836 
	#__™t_m¬k_glob®A
 
	`ITTNOTIFY_DATA
(
m¬k_glob®A
)

	)

3837 
	#__™t_m¬k_glob®A_±r
 
	`ITTNOTIFY_NAME
(
m¬k_glob®A
)

	)

3838 
	#__™t_m¬k_glob®W
 
	`ITTNOTIFY_DATA
(
m¬k_glob®W
)

	)

3839 
	#__™t_m¬k_glob®W_±r
 
	`ITTNOTIFY_NAME
(
m¬k_glob®W
)

	)

3841 
	#__™t_m¬k_glob®
 
	`ITTNOTIFY_DATA
(
m¬k_glob®
)

	)

3842 
	#__™t_m¬k_glob®_±r
 
	`ITTNOTIFY_NAME
(
m¬k_glob®
)

	)

3845 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3846 
	#__™t_m¬k_glob®A
(
mt
, 
·¿m‘”
è()0

	)

3847 
	#__™t_m¬k_glob®A_±r
 0

	)

3848 
	#__™t_m¬k_glob®W
(
mt
, 
·¿m‘”
è()0

	)

3849 
	#__™t_m¬k_glob®W_±r
 0

	)

3851 
	#__™t_m¬k_glob®
(
mt
, 
·¿m‘”
è()0

	)

3852 
	#__™t_m¬k_glob®_±r
 0

	)

3856 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


3857 
	#__™t_m¬k_glob®A_±r
 0

	)

3858 
	#__™t_m¬k_glob®W_±r
 0

	)

3860 
	#__™t_m¬k_glob®_±r
 0

	)

3880 
ITTAPI
 
__™t_m¬k_off
(
__™t_m¬k_ty³
 
mt
);

3883 #iâdeà
INTEL_NO_MACRO_BODY


3884 #iâdeà
INTEL_NO_ITTNOTIFY_API


3885 
ITT_STUB
(
ITTAPI
, , 
m¬k_off
, (
__™t_m¬k_ty³
 
mt
))

3886 
	#__™t_m¬k_off
 
	`ITTNOTIFY_DATA
(
m¬k_off
)

	)

3887 
	#__™t_m¬k_off_±r
 
	`ITTNOTIFY_NAME
(
m¬k_off
)

	)

3889 
	#__™t_m¬k_off
(
mt
è()0

	)

3890 
	#__™t_m¬k_off_±r
 0

	)

3893 
	#__™t_m¬k_off_±r
 0

	)

3901 
ITTAPI
 
__™t_m¬k_glob®_off
(
__™t_m¬k_ty³
 
mt
);

3904 #iâdeà
INTEL_NO_MACRO_BODY


3905 #iâdeà
INTEL_NO_ITTNOTIFY_API


3906 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®_off
, (
__™t_m¬k_ty³
 
mt
))

3907 
	#__™t_m¬k_glob®_off
 
	`ITTNOTIFY_DATA
(
m¬k_glob®_off
)

	)

3908 
	#__™t_m¬k_glob®_off_±r
 
	`ITTNOTIFY_NAME
(
m¬k_glob®_off
)

	)

3910 
	#__™t_m¬k_glob®_off
(
mt
è()0

	)

3911 
	#__™t_m¬k_glob®_off_±r
 0

	)

3914 
	#__™t_m¬k_glob®_off_±r
 0

	)

3936 
___™t_ÿÎ”
 *
	t__™t_ÿÎ”
;

3942 
__™t_ÿÎ”
 
ITTAPI
 
__™t_¡ack_ÿÎ”_ü—‹
();

3945 #iâdeà
INTEL_NO_MACRO_BODY


3946 #iâdeà
INTEL_NO_ITTNOTIFY_API


3947 
ITT_STUB
(
ITTAPI
, 
__™t_ÿÎ”
, 
¡ack_ÿÎ”_ü—‹
, ())

3948 
	#__™t_¡ack_ÿÎ”_ü—‹
 
	`ITTNOTIFY_DATA
(
¡ack_ÿÎ”_ü—‹
)

	)

3949 
	#__™t_¡ack_ÿÎ”_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
¡ack_ÿÎ”_ü—‹
)

	)

3951 
	#__™t_¡ack_ÿÎ”_ü—‹
(è(
__™t_ÿÎ”
)0

	)

3952 
	#__™t_¡ack_ÿÎ”_ü—‹_±r
 0

	)

3955 
	#__™t_¡ack_ÿÎ”_ü—‹_±r
 0

	)

3962 
ITTAPI
 
__™t_¡ack_ÿÎ”_de¡roy
(
__™t_ÿÎ”
 
id
);

3965 #iâdeà
INTEL_NO_MACRO_BODY


3966 #iâdeà
INTEL_NO_ITTNOTIFY_API


3967 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ”_de¡roy
, (
__™t_ÿÎ”
 
id
))

3968 
	#__™t_¡ack_ÿÎ”_de¡roy
 
	`ITTNOTIFY_VOID
(
¡ack_ÿÎ”_de¡roy
)

	)

3969 
	#__™t_¡ack_ÿÎ”_de¡roy_±r
 
	`ITTNOTIFY_NAME
(
¡ack_ÿÎ”_de¡roy
)

	)

3971 
	#__™t_¡ack_ÿÎ”_de¡roy
(
id
)

	)

3972 
	#__™t_¡ack_ÿÎ”_de¡roy_±r
 0

	)

3975 
	#__™t_¡ack_ÿÎ”_de¡roy_±r
 0

	)

3983 
ITTAPI
 
__™t_¡ack_ÿÎ“_’‹r
(
__™t_ÿÎ”
 
id
);

3986 #iâdeà
INTEL_NO_MACRO_BODY


3987 #iâdeà
INTEL_NO_ITTNOTIFY_API


3988 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ“_’‹r
, (
__™t_ÿÎ”
 
id
))

3989 
	#__™t_¡ack_ÿÎ“_’‹r
 
	`ITTNOTIFY_VOID
(
¡ack_ÿÎ“_’‹r
)

	)

3990 
	#__™t_¡ack_ÿÎ“_’‹r_±r
 
	`ITTNOTIFY_NAME
(
¡ack_ÿÎ“_’‹r
)

	)

3992 
	#__™t_¡ack_ÿÎ“_’‹r
(
id
)

	)

3993 
	#__™t_¡ack_ÿÎ“_’‹r_±r
 0

	)

3996 
	#__™t_¡ack_ÿÎ“_’‹r_±r
 0

	)

4003 
ITTAPI
 
__™t_¡ack_ÿÎ“_Ëave
(
__™t_ÿÎ”
 
id
);

4006 #iâdeà
INTEL_NO_MACRO_BODY


4007 #iâdeà
INTEL_NO_ITTNOTIFY_API


4008 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ“_Ëave
, (
__™t_ÿÎ”
 
id
))

4009 
	#__™t_¡ack_ÿÎ“_Ëave
 
	`ITTNOTIFY_VOID
(
¡ack_ÿÎ“_Ëave
)

	)

4010 
	#__™t_¡ack_ÿÎ“_Ëave_±r
 
	`ITTNOTIFY_NAME
(
¡ack_ÿÎ“_Ëave
)

	)

4012 
	#__™t_¡ack_ÿÎ“_Ëave
(
id
)

	)

4013 
	#__™t_¡ack_ÿÎ“_Ëave_±r
 0

	)

4016 
	#__™t_¡ack_ÿÎ“_Ëave_±r
 0

	)

4024 
	~<¡d¬g.h
>

4027 
	e__™t_”rÜ_code


4029 
__™t_”rÜ_sucûss
 = 0,

4030 
__™t_”rÜ_no_moduË
 = 1,

4032 
__™t_”rÜ_no_symbŞ
 = 2,

4034 
__™t_”rÜ_unknown_group
 = 3,

4036 
__™t_”rÜ_ÿÁ_»ad_’v
 = 4,

4038 
__™t_”rÜ_’v_too_lÚg
 = 5,

4040 
__™t_”rÜ_sy¡em
 = 6

4042 } 
	t__™t_”rÜ_code
;

4044 (
__™t_”rÜ_hªdËr_t
)(
	t__™t_”rÜ_code
 
	tcode
, 
	tva_li¡
);

4045 
__™t_”rÜ_hªdËr_t
* 
__™t_£t_”rÜ_hªdËr
(__itt_error_handler_t*);

4047 cÚ¡ * 
ITTAPI
 
__™t_­i_v”siÚ
();

4051 #iâdeà
INTEL_NO_MACRO_BODY


4052 #iâdeà
INTEL_NO_ITTNOTIFY_API


4053 
	#__™t_”rÜ_hªdËr
 
	`ITT_JOIN
(
INTEL_ITTNOTIFY_PREFIX
, 
”rÜ_hªdËr
)

	)

4054 
__™t_”rÜ_hªdËr
(
__™t_”rÜ_code
 
code
, 
va_li¡
 
¬gs
);

4055 cÚ¡ 
ITTNOTIFY_NAME
(
”r
);

4056 
	#__™t_”r
 
	`ITTNOTIFY_NAME
(
”r
)

	)

4057 
ITT_STUB
(
ITTAPI
, cÚ¡ *, 
­i_v”siÚ
, ())

4058 
	#__™t_­i_v”siÚ
 
	`ITTNOTIFY_DATA
(
­i_v”siÚ
)

	)

4059 
	#__™t_­i_v”siÚ_±r
 
	`ITTNOTIFY_NAME
(
­i_v”siÚ
)

	)

4061 
	#__™t_­i_v”siÚ
(è(cÚ¡ *)0

	)

4062 
	#__™t_­i_v”siÚ_±r
 0

	)

4065 
	#__™t_­i_v”siÚ_±r
 0

	)

4069 #ifdeà
__ılu¥lus


	@thirdparty/ittnotify/ittnotify_config.h

10 #iâdeà
_ITTNOTIFY_CONFIG_H_


11 
	#_ITTNOTIFY_CONFIG_H_


	)

14 #iâdeà
ITT_OS_WIN


15 
	#ITT_OS_WIN
 1

	)

18 #iâdeà
ITT_OS_LINUX


19 
	#ITT_OS_LINUX
 2

	)

22 #iâdeà
ITT_OS_MAC


23 
	#ITT_OS_MAC
 3

	)

26 #iâdeà
ITT_OS_FREEBSD


27 
	#ITT_OS_FREEBSD
 4

	)

30 #iâdeà
ITT_OS


31 #ià
defšed
 
WIN32
 || defšed 
_WIN32


32 
	#ITT_OS
 
ITT_OS_WIN


	)

33 #–ià
defšed
Ğ
__APPLE__
 ) && defšedĞ
__MACH__
 )

34 
	#ITT_OS
 
ITT_OS_MAC


	)

35 #–ià
defšed
Ğ
__F»eBSD__
 )

36 
	#ITT_OS
 
ITT_OS_FREEBSD


	)

38 
	#ITT_OS
 
ITT_OS_LINUX


	)

42 #iâdeà
ITT_PLATFORM_WIN


43 
	#ITT_PLATFORM_WIN
 1

	)

46 #iâdeà
ITT_PLATFORM_POSIX


47 
	#ITT_PLATFORM_POSIX
 2

	)

50 #iâdeà
ITT_PLATFORM_MAC


51 
	#ITT_PLATFORM_MAC
 3

	)

54 #iâdeà
ITT_PLATFORM_FREEBSD


55 
	#ITT_PLATFORM_FREEBSD
 4

	)

58 #iâdeà
ITT_PLATFORM


59 #ià
ITT_OS
==
ITT_OS_WIN


60 
	#ITT_PLATFORM
 
ITT_PLATFORM_WIN


	)

61 #–ià
ITT_OS
==
ITT_OS_MAC


62 
	#ITT_PLATFORM
 
ITT_PLATFORM_MAC


	)

63 #–ià
ITT_OS
==
ITT_OS_FREEBSD


64 
	#ITT_PLATFORM
 
ITT_PLATFORM_FREEBSD


	)

66 
	#ITT_PLATFORM
 
ITT_PLATFORM_POSIX


	)

70 #ià
defšed
(
_UNICODE
è&& !defšed(
UNICODE
)

71 
	#UNICODE


	)

74 
	~<¡ddef.h
>

75 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


76 
	~<tch¬.h
>

78 
	~<¡dšt.h
>

79 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

80 
	~<wch¬.h
>

84 #iâdeà
ITTAPI_CDECL


85 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


86 
	#ITTAPI_CDECL
 
__cdeş


	)

88 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


89 
	#ITTAPI_CDECL
 
	`__©Œibu‹__
 ((
cdeş
))

	)

91 
	#ITTAPI_CDECL


	)

96 #iâdeà
STDCALL


97 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


98 
	#STDCALL
 
__¡dÿÎ


	)

100 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


101 
	#STDCALL
 
	`__©Œibu‹__
 ((
¡dÿÎ
))

	)

103 
	#STDCALL


	)

108 
	#ITTAPI
 
ITTAPI_CDECL


	)

109 
	#LIBITTAPI
 
ITTAPI_CDECL


	)

112 
	#ITTAPI_CALL
 
ITTAPI_CDECL


	)

113 
	#LIBITTAPI_CALL
 
ITTAPI_CDECL


	)

115 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


117 
	#ITT_INLINE
 
__fÜûšlše


	)

118 
	#ITT_INLINE_ATTRIBUTE


	)

125 #ifdeà
__STRICT_ANSI__


126 
	#ITT_INLINE
 

	)

127 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
unu£d
))

	)

129 
	#ITT_INLINE
 
šlše


	)

130 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
®ways_šlše
, 
unu£d
))

	)

135 #iâdeà
ITT_ARCH_IA32


136 
	#ITT_ARCH_IA32
 1

	)

139 #iâdeà
ITT_ARCH_IA32E


140 
	#ITT_ARCH_IA32E
 2

	)

144 #iâdeà
ITT_ARCH_AARCH64


145 
	#ITT_ARCH_AARCH64
 3

	)

148 #iâdeà
ITT_ARCH_ARM


149 
	#ITT_ARCH_ARM
 4

	)

152 #iâdeà
ITT_ARCH_PPC64


153 
	#ITT_ARCH_PPC64
 5

	)

156 #iâdeà
ITT_ARCH_MIPS


157 
	#ITT_ARCH_MIPS
 6

	)

160 #iâdeà
ITT_ARCH_MIPS64


161 
	#ITT_ARCH_MIPS64
 6

	)

164 #iâdeà
ITT_ARCH_RISCV64


165 
	#ITT_ARCH_RISCV64
 7

	)

168 #iâdeà
ITT_ARCH


169 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


170 
	#ITT_ARCH
 
ITT_ARCH_IA32


	)

171 #–ià
defšed
 
_M_X64
 || defšed 
_M_AMD64
 || defšed 
__x86_64__


172 
	#ITT_ARCH
 
ITT_ARCH_IA32E


	)

173 #–ià
defšed
 
_M_IA64
 || defšed 
__Ÿ64__


174 
	#ITT_ARCH
 
ITT_ARCH_IA64


	)

175 #–ià
defšed
 
_M_ARM
 || defšed 
__¬m__


176 
	#ITT_ARCH
 
ITT_ARCH_ARM


	)

177 #–ià
defšed
 
__pow”pc64__


178 
	#ITT_ARCH
 
ITT_ARCH_PPC64


	)

179 #–ià
defšed
 
__¯rch64__


180 
	#ITT_ARCH
 
ITT_ARCH_AARCH64


	)

181 #–ià
defšed
 
__ms__
 && !defšed 
__ms64


182 
	#ITT_ARCH
 
ITT_ARCH_MIPS


	)

183 #–ià
defšed
 
__ms__
 && defšed 
__ms64


184 
	#ITT_ARCH
 
ITT_ARCH_MIPS64


	)

185 #–ià
defšed
 
__riscv
 && 
__riscv_xËn
 == 64

186 
	#ITT_ARCH
 
ITT_ARCH_RISCV64


	)

190 #ifdeà
__ılu¥lus


191 
	#ITT_EXTERN_C
 "C"

	)

192 
	#ITT_EXTERN_C_BEGIN
 "C" {

	)

193 
	#ITT_EXTERN_C_END
 }

	)

195 
	#ITT_EXTERN_C


	)

196 
	#ITT_EXTERN_C_BEGIN


	)

197 
	#ITT_EXTERN_C_END


	)

200 
	#ITT_TO_STR_AUX
(
x
è#x

	)

201 
	#ITT_TO_STR
(
x
è
	`ITT_TO_STR_AUX
(x)

	)

203 
	#__ITT_BUILD_ASSERT
(
ex´
, 
suffix
) do { \

204 
__™t_bud_check_
##
suffix
[(
ex´
) ? 1 : -1]; \

205 
__™t_bud_check_
##
suffix
[0] = 0; \

206 } 0)

	)

207 
	#_ITT_BUILD_ASSERT
(
ex´
, 
suffix
è
	`__ITT_BUILD_ASSERT
(Óx´), suffix)

	)

208 
	#ITT_BUILD_ASSERT
(
ex´
è
	`_ITT_BUILD_ASSERT
(Óx´), 
__LINE__
)

	)

210 
	#ITT_MAGIC
 { 0xED, 0xAB, 0xAB, 0xEC, 0x0D, 0xEE, 0xDA, 0x30 }

	)

213 
	#API_VERSION_BUILD
 20151119

	)

215 #iâdeà
API_VERSION_NUM


216 
	#API_VERSION_NUM
 0.0.0

	)

219 
	#API_VERSION
 "ITT-API-V”siÚ " 
	`ITT_TO_STR
(
API_VERSION_NUM
) \

220 " (" 
	`ITT_TO_STR
(
API_VERSION_BUILD
è")"

	)

223 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


224 
	~<wšdows.h
>

225 
HMODULE
 
	tlib_t
;

226 
DWORD
 
	tTIDT
;

227 
CRITICAL_SECTION
 
	tmu‹x_t
;

228 
	#MUTEX_INITIALIZER
 { 0 }

	)

229 
	#¡rÚg_®Ÿs
(
Çme
, 
®Ÿ¢ame
è

	)

231 
	~<dlfú.h
>

232 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

233 
	~<wch¬.h
>

235 #iâdeà
_GNU_SOURCE


236 
	#_GNU_SOURCE
 1

	)

238 #iâdeà
__USE_UNIX98


239 
	#__USE_UNIX98
 1

	)

241 
	~<±h»ad.h
>

242 * 
	tlib_t
;

243 
±h»ad_t
 
	tTIDT
;

244 
±h»ad_mu‹x_t
 
	tmu‹x_t
;

245 
	#MUTEX_INITIALIZER
 
PTHREAD_MUTEX_INITIALIZER


	)

246 
	#_¡rÚg_®Ÿs
(
Çme
, 
®Ÿ¢ame
) \

247 
	`__ty³of
 (
Çme
è
®Ÿ¢ame
 
	`__©Œibu‹__
 ((
	`®Ÿs
 (#Çme)));

	)

248 
	#¡rÚg_®Ÿs
(
Çme
, 
®Ÿ¢ame
è
	`_¡rÚg_®Ÿs
Òame,‡lŸ¢ame)

	)

251 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


252 
	#__™t_g‘_´oc
(
lib
, 
Çme
è
	`G‘ProcAdd»ss
Öib,‚ame)

	)

253 
	#__™t_mu‹x_š™
(
mu‹x
è
	`In™ŸlizeCr™iÿlSeùiÚ
(mu‹x)

	)

254 
	#__™t_mu‹x_lock
(
mu‹x
è
	`EÁ”Cr™iÿlSeùiÚ
(mu‹x)

	)

255 
	#__™t_mu‹x_uÆock
(
mu‹x
è
	`L—veCr™iÿlSeùiÚ
(mu‹x)

	)

256 
	#__™t_lßd_lib
(
Çme
è
	`LßdLib¿ryA
Òame)

	)

257 
	#__™t_uÆßd_lib
(
hªdË
è
	`F»eLib¿ry
(hªdË)

	)

258 
	#__™t_sy¡em_”rÜ
(è()
	`G‘La¡E¼Ü
()

	)

259 
	#__™t_f¡rcmp
(
s1
, 
s2
è
	`l¡rcmpA
(s1, s2)

	)

260 
	#__™t_f¡ºËn
(
s
, 
l
è
	`¡ºËn_s
(s,†)

	)

261 
	#__™t_f¡rıyn
(
s1
, 
b
, 
s2
, 
l
è
	`¡ºıy_s
(s1, b, s2,†)

	)

262 
	#__™t_f¡rdup
(
s
è
	`_¡rdup
(s)

	)

263 
	#__™t_th»ad_id
(è
	`G‘Cu¼’tTh»adId
()

	)

264 
	#__™t_th»ad_y›ld
(è
	`Sw™chToTh»ad
()

	)

265 #iâdeà
ITT_SIMPLE_INIT


266 
ITT_INLINE
 

267 
	$__™t_š‹¾ocked_šüem’t
(vŞ©* 
±r
è
ITT_INLINE_ATTRIBUTE
;

268 
ITT_INLINE
 
	$__™t_š‹¾ocked_šüem’t
(vŞ©* 
±r
)

270  
	`IÁ”lockedInüem’t
(
±r
);

271 
	}
}

274 
	#DL_SYMBOLS
 (1)

	)

275 
	#PTHREAD_SYMBOLS
 (1)

	)

278 
	#__™t_g‘_´oc
(
lib
, 
Çme
è
	`dlsym
Öib,‚ame)

	)

279 
	#__™t_mu‹x_š™
(
mu‹x
) {\

280 
±h»ad_mu‹x©Œ_t
 
mu‹x_©Œ
; \

281 
”rÜ_code
 = 
	`±h»ad_mu‹x©Œ_š™
(&
mu‹x_©Œ
); \

282 ià(
”rÜ_code
) \

283 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_sy¡em
, "pthread_mutexattr_init", \

284 
”rÜ_code
); \

285 
”rÜ_code
 = 
	`±h»ad_mu‹x©Œ_£‰y³
(&
mu‹x_©Œ
, \

286 
PTHREAD_MUTEX_RECURSIVE
); \

287 ià(
”rÜ_code
) \

288 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_sy¡em
, "pthread_mutexattr_settype", \

289 
”rÜ_code
); \

290 
”rÜ_code
 = 
	`±h»ad_mu‹x_š™
(
mu‹x
, &
mu‹x_©Œ
); \

291 ià(
”rÜ_code
) \

292 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_sy¡em
, "pthread_mutex_init", \

293 
”rÜ_code
); \

294 
”rÜ_code
 = 
	`±h»ad_mu‹x©Œ_de¡roy
(&
mu‹x_©Œ
); \

295 ià(
”rÜ_code
) \

296 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_sy¡em
, "pthread_mutexattr_destroy", \

297 
”rÜ_code
); \

298 }

	)

299 
	#__™t_mu‹x_lock
(
mu‹x
è
	`±h»ad_mu‹x_lock
(mu‹x)

	)

300 
	#__™t_mu‹x_uÆock
(
mu‹x
è
	`±h»ad_mu‹x_uÆock
(mu‹x)

	)

301 
	#__™t_lßd_lib
(
Çme
è
	`dlİ’
Òame, 
RTLD_LAZY
)

	)

302 
	#__™t_uÆßd_lib
(
hªdË
è
	`dlşo£
(hªdË)

	)

303 
	#__™t_sy¡em_”rÜ
(è
”ºo


	)

304 
	#__™t_f¡rcmp
(
s1
, 
s2
è
	`¡rcmp
(s1, s2)

	)

307 #ifdeà
SDL_STRNLEN_S


308 
	#__™t_f¡ºËn
(
s
, 
l
è
	`SDL_STRNLEN_S
(s,†)

	)

310 
	#__™t_f¡ºËn
(
s
, 
l
è
	`¡¾’
(s)

	)

312 #ifdeà
SDL_STRNCPY_S


313 
	#__™t_f¡rıyn
(
s1
, 
b
, 
s2
, 
l
è
	`SDL_STRNCPY_S
(s1, b, s2,†)

	)

315 
	#__™t_f¡rıyn
(
s1
, 
b
, 
s2
, 
l
è
	`¡ºıy
(s1, s2,†)

	)

318 
	#__™t_f¡rdup
(
s
è
	`¡rdup
(s)

	)

319 
	#__™t_th»ad_id
(è
	`±h»ad_£lf
()

	)

320 
	#__™t_th»ad_y›ld
(è
	`sched_y›ld
()

	)

321 #ià
ITT_ARCH
==
ITT_ARCH_IA64


322 #ifdeà
__INTEL_COMPILER


323 
	#__TBB_machše_ãtchadd4
(
addr
, 
v®
è
	`__ãtchadd4_acq
((*ïddr, v®)

	)

327 #–ià
ITT_ARCH
==
ITT_ARCH_IA32
 || ITT_ARCH==
ITT_ARCH_IA32E


328 
ITT_INLINE
 

329 
	$__TBB_machše_ãtchadd4
(vŞ©* 
±r
, 
add’d
è
ITT_INLINE_ATTRIBUTE
;

330 
ITT_INLINE
 
	$__TBB_machše_ãtchadd4
(vŞ©* 
±r
, 
add’d
)

332 
»suÉ
;

333 
__asm__
 
	`__vŞ©e__
("lock\nxadd %0,%1"

334 : "ô"(
»suÉ
),"=m"(*(vŞ©*)
±r
)

335 : "0"(
add’d
), "m"(*(vŞ©*)
±r
)

337  
»suÉ
;

338 
	}
}

339 #–ià
ITT_ARCH
 =ğ
ITT_ARCH_ARM
 || ITT_ARCH =ğ
ITT_ARCH_PPC64
 || \

340 
	gITT_ARCH
 =ğ
ITT_ARCH_AARCH64
 || 
ITT_ARCH
 =ğ
ITT_ARCH_MIPS
 || \

341 
ITT_ARCH
 =ğ
ITT_ARCH_MIPS64
 || ITT_ARCH =ğ
ITT_ARCH_RISCV64


342 
	#__TBB_machše_ãtchadd4
(
addr
, 
v®
è
	`__sync_ãtch_ªd_add
×ddr, v®)

	)

344 #iâdeà
ITT_SIMPLE_INIT


345 
ITT_INLINE
 

346 
	$__™t_š‹¾ocked_šüem’t
(vŞ©* 
±r
è
ITT_INLINE_ATTRIBUTE
;

347 
ITT_INLINE
 
	$__™t_š‹¾ocked_šüem’t
(vŞ©* 
±r
)

349  
	`__TBB_machše_ãtchadd4
(
±r
, 1) + 1L;

350 
	}
}

353 * 
	$dlİ’
(cÚ¡ *, è
	`__©Œibu‹__
((
w—k
));

354 * 
	$dlsym
(*, cÚ¡ *è
	`__©Œibu‹__
((
w—k
));

355 
	$dlşo£
(*è
	`__©Œibu‹__
((
w—k
));

356 
	#DL_SYMBOLS
 (
dlİ’
 && 
dlsym
 && 
dlşo£
)

	)

358 
	$±h»ad_mu‹x_š™
(
±h»ad_mu‹x_t
*, cÚ¡ 
±h»ad_mu‹x©Œ_t
*è
	`__©Œibu‹__
((
w—k
));

359 
	$±h»ad_mu‹x_lock
(
±h»ad_mu‹x_t
*è
	`__©Œibu‹__
((
w—k
));

360 
	$±h»ad_mu‹x_uÆock
(
±h»ad_mu‹x_t
*è
	`__©Œibu‹__
((
w—k
));

361 
	$±h»ad_mu‹x_de¡roy
(
±h»ad_mu‹x_t
*è
	`__©Œibu‹__
((
w—k
));

362 
	$±h»ad_mu‹x©Œ_š™
(
±h»ad_mu‹x©Œ_t
*è
	`__©Œibu‹__
((
w—k
));

363 
	$±h»ad_mu‹x©Œ_£‰y³
(
±h»ad_mu‹x©Œ_t
*, è
	`__©Œibu‹__
((
w—k
));

364 
	$±h»ad_mu‹x©Œ_de¡roy
(
±h»ad_mu‹x©Œ_t
*è
	`__©Œibu‹__
((
w—k
));

365 
±h»ad_t
 
	$±h»ad_£lf
(è
	`__©Œibu‹__
((
w—k
));

366 
	#PTHREAD_SYMBOLS
 (
±h»ad_mu‹x_š™
 && 
±h»ad_mu‹x_lock
 && 
±h»ad_mu‹x_uÆock
 && 
±h»ad_mu‹x_de¡roy
 && 
±h»ad_mu‹x©Œ_š™
 && 
±h»ad_mu‹x©Œ_£‰y³
 && 
±h»ad_mu‹x©Œ_de¡roy
 && 
±h»ad_£lf
)

	)

371 
__™t_cŞËùiÚ_nÜm®
 = 0,

372 
__™t_cŞËùiÚ_·u£d
 = 1

373 } 
	t__™t_cŞËùiÚ_¡©e
;

376 
__™t_th»ad_nÜm®
 = 0,

377 
__™t_th»ad_ignÜed
 = 1

378 } 
	t__™t_th»ad_¡©e
;

380 #´agm¨
	`·ck
(
push
, 8)

382 
	s___™t_th»ad_šfo


384 cÚ¡ * 
ÇmeA
;

385 #ià
	`defšed
(
UNICODE
è|| defšed(
_UNICODE
)

386 cÚ¡ 
wch¬_t
* 
ÇmeW
;

388 * 
ÇmeW
;

390 
TIDT
 
tid
;

391 
__™t_th»ad_¡©e
 
¡©e
;

392 
exŒa1
;

393 * 
exŒa2
;

394 
___™t_th»ad_šfo
* 
Ãxt
;

395 } 
	t__™t_th»ad_šfo
;

397 
	~"™ŠÙify_ty³s.h
"

399 
	s___™t_­i_šfo_20101001


401 cÚ¡ * 
Çme
;

402 ** 
func_±r
;

403 * 
š™_func
;

404 
__™t_group_id
 
group
;

405 } 
	t__™t_­i_šfo_20101001
;

407 
	s___™t_­i_šfo


409 cÚ¡ * 
Çme
;

410 ** 
func_±r
;

411 * 
š™_func
;

412 * 
nuÎ_func
;

413 
__™t_group_id
 
group
;

414 } 
	t__™t_­i_šfo
;

416 
	s__™t_couÁ”_šfo


418 cÚ¡ * 
ÇmeA
;

419 #ià
	`defšed
(
UNICODE
è|| defšed(
_UNICODE
)

420 cÚ¡ 
wch¬_t
* 
ÇmeW
;

422 * 
ÇmeW
;

424 cÚ¡ * 
domašA
;

425 #ià
	`defšed
(
UNICODE
è|| defšed(
_UNICODE
)

426 cÚ¡ 
wch¬_t
* 
domašW
;

428 * 
domašW
;

430 
ty³
;

431 
šdex
;

432 
exŒa1
;

433 * 
exŒa2
;

434 
__™t_couÁ”_šfo
* 
Ãxt
;

435 } 
	t__™t_couÁ”_šfo_t
;

437 
___™t_domaš
;

438 
___™t_¡ršg_hªdË
;

440 
	s___™t_glob®


442 
magic
[8];

443 
v”siÚ_majÜ
;

444 
v”siÚ_mšÜ
;

445 
v”siÚ_bud
;

446 vŞ©
­i_š™Ÿlized
;

447 vŞ©
mu‹x_š™Ÿlized
;

448 vŞ©
©omic_couÁ”
;

449 
mu‹x_t
 
mu‹x
;

450 
lib_t
 
lib
;

451 * 
”rÜ_hªdËr
;

452 cÚ¡ ** 
dÎ_·th_±r
;

453 
__™t_­i_šfo
* 
­i_li¡_±r
;

454 
___™t_glob®
* 
Ãxt
;

456 
__™t_th»ad_šfo
* 
th»ad_li¡
;

457 
___™t_domaš
* 
domaš_li¡
;

458 
___™t_¡ršg_hªdË
* 
¡ršg_li¡
;

459 
__™t_cŞËùiÚ_¡©e
 
¡©e
;

460 
__™t_couÁ”_šfo_t
* 
couÁ”_li¡
;

461 } 
	t__™t_glob®
;

463 #´agm¨
	`·ck
(
pİ
)

465 
	#NEW_THREAD_INFO_W
(
g±r
,
h
,
h_
,
t
,
s
,
n
) { \

466 
h
 = (
__™t_th»ad_šfo
*)
	`m®loc
((__itt_thread_info)); \

467 ià(
h
 !ğ
NULL
) { \

468 
h
->
tid
 = 
t
; \

469 
h
->
ÇmeA
 = 
NULL
; \

470 
h
->
ÇmeW
 = 
n
 ? 
	`_wcsdup
Òè: 
NULL
; \

471 
h
->
¡©e
 = 
s
; \

472 
h
->
exŒa1
 = 0; \

473 
h
->
exŒa2
 = 
NULL
; \

474 
h
->
Ãxt
 = 
NULL
; \

475 ià(
h_
 =ğ
NULL
) \

476 (
g±r
)->
th»ad_li¡
 = 
h
; \

478 
h_
->
Ãxt
 = 
h
; \

480 
	}

	)
}

482 
	#NEW_THREAD_INFO_A
(
g±r
,
h
,
h_
,
t
,
s
,
n
) { \

483 
h
 = (
__™t_th»ad_šfo
*)
	`m®loc
((__itt_thread_info)); \

484 ià(
h
 !ğ
NULL
) { \

485 
h
->
tid
 = 
t
; \

486 
h
->
ÇmeA
 = 
n
 ? 
	`__™t_f¡rdup
Òè: 
NULL
; \

487 
h
->
ÇmeW
 = 
NULL
; \

488 
h
->
¡©e
 = 
s
; \

489 
h
->
exŒa1
 = 0; \

490 
h
->
exŒa2
 = 
NULL
; \

491 
h
->
Ãxt
 = 
NULL
; \

492 ià(
h_
 =ğ
NULL
) \

493 (
g±r
)->
th»ad_li¡
 = 
h
; \

495 
h_
->
Ãxt
 = 
h
; \

497 }

	)

499 
	#NEW_DOMAIN_W
(
g±r
,
h
,
h_
,
Çme
) { \

500 
h
 = (
__™t_domaš
*)
	`m®loc
((__itt_domain)); \

501 ià(
h
 !ğ
NULL
) { \

502 
h
->
æags
 = 1; \

503 
h
->
ÇmeA
 = 
NULL
; \

504 
h
->
ÇmeW
 = 
Çme
 ? 
	`_wcsdup
Òameè: 
NULL
; \

505 
h
->
exŒa1
 = 0; \

506 
h
->
exŒa2
 = 
NULL
; \

507 
h
->
Ãxt
 = 
NULL
; \

508 ià(
h_
 =ğ
NULL
) \

509 (
g±r
)->
domaš_li¡
 = 
h
; \

511 
h_
->
Ãxt
 = 
h
; \

513 }

	)

515 
	#NEW_DOMAIN_A
(
g±r
,
h
,
h_
,
Çme
) { \

516 
h
 = (
__™t_domaš
*)
	`m®loc
((__itt_domain)); \

517 ià(
h
 !ğ
NULL
) { \

518 
h
->
æags
 = 1; \

519 
h
->
ÇmeA
 = 
Çme
 ? 
	`__™t_f¡rdup
Òameè: 
NULL
; \

520 
h
->
ÇmeW
 = 
NULL
; \

521 
h
->
exŒa1
 = 0; \

522 
h
->
exŒa2
 = 
NULL
; \

523 
h
->
Ãxt
 = 
NULL
; \

524 ià(
h_
 =ğ
NULL
) \

525 (
g±r
)->
domaš_li¡
 = 
h
; \

527 
h_
->
Ãxt
 = 
h
; \

529 }

	)

531 
	#NEW_STRING_HANDLE_W
(
g±r
,
h
,
h_
,
Çme
) { \

532 
h
 = (
__™t_¡ršg_hªdË
*)
	`m®loc
((__itt_string_handle)); \

533 ià(
h
 !ğ
NULL
) { \

534 
h
->
¡rA
 = 
NULL
; \

535 
h
->
¡rW
 = 
Çme
 ? 
	`_wcsdup
Òameè: 
NULL
; \

536 
h
->
exŒa1
 = 0; \

537 
h
->
exŒa2
 = 
NULL
; \

538 
h
->
Ãxt
 = 
NULL
; \

539 ià(
h_
 =ğ
NULL
) \

540 (
g±r
)->
¡ršg_li¡
 = 
h
; \

542 
h_
->
Ãxt
 = 
h
; \

544 }

	)

546 
	#NEW_STRING_HANDLE_A
(
g±r
,
h
,
h_
,
Çme
) { \

547 
h
 = (
__™t_¡ršg_hªdË
*)
	`m®loc
((__itt_string_handle)); \

548 ià(
h
 !ğ
NULL
) { \

549 
h
->
¡rA
 = 
Çme
 ? 
	`__™t_f¡rdup
Òameè: 
NULL
; \

550 
h
->
¡rW
 = 
NULL
; \

551 
h
->
exŒa1
 = 0; \

552 
h
->
exŒa2
 = 
NULL
; \

553 
h
->
Ãxt
 = 
NULL
; \

554 ià(
h_
 =ğ
NULL
) \

555 (
g±r
)->
¡ršg_li¡
 = 
h
; \

557 
h_
->
Ãxt
 = 
h
; \

559 }

	)

561 
	#NEW_COUNTER_W
(
g±r
,
h
,
h_
,
Çme
,
domaš
,
ty³
) { \

562 
h
 = (
__™t_couÁ”_šfo_t
*)
	`m®loc
((__itt_counter_info_t)); \

563 ià(
h
 !ğ
NULL
) { \

564 
h
->
ÇmeA
 = 
NULL
; \

565 
h
->
ÇmeW
 = 
Çme
 ? 
	`_wcsdup
Òameè: 
NULL
; \

566 
h
->
domašA
 = 
NULL
; \

567 
h
->
domašW
 = 
Çme
 ? 
	`_wcsdup
(
domaš
è: 
NULL
; \

568 
h
->
ty³
 =ype; \

569 
h
->
šdex
 = 0; \

570 
h
->
Ãxt
 = 
NULL
; \

571 ià(
h_
 =ğ
NULL
) \

572 (
g±r
)->
couÁ”_li¡
 = 
h
; \

574 
h_
->
Ãxt
 = 
h
; \

576 }

	)

578 
	#NEW_COUNTER_A
(
g±r
,
h
,
h_
,
Çme
,
domaš
,
ty³
) { \

579 
h
 = (
__™t_couÁ”_šfo_t
*)
	`m®loc
((__itt_counter_info_t)); \

580 ià(
h
 !ğ
NULL
) { \

581 
h
->
ÇmeA
 = 
Çme
 ? 
	`__™t_f¡rdup
Òameè: 
NULL
; \

582 
h
->
ÇmeW
 = 
NULL
; \

583 
h
->
domašA
 = 
domaš
 ? 
	`__™t_f¡rdup
(domašè: 
NULL
; \

584 
h
->
domašW
 = 
NULL
; \

585 
h
->
ty³
 =ype; \

586 
h
->
šdex
 = 0; \

587 
h
->
Ãxt
 = 
NULL
; \

588 ià(
h_
 =ğ
NULL
) \

589 (
g±r
)->
couÁ”_li¡
 = 
h
; \

591 
h_
->
Ãxt
 = 
h
; \

593 }

	)

	@thirdparty/ittnotify/ittnotify_static.cpp

10 
	~"kmp_cÚfig.h
"

11 
	~"kmp_os.h
"

12 
	~"™ŠÙify_cÚfig.h
"

14 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


15 #ià
defšed
(
__MINGW32__
)

16 
	~<lim™s.h
>

18 
	#PATH_MAX
 512

	)

21 
	~<lim™s.h
>

22 
	~<dlfú.h
>

23 
	~<”ºo.h
>

25 
	~<¡dio.h
>

26 
	~<¡dlib.h
>

27 
	~<¡d¬g.h
>

28 
	~<¡ršg.h
>

30 
	#INTEL_NO_MACRO_BODY


	)

31 
	#INTEL_ITTNOTIFY_API_PRIVATE


	)

32 
	~"™ŠÙify.h
"

33 
	~"Ëgacy/™ŠÙify.h
"

35 #ià
KMP_MSVC_COMPAT


36 
	~"di§bË_w¬nšgs.h
"

39 cÚ¡ 
	g­i_v”siÚ
[] = 
API_VERSION
 "\0\n@(#) $Revision: 481659 $\n";

41 
	#_N_
(
n
è
	`ITT_JOIN
(
INTEL_ITTNOTIFY_PREFIX
,n)

	)

43 #ià
ITT_OS
==
ITT_OS_WIN


44 cÚ¡ * 
	g™ŠÙify_lib_Çme
 = "libittnotify.dll";

45 #–ià
ITT_OS
==
ITT_OS_LINUX
 || ITT_OS==
ITT_OS_FREEBSD


46 cÚ¡ * 
	g™ŠÙify_lib_Çme
 = "libittnotify.so";

47 #–ià
ITT_OS
==
ITT_OS_MAC


48 cÚ¡ * 
	g™ŠÙify_lib_Çme
 = "libittnotify.dylib";

50 #”rÜ 
UnsuµÜ‹d
 
Ü
 
unknown
 
OS
.

53 #ifdeà
__ANDROID__


54 
	~<ªdroid/log.h
>

55 
	~<¡dio.h
>

56 
	~<uni¡d.h
>

57 
	~<sys/ty³s.h
>

58 
	~<sys/¡©.h
>

59 
	~<fú.h
>

60 
	~<lšux/lim™s.h
>

62 #ifdeà
ITT_ANDROID_LOG


63 
	#ITT_ANDROID_LOG_TAG
 "INTEL_VTUNE_USERAPI"

	)

64 
	#ITT_ANDROID_LOGI
(...è(()
	`__ªdroid_log_´št
(
ANDROID_LOG_INFO
, 
ITT_ANDROID_LOG_TAG
, 
__VA_ARGS__
))

	)

65 
	#ITT_ANDROID_LOGW
(...è(()
	`__ªdroid_log_´št
(
ANDROID_LOG_WARN
, 
ITT_ANDROID_LOG_TAG
, 
__VA_ARGS__
))

	)

66 
	#ITT_ANDROID_LOGE
(...è(()
	`__ªdroid_log_´št
(
ANDROID_LOG_ERROR
,
ITT_ANDROID_LOG_TAG
, 
__VA_ARGS__
))

	)

67 
	#ITT_ANDROID_LOGD
(...è(()
	`__ªdroid_log_´št
(
ANDROID_LOG_DEBUG
,
ITT_ANDROID_LOG_TAG
, 
__VA_ARGS__
))

	)

69 
	#ITT_ANDROID_LOGI
(...)

	)

70 
	#ITT_ANDROID_LOGW
(...)

	)

71 
	#ITT_ANDROID_LOGE
(...)

	)

72 
	#ITT_ANDROID_LOGD
(...)

	)

76 
	#ANDROID_ITTNOTIFY_DEFAULT_PATH_MASK
(
x
) "/data/data/com.intel.vtune/perfrun/lib" \

77 #x "/ruÁime/lib™ŠÙify.so"

	)

79 #ià
ITT_ARCH
==
ITT_ARCH_IA32
 || ITT_ARCH==
ITT_ARCH_ARM


80 
	#ANDROID_ITTNOTIFY_DEFAULT_PATH
 
	`ANDROID_ITTNOTIFY_DEFAULT_PATH_MASK
(32)

	)

82 
	#ANDROID_ITTNOTIFY_DEFAULT_PATH
 
	`ANDROID_ITTNOTIFY_DEFAULT_PATH_MASK
(64)

	)

87 #iâdeà
PATH_MAX


88 
	#PATH_MAX
 4096

	)

92 #iâdeà
LIB_VAR_NAME


93 #ià
ITT_ARCH
==
ITT_ARCH_IA32
 || ITT_ARCH==
ITT_ARCH_ARM
 || ITT_ARCH==
ITT_ARCH_MIPS


94 
	#LIB_VAR_NAME
 
INTEL_LIBITTNOTIFY32


	)

96 
	#LIB_VAR_NAME
 
INTEL_LIBITTNOTIFY64


	)

100 
	#ITT_MUTEX_INIT_AND_LOCK
(
p
) { \

101 ià(
PTHREAD_SYMBOLS
) \

103 ià(!
p
.
mu‹x_š™Ÿlized
) \

105 ià(
	`__™t_š‹¾ocked_šüem’t
(&
p
.
©omic_couÁ”
) == 1) \

107 
	`__™t_mu‹x_š™
(&
p
.
mu‹x
); \

108 
p
.
mu‹x_š™Ÿlized
 = 1; \

111 !
p
.
mu‹x_š™Ÿlized
) \

112 
	`__™t_th»ad_y›ld
(); \

114 
	`__™t_mu‹x_lock
(&
p
.
mu‹x
); \

116 }

	)

118 (
	t__™t_š™_™ib_t
)(cÚ¡ *, 
	t__™t_group_id
);

121 #iâdeà
__™t_š™_™ib_Çme


122 
ITT_EXTERN_C
 
	$_N_
(
š™_™ib
)(cÚ¡ *, 
__™t_group_id
);

123 
__™t_š™_™ib_t
* 
__™t_š™_™ib_±r
 = 
	`_N_
(
š™_™ib
);

124 
	#__™t_š™_™ib_Çme
 
__™t_š™_™ib_±r


	)

127 (
	t__™t_fši_™ib_t
)();

130 #iâdeà
__™t_fši_™ib_Çme


131 
ITT_EXTERN_C
 
	$_N_
(
fši_™ib
)();

132 
__™t_fši_™ib_t
* 
__™t_fši_™ib_±r
 = 
	`_N_
(
fši_™ib
);

133 
	#__™t_fši_™ib_Çme
 
__™t_fši_™ib_±r


	)

137 #undeà
ITT_STUBV


138 #undeà
ITT_STUB


139 
	#ITT_STUB
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
±r
,
group
,
fÜm©
) \

140 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
;\

141 
ty³
 
	t­i
 
	tITT_JOIN
(
	t_N_
(
	tÇme
),
	t_t
è
	t¬gs
; \

142 
ITT_EXTERN_C_BEGIN
 
	`ITT_JOIN
(
	`_N_
(
Çme
),
_t
)* 
	`ITTNOTIFY_NAME
Òameèğ
	`ITT_VERSIONIZE
(ITT_JOIN(_N_Òame),
_š™
)); 
ITT_EXTERN_C_END
 \

143 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
 \

145 
	`__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
); \

146 ià(
	`ITTNOTIFY_NAME
(
Çme
è&& ITTNOTIFY_NAMEÒameè!ğ
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
Òame),
_š™
))) \

147  
	`ITTNOTIFY_NAME
(
Çme
è
·¿ms
; \

149  (
ty³
)0; \

150 
	}

	)
}

152 
	#ITT_STUBV
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
±r
,
group
,
fÜm©
) \

153 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
;\

154 
ty³
 
	t­i
 
	tITT_JOIN
(
	t_N_
(
	tÇme
),
	t_t
è
	t¬gs
; \

155 
ITT_EXTERN_C_BEGIN
 
	`ITT_JOIN
(
	`_N_
(
Çme
),
_t
)* 
	`ITTNOTIFY_NAME
Òameèğ
	`ITT_VERSIONIZE
(ITT_JOIN(_N_Òame),
_š™
)); 
ITT_EXTERN_C_END
 \

156 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
 \

158 
	`__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
); \

159 ià(
	`ITTNOTIFY_NAME
(
Çme
è&& ITTNOTIFY_NAMEÒameè!ğ
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
Òame),
_š™
))) \

160 
	`ITTNOTIFY_NAME
(
Çme
è
·¿ms
; \

163 }

	)

165 #undeà
__ITT_INTERNAL_INIT


166 
	~"™ŠÙify_¡©ic.h
"

168 #undeà
ITT_STUB


169 #undeà
ITT_STUBV


170 
	#ITT_STUB
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
±r
,
group
,
fÜm©
) \

171 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
;\

172 
ty³
 
	t­i
 
	tITT_JOIN
(
	t_N_
(
	tÇme
),
	t_t
è
	t¬gs
; \

173 
ITT_EXTERN_C_BEGIN
 
	`ITT_JOIN
(
	`_N_
(
Çme
),
_t
)* 
	`ITTNOTIFY_NAME
Òameèğ
	`ITT_VERSIONIZE
(ITT_JOIN(_N_Òame),
_š™
)); 
ITT_EXTERN_C_END


	)

175 
	#ITT_STUBV
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
±r
,
group
,
fÜm©
) \

176 
ty³
 
­i
 
	`ITT_VERSIONIZE
(
	`ITT_JOIN
(
	`_N_
(
Çme
),
_š™
)è
¬gs
;\

177 
ty³
 
	t­i
 
	tITT_JOIN
(
	t_N_
(
	tÇme
),
	t_t
è
	t¬gs
; \

178 
ITT_EXTERN_C_BEGIN
 
	`ITT_JOIN
(
	`_N_
(
Çme
),
_t
)* 
	`ITTNOTIFY_NAME
Òameèğ
	`ITT_VERSIONIZE
(ITT_JOIN(_N_Òame),
_š™
)); 
ITT_EXTERN_C_END


	)

180 
	#__ITT_INTERNAL_INIT


	)

181 
	~"™ŠÙify_¡©ic.h
"

182 #undeà
__ITT_INTERNAL_INIT


184 
ITT_GROUP_LIST
(
group_li¡
);

186 #´agm¨
·ck
(
push
, 8)

188 
	s___™t_group_®Ÿs


190 cÚ¡ * 
	m’v_v¬
;

191 
__™t_group_id
 
	mgroups
;

192 } 
	t__™t_group_®Ÿs
;

194 
__™t_group_®Ÿs
 
	ggroup_®Ÿs
[] = {

195 { "KMP_FOR_TPROFILE", (
__™t_group_id
)(
__™t_group_cÚŒŞ
 | 
__™t_group_th»ad
 | 
__™t_group_sync
 | 
__™t_group_m¬k
) },

196 { "KMP_FOR_TCHECK", (
__™t_group_id
)(
__™t_group_cÚŒŞ
 | 
__™t_group_th»ad
 | 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_m¬k
 | 
__™t_group_suµ»ss
) },

197 { 
NULL
, (
__™t_group_nÚe
) },

198 { 
­i_v”siÚ
, (
__™t_group_nÚe
) }

201 #´agm¨
·ck
(
pİ
)

203 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


204 #´agm¨
w¬nšg
(
push
)

205 #´agm¨
w¬nšg
(
di§bË
: 4054)

208 
__™t_­i_šfo
 
	g­i_li¡
[] = {

210 #undeà
ITT_STUB


211 #undeà
ITT_STUBV


212 
	#ITT_STUB
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
ÇmešdÎ
,
group
,
fÜm©
è{ 
	`ITT_TO_STR
(
	`ITT_JOIN
(
__™t_
,ÇmešdÎ)), (**)(*)&
	`ITTNOTIFY_NAME
Òame), (*)(
size_t
)&
	`ITT_VERSIONIZE
(ITT_JOIN(
	`_N_
Òame),
_š™
)), (*)(size_t)&ITT_VERSIONIZE(ITT_JOIN(_N_Òame),_š™)), (
__™t_group_id
)(group)},

	)

213 
	#ITT_STUBV
 
ITT_STUB


	)

214 
	#__ITT_INTERNAL_INIT


	)

215 
	~"™ŠÙify_¡©ic.h
"

216 #undeà
__ITT_INTERNAL_INIT


218 #undeà
ITT_STUB


219 #undeà
ITT_STUBV


220 
	#ITT_STUB
(
­i
,
ty³
,
Çme
,
¬gs
,
·¿ms
,
ÇmešdÎ
,
group
,
fÜm©
è{
	`ITT_TO_STR
(
	`ITT_JOIN
(
__™t_
,ÇmešdÎ)), (**)(*)&
	`ITTNOTIFY_NAME
Òame), (*)(
size_t
)&
	`ITT_VERSIONIZE
(ITT_JOIN(
	`_N_
Òame),
_š™
)), 
NULL
, (
__™t_group_id
)(group)},

	)

221 
	#ITT_STUBV
 
ITT_STUB


	)

222 
	~"™ŠÙify_¡©ic.h
"

223 {
NULL
, NULL, NULL, NULL, 
__™t_group_nÚe
}

226 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


227 #´agm¨
w¬nšg
(
pİ
)

231 
__™t_glob®
 
_N_
(
_™pi_glob®
) = {

232 
ITT_MAGIC
,

233 
ITT_MAJOR
, 
ITT_MINOR
, 
API_VERSION_BUILD
,

237 
MUTEX_INITIALIZER
,

238 
NULL
,

239 
NULL
,

240 
NULL
,

241 (
__™t_­i_šfo
*)&
­i_li¡
,

242 
NULL
,

243 
NULL
,

244 
NULL
,

245 
NULL
,

246 
__™t_cŞËùiÚ_nÜm®
,

247 
NULL


250 (
	t__™t_­i_š™_t
)(
	t__™t_glob®
*, 
	t__™t_group_id
);

251 (
	t__™t_­i_fši_t
)(
	t__™t_glob®
*);

255 #ifdeà
ITT_NOTIFY_EXT_REPORT


256 
ITT_EXTERN_C
 
	$_N_
(
”rÜ_hªdËr
)(
__™t_”rÜ_code
, 
va_li¡
 
¬gs
);

259 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


260 #´agm¨
	`w¬nšg
(
push
)

261 #´agm¨
	`w¬nšg
(
di§bË
: 4055)

264 
	$__™t_»pÜt_”rÜ
(
code_¬g
, ...)

266 
va_li¡
 
¬gs
;

267 
	`va_¡¬t
(
¬gs
, 
code_¬g
);

272 
__™t_”rÜ_code
 
code
 = (__™t_”rÜ_code)
code_¬g
;

274 ià(
	`_N_
(
_™pi_glob®
).
”rÜ_hªdËr
 !ğ
NULL
)

276 
__™t_”rÜ_hªdËr_t
* 
hªdËr
 = (__™t_”rÜ_hªdËr_t*)(
size_t
)
	`_N_
(
_™pi_glob®
).
”rÜ_hªdËr
;

277 
	`hªdËr
(
code
, 
¬gs
);

279 #ifdeà
ITT_NOTIFY_EXT_REPORT


280 
	`_N_
(
”rÜ_hªdËr
)(
code
, 
¬gs
);

282 
	`va_’d
(
¬gs
);

283 
	}
}

285 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


286 #´agm¨
w¬nšg
(
pİ
)

289 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


290 
__™t_domaš
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
domaš_ü—‹W
),
_š™
))(cÚ¡ 
wch¬_t
* 
	gÇme
)

292 
__™t_domaš
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

294 ià(
	gÇme
 =ğ
NULL
)

296  
NULL
;

299 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

300 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

302 ià(
ITTNOTIFY_NAME
(
domaš_ü—‹W
è&& ITTNOTIFY_NAME(domaš_ü—‹Wè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(domaš_ü—‹W),
_š™
)))

304 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

305  
ITTNOTIFY_NAME
(
domaš_ü—‹W
)(
	gÇme
);

308 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
domaš_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

310 ià(
h
->
ÇmeW
 !ğ
NULL
 && !
wcscmp
(h->ÇmeW, 
Çme
)) ;

312 ià(
	gh
 =ğ
NULL
)

314 
NEW_DOMAIN_W
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
);

316 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

317  
	gh
;

320 
__™t_domaš
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
domaš_ü—‹A
),
_š™
))(cÚ¡ * 
	gÇme
)

322 
__™t_domaš
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
domaš_ü—‹
),
_š™
))(cÚ¡ * 
	gÇme
)

325 
__™t_domaš
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

327 ià(
	gÇme
 =ğ
NULL
)

329  
NULL
;

332 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

333 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

335 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


336 ià(
ITTNOTIFY_NAME
(
domaš_ü—‹A
è&& ITTNOTIFY_NAME(domaš_ü—‹Aè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(domaš_ü—‹A),
_š™
)))

338 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

339  
ITTNOTIFY_NAME
(
domaš_ü—‹A
)(
	gÇme
);

342 ià(
ITTNOTIFY_NAME
(
domaš_ü—‹
è&& ITTNOTIFY_NAME(domaš_ü—‹è!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(domaš_ü—‹),
_š™
)))

344 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

345  
ITTNOTIFY_NAME
(
domaš_ü—‹
)(
	gÇme
);

349 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
domaš_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

351 ià(
h
->
ÇmeA
 !ğ
NULL
 && !
__™t_f¡rcmp
(h->ÇmeA, 
Çme
)) ;

353 ià(
	gh
 =ğ
NULL
)

355 
NEW_DOMAIN_A
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
);

357 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

358  
	gh
;

361 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


362 
__™t_¡ršg_hªdË
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
¡ršg_hªdË_ü—‹W
),
_š™
))(cÚ¡ 
wch¬_t
* 
	gÇme
)

364 
__™t_¡ršg_hªdË
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

366 ià(
	gÇme
 =ğ
NULL
)

368  
NULL
;

371 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

372 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

374 ià(
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹W
è&& ITTNOTIFY_NAME(¡ršg_hªdË_ü—‹Wè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(¡ršg_hªdË_ü—‹W),
_š™
)))

376 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

377  
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹W
)(
	gÇme
);

380 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
¡ršg_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

382 ià(
h
->
¡rW
 !ğ
NULL
 && !
wcscmp
(h->¡rW, 
Çme
)) ;

384 ià(
	gh
 =ğ
NULL
)

386 
NEW_STRING_HANDLE_W
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
);

388 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

389  
	gh
;

392 
__™t_¡ršg_hªdË
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
¡ršg_hªdË_ü—‹A
),
_š™
))(cÚ¡ * 
	gÇme
)

394 
__™t_¡ršg_hªdË
* 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
¡ršg_hªdË_ü—‹
),
_š™
))(cÚ¡ * 
	gÇme
)

397 
__™t_¡ršg_hªdË
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

399 ià(
	gÇme
 =ğ
NULL
)

401  
NULL
;

404 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

405 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

407 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


408 ià(
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹A
è&& ITTNOTIFY_NAME(¡ršg_hªdË_ü—‹Aè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(¡ršg_hªdË_ü—‹A),
_š™
)))

410 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

411  
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹A
)(
	gÇme
);

414 ià(
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹
è&& ITTNOTIFY_NAME(¡ršg_hªdË_ü—‹è!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(¡ršg_hªdË_ü—‹),
_š™
)))

416 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

417  
ITTNOTIFY_NAME
(
¡ršg_hªdË_ü—‹
)(
	gÇme
);

421 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
¡ršg_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

423 ià(
h
->
¡rA
 !ğ
NULL
 && !
__™t_f¡rcmp
(h->¡rA, 
Çme
)) ;

425 ià(
	gh
 =ğ
NULL
)

427 
NEW_STRING_HANDLE_A
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
);

429 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

430  
	gh
;

433 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


434 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹W
),
_š™
))(cÚ¡ 
wch¬_t
 *
	gÇme
, cÚ¡ wch¬_ˆ*
	gdomaš
)

436 
__™t_couÁ”_šfo_t
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

437 
__™t_m‘ad©a_ty³
 
	gty³
 = 
__™t_m‘ad©a_u64
;

439 ià(
	gÇme
 =ğ
NULL
)

441  
NULL
;

444 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

445 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

447 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹W
è&& ITTNOTIFY_NAME(couÁ”_ü—‹Wè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹W),
_š™
)))

449 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

450  
ITTNOTIFY_NAME
(
couÁ”_ü—‹W
)(
	gÇme
, 
	gdomaš
);

453 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
couÁ”_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

455 ià(
h
->
ÇmeW
 !ğ
NULL
 && h->
ty³
 =ğty³ && !
wcscmp
(h->ÇmeW, 
Çme
è&& ((
	gh
->
	gdomašW
 =ğNULL && 
domaš
 == NULL) ||

456 (
h
->
domašW
 !ğ
NULL
 && 
domaš
 !ğNULL && !
wcscmp
(h->domainW, domain)))) ;

459 ià(
	gh
 =ğ
NULL
)

461 
NEW_COUNTER_W
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
,
domaš
,
ty³
);

463 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

464  (
	g__™t_couÁ”
)
	gh
;

467 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹A
),
_š™
))(cÚ¡ *
	gÇme
, cÚ¡ *
	gdomaš
)

469 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹
),
_š™
))(cÚ¡ *
	gÇme
, cÚ¡ *
	gdomaš
)

472 
__™t_couÁ”_šfo_t
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

473 
__™t_m‘ad©a_ty³
 
	gty³
 = 
__™t_m‘ad©a_u64
;

475 ià(
	gÇme
 =ğ
NULL
)

477  
NULL
;

480 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

481 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

483 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


484 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹A
è&& ITTNOTIFY_NAME(couÁ”_ü—‹Aè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹A),
_š™
)))

486 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

487  
ITTNOTIFY_NAME
(
couÁ”_ü—‹A
)(
	gÇme
, 
	gdomaš
);

490 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹
è&& ITTNOTIFY_NAME(couÁ”_ü—‹è!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹),
_š™
)))

492 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

493  
ITTNOTIFY_NAME
(
couÁ”_ü—‹
)(
	gÇme
, 
	gdomaš
);

497 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
couÁ”_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

499 ià(
h
->
ÇmeA
 !ğ
NULL
 && h->
ty³
 =ğty³ && !
__™t_f¡rcmp
(h->ÇmeA, 
Çme
è&& ((
	gh
->
	gdomašA
 =ğNULL && 
domaš
 == NULL) ||

500 (
h
->
domašA
 !ğ
NULL
 && 
domaš
 !ğNULL && !
__™t_f¡rcmp
(h->domainA, domain)))) ;

502 ià(
	gh
 =ğ
NULL
)

504 
NEW_COUNTER_A
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
,
domaš
,
ty³
);

506 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

507  (
	g__™t_couÁ”
)
	gh
;

510 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


511 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹_ty³dW
),
_š™
))(cÚ¡ 
wch¬_t
 *
	gÇme
, cÚ¡ wch¬_ˆ*
	gdomaš
, 
__™t_m‘ad©a_ty³
 
	gty³
)

513 
__™t_couÁ”_šfo_t
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

515 ià(
	gÇme
 =ğ
NULL
)

517  
NULL
;

520 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

521 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

523 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dW
è&& ITTNOTIFY_NAME(couÁ”_ü—‹_ty³dWè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹_ty³dW),
_š™
)))

525 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

526  
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dW
)(
	gÇme
, 
	gdomaš
, 
	gty³
);

529 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
couÁ”_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

531 ià(
h
->
ÇmeW
 !ğ
NULL
 && h->
ty³
 =ğty³ && !
wcscmp
(h->ÇmeW, 
Çme
è&& ((
	gh
->
	gdomašW
 =ğNULL && 
domaš
 == NULL) ||

532 (
h
->
domašW
 !ğ
NULL
 && 
domaš
 !ğNULL && !
wcscmp
(h->domainW, domain)))) ;

535 ià(
	gh
 =ğ
NULL
)

537 
NEW_COUNTER_W
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
,
domaš
,
ty³
);

539 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

540  (
	g__™t_couÁ”
)
	gh
;

543 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹_ty³dA
),
_š™
))(cÚ¡ *
	gÇme
, cÚ¡ *
	gdomaš
, 
__™t_m‘ad©a_ty³
 
	gty³
)

545 
__™t_couÁ”
 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
couÁ”_ü—‹_ty³d
),
_š™
))(cÚ¡ *
	gÇme
, cÚ¡ *
	gdomaš
, 
__™t_m‘ad©a_ty³
 
	gty³
)

548 
__™t_couÁ”_šfo_t
 *
	gh_
 = 
NULL
, *
	gh
 = NULL;

550 ià(
	gÇme
 =ğ
NULL
)

552  
NULL
;

555 
ITT_MUTEX_INIT_AND_LOCK
(
_N_
(
_™pi_glob®
));

556 ià(
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
)

558 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


559 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dA
è&& ITTNOTIFY_NAME(couÁ”_ü—‹_ty³dAè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹_ty³dA),
_š™
)))

561 
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

562  
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³dA
)(
	gÇme
, 
	gdomaš
, 
	gty³
);

565 ià(
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³d
è&& ITTNOTIFY_NAME(couÁ”_ü—‹_ty³dè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(couÁ”_ü—‹_ty³d),
_š™
)))

567 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

568  
ITTNOTIFY_NAME
(
couÁ”_ü—‹_ty³d
)(
	gÇme
, 
	gdomaš
, 
	gty³
);

572 
	gh_
 = 
NULL
, 
	gh
 = 
_N_
(
_™pi_glob®
).
couÁ”_li¡
; h !ğNULL; h_ = 
h
, h = h->
Ãxt
)

574 ià(
h
->
ÇmeA
 !ğ
NULL
 && h->
ty³
 =ğty³ && !
__™t_f¡rcmp
(h->ÇmeA, 
Çme
è&& ((
	gh
->
	gdomašA
 =ğNULL && 
domaš
 == NULL) ||

575 (
h
->
domašA
 !ğ
NULL
 && 
domaš
 !ğNULL && !
__™t_f¡rcmp
(h->domainA, domain)))) ;

577 ià(
	gh
 =ğ
NULL
)

579 
NEW_COUNTER_A
(&
_N_
(
_™pi_glob®
),
h
,
h_
,
Çme
,
domaš
,
ty³
);

581 ià(
	gPTHREAD_SYMBOLS
è
__™t_mu‹x_uÆock
(&
_N_
(
_™pi_glob®
).
mu‹x
);

582  (
	g__™t_couÁ”
)
	gh
;

587 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
·u£
),
_š™
))()

589 ià(!
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
 && _N_(_™pi_glob®).
	gth»ad_li¡
 =ğ
NULL
)

591 
__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
);

593 ià(
ITTNOTIFY_NAME
(
·u£
è&& ITTNOTIFY_NAMEÕau£è!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Õau£),
_š™
)))

595 
ITTNOTIFY_NAME
(
·u£
)();

599 
_N_
(
_™pi_glob®
).
	g¡©e
 = 
__™t_cŞËùiÚ_·u£d
;

603 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
»sume
),
_š™
))()

605 ià(!
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
 && _N_(_™pi_glob®).
	gth»ad_li¡
 =ğ
NULL
)

607 
__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
);

609 ià(
ITTNOTIFY_NAME
(
»sume
è&& ITTNOTIFY_NAMEÔesumeè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Ôesume),
_š™
)))

611 
ITTNOTIFY_NAME
(
»sume
)();

615 
_N_
(
_™pi_glob®
).
	g¡©e
 = 
__™t_cŞËùiÚ_nÜm®
;

619 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


620 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_ÇmeW
),
_š™
))(cÚ¡ 
wch¬_t
* 
	gÇme
)

622 ià(!
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
 && _N_(_™pi_glob®).
	gth»ad_li¡
 =ğ
NULL
)

624 
__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
);

626 ià(
ITTNOTIFY_NAME
(
th»ad_£t_ÇmeW
è&& ITTNOTIFY_NAMEÑh»ad_£t_ÇmeWè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Ñh»ad_£t_ÇmeW),
_š™
)))

628 
ITTNOTIFY_NAME
(
th»ad_£t_ÇmeW
)(
	gÇme
);

632 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
thr_Çme_£tW
),
_š™
))(cÚ¡ 
wch¬_t
* 
	gÇme
, 
	gÇm–’
)

634 ()
	gÇm–’
;

635 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_ÇmeW
),
_š™
))(
	gÇme
);

639 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_ÇmeA
),
_š™
))(cÚ¡ * 
	gÇme
)

641 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_Çme
),
_š™
))(cÚ¡ * 
	gÇme
)

644 ià(!
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
 && _N_(_™pi_glob®).
	gth»ad_li¡
 =ğ
NULL
)

646 
__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
);

648 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


649 ià(
ITTNOTIFY_NAME
(
th»ad_£t_ÇmeA
è&& ITTNOTIFY_NAMEÑh»ad_£t_ÇmeAè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Ñh»ad_£t_ÇmeA),
_š™
)))

651 
ITTNOTIFY_NAME
(
th»ad_£t_ÇmeA
)(
	gÇme
);

654 ià(
ITTNOTIFY_NAME
(
th»ad_£t_Çme
è&& ITTNOTIFY_NAMEÑh»ad_£t_Çmeè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Ñh»ad_£t_Çme),
_š™
)))

656 
ITTNOTIFY_NAME
(
th»ad_£t_Çme
)(
	gÇme
);

661 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


662 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
thr_Çme_£tA
),
_š™
))(cÚ¡ * 
	gÇme
, 
	gÇm–’
)

664 ()
	gÇm–’
;

665 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_ÇmeA
),
_š™
))(
	gÇme
);

669 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
thr_Çme_£t
),
_š™
))(cÚ¡ * 
	gÇme
, 
	gÇm–’
)

671 ()
	gÇm–’
;

672 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_£t_Çme
),
_š™
))(
	gÇme
);

677 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_ignÜe
),
_š™
))()

679 ià(!
_N_
(
_™pi_glob®
).
	g­i_š™Ÿlized
 && _N_(_™pi_glob®).
	gth»ad_li¡
 =ğ
NULL
)

681 
__™t_š™_™ib_Çme
(
NULL
, 
__™t_group_®l
);

683 ià(
ITTNOTIFY_NAME
(
th»ad_ignÜe
è&& ITTNOTIFY_NAMEÑh»ad_ignÜeè!ğ
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
Ñh»ad_ignÜe),
_š™
)))

685 
ITTNOTIFY_NAME
(
th»ad_ignÜe
)();

689 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
thr_ignÜe
),
_š™
))()

691 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
th»ad_ignÜe
),
_š™
))();

694 
ITTAPI
 
ITT_VERSIONIZE
(
ITT_JOIN
(
_N_
(
’abË_©ch
),
_š™
))()

696 #ifdeà
__ANDROID__


701 
£‹nv
(
ITT_TO_STR
(
LIB_VAR_NAME
), 
ANDROID_ITTNOTIFY_DEFAULT_PATH
, 0);

707 cÚ¡ * 
	$__™t_f¥l™
(cÚ¡ * 
s
, cÚ¡ * 
£p
, cÚ¡ ** 
out
, * 
Ën
)

709 
i
;

710 
j
;

712 ià(!
s
 || !
£p
 || !
out
 || !
Ën
)

713  
NULL
;

715 
i
 = 0; 
s
[i]; i++)

717 
b
 = 0;

718 
j
 = 0; 
£p
[j]; j++)

719 ià(
s
[
i
] =ğ
£p
[
j
])

721 
b
 = 1;

724 ià(!
b
)

728 ià(!
s
[
i
])

729  
NULL
;

731 *
Ën
 = 0;

732 *
out
 = &
s
[
i
];

734 ; 
s
[
i
]; i++, (*
Ën
)++)

736 
b
 = 0;

737 
j
 = 0; 
£p
[j]; j++)

738 ià(
s
[
i
] =ğ
£p
[
j
])

740 
b
 = 1;

743 ià(
b
)

747 ; 
s
[
i
]; i++)

749 
b
 = 0;

750 
j
 = 0; 
£p
[j]; j++)

751 ià(
s
[
i
] =ğ
£p
[
j
])

753 
b
 = 1;

756 ià(!
b
)

760  &
s
[
i
];

761 
	}
}

768 cÚ¡ * 
	$__™t_g‘_’v_v¬
(cÚ¡ * 
Çme
)

770 
	#MAX_ENV_VALUE_SIZE
 4086

	)

771 
’v_buff
[
MAX_ENV_VALUE_SIZE
];

772 * 
’v_v®ue
 = (*)
’v_buff
;

774 ià(
Çme
 !ğ
NULL
)

776 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


777 
size_t
 
max_Ën
 = 
MAX_ENV_VALUE_SIZE
 - (size_t)(
’v_v®ue
 - 
’v_buff
);

778 
DWORD
 
rc
 = 
	`G‘EnvœÚm’tV¬ŸbËA
(
Çme
, 
’v_v®ue
, (DWORD)
max_Ën
);

779 ià(
rc
 >ğ
max_Ën
)

780 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_’v_too_lÚg
, 
Çme
, (
size_t
)
rc
 - 1, (size_t)(
max_Ën
 - 1));

781 ià(
rc
 > 0)

783 cÚ¡ * 
»t
 = (cÚ¡ *)
’v_v®ue
;

784 
’v_v®ue
 +ğ
rc
 + 1;

785  
»t
;

792 
DWORD
 
”r
 = 
	`G‘La¡E¼Ü
();

793 ià(
”r
 =ğ
ERROR_SUCCESS
)

794  
’v_v®ue
;

796 ià(
”r
 !ğ
ERROR_ENVVAR_NOT_FOUND
)

797 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_ÿÁ_»ad_’v
, 
Çme
, ()
”r
);

800 * 
’v
 = 
	`g‘’v
(
Çme
);

801 ià(
’v
 !ğ
NULL
)

803 
size_t
 
Ën
 = 
	`__™t_f¡ºËn
(
’v
, 
MAX_ENV_VALUE_SIZE
);

804 
size_t
 
max_Ën
 = 
MAX_ENV_VALUE_SIZE
 - (size_t)(
’v_v®ue
 - 
’v_buff
);

805 ià(
Ën
 < 
max_Ën
)

807 cÚ¡ * 
»t
 = (cÚ¡ *)
’v_v®ue
;

808 
	`__™t_f¡rıyn
(
’v_v®ue
, 
max_Ën
, 
’v
, 
Ën
 + 1);

809 
’v_v®ue
 +ğ
Ën
 + 1;

810  
»t
;

812 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_’v_too_lÚg
, 
Çme
, (
size_t
)
Ën
, (size_t)(
max_Ën
 - 1));

816  
NULL
;

817 
	}
}

819 cÚ¡ * 
	$__™t_g‘_lib_Çme
()

821 cÚ¡ * 
lib_Çme
 = 
	`__™t_g‘_’v_v¬
(
	`ITT_TO_STR
(
LIB_VAR_NAME
));

823 #ifdeà
__ANDROID__


824 ià(
lib_Çme
 =ğ
NULL
)

827 #ià
ITT_ARCH
==
ITT_ARCH_IA32
 || ITT_ARCH==
ITT_ARCH_ARM


828 cÚ¡ * cÚ¡ 
m¬k”_f’ame
 = "com.intel.itt.collector_lib_32";

830 cÚ¡ * cÚ¡ 
m¬k”_f’ame
 = "com.intel.itt.collector_lib_64";

833 
sy¡em_wide_m¬k”_f’ame
[
PATH_MAX
] = {0};

834 
™t_m¬k”_fe_fd
 = -1;

835 
ssize_t
 
»s
 = 0;

837 
»s
 = 
	`¢´štf
(
sy¡em_wide_m¬k”_f’ame
, 
PATH_MAX
 - 1, "%s%s", "/d©a/loÿl/tmp/", 
m¬k”_f’ame
);

838 ià(
»s
 < 0)

840 
	`ITT_ANDROID_LOGE
("Unableo concatenate marker file string.");

841  
lib_Çme
;

843 
™t_m¬k”_fe_fd
 = 
	`İ’
(
sy¡em_wide_m¬k”_f’ame
, 
O_RDONLY
);

845 ià(
™t_m¬k”_fe_fd
 == -1)

847 cÚ¡ 
pid_t
 
my_pid
 = 
	`g‘pid
();

848 
cmdlše_·th
[
PATH_MAX
] = {0};

849 
·ckage_Çme
[
PATH_MAX
] = {0};

850 
­p_§ndbox_fe
[
PATH_MAX
] = {0};

851 
cmdlše_fd
 = 0;

853 
	`ITT_ANDROID_LOGI
("Unableo open system-wide marker file.");

854 
»s
 = 
	`¢´štf
(
cmdlše_·th
, 
PATH_MAX
 - 1, "/´oc/%d/cmdlše", 
my_pid
);

855 ià(
»s
 < 0)

857 
	`ITT_ANDROID_LOGE
("Unableo get cmdline…ath string.");

858  
lib_Çme
;

861 
	`ITT_ANDROID_LOGI
("CMD fe: %s\n", 
cmdlše_·th
);

862 
cmdlše_fd
 = 
	`İ’
(
cmdlše_·th
, 
O_RDONLY
);

863 ià(
cmdlše_fd
 == -1)

865 
	`ITT_ANDROID_LOGE
("UÇbËØİ’ % fe!", 
cmdlše_·th
);

866  
lib_Çme
;

868 
»s
 = 
	`»ad
(
cmdlše_fd
, 
·ckage_Çme
, 
PATH_MAX
 - 1);

869 ià(
»s
 == -1)

871 
	`ITT_ANDROID_LOGE
("UÇbËØ»ad % fe!", 
cmdlše_·th
);

872 
»s
 = 
	`şo£
(
cmdlše_fd
);

873 ià(
»s
 == -1)

875 
	`ITT_ANDROID_LOGE
("UÇbËØşo£ % fe!", 
cmdlše_·th
);

877  
lib_Çme
;

879 
»s
 = 
	`şo£
(
cmdlše_fd
);

880 ià(
»s
 == -1)

882 
	`ITT_ANDROID_LOGE
("UÇbËØşo£ % fe!", 
cmdlše_·th
);

883  
lib_Çme
;

885 
	`ITT_ANDROID_LOGI
("PackagÇme: %s\n", 
·ckage_Çme
);

886 
»s
 = 
	`¢´štf
(
­p_§ndbox_fe
, 
PATH_MAX
 - 1, "/d©a/d©a/%s/%s", 
·ckage_Çme
, 
m¬k”_f’ame
);

887 ià(
»s
 < 0)

889 
	`ITT_ANDROID_LOGE
("Unableo concatenate marker file string.");

890  
lib_Çme
;

893 
	`ITT_ANDROID_LOGI
("Lib m¬k” fÇme: %s\n", 
­p_§ndbox_fe
);

894 
™t_m¬k”_fe_fd
 = 
	`İ’
(
­p_§ndbox_fe
, 
O_RDONLY
);

895 ià(
™t_m¬k”_fe_fd
 == -1)

897 
	`ITT_ANDROID_LOGE
("Unableo open‡pp marker file!");

898  
lib_Çme
;

903 
™t_lib_Çme
[
PATH_MAX
] = {0};

905 
»s
 = 
	`»ad
(
™t_m¬k”_fe_fd
, 
™t_lib_Çme
, 
PATH_MAX
 - 1);

906 ià(
»s
 == -1)

908 
	`ITT_ANDROID_LOGE
("UÇbËØ»ad % fe!", 
™t_m¬k”_fe_fd
);

909 
»s
 = 
	`şo£
(
™t_m¬k”_fe_fd
);

910 ià(
»s
 == -1)

912 
	`ITT_ANDROID_LOGE
("UÇbËØşo£ % fe!", 
™t_m¬k”_fe_fd
);

914  
lib_Çme
;

916 
	`ITT_ANDROID_LOGI
("ITT Lib…©h: %s", 
™t_lib_Çme
);

917 
»s
 = 
	`şo£
(
™t_m¬k”_fe_fd
);

918 ià(
»s
 == -1)

920 
	`ITT_ANDROID_LOGE
("UÇbËØşo£ % fe!", 
™t_m¬k”_fe_fd
);

921  
lib_Çme
;

923 
	`ITT_ANDROID_LOGI
("S‘ƒnv % tØ%s", 
	`ITT_TO_STR
(
LIB_VAR_NAME
), 
™t_lib_Çme
);

924 
»s
 = 
	`£‹nv
(
	`ITT_TO_STR
(
LIB_VAR_NAME
), 
™t_lib_Çme
, 0);

925 ià(
»s
 == -1)

927 
	`ITT_ANDROID_LOGE
("Unableo setƒnv var!");

928  
lib_Çme
;

930 
lib_Çme
 = 
	`__™t_g‘_’v_v¬
(
	`ITT_TO_STR
(
LIB_VAR_NAME
));

931 
	`ITT_ANDROID_LOGI
("ITT Lib…©h fromƒnv: %s", 
lib_Çme
);

936  
lib_Çme
;

937 
	}
}

940 
	#__™t_mš
(
a
,
b
è×è< (bè? (aè: (b)

	)

942 
__™t_group_id
 
	$__™t_g‘_groups
()

944 
i
;

945 
__™t_group_id
 
»s
 = 
__™t_group_nÚe
;

946 cÚ¡ * 
v¬_Çme
 = "INTEL_ITTNOTIFY_GROUPS";

947 cÚ¡ * 
group_¡r
 = 
	`__™t_g‘_’v_v¬
(
v¬_Çme
);

949 ià(
group_¡r
 !ğ
NULL
)

951 
Ën
;

952 
gr
[255];

953 cÚ¡ * 
chunk
;

954 (
group_¡r
 = 
	`__™t_f¥l™
(group_¡r, ",; ", &
chunk
, &
Ën
)è!ğ
NULL
)

956 
mš_Ën
 = 
	`__™t_mš
(
Ën
, ()((
gr
) - 1));

957 
	`__™t_f¡rıyn
(
gr
, (grè- 1, 
chunk
, 
mš_Ën
);

958 
gr
[
mš_Ën
] = 0;

960 
i
 = 0; 
group_li¡
[i].
Çme
 !ğ
NULL
; i++)

962 ià(!
	`__™t_f¡rcmp
(
gr
, 
group_li¡
[
i
].
Çme
))

964 
»s
 = (
__™t_group_id
)Ôe | 
group_li¡
[
i
].
id
);

972 
i
 = 0; 
group_li¡
[i].
id
 !ğ
__™t_group_nÚe
; i++)

973 ià(
group_li¡
[
i
].
id
 !ğ
__™t_group_®l
 &&

974 
group_li¡
[
i
].
id
 > 
__™t_group_¥l™‹r_mš
 &&

975 
group_li¡
[
i
].
id
 < 
__™t_group_¥l™‹r_max
)

976 
»s
 = (
__™t_group_id
)Ôe | 
group_li¡
[
i
].
id
);

977  
»s
;

981 
i
 = 0; 
group_®Ÿs
[i].
’v_v¬
 !ğ
NULL
; i++)

982 ià(
	`__™t_g‘_’v_v¬
(
group_®Ÿs
[
i
].
’v_v¬
è!ğ
NULL
)

983  
group_®Ÿs
[
i
].
groups
;

986  
»s
;

987 
	}
}

989 #undeà
__™t_mš


991 
	$__™t_lib_v”siÚ
(
lib_t
 
lib
)

993 ià(
lib
 =ğ
NULL
)

995 ià(
	`__™t_g‘_´oc
(
lib
, "__itt_api_init"))

997 ià(
	`__™t_g‘_´oc
(
lib
, "__itt_api_version"))

1000 
	}
}

1012 
	$__™t_nuÎify_®l_poš‹rs
()

1014 
i
;

1016 
i
 = 0; 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[i].
Çme
 !ğ
NULL
; i++)

1017 *
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 = _N_(_™pi_glob®).­i_li¡_±r[i].
nuÎ_func
;

1018 
	}
}

1020 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


1021 #´agm¨
w¬nšg
(
push
)

1022 #´agm¨
w¬nšg
(
di§bË
: 4054)

1023 #´agm¨
w¬nšg
(
di§bË
: 4055)

1026 
ITT_EXTERN_C
 
	$_N_
(
fši_™ib
)()

1028 
__™t_­i_fši_t
* 
__™t_­i_fši_±r
 = 
NULL
;

1029 vŞ©
TIDT
 
cu¼’t_th»ad
 = 0;

1031 ià(
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
)

1033 
	`ITT_MUTEX_INIT_AND_LOCK
(
	`_N_
(
_™pi_glob®
));

1034 ià(
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
)

1036 ià(
cu¼’t_th»ad
 == 0)

1038 ià(
PTHREAD_SYMBOLS
è
cu¼’t_th»ad
 = 
	`__™t_th»ad_id
();

1039 ià(
	`_N_
(
_™pi_glob®
).
lib
 !ğ
NULL
)

1041 
__™t_­i_fši_±r
 = (
__™t_­i_fši_t
*)(
size_t
)
	`__™t_g‘_´oc
(
	`_N_
(
_™pi_glob®
).
lib
, "__itt_api_fini");

1043 ià(
__™t_­i_fši_±r
)

1045 
	`__™t_­i_fši_±r
(&
	`_N_
(
_™pi_glob®
));

1048 
	`__™t_nuÎify_®l_poš‹rs
();

1055 
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
 = 0;

1056 
cu¼’t_th»ad
 = 0;

1059 ià(
PTHREAD_SYMBOLS
è
	`__™t_mu‹x_uÆock
(&
	`_N_
(
_™pi_glob®
).
mu‹x
);

1061 
	}
}

1063 
ITT_EXTERN_C
 
	$_N_
(
š™_™ib
)(cÚ¡ * 
lib_Çme
, 
__™t_group_id
 
š™_groups
)

1065 
i
;

1066 
__™t_group_id
 
groups
;

1067 #ifdeà
ITT_COMPLETE_GROUP


1068 
__™t_group_id
 
z”o_group
 = 
__™t_group_nÚe
;

1070 vŞ©
TIDT
 
cu¼’t_th»ad
 = 0;

1072 ià(!
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
)

1074 #iâdeà
ITT_SIMPLE_INIT


1075 
	`ITT_MUTEX_INIT_AND_LOCK
(
	`_N_
(
_™pi_glob®
));

1078 ià(!
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
)

1080 ià(
cu¼’t_th»ad
 == 0)

1082 ià(
PTHREAD_SYMBOLS
è
cu¼’t_th»ad
 = 
	`__™t_th»ad_id
();

1083 ià(
lib_Çme
 =ğ
NULL
)

1085 
lib_Çme
 = 
	`__™t_g‘_lib_Çme
();

1087 
groups
 = 
	`__™t_g‘_groups
();

1088 ià(
DL_SYMBOLS
 && (
groups
 !ğ
__™t_group_nÚe
 || 
lib_Çme
 !ğ
NULL
))

1090 
	`_N_
(
_™pi_glob®
).
lib
 = 
	`__™t_lßd_lib
((
lib_Çme
 =ğ
NULL
è? 
™ŠÙify_lib_Çme
 :†ib_name);

1092 ià(
	`_N_
(
_™pi_glob®
).
lib
 !ğ
NULL
)

1094 
__™t_­i_š™_t
* 
__™t_­i_š™_±r
;

1095 
lib_v”siÚ
 = 
	`__™t_lib_v”siÚ
(
	`_N_
(
_™pi_glob®
).
lib
);

1097 
lib_v”siÚ
) {

1099 
groups
 = 
__™t_group_Ëgacy
;

1100 
	`KMP_FALLTHROUGH
();

1103 
i
 = 0; 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[i].
Çme
 !ğ
NULL
; i++)

1105 ià(
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
group
 & 
groups
 & 
š™_groups
)

1107 *
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 = (*)
	`__™t_g‘_´oc
(_N_(_™pi_glob®).
lib
, _N_(_™pi_glob®).­i_li¡_±r[i].
Çme
);

1108 ià(*
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 =ğ
NULL
)

1111 *
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 = _N_(_™pi_glob®).­i_li¡_±r[i].
nuÎ_func
;

1112 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_no_symbŞ
, 
lib_Çme
, 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
Çme
);

1113 #ifdeà
ITT_COMPLETE_GROUP


1114 
z”o_group
 = (
__™t_group_id
)(z”o_grou°| 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
group
);

1119 *
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 = _N_(_™pi_glob®).­i_li¡_±r[i].
nuÎ_func
;

1122 ià(
groups
 =ğ
__™t_group_Ëgacy
)

1125 
	`ITTNOTIFY_NAME
(
th»ad_ignÜe
èğITTNOTIFY_NAME(
thr_ignÜe
);

1126 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1127 
	`ITTNOTIFY_NAME
(
sync_ü—‹A
èğITTNOTIFY_NAME(
sync_£t_ÇmeA
);

1128 
	`ITTNOTIFY_NAME
(
sync_ü—‹W
èğITTNOTIFY_NAME(
sync_£t_ÇmeW
);

1130 
	`ITTNOTIFY_NAME
(
sync_ü—‹
èğITTNOTIFY_NAME(
sync_£t_Çme
);

1132 
	`ITTNOTIFY_NAME
(
sync_´•¬e
èğITTNOTIFY_NAME(
nÙify_sync_´•¬e
);

1133 
	`ITTNOTIFY_NAME
(
sync_ÿnûl
èğITTNOTIFY_NAME(
nÙify_sync_ÿnûl
);

1134 
	`ITTNOTIFY_NAME
(
sync_acquœed
èğITTNOTIFY_NAME(
nÙify_sync_acquœed
);

1135 
	`ITTNOTIFY_NAME
(
sync_»Ëasšg
èğITTNOTIFY_NAME(
nÙify_sync_»Ëasšg
);

1138 #ifdeà
ITT_COMPLETE_GROUP


1139 
i
 = 0; 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[i].
Çme
 !ğ
NULL
; i++)

1140 ià(
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
group
 & 
z”o_group
)

1141 *
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 = _N_(_™pi_glob®).­i_li¡_±r[i].
nuÎ_func
;

1145 
__™t_­i_š™_±r
 = (
__™t_­i_š™_t
*)(
size_t
)
	`__™t_g‘_´oc
(
	`_N_
(
_™pi_glob®
).
lib
, "__itt_api_init");

1146 ià(
__™t_­i_š™_±r
)

1147 
	`__™t_­i_š™_±r
(&
	`_N_
(
_™pi_glob®
), 
š™_groups
);

1153 
	`__™t_nuÎify_®l_poš‹rs
();

1155 
	`__™t_»pÜt_”rÜ
(
__™t_”rÜ_no_moduË
, 
lib_Çme
,

1156 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


1157 
	`__™t_sy¡em_”rÜ
()

1159 
	`dË¼Ü
()

1166 
	`__™t_nuÎify_®l_poš‹rs
();

1168 
	`_N_
(
_™pi_glob®
).
­i_š™Ÿlized
 = 1;

1169 
cu¼’t_th»ad
 = 0;

1171 ià(
__™t_fši_™ib_±r
 =ğ
	`_N_
(
fši_™ib
)è
cu¼’t_th»ad
 = 0;

1175 #iâdeà
ITT_SIMPLE_INIT


1176 ià(
PTHREAD_SYMBOLS
è
	`__™t_mu‹x_uÆock
(&
	`_N_
(
_™pi_glob®
).
mu‹x
);

1181 
i
 = 0; 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[i].
Çme
 !ğ
NULL
; i++)

1183 ià(*
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
func_±r
 !ğ_N_(_™pi_glob®).­i_li¡_±r[i].
nuÎ_func
 &&

1184 
	`_N_
(
_™pi_glob®
).
­i_li¡_±r
[
i
].
group
 & 
š™_groups
)

1190 
	}
}

1192 
ITT_EXTERN_C
 
__™t_”rÜ_hªdËr_t
* 
	$_N_
(
£t_”rÜ_hªdËr
)(
__™t_”rÜ_hªdËr_t
* 
hªdËr
)

1194 
__™t_”rÜ_hªdËr_t
* 
´ev
 = (__™t_”rÜ_hªdËr_t*)(
size_t
)
	`_N_
(
_™pi_glob®
).
”rÜ_hªdËr
;

1195 
	`_N_
(
_™pi_glob®
).
”rÜ_hªdËr
 = (*)(
size_t
)
hªdËr
;

1196  
´ev
;

1197 
	}
}

1199 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN
 && 
KMP_MSVC_COMPAT


1200 #´agm¨
w¬nšg
(
pİ
)

	@thirdparty/ittnotify/ittnotify_static.h

11 
	~"™ŠÙify_cÚfig.h
"

13 #iâdeà
ITT_FORMAT_DEFINED


14 #iâdeà
ITT_FORMAT


15 
	#ITT_FORMAT


	)

17 #iâdeà
ITT_NO_PARAMS


18 
	#ITT_NO_PARAMS


	)

26 #ifdeà
__ITT_INTERNAL_INIT


28 #iâdeà
__ITT_INTERNAL_BODY


29 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


30 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹A
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), domaš_ü—‹A, 
__™t_group_¡ruùu»
, "\"%s\"")

31 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), domaš_ü—‹W, 
__™t_group_¡ruùu»
, "\"%S\"")

33 
ITT_STUB
(
ITTAPI
, 
__™t_domaš
*, 
domaš_ü—‹
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), domaš_ü—‹, 
__™t_group_¡ruùu»
, "\"%s\"")

36 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


37 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹A
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), sŒšg_hªdË_ü—‹A, 
__™t_group_¡ruùu»
, "\"%s\"")

38 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), sŒšg_hªdË_ü—‹W, 
__™t_group_¡ruùu»
, "\"%S\"")

40 
ITT_STUB
(
ITTAPI
, 
__™t_¡ršg_hªdË
*, 
¡ršg_hªdË_ü—‹
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), sŒšg_hªdË_ü—‹, 
__™t_group_¡ruùu»
, "\"%s\"")

43 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


44 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹A
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
), (
ITT_FORMAT
‚ame, domaš), couÁ”_ü—‹A, 
__™t_group_couÁ”
, "\"%s\", \"%s\"")

45 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
), (
ITT_FORMAT
‚ame, domaš), couÁ”_ü—‹W, 
__™t_group_couÁ”
, "\"%s\", \"%s\"")

47 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
), (
ITT_FORMAT
‚ame, domaš), couÁ”_ü—‹, 
__™t_group_couÁ”
, "\"%s\", \"%s\"")

50 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


51 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³dA
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
), (
ITT_FORMAT
‚ame, domaš,y³), couÁ”_ü—‹_ty³dA, 
__™t_group_couÁ”
, "\"%s\", \"%s\", %d")

52 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³dW
, (cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
), (
ITT_FORMAT
‚ame, domaš,y³), couÁ”_ü—‹_ty³dW, 
__™t_group_couÁ”
, "\"%s\", \"%s\", %d")

54 
ITT_STUB
(
ITTAPI
, 
__™t_couÁ”
, 
couÁ”_ü—‹_ty³d
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
, 
__™t_m‘ad©a_ty³
 
ty³
), (
ITT_FORMAT
‚ame, domaš,y³), couÁ”_ü—‹_ty³d, 
__™t_group_couÁ”
, "\"%s\", \"%s\", %d")

58 
ITT_STUBV
(
ITTAPI
, , 
·u£
, (), (
ITT_NO_PARAMS
),…au£, 
__™t_group_cÚŒŞ
 | 
__™t_group_Ëgacy
, "no‡rgs")

59 
ITT_STUBV
(
ITTAPI
, , 
»sume
, (), (
ITT_NO_PARAMS
),„esume, 
__™t_group_cÚŒŞ
 | 
__™t_group_Ëgacy
, "no‡rgs")

61 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


62 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_ÇmeA
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame),h»ad_£t_ÇmeA, 
__™t_group_th»ad
, "\"%s\"")

63 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_ÇmeW
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame),h»ad_£t_ÇmeW, 
__™t_group_th»ad
, "\"%S\"")

65 
ITT_STUBV
(
ITTAPI
, , 
th»ad_£t_Çme
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame),h»ad_£t_Çme, 
__™t_group_th»ad
, "\"%s\"")

67 
ITT_STUBV
(
ITTAPI
, , 
th»ad_ignÜe
, (), (
ITT_NO_PARAMS
),h»ad_ignÜe, 
__™t_group_th»ad
, "no‡rgs")

69 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


70 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£tA
, (cÚ¡ *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),hr_Çme_£tA, 
__™t_group_th»ad
 | 
__™t_group_Ëgacy
, "\"%s\", %d")

71 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£tW
, (cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),hr_Çme_£tW, 
__™t_group_th»ad
 | 
__™t_group_Ëgacy
, "\"%S\", %d")

73 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£t
, (cÚ¡ *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),hr_Çme_£t, 
__™t_group_th»ad
 | 
__™t_group_Ëgacy
, "\"%s\", %d")

75 
ITT_STUBV
(
LIBITTAPI
, , 
thr_ignÜe
, (), (
ITT_NO_PARAMS
),hr_ignÜe, 
__™t_group_th»ad
 | 
__™t_group_Ëgacy
, "no‡rgs")

78 
ITT_STUBV
(
ITTAPI
, , 
’abË_©ch
, (), (
ITT_NO_PARAMS
),ƒÇbË_©ch, 
__™t_group_®l
, "no‡rgs")

82 
ITT_STUBV
(
ITTAPI
, , 
d‘ach
, (), (
ITT_NO_PARAMS
), d‘ach, 
__™t_group_cÚŒŞ
 | 
__™t_group_Ëgacy
, "no‡rgs")

84 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


85 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹A
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_ü—‹A, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%s\", \"%s\", %x")

86 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹W
, (*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_ü—‹W, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%S\", \"%S\", %x")

87 
ITT_STUBV
(
ITTAPI
, , 
sync_»ÇmeA
, (*
addr
, cÚ¡ *
Çme
), (
ITT_FORMAT
‡ddr,‚ame), sync_»ÇmeA, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%s\"")

88 
ITT_STUBV
(
ITTAPI
, , 
sync_»ÇmeW
, (*
addr
, cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‡ddr,‚ame), sync_»ÇmeW, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%S\"")

90 
ITT_STUBV
(
ITTAPI
, , 
sync_ü—‹
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_ü—‹, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%s\", \"%s\", %x")

91 
ITT_STUBV
(
ITTAPI
, , 
sync_»Çme
, (*
addr
, cÚ¡ *
Çme
), (
ITT_FORMAT
‡ddr,‚ame), sync_»Çme, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p, \"%s\"")

93 
ITT_STUBV
(
ITTAPI
, , 
sync_de¡roy
, (*
addr
), (
ITT_FORMAT
‡ddr), sync_de¡roy, 
__™t_group_sync
 | 
__™t_group_fsync
, "%p")

95 
ITT_STUBV
(
ITTAPI
, , 
sync_´•¬e
, (* 
addr
), (
ITT_FORMAT
‡ddr), sync_´•¬e, 
__™t_group_sync
, "%p")

96 
ITT_STUBV
(
ITTAPI
, , 
sync_ÿnûl
, (*
addr
), (
ITT_FORMAT
‡ddr), sync_ÿnûl, 
__™t_group_sync
, "%p")

97 
ITT_STUBV
(
ITTAPI
, , 
sync_acquœed
, (*
addr
), (
ITT_FORMAT
‡ddr), sync_acquœed, 
__™t_group_sync
, "%p")

98 
ITT_STUBV
(
ITTAPI
, , 
sync_»Ëasšg
, (* 
addr
), (
ITT_FORMAT
‡ddr), sync_»Ëasšg, 
__™t_group_sync
, "%p")

100 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_push
, (
mask
), (
ITT_FORMAT
 mask), suµ»ss_push, 
__™t_group_suµ»ss
, "%p")

101 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_pİ
, (), (
ITT_NO_PARAMS
), suµ»ss_pİ, 
__™t_group_suµ»ss
, "no‡rgs")

102 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_m¬k_¿nge
, (
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
),(
ITT_FORMAT
 mode, mask,‡dd»ss, size), suµ»ss_m¬k_¿nge, 
__™t_group_suµ»ss
, "%d, %p, %p, %d")

103 
ITT_STUBV
(
ITTAPI
, , 
suµ»ss_ş—r_¿nge
,(
__™t_suµ»ss_mode_t
 
mode
, 
mask
, * 
add»ss
, 
size_t
 
size
),(
ITT_FORMAT
 mode, mask,‡dd»ss, size), suµ»ss_ş—r_¿nge,
__™t_group_suµ»ss
, "%d, %p, %p, %d")

105 
ITT_STUBV
(
ITTAPI
, , 
fsync_´•¬e
, (* 
addr
), (
ITT_FORMAT
‡ddr), 
sync_´•¬e
, 
__™t_group_fsync
, "%p")

106 
ITT_STUBV
(
ITTAPI
, , 
fsync_ÿnûl
, (*
addr
), (
ITT_FORMAT
‡ddr), 
sync_ÿnûl
, 
__™t_group_fsync
, "%p")

107 
ITT_STUBV
(
ITTAPI
, , 
fsync_acquœed
, (*
addr
), (
ITT_FORMAT
‡ddr), 
sync_acquœed
, 
__™t_group_fsync
, "%p")

108 
ITT_STUBV
(
ITTAPI
, , 
fsync_»Ëasšg
, (* 
addr
), (
ITT_FORMAT
‡ddr), 
sync_»Ëasšg
, 
__™t_group_fsync
, "%p")

110 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begš
, (
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
), (
ITT_FORMAT
 s™e, in¡ªû,‚ame), mod–_s™e_begš, 
__™t_group_mod–
, "%p, %p, \"%s\"")

111 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_’d
, (
__™t_mod–_s™e
 *
s™e
, 
__™t_mod–_s™e_š¡ªû
 *
š¡ªû
), (
ITT_FORMAT
 s™e, in¡ªû), mod–_s™e_’d, 
__™t_group_mod–
, "%p, %p")

112 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begš
, (
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
, cÚ¡ *
Çme
), (
ITT_FORMAT
ask, in¡ªû,‚ame), mod–_sk_begš, 
__™t_group_mod–
, "%p, %p, \"%s\"")

113 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_’d
, (
__™t_mod–_sk
 *
sk
, 
__™t_mod–_sk_š¡ªû
 *
š¡ªû
), (
ITT_FORMAT
ask, in¡ªû), mod–_sk_’d, 
__™t_group_mod–
, "%p, %p")

114 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_acquœe
, (*
lock
), (
ITT_FORMAT
†ock), mod–_lock_acquœe, 
__™t_group_mod–
, "%p")

115 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_»Ëa£
, (*
lock
), (
ITT_FORMAT
†ock), mod–_lock_»Ëa£, 
__™t_group_mod–
, "%p")

116 
ITT_STUBV
(
ITTAPI
, , 
mod–_»cÜd_®loÿtiÚ
, (*
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), mod–_»cÜd_®loÿtiÚ, 
__™t_group_mod–
, "%p, %d")

117 
ITT_STUBV
(
ITTAPI
, , 
mod–_»cÜd_d—ÎoÿtiÚ
, (*
addr
), (
ITT_FORMAT
‡ddr), mod–_»cÜd_d—ÎoÿtiÚ, 
__™t_group_mod–
, "%p")

118 
ITT_STUBV
(
ITTAPI
, , 
mod–_šduùiÚ_u£s
, (* 
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), mod–_šduùiÚ_u£s, 
__™t_group_mod–
, "%p, %d")

119 
ITT_STUBV
(
ITTAPI
, , 
mod–_»duùiÚ_u£s
, (* 
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), mod–_»duùiÚ_u£s, 
__™t_group_mod–
, "%p, %d")

120 
ITT_STUBV
(
ITTAPI
, , 
mod–_ob£rve_u£s
, (* 
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), mod–_ob£rve_u£s, 
__™t_group_mod–
, "%p, %d")

121 
ITT_STUBV
(
ITTAPI
, , 
mod–_ş—r_u£s
, (* 
addr
), (
ITT_FORMAT
‡ddr), mod–_ş—r_u£s, 
__™t_group_mod–
, "%p")

123 #iâdeà
__ITT_INTERNAL_BODY


124 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


125 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšW
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), mod–_s™e_begšW, 
__™t_group_mod–
, "\"%s\"")

126 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšW
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), mod–_sk_begšW, 
__™t_group_mod–
, "\"%s\"")

127 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skW
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), mod–_™”©iÚ_skW, 
__™t_group_mod–
, "\"%s\"")

129 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšA
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), mod–_s™e_begšA, 
__™t_group_mod–
, "\"%s\"")

130 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_begšAL
, (cÚ¡ *
Çme
, 
size_t
 
Ën
), (
ITT_FORMAT
‚ame,†’), mod–_s™e_begšAL, 
__™t_group_mod–
, "\"%s\", %d")

131 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšA
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), mod–_sk_begšA, 
__™t_group_mod–
, "\"%s\"")

132 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_begšAL
, (cÚ¡ *
Çme
, 
size_t
 
Ën
), (
ITT_FORMAT
‚ame,†’), mod–_sk_begšAL, 
__™t_group_mod–
, "\"%s\", %d")

133 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skA
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), mod–_™”©iÚ_skA, 
__™t_group_mod–
, "\"%s\"")

134 
ITT_STUBV
(
ITTAPI
, , 
mod–_™”©iÚ_skAL
, (cÚ¡ *
Çme
, 
size_t
 
Ën
), (
ITT_FORMAT
‚ame,†’), mod–_™”©iÚ_skAL, 
__™t_group_mod–
, "\"%s\", %d")

135 
ITT_STUBV
(
ITTAPI
, , 
mod–_s™e_’d_2
, (), (
ITT_NO_PARAMS
), mod–_s™e_’d_2, 
__™t_group_mod–
, "no‡rgs")

136 
ITT_STUBV
(
ITTAPI
, , 
mod–_sk_’d_2
, (), (
ITT_NO_PARAMS
), mod–_sk_’d_2, 
__™t_group_mod–
, "no‡rgs")

137 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_acquœe_2
, (*
lock
), (
ITT_FORMAT
†ock), mod–_lock_acquœe_2, 
__™t_group_mod–
, "%p")

138 
ITT_STUBV
(
ITTAPI
, , 
mod–_lock_»Ëa£_2
, (*
lock
), (
ITT_FORMAT
†ock), mod–_lock_»Ëa£_2, 
__™t_group_mod–
, "%p")

139 
ITT_STUBV
(
ITTAPI
, , 
mod–_agg»g©e_sk
, (
size_t
 
couÁ
), (
ITT_FORMAT
 couÁ), mod–_agg»g©e_sk, 
__™t_group_mod–
, "%d")

140 
ITT_STUBV
(
ITTAPI
, , 
mod–_di§bË_push
, (
__™t_mod–_di§bË
 
x
), (
ITT_FORMAT
 x), mod–_di§bË_push, 
__™t_group_mod–
, "%p")

141 
ITT_STUBV
(
ITTAPI
, , 
mod–_di§bË_pİ
, (), (
ITT_NO_PARAMS
), mod–_di§bË_pİ, 
__™t_group_mod–
, "no‡rgs")

144 #iâdeà
__ITT_INTERNAL_BODY


145 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


146 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹A
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
), (
ITT_FORMAT
‚ame, domaš), h—p_funùiÚ_ü—‹A, 
__™t_group_h—p
, "\"%s\", \"%s\"")

147 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, cÚ¡ wch¬_ˆ*
domaš
), (
ITT_FORMAT
‚ame, domaš), h—p_funùiÚ_ü—‹W, 
__™t_group_h—p
, "\"%s\", \"%s\"")

149 
ITT_STUB
(
ITTAPI
, 
__™t_h—p_funùiÚ
, 
h—p_funùiÚ_ü—‹
, (cÚ¡ *
Çme
, cÚ¡ *
domaš
), (
ITT_FORMAT
‚ame, domaš), h—p_funùiÚ_ü—‹, 
__™t_group_h—p
, "\"%s\", \"%s\"")

152 
ITT_STUBV
(
ITTAPI
, , 
h—p_®loÿ‹_begš
, (
__™t_h—p_funùiÚ
 
h
, 
size_t
 
size
, 
š™Ÿlized
), (
ITT_FORMAT
 h, size, in™Ÿlized), h—p_®loÿ‹_begš, 
__™t_group_h—p
, "%p, %lu, %d")

153 
ITT_STUBV
(
ITTAPI
, , 
h—p_®loÿ‹_’d
, (
__™t_h—p_funùiÚ
 
h
, ** 
addr
, 
size_t
 
size
, 
š™Ÿlized
), (
ITT_FORMAT
 h,‡ddr, size, in™Ÿlized), h—p_®loÿ‹_’d, 
__™t_group_h—p
, "%p, %p, %lu, %d")

154 
ITT_STUBV
(
ITTAPI
, , 
h—p_ä“_begš
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
), (
ITT_FORMAT
 h,‡ddr), h—p_ä“_begš, 
__™t_group_h—p
, "%p, %p")

155 
ITT_STUBV
(
ITTAPI
, , 
h—p_ä“_’d
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
), (
ITT_FORMAT
 h,‡ddr), h—p_ä“_’d, 
__™t_group_h—p
, "%p, %p")

156 
ITT_STUBV
(
ITTAPI
, , 
h—p_»®loÿ‹_begš
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
), (
ITT_FORMAT
 h,‡ddr,‚ew_size, in™Ÿlized), h—p_»®loÿ‹_begš, 
__™t_group_h—p
, "%p, %p, %lu, %d")

157 
ITT_STUBV
(
ITTAPI
, , 
h—p_»®loÿ‹_’d
, (
__™t_h—p_funùiÚ
 
h
, * 
addr
, ** 
Ãw_addr
, 
size_t
 
Ãw_size
, 
š™Ÿlized
), (
ITT_FORMAT
 h,‡ddr,‚ew_addr,‚ew_size, in™Ÿlized), h—p_»®loÿ‹_’d, 
__™t_group_h—p
, "%p, %p, %p, %lu, %d")

158 
ITT_STUBV
(
ITTAPI
, , 
h—p_š‹º®_acûss_begš
, (), (
ITT_NO_PARAMS
), h—p_š‹º®_acûss_begš, 
__™t_group_h—p
, "no‡rgs")

159 
ITT_STUBV
(
ITTAPI
, , 
h—p_š‹º®_acûss_’d
, (), (
ITT_NO_PARAMS
), h—p_š‹º®_acûss_’d, 
__™t_group_h—p
, "no‡rgs")

160 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd_memÜy_growth_begš
, (), (
ITT_NO_PARAMS
), h—p_»cÜd_memÜy_growth_begš, 
__™t_group_h—p
, "no‡rgs")

161 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd_memÜy_growth_’d
, (), (
ITT_NO_PARAMS
), h—p_»cÜd_memÜy_growth_’d, 
__™t_group_h—p
, "no‡rgs")

162 
ITT_STUBV
(
ITTAPI
, , 
h—p_»£t_d‘eùiÚ
, (
»£t_mask
), (
ITT_FORMAT
„e£t_mask), h—p_»£t_d‘eùiÚ, 
__™t_group_h—p
, "%u")

163 
ITT_STUBV
(
ITTAPI
, , 
h—p_»cÜd
, (
»cÜd_mask
), (
ITT_FORMAT
„ecÜd_mask), h—p_»cÜd, 
__™t_group_h—p
, "%u")

165 
ITT_STUBV
(
ITTAPI
, , 
id_ü—‹
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, id), id_ü—‹, 
__™t_group_¡ruùu»
, "%p, %lu")

166 
ITT_STUBV
(
ITTAPI
, , 
id_de¡roy
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, id), id_de¡roy, 
__™t_group_¡ruùu»
, "%p, %lu")

168 
ITT_STUB
(
ITTAPI
, 
__™t_time¡amp
, 
g‘_time¡amp
, (), (
ITT_NO_PARAMS
), g‘_time¡amp, 
__™t_group_¡ruùu»
, "no‡rgs")

170 
ITT_STUBV
(
ITTAPI
, , 
»giÚ_begš
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Á
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, id,…¬’t,‚ame),„egiÚ_begš, 
__™t_group_¡ruùu»
, "%p, %lu, %lu, %p")

171 
ITT_STUBV
(
ITTAPI
, , 
»giÚ_’d
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, id),„egiÚ_’d, 
__™t_group_¡ruùu»
, "%p, %lu")

173 #iâdeà
__ITT_INTERNAL_BODY


174 
ITT_STUBV
(
ITTAPI
, , 
äame_begš_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
), (
ITT_FORMAT
 domaš, id), f¿me_begš_v3, 
__™t_group_¡ruùu»
, "%p, %p")

175 
ITT_STUBV
(
ITTAPI
, , 
äame_’d_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
), (
ITT_FORMAT
 domaš, id), f¿me_’d_v3, 
__™t_group_¡ruùu»
, "%p, %p")

176 
ITT_STUBV
(
ITTAPI
, , 
äame_subm™_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 *
id
, 
__™t_time¡amp
 
begš
, __™t_time¡am°
’d
), (
ITT_FORMAT
 domaš, id, begš,ƒnd), f¿me_subm™_v3, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu")

179 
ITT_STUBV
(
ITTAPI
, , 
sk_group
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Á
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, id,…¬’t,‚ame),ask_group, 
__™t_group_¡ruùu»
, "%p, %lu, %lu, %p")

181 
ITT_STUBV
(
ITTAPI
, , 
sk_begš
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Á
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, id,…¬’t,‚ame),ask_begš, 
__™t_group_¡ruùu»
, "%p, %lu, %lu, %p")

182 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_â
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Á
, * 
â
), (
ITT_FORMAT
 domaš, id,…¬’t, fn),ask_begš_â, 
__™t_group_¡ruùu»
, "%p, %lu, %lu, %p")

183 
ITT_STUBV
(
ITTAPI
, , 
sk_’d
, (cÚ¡ 
__™t_domaš
 *
domaš
), (
ITT_FORMAT
 domaš),ask_’d, 
__™t_group_¡ruùu»
, "%p")

185 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš,‚ame), couÁ”_šc_v3, 
__™t_group_¡ruùu»
, "%p, %p")

186 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_d–_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
v®ue
), (
ITT_FORMAT
 domaš,‚ame, v®ue), couÁ”_šc_d–_v3, 
__™t_group_¡ruùu»
, "%p, %p, %lu")

187 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš,‚ame), couÁ”_dec_v3, 
__™t_group_¡ruùu»
, "%p, %p")

188 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_d–_v3
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_¡ršg_hªdË
 *
Çme
, 
v®ue
), (
ITT_FORMAT
 domaš,‚ame, v®ue), couÁ”_dec_d–_v3, 
__™t_group_¡ruùu»
, "%p, %p, %lu")

190 
ITT_STUBV
(
ITTAPI
, , 
m¬k”
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
), (
ITT_FORMAT
 domaš, id,‚ame, scİe), m¬k”, 
__™t_group_¡ruùu»
, "%p, %lu, %p, %d")

192 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
), (
ITT_FORMAT
 domaš, id, key,y³, couÁ, d©a), m‘ad©a_add, 
__™t_group_¡ruùu»
, "%p, %lu, %p, %d, %lu, %p")

193 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


194 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_addA
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ * 
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, id, key, d©a,†’gth), m‘ad©a_¡r_addA, 
__™t_group_¡ruùu»
, "%p, %lu, %p, %p, %lu")

195 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_addW
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
* 
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, id, key, d©a,†’gth), m‘ad©a_¡r_addW, 
__™t_group_¡ruùu»
, "%p, %lu, %p, %p, %lu")

197 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ * 
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, id, key, d©a,†’gth), m‘ad©a_¡r_add, 
__™t_group_¡ruùu»
, "%p, %lu, %p, %p, %lu")

200 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_to_cu¼’t
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

), (
ITT_FORMAT
 domaš,„–©iÚ,a),„–©iÚ_add_to_cu¼’t, 
__™t_group_¡ruùu»
, "%p, %lu, %p")

201 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

), (
ITT_FORMAT
 domaš, h—d,„–©iÚ,a),„–©iÚ_add, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %p")

203 #iâdeà
__ITT_INTERNAL_BODY


204 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


205 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹A
, (cÚ¡ *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),ƒv’t_ü—‹A, 
__™t_group_m¬k
 | 
__™t_group_Ëgacy
, "\"%s\", %d")

206 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),ƒv’t_ü—‹W, 
__™t_group_m¬k
 | 
__™t_group_Ëgacy
, "\"%S\", %d")

208 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹
, (cÚ¡ *
Çme
, 
Çm–’
), (
ITT_FORMAT
‚ame,‚am–’),ƒv’t_ü—‹, 
__™t_group_m¬k
 | 
__™t_group_Ëgacy
, "\"%s\", %d")

210 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_¡¬t
, (
__™t_ev’t
 
ev’t
), (
ITT_FORMAT
ƒv’t),ƒv’t_¡¬t, 
__™t_group_m¬k
 | 
__™t_group_Ëgacy
, "%d")

211 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_’d
, (
__™t_ev’t
 
ev’t
), (
ITT_FORMAT
ƒv’t),ƒv’t_’d, 
__™t_group_m¬k
 | 
__™t_group_Ëgacy
, "%d")

214 #iâdeà
__ITT_INTERNAL_BODY


215 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


216 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_ÇmeA
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_£t_ÇmeA, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p, \"%s\", \"%s\", %x")

217 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_ÇmeW
, (*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_£t_ÇmeW, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p, \"%S\", \"%S\", %x")

219 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_Çme
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
), (
ITT_FORMAT
‡ddr, objty³, objÇme,‡‰ribu‹), sync_£t_Çme, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "p, \"%s\", \"%s\", %x")

222 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


223 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_ÇmeA
, (*
p
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
), (
ITT_FORMAT
…, objty³,y³Ën, objÇme,‚am–’,‡‰ribu‹),‚Ùify_sync_ÇmeA, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p, \"%s\", %d, \"%s\", %d, %x")

224 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_ÇmeW
, (*
p
, cÚ¡ 
wch¬_t
 *
objty³
, 
ty³Ën
, cÚ¡ wch¬_ˆ*
objÇme
, 
Çm–’
, 
©Œibu‹
), (
ITT_FORMAT
…, objty³,y³Ën, objÇme,‚am–’,‡‰ribu‹),‚Ùify_sync_ÇmeW, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p, \"%S\", %d, \"%S\", %d, %x")

226 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_Çme
, (*
p
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
), (
ITT_FORMAT
…, objty³,y³Ën, objÇme,‚am–’,‡‰ribu‹),‚Ùify_sync_Çme, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p, \"%s\", %d, \"%s\", %d, %x")

229 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_´•¬e
, (*
p
), (
ITT_FORMAT
…),‚Ùify_sync_´•¬e, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p")

230 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_ÿnûl
, (*
p
), (
ITT_FORMAT
…),‚Ùify_sync_ÿnûl, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p")

231 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_acquœed
, (*
p
), (
ITT_FORMAT
…),‚Ùify_sync_acquœed, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p")

232 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_»Ëasšg
, (*
p
), (
ITT_FORMAT
…),‚Ùify_sync_»Ëasšg, 
__™t_group_sync
 | 
__™t_group_fsync
 | 
__™t_group_Ëgacy
, "%p")

235 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_»ad
, (*
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), memÜy_»ad, 
__™t_group_Ëgacy
, "%p, %lu")

236 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_wr™e
, (*
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), memÜy_wr™e, 
__™t_group_Ëgacy
, "%p, %lu")

237 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_upd©e
, (*
addr
, 
size_t
 
size
), (
ITT_FORMAT
‡ddr, size), memÜy_upd©e, 
__™t_group_Ëgacy
, "%p, %lu")

239 
ITT_STUB
(
LIBITTAPI
, 
__™t_¡©e_t
, 
¡©e_g‘
, (), (
ITT_NO_PARAMS
), s‹_g‘, 
__™t_group_Ëgacy
, "no‡rgs")

240 
ITT_STUB
(
LIBITTAPI
, 
__™t_¡©e_t
, 
¡©e_£t
, (__™t_¡©e_ˆ
s
), (
ITT_FORMAT
 s), s‹_£t, 
__™t_group_Ëgacy
, "%d")

241 
ITT_STUB
(
LIBITTAPI
, 
__™t_obj_¡©e_t
, 
obj_mode_£t
, (
__™t_obj_´İ_t
 
p
, __™t_obj_¡©e_ˆ
s
), (
ITT_FORMAT
…, s), obj_mode_£t, 
__™t_group_Ëgacy
, "%d, %d")

242 
ITT_STUB
(
LIBITTAPI
, 
__™t_thr_¡©e_t
, 
thr_mode_£t
, (
__™t_thr_´İ_t
 
p
, __™t_thr_¡©e_ˆ
s
), (
ITT_FORMAT
…, s),hr_mode_£t, 
__™t_group_Ëgacy
, "%d, %d")

244 #iâdeà
__ITT_INTERNAL_BODY


245 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


246 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹A
, (cÚ¡ *
domaš
), (
ITT_FORMAT
 domaš), f¿me_ü—‹A, 
__™t_group_äame
, "\"%s\"")

247 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹W
, (cÚ¡ 
wch¬_t
 *
domaš
), (
ITT_FORMAT
 domaš), f¿me_ü—‹W, 
__™t_group_äame
, "\"%s\"")

249 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹
, (cÚ¡ *
domaš
), (
ITT_FORMAT
 domaš), f¿me_ü—‹, 
__™t_group_äame
, "\"%s\"")

252 
ITT_STUBV
(
ITTAPI
, , 
äame_begš
, (
__™t_äame
 
äame
), (
ITT_FORMAT
 f¿me), f¿me_begš, 
__™t_group_äame
, "%p")

253 
ITT_STUBV
(
ITTAPI
, , 
äame_’d
, (
__™t_äame
 
äame
), (
ITT_FORMAT
 f¿me), f¿me_’d, 
__™t_group_äame
, "%p")

255 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_de¡roy
, (
__™t_couÁ”
 
id
), (
ITT_FORMAT
 id), couÁ”_de¡roy, 
__™t_group_couÁ”
, "%p")

256 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc
, (
__™t_couÁ”
 
id
), (
ITT_FORMAT
 id), couÁ”_šc, 
__™t_group_couÁ”
, "%p")

257 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_šc_d–
, (
__™t_couÁ”
 
id
, 
v®ue
), (
ITT_FORMAT
 id, v®ue), couÁ”_šc_d–, 
__™t_group_couÁ”
, "%p, %lu")

258 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec
, (
__™t_couÁ”
 
id
), (
ITT_FORMAT
 id), couÁ”_dec, 
__™t_group_couÁ”
, "%p")

259 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_dec_d–
, (
__™t_couÁ”
 
id
, 
v®ue
), (
ITT_FORMAT
 id, v®ue), couÁ”_dec_d–, 
__™t_group_couÁ”
, "%p, %lu")

260 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_£t_v®ue
, (
__™t_couÁ”
 
id
, *
v®ue_±r
), (
ITT_FORMAT
 id, v®ue_±r), couÁ”_£t_v®ue, 
__™t_group_couÁ”
, "%p, %p")

261 
ITT_STUBV
(
ITTAPI
, , 
couÁ”_£t_v®ue_ex
, (
__™t_couÁ”
 
id
, 
__™t_şock_domaš
 *
şock_domaš
, 
time¡amp
, *
v®ue_±r
), (
ITT_FORMAT
 id, clock_domaš,ime¡amp, v®ue_±r), couÁ”_£t_v®ue_ex, 
__™t_group_couÁ”
, "%p, %p, %llu, %p")

263 #iâdeà
__ITT_INTERNAL_BODY


264 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


265 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹A
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), m¬k_ü—‹A, 
__™t_group_m¬k
, "\"%s\"")

266 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
), (
ITT_FORMAT
‚ame), m¬k_ü—‹W, 
__™t_group_m¬k
, "\"%S\"")

268 
ITT_STUB
(
ITTAPI
, 
__™t_m¬k_ty³
, 
m¬k_ü—‹
, (cÚ¡ *
Çme
), (
ITT_FORMAT
‚ame), m¬k_ü—‹, 
__™t_group_m¬k
, "\"%s\"")

271 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


272 
ITT_STUB
(
ITTAPI
, , 
m¬kA
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬kA, 
__™t_group_m¬k
, "%d, \"%s\"")

273 
ITT_STUB
(
ITTAPI
, , 
m¬kW
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬kW, 
__™t_group_m¬k
, "%d, \"%S\"")

275 
ITT_STUB
(
ITTAPI
, , 
m¬k
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬k, 
__™t_group_m¬k
, "%d, \"%s\"")

277 
ITT_STUB
(
ITTAPI
, , 
m¬k_off
, (
__™t_m¬k_ty³
 
mt
), (
ITT_FORMAT
 mt), m¬k_off, 
__™t_group_m¬k
, "%d")

278 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


279 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®A
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬k_glob®A, 
__™t_group_m¬k
, "%d, \"%s\"")

280 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®W
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ 
wch¬_t
 *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬k_glob®W, 
__™t_group_m¬k
, "%d, \"%S\"")

282 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®
, (
__™t_m¬k_ty³
 
mt
, cÚ¡ *
·¿m‘”
), (
ITT_FORMAT
 mt,…¬am‘”), m¬k_glob®, 
__™t_group_m¬k
, "%d, \"%S\"")

284 
ITT_STUB
(
ITTAPI
, , 
m¬k_glob®_off
, (
__™t_m¬k_ty³
 
mt
), (
ITT_FORMAT
 mt), m¬k_glob®_off, 
__™t_group_m¬k
, "%d")

286 #iâdeà
__ITT_INTERNAL_BODY


287 
ITT_STUB
(
ITTAPI
, 
__™t_ÿÎ”
, 
¡ack_ÿÎ”_ü—‹
, (), (
ITT_NO_PARAMS
), sck_ÿÎ”_ü—‹, 
__™t_group_¡™ch
, "no‡rgs")

289 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ”_de¡roy
, (
__™t_ÿÎ”
 
id
), (
ITT_FORMAT
 id), sck_ÿÎ”_de¡roy, 
__™t_group_¡™ch
, "%p")

290 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ“_’‹r
, (
__™t_ÿÎ”
 
id
), (
ITT_FORMAT
 id), sck_ÿÎ“_’‹r, 
__™t_group_¡™ch
, "%p")

291 
ITT_STUBV
(
ITTAPI
, , 
¡ack_ÿÎ“_Ëave
, (
__™t_ÿÎ”
 
id
), (
ITT_FORMAT
 id), sck_ÿÎ“_Ëave, 
__™t_group_¡™ch
, "%p")

293 
ITT_STUB
(
ITTAPI
, 
__™t_şock_domaš
*, 
şock_domaš_ü—‹
, (
__™t_g‘_şock_šfo_â
 
â
, * 
â_d©a
), (
ITT_FORMAT
 fn, fn_d©a), clock_domaš_ü—‹, 
__™t_group_¡ruùu»
, "%p, %p")

294 
ITT_STUBV
(
ITTAPI
, , 
şock_domaš_»£t
, (), (
ITT_NO_PARAMS
), clock_domaš_»£t, 
__™t_group_¡ruùu»
, "no‡rgs")

295 
ITT_STUBV
(
ITTAPI
, , 
id_ü—‹_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id), id_ü—‹_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu")

296 
ITT_STUBV
(
ITTAPI
, , 
id_de¡roy_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id), id_de¡roy_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu")

297 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id,…¬’tid,‚ame),ask_begš_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu, %lu, %p")

298 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_â_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, __™t_id 
·»Áid
, * 
â
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id,…¬’tid, fn),ask_begš_â_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu, %lu, %p")

299 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp),ask_’d_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu")

300 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ov”Ïµed
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
, __™t_id 
·»Á
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, id,…¬’t,‚ame),ask_begš_ov”Ïµed, 
__™t_group_¡ruùu»
, "%p, %lu, %lu, %p")

301 
ITT_STUBV
(
ITTAPI
, , 
sk_begš_ov”Ïµed_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, __™t_id 
·»Áid
, 
__™t_¡ršg_hªdË
 *
Çme
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id,…¬’tid,‚ame),ask_begš_ov”Ïµed_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu, %lu, %p")

302 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ov”Ïµed
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, id),ask_’d_ov”Ïµed, 
__™t_group_¡ruùu»
, "%p, %lu")

303 
ITT_STUBV
(
ITTAPI
, , 
sk_’d_ov”Ïµed_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id),ask_’d_ov”Ïµed_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu")

304 
ITT_STUBV
(
ITTAPI
, , 
m¬k”_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
id
, 
__™t_¡ršg_hªdË
 *
Çme
, 
__™t_scİe
 
scİe
), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, id,‚ame, scİe), m¬k”_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu, %p, %d")

305 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_add_w™h_scİe
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, 
__™t_m‘ad©a_ty³
 
ty³
, 
size_t
 
couÁ
, *
d©a
), (
ITT_FORMAT
 domaš, scİe, key,y³, couÁ, d©a), m‘ad©a_add_w™h_scİe, 
__™t_group_¡ruùu»
, "%p, %d, %p, %d, %lu, %p")

306 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


307 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİeA
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, scİe, key, d©a,†’gth), m‘ad©a_¡r_add_w™h_scİeA, 
__™t_group_¡ruùu»
, "%p, %d, %p, %p, %lu")

308 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİeW
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ 
wch¬_t
 *
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, scİe, key, d©a,†’gth), m‘ad©a_¡r_add_w™h_scİeW, 
__™t_group_¡ruùu»
, "%p, %d, %p, %p, %lu")

310 
ITT_STUBV
(
ITTAPI
, , 
m‘ad©a_¡r_add_w™h_scİe
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_scİe
 
scİe
, 
__™t_¡ršg_hªdË
 *
key
, cÚ¡ *
d©a
, 
size_t
 
Ëngth
), (
ITT_FORMAT
 domaš, scİe, key, d©a,†’gth), m‘ad©a_¡r_add_w™h_scİe, 
__™t_group_¡ruùu»
, "%p, %d, %p, %p, %lu")

312 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_to_cu¼’t_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, 
__™t_id
 

), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp,„–©iÚ,a),„–©iÚ_add_to_cu¼’t_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %d, %lu")

313 
ITT_STUBV
(
ITTAPI
, , 
»ÏtiÚ_add_ex
, (cÚ¡ 
__™t_domaš
 *
domaš
, 
__™t_şock_domaš
* 
şock_domaš
, 
time¡amp
, 
__™t_id
 
h—d
, 
__™t_»ÏtiÚ
 
»ÏtiÚ
, __™t_id 

), (
ITT_FORMAT
 domaš, clock_domaš,ime¡amp, h—d,„–©iÚ,a),„–©iÚ_add_ex, 
__™t_group_¡ruùu»
, "%p, %p, %lu, %lu, %d, %lu")

314 
ITT_STUB
(
ITTAPI
, 
__™t_Œack_group
*, 
Œack_group_ü—‹
, (
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_group_ty³
 
Œack_group_ty³
), (
ITT_FORMAT
‚ame,¿ck_group_ty³),¿ck_group_ü—‹, 
__™t_group_¡ruùu»
, "%p, %d")

315 
ITT_STUB
(
ITTAPI
, 
__™t_Œack
*, 
Œack_ü—‹
, (
__™t_Œack_group
* 
Œack_group
,
__™t_¡ršg_hªdË
* 
Çme
, 
__™t_Œack_ty³
 
Œack_ty³
), (
ITT_FORMAT
¿ck_group,‚ame,¿ck_ty³),¿ck_ü—‹, 
__™t_group_¡ruùu»
, "%p, %p, %d")

316 
ITT_STUBV
(
ITTAPI
, , 
£t_Œack
, (
__™t_Œack
 *
Œack
), (
ITT_FORMAT
¿ck), s‘_Œack, 
__™t_group_¡ruùu»
, "%p")

318 #iâdeà
__ITT_INTERNAL_BODY


319 
ITT_STUB
(
ITTAPI
, cÚ¡ *, 
­i_v”siÚ
, (), (
ITT_NO_PARAMS
),‡pi_v”siÚ, 
__™t_group_®l
 & ~
__™t_group_Ëgacy
, "no‡rgs")

322 #iâdeà
__ITT_INTERNAL_BODY


323 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


324 
ITT_STUB
(
ITTAPI
, , 
av_§veA
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
), (
ITT_FORMAT
 d©a,„ªk, dim’siÚs,y³, feP©h, cŞumnOrd”),‡v_§veA, 
__™t_group_¬¿ys
, "%p, %d, %p, %d, \"%s\", %d")

325 
ITT_STUB
(
ITTAPI
, , 
av_§veW
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ 
wch¬_t
 *
feP©h
, 
cŞumnOrd”
), (
ITT_FORMAT
 d©a,„ªk, dim’siÚs,y³, feP©h, cŞumnOrd”),‡v_§veW, 
__™t_group_¬¿ys
, "%p, %d, %p, %d, \"%S\", %d")

327 
ITT_STUB
(
ITTAPI
, , 
av_§ve
, (*
d©a
, 
¿nk
, cÚ¡ *
dim’siÚs
, 
ty³
, cÚ¡ *
feP©h
, 
cŞumnOrd”
), (
ITT_FORMAT
 d©a,„ªk, dim’siÚs,y³, feP©h, cŞumnOrd”),‡v_§ve, 
__™t_group_¬¿ys
, "%p, %d, %p, %d, \"%s\", %d")

331 #iâdeà
__ITT_INTERNAL_BODY


332 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


333 
ITT_STUBV
(
ITTAPI
, , 
moduË_lßdA
, (*
¡¬t_addr
, * 
’d_addr
, cÚ¡ *
·th
), (
ITT_FORMAT
 s¹_addr,ƒnd_addr,…©h), moduË_lßdA, 
__™t_group_nÚe
, "%p, %p, %p")

334 
ITT_STUBV
(
ITTAPI
, , 
moduË_lßdW
, (*
¡¬t_addr
, * 
’d_addr
, cÚ¡ 
wch¬_t
 *
·th
), (
ITT_FORMAT
 s¹_addr,ƒnd_addr,…©h), moduË_lßdW, 
__™t_group_nÚe
, "%p, %p, %p")

336 
ITT_STUBV
(
ITTAPI
, , 
moduË_lßd
, (*
¡¬t_addr
, *
’d_addr
, cÚ¡ *
·th
), (
ITT_FORMAT
 s¹_addr,ƒnd_addr,…©h), moduË_lßd, 
__™t_group_nÚe
, "%p, %p, %p")

	@thirdparty/ittnotify/ittnotify_types.h

11 #iâdeà
_ITTNOTIFY_TYPES_H_


12 
	#_ITTNOTIFY_TYPES_H_


	)

14 
	e___™t_group_id


16 
	m__™t_group_nÚe
 = 0,

17 
	m__™t_group_Ëgacy
 = 1<<0,

18 
	m__™t_group_cÚŒŞ
 = 1<<1,

19 
	m__™t_group_th»ad
 = 1<<2,

20 
	m__™t_group_m¬k
 = 1<<3,

21 
	m__™t_group_sync
 = 1<<4,

22 
	m__™t_group_fsync
 = 1<<5,

23 
	m__™t_group_j™
 = 1<<6,

24 
	m__™t_group_mod–
 = 1<<7,

25 
	m__™t_group_¥l™‹r_mš
 = 1<<7,

26 
	m__™t_group_couÁ”
 = 1<<8,

27 
	m__™t_group_äame
 = 1<<9,

28 
	m__™t_group_¡™ch
 = 1<<10,

29 
	m__™t_group_h—p
 = 1<<11,

30 
	m__™t_group_¥l™‹r_max
 = 1<<12,

31 
	m__™t_group_¡ruùu»
 = 1<<12,

32 
	m__™t_group_suµ»ss
 = 1<<13,

33 
	m__™t_group_¬¿ys
 = 1<<14,

34 
	m__™t_group_®l
 = -1

35 } 
	t__™t_group_id
;

37 #´agm¨
·ck
(
push
, 8)

39 
	s___™t_group_li¡


41 
__™t_group_id
 
	mid
;

42 cÚ¡ * 
	mÇme
;

43 } 
	t__™t_group_li¡
;

45 #´agm¨
·ck
(
pİ
)

47 
	#ITT_GROUP_LIST
(
v¬Çme
) \

48 
__™t_group_li¡
 
v¬Çme
[] = { \

49 { 
__™t_group_®l
, "all" }, \

50 { 
__™t_group_cÚŒŞ
, "control" }, \

51 { 
__™t_group_th»ad
, "thread" }, \

52 { 
__™t_group_m¬k
, "mark" }, \

53 { 
__™t_group_sync
, "sync" }, \

54 { 
__™t_group_fsync
, "fsync" }, \

55 { 
__™t_group_j™
, "jit" }, \

56 { 
__™t_group_mod–
, "model" }, \

57 { 
__™t_group_couÁ”
, "counter" }, \

58 { 
__™t_group_äame
, "frame" }, \

59 { 
__™t_group_¡™ch
, "stitch" }, \

60 { 
__™t_group_h—p
, "heap" }, \

61 { 
__™t_group_¡ruùu»
, "structure" }, \

62 { 
__™t_group_suµ»ss
, "suppress" }, \

63 { 
__™t_group_¬¿ys
, "arrays" }, \

64 { 
__™t_group_nÚe
, 
NULL
 } \

65 }

	)

	@thirdparty/ittnotify/legacy/ittnotify.h

10 #iâdeà
_LEGACY_ITTNOTIFY_H_


11 
	#_LEGACY_ITTNOTIFY_H_


	)

19 #iâdeà
ITT_OS_WIN


20 
	#ITT_OS_WIN
 1

	)

23 #iâdeà
ITT_OS_LINUX


24 
	#ITT_OS_LINUX
 2

	)

27 #iâdeà
ITT_OS_MAC


28 
	#ITT_OS_MAC
 3

	)

31 #iâdeà
ITT_OS_FREEBSD


32 
	#ITT_OS_FREEBSD
 4

	)

35 #iâdeà
ITT_OS


36 #ià
defšed
 
WIN32
 || defšed 
_WIN32


37 
	#ITT_OS
 
ITT_OS_WIN


	)

38 #–ià
defšed
Ğ
__APPLE__
 ) && defšedĞ
__MACH__
 )

39 
	#ITT_OS
 
ITT_OS_MAC


	)

40 #–ià
defšed
Ğ
__F»eBSD__
 )

41 
	#ITT_OS
 
ITT_OS_FREEBSD


	)

43 
	#ITT_OS
 
ITT_OS_LINUX


	)

47 #iâdeà
ITT_PLATFORM_WIN


48 
	#ITT_PLATFORM_WIN
 1

	)

51 #iâdeà
ITT_PLATFORM_POSIX


52 
	#ITT_PLATFORM_POSIX
 2

	)

55 #iâdeà
ITT_PLATFORM_MAC


56 
	#ITT_PLATFORM_MAC
 3

	)

59 #iâdeà
ITT_PLATFORM_FREEBSD


60 
	#ITT_PLATFORM_FREEBSD
 4

	)

63 #iâdeà
ITT_PLATFORM


64 #ià
ITT_OS
==
ITT_OS_WIN


65 
	#ITT_PLATFORM
 
ITT_PLATFORM_WIN


	)

66 #–ià
ITT_OS
==
ITT_OS_MAC


67 
	#ITT_PLATFORM
 
ITT_PLATFORM_MAC


	)

68 #–ià
ITT_OS
==
ITT_OS_FREEBSD


69 
	#ITT_PLATFORM
 
ITT_PLATFORM_FREEBSD


	)

71 
	#ITT_PLATFORM
 
ITT_PLATFORM_POSIX


	)

75 #ià
defšed
(
_UNICODE
è&& !defšed(
UNICODE
)

76 
	#UNICODE


	)

79 
	~<¡ddef.h
>

80 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


81 
	~<tch¬.h
>

83 
	~<¡dšt.h
>

84 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

85 
	~<wch¬.h
>

89 #iâdeà
ITTAPI_CDECL


90 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


91 
	#ITTAPI_CDECL
 
__cdeş


	)

93 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


94 
	#ITTAPI_CDECL
 
	`__©Œibu‹__
 ((
cdeş
))

	)

96 
	#ITTAPI_CDECL


	)

101 #iâdeà
STDCALL


102 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


103 
	#STDCALL
 
__¡dÿÎ


	)

105 #ià
defšed
 
_M_IX86
 || defšed 
__i386__


106 
	#STDCALL
 
	`__©Œibu‹__
 ((
¡dÿÎ
))

	)

108 
	#STDCALL


	)

113 
	#ITTAPI
 
ITTAPI_CDECL


	)

114 
	#LIBITTAPI
 
ITTAPI_CDECL


	)

117 
	#ITTAPI_CALL
 
ITTAPI_CDECL


	)

118 
	#LIBITTAPI_CALL
 
ITTAPI_CDECL


	)

120 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


122 
	#ITT_INLINE
 
__fÜûšlše


	)

123 
	#ITT_INLINE_ATTRIBUTE


	)

130 #ifdeà
__STRICT_ANSI__


131 
	#ITT_INLINE
 

	)

132 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
unu£d
))

	)

134 
	#ITT_INLINE
 
šlše


	)

135 
	#ITT_INLINE_ATTRIBUTE
 
	`__©Œibu‹__
((
®ways_šlše
, 
unu£d
))

	)

142 
	#ITT_JOIN_AUX
(
p
,
n
èp##
	)
n

143 
	#ITT_JOIN
(
p
,
n
è
	`ITT_JOIN_AUX
Õ,n)

	)

145 #ifdeà
ITT_MAJOR


146 #undeà
ITT_MAJOR


148 #ifdeà
ITT_MINOR


149 #undeà
ITT_MINOR


151 
	#ITT_MAJOR
 3

	)

152 
	#ITT_MINOR
 0

	)

155 
	#ITT_VERSIONIZE
(
x
) \

156 
	`ITT_JOIN
(
x
, \

157 
	`ITT_JOIN
(
_
, \

158 
	`ITT_JOIN
(
ITT_MAJOR
, \

159 
	`ITT_JOIN
(
_
, 
ITT_MINOR
))))

	)

161 #iâdeà
INTEL_ITTNOTIFY_PREFIX


162 
	#INTEL_ITTNOTIFY_PREFIX
 
__™t_


	)

164 #iâdeà
INTEL_ITTNOTIFY_POSTFIX


165 
	#INTEL_ITTNOTIFY_POSTFIX
 
_±r_


	)

168 
	#ITTNOTIFY_NAME_AUX
(
n
è
	`ITT_JOIN
(
INTEL_ITTNOTIFY_PREFIX
,n)

	)

169 
	#ITTNOTIFY_NAME
(
n
è
	`ITT_VERSIONIZE
(
	`ITTNOTIFY_NAME_AUX
(
	`ITT_JOIN
Ò,
INTEL_ITTNOTIFY_POSTFIX
)))

	)

171 
	#ITTNOTIFY_VOID
(
n
è(!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)

	)

172 
	#ITTNOTIFY_DATA
(
n
è(!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)

	)

174 
	#ITTNOTIFY_VOID_D0
(
n
,
d
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d)

	)

175 
	#ITTNOTIFY_VOID_D1
(
n
,
d
,
x
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x)

	)

176 
	#ITTNOTIFY_VOID_D2
(
n
,
d
,
x
,
y
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y)

	)

177 
	#ITTNOTIFY_VOID_D3
(
n
,
d
,
x
,
y
,
z
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z)

	)

178 
	#ITTNOTIFY_VOID_D4
(
n
,
d
,
x
,
y
,
z
,
a
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a)

	)

179 
	#ITTNOTIFY_VOID_D5
(
n
,
d
,
x
,
y
,
z
,
a
,
b
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b)

	)

180 
	#ITTNOTIFY_VOID_D6
(
n
,
d
,
x
,
y
,
z
,
a
,
b
,
c
è(!(d)->
æags
è? ()0 : (!
	`ITTNOTIFY_NAME
Ò)è? ()0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b,c)

	)

181 
	#ITTNOTIFY_DATA_D0
(
n
,
d
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d)

	)

182 
	#ITTNOTIFY_DATA_D1
(
n
,
d
,
x
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x)

	)

183 
	#ITTNOTIFY_DATA_D2
(
n
,
d
,
x
,
y
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y)

	)

184 
	#ITTNOTIFY_DATA_D3
(
n
,
d
,
x
,
y
,
z
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z)

	)

185 
	#ITTNOTIFY_DATA_D4
(
n
,
d
,
x
,
y
,
z
,
a
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a)

	)

186 
	#ITTNOTIFY_DATA_D5
(
n
,
d
,
x
,
y
,
z
,
a
,
b
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b)

	)

187 
	#ITTNOTIFY_DATA_D6
(
n
,
d
,
x
,
y
,
z
,
a
,
b
,
c
è(!(d)->
æags
è? 0 : (!
	`ITTNOTIFY_NAME
Ò)è? 0 : ITTNOTIFY_NAMEÒ)(d,x,y,z,a,b,c)

	)

189 #ifdeà
ITT_STUB


190 #undeà
ITT_STUB


192 #ifdeà
ITT_STUBV


193 #undeà
ITT_STUBV


195 
	#ITT_STUBV
(
­i
,
ty³
,
Çme
,
¬gs
) \

196 
	`ty³
 (
	t­i
* 
	tITT_JOIN
(
	tITTNOTIFY_NAME
(
	tÇme
),
	t_t
)è
	t¬gs
; \

197 
	`ITT_JOIN
(
	`ITTNOTIFY_NAME
(
Çme
),
_t
èITTNOTIFY_NAMEÒame);

	)

198 
	#ITT_STUB
 
ITT_STUBV


	)

201 #ifdeà
__ılu¥lus


232 #iâdeà
_ITTNOTIFY_H_


234 
ITTAPI
 
__™t_·u£
();

236 
ITTAPI
 
__™t_»sume
();

238 
ITTAPI
 
__™t_d‘ach
();

241 #iâdeà
INTEL_NO_MACRO_BODY


242 #iâdeà
INTEL_NO_ITTNOTIFY_API


243 
ITT_STUBV
(
ITTAPI
, , 
·u£
, ())

244 
ITT_STUBV
(
ITTAPI
, , 
»sume
, ())

245 
ITT_STUBV
(
ITTAPI
, , 
d‘ach
, ())

246 
	#__™t_·u£
 
	`ITTNOTIFY_VOID
(
·u£
)

	)

247 
	#__™t_·u£_±r
 
	`ITTNOTIFY_NAME
(
·u£
)

	)

248 
	#__™t_»sume
 
	`ITTNOTIFY_VOID
(
»sume
)

	)

249 
	#__™t_»sume_±r
 
	`ITTNOTIFY_NAME
(
»sume
)

	)

250 
	#__™t_d‘ach
 
	`ITTNOTIFY_VOID
(
d‘ach
)

	)

251 
	#__™t_d‘ach_±r
 
	`ITTNOTIFY_NAME
(
d‘ach
)

	)

253 
	#__™t_·u£
()

	)

254 
	#__™t_·u£_±r
 0

	)

255 
	#__™t_»sume
()

	)

256 
	#__™t_»sume_±r
 0

	)

257 
	#__™t_d‘ach
()

	)

258 
	#__™t_d‘ach_±r
 0

	)

261 
	#__™t_·u£_±r
 0

	)

262 
	#__™t_»sume_±r
 0

	)

263 
	#__™t_d‘ach_±r
 0

	)

281 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


282 
LIBITTAPI
 
__™t_thr_Çme_£tA
(cÚ¡ *
Çme
, 
Çm–’
);

283 
LIBITTAPI
 
__™t_thr_Çme_£tW
(cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
);

284 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

285 
	#__™t_thr_Çme_£t
 
__™t_thr_Çme_£tW


	)

286 
	#__™t_thr_Çme_£t_±r
 
__™t_thr_Çme_£tW_±r


	)

288 
	#__™t_thr_Çme_£t
 
__™t_thr_Çme_£tA


	)

289 
	#__™t_thr_Çme_£t_±r
 
__™t_thr_Çme_£tA_±r


	)

292 
LIBITTAPI
 
__™t_thr_Çme_£t
(cÚ¡ *
Çme
, 
Çm–’
);

296 #iâdeà
INTEL_NO_MACRO_BODY


297 #iâdeà
INTEL_NO_ITTNOTIFY_API


298 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


299 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£tA
, (cÚ¡ *
Çme
, 
Çm–’
))

300 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£tW
, (cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
))

302 
ITT_STUB
(
LIBITTAPI
, , 
thr_Çme_£t
, (cÚ¡ *
Çme
, 
Çm–’
))

304 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


305 
	#__™t_thr_Çme_£tA
 
	`ITTNOTIFY_DATA
(
thr_Çme_£tA
)

	)

306 
	#__™t_thr_Çme_£tA_±r
 
	`ITTNOTIFY_NAME
(
thr_Çme_£tA
)

	)

307 
	#__™t_thr_Çme_£tW
 
	`ITTNOTIFY_DATA
(
thr_Çme_£tW
)

	)

308 
	#__™t_thr_Çme_£tW_±r
 
	`ITTNOTIFY_NAME
(
thr_Çme_£tW
)

	)

310 
	#__™t_thr_Çme_£t
 
	`ITTNOTIFY_DATA
(
thr_Çme_£t
)

	)

311 
	#__™t_thr_Çme_£t_±r
 
	`ITTNOTIFY_NAME
(
thr_Çme_£t
)

	)

314 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


315 
	#__™t_thr_Çme_£tA
(
Çme
, 
Çm–’
)

	)

316 
	#__™t_thr_Çme_£tA_±r
 0

	)

317 
	#__™t_thr_Çme_£tW
(
Çme
, 
Çm–’
)

	)

318 
	#__™t_thr_Çme_£tW_±r
 0

	)

320 
	#__™t_thr_Çme_£t
(
Çme
, 
Çm–’
)

	)

321 
	#__™t_thr_Çme_£t_±r
 0

	)

325 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


326 
	#__™t_thr_Çme_£tA_±r
 0

	)

327 
	#__™t_thr_Çme_£tW_±r
 0

	)

329 
	#__™t_thr_Çme_£t_±r
 0

	)

338 
LIBITTAPI
 
__™t_thr_ignÜe
();

341 #iâdeà
INTEL_NO_MACRO_BODY


342 #iâdeà
INTEL_NO_ITTNOTIFY_API


343 
ITT_STUBV
(
LIBITTAPI
, , 
thr_ignÜe
, ())

344 
	#__™t_thr_ignÜe
 
	`ITTNOTIFY_VOID
(
thr_ignÜe
)

	)

345 
	#__™t_thr_ignÜe_±r
 
	`ITTNOTIFY_NAME
(
thr_ignÜe
)

	)

347 
	#__™t_thr_ignÜe
()

	)

348 
	#__™t_thr_ignÜe_±r
 0

	)

351 
	#__™t_thr_ignÜe_±r
 0

	)

367 
	#__™t_©Œ_b¬r›r
 1

	)

373 
	#__™t_©Œ_mu‹x
 2

	)

388 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


389 
ITTAPI
 
__™t_sync_£t_ÇmeA
(*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
);

390 
ITTAPI
 
__™t_sync_£t_ÇmeW
(*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
);

391 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

392 
	#__™t_sync_£t_Çme
 
__™t_sync_£t_ÇmeW


	)

393 
	#__™t_sync_£t_Çme_±r
 
__™t_sync_£t_ÇmeW_±r


	)

395 
	#__™t_sync_£t_Çme
 
__™t_sync_£t_ÇmeA


	)

396 
	#__™t_sync_£t_Çme_±r
 
__™t_sync_£t_ÇmeA_±r


	)

399 
ITTAPI
 
__™t_sync_£t_Çme
(*
addr
, cÚ¡ * 
objty³
, cÚ¡ * 
objÇme
, 
©Œibu‹
);

403 #iâdeà
INTEL_NO_MACRO_BODY


404 #iâdeà
INTEL_NO_ITTNOTIFY_API


405 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


406 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_ÇmeA
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
))

407 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_ÇmeW
, (*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, cÚ¡ wch¬_ˆ*
objÇme
, 
©Œibu‹
))

409 
ITT_STUBV
(
ITTAPI
, , 
sync_£t_Çme
, (*
addr
, cÚ¡ *
objty³
, cÚ¡ *
objÇme
, 
©Œibu‹
))

411 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


412 
	#__™t_sync_£t_ÇmeA
 
	`ITTNOTIFY_VOID
(
sync_£t_ÇmeA
)

	)

413 
	#__™t_sync_£t_ÇmeA_±r
 
	`ITTNOTIFY_NAME
(
sync_£t_ÇmeA
)

	)

414 
	#__™t_sync_£t_ÇmeW
 
	`ITTNOTIFY_VOID
(
sync_£t_ÇmeW
)

	)

415 
	#__™t_sync_£t_ÇmeW_±r
 
	`ITTNOTIFY_NAME
(
sync_£t_ÇmeW
)

	)

417 
	#__™t_sync_£t_Çme
 
	`ITTNOTIFY_VOID
(
sync_£t_Çme
)

	)

418 
	#__™t_sync_£t_Çme_±r
 
	`ITTNOTIFY_NAME
(
sync_£t_Çme
)

	)

421 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


422 
	#__™t_sync_£t_ÇmeA
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

423 
	#__™t_sync_£t_ÇmeA_±r
 0

	)

424 
	#__™t_sync_£t_ÇmeW
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

425 
	#__™t_sync_£t_ÇmeW_±r
 0

	)

427 
	#__™t_sync_£t_Çme
(
addr
, 
objty³
, 
objÇme
, 
©Œibu‹
)

	)

428 
	#__™t_sync_£t_Çme_±r
 0

	)

432 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


433 
	#__™t_sync_£t_ÇmeA_±r
 0

	)

434 
	#__™t_sync_£t_ÇmeW_±r
 0

	)

436 
	#__™t_sync_£t_Çme_±r
 0

	)

456 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


457 
LIBITTAPI
 
__™t_nÙify_sync_ÇmeA
(*
addr
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
);

458 
LIBITTAPI
 
__™t_nÙify_sync_ÇmeW
(*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, 
ty³Ën
, cÚ¡ wch¬_ˆ*
objÇme
, 
Çm–’
, 
©Œibu‹
);

459 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

460 
	#__™t_nÙify_sync_Çme
 
__™t_nÙify_sync_ÇmeW


	)

462 
	#__™t_nÙify_sync_Çme
 
__™t_nÙify_sync_ÇmeA


	)

465 
LIBITTAPI
 
__™t_nÙify_sync_Çme
(*
addr
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
);

469 #iâdeà
INTEL_NO_MACRO_BODY


470 #iâdeà
INTEL_NO_ITTNOTIFY_API


471 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


472 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_ÇmeA
, (*
addr
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
))

473 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_ÇmeW
, (*
addr
, cÚ¡ 
wch¬_t
 *
objty³
, 
ty³Ën
, cÚ¡ wch¬_ˆ*
objÇme
, 
Çm–’
, 
©Œibu‹
))

475 
ITT_STUB
(
LIBITTAPI
, , 
nÙify_sync_Çme
, (*
addr
, cÚ¡ *
objty³
, 
ty³Ën
, cÚ¡ *
objÇme
, 
Çm–’
, 
©Œibu‹
))

477 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


478 
	#__™t_nÙify_sync_ÇmeA
 
	`ITTNOTIFY_DATA
(
nÙify_sync_ÇmeA
)

	)

479 
	#__™t_nÙify_sync_ÇmeA_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_ÇmeA
)

	)

480 
	#__™t_nÙify_sync_ÇmeW
 
	`ITTNOTIFY_DATA
(
nÙify_sync_ÇmeW
)

	)

481 
	#__™t_nÙify_sync_ÇmeW_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_ÇmeW
)

	)

483 
	#__™t_nÙify_sync_Çme
 
	`ITTNOTIFY_DATA
(
nÙify_sync_Çme
)

	)

484 
	#__™t_nÙify_sync_Çme_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_Çme
)

	)

487 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


488 
	#__™t_nÙify_sync_ÇmeA
(
addr
, 
objty³
, 
ty³Ën
, 
objÇme
, 
Çm–’
, 
©Œibu‹
)

	)

489 
	#__™t_nÙify_sync_ÇmeA_±r
 0

	)

490 
	#__™t_nÙify_sync_ÇmeW
(
addr
, 
objty³
, 
ty³Ën
, 
objÇme
, 
Çm–’
, 
©Œibu‹
)

	)

491 
	#__™t_nÙify_sync_ÇmeW_±r
 0

	)

493 
	#__™t_nÙify_sync_Çme
(
addr
, 
objty³
, 
ty³Ën
, 
objÇme
, 
Çm–’
, 
©Œibu‹
)

	)

494 
	#__™t_nÙify_sync_Çme_±r
 0

	)

498 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


499 
	#__™t_nÙify_sync_ÇmeA_±r
 0

	)

500 
	#__™t_nÙify_sync_ÇmeW_±r
 0

	)

502 
	#__™t_nÙify_sync_Çme_±r
 0

	)

511 
LIBITTAPI
 
__™t_nÙify_sync_´•¬e
(* 
addr
);

514 #iâdeà
INTEL_NO_MACRO_BODY


515 #iâdeà
INTEL_NO_ITTNOTIFY_API


516 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_´•¬e
, (*
addr
))

517 
	#__™t_nÙify_sync_´•¬e
 
	`ITTNOTIFY_VOID
(
nÙify_sync_´•¬e
)

	)

518 
	#__™t_nÙify_sync_´•¬e_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_´•¬e
)

	)

520 
	#__™t_nÙify_sync_´•¬e
(
addr
)

	)

521 
	#__™t_nÙify_sync_´•¬e_±r
 0

	)

524 
	#__™t_nÙify_sync_´•¬e_±r
 0

	)

532 
LIBITTAPI
 
__™t_nÙify_sync_ÿnûl
(*
addr
);

535 #iâdeà
INTEL_NO_MACRO_BODY


536 #iâdeà
INTEL_NO_ITTNOTIFY_API


537 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_ÿnûl
, (*
addr
))

538 
	#__™t_nÙify_sync_ÿnûl
 
	`ITTNOTIFY_VOID
(
nÙify_sync_ÿnûl
)

	)

539 
	#__™t_nÙify_sync_ÿnûl_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_ÿnûl
)

	)

541 
	#__™t_nÙify_sync_ÿnûl
(
addr
)

	)

542 
	#__™t_nÙify_sync_ÿnûl_±r
 0

	)

545 
	#__™t_nÙify_sync_ÿnûl_±r
 0

	)

553 
LIBITTAPI
 
__™t_nÙify_sync_acquœed
(*
addr
);

556 #iâdeà
INTEL_NO_MACRO_BODY


557 #iâdeà
INTEL_NO_ITTNOTIFY_API


558 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_acquœed
, (*
addr
))

559 
	#__™t_nÙify_sync_acquœed
 
	`ITTNOTIFY_VOID
(
nÙify_sync_acquœed
)

	)

560 
	#__™t_nÙify_sync_acquœed_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_acquœed
)

	)

562 
	#__™t_nÙify_sync_acquœed
(
addr
)

	)

563 
	#__™t_nÙify_sync_acquœed_±r
 0

	)

566 
	#__™t_nÙify_sync_acquœed_±r
 0

	)

574 
LIBITTAPI
 
__™t_nÙify_sync_»Ëasšg
(* 
addr
);

577 #iâdeà
INTEL_NO_MACRO_BODY


578 #iâdeà
INTEL_NO_ITTNOTIFY_API


579 
ITT_STUBV
(
LIBITTAPI
, , 
nÙify_sync_»Ëasšg
, (*
addr
))

580 
	#__™t_nÙify_sync_»Ëasšg
 
	`ITTNOTIFY_VOID
(
nÙify_sync_»Ëasšg
)

	)

581 
	#__™t_nÙify_sync_»Ëasšg_±r
 
	`ITTNOTIFY_NAME
(
nÙify_sync_»Ëasšg
)

	)

583 
	#__™t_nÙify_sync_»Ëasšg
(
addr
)

	)

584 
	#__™t_nÙify_sync_»Ëasšg_±r
 0

	)

587 
	#__™t_nÙify_sync_»Ëasšg_±r
 0

	)

592 #iâdeà
_ITTNOTIFY_H_


601 
	t__™t_ev’t
;

608 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


609 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹A
(cÚ¡ *
Çme
, 
Çm–’
);

610 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹W
(cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
);

611 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

612 
	#__™t_ev’t_ü—‹
 
__™t_ev’t_ü—‹W


	)

613 
	#__™t_ev’t_ü—‹_±r
 
__™t_ev’t_ü—‹W_±r


	)

615 
	#__™t_ev’t_ü—‹
 
__™t_ev’t_ü—‹A


	)

616 
	#__™t_ev’t_ü—‹_±r
 
__™t_ev’t_ü—‹A_±r


	)

619 
__™t_ev’t
 
LIBITTAPI
 
__™t_ev’t_ü—‹
(cÚ¡ *
Çme
, 
Çm–’
);

623 #iâdeà
INTEL_NO_MACRO_BODY


624 #iâdeà
INTEL_NO_ITTNOTIFY_API


625 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


626 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹A
, (cÚ¡ *
Çme
, 
Çm–’
))

627 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹W
, (cÚ¡ 
wch¬_t
 *
Çme
, 
Çm–’
))

629 
ITT_STUB
(
LIBITTAPI
, 
__™t_ev’t
, 
ev’t_ü—‹
, (cÚ¡ *
Çme
, 
Çm–’
))

631 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


632 
	#__™t_ev’t_ü—‹A
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹A
)

	)

633 
	#__™t_ev’t_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹A
)

	)

634 
	#__™t_ev’t_ü—‹W
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹W
)

	)

635 
	#__™t_ev’t_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹W
)

	)

637 
	#__™t_ev’t_ü—‹
 
	`ITTNOTIFY_DATA
(
ev’t_ü—‹
)

	)

638 
	#__™t_ev’t_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
ev’t_ü—‹
)

	)

641 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


642 
	#__™t_ev’t_ü—‹A
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

643 
	#__™t_ev’t_ü—‹A_±r
 0

	)

644 
	#__™t_ev’t_ü—‹W
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

645 
	#__™t_ev’t_ü—‹W_±r
 0

	)

647 
	#__™t_ev’t_ü—‹
(
Çme
, 
Çm–’
è(
__™t_ev’t
)0

	)

648 
	#__™t_ev’t_ü—‹_±r
 0

	)

652 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


653 
	#__™t_ev’t_ü—‹A_±r
 0

	)

654 
	#__™t_ev’t_ü—‹W_±r
 0

	)

656 
	#__™t_ev’t_ü—‹_±r
 0

	)

665 
LIBITTAPI
 
__™t_ev’t_¡¬t
(
__™t_ev’t
 
ev’t
);

668 #iâdeà
INTEL_NO_MACRO_BODY


669 #iâdeà
INTEL_NO_ITTNOTIFY_API


670 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_¡¬t
, (
__™t_ev’t
 
ev’t
))

671 
	#__™t_ev’t_¡¬t
 
	`ITTNOTIFY_DATA
(
ev’t_¡¬t
)

	)

672 
	#__™t_ev’t_¡¬t_±r
 
	`ITTNOTIFY_NAME
(
ev’t_¡¬t
)

	)

674 
	#__™t_ev’t_¡¬t
(
ev’t
è()0

	)

675 
	#__™t_ev’t_¡¬t_±r
 0

	)

678 
	#__™t_ev’t_¡¬t_±r
 0

	)

687 
LIBITTAPI
 
__™t_ev’t_’d
(
__™t_ev’t
 
ev’t
);

690 #iâdeà
INTEL_NO_MACRO_BODY


691 #iâdeà
INTEL_NO_ITTNOTIFY_API


692 
ITT_STUB
(
LIBITTAPI
, , 
ev’t_’d
, (
__™t_ev’t
 
ev’t
))

693 
	#__™t_ev’t_’d
 
	`ITTNOTIFY_DATA
(
ev’t_’d
)

	)

694 
	#__™t_ev’t_’d_±r
 
	`ITTNOTIFY_NAME
(
ev’t_’d
)

	)

696 
	#__™t_ev’t_’d
(
ev’t
è()0

	)

697 
	#__™t_ev’t_’d_±r
 0

	)

700 
	#__™t_ev’t_’d_±r
 0

	)

715 
LIBITTAPI
 
__™t_memÜy_»ad
(*
addr
, 
size_t
 
size
);

718 #iâdeà
INTEL_NO_MACRO_BODY


719 #iâdeà
INTEL_NO_ITTNOTIFY_API


720 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_»ad
, (*
addr
, 
size_t
 
size
))

721 
	#__™t_memÜy_»ad
 
	`ITTNOTIFY_VOID
(
memÜy_»ad
)

	)

722 
	#__™t_memÜy_»ad_±r
 
	`ITTNOTIFY_NAME
(
memÜy_»ad
)

	)

724 
	#__™t_memÜy_»ad
(
addr
, 
size
)

	)

725 
	#__™t_memÜy_»ad_±r
 0

	)

728 
	#__™t_memÜy_»ad_±r
 0

	)

736 
LIBITTAPI
 
__™t_memÜy_wr™e
(*
addr
, 
size_t
 
size
);

739 #iâdeà
INTEL_NO_MACRO_BODY


740 #iâdeà
INTEL_NO_ITTNOTIFY_API


741 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_wr™e
, (*
addr
, 
size_t
 
size
))

742 
	#__™t_memÜy_wr™e
 
	`ITTNOTIFY_VOID
(
memÜy_wr™e
)

	)

743 
	#__™t_memÜy_wr™e_±r
 
	`ITTNOTIFY_NAME
(
memÜy_wr™e
)

	)

745 
	#__™t_memÜy_wr™e
(
addr
, 
size
)

	)

746 
	#__™t_memÜy_wr™e_±r
 0

	)

749 
	#__™t_memÜy_wr™e_±r
 0

	)

757 
LIBITTAPI
 
__™t_memÜy_upd©e
(*
add»ss
, 
size_t
 
size
);

760 #iâdeà
INTEL_NO_MACRO_BODY


761 #iâdeà
INTEL_NO_ITTNOTIFY_API


762 
ITT_STUBV
(
LIBITTAPI
, , 
memÜy_upd©e
, (*
addr
, 
size_t
 
size
))

763 
	#__™t_memÜy_upd©e
 
	`ITTNOTIFY_VOID
(
memÜy_upd©e
)

	)

764 
	#__™t_memÜy_upd©e_±r
 
	`ITTNOTIFY_NAME
(
memÜy_upd©e
)

	)

766 
	#__™t_memÜy_upd©e
(
addr
, 
size
)

	)

767 
	#__™t_memÜy_upd©e_±r
 0

	)

770 
	#__™t_memÜy_upd©e_±r
 0

	)

781 
	t__™t_¡©e_t
;

784 
	e__™t_obj_¡©e
 {

785 
	g__™t_obj_¡©e_”r
 = 0,

786 
	g__™t_obj_¡©e_şr
 = 1,

787 
	g__™t_obj_¡©e_£t
 = 2,

788 
	g__™t_obj_¡©e_u£
 = 3

789 } 
	t__™t_obj_¡©e_t
;

791 
	e__™t_thr_¡©e
 {

792 
	g__™t_thr_¡©e_”r
 = 0,

793 
	g__™t_thr_¡©e_şr
 = 1,

794 
	g__™t_thr_¡©e_£t
 = 2

795 } 
	t__™t_thr_¡©e_t
;

797 
	e__™t_obj_´İ
 {

798 
	g__™t_obj_´İ_w©ch
 = 1,

799 
	g__™t_obj_´İ_ignÜe
 = 2,

800 
	g__™t_obj_´İ_sh¬abË
 = 3

801 } 
	t__™t_obj_´İ_t
;

803 
	e__™t_thr_´İ
 {

804 
	g__™t_thr_´İ_qu›t
 = 1

805 } 
	t__™t_thr_´İ_t
;

812 
__™t_¡©e_t
 
LIBITTAPI
 
__™t_¡©e_g‘
();

815 #iâdeà
INTEL_NO_MACRO_BODY


816 #iâdeà
INTEL_NO_ITTNOTIFY_API


817 
ITT_STUB
(
ITTAPI
, 
__™t_¡©e_t
, 
¡©e_g‘
, ())

818 
	#__™t_¡©e_g‘
 
	`ITTNOTIFY_DATA
(
¡©e_g‘
)

	)

819 
	#__™t_¡©e_g‘_±r
 
	`ITTNOTIFY_NAME
(
¡©e_g‘
)

	)

821 
	#__™t_¡©e_g‘
(è(
__™t_¡©e_t
)0

	)

822 
	#__™t_¡©e_g‘_±r
 0

	)

825 
	#__™t_¡©e_g‘_±r
 0

	)

833 
__™t_¡©e_t
 
LIBITTAPI
 
__™t_¡©e_£t
(__™t_¡©e_ˆ
s
);

836 #iâdeà
INTEL_NO_MACRO_BODY


837 #iâdeà
INTEL_NO_ITTNOTIFY_API


838 
ITT_STUB
(
ITTAPI
, 
__™t_¡©e_t
, 
¡©e_£t
, (__™t_¡©e_ˆ
s
))

839 
	#__™t_¡©e_£t
 
	`ITTNOTIFY_DATA
(
¡©e_£t
)

	)

840 
	#__™t_¡©e_£t_±r
 
	`ITTNOTIFY_NAME
(
¡©e_£t
)

	)

842 
	#__™t_¡©e_£t
(
s
è(
__™t_¡©e_t
)0

	)

843 
	#__™t_¡©e_£t_±r
 0

	)

846 
	#__™t_¡©e_£t_±r
 0

	)

854 
__™t_thr_¡©e_t
 
LIBITTAPI
 
__™t_thr_mode_£t
(
__™t_thr_´İ_t
 
p
, __™t_thr_¡©e_ˆ
s
);

857 #iâdeà
INTEL_NO_MACRO_BODY


858 #iâdeà
INTEL_NO_ITTNOTIFY_API


859 
ITT_STUB
(
ITTAPI
, 
__™t_thr_¡©e_t
, 
thr_mode_£t
, (
__™t_thr_´İ_t
 
p
, __™t_thr_¡©e_ˆ
s
))

860 
	#__™t_thr_mode_£t
 
	`ITTNOTIFY_DATA
(
thr_mode_£t
)

	)

861 
	#__™t_thr_mode_£t_±r
 
	`ITTNOTIFY_NAME
(
thr_mode_£t
)

	)

863 
	#__™t_thr_mode_£t
(
p
, 
s
è(
__™t_thr_¡©e_t
)0

	)

864 
	#__™t_thr_mode_£t_±r
 0

	)

867 
	#__™t_thr_mode_£t_±r
 0

	)

875 
__™t_obj_¡©e_t
 
LIBITTAPI
 
__™t_obj_mode_£t
(
__™t_obj_´İ_t
 
p
, __™t_obj_¡©e_ˆ
s
);

878 #iâdeà
INTEL_NO_MACRO_BODY


879 #iâdeà
INTEL_NO_ITTNOTIFY_API


880 
ITT_STUB
(
ITTAPI
, 
__™t_obj_¡©e_t
, 
obj_mode_£t
, (
__™t_obj_´İ_t
 
p
, __™t_obj_¡©e_ˆ
s
))

881 
	#__™t_obj_mode_£t
 
	`ITTNOTIFY_DATA
(
obj_mode_£t
)

	)

882 
	#__™t_obj_mode_£t_±r
 
	`ITTNOTIFY_NAME
(
obj_mode_£t
)

	)

884 
	#__™t_obj_mode_£t
(
p
, 
s
è(
__™t_obj_¡©e_t
)0

	)

885 
	#__™t_obj_mode_£t_±r
 0

	)

888 
	#__™t_obj_mode_£t_±r
 0

	)

902 
__™t_äame_t
 *
	t__™t_äame
;

907 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


908 
__™t_äame
 
ITTAPI
 
__™t_äame_ü—‹A
(cÚ¡ *
domaš
);

909 
__™t_äame
 
ITTAPI
 
__™t_äame_ü—‹W
(cÚ¡ 
wch¬_t
 *
domaš
);

910 #ià
defšed
(
UNICODE
è|| defšed(
_UNICODE
)

911 
	#__™t_äame_ü—‹
 
__™t_äame_ü—‹W


	)

912 
	#__™t_äame_ü—‹_±r
 
__™t_äame_ü—‹W_±r


	)

914 
	#__™t_äame_ü—‹
 
__™t_äame_ü—‹A


	)

915 
	#__™t_äame_ü—‹_±r
 
__™t_äame_ü—‹A_±r


	)

918 
__™t_äame
 
ITTAPI
 
__™t_äame_ü—‹
(cÚ¡ *
domaš
);

922 #iâdeà
INTEL_NO_MACRO_BODY


923 #iâdeà
INTEL_NO_ITTNOTIFY_API


924 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


925 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹A
, (cÚ¡ *
domaš
))

926 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹W
, (cÚ¡ 
wch¬_t
 *
domaš
))

928 
ITT_STUB
(
ITTAPI
, 
__™t_äame
, 
äame_ü—‹
, (cÚ¡ *
domaš
))

930 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


931 
	#__™t_äame_ü—‹A
 
	`ITTNOTIFY_DATA
(
äame_ü—‹A
)

	)

932 
	#__™t_äame_ü—‹A_±r
 
	`ITTNOTIFY_NAME
(
äame_ü—‹A
)

	)

933 
	#__™t_äame_ü—‹W
 
	`ITTNOTIFY_DATA
(
äame_ü—‹W
)

	)

934 
	#__™t_äame_ü—‹W_±r
 
	`ITTNOTIFY_NAME
(
äame_ü—‹W
)

	)

936 
	#__™t_äame_ü—‹
 
	`ITTNOTIFY_DATA
(
äame_ü—‹
)

	)

937 
	#__™t_äame_ü—‹_±r
 
	`ITTNOTIFY_NAME
(
äame_ü—‹
)

	)

940 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


941 
	#__™t_äame_ü—‹A
(
domaš
)

	)

942 
	#__™t_äame_ü—‹A_±r
 0

	)

943 
	#__™t_äame_ü—‹W
(
domaš
)

	)

944 
	#__™t_äame_ü—‹W_±r
 0

	)

946 
	#__™t_äame_ü—‹
(
domaš
)

	)

947 
	#__™t_äame_ü—‹_±r
 0

	)

951 #ià
ITT_PLATFORM
==
ITT_PLATFORM_WIN


952 
	#__™t_äame_ü—‹A_±r
 0

	)

953 
	#__™t_äame_ü—‹W_±r
 0

	)

955 
	#__™t_äame_ü—‹_±r
 0

	)

961 
ITTAPI
 
__™t_äame_begš
(
__™t_äame
 
äame
);

963 
ITTAPI
 
__™t_äame_’d
 (
__™t_äame
 
äame
);

966 #iâdeà
INTEL_NO_MACRO_BODY


967 #iâdeà
INTEL_NO_ITTNOTIFY_API


968 
ITT_STUBV
(
ITTAPI
, , 
äame_begš
, (
__™t_äame
 
äame
))

969 
ITT_STUBV
(
ITTAPI
, , 
äame_’d
, (
__™t_äame
 
äame
))

970 
	#__™t_äame_begš
 
	`ITTNOTIFY_VOID
(
äame_begš
)

	)

971 
	#__™t_äame_begš_±r
 
	`ITTNOTIFY_NAME
(
äame_begš
)

	)

972 
	#__™t_äame_’d
 
	`ITTNOTIFY_VOID
(
äame_’d
)

	)

973 
	#__™t_äame_’d_±r
 
	`ITTNOTIFY_NAME
(
äame_’d
)

	)

975 
	#__™t_äame_begš
(
äame
)

	)

976 
	#__™t_äame_begš_±r
 0

	)

977 
	#__™t_äame_’d
(
äame
)

	)

978 
	#__™t_äame_’d_±r
 0

	)

981 
	#__™t_äame_begš_±r
 0

	)

982 
	#__™t_äame_’d_±r
 0

	)

987 #ifdeà
__ılu¥lus


	@tsan_annotations.cpp

14 
	~"t§n_ªnÙ©iÚs.h
"

16 
	~<¡dio.h
>

18 
	tu±r
;

19 sigÃd 
	t¥Œ
;

21 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eH­³nsBefÜe
(cÚ¡ *
f
,

22 
l
, 
u±r
 
addr
è{
	}
}

23 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eH­³nsAá”
(cÚ¡ *
f
, 
l
,

24 
u±r
 
addr
è{
	}
}

25 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eCÚdV¬SigÇl
(cÚ¡ *
f
,

26 
l
, 
u±r
 
cv
è{
	}
}

27 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eCÚdV¬SigÇlAÎ
(cÚ¡ *
f
,

28 
l
, 
u±r
 
cv
) {

29 
	}
}

30 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eMu‹xIsNÙPHB
(cÚ¡ *
f
,

31 
l
, 
u±r
 
mu
è{
	}
}

32 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eCÚdV¬Wa™
(cÚ¡ *
f
, 
l
,

33 
u±r
 
cv
, u±¸
lock
è{
	}
}

34 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eRWLockC»©e
(cÚ¡ *
f
, 
l
,

35 
u±r
 
m
è{
	}
}

36 "C" 
__©Œibu‹__
((
w—k
)) 

37 
	$AÂÙ©eRWLockC»©eStic
(cÚ¡ *
f
, 
l
, 
u±r
 
m
è{
	}
}

38 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eRWLockDe¡roy
(cÚ¡ *
f
,

39 
l
, 
u±r
 
m
è{
	}
}

40 "C" 
__©Œibu‹__
((
w—k
)) 

41 
	$AÂÙ©eRWLockAcquœed
(cÚ¡ *
f
, 
l
, 
u±r
 
m
, u±¸
is_w
è{
	}
}

42 "C" 
__©Œibu‹__
((
w—k
)) 

43 
	$AÂÙ©eRWLockR–—£d
(cÚ¡ *
f
, 
l
, 
u±r
 
m
, u±¸
is_w
è{
	}
}

44 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eT¿ûMemÜy
(cÚ¡ *
f
, 
l
,

45 
u±r
 
mem
è{
	}
}

46 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eFlushS‹
(cÚ¡ *
f
, 
l
) {

47 
	}
}

48 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eNewMemÜy
(cÚ¡ *
f
, 
l
,

49 
u±r
 
mem
, u±¸
size
è{
	}
}

50 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eNoOp
(cÚ¡ *
f
, 
l
,

51 
u±r
 
mem
è{
	}
}

52 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eFlushEx³ùedRaûs
(cÚ¡ *
f
,

53 
l
è{
	}
}

54 "C" 
__©Œibu‹__
((
w—k
)) 

55 
	$AÂÙ©eEÇbËRaûD‘eùiÚ
(cÚ¡ *
f
, 
l
, 
’abË
è{
	}
}

56 "C" 
__©Œibu‹__
((
w—k
)) 

57 
	$AÂÙ©eMu‹xIsU£dAsCÚdV¬
(cÚ¡ *
f
, 
l
, 
u±r
 
mu
è{
	}
}

58 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©ePCQG‘
(cÚ¡ *
f
, 
l
,

59 
u±r
 
pcq
è{
	}
}

60 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©ePCQPut
(cÚ¡ *
f
, 
l
,

61 
u±r
 
pcq
è{
	}
}

62 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©ePCQDe¡roy
(cÚ¡ *
f
, 
l
,

63 
u±r
 
pcq
è{
	}
}

64 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©ePCQC»©e
(cÚ¡ *
f
, 
l
,

65 
u±r
 
pcq
è{
	}
}

66 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eEx³ùRaû
(cÚ¡ *
f
, 
l
,

67 
u±r
 
mem
, *
desc
) {

68 
	}
}

69 "C" 
__©Œibu‹__
((
w—k
)) 

70 
	$AÂÙ©eB’ignRaûSized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
size
, *
desc
) {

71 
	}
}

72 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eB’ignRaû
(cÚ¡ *
f
, 
l
,

73 
u±r
 
mem
, *
desc
) {

74 
	}
}

75 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeR—dsBegš
(cÚ¡ *
f
,

76 
l
è{
	}
}

77 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeR—dsEnd
(cÚ¡ *
f
,

78 
l
è{
	}
}

79 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeWr™esBegš
(cÚ¡ *
f
,

80 
l
è{
	}
}

81 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeWr™esEnd
(cÚ¡ *
f
,

82 
l
è{
	}
}

83 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeSyncBegš
(cÚ¡ *
f
,

84 
l
è{
	}
}

85 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eIgnÜeSyncEnd
(cÚ¡ *
f
,

86 
l
è{
	}
}

87 "C" 
__©Œibu‹__
((
w—k
)) 

88 
	$AÂÙ©ePublishMemÜyRªge
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
, u±¸
size
è{
	}
}

89 "C" 
__©Œibu‹__
((
w—k
)) 

90 
	$AÂÙ©eUÅublishMemÜyRªge
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
, u±¸
size
è{
	}
}

91 "C" 
__©Œibu‹__
((
w—k
)è
	$AÂÙ©eTh»adName
(cÚ¡ *
f
, 
l
,

92 *
Çme
è{
	}
}

93 "C" 
__©Œibu‹__
((
w—k
)) 

94 
	$WTFAÂÙ©eH­³nsBefÜe
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
è{
	}
}

95 "C" 
__©Œibu‹__
((
w—k
)) 

96 
	$WTFAÂÙ©eH­³nsAá”
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
è{
	}
}

97 "C" 
__©Œibu‹__
((
w—k
)) 

98 
	$WTFAÂÙ©eB’ignRaûSized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
sz
,

99 *
desc
è{
	}
}

100 "C" 
__©Œibu‹__
((
w—k
)è
	$RuÂšgOnV®gršd
(è{  0; 
	}
}

101 "C" 
__©Œibu‹__
((
w—k
)è
	$V®gršdSlowdown
(è{  0; 
	}
}

102 "C" 
__©Œibu‹__
((
w—k
)) const __attribute__((weak)) *

103 
	$Th»adSª™iz”Qu”y
(cÚ¡ *
qu”y
) {

105 
	}
}

106 "C" 
__©Œibu‹__
((
w—k
)) 

107 
	$AÂÙ©eMemÜyIsIn™Ÿlized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
sz
è{
	}
}

	@tsan_annotations.h

15 #iâdeà
TSAN_ANNOTATIONS_H


16 
	#TSAN_ANNOTATIONS_H


	)

18 
	~"kmp_cÚfig.h
"

21 
	tu±r
;

22 sigÃd 
	t¥Œ
;

24 #ifdeà
__ılu¥lus


29 
AÂÙ©eH­³nsBefÜe
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
);

30 
AÂÙ©eH­³nsAá”
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
);

31 
AÂÙ©eCÚdV¬SigÇl
(cÚ¡ *
f
, 
l
, 
u±r
 
cv
);

32 
AÂÙ©eCÚdV¬SigÇlAÎ
(cÚ¡ *
f
, 
l
, 
u±r
 
cv
);

33 
AÂÙ©eMu‹xIsNÙPHB
(cÚ¡ *
f
, 
l
, 
u±r
 
mu
);

34 
AÂÙ©eCÚdV¬Wa™
(cÚ¡ *
f
, 
l
, 
u±r
 
cv
, u±¸
lock
);

35 
AÂÙ©eRWLockC»©e
(cÚ¡ *
f
, 
l
, 
u±r
 
m
);

36 
AÂÙ©eRWLockC»©eStic
(cÚ¡ *
f
, 
l
, 
u±r
 
m
);

37 
AÂÙ©eRWLockDe¡roy
(cÚ¡ *
f
, 
l
, 
u±r
 
m
);

38 
AÂÙ©eRWLockAcquœed
(cÚ¡ *
f
, 
l
, 
u±r
 
m
, u±¸
is_w
);

39 
AÂÙ©eRWLockR–—£d
(cÚ¡ *
f
, 
l
, 
u±r
 
m
, u±¸
is_w
);

40 
AÂÙ©eT¿ûMemÜy
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
);

41 
AÂÙ©eFlushS‹
(cÚ¡ *
f
, 
l
);

42 
AÂÙ©eNewMemÜy
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
size
);

43 
AÂÙ©eNoOp
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
);

44 
AÂÙ©eFlushEx³ùedRaûs
(cÚ¡ *
f
, 
l
);

45 
AÂÙ©eEÇbËRaûD‘eùiÚ
(cÚ¡ *
f
, 
l
, 
’abË
);

46 
AÂÙ©eMu‹xIsU£dAsCÚdV¬
(cÚ¡ *
f
, 
l
, 
u±r
 
mu
);

47 
AÂÙ©ePCQG‘
(cÚ¡ *
f
, 
l
, 
u±r
 
pcq
);

48 
AÂÙ©ePCQPut
(cÚ¡ *
f
, 
l
, 
u±r
 
pcq
);

49 
AÂÙ©ePCQDe¡roy
(cÚ¡ *
f
, 
l
, 
u±r
 
pcq
);

50 
AÂÙ©ePCQC»©e
(cÚ¡ *
f
, 
l
, 
u±r
 
pcq
);

51 
AÂÙ©eEx³ùRaû
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, *
desc
);

52 
AÂÙ©eB’ignRaûSized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
size
,

53 *
desc
);

54 
AÂÙ©eB’ignRaû
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, *
desc
);

55 
AÂÙ©eIgnÜeR—dsBegš
(cÚ¡ *
f
, 
l
);

56 
AÂÙ©eIgnÜeR—dsEnd
(cÚ¡ *
f
, 
l
);

57 
AÂÙ©eIgnÜeWr™esBegš
(cÚ¡ *
f
, 
l
);

58 
AÂÙ©eIgnÜeWr™esEnd
(cÚ¡ *
f
, 
l
);

59 
AÂÙ©eIgnÜeSyncBegš
(cÚ¡ *
f
, 
l
);

60 
AÂÙ©eIgnÜeSyncEnd
(cÚ¡ *
f
, 
l
);

61 
AÂÙ©ePublishMemÜyRªge
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
, u±¸
size
);

62 
AÂÙ©eUÅublishMemÜyRªge
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
, u±¸
size
);

63 
AÂÙ©eTh»adName
(cÚ¡ *
f
, 
l
, *
Çme
);

64 
WTFAÂÙ©eH­³nsBefÜe
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
);

65 
WTFAÂÙ©eH­³nsAá”
(cÚ¡ *
f
, 
l
, 
u±r
 
addr
);

66 
WTFAÂÙ©eB’ignRaûSized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
sz
,

67 *
desc
);

68 
RuÂšgOnV®gršd
();

69 
V®gršdSlowdown
();

70 cÚ¡ *
Th»adSª™iz”Qu”y
(cÚ¡ *
qu”y
);

71 
AÂÙ©eMemÜyIsIn™Ÿlized
(cÚ¡ *
f
, 
l
, 
u±r
 
mem
, u±¸
sz
);

73 #ifdeà
__ılu¥lus


77 #ifdeà
TSAN_SUPPORT


78 
	#ANNOTATE_HAPPENS_AFTER
(
addr
) \

79 
	`AÂÙ©eH­³nsAá”
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

80 
	#ANNOTATE_HAPPENS_BEFORE
(
addr
) \

81 
	`AÂÙ©eH­³nsBefÜe
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

82 
	#ANNOTATE_IGNORE_WRITES_BEGIN
() \

83 
	`AÂÙ©eIgnÜeWr™esBegš
(
__FILE__
, 
__LINE__
)

	)

84 
	#ANNOTATE_IGNORE_WRITES_END
(è
	`AÂÙ©eIgnÜeWr™esEnd
(
__FILE__
, 
__LINE__
)

	)

85 
	#ANNOTATE_RWLOCK_CREATE
(
lck
) \

86 
	`AÂÙ©eRWLockC»©e
(
__FILE__
, 
__LINE__
, (
u±r
)
lck
)

	)

87 
	#ANNOTATE_RWLOCK_RELEASED
(
lck
) \

88 
	`AÂÙ©eRWLockAcquœed
(
__FILE__
, 
__LINE__
, (
u±r
)
lck
, 1)

	)

89 
	#ANNOTATE_RWLOCK_ACQUIRED
(
lck
) \

90 
	`AÂÙ©eRWLockR–—£d
(
__FILE__
, 
__LINE__
, (
u±r
)
lck
, 1)

	)

91 
	#ANNOTATE_BARRIER_BEGIN
(
addr
) \

92 
	`AÂÙ©eH­³nsBefÜe
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

93 
	#ANNOTATE_BARRIER_END
(
addr
) \

94 
	`AÂÙ©eH­³nsAá”
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

95 
	#ANNOTATE_REDUCE_AFTER
(
addr
) \

96 
	`AÂÙ©eH­³nsAá”
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

97 
	#ANNOTATE_REDUCE_BEFORE
(
addr
) \

98 
	`AÂÙ©eH­³nsBefÜe
(
__FILE__
, 
__LINE__
, (
u±r
)
addr
)

	)

100 
	#ANNOTATE_HAPPENS_AFTER
(
addr
)

	)

101 
	#ANNOTATE_HAPPENS_BEFORE
(
addr
)

	)

102 
	#ANNOTATE_IGNORE_WRITES_BEGIN
()

	)

103 
	#ANNOTATE_IGNORE_WRITES_END
()

	)

104 
	#ANNOTATE_RWLOCK_CREATE
(
lck
)

	)

105 
	#ANNOTATE_RWLOCK_RELEASED
(
lck
)

	)

106 
	#ANNOTATE_RWLOCK_ACQUIRED
(
lck
)

	)

107 
	#ANNOTATE_BARRIER_BEGIN
(
addr
)

	)

108 
	#ANNOTATE_BARRIER_END
(
addr
)

	)

109 
	#ANNOTATE_REDUCE_AFTER
(
addr
)

	)

110 
	#ANNOTATE_REDUCE_BEFORE
(
addr
)

	)

113 
	#ANNOTATE_QUEUING


	)

114 
	#ANNOTATE_TICKET


	)

115 
	#ANNOTATE_FUTEX


	)

116 
	#ANNOTATE_TAS


	)

117 
	#ANNOTATE_DRDPA


	)

119 #ifdeà
ANNOTATE_QUEUING


120 
	#ANNOTATE_QUEUING_CREATE
(
lck
)

	)

121 
	#ANNOTATE_QUEUING_RELEASED
(
lck
è
	`ANNOTATE_HAPPENS_BEFORE
Öck)

	)

122 
	#ANNOTATE_QUEUING_ACQUIRED
(
lck
è
	`ANNOTATE_HAPPENS_AFTER
Öck)

	)

124 
	#ANNOTATE_QUEUING_CREATE
(
lck
)

	)

125 
	#ANNOTATE_QUEUING_RELEASED
(
lck
)

	)

126 
	#ANNOTATE_QUEUING_ACQUIRED
(
lck
)

	)

129 #ifdeà
ANNOTATE_TICKET


130 
	#ANNOTATE_TICKET_CREATE
(
lck
)

	)

131 
	#ANNOTATE_TICKET_RELEASED
(
lck
è
	`ANNOTATE_HAPPENS_BEFORE
Öck)

	)

132 
	#ANNOTATE_TICKET_ACQUIRED
(
lck
è
	`ANNOTATE_HAPPENS_AFTER
Öck)

	)

134 
	#ANNOTATE_TICKET_CREATE
(
lck
)

	)

135 
	#ANNOTATE_TICKET_RELEASED
(
lck
)

	)

136 
	#ANNOTATE_TICKET_ACQUIRED
(
lck
)

	)

139 #ifdeà
ANNOTATE_FUTEX


140 
	#ANNOTATE_FUTEX_CREATE
(
lck
)

	)

141 
	#ANNOTATE_FUTEX_RELEASED
(
lck
è
	`ANNOTATE_HAPPENS_BEFORE
Öck)

	)

142 
	#ANNOTATE_FUTEX_ACQUIRED
(
lck
è
	`ANNOTATE_HAPPENS_AFTER
Öck)

	)

144 
	#ANNOTATE_FUTEX_CREATE
(
lck
)

	)

145 
	#ANNOTATE_FUTEX_RELEASED
(
lck
)

	)

146 
	#ANNOTATE_FUTEX_ACQUIRED
(
lck
)

	)

149 #ifdeà
ANNOTATE_TAS


150 
	#ANNOTATE_TAS_CREATE
(
lck
)

	)

151 
	#ANNOTATE_TAS_RELEASED
(
lck
è
	`ANNOTATE_HAPPENS_BEFORE
Öck)

	)

152 
	#ANNOTATE_TAS_ACQUIRED
(
lck
è
	`ANNOTATE_HAPPENS_AFTER
Öck)

	)

154 
	#ANNOTATE_TAS_CREATE
(
lck
)

	)

155 
	#ANNOTATE_TAS_RELEASED
(
lck
)

	)

156 
	#ANNOTATE_TAS_ACQUIRED
(
lck
)

	)

159 #ifdeà
ANNOTATE_DRDPA


160 
	#ANNOTATE_DRDPA_CREATE
(
lck
)

	)

161 
	#ANNOTATE_DRDPA_RELEASED
(
lck
è
	`ANNOTATE_HAPPENS_BEFORE
Öck)

	)

162 
	#ANNOTATE_DRDPA_ACQUIRED
(
lck
è
	`ANNOTATE_HAPPENS_AFTER
Öck)

	)

164 
	#ANNOTATE_DRDPA_CREATE
(
lck
)

	)

165 
	#ANNOTATE_DRDPA_RELEASED
(
lck
)

	)

166 
	#ANNOTATE_DRDPA_ACQUIRED
(
lck
)

	)

	@z_Linux_util.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 
	~"kmp_i18n.h
"

16 
	~"kmp_io.h
"

17 
	~"kmp_™t.h
"

18 
	~"kmp_lock.h
"

19 
	~"kmp_¡©s.h
"

20 
	~"kmp_¡r.h
"

21 
	~"kmp_wa™_»Ëa£.h
"

22 
	~"kmp_w¿µ”_g‘pid.h
"

24 #ià!
KMP_OS_DRAGONFLY
 && !
KMP_OS_FREEBSD
 && !
KMP_OS_NETBSD
 && !
KMP_OS_OPENBSD


25 
	~<®loÿ.h
>

27 
	~<m©h.h
>

28 
	~<sys/»sourû.h
>

29 
	~<sys/sysÿÎ.h
>

30 
	~<sys/time.h
>

31 
	~<sys/times.h
>

32 
	~<uni¡d.h
>

34 #ià
KMP_OS_LINUX
 && !
KMP_OS_CNK


35 
	~<sys/sysšfo.h
>

36 #ià
KMP_USE_FUTEX


42 #iâdeà
FUTEX_WAIT


43 
	#FUTEX_WAIT
 0

	)

45 #iâdeà
FUTEX_WAKE


46 
	#FUTEX_WAKE
 1

	)

49 #–ià
KMP_OS_DARWIN


50 
	~<mach/mach.h
>

51 
	~<sys/sysùl.h
>

52 #–ià
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD


53 
	~<sys/ty³s.h
>

54 
	~<sys/sysùl.h
>

55 
	~<sys/u£r.h
>

56 
	~<±h»ad_Å.h
>

57 #–ià
KMP_OS_NETBSD
 || 
KMP_OS_OPENBSD


58 
	~<sys/ty³s.h
>

59 
	~<sys/sysùl.h
>

62 
	~<ùy³.h
>

63 
	~<dœ’t.h
>

64 
	~<fú.h
>

66 
	~"t§n_ªnÙ©iÚs.h
"

68 
	skmp_sys_tim”
 {

69 
time¥ec
 
	m¡¬t
;

73 
	#TS2NS
(
time¥ec
è((Ñime¥ec).
tv_£c
 * 1e9è+ (time¥ec).
tv_n£c
)

	)

75 
kmp_sys_tim”
 
	g__kmp_sys_tim”_d©a
;

77 #ià
KMP_HANDLE_SIGNALS


78 (*
	tsig_func_t
)();

79 
STATIC_EFI2_WORKAROUND
 
sigaùiÚ
 
__kmp_sighldrs
[
NSIG
];

80 
sig£t_t
 
__kmp_sig£t
;

83 
__kmp_š™_ruÁime
 = 
FALSE
;

85 
__kmp_fÜk_couÁ
 = 0;

87 
±h»ad_cÚd©Œ_t
 
__kmp_su¥’d_cÚd_©Œ
;

88 
±h»ad_mu‹x©Œ_t
 
__kmp_su¥’d_mu‹x_©Œ
;

90 
kmp_cÚd_®ign_t
 
__kmp_wa™_cv
;

91 
kmp_mu‹x_®ign_t
 
__kmp_wa™_mx
;

93 
kmp_ušt64
 
__kmp_ticks_³r_m£c
 = 1000000;

95 #ifdeà
DEBUG_SUSPEND


96 
	$__kmp_´št_cÚd
(*
bufãr
, 
kmp_cÚd_®ign_t
 *
cÚd
) {

97 
	`KMP_SNPRINTF
(
bufãr
, 128, "(cond (lock (%ld, %d)), (descr (%p)))",

98 
cÚd
->
c_cÚd
.
__c_lock
.
__¡©us
, cÚd->c_cÚd.__c_lock.
__¥šlock
,

99 
cÚd
->
c_cÚd
.
__c_wa™šg
);

100 
	}
}

103 #ià((
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD
è&& 
KMP_AFFINITY_SUPPORTED
)

107 
	$__kmp_affš™y_bšd_th»ad
(
which
) {

108 
	`KMP_ASSERT2
(
	`KMP_AFFINITY_CAPABLE
(),

111 
kmp_affš_mask_t
 *
mask
;

112 
	`KMP_CPU_ALLOC_ON_STACK
(
mask
);

113 
	`KMP_CPU_ZERO
(
mask
);

114 
	`KMP_CPU_SET
(
which
, 
mask
);

115 
	`__kmp_£t_sy¡em_affš™y
(
mask
, 
TRUE
);

116 
	`KMP_CPU_FREE_FROM_STACK
(
mask
);

117 
	}
}

122 
	$__kmp_affš™y_d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
) {

125 #ià
KMP_OS_LINUX


126 
	#KMP_CPU_SET_SIZE_LIMIT
 (1024 * 1024)

	)

127 #–ià
KMP_OS_FREEBSD


128 
	#KMP_CPU_SET_SIZE_LIMIT
 ((
ıu£t_t
))

	)

132 #ià
KMP_OS_LINUX


136 
gCode
;

137 
sCode
;

138 *
buf
;

139 
buf
 = (*)
	`KMP_INTERNAL_MALLOC
(
KMP_CPU_SET_SIZE_LIMIT
);

140 
gCode
 = 
	`sysÿÎ
(
__NR_sched_g‘affš™y
, 0, 
KMP_CPU_SET_SIZE_LIMIT
, 
buf
);

141 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

143 
gCode
, 
”ºo
));

146 ià(
gCode
 < 0) {

148 ià(
__kmp_affš™y_v”bo£
 ||

149 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

150 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

151 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

152 
”rÜ
 = 
”ºo
;

153 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

154 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
G‘AffSysC®lNÙSuµÜ‹d
, 
’v_v¬
),

155 
”r_code
, 
__kmp_msg_nuÎ
);

156 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

157 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

160 
	`KMP_AFFINITY_DISABLE
();

161 
	`KMP_INTERNAL_FREE
(
buf
);

164 ià(
gCode
 > 0) {

169 
sCode
 = 
	`sysÿÎ
(
__NR_sched_£ffš™y
, 0, 
gCode
, 
NULL
);

170 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

172 
gCode
, 
sCode
, 
”ºo
));

173 ià(
sCode
 < 0) {

174 ià(
”ºo
 =ğ
ENOSYS
) {

175 ià(
__kmp_affš™y_v”bo£
 ||

176 (
__kmp_affš™y_w¬nšgs
 &&

177 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

178 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

179 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

180 
”rÜ
 = 
”ºo
;

181 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

182 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
S‘AffSysC®lNÙSuµÜ‹d
, 
’v_v¬
),

183 
”r_code
, 
__kmp_msg_nuÎ
);

184 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

185 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

188 
	`KMP_AFFINITY_DISABLE
();

189 
	`KMP_INTERNAL_FREE
(
buf
);

191 ià(
”ºo
 =ğ
EFAULT
) {

192 
	`KMP_AFFINITY_ENABLE
(
gCode
);

193 
	`KA_TRACE
(10, ("__kmp_affinity_determine_capable: "

195 ()
__kmp_affš_mask_size
));

196 
	`KMP_INTERNAL_FREE
(
buf
);

204 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

206 
size
;

207 
size
 = 1; siz<ğ
KMP_CPU_SET_SIZE_LIMIT
; size *= 2) {

208 
gCode
 = 
	`sysÿÎ
(
__NR_sched_g‘affš™y
, 0, 
size
, 
buf
);

209 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

211 
size
, 
gCode
, 
”ºo
));

213 ià(
gCode
 < 0) {

214 ià(
”ºo
 =ğ
ENOSYS
) {

216 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

219 
size
));

220 ià(
__kmp_affš™y_v”bo£
 ||

221 (
__kmp_affš™y_w¬nšgs
 &&

222 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

223 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

224 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

225 
”rÜ
 = 
”ºo
;

226 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

227 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
G‘AffSysC®lNÙSuµÜ‹d
, 
’v_v¬
),

228 
”r_code
, 
__kmp_msg_nuÎ
);

229 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

230 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

233 
	`KMP_AFFINITY_DISABLE
();

234 
	`KMP_INTERNAL_FREE
(
buf
);

240 
sCode
 = 
	`sysÿÎ
(
__NR_sched_£ffš™y
, 0, 
gCode
, 
NULL
);

241 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

243 
gCode
, 
sCode
, 
”ºo
));

244 ià(
sCode
 < 0) {

245 ià(
”ºo
 =ğ
ENOSYS
) {

247 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

250 
size
));

251 ià(
__kmp_affš™y_v”bo£
 ||

252 (
__kmp_affš™y_w¬nšgs
 &&

253 (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

254 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

255 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

256 
”rÜ
 = 
”ºo
;

257 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

258 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
S‘AffSysC®lNÙSuµÜ‹d
, 
’v_v¬
),

259 
”r_code
, 
__kmp_msg_nuÎ
);

260 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

261 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

264 
	`KMP_AFFINITY_DISABLE
();

265 
	`KMP_INTERNAL_FREE
(
buf
);

268 ià(
”ºo
 =ğ
EFAULT
) {

269 
	`KMP_AFFINITY_ENABLE
(
gCode
);

270 
	`KA_TRACE
(10, ("__kmp_affinity_determine_capable: "

272 ()
__kmp_affš_mask_size
));

273 
	`KMP_INTERNAL_FREE
(
buf
);

278 #–ià
KMP_OS_FREEBSD


279 
gCode
;

280 *
buf
;

281 
buf
 = (*)
	`KMP_INTERNAL_MALLOC
(
KMP_CPU_SET_SIZE_LIMIT
);

282 
gCode
 = 
	`±h»ad_g‘affš™y_Å
(
	`±h»ad_£lf
(), 
KMP_CPU_SET_SIZE_LIMIT
, 
»š‹½»t_ÿ¡
<
ıu£t_t
 *>(
buf
));

283 
	`KA_TRACE
(30, ("__kmp_affinity_determine_capable: "

285 
gCode
, 
”ºo
));

286 ià(
gCode
 == 0) {

287 
	`KMP_AFFINITY_ENABLE
(
KMP_CPU_SET_SIZE_LIMIT
);

288 
	`KA_TRACE
(10, ("__kmp_affinity_determine_capable: "

290 ()
__kmp_affš_mask_size
));

291 
	`KMP_INTERNAL_FREE
(
buf
);

297 
	`KMP_INTERNAL_FREE
(
buf
);

302 
	`KMP_AFFINITY_DISABLE
();

303 
	`KA_TRACE
(10, ("__kmp_affinity_determine_capable: "

305 ià(
__kmp_affš™y_v”bo£
 ||

306 (
__kmp_affš™y_w¬nšgs
 && (
__kmp_affš™y_ty³
 !ğ
affš™y_nÚe
) &&

307 (
__kmp_affš™y_ty³
 !ğ
affš™y_deçuÉ
) &&

308 (
__kmp_affš™y_ty³
 !ğ
affš™y_di§bËd
))) {

309 
	`KMP_WARNING
(
AffCªtG‘MaskSize
, 
’v_v¬
);

311 
	}
}

315 #ià
KMP_USE_FUTEX


317 
	$__kmp_fu‹x_d‘”mše_ÿ·bË
() {

318 
loc
 = 0;

319 
rc
 = 
	`sysÿÎ
(
__NR_fu‹x
, &
loc
, 
FUTEX_WAKE
, 1, 
NULL
, NULL, 0);

320 
»tv®
 = (
rc
 =ğ0è|| (
”ºo
 !ğ
ENOSYS
);

322 
	`KA_TRACE
(10,

323 ("__kmp_fu‹x_d‘”mše_ÿ·bË:„øğ%dƒ¼nØğ%d\n", 
rc
, 
”ºo
));

324 
	`KA_TRACE
(10, ("__kmp_futex_determine_capable: futex syscall%s supported\n",

325 
»tv®
 ? "" : "‚ot"));

327  
»tv®
;

328 
	}
}

332 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
è&& (!
KMP_ASM_INTRINS
)

336 
kmp_št8
 
	$__kmp_‹¡_th’_Ü8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

337 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

339 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

340 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

342 !
	`KMP_COMPARE_AND_STORE_REL8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

343 
	`KMP_CPU_PAUSE
();

344 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

345 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

347  
Şd_v®ue
;

348 
	}
}

350 
kmp_št8
 
	$__kmp_‹¡_th’_ªd8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

351 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

353 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

354 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

356 !
	`KMP_COMPARE_AND_STORE_REL8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

357 
	`KMP_CPU_PAUSE
();

358 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

359 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

361  
Şd_v®ue
;

362 
	}
}

364 
kmp_ušt32
 
	$__kmp_‹¡_th’_Ü32
(vŞ©
kmp_ušt32
 *
p
, kmp_ušt32 
d
) {

365 
kmp_ušt32
 
Şd_v®ue
, 
Ãw_v®ue
;

367 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

368 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

370 !
	`KMP_COMPARE_AND_STORE_REL32
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

371 
	`KMP_CPU_PAUSE
();

372 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

373 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

375  
Şd_v®ue
;

376 
	}
}

378 
kmp_ušt32
 
	$__kmp_‹¡_th’_ªd32
(vŞ©
kmp_ušt32
 *
p
, kmp_ušt32 
d
) {

379 
kmp_ušt32
 
Şd_v®ue
, 
Ãw_v®ue
;

381 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

382 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

384 !
	`KMP_COMPARE_AND_STORE_REL32
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

385 
	`KMP_CPU_PAUSE
();

386 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

387 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

389  
Şd_v®ue
;

390 
	}
}

392 #ià
KMP_ARCH_X86


393 
kmp_št8
 
	$__kmp_‹¡_th’_add8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

394 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

396 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

397 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

399 !
	`KMP_COMPARE_AND_STORE_REL8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

400 
	`KMP_CPU_PAUSE
();

401 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

402 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

404  
Şd_v®ue
;

405 
	}
}

407 
kmp_št64
 
	$__kmp_‹¡_th’_add64
(vŞ©
kmp_št64
 *
p
, kmp_št64 
d
) {

408 
kmp_št64
 
Şd_v®ue
, 
Ãw_v®ue
;

410 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

411 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

413 !
	`KMP_COMPARE_AND_STORE_REL64
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

414 
	`KMP_CPU_PAUSE
();

415 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

416 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

418  
Şd_v®ue
;

419 
	}
}

422 
kmp_ušt64
 
	$__kmp_‹¡_th’_Ü64
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
d
) {

423 
kmp_ušt64
 
Şd_v®ue
, 
Ãw_v®ue
;

425 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

426 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

427 !
	`KMP_COMPARE_AND_STORE_REL64
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

428 
	`KMP_CPU_PAUSE
();

429 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

430 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

432  
Şd_v®ue
;

433 
	}
}

435 
kmp_ušt64
 
	$__kmp_‹¡_th’_ªd64
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
d
) {

436 
kmp_ušt64
 
Şd_v®ue
, 
Ãw_v®ue
;

438 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

439 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

440 !
	`KMP_COMPARE_AND_STORE_REL64
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

441 
	`KMP_CPU_PAUSE
();

442 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

443 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

445  
Şd_v®ue
;

446 
	}
}

450 
	$__kmp_‹rmš©e_th»ad
(
gtid
) {

451 
¡©us
;

452 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

454 ià(!
th
)

457 #ifdeà
KMP_CANCEL_THREADS


458 
	`KA_TRACE
(10, ("__kmp_‹rmš©e_th»ad: kÈ(%d)\n", 
gtid
));

459 
¡©us
 = 
	`±h»ad_ÿnûl
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
);

460 ià(
¡©us
 !ğ0 && stu !ğ
ESRCH
) {

461 
	`__kmp_çl
(
	`KMP_MSG
(
CªtT”mš©eWÜk”Th»ad
), 
	`KMP_ERR
(
¡©us
),

462 
__kmp_msg_nuÎ
);

465 
	`KMP_YIELD
(
TRUE
);

466 
	}
}

472 
kmp_št32
 
	$__kmp_£t_¡ack_šfo
(
gtid
, 
kmp_šfo_t
 *
th
) {

473 
¡ack_d©a
;

474 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

475 
KMP_OS_HURD


476 
±h»ad_©Œ_t
 
©Œ
;

477 
¡©us
;

478 
size_t
 
size
 = 0;

479 *
addr
 = 0;

484 ià(!
	`KMP_UBER_GTID
(
gtid
)) {

487 
¡©us
 = 
	`±h»ad_©Œ_š™
(&
©Œ
);

488 
	`KMP_CHECK_SYSFAIL
("±h»ad_©Œ_š™", 
¡©us
);

489 #ià
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD


490 
¡©us
 = 
	`±h»ad_©Œ_g‘_Å
(
	`±h»ad_£lf
(), &
©Œ
);

491 
	`KMP_CHECK_SYSFAIL
("±h»ad_©Œ_g‘_Å", 
¡©us
);

493 
¡©us
 = 
	`±h»ad_g‘©Œ_Å
(
	`±h»ad_£lf
(), &
©Œ
);

494 
	`KMP_CHECK_SYSFAIL
("±h»ad_g‘©Œ_Å", 
¡©us
);

496 
¡©us
 = 
	`±h»ad_©Œ_g‘¡ack
(&
©Œ
, &
addr
, &
size
);

497 
	`KMP_CHECK_SYSFAIL
("±h»ad_©Œ_g‘¡ack", 
¡©us
);

498 
	`KA_TRACE
(60,

501 
gtid
, 
size
, 
addr
));

502 
¡©us
 = 
	`±h»ad_©Œ_de¡roy
(&
©Œ
);

503 
	`KMP_CHECK_SYSFAIL
("±h»ad_©Œ_de¡roy", 
¡©us
);

506 ià(
size
 !ğ0 && 
addr
 != 0) {

508 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡ackba£
, (((*)
addr
è+ 
size
));

509 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡acksize
, 
size
);

510 
	`TCW_4
(
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
, 
FALSE
);

511  
TRUE
;

514 
KMP_OS_HURD
 */

516 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡acksize
, 0);

517 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡ackba£
, &
¡ack_d©a
);

518 
	`TCW_4
(
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
, 
TRUE
);

519  
FALSE
;

520 
	}
}

522 *
	$__kmp_Ïunch_wÜk”
(*
thr
) {

523 
¡©us
, 
Şd_ty³
, 
Şd_¡©e
;

524 #ifdeà
KMP_BLOCK_SIGNALS


525 
sig£t_t
 
Ãw_£t
, 
Şd_£t
;

527 *
ex™_v®
;

528 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

529 
KMP_OS_OPENBSD
 || 
KMP_OS_HURD


530 *vŞ©
·ddšg
 = 0;

532 
gtid
;

534 
gtid
 = ((
kmp_šfo_t
 *)
thr
)->
th
.
th_šfo
.
ds
.
ds_gtid
;

535 
	`__kmp_gtid_£t_¥ecific
(
gtid
);

536 #ifdeà
KMP_TDATA_GTID


537 
__kmp_gtid
 = 
gtid
;

539 #ià
KMP_STATS_ENABLED


541 
__kmp_¡©s_th»ad_±r
 = ((
kmp_šfo_t
 *)
thr
)->
th
.
th_¡©s
;

542 
__kmp_¡©s_th»ad_±r
->
	`¡¬tLiã
();

543 
	`KMP_SET_THREAD_STATE
(
IDLE
);

544 
	`KMP_INIT_PARTITIONED_TIMERS
(
OMP_idË
);

547 #ià
USE_ITT_BUILD


548 
	`__kmp_™t_th»ad_Çme
(
gtid
);

551 #ià
KMP_AFFINITY_SUPPORTED


552 
	`__kmp_affš™y_£t_š™_mask
(
gtid
, 
FALSE
);

555 #ifdeà
KMP_CANCEL_THREADS


556 
¡©us
 = 
	`±h»ad_£tÿnûÉy³
(
PTHREAD_CANCEL_ASYNCHRONOUS
, &
Şd_ty³
);

557 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûÉy³", 
¡©us
);

559 
¡©us
 = 
	`±h»ad_£tÿnûl¡©e
(
PTHREAD_CANCEL_ENABLE
, &
Şd_¡©e
);

560 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûl¡©e", 
¡©us
);

563 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


565 
	`__kmp_ş—r_x87_åu_¡©us_wÜd
();

566 
	`__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(&
__kmp_š™_x87_åu_cÚŒŞ_wÜd
);

567 
	`__kmp_lßd_mxc¤
(&
__kmp_š™_mxc¤
);

570 #ifdeà
KMP_BLOCK_SIGNALS


571 
¡©us
 = 
	`sigfl£t
(&
Ãw_£t
);

572 
	`KMP_CHECK_SYSFAIL_ERRNO
("sigfl£t", 
¡©us
);

573 
¡©us
 = 
	`±h»ad_sigmask
(
SIG_BLOCK
, &
Ãw_£t
, &
Şd_£t
);

574 
	`KMP_CHECK_SYSFAIL
("±h»ad_sigmask", 
¡©us
);

577 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

578 
KMP_OS_OPENBSD


579 ià(
__kmp_¡koff£t
 > 0 && 
gtid
 > 0) {

580 
·ddšg
 = 
	`KMP_ALLOCA
(
gtid
 * 
__kmp_¡koff£t
);

584 
	`KMP_MB
();

585 
	`__kmp_£t_¡ack_šfo
(
gtid
, (
kmp_šfo_t
 *)
thr
);

587 
	`__kmp_check_¡ack_ov”Ïp
((
kmp_šfo_t
 *)
thr
);

589 
ex™_v®
 = 
	`__kmp_Ïunch_th»ad
((
kmp_šfo_t
 *)
thr
);

591 #ifdeà
KMP_BLOCK_SIGNALS


592 
¡©us
 = 
	`±h»ad_sigmask
(
SIG_SETMASK
, &
Şd_£t
, 
NULL
);

593 
	`KMP_CHECK_SYSFAIL
("±h»ad_sigmask", 
¡©us
);

596  
ex™_v®
;

597 
	}
}

599 #ià
KMP_USE_MONITOR


602 *
	$__kmp_Ïunch_mÚ™Ü
(*
thr
) {

603 
¡©us
, 
Şd_ty³
, 
Şd_¡©e
;

604 #ifdeà
KMP_BLOCK_SIGNALS


605 
sig£t_t
 
Ãw_£t
;

607 
time¥ec
 
š‹rv®
;

609 
	`KMP_MB
();

611 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #1†aunched\n"));

614 
	`__kmp_gtid_£t_¥ecific
(
KMP_GTID_MONITOR
);

615 #ifdeà
KMP_TDATA_GTID


616 
__kmp_gtid
 = 
KMP_GTID_MONITOR
;

619 
	`KMP_MB
();

621 #ià
USE_ITT_BUILD


623 
	`__kmp_™t_th»ad_ignÜe
();

626 
	`__kmp_£t_¡ack_šfo
(((
kmp_šfo_t
 *)
thr
)->
th
.
th_šfo
.
ds
.
ds_gtid
,

627 (
kmp_šfo_t
 *)
thr
);

629 
	`__kmp_check_¡ack_ov”Ïp
((
kmp_šfo_t
 *)
thr
);

631 #ifdeà
KMP_CANCEL_THREADS


632 
¡©us
 = 
	`±h»ad_£tÿnûÉy³
(
PTHREAD_CANCEL_ASYNCHRONOUS
, &
Şd_ty³
);

633 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûÉy³", 
¡©us
);

635 
¡©us
 = 
	`±h»ad_£tÿnûl¡©e
(
PTHREAD_CANCEL_ENABLE
, &
Şd_¡©e
);

636 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûl¡©e", 
¡©us
);

639 #ià
KMP_REAL_TIME_FIX


644 
sched
 = 
	`sched_g‘scheduËr
(0);

645 ià(
sched
 =ğ
SCHED_FIFO
 || sched =ğ
SCHED_RR
) {

648 
sched_·¿m
 
·¿m
;

649 
max_´iÜ™y
 = 
	`sched_g‘_´iÜ™y_max
(
sched
);

650 
rc
;

651 
	`KMP_WARNING
(
R—lTimeSchedNÙSuµÜ‹d
);

652 
	`sched_g‘·¿m
(0, &
·¿m
);

653 ià(
·¿m
.
sched_´iÜ™y
 < 
max_´iÜ™y
) {

654 
·¿m
.
sched_´iÜ™y
 += 1;

655 
rc
 = 
	`sched_£tscheduËr
(0, 
sched
, &
·¿m
);

656 ià(
rc
 != 0) {

657 
”rÜ
 = 
”ºo
;

658 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

659 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtChªgeMÚ™ÜPriÜ™y
),

660 
”r_code
, 
	`KMP_MSG
(
MÚ™ÜWlSrve
), 
__kmp_msg_nuÎ
);

661 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

662 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

669 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
RuÂšgAtMaxPriÜ™y
),

670 
	`KMP_MSG
(
MÚ™ÜWlSrve
), 
	`KMP_HNT
(
RuÂšgAtMaxPriÜ™y
),

671 
__kmp_msg_nuÎ
);

675 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
, 0);

679 
	`KMP_MB
();

681 ià(
__kmp_mÚ™Ü_wakeups
 == 1) {

682 
š‹rv®
.
tv_£c
 = 1;

683 
š‹rv®
.
tv_n£c
 = 0;

685 
š‹rv®
.
tv_£c
 = 0;

686 
š‹rv®
.
tv_n£c
 = (
KMP_NSEC_PER_SEC
 / 
__kmp_mÚ™Ü_wakeups
);

689 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #2 monitor\n"));

691 !
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

692 
time¥ec
 
now
;

693 
timev®
 
tv®
;

697 
	`KA_TRACE
(15, ("__kmp_launch_monitor: update\n"));

699 
¡©us
 = 
	`g‘timeofday
(&
tv®
, 
NULL
);

700 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘timeofday", 
¡©us
);

701 
	`TIMEVAL_TO_TIMESPEC
(&
tv®
, &
now
);

703 
now
.
tv_£c
 +ğ
š‹rv®
.tv_sec;

704 
now
.
tv_n£c
 +ğ
š‹rv®
.tv_nsec;

706 ià(
now
.
tv_n£c
 >ğ
KMP_NSEC_PER_SEC
) {

707 
now
.
tv_£c
 += 1;

708 
now
.
tv_n£c
 -ğ
KMP_NSEC_PER_SEC
;

711 
¡©us
 = 
	`±h»ad_mu‹x_lock
(&
__kmp_wa™_mx
.
m_mu‹x
);

712 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_lock", 
¡©us
);

714 ià(!
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

715 
¡©us
 = 
	`±h»ad_cÚd_timedwa™
(&
__kmp_wa™_cv
.
c_cÚd
,

716 &
__kmp_wa™_mx
.
m_mu‹x
, &
now
);

717 ià(
¡©us
 != 0) {

718 ià(
¡©us
 !ğ
ETIMEDOUT
 && stu !ğ
EINTR
) {

719 
	`KMP_SYSFAIL
("±h»ad_cÚd_timedwa™", 
¡©us
);

723 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
__kmp_wa™_mx
.
m_mu‹x
);

724 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

726 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
,

727 
	`TCR_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
) + 1);

729 
	`KMP_MB
();

732 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #3 cleanup\n"));

734 #ifdeà
KMP_BLOCK_SIGNALS


735 
¡©us
 = 
	`sigfl£t
(&
Ãw_£t
);

736 
	`KMP_CHECK_SYSFAIL_ERRNO
("sigfl£t", 
¡©us
);

737 
¡©us
 = 
	`±h»ad_sigmask
(
SIG_UNBLOCK
, &
Ãw_£t
, 
NULL
);

738 
	`KMP_CHECK_SYSFAIL
("±h»ad_sigmask", 
¡©us
);

741 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #4 finished\n"));

743 ià(
__kmp_glob®
.
g
.
g_abÜt
 != 0) {

747 
gtid
;

749 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #5erminate sig=%d\n",

750 
__kmp_glob®
.
g
.
g_abÜt
));

755 
gtid
 = 1; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid)

756 
	`__kmp_‹rmš©e_th»ad
(
gtid
);

758 
	`__kmp_ş—nup
();

760 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #6„aise sig=%d\n",

761 
__kmp_glob®
.
g
.
g_abÜt
));

763 ià(
__kmp_glob®
.
g
.
g_abÜt
 > 0)

764 
	`¿i£
(
__kmp_glob®
.
g
.
g_abÜt
);

767 
	`KA_TRACE
(10, ("__kmp_launch_monitor: #7ƒxit\n"));

769  
thr
;

770 
	}
}

773 
	$__kmp_ü—‹_wÜk”
(
gtid
, 
kmp_šfo_t
 *
th
, 
size_t
 
¡ack_size
) {

774 
±h»ad_t
 
hªdË
;

775 
±h»ad_©Œ_t
 
th»ad_©Œ
;

776 
¡©us
;

778 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
gtid
;

780 #ià
KMP_STATS_ENABLED


782 
	`__kmp_acquœe_s_lock
(&
__kmp_¡©s_lock
, 
gtid
);

788 ià(!
	`KMP_UBER_GTID
(
gtid
)) {

789 
th
->th.
th_¡©s
 = 
__kmp_¡©s_li¡
->
	`push_back
(
gtid
);

793 
th
->th.
th_¡©s
 = 
__kmp_¡©s_th»ad_±r
;

795 
	`__kmp_»Ëa£_s_lock
(&
__kmp_¡©s_lock
, 
gtid
);

799 ià(
	`KMP_UBER_GTID
(
gtid
)) {

800 
	`KA_TRACE
(10, ("__kmp_ü—‹_wÜk”: ub”h»ad (%d)\n", 
gtid
));

801 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 
	`±h»ad_£lf
();

802 
	`__kmp_£t_¡ack_šfo
(
gtid
, 
th
);

803 
	`__kmp_check_¡ack_ov”Ïp
(
th
);

807 
	`KA_TRACE
(10, ("__kmp_ü—‹_wÜk”:ryØü—‹h»ad (%d)\n", 
gtid
));

809 
	`KMP_MB
();

811 #ifdeà
KMP_THREAD_ATTR


812 
¡©us
 = 
	`±h»ad_©Œ_š™
(&
th»ad_©Œ
);

813 ià(
¡©us
 != 0) {

814 
	`__kmp_çl
(
	`KMP_MSG
(
CªtIn™Th»adA‰rs
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

816 
¡©us
 = 
	`±h»ad_©Œ_£td‘ach¡©e
(&
th»ad_©Œ
, 
PTHREAD_CREATE_JOINABLE
);

817 ià(
¡©us
 != 0) {

818 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘WÜk”S‹
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

828 
¡ack_size
 +ğ
gtid
 * 
__kmp_¡koff£t
 * 2;

830 #ià
	`defšed
(
__ANDROID__
è&& 
__ANDROID_API__
 < 19

834 
¡ack_size
 = (¡ack_siz+ 
PAGE_SIZE
 - 1) & ~(PAGE_SIZE - 1);

837 
	`KA_TRACE
(10, ("__kmp_create_worker: T#%d, default stacksize = %lu bytes, "

839 
gtid
, 
KMP_DEFAULT_STKSIZE
, 
__kmp_¡ksize
, 
¡ack_size
));

841 #ifdeà
_POSIX_THREAD_ATTR_STACKSIZE


842 
¡©us
 = 
	`±h»ad_©Œ_£t¡acksize
(&
th»ad_©Œ
, 
¡ack_size
);

843 #ifdeà
KMP_BACKUP_STKSIZE


844 ià(
¡©us
 != 0) {

845 ià(!
__kmp_’v_¡ksize
) {

846 
¡ack_size
 = 
KMP_BACKUP_STKSIZE
 + 
gtid
 * 
__kmp_¡koff£t
;

847 
__kmp_¡ksize
 = 
KMP_BACKUP_STKSIZE
;

848 
	`KA_TRACE
(10, ("__kmp_create_worker: T#%d, default stacksize = %lu bytes, "

851 
gtid
, 
KMP_DEFAULT_STKSIZE
, 
__kmp_¡ksize
, 
¡ack_size
));

852 
¡©us
 = 
	`±h»ad_©Œ_£t¡acksize
(&
th»ad_©Œ
, 
¡ack_size
);

856 ià(
¡©us
 != 0) {

857 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘WÜk”SckSize
, 
¡ack_size
), 
	`KMP_ERR
(
¡©us
),

858 
	`KMP_HNT
(
ChªgeWÜk”SckSize
), 
__kmp_msg_nuÎ
);

864 
¡©us
 =

865 
	`±h»ad_ü—‹
(&
hªdË
, &
th»ad_©Œ
, 
__kmp_Ïunch_wÜk”
, (*)
th
);

866 ià(
¡©us
 !ğ0 || !
hªdË
) {

867 #ifdeà
_POSIX_THREAD_ATTR_STACKSIZE


868 ià(
¡©us
 =ğ
EINVAL
) {

869 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘WÜk”SckSize
, 
¡ack_size
), 
	`KMP_ERR
(
¡©us
),

870 
	`KMP_HNT
(
Inü—£WÜk”SckSize
), 
__kmp_msg_nuÎ
);

872 ià(
¡©us
 =ğ
ENOMEM
) {

873 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘WÜk”SckSize
, 
¡ack_size
), 
	`KMP_ERR
(
¡©us
),

874 
	`KMP_HNT
(
Deü—£WÜk”SckSize
), 
__kmp_msg_nuÎ
);

877 ià(
¡©us
 =ğ
EAGAIN
) {

878 
	`__kmp_çl
(
	`KMP_MSG
(
NoResourûsFÜWÜk”Th»ad
), 
	`KMP_ERR
(
¡©us
),

879 
	`KMP_HNT
(
Deü—£_NUM_THREADS
), 
__kmp_msg_nuÎ
);

881 
	`KMP_SYSFAIL
("±h»ad_ü—‹", 
¡©us
);

884 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 
hªdË
;

886 #ifdeà
KMP_THREAD_ATTR


887 
¡©us
 = 
	`±h»ad_©Œ_de¡roy
(&
th»ad_©Œ
);

888 ià(
¡©us
) {

889 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
¡©us
);

890 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtDe¡royTh»adA‰rs
), 
”r_code
,

891 
__kmp_msg_nuÎ
);

892 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

893 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

898 
	`KMP_MB
();

900 
	`KA_TRACE
(10, ("__kmp_ü—‹_wÜk”: dÚü—tšgh»ad (%d)\n", 
gtid
));

902 
	}
}

904 #ià
KMP_USE_MONITOR


905 
	$__kmp_ü—‹_mÚ™Ü
(
kmp_šfo_t
 *
th
) {

906 
±h»ad_t
 
hªdË
;

907 
±h»ad_©Œ_t
 
th»ad_©Œ
;

908 
size_t
 
size
;

909 
¡©us
;

910 
auto_adj_size
 = 
FALSE
;

912 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
) {

914 
	`KA_TRACE
(10, ("__kmp_create_monitor: skipping monitorhread because of "

916 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 0;

917 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 0;

920 
	`KA_TRACE
(10, ("__kmp_create_monitor:ryo create monitor\n"));

922 
	`KMP_MB
();

924 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 
KMP_GTID_MONITOR
;

925 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
KMP_GTID_MONITOR
;

926 #ià
KMP_REAL_TIME_FIX


927 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
,

930 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
, 0);

933 #ifdeà
KMP_THREAD_ATTR


934 ià(
__kmp_mÚ™Ü_¡ksize
 == 0) {

935 
__kmp_mÚ™Ü_¡ksize
 = 
KMP_DEFAULT_MONITOR_STKSIZE
;

936 
auto_adj_size
 = 
TRUE
;

938 
¡©us
 = 
	`±h»ad_©Œ_š™
(&
th»ad_©Œ
);

939 ià(
¡©us
 != 0) {

940 
	`__kmp_çl
(
	`KMP_MSG
(
CªtIn™Th»adA‰rs
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

942 
¡©us
 = 
	`±h»ad_©Œ_£td‘ach¡©e
(&
th»ad_©Œ
, 
PTHREAD_CREATE_JOINABLE
);

943 ià(
¡©us
 != 0) {

944 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘MÚ™ÜS‹
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

947 #ifdeà
_POSIX_THREAD_ATTR_STACKSIZE


948 
¡©us
 = 
	`±h»ad_©Œ_g‘¡acksize
(&
th»ad_©Œ
, &
size
);

949 
	`KMP_CHECK_SYSFAIL
("±h»ad_©Œ_g‘¡acksize", 
¡©us
);

951 
size
 = 
__kmp_sys_mš_¡ksize
;

955 ià(
__kmp_mÚ™Ü_¡ksize
 == 0) {

956 
__kmp_mÚ™Ü_¡ksize
 = 
KMP_DEFAULT_MONITOR_STKSIZE
;

958 ià(
__kmp_mÚ™Ü_¡ksize
 < 
__kmp_sys_mš_¡ksize
) {

959 
__kmp_mÚ™Ü_¡ksize
 = 
__kmp_sys_mš_¡ksize
;

962 
	`KA_TRACE
(10, ("__kmp_create_monitor: default stacksize = %lu bytes,"

964 
size
, 
__kmp_mÚ™Ü_¡ksize
));

966 
»Œy
:

969 #ifdeà
_POSIX_THREAD_ATTR_STACKSIZE


970 
	`KA_TRACE
(10, ("__kmp_create_monitor: setting stacksize = %lu bytes,",

971 
__kmp_mÚ™Ü_¡ksize
));

972 
¡©us
 = 
	`±h»ad_©Œ_£t¡acksize
(&
th»ad_©Œ
, 
__kmp_mÚ™Ü_¡ksize
);

973 ià(
¡©us
 != 0) {

974 ià(
auto_adj_size
) {

975 
__kmp_mÚ™Ü_¡ksize
 *= 2;

976 
»Œy
;

978 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
¡©us
);

979 
	`__kmp_msg
(
kmp_ms_w¬nšg
,

980 
	`KMP_MSG
(
CªtS‘MÚ™ÜSckSize
, ()
__kmp_mÚ™Ü_¡ksize
),

981 
”r_code
, 
	`KMP_HNT
(
ChªgeMÚ™ÜSckSize
), 
__kmp_msg_nuÎ
);

982 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

983 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

988 
¡©us
 =

989 
	`±h»ad_ü—‹
(&
hªdË
, &
th»ad_©Œ
, 
__kmp_Ïunch_mÚ™Ü
, (*)
th
);

991 ià(
¡©us
 != 0) {

992 #ifdeà
_POSIX_THREAD_ATTR_STACKSIZE


993 ià(
¡©us
 =ğ
EINVAL
) {

994 ià(
auto_adj_size
 && (
__kmp_mÚ™Ü_¡ksize
 < (
size_t
)0x40000000)) {

995 
__kmp_mÚ™Ü_¡ksize
 *= 2;

996 
»Œy
;

998 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘MÚ™ÜSckSize
, 
__kmp_mÚ™Ü_¡ksize
),

999 
	`KMP_ERR
(
¡©us
), 
	`KMP_HNT
(
Inü—£MÚ™ÜSckSize
),

1000 
__kmp_msg_nuÎ
);

1002 ià(
¡©us
 =ğ
ENOMEM
) {

1003 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘MÚ™ÜSckSize
, 
__kmp_mÚ™Ü_¡ksize
),

1004 
	`KMP_ERR
(
¡©us
), 
	`KMP_HNT
(
Deü—£MÚ™ÜSckSize
),

1005 
__kmp_msg_nuÎ
);

1008 ià(
¡©us
 =ğ
EAGAIN
) {

1009 
	`__kmp_çl
(
	`KMP_MSG
(
NoResourûsFÜMÚ™ÜTh»ad
), 
	`KMP_ERR
(
¡©us
),

1010 
	`KMP_HNT
(
Deü—£Numb”OfTh»adsInU£
), 
__kmp_msg_nuÎ
);

1012 
	`KMP_SYSFAIL
("±h»ad_ü—‹", 
¡©us
);

1015 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 
hªdË
;

1017 #ià
KMP_REAL_TIME_FIX


1019 
	`KMP_DEBUG_ASSERT
((
kmp_ušt32
) ==

1020 (
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
));

1021 
	`__kmp_wa™_4
((
kmp_ušt32
 vŞ©*)&
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
, -1,

1022 &
__kmp_Ãq_4
, 
NULL
);

1025 #ifdeà
KMP_THREAD_ATTR


1026 
¡©us
 = 
	`±h»ad_©Œ_de¡roy
(&
th»ad_©Œ
);

1027 ià(
¡©us
 != 0) {

1028 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
¡©us
);

1029 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtDe¡royTh»adA‰rs
), 
”r_code
,

1030 
__kmp_msg_nuÎ
);

1031 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

1032 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

1037 
	`KMP_MB
();

1039 
	`KA_TRACE
(10, ("__kmp_create_monitor: monitor created %#.8lx\n",

1040 
th
->th.
th_šfo
.
ds
.
ds_th»ad
));

1042 
	}
}

1045 
	$__kmp_ex™_th»ad
(
ex™_¡©us
) {

1046 
	`±h»ad_ex™
((*)(
šŒ_t
)
ex™_¡©us
);

1047 
	}
}

1049 #ià
KMP_USE_MONITOR


1050 
__kmp_»sume_mÚ™Ü
();

1052 
	$__kmp_»­_mÚ™Ü
(
kmp_šfo_t
 *
th
) {

1053 
¡©us
;

1054 *
ex™_v®
;

1056 
	`KA_TRACE
(10, ("__kmp_reap_monitor:ryo„eap monitorhread with handle"

1058 
th
->th.
th_šfo
.
ds
.
ds_th»ad
));

1063 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_šfo
.
ds
.
ds_tid
 =ğth->th.th_šfo.ds.
ds_gtid
);

1064 ià(
th
->th.
th_šfo
.
ds
.
ds_gtid
 !ğ
KMP_GTID_MONITOR
) {

1065 
	`KA_TRACE
(10, ("__kmp_reap_monitor: monitor did‚ot start,„eturning\n"));

1069 
	`KMP_MB
();

1075 
¡©us
 = 
	`±h»ad_kl
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, 0);

1076 ià(
¡©us
 !ğ
ESRCH
) {

1077 
	`__kmp_»sume_mÚ™Ü
();

1079 
	`KA_TRACE
(10, ("__kmp_reap_monitor:ryo join with monitor\n"));

1080 
¡©us
 = 
	`±h»ad_još
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, &
ex™_v®
);

1081 ià(
ex™_v®
 !ğ
th
) {

1082 
	`__kmp_çl
(
	`KMP_MSG
(
R—pMÚ™ÜE¼Ü
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

1085 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 
KMP_GTID_DNE
;

1086 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
KMP_GTID_DNE
;

1088 
	`KA_TRACE
(10, ("__kmp_reap_monitor: done„eaping monitorhread with handle"

1090 
th
->th.
th_šfo
.
ds
.
ds_th»ad
));

1092 
	`KMP_MB
();

1093 
	}
}

1096 
	$__kmp_»­_wÜk”
(
kmp_šfo_t
 *
th
) {

1097 
¡©us
;

1098 *
ex™_v®
;

1100 
	`KMP_MB
();

1102 
	`KA_TRACE
(

1103 10, ("__kmp_»­_wÜk”:ryØ»­ T#%d\n", 
th
->th.
th_šfo
.
ds
.
ds_gtid
));

1105 
¡©us
 = 
	`±h»ad_još
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, &
ex™_v®
);

1106 #ifdeà
KMP_DEBUG


1108 ià(
¡©us
 != 0) {

1109 
	`__kmp_çl
(
	`KMP_MSG
(
R—pWÜk”E¼Ü
), 
	`KMP_ERR
(
¡©us
), 
__kmp_msg_nuÎ
);

1111 ià(
ex™_v®
 !ğ
th
) {

1112 
	`KA_TRACE
(10, ("__kmp_reap_worker: worker T#%d did‚ot„eap…roperly, "

1114 
th
->th.
th_šfo
.
ds
.
ds_gtid
, 
ex™_v®
));

1118 
	`KA_TRACE
(10, ("__kmp_reap_worker: done„eaping T#%d\n",

1119 
th
->th.
th_šfo
.
ds
.
ds_gtid
));

1121 
	`KMP_MB
();

1122 
	}
}

1124 #ià
KMP_HANDLE_SIGNALS


1126 
	$__kmp_nuÎ_hªdËr
(
signo
) {

1128 
	}
}

1130 
	$__kmp_‹am_hªdËr
(
signo
) {

1131 ià(
__kmp_glob®
.
g
.
g_abÜt
 == 0) {

1133 #ifdeà
KMP_DEBUG


1134 
	`__kmp_debug_´štf
("__kmp_‹am_hªdËr: caughˆsigÇÈğ%d\n", 
signo
);

1136 
signo
) {

1137 
SIGHUP
:

1138 
SIGINT
:

1139 
SIGQUIT
:

1140 
SIGILL
:

1141 
SIGABRT
:

1142 
SIGFPE
:

1143 
SIGBUS
:

1144 
SIGSEGV
:

1145 #ifdeà
SIGSYS


1146 
SIGSYS
:

1148 
SIGTERM
:

1149 ià(
__kmp_debug_buf
) {

1150 
	`__kmp_dump_debug_bufãr
();

1152 
	`KMP_MB
();

1153 
	`TCW_4
(
__kmp_glob®
.
g
.
g_abÜt
, 
signo
);

1154 
	`KMP_MB
();

1155 
	`TCW_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
TRUE
);

1156 
	`KMP_MB
();

1159 #ifdeà
KMP_DEBUG


1160 
	`__kmp_debug_´štf
("__kmp_team_handler: unknown signalype");

1165 
	}
}

1167 
	$__kmp_sigaùiÚ
(
signum
, cÚ¡ 
sigaùiÚ
 *
aù
,

1168 
sigaùiÚ
 *
Şdaù
) {

1169 
rc
 = 
	`sigaùiÚ
(
signum
, 
aù
, 
Şdaù
);

1170 
	`KMP_CHECK_SYSFAIL_ERRNO
("sigaùiÚ", 
rc
);

1171 
	}
}

1173 
	$__kmp_š¡®l_Úe_hªdËr
(
sig
, 
sig_func_t
 
hªdËr_func
,

1174 
·¿Î–_š™
) {

1175 
	`KMP_MB
();

1176 
	`KB_TRACE
(60,

1177 ("__kmp_š¡®l_Úe_hªdËrĞ%d, ..., %d )\n", 
sig
, 
·¿Î–_š™
));

1178 ià(
·¿Î–_š™
) {

1179 
sigaùiÚ
 
Ãw_aùiÚ
;

1180 
sigaùiÚ
 
Şd_aùiÚ
;

1181 
Ãw_aùiÚ
.
§_hªdËr
 = 
hªdËr_func
;

1182 
Ãw_aùiÚ
.
§_æags
 = 0;

1183 
	`sigfl£t
(&
Ãw_aùiÚ
.
§_mask
);

1184 
	`__kmp_sigaùiÚ
(
sig
, &
Ãw_aùiÚ
, &
Şd_aùiÚ
);

1185 ià(
Şd_aùiÚ
.
§_hªdËr
 =ğ
__kmp_sighldrs
[
sig
].sa_handler) {

1186 
	`sigadd£t
(&
__kmp_sig£t
, 
sig
);

1189 
	`__kmp_sigaùiÚ
(
sig
, &
Şd_aùiÚ
, 
NULL
);

1193 
	`__kmp_sigaùiÚ
(
sig
, 
NULL
, &
__kmp_sighldrs
[sig]);

1195 
	`KMP_MB
();

1196 
	}
}

1198 
	$__kmp_»move_Úe_hªdËr
(
sig
) {

1199 
	`KB_TRACE
(60, ("__kmp_»move_Úe_hªdËrĞ%d )\n", 
sig
));

1200 ià(
	`sigismemb”
(&
__kmp_sig£t
, 
sig
)) {

1201 
sigaùiÚ
 
Şd
;

1202 
	`KMP_MB
();

1203 
	`__kmp_sigaùiÚ
(
sig
, &
__kmp_sighldrs
[sig], &
Şd
);

1204 ià((
Şd
.
§_hªdËr
 !ğ
__kmp_‹am_hªdËr
) &&

1205 (
Şd
.
§_hªdËr
 !ğ
__kmp_nuÎ_hªdËr
)) {

1207 
	`KB_TRACE
(10, ("__kmp_remove_one_handler: oops,‚ot our handler, "

1209 
sig
));

1210 
	`__kmp_sigaùiÚ
(
sig
, &
Şd
, 
NULL
);

1212 
	`sigd–£t
(&
__kmp_sig£t
, 
sig
);

1213 
	`KMP_MB
();

1215 
	}
}

1217 
	$__kmp_š¡®l_sigÇls
(
·¿Î–_š™
) {

1218 
	`KB_TRACE
(10, ("__kmp_š¡®l_sigÇlsĞ%d )\n", 
·¿Î–_š™
));

1219 ià(
__kmp_hªdË_sigÇls
 || !
·¿Î–_š™
) {

1222 
	`sigem±y£t
(&
__kmp_sig£t
);

1223 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGHUP
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1224 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGINT
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1225 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGQUIT
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1226 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGILL
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1227 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGABRT
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1228 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGFPE
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1229 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGBUS
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1230 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGSEGV
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1231 #ifdeà
SIGSYS


1232 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGSYS
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1234 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGTERM
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1235 #ifdeà
SIGPIPE


1236 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGPIPE
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1239 
	}
}

1241 
	$__kmp_»move_sigÇls
() {

1242 
sig
;

1243 
	`KB_TRACE
(10, ("__kmp_remove_signals()\n"));

1244 
sig
 = 1; sig < 
NSIG
; ++sig) {

1245 
	`__kmp_»move_Úe_hªdËr
(
sig
);

1247 
	}
}

1251 
	$__kmp_’abË
(
Ãw_¡©e
) {

1252 #ifdeà
KMP_CANCEL_THREADS


1253 
¡©us
, 
Şd_¡©e
;

1254 
¡©us
 = 
	`±h»ad_£tÿnûl¡©e
(
Ãw_¡©e
, &
Şd_¡©e
);

1255 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûl¡©e", 
¡©us
);

1256 
	`KMP_DEBUG_ASSERT
(
Şd_¡©e
 =ğ
PTHREAD_CANCEL_DISABLE
);

1258 
	}
}

1260 
	$__kmp_di§bË
(*
Şd_¡©e
) {

1261 #ifdeà
KMP_CANCEL_THREADS


1262 
¡©us
;

1263 
¡©us
 = 
	`±h»ad_£tÿnûl¡©e
(
PTHREAD_CANCEL_DISABLE
, 
Şd_¡©e
);

1264 
	`KMP_CHECK_SYSFAIL
("±h»ad_£tÿnûl¡©e", 
¡©us
);

1266 
	}
}

1268 
	$__kmp_©fÜk_´•¬e
() {

1269 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

1270 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1271 
	}
}

1273 
	$__kmp_©fÜk_·»Á
() {

1274 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

1275 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1276 
	}
}

1281 
	$__kmp_©fÜk_chd
() {

1282 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_fÜkjoš_lock
);

1287 ++
__kmp_fÜk_couÁ
;

1289 #ià
KMP_AFFINITY_SUPPORTED


1290 #ià
KMP_OS_LINUX
 || 
KMP_OS_FREEBSD


1293 
	`kmp_£t_th»ad_affš™y_mask_š™Ÿl
();

1298 
__kmp_affš™y_ty³
 = 
affš™y_nÚe
;

1299 ià(
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
 !ğ
NULL
) {

1300 
__kmp_Ã¡ed_´oc_bšd
.
bšd_ty³s
[0] = 
´oc_bšd_çl£
;

1304 
__kmp_š™_ruÁime
 = 
FALSE
;

1305 #ià
KMP_USE_MONITOR


1306 
__kmp_š™_mÚ™Ü
 = 0;

1308 
__kmp_š™_·¿Î–
 = 
FALSE
;

1309 
__kmp_š™_middË
 = 
FALSE
;

1310 
__kmp_š™_£rŸl
 = 
FALSE
;

1311 
	`TCW_4
(
__kmp_š™_gtid
, 
FALSE
);

1312 
__kmp_š™_commÚ
 = 
FALSE
;

1314 
	`TCW_4
(
__kmp_š™_u£r_locks
, 
FALSE
);

1315 #ià!
KMP_USE_DYNAMIC_LOCK


1316 
__kmp_u£r_lock_bË
.
u£d
 = 1;

1317 
__kmp_u£r_lock_bË
.
®loÿ‹d
 = 0;

1318 
__kmp_u£r_lock_bË
.
bË
 = 
NULL
;

1319 
__kmp_lock_blocks
 = 
NULL
;

1322 
__kmp_®l_Áh
 = 0;

1323 
	`TCW_4
(
__kmp_Áh
, 0);

1325 
__kmp_th»ad_poŞ
 = 
NULL
;

1326 
__kmp_th»ad_poŞ_š£¹_±
 = 
NULL
;

1327 
__kmp_‹am_poŞ
 = 
NULL
;

1331 
	`KA_TRACE
(10, ("__kmp_atfork_child: checking cache‡ddress†ist %p\n",

1332 
__kmp_th»ad´iv_ÿche_li¡
));

1334 
__kmp_th»ad´iv_ÿche_li¡
 !ğ
NULL
) {

1336 ià(*
__kmp_th»ad´iv_ÿche_li¡
->
addr
 !ğ
NULL
) {

1337 
	`KC_TRACE
(50, ("__kmp_atfork_child: zeroing cache‡t‡ddress %p\n",

1338 &(*
__kmp_th»ad´iv_ÿche_li¡
->
addr
)));

1340 *
__kmp_th»ad´iv_ÿche_li¡
->
addr
 = 
NULL
;

1342 
__kmp_th»ad´iv_ÿche_li¡
 = __kmp_th»ad´iv_ÿche_li¡->
Ãxt
;

1345 
__kmp_š™_ruÁime
 = 
FALSE
;

1348 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_š™z_lock
);

1349 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_¡dio_lock
);

1350 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_cÚsŞe_lock
);

1351 
	`__kmp_š™_boÙ¡¿p_lock
(&
__kmp_sk_‹am_lock
);

1353 #ià
USE_ITT_BUILD


1354 
	`__kmp_™t_»£t
();

1366 
	}
}

1368 
	$__kmp_»gi¡”_©fÜk
() {

1369 ià(
__kmp_Ãed_»gi¡”_©fÜk
) {

1370 
¡©us
 = 
	`±h»ad_©fÜk
(
__kmp_©fÜk_´•¬e
, 
__kmp_©fÜk_·»Á
,

1371 
__kmp_©fÜk_chd
);

1372 
	`KMP_CHECK_SYSFAIL
("±h»ad_©fÜk", 
¡©us
);

1373 
__kmp_Ãed_»gi¡”_©fÜk
 = 
FALSE
;

1375 
	}
}

1377 
	$__kmp_su¥’d_š™Ÿlize
() {

1378 
¡©us
;

1379 
¡©us
 = 
	`±h»ad_mu‹x©Œ_š™
(&
__kmp_su¥’d_mu‹x_©Œ
);

1380 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x©Œ_š™", 
¡©us
);

1381 
¡©us
 = 
	`±h»ad_cÚd©Œ_š™
(&
__kmp_su¥’d_cÚd_©Œ
);

1382 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd©Œ_š™", 
¡©us
);

1383 
	}
}

1385 
	$__kmp_su¥’d_š™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
) {

1386 
	`ANNOTATE_HAPPENS_AFTER
(&
th
->th.
th_su¥’d_š™_couÁ
);

1387 
Şd_v®ue
 = 
	`KMP_ATOMIC_LD_RLX
(&
th
->th.
th_su¥’d_š™_couÁ
);

1388 
Ãw_v®ue
 = 
__kmp_fÜk_couÁ
 + 1;

1390 ià(
Şd_v®ue
 =ğ
Ãw_v®ue
)

1393 ià(
Şd_v®ue
 == -1 ||

1394 !
	`__kmp_©omic_com·»_¡Üe
(&
th
->th.
th_su¥’d_š™_couÁ
, 
Şd_v®ue
,

1396 
	`KMP_ATOMIC_LD_ACQ
(&
th
->th.
th_su¥’d_š™_couÁ
è!ğ
Ãw_v®ue
) {

1397 
	`KMP_CPU_PAUSE
();

1401 
¡©us
;

1402 
¡©us
 = 
	`±h»ad_cÚd_š™
(&
th
->th.
th_su¥’d_cv
.
c_cÚd
,

1403 &
__kmp_su¥’d_cÚd_©Œ
);

1404 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd_š™", 
¡©us
);

1405 
¡©us
 = 
	`±h»ad_mu‹x_š™
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
,

1406 &
__kmp_su¥’d_mu‹x_©Œ
);

1407 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_š™", 
¡©us
);

1408 
	`KMP_ATOMIC_ST_REL
(&
th
->th.
th_su¥’d_š™_couÁ
, 
Ãw_v®ue
);

1409 
	`ANNOTATE_HAPPENS_BEFORE
(&
th
->th.
th_su¥’d_š™_couÁ
);

1411 
	}
}

1413 
	$__kmp_su¥’d_unš™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
) {

1414 ià(
	`KMP_ATOMIC_LD_ACQ
(&
th
->th.
th_su¥’d_š™_couÁ
è> 
__kmp_fÜk_couÁ
) {

1417 
¡©us
;

1419 
¡©us
 = 
	`±h»ad_cÚd_de¡roy
(&
th
->th.
th_su¥’d_cv
.
c_cÚd
);

1420 ià(
¡©us
 !ğ0 && stu !ğ
EBUSY
) {

1421 
	`KMP_SYSFAIL
("±h»ad_cÚd_de¡roy", 
¡©us
);

1423 
¡©us
 = 
	`±h»ad_mu‹x_de¡roy
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1424 ià(
¡©us
 !ğ0 && stu !ğ
EBUSY
) {

1425 
	`KMP_SYSFAIL
("±h»ad_mu‹x_de¡roy", 
¡©us
);

1427 --
th
->th.
th_su¥’d_š™_couÁ
;

1428 
	`KMP_DEBUG_ASSERT
(
	`KMP_ATOMIC_LD_RLX
(&
th
->th.
th_su¥’d_š™_couÁ
) ==

1429 
__kmp_fÜk_couÁ
);

1431 
	}
}

1434 
	$__kmp_Œy_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

1435  (
	`±h»ad_mu‹x_Œylock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
) == 0);

1436 
	}
}

1438 
	$__kmp_lock_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

1439 
¡©us
 = 
	`±h»ad_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1440 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_lock", 
¡©us
);

1441 
	}
}

1443 
	$__kmp_uÆock_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

1444 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1445 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1446 
	}
}

1450 
	g‹m¶©e
 <
şass
 
	gC
>

1451 
šlše
 
	$__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
C
 *
æag
) {

1452 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_su¥’d
);

1453 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
th_gtid
];

1454 
¡©us
;

1455 
ty³Çme
 
C
::
æag_t
 
Şd_¥š
;

1457 
	`KF_TRACE
(30, ("__kmp_su¥’d_‹m¶©e: T#%dƒÁ” fÜ fÏg = %p\n", 
th_gtid
,

1458 
æag
->
	`g‘
()));

1460 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
th
);

1462 
¡©us
 = 
	`±h»ad_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1463 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_lock", 
¡©us
);

1465 
	`KF_TRACE
(10, ("__kmp_suspend_template: T#%d setting sleep bit for spin(%p)\n",

1466 
th_gtid
, 
æag
->
	`g‘
()));

1470 
Şd_¥š
 = 
æag
->
	`£t_¦“pšg
();

1471 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

1472 
__kmp_·u£_¡©us
 !ğ
kmp_soá_·u£d
) {

1473 
æag
->
	`un£t_¦“pšg
();

1474 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1475 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1478 
	`KF_TRACE
(5, ("__kmp_suspend_template: T#%d set sleep bit for spin(%p)==%x,"

1480 
th_gtid
, 
æag
->
	`g‘
(), fÏg->
	`lßd
(), 
Şd_¥š
));

1482 ià(
æag
->
	`dÚe_check_v®
(
Şd_¥š
)) {

1483 
Şd_¥š
 = 
æag
->
	`un£t_¦“pšg
();

1484 
	`KF_TRACE
(5, ("__kmp_suspend_template: T#%d false‡larm,„eset sleep bit "

1486 
th_gtid
, 
æag
->
	`g‘
()));

1491 
d—ùiv©ed
 = 
FALSE
;

1492 
	`TCW_PTR
(
th
->th.
th_¦“p_loc
, (*)
æag
);

1494 
æag
->
	`is_¦“pšg
()) {

1495 #ifdeà
DEBUG_SUSPEND


1496 
bufãr
[128];

1497 
__kmp_su¥’d_couÁ
++;

1498 
	`__kmp_´št_cÚd
(
bufãr
, &
th
->th.
th_su¥’d_cv
);

1499 
	`__kmp_´štf
("__kmp_su¥’d_‹m¶©e: su¥’dšg T#%d: %s\n", 
th_gtid
,

1500 
bufãr
);

1504 ià(!
d—ùiv©ed
) {

1505 
th
->th.
th_aùive
 = 
FALSE
;

1506 ià(
th
->th.
th_aùive_š_poŞ
) {

1507 
th
->th.
th_aùive_š_poŞ
 = 
FALSE
;

1508 
	`KMP_ATOMIC_DEC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

1509 
	`KMP_DEBUG_ASSERT
(
	`TCR_4
(
__kmp_th»ad_poŞ_aùive_Áh
) >= 0);

1511 
d—ùiv©ed
 = 
TRUE
;

1514 #ià
USE_SUSPEND_TIMEOUT


1515 
time¥ec
 
now
;

1516 
timev®
 
tv®
;

1517 
m£cs
;

1519 
¡©us
 = 
	`g‘timeofday
(&
tv®
, 
NULL
);

1520 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘timeofday", 
¡©us
);

1521 
	`TIMEVAL_TO_TIMESPEC
(&
tv®
, &
now
);

1523 
m£cs
 = (4 * 
__kmp_dæt_blocktime
) + 200;

1524 
now
.
tv_£c
 +ğ
m£cs
 / 1000;

1525 
now
.
tv_n£c
 +ğ(
m£cs
 % 1000) * 1000;

1527 
	`KF_TRACE
(15, ("__kmp_suspend_template: T#%d‡bouto…erform "

1529 
th_gtid
));

1530 
¡©us
 = 
	`±h»ad_cÚd_timedwa™
(&
th
->th.
th_su¥’d_cv
.
c_cÚd
,

1531 &
th
->th.
th_su¥’d_mx
.
m_mu‹x
, &
now
);

1533 
	`KF_TRACE
(15, ("__kmp_suspend_template: T#%d‡bouto…erform"

1535 
th_gtid
));

1536 
¡©us
 = 
	`±h»ad_cÚd_wa™
(&
th
->th.
th_su¥’d_cv
.
c_cÚd
,

1537 &
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1540 ià((
¡©us
 !ğ0è&& (¡©u !ğ
EINTR
è&& (¡©u !ğ
ETIMEDOUT
)) {

1541 
	`KMP_SYSFAIL
("±h»ad_cÚd_wa™", 
¡©us
);

1543 #ifdeà
KMP_DEBUG


1544 ià(
¡©us
 =ğ
ETIMEDOUT
) {

1545 ià(
æag
->
	`is_¦“pšg
()) {

1546 
	`KF_TRACE
(100,

1547 ("__kmp_su¥’d_‹m¶©e: T#%dimeouˆwakeup\n", 
th_gtid
));

1549 
	`KF_TRACE
(2, ("__kmp_suspend_template: T#%dimeout wakeup, sleep bit "

1551 
th_gtid
));

1553 } ià(
æag
->
	`is_¦“pšg
()) {

1554 
	`KF_TRACE
(100,

1555 ("__kmp_su¥’d_‹m¶©e: T#%d spuriou wakeup\n", 
th_gtid
));

1561 ià(
d—ùiv©ed
) {

1562 
th
->th.
th_aùive
 = 
TRUE
;

1563 ià(
	`TCR_4
(
th
->th.
th_š_poŞ
)) {

1564 
	`KMP_ATOMIC_INC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

1565 
th
->th.
th_aùive_š_poŞ
 = 
TRUE
;

1569 #ifdeà
DEBUG_SUSPEND


1571 
bufãr
[128];

1572 
	`__kmp_´št_cÚd
(
bufãr
, &
th
->th.
th_su¥’d_cv
);

1573 
	`__kmp_´štf
("__kmp_su¥’d_‹m¶©e: T#%d ha awak’ed: %s\n", 
th_gtid
,

1574 
bufãr
);

1578 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1579 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1580 
	`KF_TRACE
(30, ("__kmp_su¥’d_‹m¶©e: T#%dƒx™\n", 
th_gtid
));

1581 
	}
}

1583 
	$__kmp_su¥’d_32
(
th_gtid
, 
kmp_æag_32
 *
æag
) {

1584 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

1585 
	}
}

1586 
	$__kmp_su¥’d_64
(
th_gtid
, 
kmp_æag_64
 *
æag
) {

1587 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

1588 
	}
}

1589 
	$__kmp_su¥’d_ÚcÜe
(
th_gtid
, 
kmp_æag_ÚcÜe
 *
æag
) {

1590 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

1591 
	}
}

1596 
	g‹m¶©e
 <
şass
 
	gC
>

1597 
šlše
 
	$__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
C
 *
æag
) {

1598 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_»sume
);

1599 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
rg‘_gtid
];

1600 
¡©us
;

1602 #ifdeà
KMP_DEBUG


1603 
gtid
 = 
	`TCR_4
(
__kmp_š™_gtid
è? 
	`__kmp_g‘_gtid
() : -1;

1606 
	`KF_TRACE
(30, ("__kmp_resume_template: T#%d wantso wakeup T#%dƒnter\n",

1607 
gtid
, 
rg‘_gtid
));

1608 
	`KMP_DEBUG_ASSERT
(
gtid
 !ğ
rg‘_gtid
);

1610 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
th
);

1612 
¡©us
 = 
	`±h»ad_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1613 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_lock", 
¡©us
);

1615 ià(!
æag
) {

1616 
æag
 = (
C
 *)
	`CCAST
(*, 
th
->th.
th_¦“p_loc
);

1621 ià(!
æag
 || fÏg->
	`g‘_ty³
(è!ğæag->
	`g‘_±r_ty³
()) {

1624 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%dƒxiting,hread T#%d‡lready "

1626 
gtid
, 
rg‘_gtid
, 
NULL
));

1627 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1628 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1632 
ty³Çme
 
C
::
æag_t
 
Şd_¥š
 = 
æag
->
	`un£t_¦“pšg
();

1633 ià(!
æag
->
	`is_¦“pšg_v®
(
Şd_¥š
)) {

1634 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%dƒxiting,hread T#%d‡lready "

1637 
gtid
, 
rg‘_gtid
, 
æag
->
	`g‘
(), 
Şd_¥š
, fÏg->
	`lßd
()));

1638 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1639 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1642 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%d‡bouto wakeup T#%d,„eset "

1645 
gtid
, 
rg‘_gtid
, 
æag
->
	`g‘
(), 
Şd_¥š
, fÏg->
	`lßd
()));

1647 
	`TCW_PTR
(
th
->th.
th_¦“p_loc
, 
NULL
);

1649 #ifdeà
DEBUG_SUSPEND


1651 
bufãr
[128];

1652 
	`__kmp_´št_cÚd
(
bufãr
, &
th
->th.
th_su¥’d_cv
);

1653 
	`__kmp_´štf
("__kmp_»sume_‹m¶©e: T#%d„esumšg T#%d: %s\n", 
gtid
,

1654 
rg‘_gtid
, 
bufãr
);

1657 
¡©us
 = 
	`±h»ad_cÚd_sigÇl
(&
th
->th.
th_su¥’d_cv
.
c_cÚd
);

1658 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd_sigÇl", 
¡©us
);

1659 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
.
m_mu‹x
);

1660 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1661 
	`KF_TRACE
(30, ("__kmp_resume_template: T#%dƒxiting‡fter signaling wake up"

1663 
gtid
, 
rg‘_gtid
));

1664 
	}
}

1666 
	$__kmp_»sume_32
(
rg‘_gtid
, 
kmp_æag_32
 *
æag
) {

1667 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

1668 
	}
}

1669 
	$__kmp_»sume_64
(
rg‘_gtid
, 
kmp_æag_64
 *
æag
) {

1670 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

1671 
	}
}

1672 
	$__kmp_»sume_ÚcÜe
(
rg‘_gtid
, 
kmp_æag_ÚcÜe
 *
æag
) {

1673 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

1674 
	}
}

1676 #ià
KMP_USE_MONITOR


1677 
	$__kmp_»sume_mÚ™Ü
() {

1678 
	`KMP_TIME_DEVELOPER_PARTITIONED_BLOCK
(
USER_»sume
);

1679 
¡©us
;

1680 #ifdeà
KMP_DEBUG


1681 
gtid
 = 
	`TCR_4
(
__kmp_š™_gtid
è? 
	`__kmp_g‘_gtid
() : -1;

1682 
	`KF_TRACE
(30, ("__kmp_»sume_mÚ™Ü: T#%d wªt tØwakeu°T#%dƒÁ”\n", 
gtid
,

1683 
KMP_GTID_MONITOR
));

1684 
	`KMP_DEBUG_ASSERT
(
gtid
 !ğ
KMP_GTID_MONITOR
);

1686 
¡©us
 = 
	`±h»ad_mu‹x_lock
(&
__kmp_wa™_mx
.
m_mu‹x
);

1687 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_lock", 
¡©us
);

1688 #ifdeà
DEBUG_SUSPEND


1690 
bufãr
[128];

1691 
	`__kmp_´št_cÚd
(
bufãr
, &
__kmp_wa™_cv
.
c_cÚd
);

1692 
	`__kmp_´štf
("__kmp_»sume_mÚ™Ü: T#%d„esumšg T#%d: %s\n", 
gtid
,

1693 
KMP_GTID_MONITOR
, 
bufãr
);

1696 
¡©us
 = 
	`±h»ad_cÚd_sigÇl
(&
__kmp_wa™_cv
.
c_cÚd
);

1697 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd_sigÇl", 
¡©us
);

1698 
¡©us
 = 
	`±h»ad_mu‹x_uÆock
(&
__kmp_wa™_mx
.
m_mu‹x
);

1699 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_uÆock", 
¡©us
);

1700 
	`KF_TRACE
(30, ("__kmp_resume_monitor: T#%dƒxiting‡fter signaling wake up"

1702 
gtid
, 
KMP_GTID_MONITOR
));

1703 
	}
}

1706 
	$__kmp_y›ld
(è{ 
	`sched_y›ld
(); 
	}
}

1708 
	$__kmp_gtid_£t_¥ecific
(
gtid
) {

1709 ià(
__kmp_š™_gtid
) {

1710 
¡©us
;

1711 
¡©us
 = 
	`±h»ad_£t¥ecific
(
__kmp_gtid_th»ad´iv©e_key
,

1712 (*)(
šŒ_t
)(
gtid
 + 1));

1713 
	`KMP_CHECK_SYSFAIL
("±h»ad_£t¥ecific", 
¡©us
);

1715 
	`KA_TRACE
(50, ("__kmp_gtid_set_specific:„untime shutdown,„eturning\n"));

1717 
	}
}

1719 
	$__kmp_gtid_g‘_¥ecific
() {

1720 
gtid
;

1721 ià(!
__kmp_š™_gtid
) {

1722 
	`KA_TRACE
(50, ("__kmp_gtid_get_specific:„untime shutdown,„eturning "

1724  
KMP_GTID_SHUTDOWN
;

1726 
gtid
 = ()(
size_t
)
	`±h»ad_g‘¥ecific
(
__kmp_gtid_th»ad´iv©e_key
);

1727 ià(
gtid
 == 0) {

1728 
gtid
 = 
KMP_GTID_DNE
;

1730 
gtid
--;

1732 
	`KA_TRACE
(50, ("__kmp_gtid_get_specific: key:%d gtid:%d\n",

1733 
__kmp_gtid_th»ad´iv©e_key
, 
gtid
));

1734  
gtid
;

1735 
	}
}

1737 
	$__kmp_»ad_ıu_time
() {

1739 
tms
 
bufãr
;

1741  
	`times
(&
bufãr
);

1743  (
bufãr
.
tms_utime
 + bufãr.
tms_cutime
è/ ()
CLOCKS_PER_SEC
;

1744 
	}
}

1746 
	$__kmp_»ad_sy¡em_šfo
(
kmp_sys_šfo
 *
šfo
) {

1747 
¡©us
;

1748 
ru§ge
 
r_u§ge
;

1750 
	`mem£t
(
šfo
, 0, (*info));

1752 
¡©us
 = 
	`g‘ru§ge
(
RUSAGE_SELF
, &
r_u§ge
);

1753 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘ru§ge", 
¡©us
);

1756 
šfo
->
maxrss
 = 
r_u§ge
.
ru_maxrss
;

1758 
šfo
->
mšæt
 = 
r_u§ge
.
ru_mšæt
;

1760 
šfo
->
majæt
 = 
r_u§ge
.
ru_majæt
;

1762 
šfo
->
nsw­
 = 
r_u§ge
.
ru_nsw­
;

1764 
šfo
->
šblock
 = 
r_u§ge
.
ru_šblock
;

1766 
šfo
->
oublock
 = 
r_u§ge
.
ru_oublock
;

1768 
šfo
->
nvcsw
 = 
r_u§ge
.
ru_nvcsw
;

1770 
šfo
->
nivcsw
 = 
r_u§ge
.
ru_nivcsw
;

1772  (
¡©us
 != 0);

1773 
	}
}

1775 
	$__kmp_»ad_sy¡em_time
(*
d–
) {

1776 
t_ns
;

1777 
timev®
 
tv®
;

1778 
time¥ec
 
¡İ
;

1779 
¡©us
;

1781 
¡©us
 = 
	`g‘timeofday
(&
tv®
, 
NULL
);

1782 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘timeofday", 
¡©us
);

1783 
	`TIMEVAL_TO_TIMESPEC
(&
tv®
, &
¡İ
);

1784 
t_ns
 = 
	`TS2NS
(
¡İ
è- TS2NS(
__kmp_sys_tim”_d©a
.
¡¬t
);

1785 *
d–
 = (
t_ns
 * 1e-9);

1786 
	}
}

1788 
	$__kmp_ş—r_sy¡em_time
() {

1789 
timev®
 
tv®
;

1790 
¡©us
;

1791 
¡©us
 = 
	`g‘timeofday
(&
tv®
, 
NULL
);

1792 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘timeofday", 
¡©us
);

1793 
	`TIMEVAL_TO_TIMESPEC
(&
tv®
, &
__kmp_sys_tim”_d©a
.
¡¬t
);

1794 
	}
}

1796 
	$__kmp_g‘_x´oc
() {

1798 
r
 = 0;

1800 #ià
KMP_OS_LINUX
 || 
KMP_OS_DRAGONFLY
 || 
KMP_OS_FREEBSD
 || 
KMP_OS_NETBSD
 || \

1801 
KMP_OS_OPENBSD
 || 
KMP_OS_HURD


1803 
r
 = 
	`syscÚf
(
_SC_NPROCESSORS_ONLN
);

1805 #–ià
KMP_OS_DARWIN


1810 
k”n_»tuº_t
 
rc
;

1811 
ho¡_basic_šfo_d©a_t
 
šfo
;

1812 
mach_msg_ty³_numb”_t
 
num
 = 
HOST_BASIC_INFO_COUNT
;

1813 
rc
 = 
	`ho¡_šfo
(
	`mach_ho¡_£lf
(), 
HOST_BASIC_INFO
, (
ho¡_šfo_t
)&
šfo
, &
num
);

1814 ià(
rc
 =ğ0 && 
num
 =ğ
HOST_BASIC_INFO_COUNT
) {

1817 
r
 = 
šfo
.
ava_ıus
;

1819 
	`KMP_WARNING
(
CªtG‘NumAvaCPU
);

1820 
	`KMP_INFORM
(
AssumedNumCPU
);

1829  
r
 > 0 ?„ : 2;

1831 
	}
}

1833 
	$__kmp_»ad_äom_fe
(cÚ¡ *
·th
, cÚ¡ *
fÜm©
, ...) {

1834 
»suÉ
;

1835 
va_li¡
 
¬gs
;

1837 
	`va_¡¬t
(
¬gs
, 
fÜm©
);

1838 
FILE
 *
f
 = 
	`fİ’
(
·th
, "rb");

1839 ià(
f
 =ğ
NULL
)

1841 
»suÉ
 = 
	`vfsÿnf
(
f
, 
fÜm©
, 
¬gs
);

1842 
	`fşo£
(
f
);

1844  
»suÉ
;

1845 
	}
}

1847 
	$__kmp_ruÁime_š™Ÿlize
() {

1848 
¡©us
;

1849 
±h»ad_mu‹x©Œ_t
 
mu‹x_©Œ
;

1850 
±h»ad_cÚd©Œ_t
 
cÚd_©Œ
;

1852 ià(
__kmp_š™_ruÁime
) {

1856 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

1857 ià(!
__kmp_ıušfo
.
š™Ÿlized
) {

1858 
	`__kmp_qu”y_ıuid
(&
__kmp_ıušfo
);

1862 
__kmp_x´oc
 = 
	`__kmp_g‘_x´oc
();

1864 #ià! 
KMP_32_BIT_ARCH


1865 
¾im™
 
¾im
;

1868 
¡©us
 = 
	`g‘¾im™
(
RLIMIT_STACK
, &
¾im
);

1869 ià(
¡©us
 == 0) {

1870 
__kmp_¡ksize
 = 
¾im
.
¾im_cur
;

1871 
	`__kmp_check_¡ksize
(&
__kmp_¡ksize
);

1875 ià(
	`syscÚf
(
_SC_THREADS
)) {

1878 
__kmp_sys_max_Áh
 = 
	`syscÚf
(
_SC_THREAD_THREADS_MAX
);

1879 ià(
__kmp_sys_max_Áh
 == -1) {

1881 
__kmp_sys_max_Áh
 = 
INT_MAX
;

1882 } ià(
__kmp_sys_max_Áh
 <= 1) {

1884 
__kmp_sys_max_Áh
 = 
KMP_MAX_NTH
;

1888 
__kmp_sys_mš_¡ksize
 = 
	`syscÚf
(
_SC_THREAD_STACK_MIN
);

1889 ià(
__kmp_sys_mš_¡ksize
 <= 1) {

1890 
__kmp_sys_mš_¡ksize
 = 
KMP_MIN_STKSIZE
;

1895 
__kmp_s_gtid_mš
 = 
KMP_TLS_GTID_MIN
;

1897 
¡©us
 = 
	`±h»ad_key_ü—‹
(&
__kmp_gtid_th»ad´iv©e_key
,

1898 
__kmp_š‹º®_’d_de¡
);

1899 
	`KMP_CHECK_SYSFAIL
("±h»ad_key_ü—‹", 
¡©us
);

1900 
¡©us
 = 
	`±h»ad_mu‹x©Œ_š™
(&
mu‹x_©Œ
);

1901 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x©Œ_š™", 
¡©us
);

1902 
¡©us
 = 
	`±h»ad_mu‹x_š™
(&
__kmp_wa™_mx
.
m_mu‹x
, &
mu‹x_©Œ
);

1903 
	`KMP_CHECK_SYSFAIL
("±h»ad_mu‹x_š™", 
¡©us
);

1904 
¡©us
 = 
	`±h»ad_cÚd©Œ_š™
(&
cÚd_©Œ
);

1905 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd©Œ_š™", 
¡©us
);

1906 
¡©us
 = 
	`±h»ad_cÚd_š™
(&
__kmp_wa™_cv
.
c_cÚd
, &
cÚd_©Œ
);

1907 
	`KMP_CHECK_SYSFAIL
("±h»ad_cÚd_š™", 
¡©us
);

1908 #ià
USE_ITT_BUILD


1909 
	`__kmp_™t_š™Ÿlize
();

1912 
__kmp_š™_ruÁime
 = 
TRUE
;

1913 
	}
}

1915 
	$__kmp_ruÁime_de¡roy
() {

1916 
¡©us
;

1918 ià(!
__kmp_š™_ruÁime
) {

1922 #ià
USE_ITT_BUILD


1923 
	`__kmp_™t_de¡roy
();

1926 
¡©us
 = 
	`±h»ad_key_d–‘e
(
__kmp_gtid_th»ad´iv©e_key
);

1927 
	`KMP_CHECK_SYSFAIL
("±h»ad_key_d–‘e", 
¡©us
);

1929 
¡©us
 = 
	`±h»ad_mu‹x_de¡roy
(&
__kmp_wa™_mx
.
m_mu‹x
);

1930 ià(
¡©us
 !ğ0 && stu !ğ
EBUSY
) {

1931 
	`KMP_SYSFAIL
("±h»ad_mu‹x_de¡roy", 
¡©us
);

1933 
¡©us
 = 
	`±h»ad_cÚd_de¡roy
(&
__kmp_wa™_cv
.
c_cÚd
);

1934 ià(
¡©us
 !ğ0 && stu !ğ
EBUSY
) {

1935 
	`KMP_SYSFAIL
("±h»ad_cÚd_de¡roy", 
¡©us
);

1937 #ià
KMP_AFFINITY_SUPPORTED


1938 
	`__kmp_affš™y_unš™Ÿlize
();

1941 
__kmp_š™_ruÁime
 = 
FALSE
;

1942 
	}
}

1946 
	$__kmp_th»ad_¦“p
(
mlis
è{ 
	`¦“p
((mli + 500è/ 1000); 
	}
}

1949 
	$__kmp_–­£d
(*
t
) {

1950 
¡©us
;

1951 #ifdeà
FIX_SGI_CLOCK


1952 
time¥ec
 
ts
;

1954 
¡©us
 = 
	`şock_g‘time
(
CLOCK_PROCESS_CPUTIME_ID
, &
ts
);

1955 
	`KMP_CHECK_SYSFAIL_ERRNO
("şock_g‘time", 
¡©us
);

1956 *
t
 =

1957 ()
ts
.
tv_n£c
 * (1.0 / ()
KMP_NSEC_PER_SEC
è+ (és.
tv_£c
;

1959 
timev®
 
tv
;

1961 
¡©us
 = 
	`g‘timeofday
(&
tv
, 
NULL
);

1962 
	`KMP_CHECK_SYSFAIL_ERRNO
("g‘timeofday", 
¡©us
);

1963 *
t
 =

1964 ()
tv
.
tv_u£c
 * (1.0 / ()
KMP_USEC_PER_SEC
è+ (év.
tv_£c
;

1966 
	}
}

1969 
	$__kmp_–­£d_tick
(*
t
è{ *ˆğ1 / ()
CLOCKS_PER_SEC
; 
	}
}

1972 
kmp_ušt64
 
	$__kmp_now_n£c
() {

1973 
timev®
 
t
;

1974 
	`g‘timeofday
(&
t
, 
NULL
);

1975 
kmp_ušt64
 
n£c
 = (kmp_ušt64)
KMP_NSEC_PER_SEC
 * (kmp_ušt64)
t
.
tv_£c
 +

1976 (
kmp_ušt64
)1000 * (kmp_ušt64)
t
.
tv_u£c
;

1977  
n£c
;

1978 
	}
}

1980 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


1982 
	$__kmp_š™Ÿlize_sy¡em_tick
() {

1983 
kmp_ušt64
 
now
, 
n£c2
, 
diff
;

1984 
kmp_ušt64
 
d–ay
 = 100000;

1985 
kmp_ušt64
 
n£c
 = 
	`__kmp_now_n£c
();

1986 
kmp_ušt64
 
gßl
 = 
	`__kmp_h¬dw¬e_time¡amp
(è+ 
d–ay
;

1987 (
now
 = 
	`__kmp_h¬dw¬e_time¡amp
()è< 
gßl
)

1989 
n£c2
 = 
	`__kmp_now_n£c
();

1990 
diff
 = 
n£c2
 - 
n£c
;

1991 ià(
diff
 > 0) {

1992 
kmp_ušt64
 
ms
 = (kmp_ušt64)(1e6 * (
d–ay
 + (
now
 - 
gßl
)è/ 
diff
);

1993 ià(
ms
 > 0)

1994 
__kmp_ticks_³r_m£c
 = 
ms
;

1996 
	}
}

2002 
	$__kmp_is_add»ss_m­³d
(*
addr
) {

2004 
found
 = 0;

2005 
rc
;

2007 #ià
KMP_OS_LINUX
 || 
KMP_OS_HURD


2012 *
Çme
 = 
	`__kmp_¡r_fÜm©
("/´oc/%d/m­s", 
	`g‘pid
());

2013 
FILE
 *
fe
 = 
NULL
;

2015 
fe
 = 
	`fİ’
(
Çme
, "r");

2016 
	`KMP_ASSERT
(
fe
 !ğ
NULL
);

2020 *
begšnšg
 = 
NULL
;

2021 *
’dšg
 = 
NULL
;

2022 
³rms
[5];

2024 
rc
 = 
	`fsÿnf
(
fe
, "%p-%°%4 %*[^\n]\n", &
begšnšg
, &
’dšg
, 
³rms
);

2025 ià(
rc
 =ğ
EOF
) {

2028 
	`KMP_ASSERT
(
rc
 == 3 &&

2029 
	`KMP_STRLEN
(
³rms
) == 4);

2032 ià((
addr
 >ğ
begšnšg
è&& (add¸< 
’dšg
)) {

2033 
³rms
[2] = 0;

2034 ià(
	`¡rcmp
(
³rms
, "rw") == 0) {

2036 
found
 = 1;

2043 
	`fşo£
(
fe
);

2044 
	`KMP_INTERNAL_FREE
(
Çme
);

2045 #–ià
KMP_OS_FREEBSD


2046 *
buf
;

2047 
size_t
 
l¡sz
;

2048 
mib
[] = {
CTL_KERN
, 
KERN_PROC
, 
KERN_PROC_VMMAP
, 
	`g‘pid
()};

2049 
rc
 = 
	`sysùl
(
mib
, 4, 
NULL
, &
l¡sz
, NULL, 0);

2050 ià(
rc
 < 0)

2054 
l¡sz
 =†stsz * 4 / 3;

2055 
buf
 = 
»š‹½»t_ÿ¡
<*>(
	`kmpc_m®loc
(
l¡sz
));

2056 
rc
 = 
	`sysùl
(
mib
, 4, 
buf
, &
l¡sz
, 
NULL
, 0);

2057 ià(
rc
 < 0) {

2058 
	`kmpc_ä“
(
buf
);

2062 *
lw
 = 
buf
;

2063 *
up
 = 
buf
 + 
l¡sz
;

2065 
lw
 < 
up
) {

2066 
kšfo_vm’Œy
 *
cur
 = 
»š‹½»t_ÿ¡
<kšfo_vm’Œy *>(
lw
);

2067 
size_t
 
cursz
 = 
cur
->
kve_¡ruùsize
;

2068 ià(
cursz
 == 0)

2070 *
¡¬t
 = 
»š‹½»t_ÿ¡
<*>(
cur
->
kve_¡¬t
);

2071 *
’d
 = 
»š‹½»t_ÿ¡
<*>(
cur
->
kve_’d
);

2073 ià((
addr
 >ğ
¡¬t
è&& (add¸< 
’d
)) {

2074 ià((
cur
->
kve_´ÙeùiÚ
 & 
KVME_PROT_READ
) != 0 &&

2075 (
cur
->
kve_´ÙeùiÚ
 & 
KVME_PROT_WRITE
) != 0) {

2076 
found
 = 1;

2080 
lw
 +ğ
cursz
;

2082 
	`kmpc_ä“
(
buf
);

2084 #–ià
KMP_OS_DARWIN


2089 
bufãr
;

2090 
vm_size_t
 
couÁ
;

2091 
rc
 = 
	`vm_»ad_ov”wr™e
(

2092 
	`mach_sk_£lf
(),

2093 (
vm_add»ss_t
)(
addr
),

2095 (
vm_add»ss_t
)(&
bufãr
),

2096 &
couÁ


2098 ià(
rc
 == 0) {

2100 
found
 = 1;

2103 #–ià
KMP_OS_NETBSD


2105 
mib
[5];

2106 
mib
[0] = 
CTL_VM
;

2107 
mib
[1] = 
VM_PROC
;

2108 
mib
[2] = 
VM_PROC_MAP
;

2109 
mib
[3] = 
	`g‘pid
();

2110 
mib
[4] = (
kšfo_vm’Œy
);

2112 
size_t
 
size
;

2113 
rc
 = 
	`sysùl
(
mib
, 
	`__¬¿ycouÁ
(mib), 
NULL
, &
size
, NULL, 0);

2114 
	`KMP_ASSERT
(!
rc
);

2115 
	`KMP_ASSERT
(
size
);

2117 
size
 = size * 4 / 3;

2118 
kšfo_vm’Œy
 *
kiv
 = (kšfo_vm’Œy *)
	`KMP_INTERNAL_MALLOC
(
size
);

2119 
	`KMP_ASSERT
(
kiv
);

2121 
rc
 = 
	`sysùl
(
mib
, 
	`__¬¿ycouÁ
(mib), 
kiv
, &
size
, 
NULL
, 0);

2122 
	`KMP_ASSERT
(!
rc
);

2123 
	`KMP_ASSERT
(
size
);

2125 
size_t
 
i
 = 0; i < 
size
; i++) {

2126 ià(
kiv
[
i
].
kve_¡¬t
 >ğ(
ušt64_t
)
addr
 &&

2127 
kiv
[
i
].
kve_’d
 <ğ(
ušt64_t
)
addr
) {

2128 
found
 = 1;

2132 
	`KMP_INTERNAL_FREE
(
kiv
);

2133 #–ià
KMP_OS_OPENBSD


2135 
mib
[3];

2136 
mib
[0] = 
CTL_KERN
;

2137 
mib
[1] = 
KERN_PROC_VMMAP
;

2138 
mib
[2] = 
	`g‘pid
();

2140 
size_t
 
size
;

2141 
ušt64_t
 
’d
;

2142 
rc
 = 
	`sysùl
(
mib
, 3, 
NULL
, &
size
, NULL, 0);

2143 
	`KMP_ASSERT
(!
rc
);

2144 
	`KMP_ASSERT
(
size
);

2145 
’d
 = 
size
;

2147 
kšfo_vm’Œy
 
kiv
 = {.
kve_¡¬t
 = 0};

2149 (
rc
 = 
	`sysùl
(
mib
, 3, &
kiv
, &
size
, 
NULL
, 0)) == 0) {

2150 
	`KMP_ASSERT
(
size
);

2151 ià(
kiv
.
kve_’d
 =ğ
’d
)

2154 ià(
kiv
.
kve_¡¬t
 >ğ(
ušt64_t
)
addr
 && kiv.
kve_’d
 <= (uint64_t)addr) {

2155 
found
 = 1;

2158 
kiv
.
kve_¡¬t
 += 1;

2160 #–ià
KMP_OS_DRAGONFLY


2163 
found
 = 1;

2171  
found
;

2173 
	}
}

2175 #ifdeà
USE_LOAD_BALANCE


2177 #ià
KMP_OS_DARWIN
 || 
KMP_OS_NETBSD


2184 
	$__kmp_g‘_lßd_b®ªû
(
max
) {

2185 
av”ages
[3];

2186 
»t_avg
 = 0;

2188 
»s
 = 
	`g‘lßdavg
(
av”ages
, 3);

2193 ià(
__kmp_lßd_b®ªû_š‹rv®
 < 180 && (
»s
 >= 1)) {

2194 
»t_avg
 = 
av”ages
[0];

2195 } ià((
__kmp_lßd_b®ªû_š‹rv®
 >= 180 &&

2196 
__kmp_lßd_b®ªû_š‹rv®
 < 600) &&

2197 (
»s
 >= 2)) {

2198 
»t_avg
 = 
av”ages
[1];

2199 } ià((
__kmp_lßd_b®ªû_š‹rv®
 >ğ600è&& (
»s
 == 3)) {

2200 
»t_avg
 = 
av”ages
[2];

2205  
»t_avg
;

2206 
	}
}

2214 
	$__kmp_g‘_lßd_b®ªû
(
max
) {

2215 
³rmª’t_”rÜ
 = 0;

2216 
glb_ruÂšg_th»ads
 = 0;

2218 
glb_ÿÎ_time
 = 0;

2220 
ruÂšg_th»ads
 = 0;

2222 
DIR
 *
´oc_dœ
 = 
NULL
;

2223 
dœ’t
 *
´oc_’Œy
 = 
NULL
;

2225 
kmp_¡r_buf_t
 
sk_·th
;

2226 
DIR
 *
sk_dœ
 = 
NULL
;

2227 
dœ’t
 *
sk_’Œy
 = 
NULL
;

2228 
sk_·th_fixed_Ën
;

2230 
kmp_¡r_buf_t
 
¡©_·th
;

2231 
¡©_fe
 = -1;

2232 
¡©_·th_fixed_Ën
;

2234 
tÙ®_´oûs£s
 = 0;

2235 
tÙ®_th»ads
 = 0;

2237 
ÿÎ_time
 = 0.0;

2239 
	`__kmp_¡r_buf_š™
(&
sk_·th
);

2240 
	`__kmp_¡r_buf_š™
(&
¡©_·th
);

2242 
	`__kmp_–­£d
(&
ÿÎ_time
);

2244 ià(
glb_ÿÎ_time
 &&

2245 (
ÿÎ_time
 - 
glb_ÿÎ_time
 < 
__kmp_lßd_b®ªû_š‹rv®
)) {

2246 
ruÂšg_th»ads
 = 
glb_ruÂšg_th»ads
;

2247 
fšish
;

2250 
glb_ÿÎ_time
 = 
ÿÎ_time
;

2253 ià(
³rmª’t_”rÜ
) {

2254 
ruÂšg_th»ads
 = -1;

2255 
fšish
;

2258 ià(
max
 <= 0) {

2259 
max
 = 
INT_MAX
;

2263 
´oc_dœ
 = 
	`İ’dœ
("/proc");

2264 ià(
´oc_dœ
 =ğ
NULL
) {

2267 
ruÂšg_th»ads
 = -1;

2268 
³rmª’t_”rÜ
 = 1;

2269 
fšish
;

2273 
	`__kmp_¡r_buf_ÿt
(&
sk_·th
, "/proc/", 6);

2274 
sk_·th_fixed_Ën
 = 
sk_·th
.
u£d
;

2276 
´oc_’Œy
 = 
	`»addœ
(
´oc_dœ
);

2277 
´oc_’Œy
 !ğ
NULL
) {

2280 ià(
´oc_’Œy
->
d_ty³
 =ğ
DT_DIR
 && 
	`isdig™
Õroc_’Œy->
d_Çme
[0])) {

2282 ++
tÙ®_´oûs£s
;

2288 
	`KMP_DEBUG_ASSERT
(
tÙ®_´oûs£s
 != 1 ||

2289 
	`¡rcmp
(
´oc_’Œy
->
d_Çme
, "1") == 0);

2292 
sk_·th
.
u£d
 = 
sk_·th_fixed_Ën
;

2293 
	`__kmp_¡r_buf_ÿt
(&
sk_·th
, 
´oc_’Œy
->
d_Çme
,

2294 
	`KMP_STRLEN
(
´oc_’Œy
->
d_Çme
));

2295 
	`__kmp_¡r_buf_ÿt
(&
sk_·th
, "/task", 5);

2297 
sk_dœ
 = 
	`İ’dœ
(
sk_·th
.
¡r
);

2298 ià(
sk_dœ
 =ğ
NULL
) {

2307 ià(
	`¡rcmp
(
´oc_’Œy
->
d_Çme
, "1") == 0) {

2308 
ruÂšg_th»ads
 = -1;

2309 
³rmª’t_”rÜ
 = 1;

2310 
fšish
;

2314 
	`__kmp_¡r_buf_ş—r
(&
¡©_·th
);

2315 
	`__kmp_¡r_buf_ÿt
(&
¡©_·th
, 
sk_·th
.
¡r
,ask_·th.
u£d
);

2316 
	`__kmp_¡r_buf_ÿt
(&
¡©_·th
, "/", 1);

2317 
¡©_·th_fixed_Ën
 = 
¡©_·th
.
u£d
;

2319 
sk_’Œy
 = 
	`»addœ
(
sk_dœ
);

2320 
sk_’Œy
 !ğ
NULL
) {

2322 ià(
´oc_’Œy
->
d_ty³
 =ğ
DT_DIR
 && 
	`isdig™
(
sk_’Œy
->
d_Çme
[0])) {

2323 ++
tÙ®_th»ads
;

2329 
¡©_·th
.
u£d
 =

2330 
¡©_·th_fixed_Ën
;

2331 
	`__kmp_¡r_buf_ÿt
(&
¡©_·th
, 
sk_’Œy
->
d_Çme
,

2332 
	`KMP_STRLEN
(
sk_’Œy
->
d_Çme
));

2333 
	`__kmp_¡r_buf_ÿt
(&
¡©_·th
, "/stat", 5);

2337 
¡©_fe
 = 
	`İ’
(
¡©_·th
.
¡r
, 
O_RDONLY
);

2338 ià(
¡©_fe
 == -1) {

2366 
bufãr
[65];

2367 
Ën
;

2368 
Ën
 = 
	`»ad
(
¡©_fe
, 
bufãr
, (buffer) - 1);

2369 ià(
Ën
 >= 0) {

2370 
bufãr
[
Ën
] = 0;

2375 *
şo£_·»Á
 = 
	`¡r¡r
(
bufãr
, ") ");

2376 ià(
şo£_·»Á
 !ğ
NULL
) {

2377 
¡©e
 = *(
şo£_·»Á
 + 2);

2378 ià(
¡©e
 == 'R') {

2379 ++
ruÂšg_th»ads
;

2380 ià(
ruÂšg_th»ads
 >ğ
max
) {

2381 
fšish
;

2386 
	`şo£
(
¡©_fe
);

2387 
¡©_fe
 = -1;

2390 
sk_’Œy
 = 
	`»addœ
(
sk_dœ
);

2392 
	`şo£dœ
(
sk_dœ
);

2393 
sk_dœ
 = 
NULL
;

2396 
´oc_’Œy
 = 
	`»addœ
(
´oc_dœ
);

2402 
	`KMP_DEBUG_ASSERT
(
ruÂšg_th»ads
 > 0);

2403 ià(
ruÂšg_th»ads
 <= 0) {

2404 
ruÂšg_th»ads
 = 1;

2407 
fšish
:

2408 ià(
´oc_dœ
 !ğ
NULL
) {

2409 
	`şo£dœ
(
´oc_dœ
);

2411 
	`__kmp_¡r_buf_ä“
(&
sk_·th
);

2412 ià(
sk_dœ
 !ğ
NULL
) {

2413 
	`şo£dœ
(
sk_dœ
);

2415 
	`__kmp_¡r_buf_ä“
(&
¡©_·th
);

2416 ià(
¡©_fe
 != -1) {

2417 
	`şo£
(
¡©_fe
);

2420 
glb_ruÂšg_th»ads
 = 
ruÂšg_th»ads
;

2422  
ruÂšg_th»ads
;

2424 
	}
}

2430 #ià!(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
 || 
KMP_MIC
 || \

2431 ((
	gKMP_OS_LINUX
 || 
	gKMP_OS_DARWIN
è&& 
	gKMP_ARCH_AARCH64
) || \

2432 
	gKMP_ARCH_PPC64
 || 
	gKMP_ARCH_RISCV64
)

2436 
__kmp_švoke_miüÙask
(
miüÙask_t
 
pkâ
, 
gtid
, 
tid
, 
¬gc
,

2437 *
p_¬gv
[]

2438 #ià
OMPT_SUPPORT


2440 **
ex™_äame_±r


2443 #ià
OMPT_SUPPORT


2444 *
	gex™_äame_±r
 = 
OMPT_GET_FRAME_ADDRESS
(0);

2447 
	g¬gc
) {

2449 
årštf
(
¡d”r
, "ToØmªy‡rg tØmiüÙask: %d!\n", 
¬gc
);

2450 
fæush
(
¡d”r
);

2451 
ex™
(-1);

2453 (*
pkâ
)(&
gtid
, &
	gtid
);

2456 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0]);

2459 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1]);

2462 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2]);

2465 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3]);

2468 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4]);

2471 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2472 
	gp_¬gv
[5]);

2475 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2476 
	gp_¬gv
[5],…_argv[6]);

2479 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2480 
	gp_¬gv
[5],…_argv[6],…_argv[7]);

2483 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2484 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8]);

2487 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2488 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9]);

2491 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2492 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9],…_argv[10]);

2495 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2496 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9],…_argv[10],

2497 
	gp_¬gv
[11]);

2500 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2501 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9],…_argv[10],

2502 
	gp_¬gv
[11],…_argv[12]);

2505 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2506 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9],…_argv[10],

2507 
	gp_¬gv
[11],…_argv[12],…_argv[13]);

2510 (*
pkâ
)(&
gtid
, &
	gtid
, 
	gp_¬gv
[0],…_argv[1],…_argv[2],…_argv[3],…_argv[4],

2511 
	gp_¬gv
[5],…_argv[6],…_argv[7],…_argv[8],…_argv[9],…_argv[10],

2512 
	gp_¬gv
[11],…_argv[12],…_argv[13],…_argv[14]);

	@z_Windows_NT-586_util.cpp

13 
	~"kmp.h
"

15 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

19 
kmp_št8
 
	$__kmp_‹¡_th’_Ü8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

20 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

22 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

23 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

25 !
	`__kmp_com·»_ªd_¡Üe8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

26 
	`KMP_CPU_PAUSE
();

27 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

28 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

30  
Şd_v®ue
;

31 
	}
}

33 
kmp_št8
 
	$__kmp_‹¡_th’_ªd8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

34 
kmp_št8
 
Şd_v®ue
, 
Ãw_v®ue
;

36 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

37 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

39 !
	`__kmp_com·»_ªd_¡Üe8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

40 
	`KMP_CPU_PAUSE
();

41 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

42 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

44  
Şd_v®ue
;

45 
	}
}

47 
kmp_ušt32
 
	$__kmp_‹¡_th’_Ü32
(vŞ©
kmp_ušt32
 *
p
, kmp_ušt32 
d
) {

48 
kmp_ušt32
 
Şd_v®ue
, 
Ãw_v®ue
;

50 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

51 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

53 !
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)
p
, 
Şd_v®ue
,

54 
Ãw_v®ue
)) {

55 
	`KMP_CPU_PAUSE
();

56 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

57 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

59  
Şd_v®ue
;

60 
	}
}

62 
kmp_ušt32
 
	$__kmp_‹¡_th’_ªd32
(vŞ©
kmp_ušt32
 *
p
, kmp_ušt32 
d
) {

63 
kmp_ušt32
 
Şd_v®ue
, 
Ãw_v®ue
;

65 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

66 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

68 !
	`__kmp_com·»_ªd_¡Üe32
((vŞ©
kmp_št32
 *)
p
, 
Şd_v®ue
,

69 
Ãw_v®ue
)) {

70 
	`KMP_CPU_PAUSE
();

71 
Şd_v®ue
 = 
	`TCR_4
(*
p
);

72 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

74  
Şd_v®ue
;

75 
	}
}

77 
kmp_št8
 
	$__kmp_‹¡_th’_add8
(vŞ©
kmp_št8
 *
p
, kmp_št8 
d
) {

78 
kmp_št64
 
Şd_v®ue
, 
Ãw_v®ue
;

80 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

81 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

82 !
	`__kmp_com·»_ªd_¡Üe8
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

83 
	`KMP_CPU_PAUSE
();

84 
Şd_v®ue
 = 
	`TCR_1
(*
p
);

85 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

87  
Şd_v®ue
;

88 
	}
}

90 #ià
KMP_ARCH_X86


91 
kmp_št64
 
	$__kmp_‹¡_th’_add64
(vŞ©
kmp_št64
 *
p
, kmp_št64 
d
) {

92 
kmp_št64
 
Şd_v®ue
, 
Ãw_v®ue
;

94 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

95 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

96 !
	`__kmp_com·»_ªd_¡Üe64
(
p
, 
Şd_v®ue
, 
Ãw_v®ue
)) {

97 
	`KMP_CPU_PAUSE
();

98 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

99 
Ãw_v®ue
 = 
Şd_v®ue
 + 
d
;

101  
Şd_v®ue
;

102 
	}
}

105 
kmp_ušt64
 
	$__kmp_‹¡_th’_Ü64
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
d
) {

106 
kmp_ušt64
 
Şd_v®ue
, 
Ãw_v®ue
;

108 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

109 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

110 !
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)
p
, 
Şd_v®ue
,

111 
Ãw_v®ue
)) {

112 
	`KMP_CPU_PAUSE
();

113 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

114 
Ãw_v®ue
 = 
Şd_v®ue
 | 
d
;

117  
Şd_v®ue
;

118 
	}
}

120 
kmp_ušt64
 
	$__kmp_‹¡_th’_ªd64
(vŞ©
kmp_ušt64
 *
p
, kmp_ušt64 
d
) {

121 
kmp_ušt64
 
Şd_v®ue
, 
Ãw_v®ue
;

123 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

124 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

125 !
	`__kmp_com·»_ªd_¡Üe64
((vŞ©
kmp_št64
 *)
p
, 
Şd_v®ue
,

126 
Ãw_v®ue
)) {

127 
	`KMP_CPU_PAUSE
();

128 
Şd_v®ue
 = 
	`TCR_8
(*
p
);

129 
Ãw_v®ue
 = 
Şd_v®ue
 & 
d
;

132  
Şd_v®ue
;

133 
	}
}

	@z_Windows_NT_util.cpp

13 
	~"kmp.h
"

14 
	~"kmp_affš™y.h
"

15 
	~"kmp_i18n.h
"

16 
	~"kmp_io.h
"

17 
	~"kmp_™t.h
"

18 
	~"kmp_wa™_»Ëa£.h
"

24 
	~<Á£ÿpi.h
>

25 
	~<Á¡©us.h
>

27 
	eSYSTEM_INFORMATION_CLASS
 {

28 
	mSy¡emProûssInfÜm©iÚ
 = 5

31 
	sCLIENT_ID
 {

32 
HANDLE
 
	mUniqueProûss
;

33 
HANDLE
 
	mUniqueTh»ad
;

36 
	eTHREAD_STATE
 {

37 
	mS‹In™Ÿlized
,

38 
	mS‹R—dy
,

39 
	mS‹RuÂšg
,

40 
	mS‹Sndby
,

41 
	mS‹T”mš©ed
,

42 
	mS‹Wa™
,

43 
	mS‹T¿ns™iÚ
,

44 
	mS‹Unknown


47 
	sVM_COUNTERS
 {

48 
SIZE_T
 
	mP—kVœtu®Size
;

49 
SIZE_T
 
	mVœtu®Size
;

50 
ULONG
 
	mPageFauÉCouÁ
;

51 
SIZE_T
 
	mP—kWÜkšgS‘Size
;

52 
SIZE_T
 
	mWÜkšgS‘Size
;

53 
SIZE_T
 
	mQuÙaP—kPagedPoŞU§ge
;

54 
SIZE_T
 
	mQuÙaPagedPoŞU§ge
;

55 
SIZE_T
 
	mQuÙaP—kNÚPagedPoŞU§ge
;

56 
SIZE_T
 
	mQuÙaNÚPagedPoŞU§ge
;

57 
SIZE_T
 
	mPagefeU§ge
;

58 
SIZE_T
 
	mP—kPagefeU§ge
;

59 
SIZE_T
 
	mPriv©ePageCouÁ
;

62 
	sSYSTEM_THREAD
 {

63 
LARGE_INTEGER
 
	mK”ÃlTime
;

64 
LARGE_INTEGER
 
	mU£rTime
;

65 
LARGE_INTEGER
 
	mC»©eTime
;

66 
ULONG
 
	mWa™Time
;

67 
LPVOID
 
	mS¹Add»ss
;

68 
CLIENT_ID
 
	mCl›ÁId
;

69 
DWORD
 
	mPriÜ™y
;

70 
LONG
 
	mBa£PriÜ™y
;

71 
ULONG
 
	mCÚ‹xtSw™chCouÁ
;

72 
THREAD_STATE
 
	mS‹
;

73 
ULONG
 
	mWa™R—sÚ
;

76 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_THREAD
, 
K”ÃlTime
) == 0);

77 #ià
KMP_ARCH_X86


78 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_THREAD
, 
S¹Add»ss
) == 28);

79 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_THREAD
, 
S‹
) == 52);

81 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_THREAD
, 
S¹Add»ss
) == 32);

82 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_THREAD
, 
S‹
) == 68);

85 
	sSYSTEM_PROCESS_INFORMATION
 {

86 
ULONG
 
	mNextEÁryOff£t
;

87 
ULONG
 
	mNumb”OfTh»ads
;

88 
LARGE_INTEGER
 
	mRe£rved
[3];

89 
LARGE_INTEGER
 
	mC»©eTime
;

90 
LARGE_INTEGER
 
	mU£rTime
;

91 
LARGE_INTEGER
 
	mK”ÃlTime
;

92 
UNICODE_STRING
 
	mImageName
;

93 
DWORD
 
	mBa£PriÜ™y
;

94 
HANDLE
 
	mProûssId
;

95 
HANDLE
 
	mP¬’tProûssId
;

96 
ULONG
 
	mHªdËCouÁ
;

97 
ULONG
 
	mRe£rved2
[2];

98 
VM_COUNTERS
 
	mVMCouÁ”s
;

99 
IO_COUNTERS
 
	mIOCouÁ”s
;

100 
SYSTEM_THREAD
 
	mTh»ads
[1];

102 
SYSTEM_PROCESS_INFORMATION
 *
	tPSYSTEM_PROCESS_INFORMATION
;

104 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
NextEÁryOff£t
) == 0);

105 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
C»©eTime
) == 32);

106 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
ImageName
) == 56);

107 #ià
KMP_ARCH_X86


108 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
ProûssId
) == 68);

109 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
HªdËCouÁ
) == 76);

110 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
VMCouÁ”s
) == 88);

111 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
IOCouÁ”s
) == 136);

112 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
Th»ads
) == 184);

114 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
ProûssId
) == 80);

115 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
HªdËCouÁ
) == 96);

116 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
VMCouÁ”s
) == 112);

117 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
IOCouÁ”s
) == 208);

118 
KMP_BUILD_ASSERT
(
off£tof
(
SYSTEM_PROCESS_INFORMATION
, 
Th»ads
) == 256);

121 
	$NTSTATUS
(
	tNTAPI
 *
	tNtQu”ySy¡emInfÜm©iÚ_t
)(
	tSYSTEM_INFORMATION_CLASS
,

122 
	tPVOID
, 
	tULONG
, 
	tPULONG
);

123 
NtQu”ySy¡emInfÜm©iÚ_t
 
NtQu”ySy¡emInfÜm©iÚ
 = 
NULL
;

125 
HMODULE
 
ÁdÎ
 = 
NULL
;

129 
HMODULE
 
k”Ãl32
 = 
NULL
;

131 #ià
KMP_HANDLE_SIGNALS


132 (*
	tsig_func_t
)();

133 
sig_func_t
 
__kmp_sighldrs
[
NSIG
];

134 
__kmp_sigš¡®Ëd
[
NSIG
];

137 #ià
KMP_USE_MONITOR


138 
HANDLE
 
__kmp_mÚ™Ü_ev
;

140 
kmp_št64
 
__kmp_wš32_time
;

141 
__kmp_wš32_tick
;

143 
__kmp_š™_ruÁime
 = 
FALSE
;

144 
CRITICAL_SECTION
 
__kmp_wš32_£ùiÚ
;

146 
	$__kmp_wš32_mu‹x_š™
(
kmp_wš32_mu‹x_t
 *
mx
) {

147 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
mx
->
cs
);

148 #ià
USE_ITT_BUILD


149 
	`__kmp_™t_sy¡em_objeù_ü—‹d
(&
mx
->
cs
, "Critical Section");

151 
	}
}

153 
	$__kmp_wš32_mu‹x_de¡roy
(
kmp_wš32_mu‹x_t
 *
mx
) {

154 
	`D–‘eCr™iÿlSeùiÚ
(&
mx
->
cs
);

155 
	}
}

157 
	$__kmp_wš32_mu‹x_lock
(
kmp_wš32_mu‹x_t
 *
mx
) {

158 
	`EÁ”Cr™iÿlSeùiÚ
(&
mx
->
cs
);

159 
	}
}

161 
	$__kmp_wš32_mu‹x_Œylock
(
kmp_wš32_mu‹x_t
 *
mx
) {

162  
	`TryEÁ”Cr™iÿlSeùiÚ
(&
mx
->
cs
);

163 
	}
}

165 
	$__kmp_wš32_mu‹x_uÆock
(
kmp_wš32_mu‹x_t
 *
mx
) {

166 
	`L—veCr™iÿlSeùiÚ
(&
mx
->
cs
);

167 
	}
}

169 
	$__kmp_wš32_cÚd_š™
(
kmp_wš32_cÚd_t
 *
cv
) {

170 
cv
->
wa™”s_couÁ_
 = 0;

171 
cv
->
wa™_g’”©iÚ_couÁ_
 = 0;

172 
cv
->
»Ëa£_couÁ_
 = 0;

175 
	`__kmp_wš32_mu‹x_š™
(&
cv
->
wa™”s_couÁ_lock_
);

178 
cv
->
ev’t_
 = 
	`C»©eEv’t
(
NULL
,

179 
TRUE
,

180 
FALSE
,

181 
NULL
);

182 #ià
USE_ITT_BUILD


183 
	`__kmp_™t_sy¡em_objeù_ü—‹d
(
cv
->
ev’t_
, "Event");

185 
	}
}

187 
	$__kmp_wš32_cÚd_de¡roy
(
kmp_wš32_cÚd_t
 *
cv
) {

188 
	`__kmp_wš32_mu‹x_de¡roy
(&
cv
->
wa™”s_couÁ_lock_
);

189 
	`__kmp_ä“_hªdË
(
cv
->
ev’t_
);

190 
	`mem£t
(
cv
, '\0', (*cv));

191 
	}
}

196 
	g‹m¶©e
 <
şass
 
	gC
>

197 
	$__kmp_wš32_cÚd_wa™
(
kmp_wš32_cÚd_t
 *
cv
, 
kmp_wš32_mu‹x_t
 *
mx
,

198 
kmp_šfo_t
 *
th
, 
C
 *
æag
) {

199 
my_g’”©iÚ
;

200 
Ï¡_wa™”
;

203 
	`__kmp_wš32_mu‹x_lock
(&
cv
->
wa™”s_couÁ_lock_
);

206 
cv
->
wa™”s_couÁ_
++;

209 
my_g’”©iÚ
 = 
cv
->
wa™_g’”©iÚ_couÁ_
;

211 
	`__kmp_wš32_mu‹x_uÆock
(&
cv
->
wa™”s_couÁ_lock_
);

212 
	`__kmp_wš32_mu‹x_uÆock
(
mx
);

215 
wa™_dÚe
 = 0;

216 
DWORD
 
»s
, 
timeout
 = 5000;

218 
»s
 = 
	`Wa™FÜSšgËObjeù
(
cv
->
ev’t_
, 
timeout
);

220 ià(
»s
 =ğ
WAIT_OBJECT_0
) {

222 
	`__kmp_wš32_mu‹x_lock
(&
cv
->
wa™”s_couÁ_lock_
);

226 
wa™_dÚe
 = (
cv
->
»Ëa£_couÁ_
 > 0) &&

227 (
cv
->
wa™_g’”©iÚ_couÁ_
 !ğ
my_g’”©iÚ
);

228 
	`__kmp_wš32_mu‹x_uÆock
(&
cv
->
wa™”s_couÁ_lock_
);

229 } ià(
»s
 =ğ
WAIT_TIMEOUT
 ||„e =ğ
WAIT_FAILED
) {

232 
	`__kmp_wš32_mu‹x_lock
(
mx
);

233 
ty³Çme
 
C
::
æag_t
 
Şd_f
 = 
æag
->
	`£t_¦“pšg
();

234 ià(!
æag
->
	`dÚe_check_v®
(
Şd_f
 & ~
KMP_BARRIER_SLEEP_STATE
)) {

235 
	`__kmp_wš32_mu‹x_uÆock
(
mx
);

239 
Şd_f
 = 
æag
->
	`un£t_¦“pšg
();

240 
	`KMP_DEBUG_ASSERT
(
Şd_f
 & 
KMP_BARRIER_SLEEP_STATE
);

241 
	`TCW_PTR
(
th
->th.
th_¦“p_loc
, 
NULL
);

242 
	`KF_TRACE
(50, ("__kmp_win32_cond_wait:ƒxiting, condition "

244 
æag
->
	`g‘
(), 
Şd_f
, *(flag->get())));

246 
	`__kmp_wš32_mu‹x_lock
(&
cv
->
wa™”s_couÁ_lock_
);

247 
	`KMP_DEBUG_ASSERT
(
cv
->
wa™”s_couÁ_
 > 0);

248 
cv
->
»Ëa£_couÁ_
 = cv->
wa™”s_couÁ_
;

249 
cv
->
wa™_g’”©iÚ_couÁ_
++;

250 
wa™_dÚe
 = 1;

251 
	`__kmp_wš32_mu‹x_uÆock
(&
cv
->
wa™”s_couÁ_lock_
);

253 
	`__kmp_wš32_mu‹x_uÆock
(
mx
);

257 ià(
wa™_dÚe
)

261 
	`__kmp_wš32_mu‹x_lock
(
mx
);

262 
	`__kmp_wš32_mu‹x_lock
(&
cv
->
wa™”s_couÁ_lock_
);

264 
cv
->
wa™”s_couÁ_
--;

265 
cv
->
»Ëa£_couÁ_
--;

267 
Ï¡_wa™”
 = (
cv
->
»Ëa£_couÁ_
 == 0);

269 
	`__kmp_wš32_mu‹x_uÆock
(&
cv
->
wa™”s_couÁ_lock_
);

271 ià(
Ï¡_wa™”
) {

273 
	`Re£tEv’t
(
cv
->
ev’t_
);

275 
	}
}

277 
	$__kmp_wš32_cÚd_brßdÿ¡
(
kmp_wš32_cÚd_t
 *
cv
) {

278 
	`__kmp_wš32_mu‹x_lock
(&
cv
->
wa™”s_couÁ_lock_
);

280 ià(
cv
->
wa™”s_couÁ_
 > 0) {

281 
	`S‘Ev’t
(
cv
->
ev’t_
);

284 
cv
->
»Ëa£_couÁ_
 = cv->
wa™”s_couÁ_
;

287 
cv
->
wa™_g’”©iÚ_couÁ_
++;

290 
	`__kmp_wš32_mu‹x_uÆock
(&
cv
->
wa™”s_couÁ_lock_
);

291 
	}
}

293 
	$__kmp_wš32_cÚd_sigÇl
(
kmp_wš32_cÚd_t
 *
cv
) {

294 
	`__kmp_wš32_cÚd_brßdÿ¡
(
cv
);

295 
	}
}

297 
	$__kmp_’abË
(
Ãw_¡©e
) {

298 ià(
__kmp_š™_ruÁime
)

299 
	`L—veCr™iÿlSeùiÚ
(&
__kmp_wš32_£ùiÚ
);

300 
	}
}

302 
	$__kmp_di§bË
(*
Şd_¡©e
) {

303 *
Şd_¡©e
 = 0;

305 ià(
__kmp_š™_ruÁime
)

306 
	`EÁ”Cr™iÿlSeùiÚ
(&
__kmp_wš32_£ùiÚ
);

307 
	}
}

309 
	$__kmp_su¥’d_š™Ÿlize
() {

310 
	}
}

312 
	$__kmp_su¥’d_š™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
) {

313 
Şd_v®ue
 = 
	`KMP_ATOMIC_LD_RLX
(&
th
->th.
th_su¥’d_š™
);

314 
Ãw_v®ue
 = 
TRUE
;

316 ià(
Şd_v®ue
 =ğ
Ãw_v®ue
)

319 ià(
Şd_v®ue
 == -1 ||

320 !
	`__kmp_©omic_com·»_¡Üe
(&
th
->th.
th_su¥’d_š™
, 
Şd_v®ue
, -1)) {

321 
	`KMP_ATOMIC_LD_ACQ
(&
th
->th.
th_su¥’d_š™
è!ğ
Ãw_v®ue
) {

322 
	`KMP_CPU_PAUSE
();

326 
	`__kmp_wš32_cÚd_š™
(&
th
->th.
th_su¥’d_cv
);

327 
	`__kmp_wš32_mu‹x_š™
(&
th
->th.
th_su¥’d_mx
);

328 
	`KMP_ATOMIC_ST_REL
(&
th
->th.
th_su¥’d_š™
, 
Ãw_v®ue
);

330 
	}
}

332 
	$__kmp_su¥’d_unš™Ÿlize_th»ad
(
kmp_šfo_t
 *
th
) {

333 ià(
	`KMP_ATOMIC_LD_ACQ
(&
th
->th.
th_su¥’d_š™
)) {

336 
	`__kmp_wš32_cÚd_de¡roy
(&
th
->th.
th_su¥’d_cv
);

337 
	`__kmp_wš32_mu‹x_de¡roy
(&
th
->th.
th_su¥’d_mx
);

338 
	`KMP_ATOMIC_ST_REL
(&
th
->th.
th_su¥’d_š™
, 
FALSE
);

340 
	}
}

342 
	$__kmp_Œy_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

343  
	`__kmp_wš32_mu‹x_Œylock
(&
th
->th.
th_su¥’d_mx
);

344 
	}
}

346 
	$__kmp_lock_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

347 
	`__kmp_wš32_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
);

348 
	}
}

350 
	$__kmp_uÆock_su¥’d_mx
(
kmp_šfo_t
 *
th
) {

351 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

352 
	}
}

356 
	g‹m¶©e
 <
şass
 
	gC
>

357 
šlše
 
	$__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
C
 *
æag
) {

358 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
th_gtid
];

359 
¡©us
;

360 
ty³Çme
 
C
::
æag_t
 
Şd_¥š
;

362 
	`KF_TRACE
(30, ("__kmp_suspend_template: T#%dƒnter for flag's†oc(%p)\n",

363 
th_gtid
, 
æag
->
	`g‘
()));

365 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
th
);

366 
	`__kmp_wš32_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
);

368 
	`KF_TRACE
(10, ("__kmp_suspend_template: T#%d setting sleep bit for flag's"

370 
th_gtid
, 
æag
->
	`g‘
()));

374 
Şd_¥š
 = 
æag
->
	`£t_¦“pšg
();

375 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
 &&

376 
__kmp_·u£_¡©us
 !ğ
kmp_soá_·u£d
) {

377 
æag
->
	`un£t_¦“pšg
();

378 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

382 
	`KF_TRACE
(5, ("__kmp_suspend_template: T#%d set sleep bit for flag's"

384 
th_gtid
, 
æag
->
	`g‘
(), *(flag->get())));

386 ià(
æag
->
	`dÚe_check_v®
(
Şd_¥š
)) {

387 
Şd_¥š
 = 
æag
->
	`un£t_¦“pšg
();

388 
	`KF_TRACE
(5, ("__kmp_suspend_template: T#%d false‡larm,„eset sleep bit "

390 
th_gtid
, 
æag
->
	`g‘
()));

392 #ifdeà
DEBUG_SUSPEND


393 
__kmp_su¥’d_couÁ
++;

398 
d—ùiv©ed
 = 
FALSE
;

399 
	`TCW_PTR
(
th
->th.
th_¦“p_loc
, (*)
æag
);

400 
æag
->
	`is_¦“pšg
()) {

401 
	`KF_TRACE
(15, ("__kmp_suspend_template: T#%d‡bouto…erform "

403 
th_gtid
));

406 ià(!
d—ùiv©ed
) {

407 
th
->th.
th_aùive
 = 
FALSE
;

408 ià(
th
->th.
th_aùive_š_poŞ
) {

409 
th
->th.
th_aùive_š_poŞ
 = 
FALSE
;

410 
	`KMP_ATOMIC_DEC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

411 
	`KMP_DEBUG_ASSERT
(
	`TCR_4
(
__kmp_th»ad_poŞ_aùive_Áh
) >= 0);

413 
d—ùiv©ed
 = 
TRUE
;

414 
	`__kmp_wš32_cÚd_wa™
(&
th
->th.
th_su¥’d_cv
, &th->th.
th_su¥’d_mx
,h,

415 
æag
);

417 
	`__kmp_wš32_cÚd_wa™
(&
th
->th.
th_su¥’d_cv
, &th->th.
th_su¥’d_mx
,h,

418 
æag
);

421 #ifdeà
KMP_DEBUG


422 ià(
æag
->
	`is_¦“pšg
()) {

423 
	`KF_TRACE
(100,

424 ("__kmp_su¥’d_‹m¶©e: T#%d spuriou wakeup\n", 
th_gtid
));

431 ià(
d—ùiv©ed
) {

432 
th
->th.
th_aùive
 = 
TRUE
;

433 ià(
	`TCR_4
(
th
->th.
th_š_poŞ
)) {

434 
	`KMP_ATOMIC_INC
(&
__kmp_th»ad_poŞ_aùive_Áh
);

435 
th
->th.
th_aùive_š_poŞ
 = 
TRUE
;

440 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

442 
	`KF_TRACE
(30, ("__kmp_su¥’d_‹m¶©e: T#%dƒx™\n", 
th_gtid
));

443 
	}
}

445 
	$__kmp_su¥’d_32
(
th_gtid
, 
kmp_æag_32
 *
æag
) {

446 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

447 
	}
}

448 
	$__kmp_su¥’d_64
(
th_gtid
, 
kmp_æag_64
 *
æag
) {

449 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

450 
	}
}

451 
	$__kmp_su¥’d_ÚcÜe
(
th_gtid
, 
kmp_æag_ÚcÜe
 *
æag
) {

452 
	`__kmp_su¥’d_‹m¶©e
(
th_gtid
, 
æag
);

453 
	}
}

457 
	g‹m¶©e
 <
şass
 
	gC
>

458 
šlše
 
	$__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
C
 *
æag
) {

459 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
rg‘_gtid
];

460 
¡©us
;

462 #ifdeà
KMP_DEBUG


463 
gtid
 = 
	`TCR_4
(
__kmp_š™_gtid
è? 
	`__kmp_g‘_gtid
() : -1;

466 
	`KF_TRACE
(30, ("__kmp_resume_template: T#%d wantso wakeup T#%dƒnter\n",

467 
gtid
, 
rg‘_gtid
));

469 
	`__kmp_su¥’d_š™Ÿlize_th»ad
(
th
);

470 
	`__kmp_wš32_mu‹x_lock
(&
th
->th.
th_su¥’d_mx
);

472 ià(!
æag
) {

473 
æag
 = (
C
 *)
th
->th.
th_¦“p_loc
;

478 ià(!
æag
 || fÏg->
	`g‘_ty³
(è!ğæag->
	`g‘_±r_ty³
()) {

481 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%dƒxiting,hread T#%d‡lready "

483 
gtid
, 
rg‘_gtid
, 
NULL
));

484 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

487 
ty³Çme
 
C
::
æag_t
 
Şd_¥š
 = 
æag
->
	`un£t_¦“pšg
();

488 ià(!
æag
->
	`is_¦“pšg_v®
(
Şd_¥š
)) {

489 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%dƒxiting,hread T#%d‡lready "

491 
gtid
, 
rg‘_gtid
, 
æag
->
	`g‘
(), 
Şd_¥š
, *(flag->get())));

492 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

496 
	`TCW_PTR
(
th
->th.
th_¦“p_loc
, 
NULL
);

497 
	`KF_TRACE
(5, ("__kmp_resume_template: T#%d‡bouto wakeup T#%d,„eset sleep "

499 
gtid
, 
rg‘_gtid
, 
æag
->
	`g‘
()));

501 
	`__kmp_wš32_cÚd_sigÇl
(&
th
->th.
th_su¥’d_cv
);

502 
	`__kmp_wš32_mu‹x_uÆock
(&
th
->th.
th_su¥’d_mx
);

504 
	`KF_TRACE
(30, ("__kmp_resume_template: T#%dƒxiting‡fter signaling wake up"

506 
gtid
, 
rg‘_gtid
));

507 
	}
}

509 
	$__kmp_»sume_32
(
rg‘_gtid
, 
kmp_æag_32
 *
æag
) {

510 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

511 
	}
}

512 
	$__kmp_»sume_64
(
rg‘_gtid
, 
kmp_æag_64
 *
æag
) {

513 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

514 
	}
}

515 
	$__kmp_»sume_ÚcÜe
(
rg‘_gtid
, 
kmp_æag_ÚcÜe
 *
æag
) {

516 
	`__kmp_»sume_‹m¶©e
(
rg‘_gtid
, 
æag
);

517 
	}
}

519 
	$__kmp_y›ld
(è{ 
	`SË•
(0); 
	}
}

521 
	$__kmp_gtid_£t_¥ecific
(
gtid
) {

522 ià(
__kmp_š™_gtid
) {

523 
	`KA_TRACE
(50, ("__kmp_gtid_£t_¥ecific: T#%d key:%d\n", 
gtid
,

524 
__kmp_gtid_th»ad´iv©e_key
));

525 ià(!
	`TlsS‘V®ue
(
__kmp_gtid_th»ad´iv©e_key
, (
LPVOID
)(
gtid
 + 1)))

526 
	`KMP_FATAL
(
TLSS‘V®ueFaed
);

528 
	`KA_TRACE
(50, ("__kmp_gtid_set_specific:„untime shutdown,„eturning\n"));

530 
	}
}

532 
	$__kmp_gtid_g‘_¥ecific
() {

533 
gtid
;

534 ià(!
__kmp_š™_gtid
) {

535 
	`KA_TRACE
(50, ("__kmp_gtid_get_specific:„untime shutdown,„eturning "

537  
KMP_GTID_SHUTDOWN
;

539 
gtid
 = ()(
kmp_šŒ_t
)
	`TlsG‘V®ue
(
__kmp_gtid_th»ad´iv©e_key
);

540 ià(
gtid
 == 0) {

541 
gtid
 = 
KMP_GTID_DNE
;

543 
gtid
--;

545 
	`KA_TRACE
(50, ("__kmp_gtid_get_specific: key:%d gtid:%d\n",

546 
__kmp_gtid_th»ad´iv©e_key
, 
gtid
));

547  
gtid
;

548 
	}
}

550 
	$__kmp_affš™y_bšd_th»ad
(
´oc
) {

551 ià(
__kmp_num_´oc_groups
 > 1) {

554 
GROUP_AFFINITY
 
ga
;

555 
	`KMP_DEBUG_ASSERT
((
´oc
 >ğ0è&& (´oø< (
__kmp_num_´oc_groups
 * 
CHAR_BIT
 *

556 (
DWORD_PTR
))));

557 
ga
.
Group
 = 
´oc
 / (
CHAR_BIT
 * (
DWORD_PTR
));

558 
ga
.
Mask
 = ()1 << (
´oc
 % (
CHAR_BIT
 * (
DWORD_PTR
)));

559 
ga
.
Re£rved
[0] = ga.Reserved[1] = ga.Reserved[2] = 0;

561 
	`KMP_DEBUG_ASSERT
(
__kmp_S‘Th»adGroupAffš™y
 !ğ
NULL
);

562 ià(
	`__kmp_S‘Th»adGroupAffš™y
(
	`G‘Cu¼’tTh»ad
(), &
ga
, 
NULL
) == 0) {

563 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

564 ià(
__kmp_affš™y_v”bo£
) {

565 
kmp_msg_t
 
”r_code
 = 
	`KMP_ERR
(
”rÜ
);

566 
	`__kmp_msg
(
kmp_ms_w¬nšg
, 
	`KMP_MSG
(
CªtS‘Th»adAffMask
), 
”r_code
,

567 
__kmp_msg_nuÎ
);

568 ià(
__kmp_g’”©e_w¬nšgs
 =ğ
kmp_w¬nšgs_off
) {

569 
	`__kmp_¡r_ä“
(&
”r_code
.
¡r
);

574 
kmp_affš_mask_t
 *
mask
;

575 
	`KMP_CPU_ALLOC_ON_STACK
(
mask
);

576 
	`KMP_CPU_ZERO
(
mask
);

577 
	`KMP_CPU_SET
(
´oc
, 
mask
);

578 
	`__kmp_£t_sy¡em_affš™y
(
mask
, 
TRUE
);

579 
	`KMP_CPU_FREE_FROM_STACK
(
mask
);

581 
	}
}

583 
	$__kmp_affš™y_d‘”mše_ÿ·bË
(cÚ¡ *
’v_v¬
) {

586 #ià
KMP_GROUP_AFFINITY


587 
	`KMP_AFFINITY_ENABLE
(
__kmp_num_´oc_groups
 * (
DWORD_PTR
));

589 
	`KMP_AFFINITY_ENABLE
((
DWORD_PTR
));

592 
	`KA_TRACE
(10, ("__kmp_affinity_determine_capable: "

594 "%" 
KMP_SIZE_T_SPEC
 ").\n",

595 
__kmp_affš_mask_size
));

596 
	}
}

598 
	$__kmp_»ad_ıu_time
() {

599 
FILETIME
 
C»©iÚTime
, 
Ex™Time
, 
K”ÃlTime
, 
U£rTime
;

600 
¡©us
;

601 
ıu_time
;

603 
ıu_time
 = 0;

605 
¡©us
 = 
	`G‘ProûssTimes
(
	`G‘Cu¼’tProûss
(), &
C»©iÚTime
, &
Ex™Time
,

606 &
K”ÃlTime
, &
U£rTime
);

608 ià(
¡©us
) {

609 
£c
 = 0;

611 
£c
 +ğ
K”ÃlTime
.
dwHighD©eTime
;

612 
£c
 +ğ
U£rTime
.
dwHighD©eTime
;

615 
£c
 *= ()(1 << 16) * ()(1 << 16);

617 
£c
 +ğ
K”ÃlTime
.
dwLowD©eTime
;

618 
£c
 +ğ
U£rTime
.
dwLowD©eTime
;

620 
ıu_time
 +ğ(
£c
 * 100.0è/ 
KMP_NSEC_PER_SEC
;

623  
ıu_time
;

624 
	}
}

626 
	$__kmp_»ad_sy¡em_šfo
(
kmp_sys_šfo
 *
šfo
) {

627 
šfo
->
maxrss
 = 0;

628 
šfo
->
mšæt
 = 0;

629 
šfo
->
majæt
 = 0;

630 
šfo
->
nsw­
 = 0;

631 
šfo
->
šblock
 = 0;

632 
šfo
->
oublock
 = 0;

633 
šfo
->
nvcsw
 = 0;

634 
šfo
->
nivcsw
 = 0;

637 
	}
}

639 
	$__kmp_ruÁime_š™Ÿlize
() {

640 
SYSTEM_INFO
 
šfo
;

641 
kmp_¡r_buf_t
 
·th
;

642 
UINT
 
·th_size
;

644 ià(
__kmp_š™_ruÁime
) {

648 #ià
KMP_DYNAMIC_LIB


652 
UINT
 
”r_mode
 = 
	`S‘E¼ÜMode
(
SEM_FAILCRITICALERRORS
);

653 
HMODULE
 
h
;

654 
BOOL
 
»t
 = 
	`G‘ModuËHªdËEx
(
GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS
 |

655 
GET_MODULE_HANDLE_EX_FLAG_PIN
,

656 (
LPCTSTR
)&
__kmp_£rŸl_š™Ÿlize
, &
h
);

657 
	`KMP_DEBUG_ASSERT2
(
h
 && 
»t
, "OpenMP RTL cannot find itself†oaded");

658 
	`S‘E¼ÜMode
(
”r_mode
);

659 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: dynamic†ibrary…inned\n"));

663 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
__kmp_wš32_£ùiÚ
);

664 #ià
USE_ITT_BUILD


665 
	`__kmp_™t_sy¡em_objeù_ü—‹d
(&
__kmp_wš32_£ùiÚ
, "Critical Section");

667 
	`__kmp_š™Ÿlize_sy¡em_tick
();

669 #ià(
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64
)

670 ià(!
__kmp_ıušfo
.
š™Ÿlized
) {

671 
	`__kmp_qu”y_ıuid
(&
__kmp_ıušfo
);

676 #ià
KMP_OS_WINDOWS
 && !
KMP_DYNAMIC_LIB


691 
__kmp_s_gtid_mš
 = 0;

693 
__kmp_s_gtid_mš
 = 
KMP_TLS_GTID_MIN
;

697 ià(!
__kmp_gtid_th»ad´iv©e_key
) {

698 
__kmp_gtid_th»ad´iv©e_key
 = 
	`TlsAÎoc
();

699 ià(
__kmp_gtid_th»ad´iv©e_key
 =ğ
TLS_OUT_OF_INDEXES
) {

700 
	`KMP_FATAL
(
TLSOutOfIndexes
);

708 
	`__kmp_¡r_buf_š™
(&
·th
);

709 
·th_size
 = 
	`G‘Sy¡emDœeùÜy
(
·th
.
¡r
,…©h.
size
);

710 
	`KMP_DEBUG_ASSERT
(
·th_size
 > 0);

711 ià(
·th_size
 >ğ
·th
.
size
) {

713 
	`__kmp_¡r_buf_»£rve
(&
·th
, 
·th_size
);

714 
·th_size
 = 
	`G‘Sy¡emDœeùÜy
(
·th
.
¡r
,…©h.
size
);

715 
	`KMP_DEBUG_ASSERT
(
·th_size
 > 0);

717 ià(
·th_size
 > 0 &&…©h_siz< 
·th
.
size
) {

720 
·th
.
u£d
 = 
·th_size
;

721 
	`__kmp_¡r_buf_´št
(&
·th
, "\\%s", "ntdll.dll");

724 
ÁdÎ
 = 
	`G‘ModuËHªdË
(
·th
.
¡r
);

727 
	`KMP_DEBUG_ASSERT
(
ÁdÎ
 !ğ
NULL
);

728 ià(
ÁdÎ
 !ğ
NULL
) {

729 
NtQu”ySy¡emInfÜm©iÚ
 = (
NtQu”ySy¡emInfÜm©iÚ_t
)
	`G‘ProcAdd»ss
(

730 
ÁdÎ
, "NtQuerySystemInformation");

732 
	`KMP_DEBUG_ASSERT
(
NtQu”ySy¡emInfÜm©iÚ
 !ğ
NULL
);

734 #ià
KMP_GROUP_AFFINITY


737 ià(
·th_size
 > 0 &&…©h_siz< 
·th
.
size
) {

740 
·th
.
u£d
 = 
·th_size
;

741 
	`__kmp_¡r_buf_´št
(&
·th
, "\\%s", "kernel32.dll");

744 
k”Ãl32
 = 
	`G‘ModuËHªdË
(
·th
.
¡r
);

745 
	`KA_TRACE
(10, ("__kmp_ruÁime_š™Ÿlize: k”Ãl32.dÎ = %s\n", 
·th
.
¡r
));

749 ià(
k”Ãl32
 !ğ
NULL
) {

750 
__kmp_G‘AùiveProûssÜCouÁ
 =

751 (
kmp_G‘AùiveProûssÜCouÁ_t
)
	`G‘ProcAdd»ss
(

752 
k”Ãl32
, "GetActiveProcessorCount");

753 
__kmp_G‘AùiveProûssÜGroupCouÁ
 =

754 (
kmp_G‘AùiveProûssÜGroupCouÁ_t
)
	`G‘ProcAdd»ss
(

755 
k”Ãl32
, "GetActiveProcessorGroupCount");

756 
__kmp_G‘Th»adGroupAffš™y
 =

757 (
kmp_G‘Th»adGroupAffš™y_t
)
	`G‘ProcAdd»ss
(

758 
k”Ãl32
, "GetThreadGroupAffinity");

759 
__kmp_S‘Th»adGroupAffš™y
 =

760 (
kmp_S‘Th»adGroupAffš™y_t
)
	`G‘ProcAdd»ss
(

761 
k”Ãl32
, "SetThreadGroupAffinity");

763 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: __kmp_GetActiveProcessorCount"

765 
__kmp_G‘AùiveProûssÜCouÁ
));

766 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: "

768 
__kmp_G‘AùiveProûssÜGroupCouÁ
));

769 
	`KA_TRACE
(10, ("__kmp_runtime_initialize:__kmp_GetThreadGroupAffinity"

771 
__kmp_G‘Th»adGroupAffš™y
));

772 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: __kmp_SetThreadGroupAffinity"

774 
__kmp_S‘Th»adGroupAffš™y
));

775 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: sizeof(kmp_affin_mask_t) = %d\n",

776 (
kmp_affš_mask_t
)));

783 ià((
__kmp_G‘AùiveProûssÜCouÁ
 !ğ
NULL
) &&

784 (
__kmp_G‘AùiveProûssÜGroupCouÁ
 !ğ
NULL
) &&

785 (
__kmp_G‘Th»adGroupAffš™y
 !ğ
NULL
) &&

786 (
__kmp_S‘Th»adGroupAffš™y
 !ğ
NULL
) &&

787 ((
__kmp_num_´oc_groups
 = 
	`__kmp_G‘AùiveProûssÜGroupCouÁ
()) >

790 
i
;

792 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: %d…rocessor groups"

794 
__kmp_num_´oc_groups
));

796 
__kmp_x´oc
 = 0;

798 
i
 = 0; i < 
__kmp_num_´oc_groups
; i++) {

799 
DWORD
 
size
 = 
	`__kmp_G‘AùiveProûssÜCouÁ
(
i
);

800 
__kmp_x´oc
 +ğ
size
;

801 
	`KA_TRACE
(10, ("__kmp_runtime_initialize:…roc group %d size = %d\n",

802 
i
, 
size
));

805 
	`KA_TRACE
(10, ("__kmp_runtime_initialize: %d…rocessor groups"

807 
__kmp_num_´oc_groups
));

811 ià(
__kmp_num_´oc_groups
 <= 1) {

812 
	`G‘Sy¡emInfo
(&
šfo
);

813 
__kmp_x´oc
 = 
šfo
.
dwNumb”OfProûssÜs
;

816 
	`G‘Sy¡emInfo
(&
šfo
);

817 
__kmp_x´oc
 = 
šfo
.
dwNumb”OfProûssÜs
;

822 ià(
__kmp_x´oc
 <= 0) {

823 
__kmp_x´oc
 = 2;

826 
	`KA_TRACE
(5,

827 ("__kmp_ruÁime_š™Ÿlize:Ù®…roûssÜ ğ%d\n", 
__kmp_x´oc
));

829 
	`__kmp_¡r_buf_ä“
(&
·th
);

831 #ià
USE_ITT_BUILD


832 
	`__kmp_™t_š™Ÿlize
();

835 
__kmp_š™_ruÁime
 = 
TRUE
;

836 
	}
}

838 
	$__kmp_ruÁime_de¡roy
() {

839 ià(!
__kmp_š™_ruÁime
) {

843 #ià
USE_ITT_BUILD


844 
	`__kmp_™t_de¡roy
();

849 
	`KA_TRACE
(40, ("__kmp_runtime_destroy\n"));

851 ià(
__kmp_gtid_th»ad´iv©e_key
) {

852 
	`TlsF»e
(
__kmp_gtid_th»ad´iv©e_key
);

853 
__kmp_gtid_th»ad´iv©e_key
 = 0;

856 
	`__kmp_affš™y_unš™Ÿlize
();

857 
	`D–‘eCr™iÿlSeùiÚ
(&
__kmp_wš32_£ùiÚ
);

859 
ÁdÎ
 = 
NULL
;

860 
NtQu”ySy¡emInfÜm©iÚ
 = 
NULL
;

862 #ià
KMP_ARCH_X86_64


863 
k”Ãl32
 = 
NULL
;

864 
__kmp_G‘AùiveProûssÜCouÁ
 = 
NULL
;

865 
__kmp_G‘AùiveProûssÜGroupCouÁ
 = 
NULL
;

866 
__kmp_G‘Th»adGroupAffš™y
 = 
NULL
;

867 
__kmp_S‘Th»adGroupAffš™y
 = 
NULL
;

870 
__kmp_š™_ruÁime
 = 
FALSE
;

871 
	}
}

873 
	$__kmp_‹rmš©e_th»ad
(
gtid
) {

874 
kmp_šfo_t
 *
th
 = 
__kmp_th»ads
[
gtid
];

876 ià(!
th
)

879 
	`KA_TRACE
(10, ("__kmp_‹rmš©e_th»ad: kÈ(%d)\n", 
gtid
));

881 ià(
	`T”mš©eTh»ad
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, (
DWORD
)-1è=ğ
FALSE
) {

884 
	`__kmp_ä“_hªdË
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
);

885 
	}
}

887 
	$__kmp_ş—r_sy¡em_time
() {

888 
BOOL
 
¡©us
;

889 
LARGE_INTEGER
 
time
;

890 
¡©us
 = 
	`Qu”yP”fÜmªûCouÁ”
(&
time
);

891 
__kmp_wš32_time
 = (
kmp_št64
)
time
.
QuadP¬t
;

892 
	}
}

894 
	$__kmp_š™Ÿlize_sy¡em_tick
() {

896 
BOOL
 
¡©us
;

897 
LARGE_INTEGER
 
äeq
;

899 
¡©us
 = 
	`Qu”yP”fÜmªûF»qu’cy
(&
äeq
);

900 ià(!
¡©us
) {

901 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

902 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, "QueryPerformanceFrequency()"),

903 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

906 
__kmp_wš32_tick
 = (()1.0è/ ()
äeq
.
QuadP¬t
;

909 
	}
}

913 
	$__kmp_–­£d
(*
t
) {

914 
BOOL
 
¡©us
;

915 
LARGE_INTEGER
 
now
;

916 
¡©us
 = 
	`Qu”yP”fÜmªûCouÁ”
(&
now
);

917 *
t
 = (()
now
.
QuadP¬t
è* 
__kmp_wš32_tick
;

918 
	}
}

922 
	$__kmp_–­£d_tick
(*
t
è{ *ˆğ
__kmp_wš32_tick
; 
	}
}

924 
	$__kmp_»ad_sy¡em_time
(*
d–
) {

925 ià(
d–
 !ğ
NULL
) {

926 
BOOL
 
¡©us
;

927 
LARGE_INTEGER
 
now
;

929 
¡©us
 = 
	`Qu”yP”fÜmªûCouÁ”
(&
now
);

931 *
d–
 = (()(((
kmp_št64
)
now
.
QuadP¬t
è- 
__kmp_wš32_time
)) *

932 
__kmp_wš32_tick
;

934 
	}
}

937 
kmp_ušt64
 
	$__kmp_now_n£c
() {

938 
LARGE_INTEGER
 
now
;

939 
	`Qu”yP”fÜmªûCouÁ”
(&
now
);

940  1e9 * 
__kmp_wš32_tick
 * 
now
.
QuadP¬t
;

941 
	}
}

944 *
__¡dÿÎ
 
	$__kmp_Ïunch_wÜk”
(*
¬g
) {

945 vŞ©*
¡ack_d©a
;

946 *
ex™_v®
;

947 *
·ddšg
 = 0;

948 
kmp_šfo_t
 *
this_thr
 = (kmp_šfo_ˆ*)
¬g
;

949 
gtid
;

951 
gtid
 = 
this_thr
->
th
.
th_šfo
.
ds
.
ds_gtid
;

952 
	`__kmp_gtid_£t_¥ecific
(
gtid
);

953 #ifdeà
KMP_TDATA_GTID


960 #ià
USE_ITT_BUILD


961 
	`__kmp_™t_th»ad_Çme
(
gtid
);

964 
	`__kmp_affš™y_£t_š™_mask
(
gtid
, 
FALSE
);

966 #ià
KMP_ARCH_X86
 || 
KMP_ARCH_X86_64


968 
	`__kmp_ş—r_x87_åu_¡©us_wÜd
();

969 
	`__kmp_lßd_x87_åu_cÚŒŞ_wÜd
(&
__kmp_š™_x87_åu_cÚŒŞ_wÜd
);

970 
	`__kmp_lßd_mxc¤
(&
__kmp_š™_mxc¤
);

973 ià(
__kmp_¡koff£t
 > 0 && 
gtid
 > 0) {

974 
·ddšg
 = 
	`KMP_ALLOCA
(
gtid
 * 
__kmp_¡koff£t
);

977 
	`KMP_FSYNC_RELEASING
(&
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
);

978 
this_thr
->
th
.
th_šfo
.
ds
.
ds_th»ad_id
 = 
	`G‘Cu¼’tTh»adId
();

979 
	`TCW_4
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
, 
TRUE
);

981 ià(
	`TCR_4
(
__kmp_gtid_mode
) <

983 
	`TCW_PTR
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_¡ackba£
, &
¡ack_d©a
);

984 
	`KMP_ASSERT
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_¡ackgrow
 =ğ
FALSE
);

985 
	`__kmp_check_¡ack_ov”Ïp
(
this_thr
);

987 
	`KMP_MB
();

988 
ex™_v®
 = 
	`__kmp_Ïunch_th»ad
(
this_thr
);

989 
	`KMP_FSYNC_RELEASING
(&
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
);

990 
	`TCW_4
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
, 
FALSE
);

991 
	`KMP_MB
();

992  
ex™_v®
;

993 
	}
}

995 #ià
KMP_USE_MONITOR


998 *
__¡dÿÎ
 
	$__kmp_Ïunch_mÚ™Ü
(*
¬g
) {

999 
DWORD
 
wa™_¡©us
;

1000 
kmp_th»ad_t
 
mÚ™Ü
;

1001 
¡©us
;

1002 
š‹rv®
;

1003 
kmp_šfo_t
 *
this_thr
 = (kmp_šfo_ˆ*)
¬g
;

1005 
	`KMP_DEBUG_ASSERT
(
__kmp_š™_mÚ™Ü
);

1006 
	`TCW_4
(
__kmp_š™_mÚ™Ü
, 2);

1008 
this_thr
->
th
.
th_šfo
.
ds
.
ds_th»ad_id
 = 
	`G‘Cu¼’tTh»adId
();

1009 
	`TCW_4
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
, 
TRUE
);

1011 
	`KMP_MB
();

1012 
	`KA_TRACE
(10, ("__kmp_launch_monitor:†aunched\n"));

1014 
mÚ™Ü
 = 
	`G‘Cu¼’tTh»ad
();

1017 
¡©us
 = 
	`S‘Th»adPriÜ™y
(
mÚ™Ü
, 
THREAD_PRIORITY_HIGHEST
);

1018 ià(!
¡©us
) {

1019 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1020 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘Th»adPriÜ™y
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1024 
	`__kmp_gtid_£t_¥ecific
(
KMP_GTID_MONITOR
);

1025 #ifdeà
KMP_TDATA_GTID


1032 #ià
USE_ITT_BUILD


1033 
	`__kmp_™t_th»ad_ignÜe
();

1037 
	`KMP_MB
();

1039 
š‹rv®
 = (1000 / 
__kmp_mÚ™Ü_wakeups
);

1041 !
	`TCR_4
(
__kmp_glob®
.
g
.
g_dÚe
)) {

1044 
	`KA_TRACE
(15, ("__kmp_launch_monitor: update\n"));

1046 
wa™_¡©us
 = 
	`Wa™FÜSšgËObjeù
(
__kmp_mÚ™Ü_ev
, 
š‹rv®
);

1048 ià(
wa™_¡©us
 =ğ
WAIT_TIMEOUT
) {

1049 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
,

1050 
	`TCR_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
) + 1);

1053 
	`KMP_MB
();

1056 
	`KA_TRACE
(10, ("__kmp_launch_monitor: finished\n"));

1058 
¡©us
 = 
	`S‘Th»adPriÜ™y
(
mÚ™Ü
, 
THREAD_PRIORITY_NORMAL
);

1059 ià(!
¡©us
) {

1060 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1061 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘Th»adPriÜ™y
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1064 ià(
__kmp_glob®
.
g
.
g_abÜt
 != 0) {

1067 
gtid
;

1069 
	`KA_TRACE
(10, ("__kmp_launch_monitor:erminate sig=%d\n",

1070 (
__kmp_glob®
.
g
.
g_abÜt
)));

1075 
gtid
 = 1; gtid < 
__kmp_th»ads_ÿ·c™y
; ++gtid)

1076 
	`__kmp_‹rmš©e_th»ad
(
gtid
);

1078 
	`__kmp_ş—nup
();

1080 
	`SË•
(0);

1082 
	`KA_TRACE
(10,

1083 ("__kmp_Ïunch_mÚ™Ü:„ai£ sig=%d\n", 
__kmp_glob®
.
g
.
g_abÜt
));

1085 ià(
__kmp_glob®
.
g
.
g_abÜt
 > 0) {

1086 
	`¿i£
(
__kmp_glob®
.
g
.
g_abÜt
);

1090 
	`TCW_4
(
this_thr
->
th
.
th_šfo
.
ds
.
ds_®ive
, 
FALSE
);

1092 
	`KMP_MB
();

1093  
¬g
;

1094 
	}
}

1097 
	$__kmp_ü—‹_wÜk”
(
gtid
, 
kmp_šfo_t
 *
th
, 
size_t
 
¡ack_size
) {

1098 
kmp_th»ad_t
 
hªdË
;

1099 
DWORD
 
idTh»ad
;

1101 
	`KA_TRACE
(10, ("__kmp_ü—‹_wÜk”:ryØü—‹h»ad (%d)\n", 
gtid
));

1103 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
gtid
;

1105 ià(
	`KMP_UBER_GTID
(
gtid
)) {

1106 
¡ack_d©a
;

1112 
BOOL
 
rc
;

1113 
rc
 = 
	`Du¶iÿ‹HªdË
(
	`G‘Cu¼’tProûss
(), 
	`G‘Cu¼’tTh»ad
(),

1114 
	`G‘Cu¼’tProûss
(), &
th
->th.
th_šfo
.
ds
.
ds_th»ad
, 0,

1115 
FALSE
, 
DUPLICATE_SAME_ACCESS
);

1116 
	`KMP_ASSERT
(
rc
);

1117 
	`KA_TRACE
(10, (" __kmp_create_worker: ROOT Handle duplicated,h = %p, "

1118 "hªdË = %" 
KMP_UINTPTR_SPEC
 "\n",

1119 (
LPVOID
)
th
,h->th.
th_šfo
.
ds
.
ds_th»ad
));

1120 
th
->th.
th_šfo
.
ds
.
ds_th»ad_id
 = 
	`G‘Cu¼’tTh»adId
();

1122 ià(
	`TCR_4
(
__kmp_gtid_mode
) < 2) {

1124 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡ackba£
, &
¡ack_d©a
);

1125 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡acksize
, 0);

1126 
	`TCW_4
(
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
, 
TRUE
);

1127 
	`__kmp_check_¡ack_ov”Ïp
(
th
);

1130 
	`KMP_MB
();

1133 
	`KA_TRACE
(10,

1134 ("__kmp_ü—‹_wÜk”: sck_sizğ%" 
KMP_SIZE_T_SPEC
 " bytes\n",

1135 
¡ack_size
));

1137 
¡ack_size
 +ğ
gtid
 * 
__kmp_¡koff£t
;

1139 
	`TCW_PTR
(
th
->th.
th_šfo
.
ds
.
ds_¡acksize
, 
¡ack_size
);

1140 
	`TCW_4
(
th
->th.
th_šfo
.
ds
.
ds_¡ackgrow
, 
FALSE
);

1142 
	`KA_TRACE
(10,

1143 ("__kmp_ü—‹_wÜk”: (befÜeè¡ack_sizğ%" 
KMP_SIZE_T_SPEC


1145 (
SIZE_T
)
¡ack_size
, (
LPTHREAD_START_ROUTINE
)&
__kmp_Ïunch_wÜk”
,

1146 (
LPVOID
)
th
, &
idTh»ad
));

1148 
hªdË
 = 
	`C»©eTh»ad
(

1149 
NULL
, (
SIZE_T
)
¡ack_size
, (
LPTHREAD_START_ROUTINE
)
__kmp_Ïunch_wÜk”
,

1150 (
LPVOID
)
th
, 
STACK_SIZE_PARAM_IS_A_RESERVATION
, &
idTh»ad
);

1152 
	`KA_TRACE
(10,

1153 ("__kmp_ü—‹_wÜk”: (aá”è¡ack_sizğ%" 
KMP_SIZE_T_SPEC


1155 "idTh»ad = %u, hªdË = %" 
KMP_UINTPTR_SPEC
 "\n",

1156 (
SIZE_T
)
¡ack_size
, (
LPTHREAD_START_ROUTINE
)&
__kmp_Ïunch_wÜk”
,

1157 (
LPVOID
)
th
, 
idTh»ad
, 
hªdË
));

1159 ià(
hªdË
 == 0) {

1160 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1161 
	`__kmp_çl
(
	`KMP_MSG
(
CªtC»©eTh»ad
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1163 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 
hªdË
;

1166 
	`KMP_MB
();

1169 
	`KA_TRACE
(10, ("__kmp_ü—‹_wÜk”: dÚü—tšgh»ad (%d)\n", 
gtid
));

1170 
	}
}

1172 
	$__kmp_¡l_ruÂšg
(
kmp_šfo_t
 *
th
) {

1173  (
WAIT_TIMEOUT
 =ğ
	`Wa™FÜSšgËObjeù
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, 0));

1174 
	}
}

1176 #ià
KMP_USE_MONITOR


1177 
	$__kmp_ü—‹_mÚ™Ü
(
kmp_šfo_t
 *
th
) {

1178 
kmp_th»ad_t
 
hªdË
;

1179 
DWORD
 
idTh»ad
;

1180 
id—l
, 
Ãw_id—l
;

1182 ià(
__kmp_dæt_blocktime
 =ğ
KMP_MAX_BLOCKTIME
) {

1184 
	`KA_TRACE
(10, ("__kmp_create_monitor: skipping monitorhread because of "

1186 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 0;

1187 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 0;

1188 
	`TCW_4
(
__kmp_š™_mÚ™Ü
, 2);

1191 
	`KA_TRACE
(10, ("__kmp_create_monitor:ryo create monitor\n"));

1193 
	`KMP_MB
();

1195 
__kmp_mÚ™Ü_ev
 = 
	`C»©eEv’t
(
NULL
, 
TRUE
, 
FALSE
, NULL);

1196 ià(
__kmp_mÚ™Ü_ev
 =ğ
NULL
) {

1197 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1198 
	`__kmp_çl
(
	`KMP_MSG
(
CªtC»©eEv’t
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1200 #ià
USE_ITT_BUILD


1201 
	`__kmp_™t_sy¡em_objeù_ü—‹d
(
__kmp_mÚ™Ü_ev
, "Event");

1204 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 
KMP_GTID_MONITOR
;

1205 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
KMP_GTID_MONITOR
;

1209 ià(
__kmp_mÚ™Ü_¡ksize
 == 0) {

1210 
__kmp_mÚ™Ü_¡ksize
 = 
KMP_DEFAULT_MONITOR_STKSIZE
;

1212 ià(
__kmp_mÚ™Ü_¡ksize
 < 
__kmp_sys_mš_¡ksize
) {

1213 
__kmp_mÚ™Ü_¡ksize
 = 
__kmp_sys_mš_¡ksize
;

1216 
	`KA_TRACE
(10, ("__kmp_create_monitor:„equested stacksize = %d bytes\n",

1217 ()
__kmp_mÚ™Ü_¡ksize
));

1219 
	`TCW_4
(
__kmp_glob®
.
g
.
g_time
.
dt
.
t_v®ue
, 0);

1221 
hªdË
 =

1222 
	`C»©eTh»ad
(
NULL
, (
SIZE_T
)
__kmp_mÚ™Ü_¡ksize
,

1223 (
LPTHREAD_START_ROUTINE
)
__kmp_Ïunch_mÚ™Ü
, (
LPVOID
)
th
,

1224 
STACK_SIZE_PARAM_IS_A_RESERVATION
, &
idTh»ad
);

1225 ià(
hªdË
 == 0) {

1226 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1227 
	`__kmp_çl
(
	`KMP_MSG
(
CªtC»©eTh»ad
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1229 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 
hªdË
;

1231 
	`KMP_MB
();

1233 
	`KA_TRACE
(10, ("__kmp_create_monitor: monitor created %p\n",

1234 (*)
th
->th.
th_šfo
.
ds
.
ds_th»ad
));

1235 
	}
}

1244 
	$__kmp_is_th»ad_®ive
(
kmp_šfo_t
 *
th
, 
DWORD
 *
ex™_v®
) {

1245 
DWORD
 
rc
;

1246 
rc
 = 
	`G‘Ex™CodeTh»ad
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
, 
ex™_v®
);

1247 ià(
rc
 == 0) {

1248 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1249 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, "G‘Ex™CodeTh»ad()"), 
	`KMP_ERR
(
”rÜ
),

1250 
__kmp_msg_nuÎ
);

1252  (*
ex™_v®
 =ğ
STILL_ACTIVE
);

1253 
	}
}

1255 
	$__kmp_ex™_th»ad
(
ex™_¡©us
) {

1256 
	`Ex™Th»ad
(
ex™_¡©us
);

1257 
	}
}

1260 
	$__kmp_»­_commÚ
(
kmp_šfo_t
 *
th
) {

1261 
DWORD
 
ex™_v®
;

1263 
	`KMP_MB
();

1265 
	`KA_TRACE
(

1266 10, ("__kmp_»­_commÚ:ryØ»­ (%d)\n", 
th
->th.
th_šfo
.
ds
.
ds_gtid
));

1280 *
obj
 = 
NULL
;

1281 
kmp_ušt32
 
¥šs
;

1282 #ià
USE_ITT_BUILD


1283 
	`KMP_FSYNC_SPIN_INIT
(
obj
, (*)&
th
->th.
th_šfo
.
ds
.
ds_®ive
);

1285 
	`KMP_INIT_YIELD
(
¥šs
);

1287 #ià
USE_ITT_BUILD


1288 
	`KMP_FSYNC_SPIN_PREPARE
(
obj
);

1290 
	`__kmp_is_th»ad_®ive
(
th
, &
ex™_v®
);

1291 
	`KMP_YIELD_OVERSUB_ELSE_SPIN
(
¥šs
);

1292 } 
ex™_v®
 =ğ
STILL_ACTIVE
 && 
	`TCR_4
(
th
->th.
th_šfo
.
ds
.
ds_®ive
));

1293 #ià
USE_ITT_BUILD


1294 ià(
ex™_v®
 =ğ
STILL_ACTIVE
) {

1295 
	`KMP_FSYNC_CANCEL
(
obj
);

1297 
	`KMP_FSYNC_SPIN_ACQUIRED
(
obj
);

1302 
	`__kmp_ä“_hªdË
(
th
->th.
th_šfo
.
ds
.
ds_th»ad
);

1307 ià(
ex™_v®
 =ğ
STILL_ACTIVE
) {

1308 
	`KA_TRACE
(1, ("__kmp_reap_common:hread still‡ctive.\n"));

1309 } ià((*)
ex™_v®
 !ğ(*)
th
) {

1310 
	`KA_TRACE
(1, ("__kmp_reap_common: ExitProcess / TerminateThread used?\n"));

1313 
	`KA_TRACE
(10,

1314 ("__kmp_»­_commÚ: dÚ»­šg (%d), hªdË = %" 
KMP_UINTPTR_SPEC


1316 
th
->th.
th_šfo
.
ds
.
ds_gtid
,h->th.th_šfo.ds.
ds_th»ad
));

1318 
th
->th.
th_šfo
.
ds
.
ds_th»ad
 = 0;

1319 
th
->th.
th_šfo
.
ds
.
ds_tid
 = 
KMP_GTID_DNE
;

1320 
th
->th.
th_šfo
.
ds
.
ds_gtid
 = 
KMP_GTID_DNE
;

1321 
th
->th.
th_šfo
.
ds
.
ds_th»ad_id
 = 0;

1323 
	`KMP_MB
();

1324 
	}
}

1326 #ià
KMP_USE_MONITOR


1327 
	$__kmp_»­_mÚ™Ü
(
kmp_šfo_t
 *
th
) {

1328 
¡©us
;

1330 
	`KA_TRACE
(10, ("__kmp_reap_monitor:ryo„eap %p\n",

1331 (*)
th
->th.
th_šfo
.
ds
.
ds_th»ad
));

1336 
	`KMP_DEBUG_ASSERT
(
th
->th.
th_šfo
.
ds
.
ds_tid
 =ğth->th.th_šfo.ds.
ds_gtid
);

1337 ià(
th
->th.
th_šfo
.
ds
.
ds_gtid
 !ğ
KMP_GTID_MONITOR
) {

1338 
	`KA_TRACE
(10, ("__kmp_reap_monitor: monitor did‚ot start,„eturning\n"));

1342 
	`KMP_MB
();

1344 
¡©us
 = 
	`S‘Ev’t
(
__kmp_mÚ™Ü_ev
);

1345 ià(
¡©us
 =ğ
FALSE
) {

1346 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1347 
	`__kmp_çl
(
	`KMP_MSG
(
CªtS‘Ev’t
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1349 
	`KA_TRACE
(10, ("__kmp_reap_monitor:„eapinghread (%d)\n",

1350 
th
->th.
th_šfo
.
ds
.
ds_gtid
));

1351 
	`__kmp_»­_commÚ
(
th
);

1353 
	`__kmp_ä“_hªdË
(
__kmp_mÚ™Ü_ev
);

1355 
	`KMP_MB
();

1356 
	}
}

1359 
	$__kmp_»­_wÜk”
(
kmp_šfo_t
 *
th
) {

1360 
	`KA_TRACE
(10, ("__kmp_reap_worker:„eapinghread (%d)\n",

1361 
th
->th.
th_šfo
.
ds
.
ds_gtid
));

1362 
	`__kmp_»­_commÚ
(
th
);

1363 
	}
}

1365 #ià
KMP_HANDLE_SIGNALS


1367 
	$__kmp_‹am_hªdËr
(
signo
) {

1368 ià(
__kmp_glob®
.
g
.
g_abÜt
 == 0) {

1370 ià(
__kmp_debug_buf
) {

1371 
	`__kmp_dump_debug_bufãr
();

1373 
	`KMP_MB
();

1374 
	`TCW_4
(
__kmp_glob®
.
g
.
g_abÜt
, 
signo
);

1375 
	`KMP_MB
();

1376 
	`TCW_4
(
__kmp_glob®
.
g
.
g_dÚe
, 
TRUE
);

1377 
	`KMP_MB
();

1379 
	}
}

1381 
sig_func_t
 
	$__kmp_sigÇl
(
signum
, 
sig_func_t
 
hªdËr
) {

1382 
sig_func_t
 
Şd
 = 
	`sigÇl
(
signum
, 
hªdËr
);

1383 ià(
Şd
 =ğ
SIG_ERR
) {

1384 
”rÜ
 = 
”ºo
;

1385 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, "sigÇl"), 
	`KMP_ERR
(
”rÜ
),

1386 
__kmp_msg_nuÎ
);

1388  
Şd
;

1389 
	}
}

1391 
	$__kmp_š¡®l_Úe_hªdËr
(
sig
, 
sig_func_t
 
hªdËr
,

1392 
·¿Î–_š™
) {

1393 
sig_func_t
 
Şd
;

1394 
	`KMP_MB
();

1395 
	`KB_TRACE
(60, ("__kmp_š¡®l_Úe_hªdËr: c®Ëd: sig=%d\n", 
sig
));

1396 ià(
·¿Î–_š™
) {

1397 
Şd
 = 
	`__kmp_sigÇl
(
sig
, 
hªdËr
);

1399 ià(
Şd
 =ğ
__kmp_sighldrs
[
sig
]) {

1400 
__kmp_sigš¡®Ëd
[
sig
] = 1;

1402 
Şd
 = 
	`__kmp_sigÇl
(
sig
, old);

1408 
Şd
 = 
	`__kmp_sigÇl
(
sig
, 
SIG_DFL
);

1409 
__kmp_sighldrs
[
sig
] = 
Şd
;

1410 
	`__kmp_sigÇl
(
sig
, 
Şd
);

1412 
	`KMP_MB
();

1413 
	}
}

1415 
	$__kmp_»move_Úe_hªdËr
(
sig
) {

1416 ià(
__kmp_sigš¡®Ëd
[
sig
]) {

1417 
sig_func_t
 
Şd
;

1418 
	`KMP_MB
();

1419 
	`KB_TRACE
(60, ("__kmp_»move_Úe_hªdËr: c®Ëd: sig=%d\n", 
sig
));

1420 
Şd
 = 
	`__kmp_sigÇl
(
sig
, 
__kmp_sighldrs
[sig]);

1421 ià(
Şd
 !ğ
__kmp_‹am_hªdËr
) {

1422 
	`KB_TRACE
(10, ("__kmp_remove_one_handler: oops,‚ot our handler, "

1424 
sig
));

1425 
Şd
 = 
	`__kmp_sigÇl
(
sig
, old);

1427 
__kmp_sighldrs
[
sig
] = 
NULL
;

1428 
__kmp_sigš¡®Ëd
[
sig
] = 0;

1429 
	`KMP_MB
();

1431 
	}
}

1433 
	$__kmp_š¡®l_sigÇls
(
·¿Î–_š™
) {

1434 
	`KB_TRACE
(10, ("__kmp_install_signals: called\n"));

1435 ià(!
__kmp_hªdË_sigÇls
) {

1436 
	`KB_TRACE
(10, ("__kmp_install_signals: KMP_HANDLE_SIGNALS is false - "

1440 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGINT
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1441 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGILL
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1442 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGABRT
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1443 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGFPE
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1444 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGSEGV
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1445 
	`__kmp_š¡®l_Úe_hªdËr
(
SIGTERM
, 
__kmp_‹am_hªdËr
, 
·¿Î–_š™
);

1446 
	}
}

1448 
	$__kmp_»move_sigÇls
() {

1449 
sig
;

1450 
	`KB_TRACE
(10, ("__kmp_remove_signals: called\n"));

1451 
sig
 = 1; sig < 
NSIG
; ++sig) {

1452 
	`__kmp_»move_Úe_hªdËr
(
sig
);

1454 
	}
}

1459 
	$__kmp_th»ad_¦“p
(
mlis
) {

1460 
DWORD
 
¡©us
;

1462 
¡©us
 = 
	`SË•Ex
((
DWORD
)
mlis
, 
FALSE
);

1463 ià(
¡©us
) {

1464 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1465 
	`__kmp_çl
(
	`KMP_MSG
(
FunùiÚE¼Ü
, "SË•Ex()"), 
	`KMP_ERR
(
”rÜ
),

1466 
__kmp_msg_nuÎ
);

1468 
	}
}

1471 
	$__kmp_is_add»ss_m­³d
(*
addr
) {

1472 
DWORD
 
¡©us
;

1473 
MEMORY_BASIC_INFORMATION
 
ÍBufãr
;

1474 
SIZE_T
 
dwL’gth
;

1476 
dwL’gth
 = (
MEMORY_BASIC_INFORMATION
);

1478 
¡©us
 = 
	`Vœtu®Qu”y
(
addr
, &
ÍBufãr
, 
dwL’gth
);

1480  !(((
ÍBufãr
.
S‹
 =ğ
MEM_RESERVE
è|| (ÍBufãr.S‹ =ğ
MEM_FREE
)) ||

1481 ((
ÍBufãr
.
PrÙeù
 =ğ
PAGE_NOACCESS
) ||

1482 (
ÍBufãr
.
PrÙeù
 =ğ
PAGE_EXECUTE
)));

1483 
	}
}

1485 
kmp_ušt64
 
	$__kmp_h¬dw¬e_time¡amp
() {

1486 
kmp_ušt64
 
r
 = 0;

1488 
	`Qu”yP”fÜmªûCouÁ”
((
LARGE_INTEGER
 *)&
r
);

1489  
r
;

1490 
	}
}

1493 
	$__kmp_ä“_hªdË
(
kmp_th»ad_t
 
tHªdË
) {

1496 
BOOL
 
rc
;

1497 
rc
 = 
	`Clo£HªdË
(
tHªdË
);

1498 ià(!
rc
) {

1499 
DWORD
 
”rÜ
 = 
	`G‘La¡E¼Ü
();

1500 
	`__kmp_çl
(
	`KMP_MSG
(
CªtClo£HªdË
), 
	`KMP_ERR
(
”rÜ
), 
__kmp_msg_nuÎ
);

1502 
	}
}

1504 
	$__kmp_g‘_lßd_b®ªû
(
max
) {

1505 
ULONG
 
glb_buff_size
 = 100 * 1024;

1508 
glb_ruÂšg_th»ads
 = 0;

1509 
glb_ÿÎ_time
 = 0;

1511 
ruÂšg_th»ads
 = 0;

1512 
NTSTATUS
 
¡©us
 = 0;

1513 
ULONG
 
buff_size
 = 0;

1514 
ULONG
 
šfo_size
 = 0;

1515 *
bufãr
 = 
NULL
;

1516 
PSYSTEM_PROCESS_INFORMATION
 
¥i
 = 
NULL
;

1517 
fœ¡_time
 = 1;

1519 
ÿÎ_time
 = 0.0;

1521 
	`__kmp_–­£d
(&
ÿÎ_time
);

1523 ià(
glb_ÿÎ_time
 &&

1524 (
ÿÎ_time
 - 
glb_ÿÎ_time
 < 
__kmp_lßd_b®ªû_š‹rv®
)) {

1525 
ruÂšg_th»ads
 = 
glb_ruÂšg_th»ads
;

1526 
fšish
;

1528 
glb_ÿÎ_time
 = 
ÿÎ_time
;

1531 ià(
NtQu”ySy¡emInfÜm©iÚ
 =ğ
NULL
) {

1532 
ruÂšg_th»ads
 = -1;

1533 
fšish
;

1536 ià(
max
 <= 0) {

1537 
max
 = 
INT_MAX
;

1542 ià(
fœ¡_time
) {

1543 
buff_size
 = 
glb_buff_size
;

1545 
buff_size
 = 2 * buff_size;

1548 
bufãr
 = 
	`KMP_INTERNAL_REALLOC
(bufãr, 
buff_size
);

1549 ià(
bufãr
 =ğ
NULL
) {

1550 
ruÂšg_th»ads
 = -1;

1551 
fšish
;

1553 
¡©us
 = 
	`NtQu”ySy¡emInfÜm©iÚ
(
Sy¡emProûssInfÜm©iÚ
, 
bufãr
,

1554 
buff_size
, &
šfo_size
);

1555 
fœ¡_time
 = 0;

1557 } 
¡©us
 =ğ
STATUS_INFO_LENGTH_MISMATCH
);

1558 
glb_buff_size
 = 
buff_size
;

1560 
	#CHECK
(
cÚd
) \

1562 
	`KMP_DEBUG_ASSERT
(
cÚd
); \

1563 ià(!(
cÚd
)) { \

1564 
ruÂšg_th»ads
 = -1; \

1565 
fšish
; \

1567 }

	)

1569 
	`CHECK
(
buff_size
 >ğ
šfo_size
);

1570 
¥i
 = 
	`PSYSTEM_PROCESS_INFORMATION
(
bufãr
);

1572 
±rdiff_t
 
off£t
 = 
	`ušŒ_t
(
¥i
è- ušŒ_t(
bufãr
);

1573 
	`CHECK
(0 <ğ
off£t
 &&

1574 
off£t
 + (
SYSTEM_PROCESS_INFORMATION
è< 
šfo_size
);

1575 
HANDLE
 
pid
 = 
¥i
->
ProûssId
;

1576 
ULONG
 
num
 = 
¥i
->
Numb”OfTh»ads
;

1577 
	`CHECK
(
num
 >= 1);

1578 
size_t
 
¥i_size
 =

1579 (
SYSTEM_PROCESS_INFORMATION
è+ (
SYSTEM_THREAD
è* (
num
 - 1);

1580 
	`CHECK
(
off£t
 + 
¥i_size
 <

1581 
šfo_size
);

1582 ià(
¥i
->
NextEÁryOff£t
 != 0) {

1583 
	`CHECK
(
¥i_size
 <=

1584 
¥i
->
NextEÁryOff£t
);

1589 ià(
pid
 != 0) {

1590 
i
 = 0; i < 
num
; ++i) {

1591 
THREAD_STATE
 
¡©e
 = 
¥i
->
Th»ads
[
i
].
S‹
;

1594 ià(
¡©e
 =ğ
S‹RuÂšg
) {

1595 ++
ruÂšg_th»ads
;

1598 ià(
ruÂšg_th»ads
 >ğ
max
) {

1599 
fšish
;

1604 ià(
¥i
->
NextEÁryOff£t
 == 0) {

1607 
¥i
 = 
	`PSYSTEM_PROCESS_INFORMATION
(
	`ušŒ_t
(¥iè+ spi->
NextEÁryOff£t
);

1610 #undeà
CHECK


1612 
fšish
:

1614 ià(
bufãr
 !ğ
NULL
) {

1615 
	`KMP_INTERNAL_FREE
(
bufãr
);

1618 
glb_ruÂšg_th»ads
 = 
ruÂšg_th»ads
;

1620  
ruÂšg_th»ads
;

1621 
	}
}

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


91 #ià
defšed
 
__ılu¥lus


92 
	#as£¹
(
ex´
) \

93 (
¡©ic_ÿ¡
 <
boŞ
> (
ex´
) \

95 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #–ià!
defšed
 
__GNUC__
 || defšed 
__STRICT_ANSI__


97 
	#as£¹
(
ex´
) \

98 ((
ex´
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

107 
	#as£¹
(
ex´
) \

108 ((è ((
ex´
è? 1 : 0), 
	`__ex‹nsiÚ__
 ({ \

109 ià(
ex´
) \

112 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
); \

113 
	}
}))

	)

116 #ifdef 
__USE_GNU


117 
	#as£¹_³¼Ü
(
”ºum
) \

118 (!(
”ºum
) \

119 ? 
	`__ASSERT_VOID_CAST
 (0) \

120 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

128 #ià
defšed
 
__ılu¥lus
 ? 
__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

129 
	#__ASSERT_FUNCTION
 
__ex‹nsiÚ__
 
__PRETTY_FUNCTION__


	)

131 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

132 
	#__ASSERT_FUNCTION
 
__func__


	)

134 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

141 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


142 #undeà
¡©ic_as£¹


143 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

108 
__exùy³
 (
i§Êum
);

109 
__exùy³
 (
i§Íha
);

110 
__exùy³
 (
isúŒl
);

111 
__exùy³
 (
isdig™
);

112 
__exùy³
 (
i¦ow”
);

113 
__exùy³
 (
isg¿ph
);

114 
__exùy³
 (
i¥ršt
);

115 
__exùy³
 (
i¥unù
);

116 
__exùy³
 (
is¥aû
);

117 
__exùy³
 (
isuµ”
);

118 
__exùy³
 (
isxdig™
);

122 
	$tŞow”
 (
__c
è
__THROW
;

125 
	$touµ”
 (
__c
è
__THROW
;

129 #ifdef 
__USE_ISOC99


130 
	`__exùy³
 (
isbÏnk
);

133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE


173 #ifdeà
__isùy³_f


174 
	$__isùy³_f
 (
®num
)

175 
	$__isùy³_f
 (
®pha
)

176 
	$__isùy³_f
 (
úŒl
)

177 
	$__isùy³_f
 (
dig™
)

178 
	$__isùy³_f
 (
low”
)

179 
	$__isùy³_f
 (
g¿ph
)

180 
	$__isùy³_f
 (
´št
)

181 
	$__isùy³_f
 (
punù
)

182 
	$__isùy³_f
 (
¥aû
)

183 
	$__isùy³_f
 (
uµ”
)

184 
	$__isùy³_f
 (
xdig™
)

185 #ifdeà
__USE_ISOC99


186 
	$__isùy³_f
 (
bÏnk
)

188 #–ià
defšed
 
__isùy³


189 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

190 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

191 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

192 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

193 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

194 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

195 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

196 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

197 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

198 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

199 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

200 #ifdeà
__USE_ISOC99


201 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

205 #ifdeà
__USE_EXTERN_INLINES


206 
__ex‹º_šlše
 

207 
	`__NTH
 (
	$tŞow”
 (
__c
))

209  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

210 
	}
}

212 
__ex‹º_šlše
 

213 
__NTH
 (
	$touµ”
 (
__c
))

215  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

216 
	}
}

219 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


220 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

221 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

224 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


225 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

226 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

228 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

229 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

235 #ifdeà
__USE_XOPEN2K8


237 
	~<b™s/ty³s/loÿË_t.h
>

241 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

242 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

244 
	#__exùy³_l
(
Çme
) \

245 
	`Çme
 (, 
loÿË_t
è
__THROW


	)

251 
__exùy³_l
 (
i§Êum_l
);

252 
__exùy³_l
 (
i§Íha_l
);

253 
__exùy³_l
 (
isúŒl_l
);

254 
__exùy³_l
 (
isdig™_l
);

255 
__exùy³_l
 (
i¦ow”_l
);

256 
__exùy³_l
 (
isg¿ph_l
);

257 
__exùy³_l
 (
i¥ršt_l
);

258 
__exùy³_l
 (
i¥unù_l
);

259 
__exùy³_l
 (
is¥aû_l
);

260 
__exùy³_l
 (
isuµ”_l
);

261 
__exùy³_l
 (
isxdig™_l
);

263 
__exùy³_l
 (
isbÏnk_l
);

267 
	$__tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

268 
	$tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

271 
	$__touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

272 
	$touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

274 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


275 
	#__tŞow”_l
(
c
, 
loÿË
) \

276 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

277 
	#__touµ”_l
(
c
, 
loÿË
) \

278 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

279 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

280 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

284 #iâdeà
__NO_CTYPE


285 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

286 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

287 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

288 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

289 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

290 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

291 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

292 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

293 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

294 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

295 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

297 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

299 #ifdeà
__USE_MISC


300 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

301 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

304 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

305 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

306 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

307 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

308 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

309 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

310 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

311 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

312 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

313 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

314 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

316 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

318 #ifdeà
__USE_MISC


319 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

320 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

327 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià
defšed
 
__USE_MISC
 && !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_MISC


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ifdeà
__USE_POSIX


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
)

194 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

196 
	#»addœ_r
 
»addœ64_r


	)

200 #ifdeà
__USE_LARGEFILE64


201 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

202 
dœ’t64
 *
__»¡riù
 
__’Œy
,

203 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

204 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

209 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


212 
	~<b™s/ty³s.h
>

215 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 #ifdeà
__USE_XOPEN2K8


224 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


227 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

230 #ifdeà
__USE_MISC


231 #iâdeà
MAXNAMLEN


233 
	~<b™s/posix1_lim.h
>

236 #ifdeà
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__Ãed_size_t


	)

245 
	~<¡ddef.h
>

254 #iâdeà
__USE_FILE_OFFSET64


255 
	$sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

256 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

257 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

258 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

259 cÚ¡ 
dœ’t
 **))

260 
	`__nÚnuÎ
 ((1, 2));

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
sÿndœ
,

264 (cÚ¡ *
__»¡riù
 
__dœ
,

265 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

266 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

267 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

268 cÚ¡ 
dœ’t
 **)),

269 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

271 
	#sÿndœ
 
sÿndœ64


	)

275 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


278 
	$sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

279 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

280 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

281 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

282 cÚ¡ 
dœ’t64
 **))

283 
	`__nÚnuÎ
 ((1, 2));

286 #ifdeà
__USE_GNU


292 #iâdeà
__USE_FILE_OFFSET64


293 
	$sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

294 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

295 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

296 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

297 cÚ¡ 
dœ’t
 **))

298 
	`__nÚnuÎ
 ((2, 3));

300 #ifdeà
__REDIRECT


301 
	`__REDIRECT
 (
sÿndœ©
,

302 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

303 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

304 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

305 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

306 cÚ¡ 
dœ’t
 **)),

307 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

309 
	#sÿndœ©
 
sÿndœ©64


	)

315 
	$sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

316 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

317 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

318 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

319 cÚ¡ 
dœ’t64
 **))

320 
	`__nÚnuÎ
 ((2, 3));

324 #iâdeà
__USE_FILE_OFFSET64


325 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

326 cÚ¡ 
dœ’t
 **
__e2
)

327 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

329 #ifdeà
__REDIRECT


330 
	`__REDIRECT_NTH
 (
®phasÜt
,

331 (cÚ¡ 
dœ’t
 **
__e1
,

332 cÚ¡ 
dœ’t
 **
__e2
),

333 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 
	#®phasÜt
 
®phasÜt64


	)

339 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


340 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

341 cÚ¡ 
dœ’t64
 **
__e2
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 #ifdeà
__USE_MISC


352 #iâdeà
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

354 
size_t
 
__nby‹s
,

355 
__off_t
 *
__»¡riù
 
__ba£p
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

358 #ifdeà
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

360 (
__fd
, *
__»¡riù
 
__buf
,

361 
size_t
 
__nby‹s
,

362 
__off64_t
 *
__»¡riù
 
__ba£p
),

363 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

365 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

369 #ifdeà
__USE_LARGEFILE64


370 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

371 
size_t
 
__nby‹s
,

372 
__off64_t
 *
__»¡riù
 
__ba£p
)

373 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

377 #ifdeà
__USE_GNU


379 #iâdeà
__USE_FILE_OFFSET64


380 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

381 cÚ¡ 
dœ’t
 **
__e2
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

384 #ifdeà
__REDIRECT


385 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

386 (cÚ¡ 
dœ’t
 **
__e1
,

387 cÚ¡ 
dœ’t
 **
__e2
),

388 
v”siÚsÜt64
)

389 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

391 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

397 cÚ¡ 
dœ’t64
 **
__e2
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

402 
__END_DECLS


	@/usr/include/dlfcn.h

19 #iâdef 
_DLFCN_H


20 
	#_DLFCN_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

27 
	~<b™s/dlfú.h
>

30 #ifdeà
__USE_GNU


35 
	#RTLD_NEXT
 ((*è-1l)

	)

40 
	#RTLD_DEFAULT
 ((*è0)

	)

44 
	tLmid_t
;

47 
	#LM_ID_BASE
 0

	)

48 
	#LM_ID_NEWLM
 -1

	)

52 
__BEGIN_DECLS


56 *
	$dlİ’
 (cÚ¡ *
__fe
, 
__mode
è
__THROWNL
;

60 
	$dlşo£
 (*
__hªdË
è
__THROWNL
 
	`__nÚnuÎ
 ((1));

64 *
	$dlsym
 (*
__»¡riù
 
__hªdË
,

65 cÚ¡ *
__»¡riù
 
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((2));

67 #ifdeà
__USE_GNU


69 *
	$dlmİ’
 (
Lmid_t
 
__nsid
, cÚ¡ *
__fe
, 
__mode
è
__THROWNL
;

73 *
	$dlvsym
 (*
__»¡riù
 
__hªdË
,

74 cÚ¡ *
__»¡riù
 
__Çme
,

75 cÚ¡ *
__»¡riù
 
__v”siÚ
)

76 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

82 *
	$dË¼Ü
 (è
__THROW
;

85 #ifdeà
__USE_GNU


90 cÚ¡ *
dli_âame
;

91 *
dli_fba£
;

92 cÚ¡ *
dli_¢ame
;

93 *
dli_§ddr
;

94 } 
	tDl_šfo
;

98 
	$dÏddr
 (cÚ¡ *
__add»ss
, 
Dl_šfo
 *
__šfo
)

99 
__THROW
 
	`__nÚnuÎ
 ((2));

102 
	$dÏddr1
 (cÚ¡ *
__add»ss
, 
Dl_šfo
 *
__šfo
,

103 **
__exŒa_šfo
, 
__æags
è
__THROW
 
	`__nÚnuÎ
 ((2));

111 
RTLD_DL_SYMENT
 = 1,

114 
RTLD_DL_LINKMAP
 = 2

123 
	$dlšfo
 (*
__»¡riù
 
__hªdË
,

124 
__»que¡
, *
__»¡riù
 
__¬g
)

125 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

131 
RTLD_DI_LMID
 = 1,

135 
RTLD_DI_LINKMAP
 = 2,

137 
RTLD_DI_CONFIGADDR
 = 3,

144 
RTLD_DI_SERINFO
 = 4,

145 
RTLD_DI_SERINFOSIZE
 = 5,

149 
RTLD_DI_ORIGIN
 = 6,

151 
RTLD_DI_PROFILENAME
 = 7,

152 
RTLD_DI_PROFILEOUT
 = 8,

157 
RTLD_DI_TLS_MODID
 = 9,

163 
RTLD_DI_TLS_DATA
 = 10,

165 
RTLD_DI_MAX
 = 10

173 *
dls_Çme
;

174 
dls_æags
;

175 } 
	tDl_£½©h
;

181 
size_t
 
dls_size
;

182 
dls_út
;

183 
Dl_£½©h
 
dls_£½©h
[1];

184 } 
	tDl_£ršfo
;

188 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


23 
	#_ERRNO_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/”ºo.h
>

32 #iâdeà
__ASSEMBLER__


34 
__BEGIN_DECLS


37 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
__©Œibu‹_cÚ¡__
;

38 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

40 #ifdeà
__USE_GNU


45 *
´og¿m_švoÿtiÚ_Çme
;

46 *
´og¿m_švoÿtiÚ_shÜt_Çme
;

50 #iâdeà
__”rÜ_t_defšed


51 
	#__”rÜ_t_defšed
 1

	)

52 
	t”rÜ_t
;

57 
__END_DECLS


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

39 #ifdeà
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oæag
) \

41 (((
oæag
è& 
O_CREAT
è!ğ0 || ((oæagè& 
__O_TMPFILE
è=ğ__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oæag
è(((oæagè& 
O_CREAT
è!ğ0)

	)

49 #iâdeà
__mode_t_defšed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_defšed


	)

54 #iâdeà
__off_t_defšed


55 #iâdeà
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

68 #iâdeà
__pid_t_defšed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_defšed


	)

74 #ifdeà
__USE_XOPEN2K8


75 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

77 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


78 
	~<b™s/¡©.h
>

80 
	#S_IFMT
 
__S_IFMT


	)

81 
	#S_IFDIR
 
__S_IFDIR


	)

82 
	#S_IFCHR
 
__S_IFCHR


	)

83 
	#S_IFBLK
 
__S_IFBLK


	)

84 
	#S_IFREG
 
__S_IFREG


	)

85 #ifdeà
__S_IFIFO


86 
	#S_IFIFO
 
__S_IFIFO


	)

88 #ifdeà
__S_IFLNK


89 
	#S_IFLNK
 
__S_IFLNK


	)

91 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


92 
	#S_IFSOCK
 
__S_IFSOCK


	)

97 
	#S_ISUID
 
__S_ISUID


	)

98 
	#S_ISGID
 
__S_ISGID


	)

100 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


102 
	#S_ISVTX
 
__S_ISVTX


	)

105 
	#S_IRUSR
 
__S_IREAD


	)

106 
	#S_IWUSR
 
__S_IWRITE


	)

107 
	#S_IXUSR
 
__S_IEXEC


	)

109 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

111 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

112 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

113 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

115 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

117 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

118 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

119 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

121 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

124 #ifdef 
__USE_MISC


125 #iâdeà
R_OK


128 
	#R_OK
 4

	)

129 
	#W_OK
 2

	)

130 
	#X_OK
 1

	)

131 
	#F_OK
 0

	)

136 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


137 
	#SEEK_SET
 0

	)

138 
	#SEEK_CUR
 1

	)

139 
	#SEEK_END
 2

	)

147 
fú
 (
__fd
, 
__cmd
, ...);

156 #iâdeà
__USE_FILE_OFFSET64


157 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__REDIRECT


160 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

161 
	`__nÚnuÎ
 ((1));

163 
	#İ’
 
İ’64


	)

166 #ifdeà
__USE_LARGEFILE64


167 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

170 #ifdeà
__USE_ATFILE


180 #iâdeà
__USE_FILE_OFFSET64


181 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

184 #ifdeà
__REDIRECT


185 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

186 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

188 
	#İ’©
 
İ’©64


	)

191 #ifdeà
__USE_LARGEFILE64


192 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

193 
	`__nÚnuÎ
 ((2));

202 #iâdeà
__USE_FILE_OFFSET64


203 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ifdeà
__REDIRECT


206 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

207 
ü—t64
è
	`__nÚnuÎ
 ((1));

209 
	#ü—t
 
ü—t64


	)

212 #ifdeà
__USE_LARGEFILE64


213 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

216 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

217 && !
defšed
 
__USE_POSIX
))

226 
	#F_ULOCK
 0

	)

227 
	#F_LOCK
 1

	)

228 
	#F_TLOCK
 2

	)

229 
	#F_TEST
 3

	)

231 #iâdeà
__USE_FILE_OFFSET64


232 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

234 #ifdeà
__REDIRECT


235 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

237 
	#lockf
 
lockf64


	)

240 #ifdeà
__USE_LARGEFILE64


241 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

245 #ifdeà
__USE_XOPEN2K


248 #iâdeà
__USE_FILE_OFFSET64


249 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

250 
__advi£
è
__THROW
;

252 #ifdeà
__REDIRECT_NTH


253 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

254 
__off64_t
 
__Ën
, 
__advi£
),

255 
posix_çdvi£64
);

257 
	#posix_çdvi£
 
posix_çdvi£64


	)

260 #ifdeà
__USE_LARGEFILE64


261 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

262 
__advi£
è
__THROW
;

270 #iâdeà
__USE_FILE_OFFSET64


271 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

273 #ifdeà
__REDIRECT


274 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

275 
__off64_t
 
__Ën
),

276 
posix_çÎoÿ‹64
);

278 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

281 #ifdeà
__USE_LARGEFILE64


282 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

288 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

289 && 
defšed
 
__va_¬g_·ck_Ën


290 
	~<b™s/fú2.h
>

293 
__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

145 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

146 #iâdeà
CHAR_WIDTH


147 
	#CHAR_WIDTH
 8

	)

149 #iâdeà
SCHAR_WIDTH


150 
	#SCHAR_WIDTH
 8

	)

152 #iâdeà
UCHAR_WIDTH


153 
	#UCHAR_WIDTH
 8

	)

155 #iâdeà
SHRT_WIDTH


156 
	#SHRT_WIDTH
 16

	)

158 #iâdeà
USHRT_WIDTH


159 
	#USHRT_WIDTH
 16

	)

161 #iâdeà
INT_WIDTH


162 
	#INT_WIDTH
 32

	)

164 #iâdeà
UINT_WIDTH


165 
	#UINT_WIDTH
 32

	)

167 #iâdeà
LONG_WIDTH


168 
	#LONG_WIDTH
 
__WORDSIZE


	)

170 #iâdeà
ULONG_WIDTH


171 
	#ULONG_WIDTH
 
__WORDSIZE


	)

173 #iâdeà
LLONG_WIDTH


174 
	#LLONG_WIDTH
 64

	)

176 #iâdeà
ULLONG_WIDTH


177 
	#ULLONG_WIDTH
 64

	)

181 #ifdef 
__USE_POSIX


183 
	~<b™s/posix1_lim.h
>

186 #ifdef 
__USE_POSIX2


187 
	~<b™s/posix2_lim.h
>

190 #ifdef 
__USE_XOPEN


191 
	~<b™s/xİ’_lim.h
>

	@/usr/include/linux/limits.h

2 #iâdeà
_LINUX_LIMITS_H


3 
	#_LINUX_LIMITS_H


	)

5 
	#NR_OPEN
 1024

	)

7 
	#NGROUPS_MAX
 65536

	)

8 
	#ARG_MAX
 131072

	)

9 
	#LINK_MAX
 127

	)

10 
	#MAX_CANON
 255

	)

11 
	#MAX_INPUT
 255

	)

12 
	#NAME_MAX
 255

	)

13 
	#PATH_MAX
 4096

	)

14 
	#PIPE_BUF
 4096

	)

15 
	#XATTR_NAME_MAX
 255

	)

16 
	#XATTR_SIZE_MAX
 65536

	)

17 
	#XATTR_LIST_MAX
 65536

	)

19 
	#RTSIG_MAX
 32

	)

	@/usr/include/locale.h

22 #iâdef 
_LOCALE_H


23 
	#_LOCALE_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_NULL


	)

28 
	~<¡ddef.h
>

29 
	~<b™s/loÿË.h
>

31 
	g__BEGIN_DECLS


35 
	#LC_CTYPE
 
__LC_CTYPE


	)

36 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

37 
	#LC_TIME
 
__LC_TIME


	)

38 
	#LC_COLLATE
 
__LC_COLLATE


	)

39 
	#LC_MONETARY
 
__LC_MONETARY


	)

40 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

41 
	#LC_ALL
 
__LC_ALL


	)

42 
	#LC_PAPER
 
__LC_PAPER


	)

43 
	#LC_NAME
 
__LC_NAME


	)

44 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

45 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

46 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

47 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

51 
	slcÚv


55 *
	mdecim®_pošt
;

56 *
	mthou§nds_£p
;

62 *
	mgroupšg
;

68 *
	mšt_cu¼_symbŞ
;

69 *
	mcu¼’cy_symbŞ
;

70 *
	mmÚ_decim®_pošt
;

71 *
	mmÚ_thou§nds_£p
;

72 *
	mmÚ_groupšg
;

73 *
	mpos™ive_sign
;

74 *
	mÃg©ive_sign
;

75 
	mšt_äac_dig™s
;

76 
	mäac_dig™s
;

78 
	mp_cs_´eûdes
;

80 
	mp_£p_by_¥aû
;

82 
	mn_cs_´eûdes
;

84 
	mn_£p_by_¥aû
;

91 
	mp_sign_po¢
;

92 
	mn_sign_po¢
;

93 #ifdeà
__USE_ISOC99


95 
	mšt_p_cs_´eûdes
;

97 
	mšt_p_£p_by_¥aû
;

99 
	mšt_n_cs_´eûdes
;

101 
	mšt_n_£p_by_¥aû
;

108 
	mšt_p_sign_po¢
;

109 
	mšt_n_sign_po¢
;

111 
	m__št_p_cs_´eûdes
;

112 
	m__št_p_£p_by_¥aû
;

113 
	m__št_n_cs_´eûdes
;

114 
	m__št_n_£p_by_¥aû
;

115 
	m__št_p_sign_po¢
;

116 
	m__št_n_sign_po¢
;

122 *
	$£oÿË
 (
__ÿ‹gÜy
, cÚ¡ *
__loÿË
è
__THROW
;

125 
lcÚv
 *
	$loÿËcÚv
 (è
__THROW
;

128 #ifdef 
__USE_XOPEN2K8


135 
	~<b™s/ty³s/loÿË_t.h
>

141 
loÿË_t
 
	$ÃwloÿË
 (
__ÿ‹gÜy_mask
, cÚ¡ *
__loÿË
,

142 
loÿË_t
 
__ba£
è
__THROW
;

148 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

149 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

150 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

151 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

152 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

153 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

154 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

155 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

156 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

157 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

158 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

159 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

160 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

161 | 
LC_NUMERIC_MASK
 \

162 | 
LC_TIME_MASK
 \

163 | 
LC_COLLATE_MASK
 \

164 | 
LC_MONETARY_MASK
 \

165 | 
LC_MESSAGES_MASK
 \

166 | 
LC_PAPER_MASK
 \

167 | 
LC_NAME_MASK
 \

168 | 
LC_ADDRESS_MASK
 \

169 | 
LC_TELEPHONE_MASK
 \

170 | 
LC_MEASUREMENT_MASK
 \

171 | 
LC_IDENTIFICATION_MASK
 \

172 )

	)

176 
loÿË_t
 
	$du¶oÿË
 (
loÿË_t
 
__d©a£t
è
__THROW
;

180 
	$ä“loÿË
 (
loÿË_t
 
__d©a£t
è
__THROW
;

187 
loÿË_t
 
	$u£loÿË
 (
loÿË_t
 
__d©a£t
è
__THROW
;

191 
	#LC_GLOBAL_LOCALE
 ((
loÿË_t
è-1L)

	)

195 
__END_DECLS


	@/usr/include/malloc.h

19 #iâdeà
_MALLOC_H


20 
	#_MALLOC_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<¡ddef.h
>

24 
	~<¡dio.h
>

26 #ifdeà
_LIBC


27 
	#__MALLOC_HOOK_VOLATILE


	)

28 
	#__MALLOC_DEPRECATED


	)

30 
	#__MALLOC_HOOK_VOLATILE
 vŞ©e

	)

31 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

35 
__BEGIN_DECLS


38 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

41 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

42 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

49 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

50 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

57 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

58 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

61 
	$ä“
 (*
__±r
è
__THROW
;

64 *
	$mem®ign
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

65 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

68 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

72 *
	$pv®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

76 *(*
__mÜecÜe
è(
±rdiff_t
 
__size
);

79 *
	$__deçuÉ_mÜecÜe
 (
±rdiff_t
 
__size
)

80 
__THROW
 
__©Œibu‹_m®loc__
;

84 
	sm®lšfo


86 
¬’a
;

87 
Üdblks
;

88 
smblks
;

89 
hblks
;

90 
hblkhd
;

91 
usmblks
;

92 
fsmblks
;

93 
uÜdblks
;

94 
fÜdblks
;

95 
k“pco¡
;

99 
m®lšfo
 
	$m®lšfo
 (è
__THROW
;

102 #iâdeà
M_MXFAST


103 
	#M_MXFAST
 1

	)

105 #iâdeà
M_NLBLKS


106 
	#M_NLBLKS
 2

	)

108 #iâdeà
M_GRAIN


109 
	#M_GRAIN
 3

	)

111 #iâdeà
M_KEEP


112 
	#M_KEEP
 4

	)

116 
	#M_TRIM_THRESHOLD
 -1

	)

117 
	#M_TOP_PAD
 -2

	)

118 
	#M_MMAP_THRESHOLD
 -3

	)

119 
	#M_MMAP_MAX
 -4

	)

120 
	#M_CHECK_ACTION
 -5

	)

121 
	#M_PERTURB
 -6

	)

122 
	#M_ARENA_TEST
 -7

	)

123 
	#M_ARENA_MAX
 -8

	)

126 
	$m®lİt
 (
__·¿m
, 
__v®
è
__THROW
;

130 
	$m®loc_Œim
 (
size_t
 
__·d
è
__THROW
;

134 
size_t
 
	$m®loc_u§bË_size
 (*
__±r
è
__THROW
;

137 
	$m®loc_¡©s
 (è
__THROW
;

140 
	$m®loc_šfo
 (
__İtiÚs
, 
FILE
 *
__å
è
__THROW
;

143 (*
__MALLOC_HOOK_VOLATILE
 
__ä“_hook
è(*
__±r
,

145 
__MALLOC_DEPRECATED
;

146 *(*
__MALLOC_HOOK_VOLATILE
 
__m®loc_hook
)(
size_t
 
__size
,

148 
__MALLOC_DEPRECATED
;

149 *(*
__MALLOC_HOOK_VOLATILE
 
__»®loc_hook
)(*
__±r
,

150 
size_t
 
__size
,

152 
__MALLOC_DEPRECATED
;

153 *(*
__MALLOC_HOOK_VOLATILE
 
__mem®ign_hook
)(
size_t
 
__®ignm’t
,

154 
size_t
 
__size
,

156 
__MALLOC_DEPRECATED
;

157 (*
__MALLOC_HOOK_VOLATILE
 
__aá”_mÜecÜe_hook
) ();

160 
	$__m®loc_check_š™
 (è
__THROW
 
__MALLOC_DEPRECATED
;

163 
__END_DECLS


	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 #ià
defšed
 
log
 && defšed 
__GNUC__


30 #w¬nšg 
A
 
maüo
 
ÿÎed
 
log
 
was
 
®»ady
 
defšed
 
wh’
 <
m©h
.
h
> wa 
šşuded
.

31 #w¬nšg 
This
 
wl
 
ÿu£
 
comp©iÚ
 
´obËms
.

34 
	g__BEGIN_DECLS


37 
	~<b™s/ty³s.h
>

40 
	~<b™s/m©h-veùÜ.h
>

43 
	~<b™s/æßŠ.h
>

47 #ià
__GNUC_PREREQ
 (3, 3)

48 
	#HUGE_VAL
 (
	`__butš_huge_v®
 ())

	)

55 
	#HUGE_VAL
 1e10000

	)

57 #ifdeà
__USE_ISOC99


58 #ià
__GNUC_PREREQ
 (3, 3)

59 
	#HUGE_VALF
 (
	`__butš_huge_v®f
 ())

	)

60 
	#HUGE_VALL
 (
	`__butš_huge_v®l
 ())

	)

62 
	#HUGE_VALF
 1e10000f

	)

63 
	#HUGE_VALL
 1e10000L

	)

66 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

67 
	#HUGE_VAL_F16
 (
	`__butš_huge_v®f16
 ())

	)

69 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

70 
	#HUGE_VAL_F32
 (
	`__butš_huge_v®f32
 ())

	)

72 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

73 
	#HUGE_VAL_F64
 (
	`__butš_huge_v®f64
 ())

	)

75 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

76 
	#HUGE_VAL_F128
 (
	`__butš_huge_v®f128
 ())

	)

78 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

79 
	#HUGE_VAL_F32X
 (
	`__butš_huge_v®f32x
 ())

	)

81 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

82 
	#HUGE_VAL_F64X
 (
	`__butš_huge_v®f64x
 ())

	)

84 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

85 
	#HUGE_VAL_F128X
 (
	`__butš_huge_v®f128x
 ())

	)

88 #ifdeà
__USE_ISOC99


90 #ià
__GNUC_PREREQ
 (3, 3)

91 
	#INFINITY
 (
	`__butš_šff
 ())

	)

93 
	#INFINITY
 
HUGE_VALF


	)

97 #ià
__GNUC_PREREQ
 (3, 3)

98 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

103 
	#NAN
 (0.0à/ 0.0f)

	)

107 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

109 #ià
__GNUC_PREREQ
 (3, 3)

110 
	#SNANF
 (
	`__butš_Çnsf
 (""))

	)

111 
	#SNAN
 (
	`__butš_Çns
 (""))

	)

112 
	#SNANL
 (
	`__butš_Çn¦
 (""))

	)

115 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

116 
	#SNANF16
 (
	`__butš_Çnsf16
 (""))

	)

118 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

119 
	#SNANF32
 (
	`__butš_Çnsf32
 (""))

	)

121 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

122 
	#SNANF64
 (
	`__butš_Çnsf64
 (""))

	)

124 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

125 
	#SNANF128
 (
	`__butš_Çnsf128
 (""))

	)

127 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

128 
	#SNANF32X
 (
	`__butš_Çnsf32x
 (""))

	)

130 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

131 
	#SNANF64X
 (
	`__butš_Çnsf64x
 (""))

	)

133 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
	#SNANF128X
 (
	`__butš_Çnsf128x
 (""))

	)

138 
	~<b™s/æt-ev®-m‘hod.h
>

140 #ifdeà
__USE_ISOC99


148 #ià
__GLIBC_FLT_EVAL_METHOD
 == 0 || __GLIBC_FLT_EVAL_METHOD == 16

149 
	tæßt_t
;

150 
	tdoubË_t
;

151 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 1

152 
	tæßt_t
;

153 
	tdoubË_t
;

154 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 2

155 
	tæßt_t
;

156 
	tdoubË_t
;

157 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 32

158 
_Flßt32
 
	tæßt_t
;

159 
	tdoubË_t
;

160 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 33

161 
_Flßt32x
 
	tæßt_t
;

162 
_Flßt32x
 
	tdoubË_t
;

163 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 64

164 
_Flßt64
 
	tæßt_t
;

165 
_Flßt64
 
	tdoubË_t
;

166 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 65

167 
_Flßt64x
 
	tæßt_t
;

168 
_Flßt64x
 
	tdoubË_t
;

169 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 128

170 
_Flßt128
 
	tæßt_t
;

171 
_Flßt128
 
	tdoubË_t
;

172 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 129

173 
_Flßt128x
 
	tæßt_t
;

174 
_Flßt128x
 
	tdoubË_t
;

190 
	~<b™s/å-logb.h
>

191 #ifdeà
__USE_ISOC99


192 #ià
__FP_LOGB0_IS_MIN


193 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

195 
	#FP_ILOGB0
 (-2147483647)

	)

197 #ià
__FP_LOGBNAN_IS_MIN


198 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

200 
	#FP_ILOGBNAN
 2147483647

	)

203 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

204 #ià
__WORDSIZE
 == 32

205 
	#__FP_LONG_MAX
 0x7fffffffL

	)

207 
	#__FP_LONG_MAX
 0x7fffffffffffffffL

	)

209 #ià
__FP_LOGB0_IS_MIN


210 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
 - 1)

	)

212 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
)

	)

214 #ià
__FP_LOGBNAN_IS_MIN


215 
	#FP_LLOGBNAN
 (-
__FP_LONG_MAX
 - 1)

	)

217 
	#FP_LLOGBNAN
 
__FP_LONG_MAX


	)

233 
	~<b™s/å-ç¡.h
>

235 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

239 
	mFP_INT_UPWARD
 =

240 
	#FP_INT_UPWARD
 0

	)

241 
FP_INT_UPWARD
,

242 
	mFP_INT_DOWNWARD
 =

243 
	#FP_INT_DOWNWARD
 1

	)

244 
FP_INT_DOWNWARD
,

245 
	mFP_INT_TOWARDZERO
 =

246 
	#FP_INT_TOWARDZERO
 2

	)

247 
FP_INT_TOWARDZERO
,

248 
	mFP_INT_TONEARESTFROMZERO
 =

249 
	#FP_INT_TONEARESTFROMZERO
 3

	)

250 
FP_INT_TONEARESTFROMZERO
,

251 
	mFP_INT_TONEAREST
 =

252 
	#FP_INT_TONEAREST
 4

	)

253 
FP_INT_TONEAREST
,

262 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

264 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

265 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

266 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

268 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

269 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

270 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

272 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

273 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

274 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

275 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

276 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

277 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

278 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

279 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

280 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

281 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

282 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

283 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

285 
	#_MdoubË_
 

	)

286 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

287 
	#__MATH_DECLARING_DOUBLE
 1

	)

288 
	#__MATH_DECLARING_FLOATN
 0

	)

289 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

290 
	~<b™s/m©hÿÎs.h
>

291 #undeà
_MdoubË_


292 #undeà
__MATH_PRECNAME


293 #undeà
__MATH_DECLARING_DOUBLE


294 #undeà
__MATH_DECLARING_FLOATN


296 #ifdeà
__USE_ISOC99


302 
	#_MdoubË_
 

	)

303 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

304 
	#__MATH_DECLARING_DOUBLE
 0

	)

305 
	#__MATH_DECLARING_FLOATN
 0

	)

306 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

307 
	~<b™s/m©hÿÎs.h
>

308 #undeà
_MdoubË_


309 #undeà
__MATH_PRECNAME


310 #undeà
__MATH_DECLARING_DOUBLE


311 #undeà
__MATH_DECLARING_FLOATN


313 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

314 || 
defšed
 
__LDBL_COMPAT
 \

315 || 
defšed
 
_LIBC_TEST


316 #ifdeà
__LDBL_COMPAT


318 #ifdeà
__USE_ISOC99


319 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

320 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

321 #ifdeà
__REDIRECT_NTH


322 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

323 
__Ædbl_Ãx‰ow¬df
)

324 
	`__©Œibu‹__
 ((
__cÚ¡__
));

325 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

326 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

327 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

328 (
__x
, 
__y
),

329 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

333 #undeà
__MATHDECL_1


334 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

335 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

336 
¬gs
, 
®Ÿs
)

	)

337 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

338 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

344 
	#_MdoubË_
 

	)

345 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

346 
	#__MATH_DECLARING_DOUBLE
 0

	)

347 
	#__MATH_DECLARING_FLOATN
 0

	)

348 
	#__MATH_DECLARE_LDOUBLE
 1

	)

349 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

350 
	~<b™s/m©hÿÎs.h
>

351 #undeà
_MdoubË_


352 #undeà
__MATH_PRECNAME


353 #undeà
__MATH_DECLARING_DOUBLE


354 #undeà
__MATH_DECLARING_FLOATN


363 #ià
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)

364 
	#_MdoubË_
 
_Flßt16


	)

365 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f16
##
	)
r

366 
	#__MATH_DECLARING_DOUBLE
 0

	)

367 
	#__MATH_DECLARING_FLOATN
 1

	)

368 #ià
__HAVE_DISTINCT_FLOAT16


369 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

371 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

372 
	~<b™s/m©hÿÎs.h
>

374 #undeà
_MdoubË_


375 #undeà
__MATH_PRECNAME


376 #undeà
__MATH_DECLARING_DOUBLE


377 #undeà
__MATH_DECLARING_FLOATN


380 #ià
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)

381 
	#_MdoubË_
 
_Flßt32


	)

382 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32
##
	)
r

383 
	#__MATH_DECLARING_DOUBLE
 0

	)

384 
	#__MATH_DECLARING_FLOATN
 1

	)

385 #ià
__HAVE_DISTINCT_FLOAT32


386 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

388 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

389 
	~<b™s/m©hÿÎs.h
>

391 #undeà
_MdoubË_


392 #undeà
__MATH_PRECNAME


393 #undeà
__MATH_DECLARING_DOUBLE


394 #undeà
__MATH_DECLARING_FLOATN


397 #ià
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)

398 
	#_MdoubË_
 
_Flßt64


	)

399 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64
##
	)
r

400 
	#__MATH_DECLARING_DOUBLE
 0

	)

401 
	#__MATH_DECLARING_FLOATN
 1

	)

402 #ià
__HAVE_DISTINCT_FLOAT64


403 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

405 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

406 
	~<b™s/m©hÿÎs.h
>

408 #undeà
_MdoubË_


409 #undeà
__MATH_PRECNAME


410 #undeà
__MATH_DECLARING_DOUBLE


411 #undeà
__MATH_DECLARING_FLOATN


414 #ià
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)

415 
	#_MdoubË_
 
_Flßt128


	)

416 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128
##
	)
r

417 
	#__MATH_DECLARING_DOUBLE
 0

	)

418 
	#__MATH_DECLARING_FLOATN
 1

	)

419 #ià
__HAVE_DISTINCT_FLOAT128


420 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

422 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

423 
	~<b™s/m©hÿÎs.h
>

425 #undeà
_MdoubË_


426 #undeà
__MATH_PRECNAME


427 #undeà
__MATH_DECLARING_DOUBLE


428 #undeà
__MATH_DECLARING_FLOATN


431 #ià
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)

432 
	#_MdoubË_
 
_Flßt32x


	)

433 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32x
##
	)
r

434 
	#__MATH_DECLARING_DOUBLE
 0

	)

435 
	#__MATH_DECLARING_FLOATN
 1

	)

436 #ià
__HAVE_DISTINCT_FLOAT32X


437 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

439 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

440 
	~<b™s/m©hÿÎs.h
>

442 #undeà
_MdoubË_


443 #undeà
__MATH_PRECNAME


444 #undeà
__MATH_DECLARING_DOUBLE


445 #undeà
__MATH_DECLARING_FLOATN


448 #ià
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)

449 
	#_MdoubË_
 
_Flßt64x


	)

450 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64x
##
	)
r

451 
	#__MATH_DECLARING_DOUBLE
 0

	)

452 
	#__MATH_DECLARING_FLOATN
 1

	)

453 #ià
__HAVE_DISTINCT_FLOAT64X


454 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

456 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

457 
	~<b™s/m©hÿÎs.h
>

459 #undeà
_MdoubË_


460 #undeà
__MATH_PRECNAME


461 #undeà
__MATH_DECLARING_DOUBLE


462 #undeà
__MATH_DECLARING_FLOATN


465 #ià
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)

466 
	#_MdoubË_
 
_Flßt128x


	)

467 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128x
##
	)
r

468 
	#__MATH_DECLARING_DOUBLE
 0

	)

469 
	#__MATH_DECLARING_FLOATN
 1

	)

470 #ià
__HAVE_DISTINCT_FLOAT128X


471 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

473 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

474 
	~<b™s/m©hÿÎs.h
>

476 #undeà
_MdoubË_


477 #undeà
__MATH_PRECNAME


478 #undeà
__MATH_DECLARING_DOUBLE


479 #undeà
__MATH_DECLARING_FLOATN


482 #undeà
__MATHDECL_1


483 #undeà
__MATHDECL


484 #undeà
__MATHCALL


487 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


489 
signgam
;

492 #ià(
__HAVE_DISTINCT_FLOAT16
 \

493 || 
__HAVE_DISTINCT_FLOAT32
 \

494 || 
__HAVE_DISTINCT_FLOAT64
 \

495 || 
__HAVE_DISTINCT_FLOAT32X
 \

496 || 
__HAVE_DISTINCT_FLOAT64X
 \

497 || 
__HAVE_DISTINCT_FLOAT128X
)

510 #ifdeà
__NO_LONG_DOUBLE_MATH


511 #ià
__HAVE_DISTINCT_FLOAT128


514 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

515 ( (
TG_ARG
è=ğ (è? 
FUNC
 ## 
f
 
ARGS
 : FUNC ARGS)

	)

516 #–ià
__HAVE_DISTINCT_FLOAT128


517 #ià
__HAVE_GENERIC_SELECTION


518 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT32


519 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
è
_Flßt32
: FUNC ## 
f
 ARGS,

	)

521 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
)

	)

523 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT64X


524 #ià
__HAVE_FLOAT64X_LONG_DOUBLE


525 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
l
 ARGS,

	)

527 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
f128
 ARGS,

	)

530 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
)

	)

532 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

533 
	`_G’”ic
 ((
TG_ARG
), \

534 : 
FUNC
 ## 
f
 
ARGS
, \

535 
	`__MATH_TG_F32
 (
FUNC
, 
ARGS
) \

536 : 
FUNC
 
ARGS
, \

537 : 
FUNC
 ## 
l
 
ARGS
, \

538 
	`__MATH_TG_F64X
 (
FUNC
, 
ARGS
) \

539 
_Flßt128
: 
FUNC
 ## 
f128
 
ARGS
)

	)

541 #ià
__HAVE_FLOATN_NOT_TYPEDEF


544 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

545 
__butš_choo£_ex´
 \

546 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

547 
FUNC
 ## 
f
 
ARGS
, \

548 
__butš_choo£_ex´
 \

549 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

550 
FUNC
 
ARGS
, \

551 
__butš_choo£_ex´
 \

552 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

553 
FUNC
 ## 
l
 
ARGS
, \

554 
FUNC
 ## 
f128
 
ARGS
)))

	)

557 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

558 ( (
TG_ARG
) ==  () \

559 ? 
FUNC
 ## 
f
 
ARGS
 \

560 :  (
TG_ARG
) ==  () \

561 ? 
FUNC
 
ARGS
 \

562 : 
FUNC
 ## 
l
 
ARGS
)

	)

566 #ifdeà
__USE_ISOC99


571 
FP_NAN
 =

572 
	#FP_NAN
 0

	)

573 
FP_NAN
,

574 
FP_INFINITE
 =

575 
	#FP_INFINITE
 1

	)

576 
FP_INFINITE
,

577 
FP_ZERO
 =

578 
	#FP_ZERO
 2

	)

579 
FP_ZERO
,

580 
FP_SUBNORMAL
 =

581 
	#FP_SUBNORMAL
 3

	)

582 
FP_SUBNORMAL
,

583 
FP_NORMAL
 =

584 
	#FP_NORMAL
 4

	)

585 
FP_NORMAL


593 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

594 && (!
defšed
 
__OPTIMIZE_SIZE__
 || defšed 
__ılu¥lus
)

601 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

602 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

604 
	#åşassify
(
x
è
	`__MATH_TG
 ((x), 
__åşassify
, (x))

	)

608 #ià
	`__GNUC_PREREQ
 (6,0)

609 
	#signb™
(
x
è
	`__butš_signb™
 (x)

	)

610 #–ià
defšed
 
__ılu¥lus


618 
	#signb™
(
x
è
	`__butš_signb™l
 (x)

	)

619 #–ià
	`__GNUC_PREREQ
 (4,0)

620 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__butš_signb™
, (x))

	)

622 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__signb™
, (x))

	)

626 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


627 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

629 
	#isfš™e
(
x
è
	`__MATH_TG
 ((x), 
__fš™e
, (x))

	)

633 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


634 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

636 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

641 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


642 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

644 
	#i¢ª
(
x
è
	`__MATH_TG
 ((x), 
__i¢ª
, (x))

	)

648 #ià
__HAVE_DISTINCT_FLOAT128
 && !
	`__GNUC_PREREQ
 (7,0) \

649 && !
defšed
 
__SUPPORT_SNAN__
 && !defšed 
__ılu¥lus


655 
	#isšf
(
x
) \

656 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
x
), 
_Flßt128
) \

657 ? 
	`__isšff128
 (
x
è: 
	`__butš_isšf_sign
 (x))

	)

658 #–ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


659 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

661 
	#isšf
(
x
è
	`__MATH_TG
 ((x), 
__isšf
, (x))

	)

665 
	#MATH_ERRNO
 1

	)

666 
	#MATH_ERREXCEPT
 2

	)

673 #ifdeà
__FAST_MATH__


674 
	#m©h_”rhªdlšg
 0

	)

675 #–ià
defšed
 
__NO_MATH_ERRNO__


676 
	#m©h_”rhªdlšg
 (
MATH_ERREXCEPT
)

	)

678 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

683 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

684 
	~<b™s/isÿnÚiÿl.h
>

687 #iâdeà
__ılu¥lus


688 
	#issigÇlšg
(
x
è
	`__MATH_TG
 ((x), 
__issigÇlšg
, (x))

	)

697 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšgf
 (__val); }

698 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšg
 (__val); }

699 
šlše
 

700 
	`issigÇlšg
 (
__v®
)

702 #ifdeà
__NO_LONG_DOUBLE_MATH


703  
	`__issigÇlšg
 (
__v®
);

705  
	`__issigÇlšgl
 (
__v®
);

708 #ià
__HAVE_DISTINCT_FLOAT128


709 
šlše
 
	`issigÇlšg
 (
_Flßt128
 
__v®
è{  
	`__issigÇlšgf128
 (__val); }

711 
	}
}

715 
	#issubnÜm®
(
x
è(
	`åşassify
 (xè=ğ
FP_SUBNORMAL
)

	)

718 #iâdeà
__ılu¥lus


719 #ifdeà
__SUPPORT_SNAN__


720 
	#isz”o
(
x
è(
	`åşassify
 (xè=ğ
FP_ZERO
)

	)

722 
	#isz”o
(
x
è(((
	`__ty³of
 (x)è(x)è=ğ0)

	)

726 #ifdeà
__SUPPORT_SNAN__


727 
šlše
 

728 
isz”o
 (
__v®
)

730  
__åşassifyf
 (
__v®
è=ğ
FP_ZERO
;

732 
šlše
 

733 
isz”o
 (
__v®
)

735  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

737 
šlše
 

738 
isz”o
 (
__v®
)

740 #ifdeà
__NO_LONG_DOUBLE_MATH


741  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

743  
__åşassifyl
 (
__v®
è=ğ
FP_ZERO
;

746 #ià
__HAVE_DISTINCT_FLOAT128


747 
šlše
 

748 
isz”o
 (
_Flßt128
 
__v®
)

750  
__åşassifyf128
 (
__v®
è=ğ
FP_ZERO
;

754 
‹m¶©e
 <
şass
 
__T
> 
šlše
 
boŞ


755 
isz”o
 (
__T
 
__v®
)

757  
__v®
 == 0;

764 #ifdeà
__USE_XOPEN


766 
	#MAXFLOAT
 3.40282347e+38F

	)

771 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


772 
	#M_E
 2.7182818284590452354

	)

773 
	#M_LOG2E
 1.4426950408889634074

	)

774 
	#M_LOG10E
 0.43429448190325182765

	)

775 
	#M_LN2
 0.69314718055994530942

	)

776 
	#M_LN10
 2.30258509299404568402

	)

777 
	#M_PI
 3.14159265358979323846

	)

778 
	#M_PI_2
 1.57079632679489661923

	)

779 
	#M_PI_4
 0.78539816339744830962

	)

780 
	#M_1_PI
 0.31830988618379067154

	)

781 
	#M_2_PI
 0.63661977236758134308

	)

782 
	#M_2_SQRTPI
 1.12837916709551257390

	)

783 
	#M_SQRT2
 1.41421356237309504880

	)

784 
	#M_SQRT1_2
 0.70710678118654752440

	)

790 #ifdeà
__USE_GNU


791 
	#M_El
 2.718281828459045235360287471352662498L

	)

792 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

793 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

794 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

795 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

796 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

797 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

798 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

799 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

800 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

801 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

802 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

803 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

806 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


807 
	#M_Ef16
 
	`__f16
 (2.718281828459045235360287471352662498è

	)

808 
	#M_LOG2Ef16
 
	`__f16
 (1.442695040888963407359924681001892137è

	)

809 
	#M_LOG10Ef16
 
	`__f16
 (0.434294481903251827651128918916605082è

	)

810 
	#M_LN2f16
 
	`__f16
 (0.693147180559945309417232121458176568è

	)

811 
	#M_LN10f16
 
	`__f16
 (2.302585092994045684017991454684364208è

	)

812 
	#M_PIf16
 
	`__f16
 (3.141592653589793238462643383279502884è

	)

813 
	#M_PI_2f16
 
	`__f16
 (1.570796326794896619231321691639751442è

	)

814 
	#M_PI_4f16
 
	`__f16
 (0.785398163397448309615660845819875721è

	)

815 
	#M_1_PIf16
 
	`__f16
 (0.318309886183790671537767526745028724è

	)

816 
	#M_2_PIf16
 
	`__f16
 (0.636619772367581343075535053490057448è

	)

817 
	#M_2_SQRTPIf16
 
	`__f16
 (1.128379167095512573896158903121545172è

	)

818 
	#M_SQRT2f16
 
	`__f16
 (1.414213562373095048801688724209698079è

	)

819 
	#M_SQRT1_2f16
 
	`__f16
 (0.707106781186547524400844362104849039è

	)

822 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


823 
	#M_Ef32
 
	`__f32
 (2.718281828459045235360287471352662498è

	)

824 
	#M_LOG2Ef32
 
	`__f32
 (1.442695040888963407359924681001892137è

	)

825 
	#M_LOG10Ef32
 
	`__f32
 (0.434294481903251827651128918916605082è

	)

826 
	#M_LN2f32
 
	`__f32
 (0.693147180559945309417232121458176568è

	)

827 
	#M_LN10f32
 
	`__f32
 (2.302585092994045684017991454684364208è

	)

828 
	#M_PIf32
 
	`__f32
 (3.141592653589793238462643383279502884è

	)

829 
	#M_PI_2f32
 
	`__f32
 (1.570796326794896619231321691639751442è

	)

830 
	#M_PI_4f32
 
	`__f32
 (0.785398163397448309615660845819875721è

	)

831 
	#M_1_PIf32
 
	`__f32
 (0.318309886183790671537767526745028724è

	)

832 
	#M_2_PIf32
 
	`__f32
 (0.636619772367581343075535053490057448è

	)

833 
	#M_2_SQRTPIf32
 
	`__f32
 (1.128379167095512573896158903121545172è

	)

834 
	#M_SQRT2f32
 
	`__f32
 (1.414213562373095048801688724209698079è

	)

835 
	#M_SQRT1_2f32
 
	`__f32
 (0.707106781186547524400844362104849039è

	)

838 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


839 
	#M_Ef64
 
	`__f64
 (2.718281828459045235360287471352662498è

	)

840 
	#M_LOG2Ef64
 
	`__f64
 (1.442695040888963407359924681001892137è

	)

841 
	#M_LOG10Ef64
 
	`__f64
 (0.434294481903251827651128918916605082è

	)

842 
	#M_LN2f64
 
	`__f64
 (0.693147180559945309417232121458176568è

	)

843 
	#M_LN10f64
 
	`__f64
 (2.302585092994045684017991454684364208è

	)

844 
	#M_PIf64
 
	`__f64
 (3.141592653589793238462643383279502884è

	)

845 
	#M_PI_2f64
 
	`__f64
 (1.570796326794896619231321691639751442è

	)

846 
	#M_PI_4f64
 
	`__f64
 (0.785398163397448309615660845819875721è

	)

847 
	#M_1_PIf64
 
	`__f64
 (0.318309886183790671537767526745028724è

	)

848 
	#M_2_PIf64
 
	`__f64
 (0.636619772367581343075535053490057448è

	)

849 
	#M_2_SQRTPIf64
 
	`__f64
 (1.128379167095512573896158903121545172è

	)

850 
	#M_SQRT2f64
 
	`__f64
 (1.414213562373095048801688724209698079è

	)

851 
	#M_SQRT1_2f64
 
	`__f64
 (0.707106781186547524400844362104849039è

	)

854 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


855 
	#M_Ef128
 
	`__f128
 (2.718281828459045235360287471352662498è

	)

856 
	#M_LOG2Ef128
 
	`__f128
 (1.442695040888963407359924681001892137è

	)

857 
	#M_LOG10Ef128
 
	`__f128
 (0.434294481903251827651128918916605082è

	)

858 
	#M_LN2f128
 
	`__f128
 (0.693147180559945309417232121458176568è

	)

859 
	#M_LN10f128
 
	`__f128
 (2.302585092994045684017991454684364208è

	)

860 
	#M_PIf128
 
	`__f128
 (3.141592653589793238462643383279502884è

	)

861 
	#M_PI_2f128
 
	`__f128
 (1.570796326794896619231321691639751442è

	)

862 
	#M_PI_4f128
 
	`__f128
 (0.785398163397448309615660845819875721è

	)

863 
	#M_1_PIf128
 
	`__f128
 (0.318309886183790671537767526745028724è

	)

864 
	#M_2_PIf128
 
	`__f128
 (0.636619772367581343075535053490057448è

	)

865 
	#M_2_SQRTPIf128
 
	`__f128
 (1.128379167095512573896158903121545172è

	)

866 
	#M_SQRT2f128
 
	`__f128
 (1.414213562373095048801688724209698079è

	)

867 
	#M_SQRT1_2f128
 
	`__f128
 (0.707106781186547524400844362104849039è

	)

870 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


871 
	#M_Ef32x
 
	`__f32x
 (2.718281828459045235360287471352662498è

	)

872 
	#M_LOG2Ef32x
 
	`__f32x
 (1.442695040888963407359924681001892137è

	)

873 
	#M_LOG10Ef32x
 
	`__f32x
 (0.434294481903251827651128918916605082è

	)

874 
	#M_LN2f32x
 
	`__f32x
 (0.693147180559945309417232121458176568è

	)

875 
	#M_LN10f32x
 
	`__f32x
 (2.302585092994045684017991454684364208è

	)

876 
	#M_PIf32x
 
	`__f32x
 (3.141592653589793238462643383279502884è

	)

877 
	#M_PI_2f32x
 
	`__f32x
 (1.570796326794896619231321691639751442è

	)

878 
	#M_PI_4f32x
 
	`__f32x
 (0.785398163397448309615660845819875721è

	)

879 
	#M_1_PIf32x
 
	`__f32x
 (0.318309886183790671537767526745028724è

	)

880 
	#M_2_PIf32x
 
	`__f32x
 (0.636619772367581343075535053490057448è

	)

881 
	#M_2_SQRTPIf32x
 
	`__f32x
 (1.128379167095512573896158903121545172è

	)

882 
	#M_SQRT2f32x
 
	`__f32x
 (1.414213562373095048801688724209698079è

	)

883 
	#M_SQRT1_2f32x
 
	`__f32x
 (0.707106781186547524400844362104849039è

	)

886 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


887 
	#M_Ef64x
 
	`__f64x
 (2.718281828459045235360287471352662498è

	)

888 
	#M_LOG2Ef64x
 
	`__f64x
 (1.442695040888963407359924681001892137è

	)

889 
	#M_LOG10Ef64x
 
	`__f64x
 (0.434294481903251827651128918916605082è

	)

890 
	#M_LN2f64x
 
	`__f64x
 (0.693147180559945309417232121458176568è

	)

891 
	#M_LN10f64x
 
	`__f64x
 (2.302585092994045684017991454684364208è

	)

892 
	#M_PIf64x
 
	`__f64x
 (3.141592653589793238462643383279502884è

	)

893 
	#M_PI_2f64x
 
	`__f64x
 (1.570796326794896619231321691639751442è

	)

894 
	#M_PI_4f64x
 
	`__f64x
 (0.785398163397448309615660845819875721è

	)

895 
	#M_1_PIf64x
 
	`__f64x
 (0.318309886183790671537767526745028724è

	)

896 
	#M_2_PIf64x
 
	`__f64x
 (0.636619772367581343075535053490057448è

	)

897 
	#M_2_SQRTPIf64x
 
	`__f64x
 (1.128379167095512573896158903121545172è

	)

898 
	#M_SQRT2f64x
 
	`__f64x
 (1.414213562373095048801688724209698079è

	)

899 
	#M_SQRT1_2f64x
 
	`__f64x
 (0.707106781186547524400844362104849039è

	)

902 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


909 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


910 
	#__NO_MATH_INLINES
 1

	)

913 #ifdeà
__USE_ISOC99


914 #ià
__GNUC_PREREQ
 (3, 1)

921 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

922 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

923 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

924 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

925 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

926 
	#isunÜd”ed
(
x
, 
y
è
	`__butš_isunÜd”ed
(x, y)

	)

928 
	#isg»©”
(
x
, 
y
) \

929 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

930 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; }))

	)

931 
	#isg»©”equ®
(
x
, 
y
) \

932 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

933 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

934 
	#i¦ess
(
x
, 
y
) \

935 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

936 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

937 
	#i¦es£qu®
(
x
, 
y
) \

938 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

939 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

940 
	#i¦essg»©”
(
x
, 
y
) \

941 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

942 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x !ğ__y; }))

	)

944 
	#isunÜd”ed
(
x
, 
y
) \

945 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__u
 = (x); __ty³of__ (
y
è
__v
 = (y); \

946 
__u
 !ğ
__v
 && (__u !ğ__u || __v !ğ__v); }))

	)

951 #ifdeà
__USE_EXTERN_INLINES


952 
	~<b™s/m©hšlše.h
>

957 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

960 
	#_MdoubË_
 

	)

961 
	#__MATH_DECLARING_DOUBLE
 1

	)

962 
	#__MATH_DECLARING_FLOATN
 0

	)

963 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

964 
funùiÚ
 ## 
»’Œªt


	)

965 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

966 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

967 
	~<b™s/m©h-fš™e.h
>

968 #undeà
_MdoubË_


969 #undeà
__MATH_DECLARING_DOUBLE


970 #undeà
__MATH_DECLARING_FLOATN


971 #undeà
__REDIRFROM_X


972 #undeà
__REDIRTO_X


976 #ifdeà
__USE_ISOC99


979 
	#_MdoubË_
 

	)

980 
	#__MATH_DECLARING_DOUBLE
 0

	)

981 
	#__MATH_DECLARING_FLOATN
 0

	)

982 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

983 
funùiÚ
 ## 
f
 ## 
»’Œªt


	)

984 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

985 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

986 
	~<b™s/m©h-fš™e.h
>

987 #undeà
_MdoubË_


988 #undeà
__MATH_DECLARING_DOUBLE


989 #undeà
__MATH_DECLARING_FLOATN


990 #undeà
__REDIRFROM_X


991 #undeà
__REDIRTO_X


994 #ifdeà
__MATH_DECLARE_LDOUBLE


995 
	#_MdoubË_
 

	)

996 
	#__MATH_DECLARING_DOUBLE
 0

	)

997 
	#__MATH_DECLARING_FLOATN
 0

	)

998 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

999 
funùiÚ
 ## 
l
 ## 
»’Œªt


	)

1000 #ifdeà
__NO_LONG_DOUBLE_MATH


1001 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1002 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1004 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1005 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1007 
	~<b™s/m©h-fš™e.h
>

1008 #undeà
_MdoubË_


1009 #undeà
__MATH_DECLARING_DOUBLE


1010 #undeà
__MATH_DECLARING_FLOATN


1011 #undeà
__REDIRFROM_X


1012 #undeà
__REDIRTO_X


1019 #ià(
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)) \

1020 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1021 
	#_MdoubË_
 
_Flßt16


	)

1022 
	#__MATH_DECLARING_DOUBLE
 0

	)

1023 
	#__MATH_DECLARING_FLOATN
 1

	)

1024 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1025 
funùiÚ
 ## 
f16
 ## 
»’Œªt


	)

1026 #ià
__HAVE_DISTINCT_FLOAT16


1027 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1028 
__
 ## 
funùiÚ
 ## 
f16
 ## 
»’Œªt
 ## 
_fš™e


	)

1032 
	~<b™s/m©h-fš™e.h
>

1033 #undeà
_MdoubË_


1034 #undeà
__MATH_DECLARING_DOUBLE


1035 #undeà
__MATH_DECLARING_FLOATN


1036 #undeà
__REDIRFROM_X


1037 #undeà
__REDIRTO_X


1040 #ià(
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)) \

1041 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1042 
	#_MdoubË_
 
_Flßt32


	)

1043 
	#__MATH_DECLARING_DOUBLE
 0

	)

1044 
	#__MATH_DECLARING_FLOATN
 1

	)

1045 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1046 
funùiÚ
 ## 
f32
 ## 
»’Œªt


	)

1047 #ià
__HAVE_DISTINCT_FLOAT32


1048 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1049 
__
 ## 
funùiÚ
 ## 
f32
 ## 
»’Œªt
 ## 
_fš™e


	)

1051 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1052 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

1054 
	~<b™s/m©h-fš™e.h
>

1055 #undeà
_MdoubË_


1056 #undeà
__MATH_DECLARING_DOUBLE


1057 #undeà
__MATH_DECLARING_FLOATN


1058 #undeà
__REDIRFROM_X


1059 #undeà
__REDIRTO_X


1062 #ià(
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)) \

1063 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1064 
	#_MdoubË_
 
_Flßt64


	)

1065 
	#__MATH_DECLARING_DOUBLE
 0

	)

1066 
	#__MATH_DECLARING_FLOATN
 1

	)

1067 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1068 
funùiÚ
 ## 
f64
 ## 
»’Œªt


	)

1069 #ià
__HAVE_DISTINCT_FLOAT64


1070 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1071 
__
 ## 
funùiÚ
 ## 
f64
 ## 
»’Œªt
 ## 
_fš™e


	)

1073 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1074 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1076 
	~<b™s/m©h-fš™e.h
>

1077 #undeà
_MdoubË_


1078 #undeà
__MATH_DECLARING_DOUBLE


1079 #undeà
__MATH_DECLARING_FLOATN


1080 #undeà
__REDIRFROM_X


1081 #undeà
__REDIRTO_X


1084 #ià(
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)) \

1085 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1086 
	#_MdoubË_
 
_Flßt128


	)

1087 
	#__MATH_DECLARING_DOUBLE
 0

	)

1088 
	#__MATH_DECLARING_FLOATN
 1

	)

1089 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1090 
funùiÚ
 ## 
f128
 ## 
»’Œªt


	)

1091 #ià
__HAVE_DISTINCT_FLOAT128


1092 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1093 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1095 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1096 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1098 
	~<b™s/m©h-fš™e.h
>

1099 #undeà
_MdoubË_


1100 #undeà
__MATH_DECLARING_DOUBLE


1101 #undeà
__MATH_DECLARING_FLOATN


1102 #undeà
__REDIRFROM_X


1103 #undeà
__REDIRTO_X


1106 #ià(
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)) \

1107 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1108 
	#_MdoubË_
 
_Flßt32x


	)

1109 
	#__MATH_DECLARING_DOUBLE
 0

	)

1110 
	#__MATH_DECLARING_FLOATN
 1

	)

1111 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1112 
funùiÚ
 ## 
f32x
 ## 
»’Œªt


	)

1113 #ià
__HAVE_DISTINCT_FLOAT32X


1114 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1115 
__
 ## 
funùiÚ
 ## 
f32x
 ## 
»’Œªt
 ## 
_fš™e


	)

1117 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1118 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1120 
	~<b™s/m©h-fš™e.h
>

1121 #undeà
_MdoubË_


1122 #undeà
__MATH_DECLARING_DOUBLE


1123 #undeà
__MATH_DECLARING_FLOATN


1124 #undeà
__REDIRFROM_X


1125 #undeà
__REDIRTO_X


1128 #ià(
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)) \

1129 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1130 
	#_MdoubË_
 
_Flßt64x


	)

1131 
	#__MATH_DECLARING_DOUBLE
 0

	)

1132 
	#__MATH_DECLARING_FLOATN
 1

	)

1133 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1134 
funùiÚ
 ## 
f64x
 ## 
»’Œªt


	)

1135 #ià
__HAVE_DISTINCT_FLOAT64X


1136 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1137 
__
 ## 
funùiÚ
 ## 
f64x
 ## 
»’Œªt
 ## 
_fš™e


	)

1138 #–ià
__HAVE_FLOAT64X_LONG_DOUBLE


1139 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1140 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1142 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1143 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1145 
	~<b™s/m©h-fš™e.h
>

1146 #undeà
_MdoubË_


1147 #undeà
__MATH_DECLARING_DOUBLE


1148 #undeà
__MATH_DECLARING_FLOATN


1149 #undeà
__REDIRFROM_X


1150 #undeà
__REDIRTO_X


1153 #ià(
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)) \

1154 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1155 
	#_MdoubË_
 
_Flßt128x


	)

1156 
	#__MATH_DECLARING_DOUBLE
 0

	)

1157 
	#__MATH_DECLARING_FLOATN
 1

	)

1158 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1159 
funùiÚ
 ## 
f128x
 ## 
»’Œªt


	)

1160 #ià
__HAVE_DISTINCT_FLOAT128X


1161 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1162 
__
 ## 
funùiÚ
 ## 
f128x
 ## 
»’Œªt
 ## 
_fš™e


	)

1166 
	~<b™s/m©h-fš™e.h
>

1167 #undeà
_MdoubË_


1168 #undeà
__MATH_DECLARING_DOUBLE


1169 #undeà
__MATH_DECLARING_FLOATN


1170 #undeà
__REDIRFROM_X


1171 #undeà
__REDIRTO_X


1176 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

1179 #ià
__FLT_EVAL_METHOD__
 == 2 || __FLT_EVAL_METHOD__ > 64

1180 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0L)

	)

1181 #–ià
__FLT_EVAL_METHOD__
 == 1 || __FLT_EVAL_METHOD__ > 32

1182 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0)

	)

1183 #–ià
__FLT_EVAL_METHOD__
 == 0 || __FLT_EVAL_METHOD__ == 32

1184 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0f)

	)

1186 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (y))

	)

1191 #ià!
defšed
 
__ılu¥lus
 || (__ılu¥lu < 201103L && !defšed 
__GNUC__
)

1192 
	#i£qsig
(
x
, 
y
) \

1193 
	`__MATH_TG
 (
	`__MATH_EVAL_FMT2
 (
x
, 
y
), 
__i£qsig
, ((x), (y)))

	)

1206 
‹m¶©e
<
ty³Çme
> 
__i£qsig_ty³
;

1208 
‹m¶©e
<> 
__i£qsig_ty³
<>

1210 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1212  
	`__i£qsigf
 (
__x
, 
__y
);

1216 
‹m¶©e
<> 
__i£qsig_ty³
<>

1218 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1220  
	`__i£qsig
 (
__x
, 
__y
);

1224 
‹m¶©e
<> 
__i£qsig_ty³
<>

1226 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1228 #iâdeà
__NO_LONG_DOUBLE_MATH


1229  
	`__i£qsigl
 (
__x
, 
__y
);

1231  
	`__i£qsig
 (
__x
, 
__y
);

1236 #ià
__HAVE_DISTINCT_FLOAT128


1237 
‹m¶©e
<> 
__i£qsig_ty³
<
_Flßt128
>

1239 
	`__ÿÎ
 (
_Flßt128
 
__x
, _Flßt128 
__y
è
	`throw
 ()

1241  
	`__i£qsigf128
 (
__x
, 
__y
);

1246 
‹m¶©e
<
ty³Çme
 
_T1
,y³Çm
_T2
>

1247 
šlše
 

1248 
	`i£qsig
 (
_T1
 
__x
, 
_T2
 
__y
è
	`throw
 ()

1250 #ià
__ılu¥lus
 >= 201103L

1251 
	`deşty³
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1253 
	`__ty³of
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1255  
__i£qsig_ty³
<
_T3
>::
	`__ÿÎ
 (
__x
, 
__y
);

1258 
	}
}

1263 
__END_DECLS


	@/usr/include/nl_types.h

18 #iâdeà
_NL_TYPES_H


19 
	#_NL_TYPES_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	#NL_SETD
 1

	)

27 
	#NL_CAT_LOCALE
 1

	)

30 
__BEGIN_DECLS


33 *
	tÆ_ÿtd
;

36 
	tÆ_™em
;

42 
Æ_ÿtd
 
	$ÿtİ’
 (cÚ¡ *
__ÿt_Çme
, 
__æag
è
	`__nÚnuÎ
 ((1));

46 *
	$ÿtg‘s
 (
Æ_ÿtd
 
__ÿlog
, 
__£t
, 
__numb”
,

47 cÚ¡ *
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

50 
	$ÿtşo£
 (
Æ_ÿtd
 
__ÿlog
è
__THROW
 
	`__nÚnuÎ
 ((1));

52 
__END_DECLS


	@/usr/include/omp.h

16 #iâdeà
__OMP_H


17 
	#__OMP_H


	)

19 
	#KMP_VERSION_MAJOR
 5

	)

20 
	#KMP_VERSION_MINOR
 0

	)

21 
	#KMP_VERSION_BUILD
 20140926

	)

22 
	#KMP_BUILD_DATE
 "No_Time¡amp"

	)

24 #ifdeà
__ılu¥lus


28 #ià
defšed
(
_WIN32
)

29 
	#__KAI_KMPC_CONVENTION
 
__cdeş


	)

31 
	#__KAI_KMPC_CONVENTION


	)

35 
	eomp_sched_t
 {

36 
omp_sched_¡©ic
 = 1,

37 
omp_sched_dyÇmic
 = 2,

38 
omp_sched_guided
 = 3,

39 
omp_sched_auto
 = 4

40 } 
	tomp_sched_t
;

43 
__KAI_KMPC_CONVENTION
 
omp_£t_num_th»ads
 ();

44 
__KAI_KMPC_CONVENTION
 
omp_£t_dyÇmic
 ();

45 
__KAI_KMPC_CONVENTION
 
omp_£t_Ã¡ed
 ();

46 
__KAI_KMPC_CONVENTION
 
omp_£t_max_aùive_Ëv–s
 ();

47 
__KAI_KMPC_CONVENTION
 
omp_£t_scheduË
 (
omp_sched_t
, );

50 
__KAI_KMPC_CONVENTION
 
omp_g‘_num_th»ads
 ();

51 
__KAI_KMPC_CONVENTION
 
omp_g‘_dyÇmic
 ();

52 
__KAI_KMPC_CONVENTION
 
omp_g‘_Ã¡ed
 ();

53 
__KAI_KMPC_CONVENTION
 
omp_g‘_max_th»ads
 ();

54 
__KAI_KMPC_CONVENTION
 
omp_g‘_th»ad_num
 ();

55 
__KAI_KMPC_CONVENTION
 
omp_g‘_num_´ocs
 ();

56 
__KAI_KMPC_CONVENTION
 
omp_š_·¿Î–
 ();

57 
__KAI_KMPC_CONVENTION
 
omp_š_fš®
 ();

58 
__KAI_KMPC_CONVENTION
 
omp_g‘_aùive_Ëv–
 ();

59 
__KAI_KMPC_CONVENTION
 
omp_g‘_Ëv–
 ();

60 
__KAI_KMPC_CONVENTION
 
omp_g‘_ªû¡Ü_th»ad_num
 ();

61 
__KAI_KMPC_CONVENTION
 
omp_g‘_‹am_size
 ();

62 
__KAI_KMPC_CONVENTION
 
omp_g‘_th»ad_lim™
 ();

63 
__KAI_KMPC_CONVENTION
 
omp_g‘_max_aùive_Ëv–s
 ();

64 
__KAI_KMPC_CONVENTION
 
omp_g‘_scheduË
 (
omp_sched_t
 *, *);

65 
__KAI_KMPC_CONVENTION
 
omp_g‘_max_sk_´iÜ™y
 ();

68 
	somp_lock_t
 {

69 * 
	g_lk
;

70 } 
	tomp_lock_t
;

72 
__KAI_KMPC_CONVENTION
 
omp_š™_lock
 (
omp_lock_t
 *);

73 
__KAI_KMPC_CONVENTION
 
omp_£t_lock
 (
omp_lock_t
 *);

74 
__KAI_KMPC_CONVENTION
 
omp_un£t_lock
 (
omp_lock_t
 *);

75 
__KAI_KMPC_CONVENTION
 
omp_de¡roy_lock
 (
omp_lock_t
 *);

76 
__KAI_KMPC_CONVENTION
 
omp_‹¡_lock
 (
omp_lock_t
 *);

79 
	somp_Ã¡_lock_t
 {

80 * 
	g_lk
;

81 } 
	tomp_Ã¡_lock_t
;

83 
__KAI_KMPC_CONVENTION
 
omp_š™_Ã¡_lock
 (
omp_Ã¡_lock_t
 *);

84 
__KAI_KMPC_CONVENTION
 
omp_£t_Ã¡_lock
 (
omp_Ã¡_lock_t
 *);

85 
__KAI_KMPC_CONVENTION
 
omp_un£t_Ã¡_lock
 (
omp_Ã¡_lock_t
 *);

86 
__KAI_KMPC_CONVENTION
 
omp_de¡roy_Ã¡_lock
 (
omp_Ã¡_lock_t
 *);

87 
__KAI_KMPC_CONVENTION
 
omp_‹¡_Ã¡_lock
 (
omp_Ã¡_lock_t
 *);

90 
	eomp_lock_hšt_t
 {

91 
	gomp_lock_hšt_nÚe
 = 0,

92 
	gomp_lock_hšt_uncÚ‹nded
 = 1,

93 
	gomp_lock_hšt_cÚ‹nded
 = (1<<1 ),

94 
	gomp_lock_hšt_nÚ¥ecuÏtive
 = (1<<2 ),

95 
	gomp_lock_hšt_¥ecuÏtive
 = (1<<3 ),

96 
	gkmp_lock_hšt_hË
 = (1<<16),

97 
	gkmp_lock_hšt_¹m
 = (1<<17),

98 
	gkmp_lock_hšt_ad­tive
 = (1<<18)

99 } 
	tomp_lock_hšt_t
;

102 
__KAI_KMPC_CONVENTION
 
omp_š™_lock_w™h_hšt
(
omp_lock_t
 *, 
omp_lock_hšt_t
);

103 
__KAI_KMPC_CONVENTION
 
omp_š™_Ã¡_lock_w™h_hšt
(
omp_Ã¡_lock_t
 *, 
omp_lock_hšt_t
);

106 
__KAI_KMPC_CONVENTION
 
omp_g‘_wtime
 ();

107 
__KAI_KMPC_CONVENTION
 
omp_g‘_wtick
 ();

110 
__KAI_KMPC_CONVENTION
 
omp_g‘_deçuÉ_deviû
 ();

111 
__KAI_KMPC_CONVENTION
 
omp_£t_deçuÉ_deviû
 ();

112 
__KAI_KMPC_CONVENTION
 
omp_is_š™Ÿl_deviû
 ();

113 
__KAI_KMPC_CONVENTION
 
omp_g‘_num_deviûs
 ();

114 
__KAI_KMPC_CONVENTION
 
omp_g‘_num_‹ams
 ();

115 
__KAI_KMPC_CONVENTION
 
omp_g‘_‹am_num
 ();

116 
__KAI_KMPC_CONVENTION
 
omp_g‘_ÿnûÎ©iÚ
 ();

118 
	~<¡dlib.h
>

120 
__KAI_KMPC_CONVENTION
 
omp_g‘_š™Ÿl_deviû
 ();

121 * 
__KAI_KMPC_CONVENTION
 
omp_rg‘_®loc
(
size_t
, );

122 
__KAI_KMPC_CONVENTION
 
omp_rg‘_ä“
(*, );

123 
__KAI_KMPC_CONVENTION
 
omp_rg‘_is_´e£Á
(*, );

124 
__KAI_KMPC_CONVENTION
 
omp_rg‘_memıy
(*, *, 
size_t
, size_t, size_t, , );

125 
__KAI_KMPC_CONVENTION
 
omp_rg‘_memıy_»ù
(*, *, 
size_t
, , const size_t *,

126 cÚ¡ 
size_t
 *, const size_t *, const size_t *, const size_t *, , );

127 
__KAI_KMPC_CONVENTION
 
omp_rg‘_assocŸ‹_±r
(*, *, 
size_t
, size_t, );

128 
__KAI_KMPC_CONVENTION
 
omp_rg‘_di§ssocŸ‹_±r
(*, );

131 
__KAI_KMPC_CONVENTION
 
kmp_g‘_¡acksize
 ();

132 
__KAI_KMPC_CONVENTION
 
kmp_£t_¡acksize
 ();

133 
size_t
 
__KAI_KMPC_CONVENTION
 
kmp_g‘_¡acksize_s
 ();

134 
__KAI_KMPC_CONVENTION
 
kmp_£t_¡acksize_s
 (
size_t
);

135 
__KAI_KMPC_CONVENTION
 
kmp_g‘_blocktime
 ();

136 
__KAI_KMPC_CONVENTION
 
kmp_g‘_lib¿ry
 ();

137 
__KAI_KMPC_CONVENTION
 
kmp_£t_blocktime
 ();

138 
__KAI_KMPC_CONVENTION
 
kmp_£t_lib¿ry
 ();

139 
__KAI_KMPC_CONVENTION
 
kmp_£t_lib¿ry_£rŸl
 ();

140 
__KAI_KMPC_CONVENTION
 
kmp_£t_lib¿ry_tuº¬ound
 ();

141 
__KAI_KMPC_CONVENTION
 
kmp_£t_lib¿ry_throughput
 ();

142 
__KAI_KMPC_CONVENTION
 
kmp_£t_deçuÉs
 (const *);

143 
__KAI_KMPC_CONVENTION
 
kmp_£t_di¥_num_bufãrs
 ();

146 * 
	tkmp_affš™y_mask_t
;

148 
__KAI_KMPC_CONVENTION
 
kmp_£t_affš™y
 (
kmp_affš™y_mask_t
 *);

149 
__KAI_KMPC_CONVENTION
 
kmp_g‘_affš™y
 (
kmp_affš™y_mask_t
 *);

150 
__KAI_KMPC_CONVENTION
 
kmp_g‘_affš™y_max_´oc
 ();

151 
__KAI_KMPC_CONVENTION
 
kmp_ü—‹_affš™y_mask
 (
kmp_affš™y_mask_t
 *);

152 
__KAI_KMPC_CONVENTION
 
kmp_de¡roy_affš™y_mask
 (
kmp_affš™y_mask_t
 *);

153 
__KAI_KMPC_CONVENTION
 
kmp_£t_affš™y_mask_´oc
 (, 
kmp_affš™y_mask_t
 *);

154 
__KAI_KMPC_CONVENTION
 
kmp_un£t_affš™y_mask_´oc
 (, 
kmp_affš™y_mask_t
 *);

155 
__KAI_KMPC_CONVENTION
 
kmp_g‘_affš™y_mask_´oc
 (, 
kmp_affš™y_mask_t
 *);

158 
	eomp_´oc_bšd_t
 {

159 
	gomp_´oc_bšd_çl£
 = 0,

160 
	gomp_´oc_bšd_Œue
 = 1,

161 
	gomp_´oc_bšd_ma¡”
 = 2,

162 
	gomp_´oc_bšd_şo£
 = 3,

163 
	gomp_´oc_bšd_¥»ad
 = 4

164 } 
	tomp_´oc_bšd_t
;

166 
omp_´oc_bšd_t
 
__KAI_KMPC_CONVENTION
 
omp_g‘_´oc_bšd
 ();

169 
__KAI_KMPC_CONVENTION
 
omp_g‘_num_¶aûs
 ();

170 
__KAI_KMPC_CONVENTION
 
omp_g‘_¶aû_num_´ocs
 ();

171 
__KAI_KMPC_CONVENTION
 
omp_g‘_¶aû_´oc_ids
 (, *);

172 
__KAI_KMPC_CONVENTION
 
omp_g‘_¶aû_num
 ();

173 
__KAI_KMPC_CONVENTION
 
omp_g‘_·¹™iÚ_num_¶aûs
 ();

174 
__KAI_KMPC_CONVENTION
 
omp_g‘_·¹™iÚ_¶aû_nums
 (*);

176 * 
__KAI_KMPC_CONVENTION
 
kmp_m®loc
 (
size_t
);

177 * 
__KAI_KMPC_CONVENTION
 
kmp_®igÃd_m®loc
 (
size_t
, size_t);

178 * 
__KAI_KMPC_CONVENTION
 
kmp_ÿÎoc
 (
size_t
, size_t);

179 * 
__KAI_KMPC_CONVENTION
 
kmp_»®loc
 (*, 
size_t
);

180 
__KAI_KMPC_CONVENTION
 
kmp_ä“
 (*);

182 
__KAI_KMPC_CONVENTION
 
kmp_£t_w¬nšgs_Ú
();

183 
__KAI_KMPC_CONVENTION
 
kmp_£t_w¬nšgs_off
();

185 #undeà
__KAI_KMPC_CONVENTION


190 
	tomp_št_t
;

191 
	tomp_wtime_t
;

193 #ifdeà
__ılu¥lus


	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

29 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

35 
	mPTHREAD_CREATE_JOINABLE
,

36 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

37 
	mPTHREAD_CREATE_DETACHED


38 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

45 
	mPTHREAD_MUTEX_TIMED_NP
,

46 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

47 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

48 
	mPTHREAD_MUTEX_ADAPTIVE_NP


49 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


51 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

52 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

53 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

54 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


56 #ifdeà
__USE_GNU


58 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


63 #ifdeà
__USE_XOPEN2K


67 
	mPTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_ROBUST
,

70 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


75 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


79 
	mPTHREAD_PRIO_NONE
,

80 
	mPTHREAD_PRIO_INHERIT
,

81 
	mPTHREAD_PRIO_PROTECT


86 #ià
__PTHREAD_MUTEX_HAVE_PREV


87 
	#PTHREAD_MUTEX_INITIALIZER
 \

88 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

89 #ifdeà
__USE_GNU


90 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

91 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

92 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

94 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

99 
	#PTHREAD_MUTEX_INITIALIZER
 \

100 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

101 #ifdeà
__USE_GNU


102 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

103 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

104 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

105 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

106 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

107 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

114 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


126 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


127 #ià
__WORDSIZE
 == 64

128 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

133 
	#PTHREAD_RWLOCK_INITIALIZER
 \

134 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

135 #ifdeà
__USE_GNU


136 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, \

139 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

141 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


142 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

143 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

144 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

146 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

147 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

148 0 } }

	)

158 
	mPTHREAD_INHERIT_SCHED
,

159 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

160 
	mPTHREAD_EXPLICIT_SCHED


161 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

168 
	mPTHREAD_SCOPE_SYSTEM
,

169 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

170 
	mPTHREAD_SCOPE_PROCESS


171 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

178 
	mPTHREAD_PROCESS_PRIVATE
,

179 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

180 
	mPTHREAD_PROCESS_SHARED


181 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

187 
	#PTHREAD_COND_INITIALIZER
 { { {0}, {0}, {0, 0}, {0, 0}, 0, 0, {0, 0} } }

	)

191 
	s_±h»ad_ş—nup_bufãr


193 (*
	m__routše
) (*);

194 *
	m__¬g
;

195 
	m__ÿnûÉy³
;

196 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

202 
	mPTHREAD_CANCEL_ENABLE
,

203 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

204 
	mPTHREAD_CANCEL_DISABLE


205 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

209 
	mPTHREAD_CANCEL_DEFERRED
,

210 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

211 
	mPTHREAD_CANCEL_ASYNCHRONOUS


212 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

214 
	#PTHREAD_CANCELED
 ((*è-1)

	)

218 
	#PTHREAD_ONCE_INIT
 0

	)

221 #ifdeà
__USE_XOPEN2K


225 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

229 
__BEGIN_DECLS


234 
	$±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

235 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

236 *(*
__¡¬t_routše
) (*),

237 *
__»¡riù
 
__¬g
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

243 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

251 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

253 #ifdeà
__USE_GNU


256 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

264 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

265 cÚ¡ 
time¥ec
 *
__ab¡ime
);

272 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

276 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

279 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

280 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

288 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

291 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

292 
__THROW
 
	`__nÚnuÎ
 ((1));

295 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

296 *
__d‘ach¡©e
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

300 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

301 
__d‘ach¡©e
)

302 
__THROW
 
	`__nÚnuÎ
 ((1));

306 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

307 
size_t
 *
__gu¬dsize
)

308 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

311 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

312 
size_t
 
__gu¬dsize
)

313 
__THROW
 
	`__nÚnuÎ
 ((1));

317 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

318 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

322 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

323 cÚ¡ 
sched_·¿m
 *
__»¡riù


324 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

327 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


328 
__©Œ
, *
__»¡riù
 
__pŞicy
)

329 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

332 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

333 
__THROW
 
	`__nÚnuÎ
 ((1));

336 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


337 
__©Œ
, *
__»¡riù
 
__šh”™
)

338 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

341 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

342 
__šh”™
)

343 
__THROW
 
	`__nÚnuÎ
 ((1));

347 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

348 *
__»¡riù
 
__scİe
)

349 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

352 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

353 
__THROW
 
	`__nÚnuÎ
 ((1));

356 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


357 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

358 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

364 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

365 *
__¡ackaddr
)

366 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

369 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


370 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

371 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

376 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

377 
size_t
 
__¡acksize
)

378 
__THROW
 
	`__nÚnuÎ
 ((1));

380 #ifdeà
__USE_XOPEN2K


382 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

383 **
__»¡riù
 
__¡ackaddr
,

384 
size_t
 *
__»¡riù
 
__¡acksize
)

385 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

390 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

391 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

394 #ifdeà
__USE_GNU


397 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

398 
size_t
 
__ıu£tsize
,

399 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

400 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

404 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

405 
size_t
 
__ıu£tsize
,

406 
ıu_£t_t
 *
__ıu£t
)

407 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

410 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

411 
__THROW
 
	`__nÚnuÎ
 ((1));

415 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

416 
__THROW
 
	`__nÚnuÎ
 ((1));

421 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

422 
__THROW
 
	`__nÚnuÎ
 ((2));

430 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

431 cÚ¡ 
sched_·¿m
 *
__·¿m
)

432 
__THROW
 
	`__nÚnuÎ
 ((3));

435 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

436 *
__»¡riù
 
__pŞicy
,

437 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

438 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

441 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

442 
__THROW
;

445 #ifdeà
__USE_GNU


447 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

448 
size_t
 
__buæ’
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

452 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

453 
__THROW
 
	`__nÚnuÎ
 ((2));

457 #ifdeà
__USE_UNIX98


459 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

462 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

465 #ifdeà
__USE_GNU


470 
	$±h»ad_y›ld
 (è
__THROW
;

475 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

476 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

477 
__THROW
 
	`__nÚnuÎ
 ((3));

480 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

481 
ıu_£t_t
 *
__ıu£t
)

482 
__THROW
 
	`__nÚnuÎ
 ((3));

495 
	$±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

496 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

507 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

511 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

514 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

519 
	`±h»ad_‹¡ÿnûl
 ();

528 
__jmp_buf
 
__ÿnûl_jmp_buf
;

529 
__mask_was_§ved
;

530 } 
__ÿnûl_jmp_buf
[1];

531 *
__·d
[4];

532 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

535 #iâdeà
__ş—nup_fù_©Œibu‹


536 
	#__ş—nup_fù_©Œibu‹


	)

541 
	s__±h»ad_ş—nup_äame


543 (*
__ÿnûl_routše
) (*);

544 *
__ÿnûl_¬g
;

545 
__do_™
;

546 
__ÿnûl_ty³
;

549 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


550 #ifdeà
__ılu¥lus


552 şas 
	c__±h»ad_ş—nup_şass


554 (*
__ÿnûl_routše
) (*);

555 *
__ÿnûl_¬g
;

556 
__do_™
;

557 
__ÿnûl_ty³
;

559 
public
:

560 
	$__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

561 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

562 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

563 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

564 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

565 &
__ÿnûl_ty³
); 
	}
}

566 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

576 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

578 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

582 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

583 
__şäame
.
	`__£tdo™
 (
execu‹
); \

584 } 0)

	)

586 #ifdeà
__USE_GNU


590 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

592 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

593 
__şäame
.
	`__deãr
 ()

	)

598 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

599 
__şäame
.
	`__»¡Üe
 (); \

600 
__şäame
.
	`__£tdo™
 (
execu‹
); \

601 } 0)

	)

608 
__ex‹º_šlše
 

609 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

611 ià(
__äame
->
__do_™
)

612 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

613 
	}
}

622 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

624 
__±h»ad_ş—nup_äame
 
__şäame
 \

625 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

626 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

627 .
__do_™
 = 1 };

	)

631 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

632 
__şäame
.
__do_™
 = (
execu‹
); \

633 } 0)

	)

635 #ifdeà
__USE_GNU


639 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

641 
__±h»ad_ş—nup_äame
 
__şäame
 \

642 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

643 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

644 .
__do_™
 = 1 }; \

645 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

646 &
__şäame
.
__ÿnûl_ty³
)

	)

651 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

652 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

653 
__şäame
.
__do_™
 = (
execu‹
); \

654 } 0)

	)

665 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

667 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

668 (*
__ÿnûl_routše
è(*èğ(
routše
); \

669 *
__ÿnûl_¬g
 = (
¬g
); \

670 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

671 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

672 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

674 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

675 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

679 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

680 dØ{

	)

681 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

682 
__ş—nup_fù_©Œibu‹
;

686 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

689 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

690 ià(
execu‹
) \

691 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

692 } 0)

	)

693 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

694 
__ş—nup_fù_©Œibu‹
;

696 #ifdeà
__USE_GNU


700 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

702 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

703 (*
__ÿnûl_routše
è(*èğ(
routše
); \

704 *
__ÿnûl_¬g
 = (
¬g
); \

705 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

706 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

707 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

709 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

710 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

714 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

715 dØ{

	)

716 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

717 
__ş—nup_fù_©Œibu‹
;

722 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

725 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

726 ià(
execu‹
) \

727 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

728 
	}
} 0)

	)

729 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

730 
__ş—nup_fù_©Œibu‹
;

734 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

735 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

736 #iâdeà
SHARED


737 
	`__©Œibu‹__
 ((
__w—k__
))

743 
__jmp_buf_g
;

744 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

750 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

751 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

752 
__THROW
 
	`__nÚnuÎ
 ((1));

755 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

756 
__THROW
 
	`__nÚnuÎ
 ((1));

759 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

760 
__THROWNL
 
	`__nÚnuÎ
 ((1));

763 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

764 
__THROWNL
 
	`__nÚnuÎ
 ((1));

766 #ifdeà
__USE_XOPEN2K


768 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

769 cÚ¡ 
time¥ec
 *
__»¡riù


770 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

774 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

775 
__THROWNL
 
	`__nÚnuÎ
 ((1));

779 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

780 
__»¡riù
 
__mu‹x
,

781 *
__»¡riù
 
__´ioûšg
)

782 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

786 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

787 
__´ioûšg
,

788 *
__»¡riù
 
__Şd_ûšg
)

789 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

792 #ifdeà
__USE_XOPEN2K8


794 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

795 
__THROW
 
	`__nÚnuÎ
 ((1));

796 #ifdeà
__USE_GNU


797 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

798 
__THROW
 
	`__nÚnuÎ
 ((1));

807 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

808 
__THROW
 
	`__nÚnuÎ
 ((1));

811 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

812 
__THROW
 
	`__nÚnuÎ
 ((1));

815 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

816 
__»¡riù
 
__©Œ
,

817 *
__»¡riù
 
__psh¬ed
)

818 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

821 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

822 
__psh¬ed
)

823 
__THROW
 
	`__nÚnuÎ
 ((1));

825 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


827 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


828 
__©Œ
, *
__»¡riù
 
__kšd
)

829 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

834 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

835 
__THROW
 
	`__nÚnuÎ
 ((1));

839 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

840 
__»¡riù
 
__©Œ
,

841 *
__»¡riù
 
__´ÙocŞ
)

842 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

846 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

847 
__´ÙocŞ
)

848 
__THROW
 
	`__nÚnuÎ
 ((1));

851 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

852 
__»¡riù
 
__©Œ
,

853 *
__»¡riù
 
__´ioûšg
)

854 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

857 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

858 
__´ioûšg
)

859 
__THROW
 
	`__nÚnuÎ
 ((1));

861 #ifdeà
__USE_XOPEN2K


863 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

864 *
__robu¡Ãss
)

865 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

866 #ifdeà
__USE_GNU


867 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

868 *
__robu¡Ãss
)

869 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

873 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

874 
__robu¡Ãss
)

875 
__THROW
 
	`__nÚnuÎ
 ((1));

876 #ifdeà
__USE_GNU


877 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

878 
__robu¡Ãss
)

879 
__THROW
 
	`__nÚnuÎ
 ((1));

884 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


889 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

890 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


891 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

894 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

895 
__THROW
 
	`__nÚnuÎ
 ((1));

898 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

899 
__THROWNL
 
	`__nÚnuÎ
 ((1));

902 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

903 
__THROWNL
 
	`__nÚnuÎ
 ((1));

905 #ifdeà
__USE_XOPEN2K


907 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

908 cÚ¡ 
time¥ec
 *
__»¡riù


909 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

913 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

914 
__THROWNL
 
	`__nÚnuÎ
 ((1));

917 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

918 
__THROWNL
 
	`__nÚnuÎ
 ((1));

920 #ifdeà
__USE_XOPEN2K


922 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

923 cÚ¡ 
time¥ec
 *
__»¡riù


924 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

928 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

929 
__THROWNL
 
	`__nÚnuÎ
 ((1));

935 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

936 
__THROW
 
	`__nÚnuÎ
 ((1));

939 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

940 
__THROW
 
	`__nÚnuÎ
 ((1));

943 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

944 
__»¡riù
 
__©Œ
,

945 *
__»¡riù
 
__psh¬ed
)

946 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

949 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

950 
__psh¬ed
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

955 
__»¡riù
 
__©Œ
,

956 *
__»¡riù
 
__´ef
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

960 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

961 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

970 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

971 
__THROW
 
	`__nÚnuÎ
 ((1));

974 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

975 
__THROW
 
	`__nÚnuÎ
 ((1));

978 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

979 
__THROWNL
 
	`__nÚnuÎ
 ((1));

982 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

983 
__THROWNL
 
	`__nÚnuÎ
 ((1));

990 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

991 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

992 
	`__nÚnuÎ
 ((1, 2));

1001 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1002 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1003 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1004 
	`__nÚnuÎ
 ((1, 2, 3));

1009 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1010 
__THROW
 
	`__nÚnuÎ
 ((1));

1013 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1014 
__THROW
 
	`__nÚnuÎ
 ((1));

1017 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1018 
__»¡riù
 
__©Œ
,

1019 *
__»¡riù
 
__psh¬ed
)

1020 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1023 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1024 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1026 #ifdeà
__USE_XOPEN2K


1028 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1029 
__»¡riù
 
__©Œ
,

1030 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1031 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1034 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1035 
__şockid_t
 
__şock_id
)

1036 
__THROW
 
	`__nÚnuÎ
 ((1));

1040 #ifdeà
__USE_XOPEN2K


1045 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1046 
__THROW
 
	`__nÚnuÎ
 ((1));

1049 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1050 
__THROW
 
	`__nÚnuÎ
 ((1));

1053 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1054 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1057 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1058 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1061 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1062 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1069 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1070 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1071 
__©Œ
, 
__couÁ
)

1072 
__THROW
 
	`__nÚnuÎ
 ((1));

1075 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1076 
__THROW
 
	`__nÚnuÎ
 ((1));

1079 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1080 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1084 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1085 
__THROW
 
	`__nÚnuÎ
 ((1));

1088 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1089 
__THROW
 
	`__nÚnuÎ
 ((1));

1092 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1093 
__»¡riù
 
__©Œ
,

1094 *
__»¡riù
 
__psh¬ed
)

1095 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1098 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1099 
__psh¬ed
)

1100 
__THROW
 
	`__nÚnuÎ
 ((1));

1112 
	$±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1113 (*
__de¡r_funùiÚ
) (*))

1114 
__THROW
 
	`__nÚnuÎ
 ((1));

1117 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1120 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1123 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1124 cÚ¡ *
__poš‹r
è
__THROW
 ;

1127 #ifdeà
__USE_XOPEN2K


1129 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1130 
__şockid_t
 *
__şock_id
)

1131 
__THROW
 
	`__nÚnuÎ
 ((2));

1146 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1147 (*
__·»Á
) (),

1148 (*
__chd
è()è
__THROW
;

1151 #ifdeà
__USE_EXTERN_INLINES


1153 
__ex‹º_šlše
 

1154 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1156  
__th»ad1
 =ğ
__th»ad2
;

1157 
	}
}

1160 
	g__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


23 
	#_SIGNAL_H


	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

30 
	~<b™s/signum.h
>

32 
	~<b™s/ty³s/sig_©omic_t.h
>

34 #ià
defšed
 
__USE_POSIX


35 
	~<b™s/ty³s/sig£t_t.h
>

38 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


39 #iâdeà
__pid_t_defšed


40 
__pid_t
 
	tpid_t
;

41 
	#__pid_t_defšed


	)

43 #ifdeà
__USE_XOPEN


45 #iâdeà
__uid_t_defšed


46 
__uid_t
 
	tuid_t
;

47 
	#__uid_t_defšed


	)

51 #ifdeà
__USE_POSIX199309


53 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

56 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


57 
	~<b™s/ty³s/sigšfo_t.h
>

58 
	~<b™s/sigšfo-cÚ¡s.h
>

61 #ifdeà
__USE_MISC


62 
	~<b™s/ty³s/sigv®_t.h
>

65 #ifdeà
__USE_POSIX199309


66 
	~<b™s/ty³s/sigev’t_t.h
>

67 
	~<b™s/sigev’t-cÚ¡s.h
>

72 (*
	t__sighªdËr_t
) ();

77 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

78 
__THROW
;

79 #ifdeà
__USE_GNU


80 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

81 
__THROW
;

87 #ifdeà
__USE_MISC


88 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

89 
__THROW
;

92 #ifdeà
__REDIRECT_NTH


93 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

94 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

95 
__sysv_sigÇl
);

97 
	#sigÇl
 
__sysv_sigÇl


	)

101 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8


104 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

105 
__THROW
;

111 #ifdeà
__USE_POSIX


112 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

115 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


119 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

123 
	$¿i£
 (
__sig
è
__THROW
;

125 #ifdeà
__USE_MISC


127 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

128 
__THROW
;

129 
	$gsigÇl
 (
__sig
è
__THROW
;

132 #ifdeà
__USE_XOPEN2K8


134 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

137 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

149 #ifdeà
__USE_XOPEN_EXTENDED


150 #ifdeà
__GNUC__


151 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

153 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

155 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

160 #ifdeà
__USE_MISC


167 
	#sigmask
(
sig
è(()(1u << ((sigè- 1)))

	)

170 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

173 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

176 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

180 #ifdeà
__USE_MISC


181 
	#NSIG
 
_NSIG


	)

184 #ifdeà
__USE_GNU


185 
__sighªdËr_t
 
	tsighªdËr_t
;

189 #ifdeà
__USE_MISC


190 
__sighªdËr_t
 
	tsig_t
;

193 #ifdeà
__USE_POSIX


196 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

199 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

202 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

205 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

208 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

209 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ifdeà
__USE_GNU


213 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

216 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

217 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

220 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

221 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

226 
	~<b™s/sigaùiÚ.h
>

229 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

230 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

237 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

240 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

241 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

244 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

247 #ifdeà
__USE_POSIX199506


252 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

253 
	`__nÚnuÎ
 ((1, 2));

256 #ifdeà
__USE_POSIX199309


261 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

262 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

269 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

270 
sigšfo_t
 *
__»¡riù
 
__šfo
,

271 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

272 
	`__nÚnuÎ
 ((1));

276 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

277 
__THROW
;

282 #ifdeà
__USE_MISC


286 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

287 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

291 
	~<b™s/sigcÚ‹xt.h
>

294 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

299 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


300 
	#__Ãed_size_t


	)

301 
	~<¡ddef.h
>

303 
	~<b™s/ty³s/¡ack_t.h
>

304 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


306 
	~<sys/ucÚ‹xt.h
>

310 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_MISC


314 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

316 
	~<b™s/sig¡ack.h
>

317 
	~<b™s/ss_æags.h
>

321 
	$sig®t¡ack
 (cÚ¡ 
¡ack_t
 *
__»¡riù
 
__ss
,

322 
¡ack_t
 *
__»¡riù
 
__oss
è
__THROW
;

325 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

326 || 
defšed
 
__USE_MISC
)

327 
	~<b™s/ty³s/¡ruù_sig¡ack.h
>

330 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

331 || 
defšed
 
__USE_MISC
)

335 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

336 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

339 #ifdeà
__USE_XOPEN_EXTENDED


343 
	$sighŞd
 (
__sig
è
__THROW
;

346 
	$sig»l£
 (
__sig
è
__THROW
;

349 
	$sigignÜe
 (
__sig
è
__THROW
;

352 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

355 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


358 
	~<b™s/±h»adty³s.h
>

359 
	~<b™s/sigth»ad.h
>

366 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

368 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

370 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

371 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

373 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 sigÃd 
	tšt_Ëa¡8_t
;

44 
	tšt_Ëa¡16_t
;

45 
	tšt_Ëa¡32_t
;

46 #ià
__WORDSIZE
 == 64

47 
	tšt_Ëa¡64_t
;

49 
__ex‹nsiÚ__


50 
	tšt_Ëa¡64_t
;

54 
	tušt_Ëa¡8_t
;

55 
	tušt_Ëa¡16_t
;

56 
	tušt_Ëa¡32_t
;

57 #ià
__WORDSIZE
 == 64

58 
	tušt_Ëa¡64_t
;

60 
__ex‹nsiÚ__


61 
	tušt_Ëa¡64_t
;

68 sigÃd 
	tšt_ç¡8_t
;

69 #ià
__WORDSIZE
 == 64

70 
	tšt_ç¡16_t
;

71 
	tšt_ç¡32_t
;

72 
	tšt_ç¡64_t
;

74 
	tšt_ç¡16_t
;

75 
	tšt_ç¡32_t
;

76 
__ex‹nsiÚ__


77 
	tšt_ç¡64_t
;

81 
	tušt_ç¡8_t
;

82 #ià
__WORDSIZE
 == 64

83 
	tušt_ç¡16_t
;

84 
	tušt_ç¡32_t
;

85 
	tušt_ç¡64_t
;

87 
	tušt_ç¡16_t
;

88 
	tušt_ç¡32_t
;

89 
__ex‹nsiÚ__


90 
	tušt_ç¡64_t
;

95 #ià
__WORDSIZE
 == 64

96 #iâdeà
__šŒ_t_defšed


97 
	tšŒ_t
;

98 
	#__šŒ_t_defšed


	)

100 
	tušŒ_t
;

102 #iâdeà
__šŒ_t_defšed


103 
	tšŒ_t
;

104 
	#__šŒ_t_defšed


	)

106 
	tušŒ_t
;

111 
__štmax_t
 
	tštmax_t
;

112 
__uštmax_t
 
	tuštmax_t
;

115 #ià
__WORDSIZE
 == 64

116 
	#__INT64_C
(
c
èø## 
L


	)

117 
	#__UINT64_C
(
c
èø## 
UL


	)

119 
	#__INT64_C
(
c
èø## 
LL


	)

120 
	#__UINT64_C
(
c
èø## 
ULL


	)

126 
	#INT8_MIN
 (-128)

	)

127 
	#INT16_MIN
 (-32767-1)

	)

128 
	#INT32_MIN
 (-2147483647-1)

	)

129 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

131 
	#INT8_MAX
 (127)

	)

132 
	#INT16_MAX
 (32767)

	)

133 
	#INT32_MAX
 (2147483647)

	)

134 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

137 
	#UINT8_MAX
 (255)

	)

138 
	#UINT16_MAX
 (65535)

	)

139 
	#UINT32_MAX
 (4294967295U)

	)

140 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

144 
	#INT_LEAST8_MIN
 (-128)

	)

145 
	#INT_LEAST16_MIN
 (-32767-1)

	)

146 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

147 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

149 
	#INT_LEAST8_MAX
 (127)

	)

150 
	#INT_LEAST16_MAX
 (32767)

	)

151 
	#INT_LEAST32_MAX
 (2147483647)

	)

152 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

155 
	#UINT_LEAST8_MAX
 (255)

	)

156 
	#UINT_LEAST16_MAX
 (65535)

	)

157 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

158 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

162 
	#INT_FAST8_MIN
 (-128)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

165 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

167 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

168 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

170 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

172 
	#INT_FAST8_MAX
 (127)

	)

173 #ià
__WORDSIZE
 == 64

174 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

175 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

177 
	#INT_FAST16_MAX
 (2147483647)

	)

178 
	#INT_FAST32_MAX
 (2147483647)

	)

180 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

183 
	#UINT_FAST8_MAX
 (255)

	)

184 #ià
__WORDSIZE
 == 64

185 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

186 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

188 
	#UINT_FAST16_MAX
 (4294967295U)

	)

189 
	#UINT_FAST32_MAX
 (4294967295U)

	)

191 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 #ià
__WORDSIZE
 == 64

196 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

197 
	#INTPTR_MAX
 (9223372036854775807L)

	)

198 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

200 
	#INTPTR_MIN
 (-2147483647-1)

	)

201 
	#INTPTR_MAX
 (2147483647)

	)

202 
	#UINTPTR_MAX
 (4294967295U)

	)

207 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

209 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

218 #ià
__WORDSIZE
 == 64

219 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

220 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

222 #ià
__WORDSIZE32_PTRDIFF_LONG


223 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

224 
	#PTRDIFF_MAX
 (2147483647L)

	)

226 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

227 
	#PTRDIFF_MAX
 (2147483647)

	)

232 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

233 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

236 #ià
__WORDSIZE
 == 64

237 
	#SIZE_MAX
 (18446744073709551615UL)

	)

239 #ià
__WORDSIZE32_SIZE_ULONG


240 
	#SIZE_MAX
 (4294967295UL)

	)

242 
	#SIZE_MAX
 (4294967295U)

	)

247 #iâdeà
WCHAR_MIN


249 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

250 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

254 
	#WINT_MIN
 (0u)

	)

255 
	#WINT_MAX
 (4294967295u)

	)

258 
	#INT8_C
(
c
è
	)
c

259 
	#INT16_C
(
c
è
	)
c

260 
	#INT32_C
(
c
è
	)
c

261 #ià
__WORDSIZE
 == 64

262 
	#INT64_C
(
c
èø## 
L


	)

264 
	#INT64_C
(
c
èø## 
LL


	)

268 
	#UINT8_C
(
c
è
	)
c

269 
	#UINT16_C
(
c
è
	)
c

270 
	#UINT32_C
(
c
èø## 
U


	)

271 #ià
__WORDSIZE
 == 64

272 
	#UINT64_C
(
c
èø## 
UL


	)

274 
	#UINT64_C
(
c
èø## 
ULL


	)

278 #ià
__WORDSIZE
 == 64

279 
	#INTMAX_C
(
c
èø## 
L


	)

280 
	#UINTMAX_C
(
c
èø## 
UL


	)

282 
	#INTMAX_C
(
c
èø## 
LL


	)

283 
	#UINTMAX_C
(
c
èø## 
ULL


	)

286 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

288 
	#INT8_WIDTH
 8

	)

289 
	#UINT8_WIDTH
 8

	)

290 
	#INT16_WIDTH
 16

	)

291 
	#UINT16_WIDTH
 16

	)

292 
	#INT32_WIDTH
 32

	)

293 
	#UINT32_WIDTH
 32

	)

294 
	#INT64_WIDTH
 64

	)

295 
	#UINT64_WIDTH
 64

	)

297 
	#INT_LEAST8_WIDTH
 8

	)

298 
	#UINT_LEAST8_WIDTH
 8

	)

299 
	#INT_LEAST16_WIDTH
 16

	)

300 
	#UINT_LEAST16_WIDTH
 16

	)

301 
	#INT_LEAST32_WIDTH
 32

	)

302 
	#UINT_LEAST32_WIDTH
 32

	)

303 
	#INT_LEAST64_WIDTH
 64

	)

304 
	#UINT_LEAST64_WIDTH
 64

	)

306 
	#INT_FAST8_WIDTH
 8

	)

307 
	#UINT_FAST8_WIDTH
 8

	)

308 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

309 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

310 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

311 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

312 
	#INT_FAST64_WIDTH
 64

	)

313 
	#UINT_FAST64_WIDTH
 64

	)

315 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

316 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

318 
	#INTMAX_WIDTH
 64

	)

319 
	#UINTMAX_WIDTH
 64

	)

321 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

322 
	#SIG_ATOMIC_WIDTH
 32

	)

323 
	#SIZE_WIDTH
 
__WORDSIZE


	)

324 
	#WCHAR_WIDTH
 32

	)

325 
	#WINT_WIDTH
 32

	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	~<b™s/ty³s/__FILE.h
>

37 
	~<b™s/ty³s/FILE.h
>

39 
	#_STDIO_USES_IOSTREAM


	)

41 
	~<b™s/libio.h
>

43 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


44 #ifdeà
__GNUC__


45 #iâdeà
_VA_LIST_DEFINED


46 
_G_va_li¡
 
	tva_li¡
;

47 
	#_VA_LIST_DEFINED


	)

50 
	~<¡d¬g.h
>

54 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


55 #iâdeà
__off_t_defšed


56 #iâdeà
__USE_FILE_OFFSET64


57 
__off_t
 
	toff_t
;

59 
__off64_t
 
	toff_t
;

61 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

69 #ifdeà
__USE_XOPEN2K8


70 #iâdeà
__ssize_t_defšed


71 
__ssize_t
 
	tssize_t
;

72 
	#__ssize_t_defšed


	)

77 #iâdeà
__USE_FILE_OFFSET64


78 
_G_åos_t
 
	tåos_t
;

80 
_G_åos64_t
 
	tåos_t
;

82 #ifdeà
__USE_LARGEFILE64


83 
_G_åos64_t
 
	tåos64_t
;

87 
	#_IOFBF
 0

	)

88 
	#_IOLBF
 1

	)

89 
	#_IONBF
 2

	)

93 #iâdeà
BUFSIZ


94 
	#BUFSIZ
 
_IO_BUFSIZ


	)

100 #iâdeà
EOF


101 
	#EOF
 (-1)

	)

107 
	#SEEK_SET
 0

	)

108 
	#SEEK_CUR
 1

	)

109 
	#SEEK_END
 2

	)

110 #ifdeà
__USE_GNU


111 
	#SEEK_DATA
 3

	)

112 
	#SEEK_HOLE
 4

	)

116 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


118 
	#P_tmpdœ
 "/tmp"

	)

131 
	~<b™s/¡dio_lim.h
>

135 
_IO_FILE
 *
¡dš
;

136 
_IO_FILE
 *
¡dout
;

137 
_IO_FILE
 *
¡d”r
;

139 
	#¡dš
 
¡dš


	)

140 
	#¡dout
 
¡dout


	)

141 
	#¡d”r
 
¡d”r


	)

144 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

146 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

148 #ifdeà
__USE_ATFILE


150 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

151 cÚ¡ *
__Ãw
è
__THROW
;

158 #iâdeà
__USE_FILE_OFFSET64


159 
FILE
 *
	$tmpfe
 (è
__wur
;

161 #ifdeà
__REDIRECT


162 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

164 
	#tmpfe
 
tmpfe64


	)

168 #ifdeà
__USE_LARGEFILE64


169 
FILE
 *
	$tmpfe64
 (è
__wur
;

173 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

175 #ifdeà
__USE_MISC


178 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

182 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


190 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

191 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

199 
	`fşo£
 (
FILE
 *
__¡»am
);

204 
	`fæush
 (
FILE
 *
__¡»am
);

206 #ifdeà
__USE_MISC


213 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

216 #ifdeà
__USE_GNU


223 
	`fşo£®l
 ();

227 #iâdeà
__USE_FILE_OFFSET64


232 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

233 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

238 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

239 cÚ¡ *
__»¡riù
 
__modes
,

240 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

242 #ifdeà
__REDIRECT


243 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

244 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

245 
__wur
;

246 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

247 cÚ¡ *
__»¡riù
 
__modes
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

249 
__wur
;

251 
	#fİ’
 
fİ’64


	)

252 
	#äeİ’
 
äeİ’64


	)

255 #ifdeà
__USE_LARGEFILE64


256 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

257 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

258 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

259 cÚ¡ *
__»¡riù
 
__modes
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

263 #ifdef 
__USE_POSIX


265 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

268 #ifdef 
__USE_GNU


271 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

272 cÚ¡ *
__»¡riù
 
__modes
,

273 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

276 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

278 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

279 
__THROW
 
__wur
;

284 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

290 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

294 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

295 
__modes
, 
size_t
 
__n
è
__THROW
;

297 #ifdef 
__USE_MISC


300 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

301 
size_t
 
__size
è
__THROW
;

304 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

312 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

313 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

318 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

320 
	$¥rštf
 (*
__»¡riù
 
__s
,

321 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

327 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

328 
_G_va_li¡
 
__¬g
);

333 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

335 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

336 
_G_va_li¡
 
__¬g
è
__THROWNL
;

338 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


340 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

341 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

342 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

344 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

345 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

346 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

349 #ià
	`__GLIBC_USE
 (
LIB_EXT2
)

352 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

353 
_G_va_li¡
 
__¬g
)

354 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

355 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

356 cÚ¡ *
__»¡riù
 
__fmt
, ...)

357 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

358 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

359 cÚ¡ *
__»¡riù
 
__fmt
, ...)

360 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

363 #ifdeà
__USE_XOPEN2K8


365 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

366 
_G_va_li¡
 
__¬g
)

367 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

368 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

369 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

377 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

378 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

383 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

385 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

386 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

388 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

389 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

390 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

391 #ifdeà
__REDIRECT


395 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

396 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

397 
__isoc99_fsÿnf
è
__wur
;

398 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

399 
__isoc99_sÿnf
è
__wur
;

400 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

401 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

402 
__isoc99_ssÿnf
);

404 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

405 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

406 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

407 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

408 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

409 
	#fsÿnf
 
__isoc99_fsÿnf


	)

410 
	#sÿnf
 
__isoc99_sÿnf


	)

411 
	#ssÿnf
 
__isoc99_ssÿnf


	)

415 #ifdef 
__USE_ISOC99


420 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

421 
_G_va_li¡
 
__¬g
)

422 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

428 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

429 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

432 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

433 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

434 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

436 #ià!
defšed
 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
vfsÿnf
,

444 (
FILE
 *
__»¡riù
 
__s
,

445 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

446 
__isoc99_vfsÿnf
)

447 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

448 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

449 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

450 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

451 
	`__REDIRECT_NTH
 (
vssÿnf
,

452 (cÚ¡ *
__»¡riù
 
__s
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
,

454 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

455 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

457 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

458 cÚ¡ *
__»¡riù
 
__fÜm©
,

459 
_G_va_li¡
 
__¬g
è
__wur
;

460 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

461 
_G_va_li¡
 
__¬g
è
__wur
;

462 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

463 cÚ¡ *
__»¡riù
 
__fÜm©
,

464 
_G_va_li¡
 
__¬g
è
__THROW
;

465 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

466 
	#vsÿnf
 
__isoc99_vsÿnf


	)

467 
	#vssÿnf
 
__isoc99_vssÿnf


	)

477 
	`fg‘c
 (
FILE
 *
__¡»am
);

478 
	`g‘c
 (
FILE
 *
__¡»am
);

484 
	`g‘ch¬
 ();

488 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

490 #ifdeà
__USE_POSIX199506


495 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

496 
	`g‘ch¬_uÆocked
 ();

499 #ifdeà
__USE_MISC


506 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

517 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

518 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

524 
	`putch¬
 (
__c
);

528 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

530 #ifdeà
__USE_MISC


537 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

540 #ifdeà
__USE_POSIX199506


545 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

546 
	`putch¬_uÆocked
 (
__c
);

550 #ià
defšed
 
__USE_MISC
 \

551 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

553 
	`g‘w
 (
FILE
 *
__¡»am
);

556 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

564 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

565 
__wur
;

567 #ià
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

577 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

580 #ifdeà
__USE_GNU


587 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

588 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

592 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

603 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

604 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

605 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

606 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

607 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

608 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

616 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

617 
size_t
 *
__»¡riù
 
__n
,

618 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

626 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

632 
	`puts
 (cÚ¡ *
__s
);

639 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

646 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

647 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

652 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

653 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

655 #ifdeà
__USE_GNU


662 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

663 
FILE
 *
__»¡riù
 
__¡»am
);

666 #ifdeà
__USE_MISC


673 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

674 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

675 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

676 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

684 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

689 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

694 
	`»wšd
 (
FILE
 *
__¡»am
);

701 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


702 #iâdeà
__USE_FILE_OFFSET64


707 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

712 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

714 #ifdeà
__REDIRECT


715 
	`__REDIRECT
 (
f£eko
,

716 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

717 
f£eko64
);

718 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

720 
	#f£eko
 
f£eko64


	)

721 
	#á–lo
 
á–lo64


	)

726 #iâdeà
__USE_FILE_OFFSET64


731 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

736 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

738 #ifdeà
__REDIRECT


739 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

740 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

741 
	`__REDIRECT
 (
f£os
,

742 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

744 
	#fg‘pos
 
fg‘pos64


	)

745 
	#f£os
 
f£os64


	)

749 #ifdeà
__USE_LARGEFILE64


750 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

751 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

752 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

753 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

757 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

759 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

761 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

763 #ifdeà
__USE_MISC


765 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

766 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

767 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

775 
	`³¼Ü
 (cÚ¡ *
__s
);

781 
	~<b™s/sys_”¾i¡.h
>

784 #ifdef 
__USE_POSIX


786 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

789 #ifdeà
__USE_MISC


791 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

795 #ifdeà
__USE_POSIX2


800 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

806 
	`pşo£
 (
FILE
 *
__¡»am
);

810 #ifdef 
__USE_POSIX


812 *
	$ù”mid
 (*
__s
è
__THROW
;

816 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
è|| defšed 
__USE_GNU


818 *
	`cu£rid
 (*
__s
);

822 #ifdef 
__USE_GNU


823 
ob¡ack
;

826 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

827 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

828 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

829 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

830 cÚ¡ *
__»¡riù
 
__fÜm©
,

831 
_G_va_li¡
 
__¬gs
)

832 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

836 #ifdeà
__USE_POSIX199506


840 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

844 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

847 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

850 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


853 
	~<b™s/g‘İt_posix.h
>

858 #ifdeà
__USE_EXTERN_INLINES


859 
	~<b™s/¡dio.h
>

861 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


862 
	~<b™s/¡dio2.h
>

864 #ifdeà
__LDBL_COMPAT


865 
	~<b™s/¡dio-ldbl.h
>

868 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

541 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

542 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

549 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

550 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

552 #ifdeà
__USE_GNU


558 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

559 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

563 
	$ä“
 (*
__±r
è
__THROW
;

565 #ifdeà
__USE_MISC


566 
	~<®loÿ.h
>

569 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

570 || 
defšed
 
__USE_MISC


572 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

575 #ifdeà
__USE_XOPEN2K


577 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

578 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

581 #ifdeà
__USE_ISOC11


583 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

584 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

588 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

592 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

594 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


596 #ifdeà
__ılu¥lus


597 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

598 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

600 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ifdef 
__USE_MISC


607 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

608 
__THROW
 
	`__nÚnuÎ
 ((1));

614 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

616 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


620 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

623 #ifdeà
__USE_ISOC99


626 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_GNU


636 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

637 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

640 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


644 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

647 #ifdeà
__USE_XOPEN2K


650 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

651 
__THROW
 
	`__nÚnuÎ
 ((2));

654 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdef 
__USE_MISC


661 
	$ş—»nv
 (è
__THROW
;

665 #ià
defšed
 
__USE_MISC
 \

666 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

672 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

675 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


684 #iâdeà
__USE_FILE_OFFSET64


685 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

687 #ifdeà
__REDIRECT


688 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

689 
	`__nÚnuÎ
 ((1)è
__wur
;

691 
	#mk¡emp
 
mk¡emp64


	)

694 #ifdeà
__USE_LARGEFILE64


695 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

699 #ifdeà
__USE_MISC


706 #iâdeà
__USE_FILE_OFFSET64


707 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

711 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

713 
	#mk¡emps
 
mk¡emps64


	)

716 #ifdeà
__USE_LARGEFILE64


717 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

718 
	`__nÚnuÎ
 ((1)è
__wur
;

722 #ifdeà
__USE_XOPEN2K8


728 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

731 #ifdeà
__USE_GNU


738 #iâdeà
__USE_FILE_OFFSET64


739 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__REDIRECT


742 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

743 
	`__nÚnuÎ
 ((1)è
__wur
;

745 
	#mko¡emp
 
mko¡emp64


	)

748 #ifdeà
__USE_LARGEFILE64


749 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

758 #iâdeà
__USE_FILE_OFFSET64


759 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

760 
	`__nÚnuÎ
 ((1)è
__wur
;

762 #ifdeà
__REDIRECT


763 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

764 
__æags
), 
mko¡emps64
)

765 
	`__nÚnuÎ
 ((1)è
__wur
;

767 
	#mko¡emps
 
mko¡emps64


	)

770 #ifdeà
__USE_LARGEFILE64


771 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

772 
	`__nÚnuÎ
 ((1)è
__wur
;

781 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

784 #ifdef 
__USE_GNU


787 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

788 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

791 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


797 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

798 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

803 #iâdeà
__COMPAR_FN_T


804 
	#__COMPAR_FN_T


	)

805 (*
	t__com·r_â_t
) (const *, const *);

807 #ifdef 
__USE_GNU


808 
__com·r_â_t
 
	tcom·risÚ_â_t
;

811 #ifdeà
__USE_GNU


812 (*
	t__com·r_d_â_t
) (const *, const *, *);

817 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

818 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

819 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

821 #ifdeà
__USE_EXTERN_INLINES


822 
	~<b™s/¡dlib-b£¬ch.h
>

827 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

828 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

829 #ifdeà
__USE_GNU


830 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

831 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

832 
	`__nÚnuÎ
 ((1, 4));

837 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

838 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

840 #ifdeà
__USE_ISOC99


841 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

842 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
div_t
 
	$div
 (
__num”
, 
__d’om
)

850 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

852 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

854 #ifdeà
__USE_ISOC99


855 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

856 
__d’om
)

857 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

861 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

862 || 
defšed
 
__USE_MISC


869 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

870 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

875 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

876 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

881 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

882 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

885 #ifdeà
__USE_MISC


887 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

888 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

889 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

891 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

892 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

893 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

894 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

899 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

900 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

901 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

902 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

903 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

904 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

906 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

907 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

908 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

910 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

911 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

912 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

913 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

922 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

923 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

926 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

930 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

931 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

933 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

934 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

935 
__THROW
;

938 #ifdeà
__USE_MISC


943 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

947 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


954 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

955 *cÚ¡ *
__»¡riù
 
__tok’s
,

956 **
__»¡riù
 
__v®u•
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

961 #ifdeà
__USE_XOPEN


963 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 #ifdeà
__USE_XOPEN2KXSI


971 
	$posix_İ’±
 (
__oæag
è
__wur
;

974 #ifdeà
__USE_XOPEN_EXTENDED


979 
	$g¿Á±
 (
__fd
è
__THROW
;

983 
	$uÆock±
 (
__fd
è
__THROW
;

988 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

991 #ifdeà
__USE_GNU


995 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

996 
__THROW
 
	`__nÚnuÎ
 ((2));

999 
	`g‘±
 ();

1002 #ifdeà
__USE_MISC


1006 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1));

1010 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1013 
	$‰y¦Ù
 (è
__THROW
;

1016 
	~<b™s/¡dlib-æßt.h
>

1019 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1020 
	~<b™s/¡dlib.h
>

1022 #ifdeà
__LDBL_COMPAT


1023 
	~<b™s/¡dlib-ldbl.h
>

1026 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


53 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

54 
__c
, 
size_t
 
__n
)

55 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

63 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

64 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

67 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


70 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

71 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

72 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

75 #ifdeà
__OPTIMIZE__


76 
__ex‹º_®ways_šlše
 *

77 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


79  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

82 
__ex‹º_®ways_šlše
 const *

83 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
	}
}

90 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

91 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

94 #ifdeà
__USE_GNU


97 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


98 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

99 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

100 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

101 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

108 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


109 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

110 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

112 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

122 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

124 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

125 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

129 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

133 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

137 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

139 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

140 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

146 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

147 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

148 
__THROW
 
	`__nÚnuÎ
 ((2));

150 #ifdeà
__USE_XOPEN2K8


152 
	~<b™s/ty³s/loÿË_t.h
>

155 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__l
)

156 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

159 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

160 
loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

163 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8
 \

164 || 
	$__GLIBC_USE
 (
LIB_EXT2
))

166 *
	$¡rdup
 (cÚ¡ *
__s
)

167 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

173 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

174 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

175 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


180 
	#¡rdu·
(
s
) \

181 (
__ex‹nsiÚ__
 \

183 cÚ¡ *
__Şd
 = (
s
); \

184 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

185 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

186 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

187 
	}
}))

	)

190 
	#¡ºdu·
(
s
, 
n
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

196 
__Ãw
[
__Ën
] = '\0'; \

197 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

198 }))

	)

202 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


205 *
¡rchr
 (*
__s
, 
__c
)

206 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

207 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

208 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

210 #ifdeà
__OPTIMIZE__


211 
__ex‹º_®ways_šlše
 *

212 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


214  
__butš_¡rchr
 (
__s
, 
__c
);

217 
__ex‹º_®ways_šlše
 const *

218 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

225 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

226 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

229 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


232 *
	`¡¼chr
 (*
__s
, 
__c
)

233 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

234 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

235 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__OPTIMIZE__


238 
__ex‹º_®ways_šlše
 *

239 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


241  
	`__butš_¡¼chr
 (
__s
, 
__c
);

244 
__ex‹º_®ways_šlše
 const *

245 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
	}
}

252 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

253 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

256 #ifdeà
__USE_GNU


259 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


260 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

261 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

263 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

266 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

276 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

279 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


282 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

283 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__OPTIMIZE__


288 
__ex‹º_®ways_šlše
 *

289 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


291  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

294 
__ex‹º_®ways_šlše
 const *

295 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


297  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

300 
	}
}

302 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

303 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

306 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


309 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

310 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

311 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

312 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__OPTIMIZE__


315 
__ex‹º_®ways_šlše
 *

316 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


318  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

321 
__ex‹º_®ways_šlše
 const *

322 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


324  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

327 
	}
}

329 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

330 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

336 
__THROW
 
	`__nÚnuÎ
 ((2));

340 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

341 cÚ¡ *
__»¡riù
 
__d–im
,

342 **
__»¡riù
 
__§ve_±r
)

343 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

344 #ifdeà
__USE_POSIX


345 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

346 **
__»¡riù
 
__§ve_±r
)

347 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

350 #ifdeà
__USE_GNU


352 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


353 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

354 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

355 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

356 cÚ¡ *
__ÃedË
)

357 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

359 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

360 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 #ifdeà
__USE_GNU


368 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

369 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

374 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

375 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

376 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

377 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

378 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

379 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

384 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

385 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

387 #ifdef 
__USE_XOPEN2K8


390 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

391 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

397 #ifdeà
__USE_XOPEN2K


405 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


408 #ifdeà
__REDIRECT_NTH


409 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

410 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

411 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

413 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

414 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

420 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

421 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

425 #ifdeà
__USE_XOPEN2K8


427 *
	$¡»¼Ü_l
 (
__”ºum
, 
loÿË_t
 
__l
è
__THROW
;

430 #ifdeà
__USE_MISC


431 
	~<¡ršgs.h
>

435 
	$ex¶ic™_bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

439 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

440 cÚ¡ *
__»¡riù
 
__d–im
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 #ifdef 
__USE_XOPEN2K8


446 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

449 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

451 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

456 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

457 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

458 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

460 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

464 #ifdef 
__USE_GNU


466 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

467 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

470 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

473 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

475 #iâdeà
ba£Çme


480 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


481 "C++" *
	$ba£Çme
 (*
__f’ame
)

482 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

483 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

484 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

486 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

491 #ià
	`__GNUC_PREREQ
 (3,4)

492 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


494 
	~<b™s/¡ršg_fÜtif›d.h
>

498 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


23 
	#_TIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

33 
	~<b™s/time.h
>

37 
	~<b™s/ty³s/şock_t.h
>

38 
	~<b™s/ty³s/time_t.h
>

39 
	~<b™s/ty³s/¡ruù_tm.h
>

41 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_ISOC11


42 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

45 #ifdeà
__USE_POSIX199309


46 
	~<b™s/ty³s/şockid_t.h
>

47 
	~<b™s/ty³s/tim”_t.h
>

48 
	~<b™s/ty³s/¡ruù_™im”¥ec.h
>

49 
	gsigev’t
;

52 #ifdeà
__USE_XOPEN2K


53 #iâdeà
__pid_t_defšed


54 
__pid_t
 
	tpid_t
;

55 
	#__pid_t_defšed


	)

59 #ifdeà
__USE_XOPEN2K8


60 
	~<b™s/ty³s/loÿË_t.h
>

63 #ifdeà
__USE_ISOC11


65 
	#TIME_UTC
 1

	)

68 
__BEGIN_DECLS


72 
şock_t
 
	$şock
 (è
__THROW
;

75 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

78 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

79 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

88 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
,

90 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

92 #ifdeà
__USE_XOPEN


95 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

96 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

97 
__THROW
;

100 #ifdeà
__USE_XOPEN2K8


104 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

105 cÚ¡ *
__»¡riù
 
__fÜm©
,

106 cÚ¡ 
tm
 *
__»¡riù
 
__
,

107 
loÿË_t
 
__loc
è
__THROW
;

110 #ifdeà
__USE_GNU


111 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

112 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

113 
loÿË_t
 
__loc
è
__THROW
;

119 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

123 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

125 #ifdeà
__USE_POSIX


128 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

129 
tm
 *
__»¡riù
 
__
è
__THROW
;

133 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

134 
tm
 *
__»¡riù
 
__
è
__THROW
;

139 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

142 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

144 #ifdeà
__USE_POSIX


149 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

150 *
__»¡riù
 
__buf
è
__THROW
;

153 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

154 *
__»¡riù
 
__buf
è
__THROW
;

159 *
__tzÇme
[2];

160 
__daylight
;

161 
__timezÚe
;

164 #ifdef 
__USE_POSIX


166 *
tzÇme
[2];

170 
	$tz£t
 (è
__THROW
;

173 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


174 
daylight
;

175 
timezÚe
;

178 #ifdeà
__USE_MISC


181 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

187 
	#__i¦—p
(
y—r
) \

188 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

191 #ifdeà
__USE_MISC


196 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

199 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

202 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

206 #ifdeà
__USE_POSIX199309


211 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

212 
time¥ec
 *
__»maššg
);

216 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

219 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

222 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

223 
__THROW
;

225 #ifdeà
__USE_XOPEN2K


230 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

231 cÚ¡ 
time¥ec
 *
__»q
,

232 
time¥ec
 *
__»m
);

235 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

240 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

241 
sigev’t
 *
__»¡riù
 
__evp
,

242 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

245 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

248 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

249 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

250 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

253 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

254 
__THROW
;

257 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

261 #ifdeà
__USE_ISOC11


263 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

264 
__THROW
 
	`__nÚnuÎ
 ((1));

268 #ifdeà
__USE_XOPEN_EXTENDED


280 
g‘d©e_”r
;

289 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

292 #ifdeà
__USE_GNU


303 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

304 
tm
 *
__»¡riù
 
__»sbuå
);

307 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<b™s/posix_İt.h
>

208 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


209 
	~<b™s/’vœÚm’ts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<b™s/ty³s.h
>

222 #iâdef 
__ssize_t_defšed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_defšed


	)

227 
	#__Ãed_size_t


	)

228 
	#__Ãed_NULL


	)

229 
	~<¡ddef.h
>

231 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


234 #iâdeà
__gid_t_defšed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_defšed


	)

239 #iâdeà
__uid_t_defšed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_defšed


	)

244 #iâdeà
__off_t_defšed


245 #iâdeà
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_defšed


	)

252 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_defšed


	)

257 #iâdeà
__u£cÚds_t_defšed


258 
__u£cÚds_t
 
	tu£cÚds_t
;

259 
	#__u£cÚds_t_defšed


	)

262 #iâdeà
__pid_t_defšed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_defšed


	)

268 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


269 #iâdeà
__šŒ_t_defšed


270 
__šŒ_t
 
	tšŒ_t
;

271 
	#__šŒ_t_defšed


	)

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


276 #iâdeà
__sockËn_t_defšed


277 
__sockËn_t
 
	tsockËn_t
;

278 
	#__sockËn_t_defšed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 #ifdeà
__USE_GNU


295 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

296 
__THROW
 
	`__nÚnuÎ
 ((1));

299 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

303 #ifdeà
__USE_ATFILE


307 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

308 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

313 #iâdef 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifdeà
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #iâdeà
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

339 #ifdeà
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifdeà
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

349 
__THROW
;

356 
	`şo£
 (
__fd
);

363 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

369 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

371 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


372 #iâdeà
__USE_FILE_OFFSET64


379 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

380 
__off_t
 
__off£t
è
__wur
;

387 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
è
__wur
;

390 #ifdeà
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

392 
__off64_t
 
__off£t
),

393 
´—d64
è
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

395 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

396 
pwr™e64
è
__wur
;

398 
	#´—d
 
´—d64


	)

399 
	#pwr™e
 
pwr™e64


	)

403 #ifdeà
__USE_LARGEFILE64


407 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

408 
__off64_t
 
__off£t
è
__wur
;

411 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
è
__wur
;

420 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

422 #ifdeà
__USE_GNU


425 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

435 
	$®¬m
 (
__£cÚds
è
__THROW
;

447 
	`¦“p
 (
__£cÚds
);

449 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

450 || 
defšed
 
__USE_MISC


455 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

456 
__THROW
;

463 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

472 
	`·u£
 ();

476 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

479 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

486 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

491 #ifdeà
__USE_ATFILE


494 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

495 
__gid_t
 
__group
, 
__æag
)

496 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

500 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

502 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


504 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

514 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

523 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

524 || 
defšed
 
__USE_MISC


528 *
	$g‘wd
 (*
__buf
)

529 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

534 
	$dup
 (
__fd
è
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

539 #ifdeà
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

546 **
__’vœÚ
;

547 #ifdeà
__USE_GNU


548 **
’vœÚ
;

554 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

555 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdeà
__USE_XOPEN2K8


560 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

561 
__THROW
 
	`__nÚnuÎ
 ((2));

566 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

588 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

590 #ifdeà
__USE_GNU


593 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

594 *cÚ¡ 
__’vp
[])

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


601 
	$niû
 (
__šc
è
__THROW
 
__wur
;

606 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

612 
	~<b™s/cÚâame.h
>

615 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

619 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

622 
	$syscÚf
 (
__Çme
è
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

631 
__pid_t
 
	$g‘pid
 (è
__THROW
;

634 
__pid_t
 
	$g‘µid
 (è
__THROW
;

637 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

640 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

641 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


642 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

649 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

651 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


663 
	$£g½
 (è
__THROW
;

670 
__pid_t
 
	$£tsid
 (è
__THROW
;

672 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


674 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

678 
__uid_t
 
	$g‘uid
 (è
__THROW
;

681 
__uid_t
 
	$g‘euid
 (è
__THROW
;

684 
__gid_t
 
	$g‘gid
 (è
__THROW
;

687 
__gid_t
 
	$g‘egid
 (è
__THROW
;

692 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

705 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


708 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

711 #ifdeà
__USE_XOPEN2K


713 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

722 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


725 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

728 #ifdeà
__USE_XOPEN2K


730 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

733 #ifdeà
__USE_GNU


736 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

737 
__THROW
;

741 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

742 
__THROW
;

746 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

747 
__THROW
 
__wur
;

751 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

761 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

762 || 
defšed
 
__USE_MISC


767 
__pid_t
 
	$vfÜk
 (è
__THROW
;

773 *
	$‰yÇme
 (
__fd
è
__THROW
;

777 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

778 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

782 
	$i§‰y
 (
__fd
è
__THROW
;

784 #ifdeà
__USE_MISC


787 
	$‰y¦Ù
 (è
__THROW
;

792 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

793 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

795 #ifdeà
__USE_ATFILE


798 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

799 cÚ¡ *
__to
, 
__æags
)

800 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

803 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


805 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

806 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

811 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

812 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

813 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

816 #ifdeà
__USE_ATFILE


818 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

819 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

822 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

823 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

824 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

828 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

830 #ifdeà
__USE_ATFILE


832 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

833 
__THROW
 
	`__nÚnuÎ
 ((2));

837 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

841 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

844 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

851 *
	`g‘logš
 ();

852 #ifdeà
__USE_POSIX199506


859 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

862 #ifdef 
__USE_MISC


864 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

868 #ifdef 
__USE_POSIX2


872 
	~<b™s/g‘İt_posix.h
>

876 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


880 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

884 #ià
defšed
 
__USE_MISC


887 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

888 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

892 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

898 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

899 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

900 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

901 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

907 
	$vhªgup
 (è
__THROW
;

910 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

918 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

919 
size_t
 
__off£t
, 
__sÿË
)

920 
__THROW
 
	`__nÚnuÎ
 ((1));

926 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

930 *
	$g‘u£rsh–l
 (è
__THROW
;

931 
	$’du£rsh–l
 (è
__THROW
;

932 
	$£tu£rsh–l
 (è
__THROW
;

938 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

942 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

945 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

949 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

957 
	`fsync
 (
__fd
);

960 #ifdeà
__USE_GNU


963 
	$syncfs
 (
__fd
è
__THROW
;

967 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


970 
	`g‘ho¡id
 ();

973 
	$sync
 (è
__THROW
;

976 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


979 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

984 
	$g‘dbËsize
 (è
__THROW
;

990 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


993 #iâdeà
__USE_FILE_OFFSET64


994 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

995 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

997 #ifdeà
__REDIRECT_NTH


998 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

999 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1000 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1002 
	#Œunÿ‹
 
Œunÿ‹64


	)

1005 #ifdeà
__USE_LARGEFILE64


1006 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1012 #ià
defšed
 
__USE_POSIX199309
 \

1013 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1016 #iâdeà
__USE_FILE_OFFSET64


1017 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1019 #ifdeà
__REDIRECT_NTH


1020 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1021 
árunÿ‹64
è
__wur
;

1023 
	#árunÿ‹
 
árunÿ‹64


	)

1026 #ifdeà
__USE_LARGEFILE64


1027 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1033 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1034 || 
defšed
 
__USE_MISC


1038 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1044 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1048 #ifdeà
__USE_MISC


1059 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1064 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1076 
	#F_ULOCK
 0

	)

1077 
	#F_LOCK
 1

	)

1078 
	#F_TLOCK
 2

	)

1079 
	#F_TEST
 3

	)

1081 #iâdeà
__USE_FILE_OFFSET64


1082 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1084 #ifdeà
__REDIRECT


1085 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1086 
lockf64
è
__wur
;

1088 
	#lockf
 
lockf64


	)

1091 #ifdeà
__USE_LARGEFILE64


1092 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1097 #ifdeà
__USE_GNU


1102 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1103 (
__ex‹nsiÚ__
 \

1104 ({ 
__»suÉ
; \

1105 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1106 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1107 
__»suÉ
; 
	}
}))

	)

1110 
ssize_t
 
cİy_fe_¿nge
 (
__šfd
, 
__off64_t
 *
__pšoff
,

1111 
__outfd
, 
__off64_t
 *
__poutoff
,

1112 
size_t
 
__Ëngth
, 
__æags
);

1115 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1118 
fd©async
 (
__fdes
);

1124 #ifdef 
__USE_XOPEN


1126 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1127 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1131 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1132 
__THROW
 
	`__nÚnuÎ
 ((1));

1139 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1140 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1147 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1149 *
	$ù”mid
 (*
__s
è
__THROW
;

1152 *
	`cu£rid
 (*
__s
);

1158 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_XOPEN2K


1159 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1160 (*
__·»Á
) (),

1161 (*
__chd
è()è
__THROW
;

1164 #ifdeà
__USE_MISC


1167 
	$g‘’Œİy
 (*
__bufãr
, 
size_t
 
__Ëngth
è
__wur
;

1171 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1172 
	~<b™s/uni¡d.h
>

1175 
__END_DECLS


	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


24 
	#_WCHAR_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

30 
	~<b™s/æßŠ.h
>

32 
	#__Ãed_size_t


	)

33 
	#__Ãed_wch¬_t


	)

34 
	#__Ãed_NULL


	)

35 
	~<¡ddef.h
>

37 
	#__Ãed___va_li¡


	)

38 
	~<¡d¬g.h
>

40 
	~<b™s/wch¬.h
>

41 
	~<b™s/ty³s/wšt_t.h
>

42 
	~<b™s/ty³s/mb¡©e_t.h
>

43 
	~<b™s/ty³s/__FILE.h
>

45 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


46 
	~<b™s/ty³s/FILE.h
>

48 #ifdeà
__USE_XOPEN2K8


49 
	~<b™s/ty³s/loÿË_t.h
>

53 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

54 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

57 #iâdeà
WCHAR_MIN


59 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

60 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

63 #iâdeà
WEOF


64 
	#WEOF
 (0xffffffffu)

	)

74 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_GNU
 \

75 && !(
defšed
 
	g__USE_XOPEN2K
 && !defšed 
	g__USE_XOPEN2KXSI
))

76 
	~<b™s/wùy³-wch¬.h
>

79 
__BEGIN_DECLS


83 
	gtm
;

87 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

88 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

89 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

92 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

93 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

94 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

97 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

98 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

99 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

101 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

102 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

103 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

106 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

109 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

110 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

112 #ifdeà
__USE_XOPEN2K8


114 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

117 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

118 
size_t
 
__n
è
__THROW
;

122 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

123 
loÿË_t
 
__loc
è
__THROW
;

125 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

126 
size_t
 
__n
, 
loÿË_t
 
__loc
è
__THROW
;

131 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

135 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

136 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

138 #ifdeà
__USE_XOPEN2K8


144 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

145 
loÿË_t
 
__loc
è
__THROW
;

150 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

151 
size_t
 
__n
, 
loÿË_t
 
__loc
è
__THROW
;

154 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

158 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


159 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

160 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

161 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

162 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

164 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

165 
__THROW
 
__©Œibu‹_pu»__
;

168 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


169 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

170 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

171 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

172 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

174 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

175 
__THROW
 
__©Œibu‹_pu»__
;

178 #ifdeà
__USE_GNU


181 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

182 
__THROW
 
__©Œibu‹_pu»__
;

187 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

188 
__THROW
 
__©Œibu‹_pu»__
;

191 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

192 
__THROW
 
__©Œibu‹_pu»__
;

194 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


195 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

196 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

197 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

198 cÚ¡ 
wch¬_t
 *
__acû±
)

199 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

201 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

202 
__THROW
 
__©Œibu‹_pu»__
;

205 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


206 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

207 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

208 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

209 cÚ¡ 
wch¬_t
 *
__ÃedË
)

210 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

212 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

213 
__THROW
 
__©Œibu‹_pu»__
;

217 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

218 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

219 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

222 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

224 #ifdeà
__USE_XOPEN


226 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


227 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

228 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

229 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

230 cÚ¡ 
wch¬_t
 *
__ÃedË
)

231 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

233 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

234 
__THROW
 
__©Œibu‹_pu»__
;

238 #ifdeà
__USE_XOPEN2K8


240 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

241 
__THROW
 
__©Œibu‹_pu»__
;

246 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


247 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

248 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

249 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

250 
size_t
 
__n
)

251 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

253 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

254 
__THROW
 
__©Œibu‹_pu»__
;

258 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

259 
__THROW
 
__©Œibu‹_pu»__
;

262 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

263 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

267 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

268 
__THROW
;

271 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

273 #ifdeà
__USE_GNU


276 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

277 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

278 
__THROW
;

284 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

288 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

292 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

296 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

297 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

298 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

301 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

302 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

305 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

306 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

307 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

308 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

310 #ifdeà
__USE_EXTERN_INLINES


316 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

317 
__ex‹º_šlše
 
wšt_t


318 
	`__NTH
 (
	$btowc
 (
__c
))

319 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

320 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

322 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

323 
__ex‹º_šlše
 

324 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

325 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

326 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

328 
__ex‹º_šlše
 
size_t


329 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

330 
mb¡©e_t
 *
__»¡riù
 
__ps
))

331 {  (
__ps
 !ğ
NULL


332 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

337 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

338 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

339 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

343 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

344 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

345 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

348 #ifdef 
__USE_XOPEN2K8


351 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

352 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

353 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

357 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

358 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

359 
size_t
 
__nwc
, size_ˆ
__Ën
,

360 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

365 #ifdeà
__USE_XOPEN


367 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

371 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

377 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

378 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

380 #ifdeà
__USE_ISOC99


382 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

383 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

384 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

385 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

390 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


391 
_Flßt16
 
	$wc¡of16
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

392 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

395 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


396 
_Flßt32
 
	$wc¡of32
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

397 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

400 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


401 
_Flßt64
 
	$wc¡of64
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

402 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

405 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


406 
_Flßt128
 
	$wc¡of128
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

407 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

410 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


411 
_Flßt32x
 
	$wc¡of32x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

412 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

415 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


416 
_Flßt64x
 
	$wc¡of64x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

417 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

420 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


421 
_Flßt128x
 
	$wc¡of128x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

422 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

428 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

429 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

433 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

434 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

435 
__THROW
;

437 #ifdeà
__USE_ISOC99


440 
__ex‹nsiÚ__


441 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

442 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

443 
__THROW
;

447 
__ex‹nsiÚ__


448 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

449 
wch¬_t
 **
__»¡riù
 
__’d±r
,

450 
__ba£
è
__THROW
;

453 #ifdeà
__USE_GNU


456 
__ex‹nsiÚ__


457 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

459 
__THROW
;

463 
__ex‹nsiÚ__


464 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

465 
wch¬_t
 **
__»¡riù
 
__’d±r
,

466 
__ba£
è
__THROW
;

469 #ifdeà
__USE_GNU


473 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

475 
loÿË_t
 
__loc
è
__THROW
;

477 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

478 
wch¬_t
 **
__»¡riù
 
__’d±r
,

479 
__ba£
, 
loÿË_t
 
__loc
è
__THROW
;

481 
__ex‹nsiÚ__


482 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

483 
wch¬_t
 **
__»¡riù
 
__’d±r
,

484 
__ba£
, 
loÿË_t
 
__loc
è
__THROW
;

486 
__ex‹nsiÚ__


487 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

488 
wch¬_t
 **
__»¡riù
 
__’d±r
,

489 
__ba£
, 
loÿË_t
 
__loc
)

490 
__THROW
;

492 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

493 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

494 
__THROW
;

496 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

497 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

498 
__THROW
;

500 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
,

502 
loÿË_t
 
__loc
è
__THROW
;

504 #ià
__HAVE_FLOAT16


505 
_Flßt16
 
	$wc¡of16_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

506 
wch¬_t
 **
__»¡riù
 
__’d±r
,

507 
loÿË_t
 
__loc
è
__THROW
;

510 #ià
__HAVE_FLOAT32


511 
_Flßt32
 
	$wc¡of32_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

512 
wch¬_t
 **
__»¡riù
 
__’d±r
,

513 
loÿË_t
 
__loc
è
__THROW
;

516 #ià
__HAVE_FLOAT64


517 
_Flßt64
 
	$wc¡of64_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

518 
wch¬_t
 **
__»¡riù
 
__’d±r
,

519 
loÿË_t
 
__loc
è
__THROW
;

522 #ià
__HAVE_FLOAT128


523 
_Flßt128
 
	$wc¡of128_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

524 
wch¬_t
 **
__»¡riù
 
__’d±r
,

525 
loÿË_t
 
__loc
è
__THROW
;

528 #ià
__HAVE_FLOAT32X


529 
_Flßt32x
 
	$wc¡of32x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

530 
wch¬_t
 **
__»¡riù
 
__’d±r
,

531 
loÿË_t
 
__loc
è
__THROW
;

534 #ià
__HAVE_FLOAT64X


535 
_Flßt64x
 
	$wc¡of64x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

536 
wch¬_t
 **
__»¡riù
 
__’d±r
,

537 
loÿË_t
 
__loc
è
__THROW
;

540 #ià
__HAVE_FLOAT128X


541 
_Flßt128x
 
	$wc¡of128x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

542 
wch¬_t
 **
__»¡riù
 
__’d±r
,

543 
loÿË_t
 
__loc
è
__THROW
;

548 #ifdeà
__USE_XOPEN2K8


551 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

552 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

556 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

557 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

558 
__THROW
;

564 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

567 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

570 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


573 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

580 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

581 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

587 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

590 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

591 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

592 
__THROW
 ;

598 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

599 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

600 
__gnuc_va_li¡
 
__¬g
)

606 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

607 
__gnuc_va_li¡
 
__¬g
)

611 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

612 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

613 
__gnuc_va_li¡
 
__¬g
)

614 
__THROW
 ;

621 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

622 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

628 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

631 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

632 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

633 
__THROW
 ;

635 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

636 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

637 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

638 #ifdeà
__REDIRECT


642 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

643 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

644 
__isoc99_fwsÿnf
)

646 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

647 
__isoc99_wsÿnf
)

649 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

650 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

651 ...), 
__isoc99_swsÿnf
)

654 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

655 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

656 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

657 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

658 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

659 
__THROW
;

660 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

661 
	#wsÿnf
 
__isoc99_wsÿnf


	)

662 
	#swsÿnf
 
__isoc99_swsÿnf


	)

668 #ifdeà
__USE_ISOC99


673 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

674 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

675 
__gnuc_va_li¡
 
__¬g
)

681 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

682 
__gnuc_va_li¡
 
__¬g
)

685 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

686 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

687 
__gnuc_va_li¡
 
__¬g
)

688 
__THROW
 ;

690 #ià!
defšed
 
__USE_GNU
 \

691 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

692 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

693 #ifdeà
__REDIRECT


694 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

695 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

696 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

698 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

699 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

701 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

706 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

707 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

708 
__gnuc_va_li¡
 
__¬g
);

709 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

710 
__gnuc_va_li¡
 
__¬g
);

711 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

712 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

713 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

714 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

715 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

716 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

727 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

728 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

734 
wšt_t
 
	`g‘wch¬
 ();

741 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

742 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

748 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

756 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

757 
__FILE
 *
__»¡riù
 
__¡»am
);

763 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

764 
__FILE
 *
__»¡riù
 
__¡»am
);

771 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

774 #ifdeà
__USE_GNU


782 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

783 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

791 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

799 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

808 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

809 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

818 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

819 
__FILE
 *
__»¡riù
 
__¡»am
);

827 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

828 
__FILE
 *
__»¡riù
 
__¡»am
);

835 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

836 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

837 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

839 #ifdeà
__USE_GNU


842 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

843 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

844 cÚ¡ 
tm
 *
__»¡riù
 
__
,

845 
loÿË_t
 
__loc
è
__THROW
;

849 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


850 
	~<b™s/wch¬2.h
>

853 #ifdeà
__LDBL_COMPAT


854 
	~<b™s/wch¬-ldbl.h
>

857 
__END_DECLS


	@kmp_itt.inl

1 #ià
USE_ITT_BUILD


19 
	~"kmp.h
"

20 
	~"kmp_¡r.h
"

22 #ià
KMP_ITT_DEBUG


23 
kmp_boÙ¡¿p_lock_t
 
__kmp_™t_debug_lock
;

24 
	#KMP_ITT_DEBUG_LOCK
() \

25 { 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
__kmp_™t_debug_lock
); }

	)

26 
	#KMP_ITT_DEBUG_PRINT
(...) \

28 
	`årštf
(
¡d”r
, "#%02d: ", 
	`__kmp_g‘_gtid
()); \

29 
	`årštf
(
¡d”r
, 
__VA_ARGS__
); \

30 
	`fæush
(
¡d”r
); \

31 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
__kmp_™t_debug_lock
); \

32 }

	)

34 
	#KMP_ITT_DEBUG_LOCK
()

	)

35 
	#KMP_ITT_DEBUG_PRINT
(...)

	)

41 #ià
KMP_DEBUG


42 
	#LINKAGE


	)

44 
	#LINKAGE
 
šlše


	)

50 #ià
USE_ITT_ZCA


51 #ifdeà
__INTEL_COMPILER


52 #ià
__INTEL_COMPILER
 >= 1200

53 #undeà
__™t_sync_acquœed


54 #undeà
__™t_sync_»Ëasšg


55 
	#__™t_sync_acquœed
(
addr
) \

56 
	`__nÙify_zc_šŒšsic
((*)"sync_acquœed", 
addr
)

	)

57 
	#__™t_sync_»Ëasšg
(
addr
) \

58 
	`__nÙify_šŒšsic
((*)"sync_»Ëasšg", 
addr
)

	)

63 
kmp_boÙ¡¿p_lock_t
 
	gm‘ad©a_lock
 =

64 
KMP_BOOTSTRAP_LOCK_INITIALIZER
(
m‘ad©a_lock
);

83 
LINKAGE
 
	$__kmp_™t_»giÚ_fÜkšg
(
gtid
, 
‹am_size
, 
b¬r›rs
) {

84 #ià
USE_ITT_NOTIFY


85 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

86 ià(
‹am
->
t
.
t_aùive_Ëv–
 > 1) {

90 
id’t_t
 *
loc
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
)->
th
.
th_id’t
;

91 ià(
loc
) {

95 ià(
loc
->
»£rved_2
 == 0) {

96 ià(
__kmp_»giÚ_domaš_couÁ
 < 
KMP_MAX_FRAME_DOMAINS
) {

97 
äm
 =

98 
	`KMP_TEST_THEN_INC32
(&
__kmp_»giÚ_domaš_couÁ
);

99 ià(
äm
 >ğ
KMP_MAX_FRAME_DOMAINS
) {

100 
	`KMP_TEST_THEN_DEC32
(&
__kmp_»giÚ_domaš_couÁ
);

112 
loc
->
»£rved_2
 |ğ(
äm
 + 1);

117 *
buff
 = 
NULL
;

118 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

119 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$·¿Î–:%d@%s:%d:%d", 
¡r_loc
.
func
,

120 
‹am_size
, 
¡r_loc
.
fe
, sŒ_loc.
lše
,

121 
¡r_loc
.
cŞ
);

123 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

124 
__kmp_™t_»giÚ_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

125 
	`__™t_suµ»ss_pİ
();

127 
	`__kmp_¡r_ä“
(&
buff
);

128 ià(
b¬r›rs
) {

129 ià(
__kmp_b¬r›r_domaš_couÁ
 < 
KMP_MAX_FRAME_DOMAINS
) {

130 
äm
 = 
	`KMP_TEST_THEN_INC32
(

131 &
__kmp_b¬r›r_domaš_couÁ
);

132 ià(
äm
 >ğ
KMP_MAX_FRAME_DOMAINS
) {

133 
	`KMP_TEST_THEN_DEC32
(

134 &
__kmp_b¬r›r_domaš_couÁ
);

137 *
buff
 = 
NULL
;

138 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$b¬r›r@%s:%d", 
¡r_loc
.
func
,

139 
¡r_loc
.
fe
, sŒ_loc.
cŞ
);

140 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

141 
__kmp_™t_b¬r›r_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

142 
	`__™t_suµ»ss_pİ
();

143 
	`__kmp_¡r_ä“
(&
buff
);

145 
loc
->
»£rved_2
 |ğ(
äm
 + 1) << 16;

148 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

149 
	`__™t_äame_begš_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
);

154 
äm
 = (
loc
->
»£rved_2
 & 0x0000FFFF) - 1;

155 ià((
äm
 < 
KMP_MAX_FRAME_DOMAINS
) &&

156 (
__kmp_™t_»giÚ_‹am_size
[
äm
] !ğ
‹am_size
)) {

157 *
buff
 = 
NULL
;

158 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

159 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$·¿Î–:%d@%s:%d:%d", 
¡r_loc
.
func
,

160 
‹am_size
, 
¡r_loc
.
fe
, sŒ_loc.
lše
,

161 
¡r_loc
.
cŞ
);

163 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

164 
__kmp_™t_»giÚ_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

165 
	`__™t_suµ»ss_pİ
();

167 
	`__kmp_¡r_ä“
(&
buff
);

168 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

169 
__kmp_™t_»giÚ_‹am_size
[
äm
] = 
‹am_size
;

170 
	`__™t_äame_begš_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
);

172 
	`__™t_äame_begš_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
);

175 
	`KMP_ITT_DEBUG_LOCK
();

176 
	`KMP_ITT_DEBUG_PRINT
("[äm beg] gtid=%d, idx=%x,†oc:%p\n", 
gtid
,

177 
loc
->
»£rved_2
,†oc);

180 
	}
}

183 
LINKAGE
 
	$__kmp_™t_äame_subm™
(
gtid
, 
__™t_time¡amp
 
begš
,

184 
__™t_time¡amp
 
’d
, 
imb®ªû
,

185 
id’t_t
 *
loc
, 
‹am_size
, 
»giÚ
) {

186 #ià
USE_ITT_NOTIFY


187 ià(
»giÚ
) {

188 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

189 
£rŸlized
 = (
»giÚ
 == 2 ? 1 : 0);

190 ià(
‹am
->
t
.
t_aùive_Ëv–
 + 
£rŸlized
 > 1) {

196 ià((
loc
->
»£rved_2
 & 0x0000FFFF) == 0) {

197 ià(
__kmp_»giÚ_domaš_couÁ
 < 
KMP_MAX_FRAME_DOMAINS
) {

198 
äm
 =

199 
	`KMP_TEST_THEN_INC32
(&
__kmp_»giÚ_domaš_couÁ
);

200 ià(
äm
 >ğ
KMP_MAX_FRAME_DOMAINS
) {

201 
	`KMP_TEST_THEN_DEC32
(&
__kmp_»giÚ_domaš_couÁ
);

209 
loc
->
»£rved_2
 |ğ(
äm
 + 1);

214 *
buff
 = 
NULL
;

215 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

216 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$·¿Î–:%d@%s:%d:%d", 
¡r_loc
.
func
,

217 
‹am_size
, 
¡r_loc
.
fe
, sŒ_loc.
lše
,

218 
¡r_loc
.
cŞ
);

220 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

221 
__kmp_™t_»giÚ_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

222 
	`__™t_suµ»ss_pİ
();

224 
	`__kmp_¡r_ä“
(&
buff
);

225 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

226 
__kmp_™t_»giÚ_‹am_size
[
äm
] = 
‹am_size
;

227 
	`__™t_äame_subm™_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
, 
begš
, 
’d
);

232 
äm
 = (
loc
->
»£rved_2
 & 0x0000FFFF) - 1;

233 ià((
äm
 < 
KMP_MAX_FRAME_DOMAINS
) &&

234 (
__kmp_™t_»giÚ_‹am_size
[
äm
] !ğ
‹am_size
)) {

235 *
buff
 = 
NULL
;

236 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

237 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$·¿Î–:%d@%s:%d:%d", 
¡r_loc
.
func
,

238 
‹am_size
, 
¡r_loc
.
fe
, sŒ_loc.
lše
,

239 
¡r_loc
.
cŞ
);

241 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

242 
__kmp_™t_»giÚ_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

243 
	`__™t_suµ»ss_pİ
();

245 
	`__kmp_¡r_ä“
(&
buff
);

246 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

247 
__kmp_™t_»giÚ_‹am_size
[
äm
] = 
‹am_size
;

248 
	`__™t_äame_subm™_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
, 
begš
, 
’d
);

250 
	`__™t_äame_subm™_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
, 
begš
, 
’d
);

253 
	`KMP_ITT_DEBUG_LOCK
();

254 
	`KMP_ITT_DEBUG_PRINT
(

256 
gtid
, 
loc
->
»£rved_2
, 
»giÚ
,†oc, 
begš
, 
’d
);

259 ià(
loc
) {

260 ià((
loc
->
»£rved_2
 & 0xFFFF0000) == 0) {

261 ià(
__kmp_b¬r›r_domaš_couÁ
 < 
KMP_MAX_FRAME_DOMAINS
) {

262 
äm
 = 
	`KMP_TEST_THEN_INC32
(

263 &
__kmp_b¬r›r_domaš_couÁ
);

264 ià(
äm
 >ğ
KMP_MAX_FRAME_DOMAINS
) {

265 
	`KMP_TEST_THEN_DEC32
(

266 &
__kmp_b¬r›r_domaš_couÁ
);

270 
loc
->
»£rved_2
 |ğ(
äm
 + 1) << 16;

275 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

276 ià(
imb®ªû
) {

277 *
buff_imb
 = 
NULL
;

278 
buff_imb
 = 
	`__kmp_¡r_fÜm©
("%s$omp$barrier-imbalance:%d@%s:%d",

279 
¡r_loc
.
func
, 
‹am_size
, sŒ_loc.
fe
,

280 
¡r_loc
.
cŞ
);

281 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

282 
__kmp_™t_imb®ªû_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff_imb
);

283 
	`__™t_suµ»ss_pİ
();

284 
	`__™t_äame_subm™_v3
(
__kmp_™t_imb®ªû_domašs
[
äm
], 
NULL
, 
begš
,

285 
’d
);

286 
	`__kmp_¡r_ä“
(&
buff_imb
);

288 *
buff
 = 
NULL
;

289 
buff
 = 
	`__kmp_¡r_fÜm©
("%s$omp$b¬r›r@%s:%d", 
¡r_loc
.
func
,

290 
¡r_loc
.
fe
, sŒ_loc.
cŞ
);

291 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

292 
__kmp_™t_b¬r›r_domašs
[
äm
] = 
	`__™t_domaš_ü—‹
(
buff
);

293 
	`__™t_suµ»ss_pİ
();

294 
	`__™t_äame_subm™_v3
(
__kmp_™t_b¬r›r_domašs
[
äm
], 
NULL
, 
begš
,

295 
’d
);

296 
	`__kmp_¡r_ä“
(&
buff
);

298 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

301 ià(
imb®ªû
) {

302 
	`__™t_äame_subm™_v3
(

303 
__kmp_™t_imb®ªû_domašs
[(
loc
->
»£rved_2
 >> 16è- 1], 
NULL
,

304 
begš
, 
’d
);

306 
	`__™t_äame_subm™_v3
(

307 
__kmp_™t_b¬r›r_domašs
[(
loc
->
»£rved_2
 >> 16è- 1], 
NULL
,

308 
begš
, 
’d
);

311 
	`KMP_ITT_DEBUG_LOCK
();

312 
	`KMP_ITT_DEBUG_PRINT
(

313 "[äm sub] gtid=%d, idx=%x,†oc:%p, beg:%Îu,ƒnd:%Îu\n", 
gtid
,

314 
loc
->
»£rved_2
,†oc, 
begš
, 
’d
);

318 
	}
}

321 
LINKAGE
 
	$__kmp_™t_m‘ad©a_imb®ªû
(
gtid
, 
kmp_ušt64
 
begš
,

322 
kmp_ušt64
 
’d
, kmp_ušt64 
imb®ªû
,

323 
kmp_ušt64
 
»duùiÚ
) {

324 #ià
USE_ITT_NOTIFY


325 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

326 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

327 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

328 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

329 
m‘ad©a_domaš
 = 
	`__™t_domaš_ü—‹
("OMP Metadata");

330 
¡ršg_hªdË_imbl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_imbalance");

331 
¡ršg_hªdË_loİ
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_loop");

332 
¡ršg_hªdË_¢gl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_single");

333 
	`__™t_suµ»ss_pİ
();

335 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

338 
kmp_ušt64
 
imb®ªû_d©a
[4];

339 
imb®ªû_d©a
[0] = 
begš
;

340 
imb®ªû_d©a
[1] = 
’d
;

341 
imb®ªû_d©a
[2] = 
imb®ªû
;

342 
imb®ªû_d©a
[3] = 
»duùiÚ
;

344 
	`__™t_m‘ad©a_add
(
m‘ad©a_domaš
, 
__™t_nuÎ
, 
¡ršg_hªdË_imbl
,

345 
__™t_m‘ad©a_u64
, 4, 
imb®ªû_d©a
);

347 
	}
}

350 
LINKAGE
 
	$__kmp_™t_m‘ad©a_loİ
(
id’t_t
 *
loc
, 
kmp_ušt64
 
sched_ty³
,

351 
kmp_ušt64
 
™”©iÚs
, kmp_ušt64 
chunk
) {

352 #ià
USE_ITT_NOTIFY


353 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

354 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

355 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

356 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

357 
m‘ad©a_domaš
 = 
	`__™t_domaš_ü—‹
("OMP Metadata");

358 
¡ršg_hªdË_imbl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_imbalance");

359 
¡ršg_hªdË_loİ
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_loop");

360 
¡ršg_hªdË_¢gl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_single");

361 
	`__™t_suµ»ss_pİ
();

363 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

367 *
s_lše
;

368 *
s_cŞ
;

369 
	`KMP_DEBUG_ASSERT
(
loc
->
psourû
);

370 #ifdeà
__ılu¥lus


371 
s_lše
 = 
	`¡rchr
(
	`CCAST
(*, 
loc
->
psourû
), ';');

373 
s_lše
 = 
	`¡rchr
(
loc
->
psourû
, ';');

375 
	`KMP_DEBUG_ASSERT
(
s_lše
);

376 
s_lše
 = 
	`¡rchr
(s_line + 1, ';');

377 
	`KMP_DEBUG_ASSERT
(
s_lše
);

378 
s_lše
 = 
	`¡rchr
(s_line + 1, ';');

379 
	`KMP_DEBUG_ASSERT
(
s_lše
);

380 
s_cŞ
 = 
	`¡rchr
(
s_lše
 + 1, ';');

381 
	`KMP_DEBUG_ASSERT
(
s_cŞ
);

383 
kmp_ušt64
 
loİ_d©a
[5];

384 
loİ_d©a
[0] = 
	`©oi
(
s_lše
 + 1);

385 
loİ_d©a
[1] = 
	`©oi
(
s_cŞ
 + 1);

386 
loİ_d©a
[2] = 
sched_ty³
;

387 
loİ_d©a
[3] = 
™”©iÚs
;

388 
loİ_d©a
[4] = 
chunk
;

390 
	`__™t_m‘ad©a_add
(
m‘ad©a_domaš
, 
__™t_nuÎ
, 
¡ršg_hªdË_loİ
,

391 
__™t_m‘ad©a_u64
, 5, 
loİ_d©a
);

393 
	}
}

396 
LINKAGE
 
	$__kmp_™t_m‘ad©a_sšgË
(
id’t_t
 *
loc
) {

397 #ià
USE_ITT_NOTIFY


398 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

399 
	`__kmp_acquœe_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

400 ià(
m‘ad©a_domaš
 =ğ
NULL
) {

401 
	`__™t_suµ»ss_push
(
__™t_suµ»ss_memÜy_”rÜs
);

402 
m‘ad©a_domaš
 = 
	`__™t_domaš_ü—‹
("OMP Metadata");

403 
¡ršg_hªdË_imbl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_imbalance");

404 
¡ršg_hªdË_loİ
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_loop");

405 
¡ršg_hªdË_¢gl
 = 
	`__™t_¡ršg_hªdË_ü—‹
("omp_metadata_single");

406 
	`__™t_suµ»ss_pİ
();

408 
	`__kmp_»Ëa£_boÙ¡¿p_lock
(&
m‘ad©a_lock
);

411 
kmp_¡r_loc_t
 
¡r_loc
 = 
	`__kmp_¡r_loc_š™
(
loc
->
psourû
, 1);

412 
kmp_ušt64
 
sšgË_d©a
[2];

413 
sšgË_d©a
[0] = 
¡r_loc
.
lše
;

414 
sšgË_d©a
[1] = 
¡r_loc
.
cŞ
;

416 
	`__kmp_¡r_loc_ä“
(&
¡r_loc
);

418 
	`__™t_m‘ad©a_add
(
m‘ad©a_domaš
, 
__™t_nuÎ
, 
¡ršg_hªdË_¢gl
,

419 
__™t_m‘ad©a_u64
, 2, 
sšgË_d©a
);

421 
	}
}

424 
LINKAGE
 
	$__kmp_™t_»giÚ_¡¬tšg
(
gtid
) {

425 #ià
USE_ITT_NOTIFY


427 
	}
}

430 
LINKAGE
 
	$__kmp_™t_»giÚ_fšished
(
gtid
) {

431 #ià
USE_ITT_NOTIFY


433 
	}
}

436 
LINKAGE
 
	$__kmp_™t_»giÚ_jošed
(
gtid
) {

437 #ià
USE_ITT_NOTIFY


438 
kmp_‹am_t
 *
‹am
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

439 ià(
‹am
->
t
.
t_aùive_Ëv–
 > 1) {

443 
id’t_t
 *
loc
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
)->
th
.
th_id’t
;

444 ià(
loc
 &&†oc->
»£rved_2
) {

445 
äm
 = (
loc
->
»£rved_2
 & 0x0000FFFF) - 1;

446 ià(
äm
 < 
KMP_MAX_FRAME_DOMAINS
) {

447 
	`KMP_ITT_DEBUG_LOCK
();

448 
	`__™t_äame_’d_v3
(
__kmp_™t_»giÚ_domašs
[
äm
], 
NULL
);

449 
	`KMP_ITT_DEBUG_PRINT
("[ämƒnd] gtid=%d, idx=%x,†oc:%p\n", 
gtid
,

450 
loc
->
»£rved_2
,†oc);

454 
	}
}

483 *
	$__kmp_™t_b¬r›r_objeù
(
gtid
, 
bt
, 
£t_Çme
,

484 
d–


488 *
objeù
 = 
NULL
;

489 #ià
USE_ITT_NOTIFY


490 
kmp_šfo_t
 *
thr
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

491 
kmp_‹am_t
 *
‹am
 = 
thr
->
th
.
th_‹am
;

497 ià(
‹am
 !ğ
NULL
) {

500 
kmp_ušt64
 
couÁ”
 =

501 
‹am
->
t
.
t_b¬
[
bt
].
b_¬rived
 / 
KMP_BARRIER_STATE_BUMP
 + 
d–
;

504 
	`KMP_BUILD_ASSERT
((
kmp_‹am_t
è>ğ
bs_Ï¡_b¬r›r
);

506 
	`KMP_BUILD_ASSERT
((
kmp_‹am_t
è>ğ2 * 
bs_Ï¡_b¬r›r
);

509 
objeù
 = 
»š‹½»t_ÿ¡
<*>(

510 
	`kmp_ušŒ_t
(
‹am
) +

511 
couÁ”
 % ((
kmp_‹am_t
è/ 
bs_Ï¡_b¬r›r
) * bs_last_barrier +

512 
bt
);

513 
	`KMP_ITT_DEBUG_LOCK
();

514 
	`KMP_ITT_DEBUG_PRINT
("[b¬ obj]y³=%d, couÁ”=%Îd, objeù=%p\n", 
bt
,

515 
couÁ”
, 
objeù
);

517 ià(
£t_Çme
) {

518 
id’t_t
 cÚ¡ *
loc
 = 
NULL
;

519 cÚ¡ *
¤c
 = 
NULL
;

520 cÚ¡ *
ty³
 = "OMP Barrier";

521 
bt
) {

522 
bs_¶aš_b¬r›r
: {

525 
loc
 = 
thr
->
th
.
th_id’t
;

527 
kmp_št32
 
ex¶
 = 0;

528 
kmp_ušt32
 
im¶
 = 0;

529 ià(
loc
 !ğ
NULL
) {

530 
¤c
 = 
loc
->
psourû
;

531 
ex¶
 = (
loc
->
æags
 & 
KMP_IDENT_BARRIER_EXPL
) != 0;

532 
im¶
 = (
loc
->
æags
 & 
KMP_IDENT_BARRIER_IMPL
) != 0;

534 ià(
im¶
) {

535 
loc
->
æags
 & 
KMP_IDENT_BARRIER_IMPL_MASK
) {

536 
KMP_IDENT_BARRIER_IMPL_FOR
: {

537 
ty³
 = "OMP For Barrier";

539 
KMP_IDENT_BARRIER_IMPL_SECTIONS
: {

540 
ty³
 = "OMP Sections Barrier";

542 
KMP_IDENT_BARRIER_IMPL_SINGLE
: {

543 
ty³
 = "OMP Single Barrier";

545 
KMP_IDENT_BARRIER_IMPL_WORKSHARE
: {

546 
ty³
 = "OMP Workshare Barrier";

549 
ty³
 = "OMP Implicit Barrier";

550 
	`KMP_DEBUG_ASSERT
(0);

553 } ià(
ex¶
) {

554 
ty³
 = "OMP Explicit Barrier";

557 
bs_fÜkjoš_b¬r›r
: {

566 
loc
 = 
‹am
->
t
.
t_id’t
;

567 ià(
loc
 !ğ
NULL
) {

568 
¤c
 = 
loc
->
psourû
;

570 
ty³
 = "OMP Join Barrier";

573 
	`KMP_ITT_DEBUG_LOCK
();

574 
	`__™t_sync_ü—‹
(
objeù
, 
ty³
, 
¤c
, 
__™t_©Œ_b¬r›r
);

575 
	`KMP_ITT_DEBUG_PRINT
(

576 "[b¬ s] süeĞ%p, \"%s\", \"%s\", __™t_©Œ_b¬r›¸)\n", 
objeù
,

577 
ty³
, 
¤c
);

581  
objeù
;

582 
	}
}

585 
	$__kmp_™t_b¬r›r_¡¬tšg
(
gtid
, *
objeù
) {

586 #ià
USE_ITT_NOTIFY


587 ià(!
	`KMP_MASTER_GTID
(
gtid
)) {

588 
	`KMP_ITT_DEBUG_LOCK
();

589 
	`__™t_sync_»Ëasšg
(
objeù
);

590 
	`KMP_ITT_DEBUG_PRINT
("[b¬ s] s»lĞ%°)\n", 
objeù
);

592 
	`KMP_ITT_DEBUG_LOCK
();

593 
	`__™t_sync_´•¬e
(
objeù
);

594 
	`KMP_ITT_DEBUG_PRINT
("[b¬ s] s´eĞ%°)\n", 
objeù
);

596 
	}
}

599 
	$__kmp_™t_b¬r›r_middË
(
gtid
, *
objeù
) {

600 #ià
USE_ITT_NOTIFY


601 ià(
	`KMP_MASTER_GTID
(
gtid
)) {

602 
	`KMP_ITT_DEBUG_LOCK
();

603 
	`__™t_sync_acquœed
(
objeù
);

604 
	`KMP_ITT_DEBUG_PRINT
("[b¬ mid] sacqĞ%°)\n", 
objeù
);

605 
	`KMP_ITT_DEBUG_LOCK
();

606 
	`__™t_sync_»Ëasšg
(
objeù
);

607 
	`KMP_ITT_DEBUG_PRINT
("[b¬ mid] s»lĞ%°)\n", 
objeù
);

611 
	}
}

614 
	$__kmp_™t_b¬r›r_fšished
(
gtid
, *
objeù
) {

615 #ià
USE_ITT_NOTIFY


616 ià(
	`KMP_MASTER_GTID
(
gtid
)) {

618 
	`KMP_ITT_DEBUG_LOCK
();

619 
	`__™t_sync_acquœed
(
objeù
);

620 
	`KMP_ITT_DEBUG_PRINT
("[b¬ƒnd] sacqĞ%°)\n", 
objeù
);

623 
	}
}

629 *
	$__kmp_™t_skwa™_objeù
(
gtid
) {

630 *
objeù
 = 
NULL
;

631 #ià
USE_ITT_NOTIFY


632 ià(
__™t_sync_ü—‹_±r
) {

633 
kmp_šfo_t
 *
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

634 
kmp_skd©a_t
 *
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

635 
objeù
 = 
»š‹½»t_ÿ¡
<*>(
	`kmp_ušŒ_t
(
skd©a
) +

636 
skd©a
->
td_skwa™_couÁ”
 %

637 (
kmp_skd©a_t
));

640  
objeù
;

641 
	}
}

643 
	$__kmp_™t_skwa™_¡¬tšg
(
gtid
, *
objeù
) {

644 #ià
USE_ITT_NOTIFY


645 
kmp_šfo_t
 *
th»ad
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

646 
kmp_skd©a_t
 *
skd©a
 = 
th»ad
->
th
.
th_cu¼’t_sk
;

647 
id’t_t
 cÚ¡ *
loc
 = 
skd©a
->
td_skwa™_id’t
;

648 cÚ¡ *
¤c
 = (
loc
 =ğ
NULL
 ? NULL :†oc->
psourû
);

649 
	`KMP_ITT_DEBUG_LOCK
();

650 
	`__™t_sync_ü—‹
(
objeù
, "OMP Taskwa™", 
¤c
, 0);

651 
	`KMP_ITT_DEBUG_PRINT
("[twa sta] scre( %p, \"OMP Taskwait\", \"%s\", 0 )\n",

652 
objeù
, 
¤c
);

653 
	`KMP_ITT_DEBUG_LOCK
();

654 
	`__™t_sync_´•¬e
(
objeù
);

655 
	`KMP_ITT_DEBUG_PRINT
("[tw¨¡a] s´eĞ%°)\n", 
objeù
);

657 
	}
}

659 
	$__kmp_™t_skwa™_fšished
(
gtid
, *
objeù
) {

660 #ià
USE_ITT_NOTIFY


661 
	`KMP_ITT_DEBUG_LOCK
();

662 
	`__™t_sync_acquœed
(
objeù
);

663 
	`KMP_ITT_DEBUG_PRINT
("[tw¨’d] sacqĞ%°)\n", 
objeù
);

664 
	`KMP_ITT_DEBUG_LOCK
();

665 
	`__™t_sync_de¡roy
(
objeù
);

666 
	`KMP_ITT_DEBUG_PRINT
("[tw¨’d] sdesĞ%°)\n", 
objeù
);

668 
	}
}

675 
	$__kmp_™t_sk_¡¬tšg
(

676 *
objeù


678 #ià
USE_ITT_NOTIFY


679 ià(
objeù
 !ğ
NULL
) {

680 
	`KMP_ITT_DEBUG_LOCK
();

681 
	`__™t_sync_ÿnûl
(
objeù
);

682 
	`KMP_ITT_DEBUG_PRINT
("[tsk s] sÿnĞ%°)\n", 
objeù
);

685 
	}
}

688 
	$__kmp_™t_sk_fšished
(

689 *
objeù


691 #ià
USE_ITT_NOTIFY


692 
	`KMP_ITT_DEBUG_LOCK
();

693 
	`__™t_sync_´•¬e
(
objeù
);

694 
	`KMP_ITT_DEBUG_PRINT
("[tskƒnd] s´eĞ%°)\n", 
objeù
);

696 
	}
}

713 #ià
KMP_USE_DYNAMIC_LOCK


715 
__kmp_šlše
 
	$___kmp_™t_lock_š™
(
kmp_u£r_lock_p
 
lock
, cÚ¡ *
ty³
,

716 cÚ¡ 
id’t_t
 *
loc
) {

717 #ià
USE_ITT_NOTIFY


718 ià(
__™t_sync_ü—‹_±r
) {

719 cÚ¡ *
¤c
 = (
loc
 =ğ
NULL
 ? NULL :†oc->
psourû
);

720 
	`KMP_ITT_DEBUG_LOCK
();

721 
	`__™t_sync_ü—‹
(
lock
, 
ty³
, 
¤c
, 0);

722 
	`KMP_ITT_DEBUG_PRINT
("[lck ini] süeĞ%p, \"%s\", \"%s\", 0 )\n", 
lock
, 
ty³
,

723 
¤c
);

726 
	}
}

730 
__kmp_šlše
 
	$___kmp_™t_lock_š™
(
kmp_u£r_lock_p
 
lock
, cÚ¡ *
ty³
) {

731 #ià
USE_ITT_NOTIFY


732 ià(
__™t_sync_ü—‹_±r
) {

733 
id’t_t
 cÚ¡ *
loc
 = 
NULL
;

734 ià(
__kmp_g‘_u£r_lock_loÿtiÚ_
 !ğ
NULL
)

735 
loc
 = 
	`__kmp_g‘_u£r_lock_loÿtiÚ_
((
lock
));

736 cÚ¡ *
¤c
 = (
loc
 =ğ
NULL
 ? NULL :†oc->
psourû
);

737 
	`KMP_ITT_DEBUG_LOCK
();

738 
	`__™t_sync_ü—‹
(
lock
, 
ty³
, 
¤c
, 0);

739 
	`KMP_ITT_DEBUG_PRINT
("[lck ini] süeĞ%p, \"%s\", \"%s\", 0 )\n", 
lock
, 
ty³
,

740 
¤c
);

743 
	}
}

748 
__kmp_šlše
 
	$___kmp_™t_lock_fši
(
kmp_u£r_lock_p
 
lock
, cÚ¡ *
ty³
) {

749 #ià
USE_ITT_NOTIFY


750 
	`KMP_ITT_DEBUG_LOCK
();

751 
	`__™t_sync_de¡roy
(
lock
);

752 
	`KMP_ITT_DEBUG_PRINT
("[lck d¡] sdesĞ%°)\n", 
lock
);

754 
	}
}

757 #ià
KMP_USE_DYNAMIC_LOCK


758 
	$__kmp_™t_lock_ü—tšg
(
kmp_u£r_lock_p
 
lock
, cÚ¡ 
id’t_t
 *
loc
) {

759 
	`___kmp_™t_lock_š™
(
lock
, "OMP Lock", 
loc
);

760 
	}
}

762 
	$__kmp_™t_lock_ü—tšg
(
kmp_u£r_lock_p
 
lock
) {

763 
	`___kmp_™t_lock_š™
(
lock
, "OMP Lock");

764 
	}
}

767 
	$__kmp_™t_lock_acquœšg
(
kmp_u£r_lock_p
 
lock
) {

768 #ià
KMP_USE_DYNAMIC_LOCK
 && 
USE_ITT_NOTIFY


770 ià(
__™t_sync_´•¬e_±r
) {

771 ià(
	`KMP_EXTRACT_D_TAG
(
lock
) == 0) {

772 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

773 
	`__™t_sync_´•¬e
(
k
->
lock
);

775 
	`__™t_sync_´•¬e
(
lock
);

779 
	`__™t_sync_´•¬e
(
lock
);

781 
	}
}

783 
	$__kmp_™t_lock_acquœed
(
kmp_u£r_lock_p
 
lock
) {

784 #ià
KMP_USE_DYNAMIC_LOCK
 && 
USE_ITT_NOTIFY


786 ià(
__™t_sync_acquœed_±r
) {

787 ià(
	`KMP_EXTRACT_D_TAG
(
lock
) == 0) {

788 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

789 
	`__™t_sync_acquœed
(
k
->
lock
);

791 
	`__™t_sync_acquœed
(
lock
);

795 
	`__™t_sync_acquœed
(
lock
);

797 
	}
}

799 
	$__kmp_™t_lock_»Ëasšg
(
kmp_u£r_lock_p
 
lock
) {

800 #ià
KMP_USE_DYNAMIC_LOCK
 && 
USE_ITT_NOTIFY


801 ià(
__™t_sync_»Ëasšg_±r
) {

802 ià(
	`KMP_EXTRACT_D_TAG
(
lock
) == 0) {

803 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

804 
	`__™t_sync_»Ëasšg
(
k
->
lock
);

806 
	`__™t_sync_»Ëasšg
(
lock
);

810 
	`__™t_sync_»Ëasšg
(
lock
);

812 
	}
}

814 
	$__kmp_™t_lock_ÿnûÎed
(
kmp_u£r_lock_p
 
lock
) {

815 #ià
KMP_USE_DYNAMIC_LOCK
 && 
USE_ITT_NOTIFY


816 ià(
__™t_sync_ÿnûl_±r
) {

817 ià(
	`KMP_EXTRACT_D_TAG
(
lock
) == 0) {

818 
kmp_šdœeù_lock_t
 *
k
 = 
	`KMP_LOOKUP_I_LOCK
(
lock
);

819 
	`__™t_sync_ÿnûl
(
k
->
lock
);

821 
	`__™t_sync_ÿnûl
(
lock
);

825 
	`__™t_sync_ÿnûl
(
lock
);

827 
	}
}

829 
	$__kmp_™t_lock_de¡royed
(
kmp_u£r_lock_p
 
lock
) {

830 
	`___kmp_™t_lock_fši
(
lock
, "OMP Lock");

831 
	}
}

836 #ià
KMP_USE_DYNAMIC_LOCK


837 
	$__kmp_™t_ü™iÿl_ü—tšg
(
kmp_u£r_lock_p
 
lock
, cÚ¡ 
id’t_t
 *
loc
) {

838 
	`___kmp_™t_lock_š™
(
lock
, "OMP Cr™iÿl", 
loc
);

839 
	}
}

841 
	$__kmp_™t_ü™iÿl_ü—tšg
(
kmp_u£r_lock_p
 
lock
) {

842 
	`___kmp_™t_lock_š™
(
lock
, "OMP Critical");

843 
	}
}

846 
	$__kmp_™t_ü™iÿl_acquœšg
(
kmp_u£r_lock_p
 
lock
) {

847 
	`__™t_sync_´•¬e
(
lock
);

848 
	}
}

850 
	$__kmp_™t_ü™iÿl_acquœed
(
kmp_u£r_lock_p
 
lock
) {

851 
	`__™t_sync_acquœed
(
lock
);

852 
	}
}

854 
	$__kmp_™t_ü™iÿl_»Ëasšg
(
kmp_u£r_lock_p
 
lock
) {

855 
	`__™t_sync_»Ëasšg
(
lock
);

856 
	}
}

858 
	$__kmp_™t_ü™iÿl_de¡royed
(
kmp_u£r_lock_p
 
lock
) {

859 
	`___kmp_™t_lock_fši
(
lock
, "OMP Critical");

860 
	}
}

864 
	$__kmp_™t_sšgË_¡¬t
(
gtid
) {

865 #ià
USE_ITT_NOTIFY


866 ià(
__™t_m¬k_ü—‹_±r
 || 
KMP_ITT_DEBUG
) {

867 
kmp_šfo_t
 *
thr
 = 
	`__kmp_th»ad_äom_gtid
((
gtid
));

868 
id’t_t
 *
loc
 = 
thr
->
th
.
th_id’t
;

869 cÚ¡ *
¤c
 = (
loc
 =ğ
NULL
 ? NULL :†oc->
psourû
);

870 
kmp_¡r_buf_t
 
Çme
;

871 
	`__kmp_¡r_buf_š™
(&
Çme
);

872 
	`__kmp_¡r_buf_´št
(&
Çme
, "OMP SšgË-%s", 
¤c
);

873 
	`KMP_ITT_DEBUG_LOCK
();

874 
thr
->
th
.
th_™t_m¬k_sšgË
 = 
	`__™t_m¬k_ü—‹
(
Çme
.
¡r
);

875 
	`KMP_ITT_DEBUG_PRINT
("[sš s] müeĞ\"%s\"è-> %d\n", 
Çme
.
¡r
,

876 
thr
->
th
.
th_™t_m¬k_sšgË
);

877 
	`__kmp_¡r_buf_ä“
(&
Çme
);

878 
	`KMP_ITT_DEBUG_LOCK
();

879 
	`__™t_m¬k
(
thr
->
th
.
th_™t_m¬k_sšgË
, 
NULL
);

880 
	`KMP_ITT_DEBUG_PRINT
("[sin sta] mark( %d, NULL )\n",

881 
thr
->
th
.
th_™t_m¬k_sšgË
);

884 
	}
}

886 
	$__kmp_™t_sšgË_’d
(
gtid
) {

887 #ià
USE_ITT_NOTIFY


888 
__™t_m¬k_ty³
 
m¬k
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
)->
th
.
th_™t_m¬k_sšgË
;

889 
	`KMP_ITT_DEBUG_LOCK
();

890 
	`__™t_m¬k_off
(
m¬k
);

891 
	`KMP_ITT_DEBUG_PRINT
("[sšƒnd] moffĞ%d )\n", 
m¬k
);

893 
	}
}

908 
	$__kmp_™t_Üd”ed_š™
(
gtid
) {

909 #ià
USE_ITT_NOTIFY


910 ià(
__™t_sync_ü—‹_±r
) {

911 
kmp_šfo_t
 *
thr
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

912 
id’t_t
 cÚ¡ *
loc
 = 
thr
->
th
.
th_id’t
;

913 cÚ¡ *
¤c
 = (
loc
 =ğ
NULL
 ? NULL :†oc->
psourû
);

914 
	`__™t_sync_ü—‹
(
thr
->
th
.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
,

915 "OMP Ord”ed", 
¤c
, 0);

918 
	}
}

920 
	$__kmp_™t_Üd”ed_´•
(
gtid
) {

921 #ià
USE_ITT_NOTIFY


922 ià(
__™t_sync_ü—‹_±r
) {

923 
kmp_‹am_t
 *
t
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

924 ià(!
t
->t.
t_£rŸlized
) {

925 
kmp_šfo_t
 *
th
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

926 
	`__™t_sync_´•¬e
(
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

930 
	}
}

932 
	$__kmp_™t_Üd”ed_¡¬t
(
gtid
) {

933 #ià
USE_ITT_NOTIFY


934 ià(
__™t_sync_ü—‹_±r
) {

935 
kmp_‹am_t
 *
t
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

936 ià(!
t
->t.
t_£rŸlized
) {

937 
kmp_šfo_t
 *
th
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

938 
	`__™t_sync_acquœed
(
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

942 
	}
}

944 
	$__kmp_™t_Üd”ed_’d
(
gtid
) {

945 #ià
USE_ITT_NOTIFY


946 ià(
__™t_sync_ü—‹_±r
) {

947 
kmp_‹am_t
 *
t
 = 
	`__kmp_‹am_äom_gtid
(
gtid
);

948 ià(!
t
->t.
t_£rŸlized
) {

949 
kmp_šfo_t
 *
th
 = 
	`__kmp_th»ad_äom_gtid
(
gtid
);

950 
	`__™t_sync_»Ëasšg
(
th
->th.
th_di¥©ch
->
th_di¥©ch_sh_cu¼’t
);

954 
	}
}

958 
	$__kmp_™t_th»ad_ignÜe
() {

959 
	`__™t_thr_ignÜe
();

960 
	}
}

962 
	$__kmp_™t_th»ad_Çme
(
gtid
) {

963 #ià
USE_ITT_NOTIFY


964 ià(
__™t_thr_Çme_£t_±r
) {

965 
kmp_¡r_buf_t
 
Çme
;

966 
	`__kmp_¡r_buf_š™
(&
Çme
);

967 ià(
	`KMP_MASTER_GTID
(
gtid
)) {

968 
	`__kmp_¡r_buf_´št
(&
Çme
, "OMP Ma¡” Th»ad #%d", 
gtid
);

970 
	`__kmp_¡r_buf_´št
(&
Çme
, "OMP WÜk” Th»ad #%d", 
gtid
);

972 
	`KMP_ITT_DEBUG_LOCK
();

973 
	`__™t_thr_Çme_£t
(
Çme
.
¡r
,‚ame.
u£d
);

974 
	`KMP_ITT_DEBUG_PRINT
("[th¸Çm]‚ameĞ\"%s\")\n", 
Çme
.
¡r
);

975 
	`__kmp_¡r_buf_ä“
(&
Çme
);

978 
	}
}

986 
	$__kmp_™t_sy¡em_objeù_ü—‹d
(*
objeù
, cÚ¡ *
Çme
) {

987 #ià
USE_ITT_NOTIFY


988 
	`KMP_ITT_DEBUG_LOCK
();

989 
	`__™t_sync_ü—‹
(
objeù
, "OMP ScheduËr", 
Çme
, 0);

990 
	`KMP_ITT_DEBUG_PRINT
("[sys obj] scre( %p, \"OMP Scheduler\", \"%s\", 0 )\n",

991 
objeù
, 
Çme
);

993 
	}
}

1000 
__™t_ÿÎ”
 
	$__kmp_™t_¡ack_ÿÎ”_ü—‹
() {

1001 #ià
USE_ITT_NOTIFY


1002 ià(!
__™t_¡ack_ÿÎ”_ü—‹_±r
)

1003  
NULL
;

1004 
	`KMP_ITT_DEBUG_LOCK
();

1005 
__™t_ÿÎ”
 
id
 = 
	`__™t_¡ack_ÿÎ”_ü—‹
();

1006 
	`KMP_ITT_DEBUG_PRINT
("[¡k c»] %p\n", 
id
);

1007  
id
;

1009  
NULL
;

1010 
	}
}

1012 
	$__kmp_™t_¡ack_ÿÎ”_de¡roy
(
__™t_ÿÎ”
 
id
) {

1013 #ià
USE_ITT_NOTIFY


1014 ià(
__™t_¡ack_ÿÎ”_de¡roy_±r
) {

1015 
	`KMP_ITT_DEBUG_LOCK
();

1016 
	`__™t_¡ack_ÿÎ”_de¡roy
(
id
);

1017 
	`KMP_ITT_DEBUG_PRINT
("[¡k des] %p\n", 
id
);

1020 
	}
}

1022 
	$__kmp_™t_¡ack_ÿÎ“_’‹r
(
__™t_ÿÎ”
 
id
) {

1023 #ià
USE_ITT_NOTIFY


1024 ià(
__™t_¡ack_ÿÎ“_’‹r_±r
) {

1025 
	`KMP_ITT_DEBUG_LOCK
();

1026 
	`__™t_¡ack_ÿÎ“_’‹r
(
id
);

1027 
	`KMP_ITT_DEBUG_PRINT
("[¡kƒÁ] %p\n", 
id
);

1030 
	}
}

1032 
	$__kmp_™t_¡ack_ÿÎ“_Ëave
(
__™t_ÿÎ”
 
id
) {

1033 #ià
USE_ITT_NOTIFY


1034 ià(
__™t_¡ack_ÿÎ“_Ëave_±r
) {

1035 
	`KMP_ITT_DEBUG_LOCK
();

1036 
	`__™t_¡ack_ÿÎ“_Ëave
(
id
);

1037 
	`KMP_ITT_DEBUG_PRINT
("[¡k†—] %p\n", 
id
);

1040 
	}
}

	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

61 
	~<b™s/ušŠ-id’t™y.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

80 
	#htobe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

81 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

82 
	#be16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

83 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

85 
	#htobe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

86 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

87 
	#be32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

88 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

90 
	#htobe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

91 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

92 
	#be64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

93 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

119 #undeà
__USE_ISOC11


120 #undeà
__USE_ISOC99


121 #undeà
__USE_ISOC95


122 #undeà
__USE_ISOCXX11


123 #undeà
__USE_POSIX


124 #undeà
__USE_POSIX2


125 #undeà
__USE_POSIX199309


126 #undeà
__USE_POSIX199506


127 #undeà
__USE_XOPEN


128 #undeà
__USE_XOPEN_EXTENDED


129 #undeà
__USE_UNIX98


130 #undeà
__USE_XOPEN2K


131 #undeà
__USE_XOPEN2KXSI


132 #undeà
__USE_XOPEN2K8


133 #undeà
__USE_XOPEN2K8XSI


134 #undeà
__USE_LARGEFILE


135 #undeà
__USE_LARGEFILE64


136 #undeà
__USE_FILE_OFFSET64


137 #undeà
__USE_MISC


138 #undeà
__USE_ATFILE


139 #undeà
__USE_GNU


140 #undeà
__USE_FORTIFY_LEVEL


141 #undeà
__KERNEL_STRICT_NAMES


142 #undeà
__GLIBC_USE_DEPRECATED_GETS


146 #iâdeà
_LOOSE_KERNEL_NAMES


147 
	#__KERNEL_STRICT_NAMES


	)

157 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


158 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

159 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

161 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

168 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


169 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

170 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

172 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

176 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

182 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

183 && !
defšed
 
	g_DEFAULT_SOURCE


185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

190 #ifdeà
_GNU_SOURCE


191 #undeà
_ISOC95_SOURCE


192 
	#_ISOC95_SOURCE
 1

	)

193 #undeà
_ISOC99_SOURCE


194 
	#_ISOC99_SOURCE
 1

	)

195 #undeà
_ISOC11_SOURCE


196 
	#_ISOC11_SOURCE
 1

	)

197 #undeà
_POSIX_SOURCE


198 
	#_POSIX_SOURCE
 1

	)

199 #undeà
_POSIX_C_SOURCE


200 
	#_POSIX_C_SOURCE
 200809L

	)

201 #undeà
_XOPEN_SOURCE


202 
	#_XOPEN_SOURCE
 700

	)

203 #undeà
_XOPEN_SOURCE_EXTENDED


204 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

205 #undeà
_LARGEFILE64_SOURCE


206 
	#_LARGEFILE64_SOURCE
 1

	)

207 #undeà
_DEFAULT_SOURCE


208 
	#_DEFAULT_SOURCE
 1

	)

209 #undeà
_ATFILE_SOURCE


210 
	#_ATFILE_SOURCE
 1

	)

215 #ià(
defšed
 
_DEFAULT_SOURCE
 \

216 || (!
defšed
 
	g__STRICT_ANSI__
 \

217 && !
defšed
 
	g_ISOC99_SOURCE
 \

218 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

219 && !
defšed
 
	g_XOPEN_SOURCE
))

220 #undeà
_DEFAULT_SOURCE


221 
	#_DEFAULT_SOURCE
 1

	)

225 #ià(
defšed
 
_ISOC11_SOURCE
 \

226 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

227 
	#__USE_ISOC11
 1

	)

231 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

232 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

233 
	#__USE_ISOC99
 1

	)

237 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

238 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

239 
	#__USE_ISOC95
 1

	)

242 #ifdeà
__ılu¥lus


244 #ià
__ılu¥lus
 >= 201703L

245 
	#__USE_ISOC11
 1

	)

249 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


250 
	#__USE_ISOCXX11
 1

	)

251 
	#__USE_ISOC99
 1

	)

258 #ifdeà
_DEFAULT_SOURCE


259 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


260 
	#__USE_POSIX_IMPLICITLY
 1

	)

262 #undeà
_POSIX_SOURCE


263 
	#_POSIX_SOURCE
 1

	)

264 #undeà
_POSIX_C_SOURCE


265 
	#_POSIX_C_SOURCE
 200809L

	)

268 #ià((!
defšed
 
__STRICT_ANSI__
 \

269 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

270 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

271 
	#_POSIX_SOURCE
 1

	)

272 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

273 
	#_POSIX_C_SOURCE
 2

	)

274 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

275 
	#_POSIX_C_SOURCE
 199506L

	)

276 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

277 
	#_POSIX_C_SOURCE
 200112L

	)

279 
	#_POSIX_C_SOURCE
 200809L

	)

281 
	#__USE_POSIX_IMPLICITLY
 1

	)

290 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

291 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

292 
	#_POSIX_SOURCE
 1

	)

293 #undeà
_POSIX_C_SOURCE


294 
	#_POSIX_C_SOURCE
 199506L

	)

297 #ià(
defšed
 
_POSIX_SOURCE
 \

298 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

299 || 
defšed
 
_XOPEN_SOURCE
)

300 
	#__USE_POSIX
 1

	)

303 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


304 
	#__USE_POSIX2
 1

	)

307 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

308 
	#__USE_POSIX199309
 1

	)

311 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

312 
	#__USE_POSIX199506
 1

	)

315 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

316 
	#__USE_XOPEN2K
 1

	)

317 #undeà
__USE_ISOC95


318 
	#__USE_ISOC95
 1

	)

319 #undeà
__USE_ISOC99


320 
	#__USE_ISOC99
 1

	)

323 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

324 
	#__USE_XOPEN2K8
 1

	)

325 #undeà
_ATFILE_SOURCE


326 
	#_ATFILE_SOURCE
 1

	)

329 #ifdef 
_XOPEN_SOURCE


330 
	#__USE_XOPEN
 1

	)

331 #ià(
_XOPEN_SOURCE
 - 0) >= 500

332 
	#__USE_XOPEN_EXTENDED
 1

	)

333 
	#__USE_UNIX98
 1

	)

334 #undeà
_LARGEFILE_SOURCE


335 
	#_LARGEFILE_SOURCE
 1

	)

336 #ià(
_XOPEN_SOURCE
 - 0) >= 600

337 #ià(
_XOPEN_SOURCE
 - 0) >= 700

338 
	#__USE_XOPEN2K8
 1

	)

339 
	#__USE_XOPEN2K8XSI
 1

	)

341 
	#__USE_XOPEN2K
 1

	)

342 
	#__USE_XOPEN2KXSI
 1

	)

343 #undeà
__USE_ISOC95


344 
	#__USE_ISOC95
 1

	)

345 #undeà
__USE_ISOC99


346 
	#__USE_ISOC99
 1

	)

349 #ifdeà
_XOPEN_SOURCE_EXTENDED


350 
	#__USE_XOPEN_EXTENDED
 1

	)

355 #ifdeà
_LARGEFILE_SOURCE


356 
	#__USE_LARGEFILE
 1

	)

359 #ifdeà
_LARGEFILE64_SOURCE


360 
	#__USE_LARGEFILE64
 1

	)

363 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

364 
	#__USE_FILE_OFFSET64
 1

	)

367 #ià
defšed
 
_DEFAULT_SOURCE


368 
	#__USE_MISC
 1

	)

371 #ifdef 
_ATFILE_SOURCE


372 
	#__USE_ATFILE
 1

	)

375 #ifdef 
_GNU_SOURCE


376 
	#__USE_GNU
 1

	)

379 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

380 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

381 #ià
_FORTIFY_SOURCE
 > 1

382 
	#__USE_FORTIFY_LEVEL
 2

	)

384 
	#__USE_FORTIFY_LEVEL
 1

	)

387 
	#__USE_FORTIFY_LEVEL
 0

	)

394 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


395 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

397 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

402 
	~<¡dc-´edef.h
>

410 #undeà
__GNU_LIBRARY__


411 
	#__GNU_LIBRARY__
 6

	)

415 
	#__GLIBC__
 2

	)

416 
	#__GLIBC_MINOR__
 27

	)

418 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

419 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

422 #iâdeà
__ASSEMBLER__


423 #iâdeà
_SYS_CDEFS_H


424 
	~<sys/cdefs.h
>

429 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


430 
	#__USE_LARGEFILE
 1

	)

431 
	#__USE_LARGEFILE64
 1

	)

437 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

438 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

439 && 
defšed
 
	g__ex‹º_šlše


440 
	#__USE_EXTERN_INLINES
 1

	)

448 
	~<gnu/¡ubs.h
>

	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

31 
	~<b™s/ty³s/time_t.h
>

32 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

33 #iâdeà
__USE_XOPEN2K


34 
	~<time.h
>

37 #iâdeà
__pid_t_defšed


38 
__pid_t
 
	tpid_t
;

39 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

44 
	~<b™s/ıu-£t.h
>

47 
	#sched_´iÜ™y
 
sched_´iÜ™y


	)

48 
	#__sched_´iÜ™y
 
sched_´iÜ™y


	)

51 
__BEGIN_DECLS


54 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

55 
__THROW
;

58 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

61 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

62 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

65 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

68 
	$sched_y›ld
 (è
__THROW
;

71 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

77 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

80 #ifdeà
__USE_GNU


82 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

83 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

84 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

86 
ıu£
)

	)

87 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

88 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

90 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

91 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

92 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

93 
ıu£
)

	)

94 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

95 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

97 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

98 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

99 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

100 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

102 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

103 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

104 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

105 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

106 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

107 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

108 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

109 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

110 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

111 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

112 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

113 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

115 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

116 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

117 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

121 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

122 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

125 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

126 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

129 
__END_DECLS


	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	#__Ãed_size_t


	)

23 
	~<¡ddef.h
>

26 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

27 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

30 
	g__BEGIN_DECLS


32 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


34 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

35 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

38 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

39 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

42 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

45 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


48 *
	`šdex
 (*
__s
, 
__c
)

49 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

50 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

51 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

53 #ià
defšed
 
__OPTIMIZE__


54 
__ex‹º_®ways_šlše
 *

55 
	`šdex
 (*
__s
, 
__c
è
__THROW


57  
	`__butš_šdex
 (
__s
, 
__c
);

60 
__ex‹º_®ways_šlše
 const *

61 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


63  
	`__butš_šdex
 (
__s
, 
__c
);

66 
	}
}

68 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

73 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


76 *
	`ršdex
 (*
__s
, 
__c
)

77 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

79 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ià
defšed
 
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`ršdex
 (*
__s
, 
__c
è
__THROW


85  
	`__butš_ršdex
 (
__s
, 
__c
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


91  
	`__butš_ršdex
 (
__s
, 
__c
);

94 
	}
}

96 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

101 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


104 
	$ffs
 (
__i
è
__THROW
 
__©Œibu‹_cÚ¡__
;

109 #ifdef 
__USE_MISC


110 
	$ff¦
 (
__l
è
__THROW
 
__©Œibu‹_cÚ¡__
;

111 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

112 
__THROW
 
__©Œibu‹_cÚ¡__
;

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

123 #ifdef 
__USE_XOPEN2K8


125 
	~<b™s/ty³s/loÿË_t.h
>

128 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__loc
)

129 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

133 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

134 
size_t
 
__n
, 
loÿË_t
 
__loc
)

135 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

138 
__END_DECLS


140 #ià
	`__GNUC_PREREQ
 (3,4è&& 
__USE_FORTIFY_LEVEL
 > 0 \

141 && 
defšed
 
__fÜtify_funùiÚ


143 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


144 
	~<b™s/¡ršgs_fÜtif›d.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

61 
	#__STDC_NO_THREADS__
 1

	)

	@
1
.
1
/usr/include
111
2079
extractExternal.cpp
kmp.h
kmp_affinity.cpp
kmp_affinity.h
kmp_alloc.cpp
kmp_atomic.cpp
kmp_atomic.h
kmp_barrier.cpp
kmp_cancel.cpp
kmp_csupport.cpp
kmp_debug.cpp
kmp_debug.h
kmp_debugger.cpp
kmp_debugger.h
kmp_dispatch.cpp
kmp_dispatch.h
kmp_dispatch_hier.h
kmp_environment.cpp
kmp_environment.h
kmp_error.cpp
kmp_error.h
kmp_ftn_cdecl.cpp
kmp_ftn_entry.h
kmp_ftn_extra.cpp
kmp_ftn_os.h
kmp_ftn_stdcall.cpp
kmp_global.cpp
kmp_gsupport.cpp
kmp_i18n.cpp
kmp_i18n.h
kmp_import.cpp
kmp_io.cpp
kmp_io.h
kmp_itt.cpp
kmp_itt.h
kmp_lock.cpp
kmp_lock.h
kmp_omp.h
kmp_os.h
kmp_platform.h
kmp_runtime.cpp
kmp_safe_c_api.h
kmp_sched.cpp
kmp_settings.cpp
kmp_settings.h
kmp_stats.cpp
kmp_stats.h
kmp_stats_timing.cpp
kmp_stats_timing.h
kmp_str.cpp
kmp_str.h
kmp_stub.cpp
kmp_stub.h
kmp_taskdeps.cpp
kmp_taskdeps.h
kmp_tasking.cpp
kmp_threadprivate.cpp
kmp_utility.cpp
kmp_version.cpp
kmp_version.h
kmp_wait_release.cpp
kmp_wait_release.h
kmp_wrapper_getpid.h
kmp_wrapper_malloc.h
ompt-event-specific.h
ompt-general.cpp
ompt-internal.h
ompt-specific.cpp
ompt-specific.h
test-touch.c
thirdparty/ittnotify/disable_warnings.h
thirdparty/ittnotify/ittnotify.h
thirdparty/ittnotify/ittnotify_config.h
thirdparty/ittnotify/ittnotify_static.cpp
thirdparty/ittnotify/ittnotify_static.h
thirdparty/ittnotify/ittnotify_types.h
thirdparty/ittnotify/legacy/ittnotify.h
tsan_annotations.cpp
tsan_annotations.h
z_Linux_util.cpp
z_Windows_NT-586_util.cpp
z_Windows_NT_util.cpp
/usr/include/alloca.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/dlfcn.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/limits.h
/usr/include/linux/limits.h
/usr/include/locale.h
/usr/include/malloc.h
/usr/include/math.h
/usr/include/nl_types.h
/usr/include/omp.h
/usr/include/pthread.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/wchar.h
kmp_itt.inl
/usr/include/endian.h
/usr/include/features.h
/usr/include/sched.h
/usr/include/strings.h
/usr/include/stdc-predef.h
